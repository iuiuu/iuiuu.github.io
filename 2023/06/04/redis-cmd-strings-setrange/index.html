<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Redis SETRANGE 命令 | Johnson Lin</title><meta name="author" content="Johnson Lin"><meta name="copyright" content="Johnson Lin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="Java,JVM,Spring,Spring Boot,Flink,Hadoop,Yarn,MySQL,Elasticsearch,Python,Kafka,Maven,Hbase,Kibana,Logstash,Tutorial,Technical Blogs,Data Structures,Algorithms,C,SQL,Data Science,Web Development,System Design,Interview Experience,Interview Preparation,Programming,Competitive Programming,Coding Contests,HTML,CSS,Computer Science,Programming Examples,Mathematics"><meta name="description" content="语法1SETRANGE key offset value  可用版本 ≥ 2.2.0 时间复杂度 $O(1)$  不包含复制新字符串的时间。通常情况下，这个字符串非常小，所以摊销后的复杂度是 $O(1)$。否则，复杂度是 $O(M)$，M 是字符串参数 value 的长度。 ACL类别 @write, @string, @slow 用字符串参数 value 覆盖存储在 key 上的字符串的一部分，">
<meta property="og:type" content="article">
<meta property="og:title" content="Redis SETRANGE 命令">
<meta property="og:url" content="http://linjiangxiong.com/2023/06/04/redis-cmd-strings-setrange/index.html">
<meta property="og:site_name" content="Johnson Lin">
<meta property="og:description" content="语法1SETRANGE key offset value  可用版本 ≥ 2.2.0 时间复杂度 $O(1)$  不包含复制新字符串的时间。通常情况下，这个字符串非常小，所以摊销后的复杂度是 $O(1)$。否则，复杂度是 $O(M)$，M 是字符串参数 value 的长度。 ACL类别 @write, @string, @slow 用字符串参数 value 覆盖存储在 key 上的字符串的一部分，">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://linjiangxiong.com/image/brand/redis.svg">
<meta property="article:published_time" content="2023-06-04T09:34:57.000Z">
<meta property="article:modified_time" content="2023-06-06T14:30:21.069Z">
<meta property="article:author" content="Johnson Lin">
<meta property="article:tag" content="Redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://linjiangxiong.com/image/brand/redis.svg"><link rel="shortcut icon" href="/image/IMG_3665.JPG"><link rel="canonical" href="http://linjiangxiong.com/2023/06/04/redis-cmd-strings-setrange/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;family=Source+Sans+3:wght@400;600&amp;display=swap"><link rel="stylesheet" href="/css/ud_v5.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca45da0012a3ce293c6ca4f7e5ebc3a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Redis SETRANGE 命令',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-06 22:30:21'
}</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/IMG_3665.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">305</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">55</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Johnson Lin</span></a><a class="nav-page-title" href="/"><span class="site-name">Redis SETRANGE 命令</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Redis SETRANGE 命令</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-06-04T09:34:57.000Z" title="Created 2023-06-04 17:34:57">2023-06-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-06-06T14:30:21.069Z" title="Updated 2023-06-06 22:30:21">2023-06-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Redis%E6%95%99%E7%A8%8B/">Redis教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SETRANGE key offset value</span><br></pre></td></tr></table></figure>

<p><strong>可用版本</strong></p>
<p>≥ 2.2.0</p>
<p><strong>时间复杂度</strong></p>
<p>$O(1)$ </p>
<p>不包含复制新字符串的时间。通常情况下，这个字符串非常小，所以摊销后的复杂度是 $O(1)$。否则，复杂度是 $O(M)$，M 是字符串参数 <code>value</code> 的长度。</p>
<p><strong>ACL类别</strong></p>
<p><strong><code>@write</code></strong>, <strong><code>@string</code></strong>, <strong><code>@slow</code></strong></p>
<p>用字符串参数 <code>value</code> 覆盖存储在 <code>key</code> 上的字符串的一部分，覆盖的位置从偏移量 <code>offset</code> 开始。</p>
<p>例如，存储在键 <code>user</code> 原来的字符串值为 <code>Johnson</code>，现在用字符串 <code>LIN</code> 替换该字符串值从偏移量 4 开始之后的所有字符，覆盖后最终的字符串值为 <code>JohnLIN</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;Johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET user</span><br><span class="line"><span class="string">&quot;Johnson&quot;</span></span><br><span class="line">redis&gt; SETRANGE user 4 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br><span class="line">redis&gt; GET user</span><br><span class="line"><span class="string">&quot;JohnLIN&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果偏移量 <code>offset</code> 大于存储在 <code>key</code> 上的字符串的长度，则用零字节（zero-bytes）进行填充该字符串以使偏移量合法。</p>
<p>例如，存储在键 <code>username</code> 上原来的字符串为 <code>JohnLIN</code>，现在通过 <code>SETRANGE</code> 命令，用字符串 <code>LIN</code> 替换该字符串从偏移量 10 开始之后的所有字符，但该字符串的长度只有 7，所以会先使用三个零字节（<code>\x00</code>）填充到该字符串的左侧，使字符串的长度变为 10，然后再用字符串 <code>LIN</code> 替换该字符串值从偏移量 10 开始之后的所有字符：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;JohnLIN&quot;</span></span><br><span class="line">redis&gt; SETRANGE username 10 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 13</span><br><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;JohnLIN\x00\x00\x00LIN&quot;</span></span><br></pre></td></tr></table></figure>

<p>不存在的键则被认为是空字符串，所以这个命令将确保它持有一个足够大的字符串，以便能够在偏移处设置值。如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis&gt; SETRANGE jk 2 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">redis&gt; GET jk</span><br><span class="line"><span class="string">&quot;\x00\x00LIN&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>我们可以设置的最大偏移量是 $2^{29} -1$（536870911），这是因为 Redis 字符串被限制在 512 兆字节。如果需要设置的偏移量超过这个大小，我们可以使用多个键。</p>
<p><strong>警告：</strong>当设置最后一个可能的字节，并且存储在 key 处的字符串值还没有持有字符串值，或者持有一个小的字符串值，Redis 需要分配所有的中间内存，这可能会阻塞服务器一段时间。在 2010 年的 MacBook Pro 上，设置字节号 536870911（512MB分配）大约需要 300ms，设置字节号 134217728（128MB分配）大约需要 80ms，设置位号 33554432（32MB分配）大约需要 30ms，设置位号 8388608（8MB分配）大约需要 8ms。请注意，一旦完成了第一次分配，以后对同一键的 <code>SETRANGE</code> 的调用将不会有分配的开销。</p>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a><strong><strong>返回值</strong></strong></h2><p>返回修改后的字符串长度。</p>
<p>（END）</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com">Johnson Lin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com/2023/06/04/redis-cmd-strings-setrange/">http://linjiangxiong.com/2023/06/04/redis-cmd-strings-setrange/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a></div><div class="post-share"><div class="social-share" data-image="/image/brand/redis.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/06/04/redis-cmd-strings-strlen/" title="Redis STRLEN 命令"><img class="cover" src="/image/brand/redis.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Redis STRLEN 命令</div></div><div class="info-2"><div class="info-item-1">语法1STRLEN key  可用版本 ≥ 2.2.0 时间复杂度 $O(1)$  ACL类别 @read, @string, @fast 返回存储在 key 处的字符串值的长度。当 key 存储的值不是字符串类型时，则返回错误。 返回值返回一个整数：  key 对应值的字符串长度； 如果 key 不存在，则返回 0。  示例 1返回键 user 存储的字符串的长度： 1234redis&gt; SET user &quot;JOHNSON LIN&quot;OKredis&gt; STRLEN user(integer) 11  示例 2键 nonexisting 不存在，STRLEN 操作返回 0： 1234redis&gt; EXISTS nonexisting(integer) 0redis&gt; STRLEN nonexisting(integer) 0  示例 3键 listkey 存储的值不是字符串类型，STRLEN 操作返回错误： 123456redis&gt; RPUSH listkey &quot;JOHNSON LIN&quot;(integer)...</div></div></div></a><a class="pagination-related" href="/2023/06/04/redis-cmd-strings-setnx/" title="Redis SETNX 命令"><img class="cover" src="/image/brand/redis.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Redis SETNX 命令</div></div><div class="info-2"><div class="info-item-1"> 从 Redis 2.6.12 版本开始，此命令被标记为已废弃。在迁移或编写新的代码时，可以使用带有 NX 参数的 SET 命令替代。  语法1SETNX key value  可用版本 ≥ 1.0.0 时间复杂度 $O(1)$  ACL类别 @write, @string, @fast 如果 key 不存在，则将 key 设置为保存字符串值。在这种情况下，它等于 SET。当 key 已经存在时，则不执行任何操作。  SETNX 是 “SET if Not eXists” 的缩写。 返回值返回一个整数：  如果 key 被成功设置，则返回 1； 如果 key 没被设置，则返回 0  示例123456redis&gt; SETNX john &quot;JOHNSON&quot;(integer) 1redis&gt; SETNX john &quot;JOHNSON LIN&quot;(integer) 0redis&gt; GET john&quot;JOHNSON&quot;  （END） </div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2019/09/03/redis-batch-delete/" title="Redis根据通配符批量删除Key"><img class="cover" src="https://i.loli.net/2021/07/19/4eRMmKi3gvOHFlf.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-03</div><div class="info-item-2">Redis根据通配符批量删除Key</div></div><div class="info-2"><div class="info-item-1">Redis 目前还不支持根据通配符批量删除 Key 的命令，但我们可以借助 Redis 的 del 命令、Linux 管道和 xargs 指令来完成。  Redis的 del 命令支持删除给定的一个或多个 key，并返回被删除 key 的数量。如命令 del key1 key2 key3。  比如要删除所有以 WxMpSessionKey 开头的 Key，可以使用如下命令： 12[redis@iztz9ploifbvce ~]# redis-cli -h 192.168.182.227 -p 1379 keys &quot;WxMpSessionKey*&quot; |xargs redis-cli -h 192.168.182.227 -p 1379 del(integer) 2674  如果连接 Redis 的 HOST 为 127.0.0.1，端口号也为默认的 6379，则以上的命令可以简写为： 1redis-cli keys &quot;WxMpSessionKey*&quot; |xargs redis-cli del      （END） </div></div></div></a><a class="pagination-related" href="/2019/12/19/spring-boot-2_x-redis/" title="Spring Boot 2.x 集成Redis示例"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2019-12-19</div><div class="info-item-2">Spring Boot 2.x 集成Redis示例</div></div><div class="info-2"><div class="info-item-1">一、如何集成首先，在 pom 文件新增 redis 依赖： 1234&lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;  接着修改项目配置文件 application.properties，增加 redis 配置 1234# redis hostspring.redis.host=172.24.58.226# redis portspring.redis.port=6379  经过上面简单的两步，即可在项目中使用 StringRedisTemplate 和 RedisTemplate&lt;Object,Object&gt;，因为从 Spring Boot 2.0 开始，Spring...</div></div></div></a><a class="pagination-related" href="/2022/08/25/flush-all-cache-data-in-redis/" title="【Redis】flushall命令——清空所有缓存数据"><img class="cover" src="/image/brand/redis.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-25</div><div class="info-item-2">【Redis】flushall命令——清空所有缓存数据</div></div><div class="info-2"><div class="info-item-1">如何清空 Redis 集群的所有缓存数据？即删除所有数据库的所有 key。  使用 Redis 的 flushall 命令。 该命令适用 Redis 版本：≥ 1.0.0 执行结果总是返回：OK。 NOTE：生产环境谨慎操作！！！除非你很清楚自己正在做什么！ 具体步骤如下：  在终端命令行窗口，输入连接 Redis 指令： 1redis-cli -h 192.168.182.227 -p 1379  参数说明： -h：Redis Host（连接地址，如果连接地址为 127.0.0.1，可忽略该参数）； -p：Redis Port（端口号，如果端口号为 6379，可忽略该参数）； -a：Redis 连接密码（如有密码的话，需要上该参数，如  -a 1234567890k）   连接成功后，输入 flushall 指令即可清空 Redis 所有缓存数据： 1flushall   示例： 123$ redis-cli -h 192.168.182.227 -p 1379192.168.182.227:1379&gt; flushallOK  （END） </div></div></div></a><a class="pagination-related" href="/2024/06/02/using-the-pfadd-command-in-redis/" title="Using the PFADD Command in Redis"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-02</div><div class="info-item-2">Using the PFADD Command in Redis</div></div><div class="info-2"><div class="info-item-1">Redis, an open-source, in-memory data structure store, offers a wide range of commands to manipulate data structures like strings, lists, sets, hashes, bitmaps, hyperloglogs, and more. Among these, the HyperLogLog data type is particularly useful for approximating the number of unique elements in a set when the set is too large to fit into memory or when you don’t need absolute accuracy. The PFADD command is one of the key operations for working with HyperLogLog in Redis. This guide will...</div></div></div></a><a class="pagination-related" href="/2024/07/29/a-set-of-best-practices-and-guidelines-for-using-redis-effectively/" title="A set of best practices and guidelines for using Redis effectively"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-29</div><div class="info-item-2">A set of best practices and guidelines for using Redis effectively</div></div><div class="info-2"><div class="info-item-1">In this article, I introduce you to 12 specifications in the areas of key-value pair usage, command usage, and data preservation, centered around the goals of high-performance access and saving memory space in Redis applications. Key-Value Pair Usage Specifications [Recommended] Use the business name as the KEY prefix, preferably using its abbreviation. This is done by prefixing the business name, then separating it with a colon(:), followed by the specific business data name. For example,...</div></div></div></a><a class="pagination-related" href="/2024/07/25/how-to-learn-redis-effectively/" title="How to learn Redis effectively?"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-25</div><div class="info-item-2">How to learn Redis effectively?</div></div><div class="info-2"><div class="info-item-1">Redis, an open-source, high-performance in-memory data structure store, is renowned for its speed, versatility, and simplicity. It has gained immense popularity and is widely utilized for caching, distributed locks, session management, real-time analytics, and more. Whether you’re a developer looking to expand your skills or an IT professional aiming to optimize data handling, mastering Redis can significantly enhance your proficiency. Here’s a comprehensive guide on how to learn Redis...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/IMG_3665.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Johnson Lin</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">305</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">55</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/iuiuu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuiuu" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:me@linjiangxiong.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">2.</span> <span class="toc-text">返回值</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/10/29/multiple-jobs-or-multiple-pipelines-in-one-job-in-flink/" title="Running Multiple Pipelines in Apache Flink: Separate Jobs vs. Single Job with Multiple Pipelines">Running Multiple Pipelines in Apache Flink: Separate Jobs vs. Single Job with Multiple Pipelines</a><time datetime="2024-10-28T23:10:18.000Z" title="Created 2024-10-29 07:10:18">2024-10-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/18/bulk-deleting-keys-in-redis-using-wildcards/" title="Bulk Deleting Keys in Redis Using Wildcards">Bulk Deleting Keys in Redis Using Wildcards</a><time datetime="2024-09-18T15:42:56.000Z" title="Created 2024-09-18 23:42:56">2024-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/11/analyzing-redis-source-code-hash/" title="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing"><img src="/image/redis-src/2024091101.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing"/></a><div class="content"><a class="title" href="/2024/09/11/analyzing-redis-source-code-hash/" title="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing">Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing</a><time datetime="2024-09-10T22:28:03.000Z" title="Created 2024-09-11 06:28:03">2024-09-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/10/analyzing-redis-source-code-sds/" title="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation"><img src="/image/redis-src/24091002.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation"/></a><div class="content"><a class="title" href="/2024/09/10/analyzing-redis-source-code-sds/" title="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation">Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation</a><time datetime="2024-09-09T17:13:55.000Z" title="Created 2024-09-10 01:13:55">2024-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/06/why-does-redis-use-the-sds-structure-for-strings-instead-of-char/" title="Why Does Redis Use the SDS Structure for Strings Instead of char*?">Why Does Redis Use the SDS Structure for Strings Instead of char*?</a><time datetime="2024-09-05T16:01:26.000Z" title="Created 2024-09-06 00:01:26">2024-09-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Johnson Lin</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/main.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>