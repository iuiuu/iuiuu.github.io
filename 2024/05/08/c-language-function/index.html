<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Functions in C Language | Johnson Lin</title><meta name="author" content="Johnson Lin"><meta name="copyright" content="Johnson Lin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="Java,JVM,Spring,Spring Boot,Flink,Hadoop,Yarn,MySQL,Elasticsearch,Python,Kafka,Maven,Hbase,Kibana,Logstash,Tutorial,Technical Blogs,Data Structures,Algorithms,C,SQL,Data Science,Web Development,System Design,Interview Experience,Interview Preparation,Programming,Competitive Programming,Coding Contests,HTML,CSS,Computer Science,Programming Examples,Mathematics"><meta name="description" content="OverviewA function is a reusable block of code that can accept different parameters and perform specific tasks. Here’s an example of a function: 123int plus_one(int n) &#123;  return n + 1;&#125; This">
<meta property="og:type" content="article">
<meta property="og:title" content="Functions in C Language">
<meta property="og:url" content="http://linjiangxiong.com/2024/05/08/c-language-function/index.html">
<meta property="og:site_name" content="Johnson Lin">
<meta property="og:description" content="OverviewA function is a reusable block of code that can accept different parameters and perform specific tasks. Here’s an example of a function: 123int plus_one(int n) &#123;  return n + 1;&#125; This">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://linjiangxiong.com/image/IMG_3665.JPG">
<meta property="article:published_time" content="2024-05-07T16:03:58.000Z">
<meta property="article:modified_time" content="2024-09-18T16:18:56.748Z">
<meta property="article:author" content="Johnson Lin">
<meta property="article:tag" content="C Programming Language">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://linjiangxiong.com/image/IMG_3665.JPG"><link rel="shortcut icon" href="/image/IMG_3665.JPG"><link rel="canonical" href="http://linjiangxiong.com/2024/05/08/c-language-function/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;family=Source+Sans+3:wght@400;600&amp;display=swap"><link rel="stylesheet" href="/css/ud_v5.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca45da0012a3ce293c6ca4f7e5ebc3a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Functions in C Language',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-19 00:18:56'
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/IMG_3665.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">317</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">24</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Johnson Lin</span></a><a class="nav-page-title" href="/"><span class="site-name">Functions in C Language</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Functions in C Language</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-05-07T16:03:58.000Z" title="Created 2024-05-08 00:03:58">2024-05-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-09-18T16:18:56.748Z" title="Updated 2024-09-19 00:18:56">2024-09-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-Tutorial/">C Tutorial</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>A function is a reusable block of code that can accept different parameters and perform specific tasks. Here’s an example of a function:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This code declares a function named <code>plus_one()</code>.</p>
<p><strong>Key Points of Function Declarations:</strong></p>
<ol>
<li><strong>Return Type</strong>: Specify the return type at the start of the declaration. In the example, <code>int</code> indicates the function returns an integer.</li>
<li><strong>Parameters</strong>: Declare the types and names of parameters in parentheses following the function name. <code>plus_one(int n)</code> means the function takes one integer parameter, <code>n</code>.</li>
<li><strong>Function Body</strong>: The body of the function is enclosed in braces <code>&#123;&#125;</code>. No semicolon is needed after the closing brace. Braces can start on the same line or a new line; this book uses the same line.</li>
<li><strong>Return Statement</strong>: The <code>return</code> statement specifies the function’s return value and exits the function. If the function does not return a value, you can omit the <code>return</code> statement or use <code>return;</code>.</li>
</ol>
<p>To call a function, write its name followed by parentheses containing the actual arguments:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = plus_one(<span class="number">13</span>);</span><br><span class="line"><span class="comment">// a is 14</span></span><br></pre></td></tr></table></figure>
<p>The number of arguments in the function call must match the function’s declaration. Too many or too few arguments will cause an error.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">plus_one(<span class="number">2</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br><span class="line">plus_one();     <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>
<p>In the above example, <code>plus_one()</code> only accepts one argument. Passing two or no arguments will cause an error.</p>
<p>A function must be declared before it is used:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = plus_one(<span class="number">13</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the above example, the function <code>plus_one()</code> is used before it is declared, leading to a compilation error.</p>
<p>The C standard specifies that functions must be declared at the top level of the source file and cannot be declared inside other functions.</p>
<p>For functions that do not return a value, use the <code>void</code> keyword:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">myFunc</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>myFunc()</code> function neither returns a value nor requires parameters.</p>
<p>Functions can call themselves, a technique known as recursion. Here is an example with the Fibonacci sequence:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="title function_">Fibonacci</span><span class="params">(<span class="type">unsigned</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> Fibonacci(n - <span class="number">1</span>) + Fibonacci(n - <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, <code>Fibonacci()</code> calls itself, simplifying the algorithm.</p>
<h2 id="main-Function"><a href="#main-Function" class="headerlink" title="main() Function"></a>main() Function</h2><p>In C, <code>main()</code> is the entry point of the program and is required for every program. Execution starts here. Other functions are invoked through <code>main()</code>.</p>
<p>The <code>main()</code> function is declared like other functions, specifying the return type and parameters:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>return 0;</code> statement indicates the function ends successfully. A return value of 0 signifies success, while a non-zero value indicates an error. The return value of <code>main()</code> determines the program’s success.</p>
<p>If <code>return 0;</code> is omitted, the compiler adds it by default, making the following equivalent:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Since the compiler only defaults the return value for <code>main()</code>, it’s recommended to always include the <code>return</code> statement for consistency.</p>
<h2 id="Passing-Parameters-by-Value"><a href="#Passing-Parameters-by-Value" class="headerlink" title="Passing Parameters by Value"></a>Passing Parameters by Value</h2><p>When a function parameter is a variable, the value passed into the function is a copy of that variable, not the variable itself.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  a++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">increment(i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>In this example, after calling <code>increment(i)</code>, the variable <code>i</code> remains unchanged, still equal to 10. This is because what is passed to the function is a copy of <code>i</code>, not <code>i</code> itself. Changes to the copy do not affect the original variable. This is known as “pass by value.”</p>
<p>To modify the variable, you should return the new value:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  a++;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">i = increment(i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i); <span class="comment">// 11</span></span><br></pre></td></tr></table></figure>
<p>In this revised example, the function <code>increment</code> returns the incremented value, and <code>i</code> is updated with the returned value.</p>
<p><strong>Swapping Values</strong></p>
<p>Consider the <code>Swap()</code> function that aims to swap two variables’ values. Due to pass-by-value, the following approach won’t work:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">  <span class="type">int</span> temp;</span><br><span class="line">  temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">Swap(a, b); <span class="comment">// Ineffective</span></span><br></pre></td></tr></table></figure>
<p>This code does not swap the values of <code>a</code> and <code>b</code> because the function receives copies of <code>a</code> and <code>b</code>. Changes within the function do not affect the original variables.</p>
<p>To modify the original variables, pass their addresses instead:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(<span class="type">int</span>* x, <span class="type">int</span>* y)</span> &#123;</span><br><span class="line">  <span class="type">int</span> temp;</span><br><span class="line">  temp = *x;</span><br><span class="line">  *x = *y;</span><br><span class="line">  *y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">Swap(&amp;a, &amp;b);</span><br></pre></td></tr></table></figure>
<p>By passing the addresses of <code>a</code> and <code>b</code>, the function can directly modify the original variables.</p>
<p><strong>Note</strong> that functions should not return pointers to internal variables.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">f</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> &amp;i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the example above, the function returns a pointer to the internal variable <code>i</code>, which is incorrect. When the function finishes execution, the internal variable disappears, making the pointer to <code>i</code> invalid. Using this address afterward is very dangerous.</p>
<h2 id="Function-Pointers"><a href="#Function-Pointers" class="headerlink" title="Function Pointers"></a>Function Pointers</h2><p><strong>Returning Function Pointers</strong></p>
<p>Functions are essentially blocks of code stored in memory, and C allows functions to be accessed through pointers.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = &amp;print;</span><br></pre></td></tr></table></figure>
<p>Here, <code>print_ptr</code> is a function pointer that points to the <code>print</code> function. You can use <code>&amp;print</code> to get the function’s address, but <code>print</code> alone is sufficient.</p>
<p>You can call the function through the pointer like this:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(*print_ptr)(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line">print(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>In C, the function name itself acts as a pointer to the function, so <code>print</code> and <code>&amp;print</code> are equivalent.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (print == &amp;print) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>Therefore, <code>print_ptr</code> is effectively the same as <code>print</code>:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = &amp;print;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (print_ptr == print) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>You can call a function using any of these five methods:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Method 1</span></span><br><span class="line">print(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 2</span></span><br><span class="line">(*print)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 3</span></span><br><span class="line">(&amp;print)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 4</span></span><br><span class="line">(*print_ptr)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 5</span></span><br><span class="line">print_ptr(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>Typically, function names are used without <code>*</code> and <code>&amp;</code> for simplicity.</p>
<p><strong>Function Pointers as Parameters</strong></p>
<p>A function’s parameters or return values can also be functions. This is how you declare such functions:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">compute</span><span class="params">(<span class="type">int</span> (*myfunc)(<span class="type">int</span>), <span class="type">int</span>, <span class="type">int</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>This prototype indicates that <code>compute()</code>‘s first parameter is a function.</p>
<h2 id="Function-Prototypes"><a href="#Function-Prototypes" class="headerlink" title="Function Prototypes"></a>Function Prototypes</h2><p>As mentioned earlier, functions must be declared before they are used. Since the <code>main()</code> function is executed first in a program, all other functions must be declared before it. </p>
<p>Here is an example:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">func1</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">func2</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  func1();</span><br><span class="line">  func2();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the code above, the <code>main()</code> function must be declared last. If not, the compiler will issue a warning because it won’t find the declarations for <code>func1()</code> or <code>func2()</code>.</p>
<p>However, since <code>main()</code> is the entry point of the program and contains the main logic, it is often better to place it at the beginning. On the other hand, with many functions, ensuring the correct order can become cumbersome.</p>
<p>To address this, C provides a solution: you can declare function prototypes at the beginning of the program, allowing you to use the functions before defining them. A function prototype tells the compiler the return type and parameter types of the function in advance. You don’t need to include the function body; the actual implementation can come later.</p>
<p>Here’s an example:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> num = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">return</span> twice(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> * num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, the function <code>twice()</code> is defined after <code>main()</code>, but because the prototype is provided at the top, the code compiles correctly. As long as you provide the prototype in advance, the placement of the function definition is flexible.</p>
<p>Function prototypes may also include parameter names, which can help readers understand the function’s purpose, although the compiler does not require them:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span> num)</span>;</span><br></pre></td></tr></table></figure>
<p>In this example, whether or not the parameter name <code>num</code> appears in the prototype is optional.</p>
<p>Note that function prototypes must end with a semicolon.</p>
<p>Typically, the top of each source file contains the prototypes for all the functions used in that file.</p>
<h2 id="exit"><a href="#exit" class="headerlink" title="exit()"></a><code>exit()</code></h2><p>The <code>exit()</code> function is used to terminate a program immediately. Once this function is called, the program ends right away. The prototype of <code>exit()</code> is defined in the header file <code>stdlib.h</code>.</p>
<p>The <code>exit()</code> function can return a value to the operating system. The argument passed to <code>exit()</code> represents the program’s return status. Generally, two constants are used as arguments: <code>EXIT_SUCCESS</code> (equivalent to 0) indicates successful execution, while <code>EXIT_FAILURE</code> (equivalent to 1) indicates an abnormal termination. Both constants are defined in <code>stdlib.h</code>.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Successful execution</span></span><br><span class="line"><span class="comment">// Equivalent to exit(0);</span></span><br><span class="line"><span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Abnormal termination</span></span><br><span class="line"><span class="comment">// Equivalent to exit(1);</span></span><br><span class="line"><span class="built_in">exit</span>(EXIT_FAILURE);</span><br></pre></td></tr></table></figure>
<p>In the <code>main()</code> function, <code>exit()</code> is equivalent to using the <code>return</code> statement. When used in other functions, <code>exit()</code> terminates the entire program and has no other effects.</p>
<p>C also provides the <code>atexit()</code> function, which registers additional functions to be executed when <code>exit()</code> is called. This can be used for cleanup tasks when the program terminates. The prototype of <code>atexit()</code> is also defined in <code>stdlib.h</code>.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">atexit</span><span class="params">(<span class="type">void</span> (*func)(<span class="type">void</span>))</span>;</span><br></pre></td></tr></table></figure>
<p>The parameter to <code>atexit()</code> is a function pointer. Note that the function pointed to (in the example, <code>print</code>) must not take parameters and must not return a value.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;something went wrong!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">atexit(print);</span><br><span class="line"><span class="built_in">exit</span>(EXIT_FAILURE);</span><br></pre></td></tr></table></figure>
<p>In the example above, when <code>exit()</code> is called, the <code>print()</code> function registered with <code>atexit()</code> will be executed first, followed by the termination of the program.</p>
<h2 id="Function-Specifiers-in-C"><a href="#Function-Specifiers-in-C" class="headerlink" title="Function Specifiers in C"></a>Function Specifiers in C</h2><p>C provides several function specifiers that help clarify how functions are used.</p>
<h3 id="extern-Specifier"><a href="#extern-Specifier" class="headerlink" title="extern Specifier"></a><code>extern</code> Specifier</h3><p>In multi-file projects, source files often use functions declared in other files. In such cases, the current file needs to provide the function prototype and use the <code>extern</code> specifier to indicate that the function definition is in another file.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="type">int</span> <span class="title function_">foo</span><span class="params">(<span class="type">int</span> arg1, <span class="type">char</span> arg2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> a = foo(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, <code>foo()</code> is defined in another file, and <code>extern</code> tells the compiler that this file does not contain the definition of <code>foo()</code>.</p>
<p>However, because function prototypes are <code>extern</code> by default, including <code>extern</code> is optional and does not change the behavior.</p>
<h3 id="static-Specifier"><a href="#static-Specifier" class="headerlink" title="static Specifier"></a><code>static</code> Specifier</h3><p>By default, each time a function is called, its internal variables are reinitialized, and their previous values are not retained. The <code>static</code> specifier changes this behavior.</p>
<p>When used inside a function to declare a variable, <code>static</code> ensures that the variable is initialized only once and retains its value between function calls.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">counter</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> count = <span class="number">1</span>;  <span class="comment">// Initialized only once</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, count);</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  counter();  <span class="comment">// 1</span></span><br><span class="line">  counter();  <span class="comment">// 2</span></span><br><span class="line">  counter();  <span class="comment">// 3</span></span><br><span class="line">  counter();  <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, the <code>count</code> variable in the <code>counter()</code> function is declared with <code>static</code>, meaning it is initialized only once and retains its value across calls, resulting in an incrementing effect.</p>
<p>Note that <code>static</code> variables can only be initialized with constants, not variables.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> j = i; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>
<p>In the above example, <code>j</code> is a static variable, and it cannot be initialized with another variable <code>i</code>.</p>
<p>Additionally, within block scope, <code>static</code> variables have a default value of <code>0</code>.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> foo;</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> foo = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>The <code>static</code> specifier can also be used to modify functions themselves.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">Twice</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">  <span class="type">int</span> result = num * <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here, <code>static</code> means that the function <code>Twice()</code> is only accessible within the current file. Without <code>static</code>, other files could also use this function (by declaring its prototype).</p>
<p><code>static</code> can also be used with parameters to specify array sizes.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> a[<span class="type">static</span> <span class="number">3</span>], <span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this case, <code>static</code> indicates to the compiler that the array must have at least 3 elements. This information can sometimes improve performance. Note that <code>static</code> can only specify the size of the first dimension in multi-dimensional arrays.</p>
<h3 id="const-Specifier"><a href="#const-Specifier" class="headerlink" title="const Specifier"></a><code>const</code> Specifier</h3><p>The <code>const</code> specifier in function parameters indicates that the function should not modify the variable pointed to by the parameter.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here, <code>f()</code> takes a pointer <code>p</code>, which can modify the value pointed to by <code>p</code>, affecting the outside world.</p>
<p>To prevent this modification, you can use <code>const</code> to indicate that the function cannot alter the value pointed to by the pointer.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  *p = <span class="number">0</span>; <span class="comment">// Error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, <code>const</code> specifies that the value pointed to by <code>p</code> cannot be modified, so <code>*p = 0</code> will produce an error.</p>
<p>However, the address stored in <code>p</code> itself can still be changed.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x = <span class="number">13</span>;</span><br><span class="line">  p = &amp;x; <span class="comment">// Allowed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this case, modifying <code>p</code> is allowed, but modifying <code>*p</code> is not.</p>
<p>If you want to restrict modifications to <code>p</code>, place the <code>const</code> keyword before <code>p</code>. </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span>* <span class="type">const</span> p)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x = <span class="number">13</span>;</span><br><span class="line">  p = &amp;x; <span class="comment">// This line will cause an error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To prevent modification of both <code>p</code> and the value it points to, use <code>const</code> in both places.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> p)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this declaration, <code>const</code> applies to both the pointer <code>p</code> and the value it points to.</p>
<h2 id="Variable-Arguments"><a href="#Variable-Arguments" class="headerlink" title="Variable Arguments"></a>Variable Arguments</h2><p>Some functions have an indeterminate number of parameters. When declaring such functions, you can use ellipses (<code>...</code>) to indicate a variable number of arguments.</p>
<p>For example, the <code>printf()</code> function is declared as:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">printf</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* format, ...)</span>;</span><br></pre></td></tr></table></figure>
<p>In this prototype, the number of arguments following the first one is variable and depends on the format string’s placeholders. The ellipses (<code>...</code>) indicate this variability.</p>
<p>Note that the ellipses must appear at the end of the parameter list; otherwise, it will cause an error.</p>
<p>The header file <code>stdarg.h</code> defines macros for handling variable arguments:</p>
<ol>
<li><strong>va_list</strong>: A type used to define a variable argument object. It must be initialized before accessing variable arguments.</li>
<li><strong>va_start</strong>: A function that initializes the variable argument object. It takes two parameters: the variable argument object and the last fixed parameter before the variable arguments to locate them.</li>
<li><strong>va_arg</strong>: A function used to retrieve the current variable argument. After each call, it advances the internal pointer to the next argument. It takes two parameters: the variable argument object and the type of the current argument.</li>
<li><strong>va_end</strong>: A function that cleans up the variable argument object.</li>
</ol>
<p>Here’s an example:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="title function_">average</span><span class="params">(<span class="type">int</span> count, ...)</span> &#123;</span><br><span class="line">  <span class="type">double</span> total = <span class="number">0</span>;</span><br><span class="line">  va_list ap;</span><br><span class="line">  va_start(ap, count);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; count; ++i) &#123;</span><br><span class="line">    total += va_arg(ap, <span class="type">double</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  va_end(ap);</span><br><span class="line">  <span class="keyword">return</span> total / count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example, <code>va_list ap</code> defines <code>ap</code> as the variable argument object. <code>va_start(ap, count)</code> initializes <code>ap</code> to access the arguments following <code>count</code>. <code>va_arg(ap, double)</code> retrieves each argument as a <code>double</code>, and <code>va_end(ap)</code> cleans up the variable argument object.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com">Johnson Lin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com/2024/05/08/c-language-function/">http://linjiangxiong.com/2024/05/08/c-language-function/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-Programming-Language/">C Programming Language</a></div><div class="post-share"><div class="social-share" data-image="/image/IMG_3665.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/05/09/c-language-array/" title="Array in C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Array in C Language</div></div><div class="info-2"><div class="info-item-1">IntroductionAn array is a collection of values of the same type stored in a sequential manner. Arrays are represented by a variable name followed by square brackets, with the number inside the brackets indicating the number of elements in the array. 1int scores[100]; In this example, an array named scores is declared with 100 elements, each of which is of type int. Note: When declaring an array, you must specify its size. Array elements are indexed starting from 0. Thus, in an array...</div></div></div></a><a class="pagination-related" href="/2024/05/07/c-language-pointer/" title="Pointer in C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Pointer in C Language</div></div><div class="info-2"><div class="info-item-1">Pointers are one of the most important and challenging concepts in the C programming language. OverviewWhat is a pointer? In essence, it’s a value representing a memory address, acting as a signpost to a specific location in memory. The asterisk * represents a pointer and is usually placed after the type keyword to indicate what type of value the pointer is referencing. For example, char* is a pointer to a character, and float* is a pointer to a float. 1int* intPtr; The above example...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/05/01/introduction-to-the-c-language/" title="Introduction to the C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-01</div><div class="info-item-2">Introduction to the C Language</div></div><div class="info-2"><div class="info-item-1">HistoryThe C programming language was originally invented as a tool for developing the Unix operating system. In 1969, Ken Thompson and Dennis Ritchie at Bell Labs in the United States developed the Unix operating system. Unix was initially written in assembly language, making it difficult to port to other computers. To address this, they decided to rewrite it in a high-level language. However, existing high-level languages at the time did not meet their needs, so Thompson developed the B...</div></div></div></a><a class="pagination-related" href="/2024/05/02/basic-c-language-syntax/" title="Basic C Language Syntax"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-02</div><div class="info-item-2">Basic C Language Syntax</div></div><div class="info-2"><div class="info-item-1">StatementsC code is composed of statements. A statement is a command that the program executes. In C, each statement must end with a semicolon, unless specified otherwise. 1int x = 1; The above is a variable declaration statement, where the integer variable x is declared and assigned a value of 1. Multiple statements can be written on a single line: 1int x; x = 1; Here, two statements are written on one line. Line breaks between statements aren’t required but are often used for...</div></div></div></a><a class="pagination-related" href="/2024/05/03/c-language-variables/" title="Understanding Variables in C Programming"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-03</div><div class="info-item-2">Understanding Variables in C Programming</div></div><div class="info-2"><div class="info-item-1"> A variable can be understood as the name of a memory location. By using the variable name, you can reference this memory and access the stored value. The value might change, which is why it’s called a variable. If the value remains constant, it’s referred to as a constant. Variable NamesIn C, variable names are considered identifiers, and there are strict rules for naming them:  They can only contain letters (both uppercase and lowercase), digits, and underscores (_). They cannot begin with...</div></div></div></a><a class="pagination-related" href="/2024/05/06/c-language-types/" title="Types in C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-06</div><div class="info-item-2">Types in C Language</div></div><div class="info-2"><div class="info-item-1">In C, every piece of data has a type that the compiler must understand to properly operate on it. The “type” refers to the shared characteristics of similar data, allowing you to know its properties and operations once its type is known. There are three basic data types: char (character), int (integer), and float (floating-point). More complex types are built from these. Character TypeThe character type represents a single character and is declared with the char keyword. 1char c =...</div></div></div></a><a class="pagination-related" href="/2024/05/04/c-language-operator/" title="Operators in C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-04</div><div class="info-item-2">Operators in C Language</div></div><div class="info-2"><div class="info-item-1">C language includes a wide variety of operators, more than 50 in total, which can be categorized into several types. Arithmetic OperatorsArithmetic operators are used for mathematical operations. The main ones are as follows:  +: Unary plus (positive sign)   -: Unary minus (negative sign)   +: Addition (binary operator)   -: Subtraction (binary operator)   *: Multiplication   /: Division   %: Modulus (remainder of division)   Unary + and -:The + and - can act as unary operators, requiring...</div></div></div></a><a class="pagination-related" href="/2024/05/05/c-language-flow-control/" title="Flow Control in C Language"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-05</div><div class="info-item-2">Flow Control in C Language</div></div><div class="info-2"><div class="info-item-1">In C programming, execution is sequential, meaning statements are executed one after the other. To control the flow of execution, developers use flow control structures, primarily conditional and loop statements. if StatementThe if statement is used for conditional execution; it executes a specified statement if the condition is true. Syntax: 1if (expression) statement Here, expression must be true (non-zero) for statement to execute. The condition inside the parentheses must be enclosed in...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/IMG_3665.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Johnson Lin</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">317</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/iuiuu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuiuu" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:me@linjiangxiong.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Overview"><span class="toc-number">1.</span> <span class="toc-text">Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main-Function"><span class="toc-number">2.</span> <span class="toc-text">main() Function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing-Parameters-by-Value"><span class="toc-number">3.</span> <span class="toc-text">Passing Parameters by Value</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-Pointers"><span class="toc-number">4.</span> <span class="toc-text">Function Pointers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-Prototypes"><span class="toc-number">5.</span> <span class="toc-text">Function Prototypes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#exit"><span class="toc-number">6.</span> <span class="toc-text">exit()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-Specifiers-in-C"><span class="toc-number">7.</span> <span class="toc-text">Function Specifiers in C</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#extern-Specifier"><span class="toc-number">7.1.</span> <span class="toc-text">extern Specifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#static-Specifier"><span class="toc-number">7.2.</span> <span class="toc-text">static Specifier</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const-Specifier"><span class="toc-number">7.3.</span> <span class="toc-text">const Specifier</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Variable-Arguments"><span class="toc-number">8.</span> <span class="toc-text">Variable Arguments</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/10/how-to-install-node-js-latest-long-term-support-version-on-ubuntu-22-04/" title="How to Install Node JS Latest Long-Term Support Version on Ubuntu 22.04?">How to Install Node JS Latest Long-Term Support Version on Ubuntu 22.04?</a><time datetime="2024-11-09T16:59:45.000Z" title="Created 2024-11-10 00:59:45">2024-11-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/09/redis-hyperloglog-pfselftest-command/" title="Redis HyperLogLog PFSELFTEST Command">Redis HyperLogLog PFSELFTEST Command</a><time datetime="2024-11-08T16:21:37.000Z" title="Created 2024-11-09 00:21:37">2024-11-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/09/redis-hyperloglog-pfdebug-command/" title="Redis HyperLogLog PFDEBUG Command">Redis HyperLogLog PFDEBUG Command</a><time datetime="2024-11-08T16:15:19.000Z" title="Created 2024-11-09 00:15:19">2024-11-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/08/redis-hyperloglog-pfmerge-command/" title="Redis HyperLogLog PFMERGE Command">Redis HyperLogLog PFMERGE Command</a><time datetime="2024-11-07T19:43:14.000Z" title="Created 2024-11-08 03:43:14">2024-11-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/07/how-to-install-redis-on-ubuntu-using-the-apt-command/" title="How to Install Redis on Ubuntu Using the APT Command">How to Install Redis on Ubuntu Using the APT Command</a><time datetime="2024-11-06T22:55:20.000Z" title="Created 2024-11-07 06:55:20">2024-11-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Johnson Lin</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/main.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>