<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm | Johnson Lin</title><meta name="author" content="Johnson Lin"><meta name="copyright" content="Johnson Lin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="keywords" content="Java,JVM,Spring,Spring Boot,Flink,Hadoop,Yarn,MySQL,Elasticsearch,Python,Kafka,Maven,Hbase,Kibana,Logstash,Tutorial,Technical Blogs,Data Structures,Algorithms,C,SQL,Data Science,Web Development,System Design,Interview Experience,Interview Preparation,Programming,Competitive Programming,Coding Contests,HTML,CSS,Computer Science,Programming Examples,Mathematics"><meta name="description" content="This article provides a comprehensive guide on how to fix the “Shadows name from outer scope” warning in PyCharm. It explains the issue, why it’s problematic, and offers multiple solutions with code">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm">
<meta property="og:url" content="http://linjiangxiong.com/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/index.html">
<meta property="og:site_name" content="Johnson Lin">
<meta property="og:description" content="This article provides a comprehensive guide on how to fix the “Shadows name from outer scope” warning in PyCharm. It explains the issue, why it’s problematic, and offers multiple solutions with code">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://linjiangxiong.com/image/IMG_3665.JPG">
<meta property="article:published_time" content="2024-08-27T18:34:59.000Z">
<meta property="article:modified_time" content="2024-08-30T16:58:55.011Z">
<meta property="article:author" content="Johnson Lin">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="HowTo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://linjiangxiong.com/image/IMG_3665.JPG"><link rel="shortcut icon" href="/image/IMG_3665.JPG"><link rel="canonical" href="http://linjiangxiong.com/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;family=Source+Sans+3:wght@400;600&amp;display=swap"><link rel="stylesheet" href="/css/ud_v5.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca45da0012a3ce293c6ca4f7e5ebc3a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc');
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'How to Fix the "Shadows name from outer scope" Warning in PyCharm',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-31 00:58:55'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/image/IMG_3665.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">294</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">55</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Johnson Lin"><span class="site-name">Johnson Lin</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-08-27T18:34:59.000Z" title="Created 2024-08-28 02:34:59">2024-08-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-08-30T16:58:55.011Z" title="Updated 2024-08-31 00:58:55">2024-08-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming-Digest/">Programming Digest</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><blockquote>
<p>This article provides a comprehensive guide on how to fix the “Shadows name from outer scope” warning in PyCharm. It explains the issue, why it’s problematic, and offers multiple solutions with code examples. The article also includes best practices to avoid name shadowing in the future. This information should be helpful for Python developers using PyCharm who encounter this warning and want to improve their code quality.</p>
</blockquote>
<p>If you’re a Python developer using PyCharm, you may have encountered the “Shadows name from outer scope” warning. This article will explain what this warning means and how to fix it, improving your code quality and readability.</p>
<h2 id="What-Does-“Shadows-name-from-outer-scope”-Mean"><a href="#What-Does-“Shadows-name-from-outer-scope”-Mean" class="headerlink" title="What Does “Shadows name from outer scope” Mean?"></a>What Does “Shadows name from outer scope” Mean?</h2><p>The “Shadows name from outer scope” warning occurs when you define a variable inside a function or class that has the same name as a variable in the outer scope. This can lead to confusion and potential bugs, as the inner variable “shadows” or hides the outer one.</p>
<p>Let’s look at the following code snippet as an example:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>As you can see, we define <code>access_token</code> in the global scope on the first line, and then reuse the same name in the <code>list_tag</code> function. In PyCharm, using the same name inside and outside a function is called “shadowing,” which triggers the warning “Shadows name ‘access_token’ from outer scope”. This is just a warning and won’t prevent the code from running.</p>
<p>While this example works fine, consistently ignoring such warnings could lead to unexpected behavior in the future.</p>
<p>Imagine the <code>list_tag</code> function becomes more complex with multiple parameters and internal logic. You decide to manually rename <code>access_token</code> to <code>token</code> within the function, but miss a few instances.</p>
<p>If you run this code again, it might appear to work, but the final result could be odd. This is because <code>access_token</code> now refers to the global object, while <code>token</code> refers to the local object. They’re different, but you’re mixing them up within the function.</p>
<p>To avoid such issues, it’s best to address the warning by using distinct names for variables in different scopes, or by explicitly using the <code>global</code> keyword when you intend to modify the global variable within a function.</p>
<h2 id="Why-Is-This-a-Problem"><a href="#Why-Is-This-a-Problem" class="headerlink" title="Why Is This a Problem?"></a>Why Is This a Problem?</h2><ol>
<li><strong>Readability</strong>: It can make your code harder to understand, as it’s not immediately clear which variable is being referenced.</li>
<li><strong>Maintainability</strong>: It can lead to errors if you or another developer mistakenly assume you’re using the outer variable.</li>
<li><strong>Unexpected behavior</strong>: The code might not behave as intended if you’re unknowingly using the inner variable instead of the outer one.</li>
</ol>
<h2 id="How-to-Fix-the-Warning"><a href="#How-to-Fix-the-Warning" class="headerlink" title="How to Fix the Warning"></a>How to Fix the Warning</h2><p>Now that we understand the reason behind this warning, the solution is straightforward: <strong>avoid reusing the same name in different scopes of your code.</strong></p>
<p>This approach offers two key benefits:</p>
<ol>
<li>It reduces the likelihood of unexpected behavior in your code.</li>
<li>It simplifies debugging, as Python will raise a <code>NameError</code> if it can’t find either a global or local name.</li>
</ol>
<p>Here are some practical ways to resolve the “Shadows name from outer scope” warning:</p>
<h3 id="1-Rename-the-Inner-Variable"><a href="#1-Rename-the-Inner-Variable" class="headerlink" title="1. Rename the Inner Variable"></a>1. Rename the Inner Variable</h3><p>The simplest solution is to give the inner variable a different name:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">local_token</span>): <span class="comment"># Changed from access_token to local_token</span></span><br><span class="line">    <span class="built_in">print</span>(local_token)</span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>Alternatively, you can move the global variable into another function like this:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>):</span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>Note that if your code structure looks like this:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br></pre></td></tr></table></figure>
<p>You’ll still get the warning “Shadows name ‘access_token’ from outer scope”.</p>
<p>This happens because <code>access_token</code> is defined as a global variable within the <code>if</code> block. The <code>if __name__ == &#39;__main__&#39;:</code> is a Python idiom used to determine if a module is being run directly as a script, but it’s not a function. Therefore, variables defined within it are still considered global.</p>
<h3 id="2-Use-a-More-Descriptive-Name"><a href="#2-Use-a-More-Descriptive-Name" class="headerlink" title="2. Use a More Descriptive Name"></a>2. Use a More Descriptive Name</h3><p>Often, using a more descriptive name can not only fix the warning but also improve code clarity:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_items</span>(<span class="params">items</span>):</span><br><span class="line">    processed_count = <span class="number">0</span>  <span class="comment"># More descriptive than just &#x27;count&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="comment"># Process item</span></span><br><span class="line">        processed_count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> processed_count</span><br></pre></td></tr></table></figure>
<h3 id="3-Use-the-global-Keyword"><a href="#3-Use-the-global-Keyword" class="headerlink" title="3. Use the global Keyword"></a>3. Use the <code>global</code> Keyword</h3><p>If you intend to modify the outer variable within the function, use the <code>global</code> keyword:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_to_total</span>(<span class="params">value</span>):</span><br><span class="line">    <span class="keyword">global</span> total</span><br><span class="line">    total += value</span><br></pre></td></tr></table></figure>
<p>Note: Use <code>global</code> sparingly, as it can make code harder to understand and maintain.</p>
<h3 id="4-Pass-the-Outer-Variable-as-an-Argument"><a href="#4-Pass-the-Outer-Variable-as-an-Argument" class="headerlink" title="4. Pass the Outer Variable as an Argument"></a>4. Pass the Outer Variable as an Argument</h3><p>Instead of accessing the outer variable directly, pass it as an argument:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">config = &#123;<span class="string">&#x27;debug&#x27;</span>: <span class="literal">True</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_message</span>(<span class="params">message, config_param</span>):</span><br><span class="line">    <span class="keyword">if</span> config_param[<span class="string">&#x27;debug&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(message)</span><br><span class="line"></span><br><span class="line">log_message(<span class="string">&quot;Debug info&quot;</span>, config)</span><br></pre></td></tr></table></figure>
<h3 id="5-Use-a-Class-to-Encapsulate-State"><a href="#5-Use-a-Class-to-Encapsulate-State" class="headerlink" title="5. Use a Class to Encapsulate State"></a>5. Use a Class to Encapsulate State</h3><p>For more complex scenarios, consider using a class to manage state:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">increment</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">counter = Counter()</span><br><span class="line">counter.increment()</span><br><span class="line"><span class="built_in">print</span>(counter.count)  <span class="comment"># Outputs: 1</span></span><br></pre></td></tr></table></figure>

<h2 id="Best-Practices-to-Avoid-Name-Shadowing"><a href="#Best-Practices-to-Avoid-Name-Shadowing" class="headerlink" title="Best Practices to Avoid Name Shadowing"></a>Best Practices to Avoid Name Shadowing</h2><ol>
<li><strong>Use unique, descriptive names</strong>: Make your variable names clear and specific to their purpose.</li>
<li><strong>Keep functions small and focused</strong>: This reduces the likelihood of name conflicts.</li>
<li><strong>Use linters and IDE warnings</strong>: Tools like PyCharm’s built-in inspections can help catch these issues early.</li>
<li><strong>Review your code regularly</strong>: Regular code reviews can help identify and prevent name shadowing.</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Understanding and addressing the “Shadows name from outer scope” warning in PyCharm will help you write cleaner, more maintainable Python code. By following the strategies outlined in this article, you can improve your code’s readability and reduce the potential for bugs caused by name shadowing.</p>
<p>Remember, clear and intentional variable naming is key to writing good Python code. Always strive for clarity and consistency in your naming conventions, and your future self (and your colleagues) will thank you!</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com">Johnson Lin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/">http://linjiangxiong.com/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/HowTo/">HowTo</a></div><div class="post_share"><div class="social-share" data-image="/image/IMG_3665.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/29/5-ways-to-concatenate-strings-in-python3/" title="5 Ways to Concatenate Strings in Python 3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">5 Ways to Concatenate Strings in Python 3</div></div></a></div><div class="next-post pull-right"><a href="/2024/08/27/yaml-tutorial/" title="Getting Started with YAML"><img class="cover" src="/image/2024/08/2024082701.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">Getting Started with YAML</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/04/22/python-with-keyword/" title="Python 编程指南 | 使用 with 关键字"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-22</div><div class="title">Python 编程指南 | 使用 with 关键字</div></div></a></div><div><a href="/2023/04/17/python-encode-unicode-or-non-ascii-characters-into-json-string/" title="Python 编程指南 | 在 JSON 序列化的过程中，如何保证对象属性中的 Unicode 或非 ASCII 字符串能够原样输出"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-17</div><div class="title">Python 编程指南 | 在 JSON 序列化的过程中，如何保证对象属性中的 Unicode 或非 ASCII 字符串能够原样输出</div></div></a></div><div><a href="/2023/04/23/python-check-if-set-is-empty/" title="Python 编程指南 | 如何判断一个集合是否为空"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-23</div><div class="title">Python 编程指南 | 如何判断一个集合是否为空</div></div></a></div><div><a href="/2023/05/18/python-check-if-dictionary-item-exists/" title="Python 编程指南 | 如何判断字典中是否存在某个键"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-18</div><div class="title">Python 编程指南 | 如何判断字典中是否存在某个键</div></div></a></div><div><a href="/2023/06/09/python-how-to-convert-between-binary-strings-and-strings/" title="Python 编程指南 | 如何在原始字符串与二进制字符串之间相互转换"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-09</div><div class="title">Python 编程指南 | 如何在原始字符串与二进制字符串之间相互转换</div></div></a></div><div><a href="/2023/06/08/python-convert-string-to-binary/" title="Python 编程指南 | 将字符串转换为二进制"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-08</div><div class="title">Python 编程指南 | 将字符串转换为二进制</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/image/IMG_3665.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Johnson Lin</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">294</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">55</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/iuiuu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/iuiuu" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:me@linjiangxiong.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-Does-%E2%80%9CShadows-name-from-outer-scope%E2%80%9D-Mean"><span class="toc-number">1.</span> <span class="toc-text">What Does “Shadows name from outer scope” Mean?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-Is-This-a-Problem"><span class="toc-number">2.</span> <span class="toc-text">Why Is This a Problem?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-Fix-the-Warning"><span class="toc-number">3.</span> <span class="toc-text">How to Fix the Warning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Rename-the-Inner-Variable"><span class="toc-number">3.1.</span> <span class="toc-text">1. Rename the Inner Variable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Use-a-More-Descriptive-Name"><span class="toc-number">3.2.</span> <span class="toc-text">2. Use a More Descriptive Name</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Use-the-global-Keyword"><span class="toc-number">3.3.</span> <span class="toc-text">3. Use the global Keyword</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Pass-the-Outer-Variable-as-an-Argument"><span class="toc-number">3.4.</span> <span class="toc-text">4. Pass the Outer Variable as an Argument</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Use-a-Class-to-Encapsulate-State"><span class="toc-number">3.5.</span> <span class="toc-text">5. Use a Class to Encapsulate State</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Best-Practices-to-Avoid-Name-Shadowing"><span class="toc-number">4.</span> <span class="toc-text">Best Practices to Avoid Name Shadowing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">5.</span> <span class="toc-text">Conclusion</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/18/bulk-deleting-keys-in-redis-using-wildcards/" title="Bulk Deleting Keys in Redis Using Wildcards">Bulk Deleting Keys in Redis Using Wildcards</a><time datetime="2024-09-18T15:42:56.000Z" title="Created 2024-09-18 23:42:56">2024-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/11/analyzing-redis-source-code-hash/" title="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing"><img src="/image/redis-src/2024091101.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing"/></a><div class="content"><a class="title" href="/2024/09/11/analyzing-redis-source-code-hash/" title="Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing">Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing</a><time datetime="2024-09-10T22:28:03.000Z" title="Created 2024-09-11 06:28:03">2024-09-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/10/analyzing-redis-source-code-sds/" title="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation"><img src="/image/redis-src/24091002.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation"/></a><div class="content"><a class="title" href="/2024/09/10/analyzing-redis-source-code-sds/" title="Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation">Analyzing Redis Source Code: Simple Dynamic Strings (SDS) – An Efficient and Flexible String Implementation</a><time datetime="2024-09-09T17:13:55.000Z" title="Created 2024-09-10 01:13:55">2024-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/06/why-does-redis-use-the-sds-structure-for-strings-instead-of-char/" title="Why Does Redis Use the SDS Structure for Strings Instead of char*?">Why Does Redis Use the SDS Structure for Strings Instead of char*?</a><time datetime="2024-09-05T16:01:26.000Z" title="Created 2024-09-06 00:01:26">2024-09-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/05/how-to-delete-data-in-elasticsearch-single-multiple-clear-and-all/" title="How to Delete Data in Elasticsearch: Single, Multiple, Clear, and All">How to Delete Data in Elasticsearch: Single, Multiple, Clear, and All</a><time datetime="2024-09-04T16:02:38.000Z" title="Created 2024-09-05 00:02:38">2024-09-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Johnson Lin</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>