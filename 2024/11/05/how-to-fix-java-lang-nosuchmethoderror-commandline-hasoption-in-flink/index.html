<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>How to Fix `java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption` in Apache Flink | Johnson Lin</title><meta name="author" content="Johnson Lin"><meta name="copyright" content="Johnson Lin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="When running Apache Flink, you might encounter the following error message during startup or execution: 1java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption For example, when I u">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Fix &#96;java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption&#96; in Apache Flink">
<meta property="og:url" content="http://linjiangxiong.com/2024/11/05/how-to-fix-java-lang-nosuchmethoderror-commandline-hasoption-in-flink/index.html">
<meta property="og:site_name" content="Johnson Lin">
<meta property="og:description" content="When running Apache Flink, you might encounter the following error message during startup or execution: 1java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption For example, when I u">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://linjiangxiong.com/image/IMG_3665.JPG">
<meta property="article:published_time" content="2024-11-04T22:55:56.000Z">
<meta property="article:modified_time" content="2024-12-03T21:58:44.000Z">
<meta property="article:author" content="Johnson Lin">
<meta property="article:tag" content="HowTo">
<meta property="article:tag" content="Apache Flink">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://linjiangxiong.com/image/IMG_3665.JPG"><link rel="shortcut icon" href="/image/IMG_3665.JPG"><link rel="canonical" href="http://linjiangxiong.com/2024/11/05/how-to-fix-java-lang-nosuchmethoderror-commandline-hasoption-in-flink/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;family=Source+Sans+3:wght@400;600&amp;display=swap"><link rel="stylesheet" href="/css/ud_v5.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ca45da0012a3ce293c6ca4f7e5ebc3a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'WLKqFH01ST8bHfxLtjsterJZnoEpVlF26sn-Nzzoqfc', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'How to Fix `java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption` in Apache Flink',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/IMG_3665.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">488</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">26</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2025/01/29/ollama-tutorial/"><i class="fa-fw fas fa-book"></i><span> Ollama Tutorial</span></a></li><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/2024/08/27/yaml-tutorial/"><i class="fa-fw fas fa-book"></i><span> YAML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Dev Wiki</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/11/29/wiki/standard-ascii-table/"><i class="fa-fw fas fa-book"></i><span> Standard ASCII Table (7-bit)</span></a></li><li><a class="site-page child" href="/2025/01/17/a-complete-guide-to-base64-encoding-and-decoding/"><i class="fa-fw fas fa-book"></i><span> Base64 Introduction</span></a></li><li><a class="site-page child" href="/2024/11/30/wiki/html-char/"><i class="fa-fw fas fa-book"></i><span> HTML Special Char</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Dev Tools</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/json-formatter/"><i class="fa-fw fas fa-link"></i><span> JSON Format</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Johnson Lin</span></a><a class="nav-page-title" href="/"><span class="site-name">How to Fix `java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption` in Apache Flink</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> Instant Tutorials</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2025/01/29/ollama-tutorial/"><i class="fa-fw fas fa-book"></i><span> Ollama Tutorial</span></a></li><li><a class="site-page child" href="/2024/06/29/html-instant-tutorial/"><i class="fa-fw fas fa-book"></i><span> HTML Tutorial</span></a></li><li><a class="site-page child" href="/2024/08/27/yaml-tutorial/"><i class="fa-fw fas fa-book"></i><span> YAML Tutorial</span></a></li><li><a class="site-page child" href="/categories/Bash-Tutorial/"><i class="fa-fw fas fa-book"></i><span> Bash Tutorial</span></a></li><li><a class="site-page child" href="/2023/09/05/tutorial-gson/"><i class="fa-fw fas fa-music"></i><span> 极简教程 - Gson</span></a></li><li><a class="site-page child" href="/categories/Redis%E6%95%99%E7%A8%8B/"><i class="fa-fw fas fa-book"></i><span> Redis教程</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Dev Wiki</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/2024/11/29/wiki/standard-ascii-table/"><i class="fa-fw fas fa-book"></i><span> Standard ASCII Table (7-bit)</span></a></li><li><a class="site-page child" href="/2025/01/17/a-complete-guide-to-base64-encoding-and-decoding/"><i class="fa-fw fas fa-book"></i><span> Base64 Introduction</span></a></li><li><a class="site-page child" href="/2024/11/30/wiki/html-char/"><i class="fa-fw fas fa-book"></i><span> HTML Special Char</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><span> Dev Tools</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/json-formatter/"><i class="fa-fw fas fa-link"></i><span> JSON Format</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">How to Fix `java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption` in Apache Flink</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-11-04T22:55:56.000Z" title="Created 2024-11-05 06:55:56">2024-11-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-12-03T21:58:44.000Z" title="Updated 2024-12-04 05:58:44">2024-12-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming-Digest/">Programming Digest</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><p>When running <strong>Apache Flink</strong>, you might encounter the following error message during startup or execution:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption</span><br></pre></td></tr></table></figure>
<p>For example, when I use Flink version 1.17.2 and start a job in Application Mode, the job is submitted successfully and runs as expected. The command and output information are as follows.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ /data/flink/flink-1.17.2/bin/flink run-application -t yarn-application -p 3 -Djobmanager.memory.process.size=1024m -Dtaskmanager.memory.process.size=2048m -Dtaskmanager.memory.network.max=64mb -c com.my.flink.etl.dws.trd.OrderSummaryJob -Dyarn.application.name=<span class="string">&quot;com.my.flink.etl.dws.trd.OrderSummaryJob&quot;</span> -Dyarn.application.type=<span class="string">&quot;Flink 1.17.2&quot;</span> /data/flink/my-flink-etl-jar/dws-trd-ord-summary.jar</span><br><span class="line"></span><br><span class="line">Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was <span class="built_in">set</span>.</span><br><span class="line">2024-11-05 14:05:05,849 WARN  org.apache.flink.yarn.configuration.YarnLogConfigUtil        [] - The configuration directory (<span class="string">&#x27;/data/flink/flink-1.17.2/conf&#x27;</span>) already contains a LOG4J config file.If you want to use logback, <span class="keyword">then</span> please delete or rename the <span class="built_in">log</span> configuration file.</span><br><span class="line">2024-11-05 14:05:06,019 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - No path <span class="keyword">for</span> the flink jar passed. Using the location of class org.apache.flink.yarn.YarnClusterDescriptor to locate the jar</span><br><span class="line">2024-11-05 14:05:06,091 INFO  org.apache.hadoop.yarn.client.ConfiguredRMFailoverProxyProvider [] - Failing over to rm2</span><br><span class="line">2024-11-05 14:05:06,128 INFO  org.apache.hadoop.conf.Configuration                         [] - found resource resource-types.xml at file:/etc/hadoop/3.1.4.0-315/0/resource-types.xml</span><br><span class="line">2024-11-05 14:05:06,166 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Cluster specification: ClusterSpecification&#123;masterMemoryMB=1024, taskManagerMemoryMB=2048, slotsPerTaskManager=1&#125;2024-11-05 14:05:06,396 WARN  org.apache.hadoop.hdfs.shortcircuit.DomainSocketFactory      [] - The short-circuit <span class="built_in">local</span> reads feature cannot be used because libhadoop cannot be loaded.</span><br><span class="line">2024-11-05 14:05:07,683 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Removing <span class="string">&#x27;localhost&#x27;</span> Key: <span class="string">&#x27;jobmanager.bind-host&#x27;</span> , default: null (fallback keys: []) setting from effective configuration; using <span class="string">&#x27;0.0.0.0&#x27;</span> instead.</span><br><span class="line">2024-11-05 14:05:07,684 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Removing <span class="string">&#x27;localhost&#x27;</span> Key: <span class="string">&#x27;taskmanager.bind-host&#x27;</span> , default: null (fallback keys: []) setting from effective configuration; using <span class="string">&#x27;0.0.0.0&#x27;</span> instead.</span><br><span class="line">2024-11-05 14:05:07,708 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Cannot use kerberos delegation token manager, no valid kerberos credentials provided.</span><br><span class="line">2024-11-05 14:05:07,712 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Submitting application master application_1723014599670_0040</span><br><span class="line">2024-11-05 14:05:07,755 INFO  org.apache.hadoop.yarn.client.api.impl.YarnClientImpl        [] - Submitted application application_1723014599670_0040</span><br><span class="line">2024-11-05 14:05:07,755 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Waiting <span class="keyword">for</span> the cluster to be allocated</span><br><span class="line">2024-11-05 14:05:07,756 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Deploying cluster, current state ACCEPTED</span><br><span class="line">2024-11-05 14:05:12,524 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - YARN application has been deployed successfully.</span><br><span class="line">2024-11-05 14:05:12,525 INFO  org.apache.flink.yarn.YarnClusterDescriptor                  [] - Found Web Interface flink-onyarn-node-01:41684 of application <span class="string">&#x27;application_1723014599670_0040&#x27;</span>.</span><br></pre></td></tr></table></figure>
<p>Now, I want to test the savepoint feature and observe the job’s behavior when stopping and restarting it. However, when executing the Flink command (to submit a job and specify a savepoint to resume from), I encounter the following error. The same issue also occurs when running <code>flink stop</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> /data/flink/flink-1.17.2/bin/flink run-application -t yarn-application -p 3 -Djobmanager.memory.process.size=1024m -Dtaskmanager.memory.process.size=2048m -Dtaskmanager.memory.network.max=64mb -c com.my.flink.etl.dws.trd.OrderSummaryJob -Dyarn.application.name=<span class="string">&quot;com.my.flink.etl.dws.trd.OrderSummaryJob&quot;</span> -Dyarn.application.type=<span class="string">&quot;Flink 1.17.2&quot;</span> -s hdfs:/flink-checkpoints/flink-1.17.2/ea98ue43a2fc63d4631895af4604dd43e/chk-102 /data/flink/my-flink-etl-jar/dws-trd-ord-summary.jar</span><br><span class="line"></span><br><span class="line">Setting HBASE_CONF_DIR=/etc/hbase/conf because no HBASE_CONF_DIR was <span class="built_in">set</span>.</span><br><span class="line">SLF4J: Class path contains multiple SLF4J bindings.</span><br><span class="line">SLF4J: Found binding <span class="keyword">in</span> [jar:file:/data/flink/flink-1.17.2/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: Found binding <span class="keyword">in</span> [jar:file:/usr/hdp/3.1.4.0-315/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings <span class="keyword">for</span> an explanation.</span><br><span class="line">SLF4J: Actual binding is of <span class="built_in">type</span> [org.apache.logging.slf4j.Log4jLoggerFactory]</span><br><span class="line">java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption(Lorg/apache/commons/cli/Option;)Z</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontendParser.createSavepointRestoreSettings(CliFrontendParser.java:631)</span><br><span class="line">        at org.apache.flink.client.cli.ProgramOptions.&lt;init&gt;(ProgramOptions.java:119)</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontend.runApplication(CliFrontend.java:198)</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1098)</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontend.lambda$mainInternal<span class="variable">$9</span>(CliFrontend.java:1189)</span><br><span class="line">        at java.security.AccessController.doPrivileged(Native Method)</span><br><span class="line">        at javax.security.auth.Subject.doAs(Subject.java:422)</span><br><span class="line">        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1876)</span><br><span class="line">        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontend.mainInternal(CliFrontend.java:1189)</span><br><span class="line">        at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1157)</span><br></pre></td></tr></table></figure>
<p>This error typically indicates an issue with version conflicts or the availability of the required method within the libraries that Flink is using. In this case, the error is related to the <strong>Apache Commons CLI</strong> library, which is used by Flink for command-line argument parsing.</p>
<p>In this article, we will walk through the possible causes and solutions for this error, so you can get your Flink application up and running.</p>
<h2 id="Understanding-the-Error"><a href="#Understanding-the-Error" class="headerlink" title="Understanding the Error"></a>Understanding the Error</h2><p>The error <code>java.lang.NoSuchMethodError</code> suggests that at runtime, your application is trying to invoke a method that is not present in the version of the library being used. The method in question is <code>hasOption</code>, which belongs to the <code>CommandLine</code> class of the <strong>Apache Commons CLI</strong> library.</p>
<p>Flink internally relies on Apache Commons CLI for parsing command-line options, and it expects a specific version of the library. However, if there’s a version mismatch between the library that Flink was compiled against and the one available at runtime, the <code>hasOption</code> method might not exist, causing the error.</p>
<h2 id="Common-Causes-of-the-Error"><a href="#Common-Causes-of-the-Error" class="headerlink" title="Common Causes of the Error"></a>Common Causes of the Error</h2><p>There are a few potential causes for this error:</p>
<ol>
<li><strong>Version Conflict with Apache Commons CLI</strong>: If your project uses a different version of the Apache Commons CLI library than what Flink expects, the <code>hasOption</code> method might not exist or could be defined differently.</li>
<li><strong>Incompatible Dependencies</strong>: Other libraries in your project might bring in a different version of the Apache Commons CLI library, which could override the version expected by Flink.</li>
<li><strong>Incorrect Classpath Configuration</strong>: If your Flink setup includes additional or outdated versions of libraries that conflict with the ones included in the Flink distribution, it could result in runtime issues like this.</li>
<li><strong>Missing related jar packages</strong>.</li>
</ol>
<h2 id="Solutions-to-Resolve-the-Issue"><a href="#Solutions-to-Resolve-the-Issue" class="headerlink" title="Solutions to Resolve the Issue"></a>Solutions to Resolve the Issue</h2><h3 id="Verify-That-the-commons-cli-Jar-Package-Exists"><a href="#Verify-That-the-commons-cli-Jar-Package-Exists" class="headerlink" title="Verify That the commons-cli Jar Package Exists"></a>Verify That the commons-cli Jar Package Exists</h3><p>Given that the error is a <code>java.lang.NoSuchMethodError</code>, it’s likely due to a missing JAR file. Navigate to the <code>lib</code> directory under the Flink installation folder, as shown below, and you’ll find that the <code>common-cli</code> JAR is indeed missing. To fix this, simply download the JAR and place it in the <code>lib</code> directory.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ ll lib/</span><br><span class="line">total 202380</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    196491 Nov 13  2023 flink-cep-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    542629 Nov 13  2023 flink-connector-files-1.17.2.jar</span><br><span class="line">-rw-rw-r-- 1 hadoop hadoop    268555 Nov  4 18:42 flink-connector-jdbc-3.1.2-1.17.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    102470 Nov 13  2023 flink-csv-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop 121809282 Nov 13  2023 flink-dist-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    180246 Nov 13  2023 flink-json-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop  21043317 Nov 13  2023 flink-scala_2.12-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop  59381853 Dec  7  2023 flink-shaded-hadoop-3-uber-3.1.1.7.1.1.0-565-9.0.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop  15407408 Nov 13  2023 flink-table-api-java-uber-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop  38194169 Nov 13  2023 flink-table-planner-loader-1.17.2.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop   3146303 Nov 13  2023 flink-table-runtime-1.17.2.jar</span><br><span class="line">-rw-rw-r-- 1 hadoop hadoop   1878533 Dec 10  2023 jna-5.14.0.jar</span><br><span class="line">-rw-rw-r-- 1 hadoop hadoop   1369287 Dec 10  2023 jna-platform-5.14.0.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    208006 Jun  1  2022 log4j-1.2-api-2.17.1.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop    301872 Jun  1  2022 log4j-api-2.17.1.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop   1790452 Jun  1  2022 log4j-core-2.17.1.jar</span><br><span class="line">-rw-r--r-- 1 hadoop hadoop     24279 Jun  1  2022 log4j-slf4j-impl-2.17.1.jar</span><br><span class="line">-rw-rw-r-- 1 hadoop hadoop    975591 Nov 25  2023 oshi-core-6.4.8.jar</span><br></pre></td></tr></table></figure>
<p>You can download the JAR file using the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://repo1.maven.org/maven2/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar</span><br></pre></td></tr></table></figure>
<h3 id="Ensure-Flink-and-Library-Version-Compatibility"><a href="#Ensure-Flink-and-Library-Version-Compatibility" class="headerlink" title="Ensure Flink and Library Version Compatibility"></a>Ensure Flink and Library Version Compatibility</h3><p>The first step is to verify that you are using a compatible version of Flink and Apache Commons CLI. Apache Flink uses a specific version of Apache Commons CLI, and running Flink with an incompatible version can lead to errors.</p>
<ol>
<li><strong>Check Flink Version</strong>: Find out which version of Flink you are using and check the corresponding version of Apache Commons CLI in its dependencies.<ul>
<li>You can check the Flink version by running <code>flink --version</code>.</li>
<li>Flink dependencies, including Apache Commons CLI, are often specified in the <code>pom.xml</code> (for Maven-based builds) or <code>build.gradle</code> (for Gradle-based builds).</li>
</ul>
</li>
<li><strong>Ensure Correct Version of Apache Commons CLI</strong>: If Flink relies on a specific version of Commons CLI, make sure your project includes the same version.For example, if you’re using Maven, you can specify the dependency version explicitly:</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-cli<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!-- Replace with Flink&#x27;s expected version --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Exclude-Conflicting-Dependencies"><a href="#Exclude-Conflicting-Dependencies" class="headerlink" title="Exclude Conflicting Dependencies"></a>Exclude Conflicting Dependencies</h3><p>If your project or any of the libraries you’re using brings in a conflicting version of Apache Commons CLI, you can exclude it from your dependencies.</p>
<p>For example, in Maven, you can exclude a conflicting dependency like this:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>YOUR_FLINK_VERSION<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-cli<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will prevent the conflicting version of the library from being included, allowing Flink to use its bundled version of Commons CLI.</p>
<p>In <strong>Gradle</strong>, you can exclude a dependency in a similar manner:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation(<span class="string">&#x27;org.apache.flink:flink-core:YOUR_FLINK_VERSION&#x27;</span>) &#123;</span><br><span class="line">        exclude <span class="attr">group:</span> <span class="string">&#x27;org.apache.commons&#x27;</span>, <span class="attr">module:</span> <span class="string">&#x27;commons-cli&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Update-Dependencies-to-Latest-Versions"><a href="#Update-Dependencies-to-Latest-Versions" class="headerlink" title="Update Dependencies to Latest Versions"></a>Update Dependencies to Latest Versions</h3><p>Sometimes the issue arises due to the use of outdated or unsupported versions of libraries. Ensure all dependencies in your project are up to date, particularly Apache Commons CLI and Flink.</p>
<p>To update dependencies in <strong>Maven</strong>, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn versions:display-dependency-updates</span><br></pre></td></tr></table></figure>
<p>In <strong>Gradle</strong>, use:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew dependencyUpdates</span><br></pre></td></tr></table></figure>
<p>This will show you if any of your dependencies are outdated and need to be updated to a compatible version.</p>
<h3 id="Review-Classpath-Configuration"><a href="#Review-Classpath-Configuration" class="headerlink" title="Review Classpath Configuration"></a>Review Classpath Configuration</h3><p>Ensure that your classpath is correctly configured to prioritize Flink’s bundled dependencies and avoid conflicts. This is particularly important if you are running Flink in a distributed environment, as the classpath needs to be consistent across all nodes in the cluster.</p>
<p>If you’re running Flink in <strong>standalone mode</strong>, make sure your job’s JAR file contains the correct dependencies, or use the Flink <code>lib/</code> directory to place compatible versions of libraries.</p>
<h2 id="Final-Thoughts"><a href="#Final-Thoughts" class="headerlink" title="Final Thoughts"></a>Final Thoughts</h2><p>The error <code>java.lang.NoSuchMethodError: org.apache.commons.cli.CommandLine.hasOption</code> in Flink is often caused by a version mismatch or classpath conflict related to Apache Commons CLI. To fix the issue:</p>
<ul>
<li>Verify that the commons-cli jar package exists.</li>
<li>Ensure you’re using the correct version of Flink and Apache Commons CLI.</li>
<li>Exclude conflicting dependencies from your project.</li>
<li>Update your project’s dependencies to compatible versions.</li>
<li>Review your classpath to prevent conflicts at runtime.</li>
</ul>
<p>By following these steps, you should be able to resolve the error and get your Flink application running smoothly again. If the problem persists, reviewing Flink’s official documentation or community forums might provide additional insights specific to your Flink version and environment.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com">Johnson Lin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://linjiangxiong.com/2024/11/05/how-to-fix-java-lang-nosuchmethoderror-commandline-hasoption-in-flink/">http://linjiangxiong.com/2024/11/05/how-to-fix-java-lang-nosuchmethoderror-commandline-hasoption-in-flink/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/HowTo/">HowTo</a><a class="post-meta__tags" href="/tags/Apache-Flink/">Apache Flink</a></div><div class="post-share"><div class="social-share" data-image="/image/IMG_3665.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/11/04/redis-hyperloglog-pfadd-command/" title="Redis HyperLogLog PFADD Command"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Redis HyperLogLog PFADD Command</div></div><div class="info-2"><div class="info-item-1">The PFADD command in Redis adds one or more elements to a HyperLogLog data structure. SyntaxThe basic syntax for the PFADD command is as follows: 1PFADD key [element [element ...]] This command adds all the specified elements to the HyperLogLog data structure stored at the key provided as the first argument. Available SinceRedis version 2.8.9 and later. Time ComplexityO(1) to add every element. ACL Categories@write, @hyperloglog, @fast Return ValueReturns an integer:    1 if at least one...</div></div></div></a><a class="pagination-related" href="/2024/11/06/redis-hyperloglog-pfcount-command/" title="Redis HyperLogLog PFCOUNT Command"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Redis HyperLogLog PFCOUNT Command</div></div><div class="info-2"><div class="info-item-1">The Redis PFCOUNT command returns the cardinality estimate of the given HyperLogLog. SyntaxThe basic syntax of the PFCOUNT command is as follows: 1PFCOUNT key [key ...] Available SinceRedis version 2.8.9 and later. Time Complexity O(1) when called with a single key.  O(N) when called with multiple keys, where N is the number of keys.  ACL Categories@read, @hyperloglog, @slow Return ValueAn integer representing the cardinality of the given HyperLogLog.  If multiple HyperLogLogs are provided,...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/11/01/resolving-the-ttransportexception-error-in-superset-hive-database-connection/" title="Resolving the &quot;TTransportException&quot; Error in Superset Hive Database Connection"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-01</div><div class="info-item-2">Resolving the &quot;TTransportException&quot; Error in Superset Hive Database Connection</div></div><div class="info-2"><div class="info-item-1">Issue Description:After successfully installing Superset, running the command superset run -p 8088 -h 0.0.0.0 to start the application, and attempting to configure the Hive database connection through the interface, an error occurs. The server logs display the following: 123Unexpected error TTransportExceptionWARNING: superset.views.core: Unexpected error TTransportExceptionINFO: werkzeug:10.10.17.34 - - [11/Jan/2022 12:07:37] &quot;POST /superset/testconn HTTP/1.1&quot; 400 - Upon seeing...</div></div></div></a><a class="pagination-related" href="/2024/11/02/ubuntu-could-not-get-lock-var-lib-apt-lists-lock/" title="How to Resolve the &quot;Could Not Get Lock &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;lock&quot; Error in Ubuntu"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-02</div><div class="info-item-2">How to Resolve the &quot;Could Not Get Lock &#x2F;var&#x2F;lib&#x2F;apt&#x2F;lists&#x2F;lock&quot; Error in Ubuntu</div></div><div class="info-2"><div class="info-item-1">When using Ubuntu or any Debian-based system, you may come across the error message: “Could not get lock /var/lib/apt/lists/lock.” This is a common issue, particularly when managing software installations or updates via apt or similar commands. For example, I recently encountered this error while trying to install an application using the apt command on Ubuntu: 12345$ sudo apt updateReading package lists... DoneE: Could not get lock /var/lib/apt/lists/lock. It is held by process 1390...</div></div></div></a><a class="pagination-related" href="/2024/11/10/how-to-install-node-js-latest-long-term-support-version-on-ubuntu-22-04/" title="How to Install Node JS Latest Long-Term Support Version on Ubuntu 22.04?"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-10</div><div class="info-item-2">How to Install Node JS Latest Long-Term Support Version on Ubuntu 22.04?</div></div><div class="info-2"><div class="info-item-1"> Node.js is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools and scripts.  Node.js is a powerful JavaScript runtime that lets you build scalable and high-performance applications. With the release of Node.js v22, developers now have access to new features, improvements, and bug fixes. This article will guide you step-by-step on how to install Node.js v22 on Ubuntu 22.04. Step 1: Update Your Package...</div></div></div></a><a class="pagination-related" href="/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/" title="How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-28</div><div class="info-item-2">How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm</div></div><div class="info-2"><div class="info-item-1"> This article provides a comprehensive guide on how to fix the “Shadows name from outer scope” warning in PyCharm. It explains the issue, why it’s problematic, and offers multiple solutions with code examples. The article also includes best practices to avoid name shadowing in the future. This information should be helpful for Python developers using PyCharm who encounter this warning and want to improve their code quality.  If you’re a Python developer using PyCharm, you may have...</div></div></div></a><a class="pagination-related" href="/2024/09/04/how-to-fix-docker-gpg-key-installation-errors-on-ubuntu/" title="How to Fix Docker GPG Key Installation Errors on Ubuntu"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-04</div><div class="info-item-2">How to Fix Docker GPG Key Installation Errors on Ubuntu</div></div><div class="info-2"><div class="info-item-1">In this blog post, we’ll walk you through the process of fixing gpg: no valid OpenPGP data found error and get you back to smooth sailing with Docker. Issue Overview Add the official Docker GPG key:  1curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -  Some users might encounter the following issue:  123$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -curl: (35) gnutls_handshake() failed: Handshake failed: Error in the pull function.gpg:...</div></div></div></a><a class="pagination-related" href="/2024/09/05/how-to-delete-data-in-elasticsearch-single-multiple-clear-and-all/" title="How to Delete Data in Elasticsearch: Single, Multiple, Clear, and All"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-05</div><div class="info-item-2">How to Delete Data in Elasticsearch: Single, Multiple, Clear, and All</div></div><div class="info-2"><div class="info-item-1">Are you working with Elasticsearch and need to manage your data effectively? One crucial aspect of data management is knowing how to delete data when necessary. In this comprehensive guide, we’ll explore various Elasticsearch operations for deleting data, including single document deletion, multiple document deletion, clearing indices, and removing all data. Deleting a Single DocumentTo delete a single document from Elasticsearch, you’ll use the DELETE API. Here’s the basic syntax: 1DELETE...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/IMG_3665.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Johnson Lin</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">488</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">26</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/iuiuu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuiuu" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:me@linjiangxiong.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Understanding-the-Error"><span class="toc-number">1.</span> <span class="toc-text">Understanding the Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Common-Causes-of-the-Error"><span class="toc-number">2.</span> <span class="toc-text">Common Causes of the Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solutions-to-Resolve-the-Issue"><span class="toc-number">3.</span> <span class="toc-text">Solutions to Resolve the Issue</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Verify-That-the-commons-cli-Jar-Package-Exists"><span class="toc-number">3.1.</span> <span class="toc-text">Verify That the commons-cli Jar Package Exists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ensure-Flink-and-Library-Version-Compatibility"><span class="toc-number">3.2.</span> <span class="toc-text">Ensure Flink and Library Version Compatibility</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Exclude-Conflicting-Dependencies"><span class="toc-number">3.3.</span> <span class="toc-text">Exclude Conflicting Dependencies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Update-Dependencies-to-Latest-Versions"><span class="toc-number">3.4.</span> <span class="toc-text">Update Dependencies to Latest Versions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Review-Classpath-Configuration"><span class="toc-number">3.5.</span> <span class="toc-text">Review Classpath Configuration</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Final-Thoughts"><span class="toc-number">4.</span> <span class="toc-text">Final Thoughts</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/06/how-to-run-deepseek-locally-on-windows/" title="How To Run DeepSeek Locally On Windows?">How To Run DeepSeek Locally On Windows?</a><time datetime="2025-02-05T18:27:11.000Z" title="Created 2025-02-06 02:27:11">2025-02-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/29/ollama-python-sdk/" title="Using Ollama with Python">Using Ollama with Python</a><time datetime="2025-01-29T07:17:04.000Z" title="Created 2025-01-29 15:17:04">2025-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/29/ollama-api/" title="Interacting with the Ollama API">Interacting with the Ollama API</a><time datetime="2025-01-29T06:01:52.000Z" title="Created 2025-01-29 14:01:52">2025-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/29/ollama-cli/" title="Interacting with Ollama Models">Interacting with Ollama Models</a><time datetime="2025-01-29T05:06:06.000Z" title="Created 2025-01-29 13:06:06">2025-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/29/ollama-core-concepts/" title="Ollama Core Concepts">Ollama Core Concepts</a><time datetime="2025-01-29T04:11:16.000Z" title="Created 2025-01-29 12:11:16">2025-01-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Johnson Lin</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly/source/js/main.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>