<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Apache Kafkaï¼ˆäºŒï¼‰ï¼šCentOS 7ä¸‹å®‰è£…Apache Kafka</title>
    <url>/2020/03/19/how-to-install-apache-kafka-on-centos7/</url>
    <content><![CDATA[<h2 id="ç³»ç»Ÿè¦æ±‚"><a href="#ç³»ç»Ÿè¦æ±‚" class="headerlink" title="ç³»ç»Ÿè¦æ±‚"></a>ç³»ç»Ÿè¦æ±‚</h2><p>Kafka æœåŠ¡ç«¯ä»£ç æ˜¯ç”¨ Scala å¼€å‘è¯­è¨€ç¼–å†™çš„ï¼ŒScala æ˜¯ JVM ç³»è¯­è¨€ä¸­çš„ä¸€ç§ï¼Œè¿™æ„å‘³ç€ç”¨ Scala ç¼–å†™çš„æºä»£ç ç¼–è¯‘ä¹‹åä¹Ÿæ˜¯ Java å­—èŠ‚ç ï¼Œå¹¶è¿è¡Œåœ¨ Java è™šæ‹Ÿæœºä¸Šã€‚å› æ­¤ï¼Œåœ¨å¼€å§‹å®‰è£… Kafka ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£… JDKï¼ˆJava SE Development Kitï¼Œ Java SEå¼€å‘å¥—ä»¶ï¼‰ï¼ŒJDK åŒ…å«çš„ JREï¼ˆJava SE Runtime Environmentï¼ŒJava è¿è¡Œæ—¶ç¯å¢ƒï¼‰æ˜¯è¿è¡Œ Java åº”ç”¨ç¨‹åºæ‰€å¿…éœ€çš„ã€‚</p>
<p>å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¨èå®‰è£… JDK 8 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå› ä¸º Kafka è‡ª 2.0.0 ç‰ˆæœ¬å¼€å§‹ï¼Œå°±å·²ç»æ­£å¼æ‘’å¼ƒå¯¹ Java 7 çš„æ”¯æŒäº†ã€‚æœ¬æ–‡å®‰è£…ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ JDK 8 ç‰ˆæœ¬ã€‚</p>
<p>åœ¨ CentOS 7 å®‰è£… JDK å¯å‚è€ƒè¿™ç¯‡åšæ–‡â€”â€” <a href="https://www.linjiangxiong.com/2019/08/30/how-to-install-jdk-1-8-on-centos-7/">CentOS7ä¸‹å®‰è£…JDK1.8</a></p>
<p>å¦å¤–ï¼Œè¿è¡Œ Kafka è¿˜éœ€è¦å®‰è£… Apache ZooKeeper æœåŠ¡ï¼Œè¯¥æœåŠ¡æ˜¯ç”¨æ¥åŒæ­¥åˆ†å¸ƒå¼è¿›ç¨‹ã€‚ZooKeeper å®‰è£…å¯å‚è€ƒè¿™ç¯‡åšæ–‡â€”â€”<a href="https://www.linjiangxiong.com/2019/12/12/how-to-install-zookeeper-on-centos7/">åœ¨CentOS7ç³»ç»Ÿå®‰è£…å’Œé…ç½®ZooKeeper</a>ã€‚</p>
<h2 id="å®‰è£…Kafka"><a href="#å®‰è£…Kafka" class="headerlink" title="å®‰è£…Kafka"></a>å®‰è£…Kafka</h2><p>æ¨èå°† Kafka å®‰è£…åœ¨ Unix æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Solarisï¼‰æˆ– Linux æ“ä½œç³»ç»Ÿï¼ˆå¦‚ CentOSï¼‰ä¸Šã€‚è¿™æ˜¯å› ä¸ºåœ¨ Windows ç³»ç»Ÿä¸Šå¯è·å¾—çš„æ”¯æŒæœ‰é™ã€‚</p>
<p>æœ¬å®‰è£…ç¤ºä¾‹é€‰æ‹©çš„æ˜¯ CentOS 7 ç³»ç»Ÿã€‚å…·ä½“å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>ä» Kafka å®˜ç½‘ä¸‹è½½é¡µ <a href="https://kafka.apache.org/downloads">https://kafka.apache.org/downloads</a> è·å–å®‰è£…æ–‡ä»¶ï¼Œå½“å‰æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬æ˜¯ 2.4.1ï¼Œäº 2020 å¹´ 3 æœˆ 12 æ—¥å‘è¡Œã€‚è¿™é‡Œé€‰æ‹©ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶  <em>kafka_2.12-2.4.1.tgz</em>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://mirror.bit.edu.cn/apache/kafka/2.4.1/kafka_2.12-2.4.1.tgz</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»º Kafka å®‰è£…ç›®å½•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /usr/local/kafka</span><br></pre></td></tr></table></figure></li>
<li><p>è§£å‹ç¼©æ–‡ä»¶ <em>kafka_2.12-2.4.1.tgz</em> è‡³ç›®å½• <code>/usr/local/kafka</code>ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar xvzf kafka_2.12-2.4.1.tgz -C /usr/local/kafka --strip 1</span><br></pre></td></tr></table></figure></li>
<li><p>è¿›å…¥ç›®å½• <code>/usr/local/kafka</code>ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹å­ç›®å½•ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@185 home]# cd /usr/local/kafka/</span><br><span class="line">[root@185 kafka]# ll</span><br><span class="line">æ€»ç”¨é‡ 56</span><br><span class="line">drwxr-xr-x 3 root root  4096 3æœˆ   3 08:34 bin</span><br><span class="line">drwxr-xr-x 2 root root  4096 3æœˆ   3 08:34 config</span><br><span class="line">drwxr-xr-x 2 root root  8192 3æœˆ  19 15:06 libs</span><br><span class="line">-rw-r--r-- 1 root root 32216 3æœˆ   3 08:32 LICENSE</span><br><span class="line">-rw-r--r-- 1 root root   337 3æœˆ   3 08:32 NOTICE</span><br><span class="line">drwxr-xr-x 2 root root    44 3æœˆ   3 08:34 site-docs</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li><p><code>/bin</code>ç›®å½•ä¸‹æ˜¯æ“ä½œ Kafka çš„å¯æ‰§è¡Œè„šæœ¬ï¼ˆ.sh æ–‡ä»¶ï¼‰ï¼Œè¿˜åŒ…å«åœ¨ windows ç³»ç»Ÿä¸‹çš„å¯æ‰§è¡Œè„šæœ¬ï¼ˆ.bat æ–‡ä»¶ï¼‰ï¼ŒåŒ…æ‹¬ Kafka å¯åŠ¨/åœæ­¢è„šæœ¬ã€æ¶ˆè´¹è€…æ€§èƒ½æµ‹è¯•è„šæœ¬ã€ç”Ÿäº§è€…æ€§èƒ½æµ‹è¯•è„šæœ¬ã€åˆ†åŒºé‡åˆ†é…è„šæœ¬ç­‰ï¼›</p>
</li>
<li><p><code>/config</code>ç›®å½•æ˜¯å­˜æ”¾é…ç½®æ–‡ä»¶ï¼›</p>
</li>
<li><p><code>/libs</code>ç›®å½•æ˜¯å­˜æ”¾ä¾èµ–åº“æ–‡ä»¶ï¼›</p>
</li>
<li><p><code>/logs</code>ç›®å½•å­˜æ”¾çš„æ˜¯ Kafka çš„è¿è¡Œæ—¥å¿—æ–‡ä»¶ã€‚</p>
</li>
</ul>
</li>
<li><p>æ‰“å¼€é…ç½®æ–‡ä»¶<code>config/server.properties</code>ï¼Œä¿®æ”¹ listeners é…ç½®å’Œ zookeeper åœ°å€ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim ./config/server.properties</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç›‘å¬åœ°å€</span></span><br><span class="line">listeners=PLAINTEXT://172.16.1.182:9092</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">zookeeper åœ°å€</span></span><br><span class="line">zookeeper.connect=172.16.1.188:2181</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨å¯åŠ¨ Kafka æœåŠ¡ä¹‹å‰ï¼Œä¸ºä¿éšœç³»ç»Ÿå®‰å…¨ï¼Œæ·»åŠ è¿è¡Œ Kafka æœåŠ¡çš„è´¦å·ï¼Œå¹¶ä»¥è¾ƒä½æƒé™è´¦å·è¿è¡Œ Kafka æœåŠ¡ï¼Œä¸”ç¦ç”¨è¯¥è´¦å·çš„ <code>ssh</code> ç™»å½•æƒé™ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ  kafka è´¦å·</span></span><br><span class="line">useradd kafka</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½® kafka è´¦å·å¯†ç </span></span><br><span class="line">passwd kafka</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°†ç›®å½•çš„æ‰€æœ‰è€…å’Œç»„è®¾ç½®ä¸º kafka</span></span><br><span class="line">chown -R kafka:kafka /usr/local/kafka/</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>ä¸ºä¿éšœç³»ç»Ÿå®‰å…¨ï¼Œæ·»åŠ è¿è¡Œ Kafka æœåŠ¡çš„è´¦å·ï¼Œå¹¶ä»¥è¾ƒä½æƒé™è´¦å·è¿è¡Œ Kafka æœåŠ¡ï¼Œä¸”ç¦ç”¨è¯¥è´¦å·çš„ç™»å½•æƒé™ã€‚</p>
<p>åˆ‡æ¢è‡³ kafka è´¦å·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">su kafka</span><br></pre></td></tr></table></figure></li>
<li><p>å¯åŠ¨ Kafka æœåŠ¡ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/kafka-server-start.sh ./config/server.properties</span><br></pre></td></tr></table></figure>

<p>ä»¥å®ˆæŠ¤è¿›ç¨‹ï¼ˆåå°è¿›ç¨‹ï¼‰çš„æ–¹å¼å¯åŠ¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/kafka-server-start.sh ./config/server.properties &amp;</span><br></pre></td></tr></table></figure></li>
<li><p>åœæ­¢ Kafka æœåŠ¡ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./bin/kafka-server-stop.sh</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Kafkaï¼ˆä¸€ï¼‰ï¼šç®€ä»‹</title>
    <url>/2020/03/17/apache-kafka-intro/</url>
    <content><![CDATA[<h2 id="Kafkaç®€ä»‹"><a href="#Kafkaç®€ä»‹" class="headerlink" title="Kafkaç®€ä»‹"></a>Kafkaç®€ä»‹</h2><p>Kafka æœ€æ—©æ˜¯ç”± LinkedIn å…¬å¸å¼€å‘çš„ä¸€å¥—åˆ†å¸ƒå¼çš„é«˜æ€§èƒ½æ¶ˆæ¯å¼•æ“æœåŠ¡ï¼Œäº 2011 å¹´åˆå¼€æºï¼Œå¹¶äº 2012 å¹´ 10 æœˆ 23 æ—¥ä» Apache å­µåŒ–å™¨æ¯•ä¸šï¼Œæˆä¸º Apache çš„é¡¶çº§é¡¹ç›®ã€‚</p>
<p>Kafka æœ€åˆçš„è®¾è®¡ç›®çš„æ˜¯ç”¨äºå¤„ç†æµ·é‡çš„æ—¥å¿—ï¼Œåæ¥å†ç»å¤šå¹´å‘å±•å’Œå®Œå–„ï¼Œå¦‚ä»Šçš„ Kafka é›†æ¶ˆæ¯ç³»ç»Ÿã€å­˜å‚¨ç³»ç»Ÿå’Œæµå¼å¤„ç†å¹³å°äºä¸€èº«ï¼Œåœ¨æ¶ˆæ¯å¼•æ“é¢†åŸŸæ˜¯æ‰§ç‰›è€³è€…ï¼Œåœ¨å¤§æ•°æ®å·¥ç¨‹é¢†åŸŸã€æµè®¡ç®—é¢†åŸŸä¹Ÿèµ·ç€ä¸¾è¶³è½»é‡çš„ä½œç”¨ï¼Œå…·æœ‰éå¸¸å¹¿é˜”çš„åº”ç”¨åœºæ™¯ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè¦æŒæ¡Kafka"><a href="#ä¸ºä»€ä¹ˆè¦æŒæ¡Kafka" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æŒæ¡Kafka"></a>ä¸ºä»€ä¹ˆè¦æŒæ¡Kafka</h2><p>å› ä¸ºæŒæ¡äº† Kafkaï¼Œæ‰‹ä¸Šå°±å¤šäº†ä¸€ä»½æ‹¿é«˜è–ªçš„ç­¹ç ã€‚</p>
<p>æ´å¼•ç¾å›½ 2019 å¹´ Dice æŠ€æœ¯è–ªèµ„æŠ¥å‘Šä¸­çš„æ•°æ®ï¼Œåœ¨åå¤§è–ªèµ„æœ€é«˜çš„æŠ€æœ¯æŠ€èƒ½ä¸­ï¼ŒæŒæ¡ Kafka ä»¥å¹³å‡æ¯å¹´ 12.7554 ä¸‡ç¾å…ƒæ’åç¬¬äºŒï¼è™½ç„¶è¿™æ˜¯ç¾å›½äººæ‰å¸‚åœºçš„æ•°æ®ï¼Œä½†ä»å›½å†…äº’è”ç½‘å…¬å¸çš„æŠ€æœ¯æ‹›è˜éœ€æ±‚ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡º Kafka åœ¨å›½å†…çš„è¡Œæƒ…ä¹Ÿæ˜¯æ°´æ¶¨èˆ¹é«˜ã€‚</p>
<p>ï¼ˆæŸ¥çœ‹å®Œæ•´æŠ¥å‘Šï¼š<a href="https://marketing.dice.com/pdf/Dice_TechSalaryReport2019.pdf">https://marketing.dice.com/pdf/Dice_TechSalaryReport2019.pdf</a>ï¼‰</p>
<h2 id="å¦‚ä½•å…¨é¢æŒæ¡Kafka"><a href="#å¦‚ä½•å…¨é¢æŒæ¡Kafka" class="headerlink" title="å¦‚ä½•å…¨é¢æŒæ¡Kafka"></a>å¦‚ä½•å…¨é¢æŒæ¡Kafka</h2><p>ä½œä¸ºä¸€åè½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼Œåœ¨å­¦ä¹ å¼€æºé¡¹ç›®æ—¶ï¼Œæœ€å¥½æ˜¯é‡‡å–â€œè‡ªé¡¶å‘ä¸‹â€çš„å­¦ä¹ æ–¹æ³•ï¼Œå³å…ˆåˆæ­¥æŒæ¡å¼€æºé¡¹ç›®çš„åŸºæœ¬ä½¿ç”¨ã€åŠŸèƒ½åŸç†ã€å…³é”®è®¾è®¡ç­‰ï¼Œç„¶åå†æ·±å…¥åˆ°æºç ï¼Œå­¦ä¹ å…¶å…³é”®æŠ€æœ¯æ˜¯å¦‚ä½•å®ç°çš„ï¼Œä»¥åŠå…¶ä»£ç å†™ä½œæ–¹å¼ç­‰ã€‚</p>
<p>å¯¹äºå­¦ä¹  Kafka ä¹Ÿä¸ä¾‹å¤–ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®‰è£…ã€è¿è¡Œ Kafkaã€‚</li>
<li>é€‰æ‹©åˆé€‚çš„ Kafka å®¢æˆ·ç«¯ï¼Œå­¦ä¹ å®˜ç½‘ä¸Šçš„ç¤ºä¾‹ä»£ç ï¼Œå¹¶å°è¯•ä¿®æ”¹ç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¿®æ”¹è¾“å…¥å€¼ã€æˆ–ä½¿ç”¨å…¶ä»–çš„ API åŠŸèƒ½ï¼Œè§‚æµ‹ä¿®æ”¹åçš„è¿è¡Œç»“æœã€‚æ­¤æ—¶å¯ç¼–å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼ˆå¦‚ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…ç¨‹åºï¼‰è¿›è¡ŒéªŒè¯ã€‚</li>
<li>é€šè¯» Kafka çš„è®¾è®¡æ–‡æ¡£ï¼Œäº†è§£æ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡çš„å…³é”®å†³ç­–éƒ¨åˆ†ï¼Œå¹¶ç¡®ä¿ç†è§£äº†é‚£äº›å¯èƒ½å½±å“å¯é æ€§ã€ç¨³å®šæ€§å’Œæ€§èƒ½çš„å‚æ•°ã€‚</li>
<li>å­¦ä¹  Kafka çš„é«˜çº§åŠŸèƒ½ï¼Œå¦‚æ‹¦æˆªå™¨ã€å¹‚ç­‰æ€§ç”Ÿäº§è€…ã€äº‹åŠ¡ã€æµå¤„ç†åº”ç”¨å¼€å‘ç­‰ã€‚</li>
<li>ç ”ç©¶åŸç†ï¼Œå¦‚ç”Ÿäº§è€…æ¶ˆæ¯åˆ†åŒºæœºåˆ¶ã€å‰¯æœ¬æœºåˆ¶ã€é‡å¹³è¡¡ç­‰ã€‚</li>
<li>æ·±å…¥æºç ï¼Œå­¦ä¹ å…³é”®åŸç†èƒŒåçš„å…·ä½“ç¼–ç å¦‚ä½•å®ç°ã€‚ä½†ä¸å»ºè®®é€šè¯»æºç ï¼ˆæ­¤ç§æ–¹æ³•æ•ˆç‡ç‰¹åˆ«ä½ï¼Œæ•ˆæœä¹Ÿä¸å¥½ï¼‰ï¼Œæœ€å¥½æ˜¯å¸¦ç€æ˜ç¡®ç›®çš„å»ç ”ç©¶æºç ï¼Œåšåˆ°æœ‰çš„æ”¾çŸ¢ï¼Œæ‰èƒ½äº‹åŠåŠŸå€ã€‚</li>
</ul>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½è¿˜éœ€è¦å­¦ä¼šç®¡ç†å’Œç›‘æ§ Kafkaï¼Œå¹¶ä» Kafka åœ¨çœŸå®è´Ÿè½½ä¸‹çš„è¡¨ç°ï¼Œæ‰¾å‡ºç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„ç“¶é¢ˆï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæå‡ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS7 ç³»ç»Ÿä¸­ï¼Œå¦‚ä½•ç¦æ­¢Linuxç³»ç»Ÿç”¨æˆ·é€šè¿‡SSHç™»å½•æœåŠ¡å™¨ï¼Ÿ</title>
    <url>/2020/03/20/how-to-limit-what-users-can-log-onto-system-via-ssh/</url>
    <content><![CDATA[<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šç¦æ­¢ç³»ç»Ÿä¸Šçš„æŸäº›ç”¨æˆ·ä½¿ç”¨ <code>ssh</code> å‘½ä»¤ç™»å½•æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œç”¨äºå¯åŠ¨ MongoDB æœåŠ¡çš„ç”¨æˆ· mongodï¼Œå°±ä¸å…è®¸é€šè¿‡ <code>ssh</code> å‘½ä»¤è¿›è¡Œç™»å½•ã€‚åœ¨ CentOS 7 ç³»ç»Ÿä¸­ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ <em>/etc/ssh/sshd_config</em> è¾¾åˆ°ç¦ç”¨çš„ç›®çš„ã€‚</p>
<h2 id="ä¸€ã€å•ä¸ªç”¨æˆ·"><a href="#ä¸€ã€å•ä¸ªç”¨æˆ·" class="headerlink" title="ä¸€ã€å•ä¸ªç”¨æˆ·"></a>ä¸€ã€å•ä¸ªç”¨æˆ·</h2><p>è¿™é‡Œä»¥ç¦ç”¨ mongod ç”¨æˆ·ä¸ºä¾‹ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>æ‰“å¼€é…ç½®æ–‡ä»¶ <em>/etc/ssh/sshd_config</em>ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨æ–‡ä»¶æœ«å°¾åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼Œåªå…è®¸åé¢çš„ç”¨æˆ·ä½¿ç”¨ <code>ssh</code> å‘½ä»¤ç™»é™†ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DenyUsers    mongod</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿å­˜æ–‡ä»¶ä¿®æ”¹ï¼Œå¹¶é€€å‡ºï¼Œé‡å¯ <code>ssh</code> æœåŠ¡ï¼Œå³å¯ç¦ç”¨ <strong>mongod</strong> ç”¨æˆ·é€šè¿‡ <code>ssh</code> å‘½ä»¤ç™»é™†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">service sshd restart</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="äºŒã€å¤šä¸ªç”¨æˆ·"><a href="#äºŒã€å¤šä¸ªç”¨æˆ·" class="headerlink" title="äºŒã€å¤šä¸ªç”¨æˆ·"></a>äºŒã€å¤šä¸ªç”¨æˆ·</h2><p>è‹¥éœ€è¦ç¦ç”¨å¤šä¸ªç³»ç»Ÿå¸æˆ·ä½¿ç”¨ <code>ssh</code> å‘½ä»¤ç™»é™†æœåŠ¡å™¨ï¼Œåªéœ€æŠŠç³»ç»Ÿè´¦æˆ·åè¿½åŠ åœ¨ <strong>DenyUsers</strong> è¡Œå°¾ï¼Œå¹¶ä»¥ç©ºæ ¼éš”å¼€å³å¯ï¼Œå¦‚ç¦ç”¨ mongodã€kafkaã€robbot ä¸‰ä¸ªç”¨æˆ·ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DenyUsers    mongod kafka robbot</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€ç”¨æˆ·ç»„"><a href="#ä¸‰ã€ç”¨æˆ·ç»„" class="headerlink" title="ä¸‰ã€ç”¨æˆ·ç»„"></a>ä¸‰ã€ç”¨æˆ·ç»„</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ ä»¥ä¸‹å†…å®¹æ¥ç¦æ­¢ç”¨æˆ·ç»„é€šè¿‡ <code>ssh</code> å‘½ä»¤ç™»é™†æœåŠ¡å™¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DenyGroups   groupname1 groupname2</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>NOTEï¼šä¿®æ”¹å®Œé…ç½®æ–‡ä»¶ï¼Œå¿…é¡»é‡æ–°å¯åŠ¨ <code>ssh</code> æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆã€‚</strong></p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
      </tags>
  </entry>
  <entry>
    <title>Elasticsearchå€’æ’ç´¢å¼•ç®€ä»‹</title>
    <url>/2020/08/04/elasticsearch-inverted-index-intro/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•"><a href="#ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•" class="headerlink" title="ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•"></a>ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•</h2><p>å€’æ’ç´¢å¼•ï¼ˆInverted indexï¼Œäº¦ç§°åå‘ç´¢å¼•ï¼‰ï¼Œæ˜¯ä¸€ç§ç´¢å¼•æ–¹æ³•ï¼Œç”¨æ¥å­˜å‚¨åœ¨å…¨æ–‡æœç´¢ä¸‹æŸä¸ªå•è¯åœ¨æŸä¸€ä¸ªæ–‡æ¡£æˆ–æŸä¸€ç»„æ–‡æ¡£ä¸­çš„å­˜å‚¨ä½ç½®çš„æ˜ å°„ã€‚</p>
<h2 id="å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„"><a href="#å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„" class="headerlink" title="å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„"></a>å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„</h2><p>å€’æ’ç´¢å¼•æ˜¯æ–‡æ¡£æ£€ç´¢ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®æ®æ„ã€‚å®ƒåŒ…å«ä¸¤éƒ¨åˆ†â€”â€”<strong>å•è¯è¯å…¸ï¼ˆTerm Dictionaryï¼‰å’Œå€’æ’åˆ—è¡¨ï¼ˆPosting Listï¼‰</strong>ã€‚</p>
<p>å…¶ä¸­ï¼Œå•è¯è¯å…¸æ˜¯ç”¨æ¥è®°å½•æ‰€æœ‰æ–‡æ¡£çš„å•è¯ï¼Œè®°å½•å•è¯åˆ°å€’æ’åˆ—è¡¨çš„å…³ç³»ï¼Œæ‰€ä»¥å•è¯è¯å…¸ä¸€èˆ¬ä¹Ÿä¼šæ¯”è¾ƒå¤§ï¼Œä¸ºæ»¡è¶³å¿«é€Ÿåœ°æ’å…¥ä¸æŸ¥è¯¢ï¼Œé€šå¸¸é‡‡ç”¨ B+ æ ‘æˆ–è€…å“ˆå¸Œé“¾è¡¨æ³•æ¥å®ç°ã€‚</p>
<p>è€Œå€’æ’åˆ—è¡¨æ˜¯ç”¨æ¥è®°å½•å•è¯å¯¹åº”çš„æ–‡æ¡£ç»“åˆï¼Œç”±å€’æ’ç´¢å¼•é¡¹ï¼ˆPostingï¼‰ç»„æˆã€‚</p>
<p>å€’æ’ç´¢å¼•é¡¹ç»“æ„ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å››é¡¹å†…å®¹ï¼š</p>
<ul>
<li>æ–‡æ¡£IDï¼›</li>
<li>è¯é¢‘ï¼ˆTFï¼‰â€”â€”è¯¥å•è¯åœ¨æ–‡æ¡£ä¸­çš„å‡ºç°æ¬¡æ•°ï¼Œç”¨äºç›¸å…³æ€§è¯„åˆ†ï¼›</li>
<li>ä½ç½®ï¼ˆPositionï¼‰â€”â€”å•è¯åœ¨æ–‡æ¡£ä¸­åˆ†è¯çš„ä½ç½®ï¼Œç”¨äºè¯­å¥æœç´¢ï¼ˆPhrase Queryï¼‰ï¼›</li>
<li>åç§»ï¼ˆOffsetï¼‰â€”â€”è®°å½•å•è¯çš„å¼€å§‹ã€ç»“æŸä½ç½®ï¼Œç”¨äºé«˜äº®æ˜¾ç¤ºã€‚</li>
</ul>
<p>å€’æ’ç´¢å¼•é¡¹ç»“æ„ç¤ºä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>Document ID</th>
<th>TF</th>
<th>Position</th>
<th>Offset</th>
</tr>
</thead>
<tbody><tr>
<td>10001</td>
<td>2</td>
<td>1</td>
<td>&lt;20, 32&gt;</td>
</tr>
<tr>
<td>10002</td>
<td>10</td>
<td>23</td>
<td>&lt;7, 10&gt;</td>
</tr>
</tbody></table>
<p>åœ¨ Elasticsearch çš„ JSON æ–‡æ¡£ä¸­çš„æ¯ä¸ªå­—æ®µï¼Œé»˜è®¤æƒ…å†µä¸‹éƒ½æœ‰è‡ªå·±çš„å€’æ’ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦å¯¹æŸäº›å­—æ®µä¸åšç´¢å¼•ï¼Œä¼˜ç‚¹æ˜¯èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œç¼ºç‚¹æ˜¯è¯¥å­—æ®µæ— æ³•è¢«æœç´¢ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Homebrewåœ¨macOSä¸Šå®‰è£…Elasticsearch</title>
    <url>/2020/08/02/install-elasticsearch-on-macos-with-homebrew/</url>
    <content><![CDATA[<p>åœ¨ macOS ä¸Šé€šè¿‡ Homwbrew å®‰è£… Elasticsearch éå¸¸ç®€å•ï¼Œé¦–å…ˆé€šè¿‡ <code>brew tap</code> å‘½ä»¤å…³è” Elastic Homebrew å­˜å‚¨åº“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew tap elastic/tap</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ <code>brew install</code> å‘½ä»¤å®‰è£…æœ€æ–°å‘å¸ƒçš„ Elasticsearch çš„é»˜è®¤å‘è¡Œç‰ˆï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install elastic/tap/elasticsearch-full</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºå†…å®¹ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Pruned 0 symbolic links and 3 directories from /usr/local</span><br></pre></td></tr></table></figure>



<p>é€šè¿‡ brew å®‰è£…çš„ Elasticsearchï¼Œå…¶é…ç½®æ–‡ä»¶ï¼Œæ—¥å¿—å’Œæ•°æ®ç›®å½•å­˜å‚¨åœ¨ä»¥ä¸‹ä½ç½®ï¼š</p>
<p><strong>HOMEï¼ˆä¸»ç›®å½•ï¼‰</strong>ï¼Œä½äº <code>/usr/local/Cellar/elasticsearch-full/7.8.1/</code>ï¼›</p>
<p><strong>bin ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰</strong>ä½äº <code>ll /usr/local/Cellar/elasticsearch-full/7.8.1/bin</code>ï¼›</p>
<p><strong>configï¼ˆé…ç½®æ–‡ä»¶ï¼‰</strong>ä½äº <code>/usr/local/etc/elasticsearch</code>ï¼›</p>
<p><strong>dataï¼ˆæ•°æ®å­˜å‚¨ç›®å½•ï¼‰</strong>ä½äº <code>/usr/local/var/lib/elasticsearch</code>ï¼›</p>
<p><strong>logï¼ˆæ—¥å¿—æ–‡ä»¶ï¼‰</strong>ä½äº <code>/usr/local/var/log/elasticsearch</code>ï¼›</p>
<p><strong>pluginsï¼ˆæ’ä»¶å­˜æ”¾ç›®å½•ï¼‰</strong>ä½äº <code>/usr/local/var/elasticsearch/plugins </code>ã€‚</p>
<p>å…·ä½“æ‰§è¡Œè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  ~ brew tap elastic/tap</span><br><span class="line">Updating Homebrew...</span><br><span class="line">==&gt; Auto-updated Homebrew!</span><br><span class="line">Updated 1 tap (homebrew/core).</span><br><span class="line">==&gt; New Formulae</span><br><span class="line">act                 chart-testing       dnsprobe            golangci-lint       kubie               never               reg                 termcolor</span><br><span class="line">apidoc              chrony              dosbox-staging      gradle-profiler     ldpl                ngs                 rqlite              thanos</span><br><span class="line">arb                 clair               duckscript          gulp-cli            litecli             notmuch-mutt        scw@1               vgrep</span><br><span class="line">argo                cloudformation-cli  eksctl              hy                  logcli              oci-cli             sdns                wgcf</span><br><span class="line">argocd              coconut             fennel              jimtcl              loki                omake               simdjson            yj</span><br><span class="line">arrayfire           colfer              folderify           jinx                lunchy              ory-hydra           smlpkg              z.lua</span><br><span class="line">awsweeper           copilot             functionalplus      jsonnet-bundler     lunchy-go           osi                 so</span><br><span class="line">bond                cortex              gateway-go          k9s                 marked              pipgrip             solidity</span><br><span class="line">cadence             croaring            gcc@9               kona                naabu               promtail            standardese</span><br><span class="line">chalk-cli           cubejs-cli          git-hooks-go        ksync               nanorc              python@3.7          subfinder</span><br><span class="line">==&gt; Updated Formulae</span><br><span class="line">Updated 3971 formulae.</span><br><span class="line">==&gt; Renamed Formulae</span><br><span class="line">elasticsearch@6.8 -&gt; elasticsearch@6                                            kibana@6.8 -&gt; kibana@6</span><br><span class="line">==&gt; Deleted Formulae</span><br><span class="line">cargo-completion                elasticsearch@2.4               i386-elf-grub                   python                          tomee-jax-rs</span><br><span class="line">cryptopp                        elasticsearch@5.6               kibana@5.6                      sflowtool</span><br><span class="line"></span><br><span class="line">==&gt; Tapping elastic/tap</span><br><span class="line">Cloning into &#x27;/usr/local/Homebrew/Library/Taps/elastic/homebrew-tap&#x27;...</span><br><span class="line">remote: Enumerating objects: 44, done.</span><br><span class="line">remote: Counting objects: 100% (44/44), done.</span><br><span class="line">remote: Compressing objects: 100% (26/26), done.</span><br><span class="line">remote: Total 530 (delta 28), reused 24 (delta 18), pack-reused 486</span><br><span class="line">Receiving objects: 100% (530/530), 133.37 KiB | 31.00 KiB/s, done.</span><br><span class="line">Resolving deltas: 100% (398/398), done.</span><br><span class="line">Tapped 19 formulae (44 files, 234.2KB).</span><br><span class="line">âœ  ~ brew install elastic/tap/elasticsearch-full</span><br><span class="line">Updating Homebrew...</span><br><span class="line">==&gt; Auto-updated Homebrew!</span><br><span class="line">Updated 1 tap (homebrew/core).</span><br><span class="line">==&gt; Updated Formulae</span><br><span class="line">Updated 8 formulae.</span><br><span class="line"></span><br><span class="line">==&gt; Installing elasticsearch-full from elastic/tap</span><br><span class="line">==&gt; Downloading https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.8.1-darwin-x86_64.tar.gz?tap=elastic/homebrew-tap</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####################################################################### 100.0%</span></span></span><br><span class="line">Warning: tried to install empty array to /usr/local/etc/elasticsearch/jvm.options.d</span><br><span class="line">==&gt; codesign -f -s - /usr/local/Cellar/elasticsearch-full/7.8.1/libexec/modules/x-pack-ml/platform/darwin-x86_64/controller.app --deep</span><br><span class="line">==&gt; find /usr/local/Cellar/elasticsearch-full/7.8.1/libexec/jdk.app/Contents/Home/bin -type f -exec codesign -f -s - &#123;&#125; ;</span><br><span class="line">==&gt; Caveats</span><br><span class="line">Data:    /usr/local/var/lib/elasticsearch/elasticsearch_bobotang/</span><br><span class="line">Logs:    /usr/local/var/log/elasticsearch/elasticsearch_bobotang.log</span><br><span class="line">Plugins: /usr/local/var/elasticsearch/plugins/</span><br><span class="line">Config:  /usr/local/etc/elasticsearch/</span><br><span class="line"></span><br><span class="line">To have launchd start elastic/tap/elasticsearch-full now and restart at login:</span><br><span class="line">  brew services start elastic/tap/elasticsearch-full</span><br><span class="line">Or, if you don&#x27;t want/need a background service you can just run:</span><br><span class="line">  elasticsearch</span><br><span class="line">==&gt; Summary</span><br><span class="line">ğŸº  /usr/local/Cellar/elasticsearch-full/7.8.1: 901 files, 473.6MB, built in 15 seconds</span><br><span class="line">==&gt; `brew cleanup` has not been run in 30 days, running now...</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/gettext--0.20.2_1.catalina.bottle.tar.gz... (8.4MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/gnupg--2.2.20.catalina.bottle.tar.gz... (4.3MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/libevent--2.1.11_1.catalina.bottle.tar.gz... (1.2MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/libgcrypt--1.8.5.catalina.bottle.tar.gz... (1MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/redis--6.0.5.catalina.bottle.tar.gz... (1.8MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Caches/Homebrew/unbound--1.10.1.catalina.bottle.tar.gz... (2.5MB)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/gmp... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/pinentry... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libidn2... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libksba... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/autojump... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/ncurses... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/nettle... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libunistring... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/utf8proc... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libassuan... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libgpg-error... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libgcrypt... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/gettext... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/pwgen... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/tmux... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libtasn1... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libevent... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/openssl@1.1... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/unbound... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libusb... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/gnupg... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/p11-kit... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/libffi... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/telnet... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/gnutls... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/npth... (64B)</span><br><span class="line">Removing: /Users/bobotang/Library/Logs/Homebrew/adns... (64B)</span><br><span class="line">Pruned 0 symbolic links and 3 directories from /usr/local</span><br><span class="line">âœ  ~ </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Javaå°†List&lt;String&gt;å…ƒç´ æŒ‰æŒ‡å®šåˆ†éš”ç¬¦è¿æ¥æˆå­—ç¬¦ä¸²</title>
    <url>/2020/06/29/java-list-string-join/</url>
    <content><![CDATA[<p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦å°† <code>List&lt;String&gt;</code> è½¬æ¢ä¸ºä½¿ç”¨æŸä¸ªç¬¦å·è¿æ¥çš„å­—ç¬¦ä¸²ã€‚å¦‚å°† <code>List&lt;String&gt;</code> è½¬æ¢ä¸ºæŒ‰è‹±æ–‡é€—å·ï¼ˆ<code>,</code>ï¼‰åˆ†éš”çš„å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; weekList = Arrays.asList(</span><br><span class="line">                <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† weekList è¾“å‡ºè½¬æ¢ä¸ºæŒ‰è‹±æ–‡é€—å·ï¼ˆ,ï¼‰åˆ†éš”çš„å­—ç¬¦ä¸²ï¼š</span></span><br><span class="line"><span class="comment">// Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday</span></span><br></pre></td></tr></table></figure>



<p>æœ€å®¹æ˜“æƒ³åˆ°çš„æ‹¼æ¥æ–¹å¼ï¼Œæ˜¯é€šè¿‡ <code>for</code> å¾ªç¯æ¥å®ç°ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ ä½¿ç”¨ Java 8 æˆ–ä»¥ä¸Šçš„ç‰ˆæœ¬è¿›è¡Œå¼€å‘ï¼Œå®ç°è¯¥åŠŸèƒ½å°†å˜å¾—éå¸¸ç®€å•ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ã€‚</p>
<p><strong>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>String.join</code>ï¼Œä¸»è¦ä»£ç å¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤º String.join æ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.jomoo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; weekList = Arrays.asList(</span><br><span class="line">                <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">        );</span><br><span class="line">        System.out.println(String.join(<span class="string">&quot;,&quot;</span>, weekList));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>æ–¹æ³•äºŒï¼šé‡‡ç”¨æµçš„æ–¹å¼ï¼ˆ<code>stream()</code>ï¼‰æ¥å†™ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼Œä»ç„¶èƒ½å¤Ÿå¾—åˆ°åŒæ ·çš„ç»“æœï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤ºæµæ–¹å¼ï¼ˆstreamï¼‰è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.jomoo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; weekList = Arrays.asList(</span><br><span class="line">                <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> weekList.stream().collect(Collectors.joining(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³åœ¨è¿æ¥æˆå­—ç¬¦ä¸²ä¹‹å‰ï¼Œå…ˆå¯¹å…ƒç´ è¿›è¡Œå…¶ä»–çš„æ“ä½œï¼Œå¦‚è¿‡æ»¤å…ƒç´ ã€è½¬æˆå¤§å†™ç­‰ï¼Œé‡‡ç”¨æµçš„æ–¹å¼å®ç°ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚ä»¥ä¸‹ä»£ç å±•ç¤ºå¦‚ä½•å°†æ•´ä¸ªå­—ç¬¦ä¸²åœ¨è¿æ¥ä¹‹å‰å…ˆè½¬ä¸ºå¤§å†™ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤ºåœ¨è¿æ¥ä¹‹å‰å…ˆå°†å…ƒç´ è½¬ä¸ºå¤§å†™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.jomoo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; weekList = Arrays.asList(</span><br><span class="line">                <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">      <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> weekList.stream()</span><br><span class="line">                .map(String::toUpperCase)</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">      </span><br><span class="line">      System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">MONDAY,TUESDAY,WEDNESDAY,THURSDAY,FRIDAY,SATURDAY,SUNDAY</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨macOSç¼–è¯‘JDK14</title>
    <url>/2020/05/08/apache-kafka-intro/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ç³»ç»Ÿç¯å¢ƒ"><a href="#ä¸€ã€ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ä¸€ã€ç³»ç»Ÿç¯å¢ƒ"></a>ä¸€ã€ç³»ç»Ÿç¯å¢ƒ</h2><p>æ“ä½œç³»ç»Ÿï¼šmacOS 10.15.4ï¼ˆCatalinaï¼‰</p>
<p>å¤„ç†å™¨ï¼š2.6 GHz åŒæ ¸Intel Core i5</p>
<p>å†…å­˜ï¼š8G</p>
<p>ç¡¬ç›˜ï¼š512G</p>
<blockquote>
<p>NOTE:  åœ¨ macOS å¹³å°ç¼–è¯‘ OpenJDK 14ï¼Œæ“ä½œç³»ç»Ÿç‰ˆæœ¬å®˜æ–¹å»ºè®®è‡³å°‘ä½¿ç”¨ Mac OS X 10.13ï¼ˆHigh Sierraï¼‰ï¼Œå¯ç”¨ç£ç›˜ç©ºé—´å»ºè®®è‡³å°‘ 6 GBã€‚</p>
</blockquote>
<h2 id="äºŒã€å‡†å¤‡å·¥ä½œ"><a href="#äºŒã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="äºŒã€å‡†å¤‡å·¥ä½œ"></a>äºŒã€å‡†å¤‡å·¥ä½œ</h2><h3 id="2-1-Boot-JDK"><a href="#2-1-Boot-JDK" class="headerlink" title="2.1 Boot JDK"></a>2.1 Boot JDK</h3><p>çŸ›ç›¾çš„æ˜¯ï¼Œä¸ºäº†ç¼–è¯‘ OpenJDKï¼Œæˆ‘ä»¬éœ€è¦é¢„å…ˆå®‰è£…ä¸€ä¸ªç‰ˆæœ¬çš„ JDKï¼Œå®˜æ–¹ç§°è¿™ä¸ª JDK ä¸º Boot JDKï¼Œå³å¼•å¯¼ JDKã€‚</p>
<h4 id="ä½•ä¸º-Boot-JDK"><a href="#ä½•ä¸º-Boot-JDK" class="headerlink" title="ä½•ä¸º Boot JDK"></a>ä½•ä¸º Boot JDK</h4><p>æˆ‘ä»¬çŸ¥é“ï¼ŒOpenJDK æºç ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆï¼ŒåŒ…æ‹¬ HotSpotã€JDK ç±»åº“ã€JAXP ç­‰ã€‚å…¶ä¸­ä¸€éƒ¨åˆ†çš„ä»£ç æ˜¯ä½¿ç”¨ C/C++ ç¼–å†™çš„ï¼Œå¦‚ HotSpotï¼›è€Œæ›´å¤šçš„ä»£ç å…¶å®æ˜¯ä½¿ç”¨ Java å®ç°çš„ï¼Œå¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„ JDK ç±»åº“ã€‚ç¼–è¯‘è¿™äº› Java ä»£ç å°±éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªå·²ç»ç¼–è¯‘çš„ JDKï¼Œå®˜æ–¹ç§°è¿™ä¸ª JDK ä¸º Bootstrap JDKï¼Œå³å¼•å¯¼ JDKï¼Œä½œç”¨æ˜¯ç¼–è¯‘ OpenJDK æºç ä¸­ Java ä»£ç ã€‚</p>
<h4 id="å¦‚ä½•é€‰æ‹©-Boot-JDK-çš„ç‰ˆæœ¬"><a href="#å¦‚ä½•é€‰æ‹©-Boot-JDK-çš„ç‰ˆæœ¬" class="headerlink" title="å¦‚ä½•é€‰æ‹© Boot JDK çš„ç‰ˆæœ¬"></a>å¦‚ä½•é€‰æ‹© Boot JDK çš„ç‰ˆæœ¬</h4><p>Bootstrap JDK çš„ç‰ˆæœ¬ä¸æˆ‘ä»¬è¦ç¼–è¯‘çš„ OpenJDK ç‰ˆæœ¬æœ‰å…³ã€‚å‡è®¾è¦ç¼–è¯‘çš„ OpenJDK çš„å¤§ç‰ˆæœ¬å·ä¸º <em>N</em>ï¼Œé‚£ä¹ˆ Bootstrap JDK å¤§ç‰ˆæœ¬å·æœ€å°ä¸º <em>N-1</em> ç‰ˆæœ¬ã€‚</p>
<p>å¦‚æœ¬æ–‡è¦ç¼–è¯‘çš„ OpenJDK çš„å¤§ç‰ˆæœ¬å·ä¸º 14ï¼Œé‚£ Bootstrap JDK çš„å¤§ç‰ˆæœ¬å·å°±éœ€è¦ 13 æˆ– 13 ä¹‹åçš„ç‰ˆæœ¬ã€‚è¿™é‡Œé€‰æ‹©çš„å¤§ç‰ˆæœ¬å·æ˜¯ 13 ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  ~ java -version</span><br><span class="line">openjdk version &quot;13.0.2&quot; 2020-01-14</span><br><span class="line">OpenJDK Runtime Environment (build 13.0.2+8)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 13.0.2+8, mixed mode, sharing)</span><br></pre></td></tr></table></figure>



<h3 id="2-2-å®‰è£…-Xcode"><a href="#2-2-å®‰è£…-Xcode" class="headerlink" title="2.2 å®‰è£… Xcode"></a>2.2 å®‰è£… Xcode</h3><p>ç›´æ¥é€šè¿‡ç”µè„‘çš„ App Store å®‰è£…æœ€æ–°ç‰ˆ Xcode å³å¯ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦å®‰è£… Xcodeï¼Ÿè¿™æ˜¯å› ä¸º Xcode æä¾›äº†ç¼–è¯‘ OpenJDK æ‰€éœ€è¦ CLang ç¼–è¯‘å™¨ä»¥åŠ Makefile ä¸­ç”¨åˆ°çš„å…¶ä»–å¤–éƒ¨å‘½ä»¤ã€‚</p>
<h3 id="2-3-è·å–æºç "><a href="#2-3-è·å–æºç " class="headerlink" title="2.3 è·å–æºç "></a>2.3 è·å–æºç </h3><p>ä» OpenJDK å®˜ç½‘è·å–æºç æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li><p>ä¸€ç§æ˜¯é€šè¿‡ä»£ç ç®¡ç†å·¥å…· Mercurial ä» Repositoryï¼ˆ<a href="http://hg.openjdk.java.net/jdk/jdk14/">http://hg.openjdk.java.net/jdk/jdk14/</a>ï¼‰ ä¸­å–å¾—æºç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hg clone http://hg.openjdk.java.net/jdk/jdk14/</span><br></pre></td></tr></table></figure></li>
<li><p>å¦ä¸€ç§æ˜¯å…ˆåœ¨ä»“åº“ä¸­æ‰“åŒ…å‡ºæºç å‹ç¼©åŒ…ï¼Œå†ä¸‹è½½å‹ç¼©åŒ…ï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>åœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥ *<a href="http://hg.openjdk.java.net/jdk/jdk14/*%EF%BC%9A">http://hg.openjdk.java.net/jdk/jdk14/*ï¼š</a></p>
<p><img src="/image/image-20200511232123290.png" alt="image-20200511232123290"></p>
</li>
<li><p>ç‚¹å‡»å·¦ä¾§èœå•æ  <em>browse</em> é“¾æ¥ï¼š</p>
<p><img src="/image/image-20200511232253789.png" alt="image-20200511232253789"></p>
</li>
<li><p>ç„¶åå†ç‚¹å‡»å·¦ä¾§èœå•æ  <em>zip</em> é“¾æ¥ï¼Œå³å¯è¿›è¡Œä¸‹è½½ã€‚</p>
</li>
</ol>
</li>
</ul>
<p>é€šè¿‡ä»£ç ç®¡ç†å·¥å…· Mercurial çš„è·å–æ–¹å¼ï¼Œä½ å¯ä»¥ä»ç‰ˆæœ¬ç®¡ç†ä¸­çœ‹åˆ°ä»£ç æäº¤çš„è®°å½•å’Œæ—¥å¿—ï¼Œèƒ½æ›´åŠ ç²¾ç¡®åœ°äº†è§£ Java ä»£ç å‘ç”Ÿçš„å˜åŒ–ã€‚æ­¤ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ clone çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œè™½ç„¶ä»£ç æ€»å¤§å°åªæœ‰å‡ ç™¾MBï¼Œä½†å°æ–‡ä»¶æ•°é‡ä¼—å¤šï¼Œè€Œä¸”è¯¥ä»£ç ä»“åº“åœ¨å›½å†…æ²¡æœ‰ CDN èŠ‚ç‚¹ï¼Œç»å¸¸åœ¨ clone çš„è¿‡ç¨‹ä¸­å‡ºç°ä¸­æ–­çš„æƒ…å†µã€‚</p>
<p>é€šè¿‡ä»å®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…çš„è·å–æ–¹å¼ï¼Œåœ¨å›½å†…åŒæ ·ä¹Ÿä¼šæœ‰ç½‘ç»œæ…¢çš„é—®é¢˜ã€‚åœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹ï¼Œä¼šå‡ºç°åªèƒ½ä¸‹è½½åˆ° 1.5M å·¦å³çš„æ®‹ç¼ºåŒ…ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœæƒ³ä»å®˜ç½‘è·å–æºç ï¼Œå»ºè®®ç§‘å­¦ä¸Šç½‘ã€‚</p>
<p>å¯¹äºä¸å…·å¤‡ç§‘å­¦ä¸Šç½‘æ¡ä»¶çš„ç”¨æˆ·ï¼Œå¯ä»¥å» github ä¸Šçš„é•œåƒåº“ï¼ˆ<a href="https://github.com/unofficial-openjdk/openjdk/releases">https://github.com/unofficial-openjdk/openjdk/releases</a>ï¼‰ä¸‹è½½ç›¸åº”çš„ release ç‰ˆæœ¬ã€‚</p>
<p>æœ¬æ–‡çš„ç¼–è¯‘ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ <a href="https://github.com/unofficial-openjdk/openjdk/releases/tag/jdk-14%2B36">jdk-14+36</a> ç‰ˆæœ¬ï¼Œæºç åŒ…å¤§å°ä¸º 185.2MBï¼Œè§£å‹ç¼©ä¹‹åä¸º 763.6MBã€‚</p>
<h2 id="å¼€å§‹ç¼–è¯‘"><a href="#å¼€å§‹ç¼–è¯‘" class="headerlink" title="å¼€å§‹ç¼–è¯‘"></a>å¼€å§‹ç¼–è¯‘</h2><p>åœ¨å‡†å¤‡å·¥ä½œå®Œæˆåï¼Œå°±å¯ä»¥ç¼–è¯‘ OpenJDK äº†ã€‚</p>
<p>é¦–å…ˆï¼Œå°†ä¸‹è½½ä¸‹æ¥çš„æºç è§£å‹åˆ°æŒ‡å®šæ–‡ä»¶ç›®å½•ã€‚æœ¬ç¤ºä¾‹çš„ç›®å½•æ˜¯ <code>~/src/openjdk-jdk-14-36</code>ã€‚è§£å‹åçš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  ~ cd ~/src/openjdk-jdk-14-36 </span><br><span class="line">âœ  openjdk-jdk-14-36 ll</span><br><span class="line">total 80</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   2.1K  2  7 02:10 ADDITIONAL_LICENSE_INFO</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   1.5K  2  7 02:10 ASSEMBLY_EXCEPTION</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff    19K  2  7 02:10 LICENSE</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   2.7K  2  7 02:10 Makefile</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   341B  2  7 02:10 README</span><br><span class="line">drwxrwxr-x@  9 bobotang  staff   288B  2  7 02:10 bin</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   1.6K  2  7 02:10 configure</span><br><span class="line">drwxrwxr-x@  9 bobotang  staff   288B  2  7 02:10 doc</span><br><span class="line">drwxrwxr-x@ 69 bobotang  staff   2.2K  2  7 02:10 make</span><br><span class="line">drwxrwxr-x@ 81 bobotang  staff   2.5K  5  7 23:43 src</span><br><span class="line">drwxrwxr-x@ 14 bobotang  staff   448B  2  7 02:10 test</span><br></pre></td></tr></table></figure>

<blockquote>
<p>NOTEï¼šç›®å½•ä¸è¦åŒ…å«ä¸­æ–‡å­—ç¬¦æˆ–ç©ºæ ¼ç­‰å…¶ä»–ç‰¹æ®Šå­—ç¬¦</p>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œéœ€è¦ä¸ºæºç ç›®å½•ä¸‹çš„ä¸€äº›é…ç½®æ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ã€‚</p>
<p>æ‰§è¡Œå‘½ä»¤ <code>chmod +x ./configure </code>ï¼Œä¸º <code>configure</code> æ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 chmod +x ./configure                             </span><br><span class="line">âœ  openjdk-jdk-14-36 ll</span><br><span class="line">total 80</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   2.1K  2  7 02:10 ADDITIONAL_LICENSE_INFO</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   1.5K  2  7 02:10 ASSEMBLY_EXCEPTION</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff    19K  2  7 02:10 LICENSE</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   2.7K  2  7 02:10 Makefile</span><br><span class="line">-rw-rw-r--@  1 bobotang  staff   341B  2  7 02:10 README</span><br><span class="line">drwxrwxr-x@  9 bobotang  staff   288B  2  7 02:10 bin</span><br><span class="line">-rwxrwxr-x@  1 bobotang  staff   1.6K  2  7 02:10 configure</span><br><span class="line">drwxrwxr-x@  9 bobotang  staff   288B  2  7 02:10 doc</span><br><span class="line">drwxrwxr-x@ 69 bobotang  staff   2.2K  2  7 02:10 make</span><br><span class="line">drwxrwxr-x@ 81 bobotang  staff   2.5K  5  7 23:43 src</span><br><span class="line">drwxrwxr-x@ 14 bobotang  staff   448B  2  7 02:10 test</span><br></pre></td></tr></table></figure>



<p>æ‰§è¡Œå‘½ä»¤ <code>chmod +x build/.configure-support/generated-configure.sh</code> ä¸º <code>build/.configure-support/generated-configure.sh</code> è„šæœ¬æ–‡ä»¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 sudo chmod +x build/.configure-support/generated-configure.sh</span><br><span class="line">âœ  openjdk-jdk-14-36 ll build/.configure-support/</span><br><span class="line">total 6272</span><br><span class="line">-rwxr-xr-x  1 root  staff   3.0M  5  8 09:41 generated-configure.sh</span><br></pre></td></tr></table></figure>



<p>é…ç½®å¥½å¯æ‰§è¡Œæƒé™åï¼Œæ‰§è¡Œä»¥ä¸‹è¯­å¥è¿›è¡Œç¼–è¯‘æ£€æµ‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 ./configure --enable-debug --with-jvm-variants=server </span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ£€æµ‹é€šè¿‡ï¼Œä½ å¯ä»¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">A new configuration has been successfully created in</span><br><span class="line">/Users/bobotang/src/openjdk-jdk-14-36/build/macosx-x86_64-server-fastdebug</span><br><span class="line">using configure arguments &#x27;--enable-debug --with-jvm-variants=server&#x27;.</span><br><span class="line"></span><br><span class="line">Configuration summary:</span><br><span class="line">* Debug level:    fastdebug</span><br><span class="line">* HS debug level: fastdebug</span><br><span class="line">* JVM variants:   server</span><br><span class="line">* JVM features:   server: &#x27;aot cds compiler1 compiler2 dtrace epsilongc g1gc graal jfr jni-check jvmci jvmti management nmt parallelgc serialgc services shenandoahgc vm-structs zgc&#x27; </span><br><span class="line">* OpenJDK target: OS: macosx, CPU architecture: x86, address length: 64</span><br><span class="line">* Version string: 14-internal+0-adhoc.root.openjdk-jdk-14-36 (14-internal)</span><br><span class="line"></span><br><span class="line">Tools summary:</span><br><span class="line">* Boot JDK:       openjdk version &quot;14&quot; 2020-03-17 OpenJDK Runtime Environment (build 14+36-1461) OpenJDK 64-Bit Server VM (build 14+36-1461, mixed mode, sharing)  (at /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home)</span><br><span class="line">* Toolchain:      clang (clang/LLVM from Xcode 11.4.1)</span><br><span class="line">* C Compiler:     Version 11.0.3 (at /usr/bin/clang)</span><br><span class="line">* C++ Compiler:   Version 11.0.3 (at /usr/bin/clang++)</span><br><span class="line"></span><br><span class="line">Build performance summary:</span><br><span class="line">* Cores to use:   4</span><br><span class="line">* Memory limit:   8192 MB</span><br></pre></td></tr></table></figure>



<p>ç¼–è¯‘æ£€æŸ¥é€šè¿‡åï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ <code>make images</code> ç”Ÿæˆ OpenJDK äº†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 sudo make images</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼Œå°±è¯´æ˜æ„å»ºæˆåŠŸäº†ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Creating jdk image</span><br><span class="line">WARNING: Using incubator modules: jdk.incubator.jpackage, jdk.incubator.foreign</span><br><span class="line">Creating CDS archive for jdk image</span><br><span class="line">Finished building target &#x27;images&#x27; in configuration &#x27;macosx-x86_64-server-fastdebug&#x27;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥æŸ¥çœ‹ <code>build</code> ç›®å½•ä¸‹ç”Ÿæˆçš„æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 ll build/macosx-x86_64-server-fastdebug</span><br><span class="line">total 216</span><br><span class="line">-rw-r--r--   1 root  staff   1.3K  5  8 10:10 Makefile</span><br><span class="line">-rw-r--r--   1 root  staff   2.9K  5  8 10:10 bootcycle-spec.gmk</span><br><span class="line">-rw-r--r--   1 root  staff    18K  5  8 10:49 build.log</span><br><span class="line">-rw-r--r--   1 root  staff   8.7K  5  8 10:10 buildjdk-spec.gmk</span><br><span class="line">drwxr-xr-x  46 root  staff   1.4K  5  8 10:44 buildtools</span><br><span class="line">-rwxr-xr-x   1 root  staff   3.8K  5  8 10:10 compare.sh</span><br><span class="line">drwxr-xr-x   5 root  staff   160B  5  8 10:10 configure-support</span><br><span class="line">-rw-r--r--   1 root  staff    21K  5  8 10:10 configure.log</span><br><span class="line">drwxr-xr-x   3 root  staff    96B  5  8 10:17 hotspot</span><br><span class="line">drwxr-xr-x   7 root  staff   224B  5  8 10:47 images</span><br><span class="line">drwxr-xr-x  12 root  staff   384B  5  8 10:43 jdk</span><br><span class="line">drwxr-xr-x  10 root  staff   320B  5  8 10:16 make-support</span><br><span class="line">-rw-r--r--   1 root  staff    36K  5  8 10:10 spec.gmk</span><br><span class="line">drwxr-xr-x  27 root  staff   864B  5  8 10:44 support</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ java -version æŸ¥çœ‹ç¼–è¯‘åçš„ OpenJDK ç‰ˆæœ¬ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">âœ  openjdk-jdk-14-36 build/macosx-x86_64-server-fastdebug/jdk/bin/java -version </span><br><span class="line">openjdk version &quot;14-internal&quot; 2020-03-17</span><br><span class="line">OpenJDK Runtime Environment (fastdebug build 14-internal+0-adhoc.root.openjdk-jdk-14-36)</span><br><span class="line">OpenJDK 64-Bit Server VM (fastdebug build 14-internal+0-adhoc.root.openjdk-jdk-14-36, mixed mode)</span><br></pre></td></tr></table></figure>



<p>è‡³æ­¤ï¼ŒOpenJDK å·²ç»æˆåŠŸç¼–è¯‘ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLå¤šè¡¨æ›´æ–°ï¼ˆå…³è”è¡¨æ›´æ–°ï¼‰</title>
    <url>/2019/08/18/mysql-update-multiple-tables-with-one-query/</url>
    <content><![CDATA[<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶ä¼šé‡åˆ°éœ€è¦å°†æŸå¼ è¡¨çš„å­—æ®µå€¼æ ¹æ®æ¡ä»¶åŠ¨æ€åœ°æ›´æ–°åˆ°å¦ä¸€å¼ è¡¨å­—æ®µçš„é—®é¢˜ï¼Œå³é€šè¿‡ä¸€å¼ è¡¨çš„å­—æ®µä¿®æ”¹å¦ä¸€å¼ å…³è”è¡¨ä¸­çš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œå­˜åœ¨ä¸¤å¼ è¡¨Aï¼ˆè¡¨åï¼štest_aï¼‰ã€Bï¼ˆè¡¨åï¼štest_bï¼‰ï¼Œä»–ä»¬çš„è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p>
<span id="more"></span>

<p><strong>è¡¨Aï¼ˆtest_aï¼‰ï¼š</strong></p>
<table>
<thead>
<tr>
<th>id</th>
<th>user_id</th>
<th>dept_id</th>
<th>update_time</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>34242</td>
<td>313</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>35322</td>
<td>320</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>35639</td>
<td>321</td>
<td></td>
</tr>
</tbody></table>
<p><strong>è¡¨Bï¼ˆtest_bï¼‰ï¼š</strong></p>
<table>
<thead>
<tr>
<th>id</th>
<th>user_id</th>
<th>patient_id</th>
<th>dept_id</th>
<th>create_time</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>34242</td>
<td>342</td>
<td>0</td>
<td>2018-05-23 09:33:45</td>
</tr>
<tr>
<td>2</td>
<td>35322</td>
<td>365</td>
<td>0</td>
<td>2018-05-24 00:13:05</td>
</tr>
<tr>
<td>3</td>
<td>35639</td>
<td>398</td>
<td>0</td>
<td>2018-05-24 00:43:18</td>
</tr>
</tbody></table>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦å°†è¡¨Açš„ <em>dept_id</em> å­—æ®µå€¼æ ¹æ® <em>user_id</em> å­—æ®µåŒæ­¥åˆ°è¡¨Bçš„ <em>dept_id</em> å­—æ®µä¸­ï¼Œå³ç”¨è¡¨Aä¸­çš„ <em>dept_id</em> å­—æ®µæ•°æ®å»æ›´æ–°è¡¨Bä¸­çš„ <em>dept_id</em> å­—æ®µï¼Œæ¡ä»¶æ˜¯è¡¨Açš„ <em>user_id</em> å­—æ®µå€¼ä¸è¡¨Bçš„ <em>user_id</em> å­—æ®µå€¼ç›¸ç­‰æ—¶è¿›è¡Œæ›´æ–°ã€‚</p>
<p>åœ¨MySQLä¸­æˆ‘ä»¬æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> test_a a, test_b b </span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	b.user_id <span class="operator">=</span> a.user_id;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒï¼šï¼ˆé€šè¿‡ INNER JOINï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> test_a a</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> test_b b <span class="keyword">ON</span> a.user_id <span class="operator">=</span> b.user_id </span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•ä¸‰ï¼šï¼ˆé€šè¿‡ LEFT JOINï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> test_a a</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> test_b b <span class="keyword">ON</span> a.user_id <span class="operator">=</span> b.user_id </span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id;</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•å››ï¼šï¼ˆé€šè¿‡å­æŸ¥è¯¢ï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> test_b b </span><br><span class="line"><span class="keyword">SET</span> dept_id <span class="operator">=</span> ( <span class="keyword">SELECT</span> dept_id <span class="keyword">FROM</span> test_a <span class="keyword">WHERE</span> user_id <span class="operator">=</span> b.user_id );</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ç‰‡æ–­éƒ½æ˜¯åœ¨ä¸¤å¼ è¡¨ä¹‹é—´åšå…³è”ï¼Œä½†åªæ›´æ–°å…¶ä¸­ä¸€å¼ è¡¨çš„æ•°æ®ã€‚å…¶å®ï¼Œé™¤äº†æ›´æ–°å…¶ä¸­ä¸€å¼ è¡¨çš„æ•°æ®å¤–ï¼Œæ–¹æ³•ä¸€ã€æ–¹æ³•äºŒå’Œæ–¹æ³•ä¸‰æ˜¯å¯ä»¥åŒæ—¶æ›´æ–°ä¸¤å¼ è¡¨çš„æ•°æ®ï¼Œå¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ä»¥ä¸‹ä»£ç æ— å®é™…æ„ä¹‰ï¼Œç›®çš„æ˜¯æ–¹ä¾¿è®°å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">UPDATE</span> test_a a, test_b b </span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id, a.update_time <span class="operator">=</span> b.create_time</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	b.user_id <span class="operator">=</span> a.user_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ–¹æ³•äºŒï¼šï¼ˆé€šè¿‡ INNER JOINï¼‰</span></span><br><span class="line"><span class="keyword">UPDATE</span> test_a a</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> test_b b <span class="keyword">ON</span> a.user_id <span class="operator">=</span> b.user_id </span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id, a.update_time <span class="operator">=</span> b.create_time;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ–¹æ³•ä¸‰ï¼šï¼ˆé€šè¿‡ LEFT JOINï¼‰</span></span><br><span class="line"><span class="keyword">UPDATE</span> test_a a</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> test_b b</span><br><span class="line"><span class="keyword">ON</span> a.user_id <span class="operator">=</span> b.user_id</span><br><span class="line"><span class="keyword">SET</span> b.dept_id <span class="operator">=</span> a.dept_id, a.update_time <span class="operator">=</span> b.create_time;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Redisæ ¹æ®é€šé…ç¬¦æ‰¹é‡åˆ é™¤Key</title>
    <url>/2019/09/03/redis-batch-delete/</url>
    <content><![CDATA[<p>Redis ç›®å‰è¿˜ä¸æ”¯æŒæ ¹æ®é€šé…ç¬¦æ‰¹é‡åˆ é™¤ Key çš„å‘½ä»¤ï¼Œä½†æˆ‘ä»¬å¯ä»¥å€ŸåŠ© Redis çš„ <code>del</code> å‘½ä»¤ã€Linux ç®¡é“å’Œ xargs æŒ‡ä»¤æ¥å®Œæˆã€‚</p>
<blockquote>
<p>Redisçš„ <code>del</code> å‘½ä»¤æ”¯æŒåˆ é™¤ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ª keyï¼Œå¹¶è¿”å›è¢«åˆ é™¤ key çš„æ•°é‡ã€‚å¦‚å‘½ä»¤ <code>del key1 key2 key3</code>ã€‚</p>
</blockquote>
<p>æ¯”å¦‚è¦åˆ é™¤æ‰€æœ‰ä»¥ WxMpSessionKey å¼€å¤´çš„ Keyï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[redis@iztz9ploifbvce ~]# redis-cli -h 192.168.182.227 -p 1379 keys &quot;WxMpSessionKey*&quot; |xargs redis-cli -h 192.168.182.227 -p 1379 del</span><br><span class="line">(integer) 2674</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¿æ¥ Redis çš„ HOST ä¸º 127.0.0.1ï¼Œç«¯å£å·ä¹Ÿä¸ºé»˜è®¤çš„ 6379ï¼Œåˆ™ä»¥ä¸Šçš„å‘½ä»¤å¯ä»¥ç®€å†™ä¸ºï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">redis-cli keys &quot;WxMpSessionKey*&quot; |xargs redis-cli del</span><br></pre></td></tr></table></figure>





<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS7ä¸‹å®‰è£…JDK1.8</title>
    <url>/2019/08/30/how-to-install-jdk-1-8-on-centos-7/</url>
    <content><![CDATA[<h2 id="å®‰è£…Java-å¹µå‘å·¥å…·åŒ…ï¼ˆJDKï¼‰"><a href="#å®‰è£…Java-å¹µå‘å·¥å…·åŒ…ï¼ˆJDKï¼‰" class="headerlink" title="å®‰è£…Java å¹µå‘å·¥å…·åŒ…ï¼ˆJDKï¼‰"></a>å®‰è£…Java å¹µå‘å·¥å…·åŒ…ï¼ˆJDKï¼‰</h2><span id="more"></span>
<ol>
<li><p>ä» Oracle å®˜ç½‘ä¸‹è½½ 1.8 ç‰ˆæœ¬çš„<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">å®‰è£…åŒ… </a>ï¼ˆç½‘é€Ÿæ…¢çš„åŒå­¦è¯·ç§»æ­¥<a href="https://pan.baidu.com/s/13-dtHfGUxb9c2aFzHOqqwg">å›½å†…é•œåƒ</a>ï¼Œæå–ç ä¸º <strong>rjqx</strong>ï¼‰ï¼Œæœ¬æ¬¡å®‰è£…çš„JDKç‰ˆæœ¬ä¸º <code>jdk-8u221-linux-x64.tar.gz</code>ï¼›</p>
</li>
<li><p>ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼ˆç³»ç»Ÿä¸º CentOS7.3ï¼‰ï¼Œå­˜æ”¾ç›®å½•ä¸º <code>/home</code>ï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">scp ~/Downloads/jdk-8u221-linux-x64.tar.gz root@192.168.3.67:/home</span><br></pre></td></tr></table></figure></li>
<li><p>æ–°å»ºJDKå®‰è£…ç›®å½• <code>/usr/local/java</code>ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir /usr/local/java</span><br></pre></td></tr></table></figure></li>
<li><p>è§£å‹æ–‡ä»¶ <code>jdk-8u221-linux-x64.tar.gz</code> è‡³å®‰è£…ç›®å½• <code>/usr/local/java</code>ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar -zxvf jdk-8u221-linux-x64.tar.gz -C /usr/local/java/</span><br></pre></td></tr></table></figure></li>
<li><p>å®‰è£…å®Œæˆä¹‹åéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œå°†ä»¥ä¸‹ä»£ç è¿½åŠ åˆ°æ–‡ä»¶ <code>profile</code> æœ«å°¾ï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">JAVA_HOMEä¸ºJDKå®‰è£…ç›®å½•</span></span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_221</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure>

<p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[johnson@localhost home]# vim /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_221</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure></li>
<li><p>æ‰§è¡Œå‘½ä»¤ <code>source /etc/profile</code> ä½¿åˆšåˆšæ–°åŠ çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼›</p>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤ <code>java -version</code> æ£€æµ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼Œè‹¥å®‰è£…å¹¶é…ç½®æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°ä»¥è¾“å‡ºï¼›å¦‚æœå¾—åˆ°è¯¸å¦‚â€œ-bash: java: æœªæ‰¾åˆ°å‘½ä»¤ â€å°±éœ€è¦é€€å›å»åå¤æ£€æŸ»å®‰è£…å’Œé…ç½®æ­¥éª¤æ˜¯å¦æ­£ç¡®ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[johnson@localhost home]# java -version</span><br><span class="line">java version &quot;1.8.0_221&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_221-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><p>å¦‚æœ CentOS ç³»ç»Ÿä¸­é›†æˆäº† OpenJDKï¼Œé‚£ä¹ˆéœ€è¦å…ˆå¸è½½è‡ªå¸¦çš„ OpenJDK æ‰èƒ½å®‰è£…æ ‡å‡†ç‰ˆ JDKï¼Œå¸è½½å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>ç³»ç»Ÿç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep java</span><br></pre></td></tr></table></figure>

<p>è‹¥ç³»ç»Ÿä¸­é›†æˆäº† OpenJDKï¼Œä¼šå‡ºç° xxxx_openjdk_xxxx çš„ä¿¡æ¯ï¼›</p>
</li>
<li><p>åˆ é™¤ OpenJDKï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯åˆ é™¤æˆåŠŸï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rpm -e â€“-nodeps xxxx_openjdk_xxxx </span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æŠŠä¸Šé¢ä¸¤æ¡å‘½ä»¤åˆå¹¶æˆä¸€æ¡å‘½ä»¤ï¼Œä¸€æ¬¡æ€§åˆ é™¤æˆåŠŸï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rpm -e --nodeps rpm -qa | grep java</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ä»¥ä¸‹å¸è½½å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum -y remove xxxx_openjdk_xxxx</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Java-æœ¯è¯­è¯´æ˜"><a href="#Java-æœ¯è¯­è¯´æ˜" class="headerlink" title="Java æœ¯è¯­è¯´æ˜"></a>Java æœ¯è¯­è¯´æ˜</h2><p>è¡¨ 2-1 Java æœ¯è¯­</p>
<table>
<thead>
<tr>
<th>æœ¯è¯­å</th>
<th>ç¼©å†™</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>Java Development Kit</td>
<td>JDK</td>
<td>ç¼–å†™ Java ç¨‹åºçš„ç¨‹åºå‘˜ä½¿ç”¨çš„è½¯ä»¶</td>
</tr>
<tr>
<td>Java Runtime Environment</td>
<td>JRE</td>
<td>è¿è¡Œ Java ç¨‹åºçš„ç”¨æˆ·ä½¿ç”¨çš„è½¯ä»¶</td>
</tr>
<tr>
<td>Server JRE</td>
<td>â€“</td>
<td>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ Java ç¨‹åºçš„è½¯ä»¶</td>
</tr>
<tr>
<td>Standard Edition</td>
<td>SE</td>
<td>ç”¨äºæ¡Œé¢æˆ–ç®€å•æœåŠ¡å™¨åº”ç”¨çš„ Java å¹³å°</td>
</tr>
<tr>
<td>Enterprise Edition</td>
<td>EE</td>
<td>ç”¨äºå¤æ‚æœåŠ¡å™¨åº”ç”¨çš„ Java å¹³å°</td>
</tr>
<tr>
<td>Micro Edition</td>
<td>ME</td>
<td>ç”¨äºæ‰‹æœºå’Œå…¶ä»–å°å‹è®¾å¤‡çš„ Java å¹³å°</td>
</tr>
<tr>
<td>Java FX</td>
<td>â€“</td>
<td>ç”¨äºå›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢çš„ä¸€ä¸ªæ›¿ä»£å·¥å…·åŒ…ï¼Œåœ¨ Oracle çš„ Java SE å‘å¸ƒç‰ˆæœ¬ä¸­æä¾›</td>
</tr>
<tr>
<td>OpenJDK</td>
<td>â€“</td>
<td>JavaSEçš„ä¸€ä¸ªå…è´¹å¹µæºå®ç°ï¼Œä¸åŒ…å«æµè§ˆå™¨é›†æˆæˆ–JavaFX</td>
</tr>
<tr>
<td>Java 2</td>
<td>J2</td>
<td>ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œç”¨äºæè¿° 1998 å¹´ ã€œ 2006 å¹´ä¹‹é—´çš„ Java ç‰ˆæœ¬</td>
</tr>
<tr>
<td>Software Development Kit</td>
<td>SDK</td>
<td>ä¸€ä¸ªè¿‡æ—¶çš„æœ¯è¯­ï¼Œ ç”¨äºæè¿° 1998 å¹´ ~ 2006 å¹´ä¹‹é—´çš„ JDK</td>
</tr>
<tr>
<td>Update</td>
<td>u</td>
<td>Oracle çš„æœ¯è¯­ï¼Œ è¡¨ç¤º bug ä¿®æ­£ç‰ˆæœ¬</td>
</tr>
<tr>
<td>NetBeans</td>
<td>â€“</td>
<td>Oracle çš„é›†æˆå¼€å‘ç¯å¢ƒ</td>
</tr>
</tbody></table>
<p>æ‘˜è‡³ã€ŠJavaæ ¸å¿ƒæŠ€æœ¯ å·I åŸºç¡€çŸ¥è¯†ï¼ˆåŸä¹¦ç¬¬åç‰ˆï¼‰ã€‹</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Gitå¸¸ç”¨å‘½ä»¤ã€‘æŸ¥çœ‹/ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€</title>
    <url>/2019/10/07/git-how-to-change-the-url-for-a-remote-git-repository/</url>
    <content><![CDATA[<h2 id="GitæŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€"><a href="#GitæŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="GitæŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€"></a>GitæŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">git remote -v</span><br><span class="line">origin	http://gogs.linjiangxiong.com/ljx/devops-doc.git (fetch)</span><br><span class="line">origin	http://gogs.linjiangxiong.com/ljx/devops-doc.git (push)</span><br></pre></td></tr></table></figure>

<h2 id="Gitä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€"><a href="#Gitä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€" class="headerlink" title="Gitä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€"></a>Gitä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git remote set-url origin new.git.url/here</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°†è¿œç¨‹ä»“åº“åœ°å€æ”¹ä¸º HTTPS åè®®</span></span><br><span class="line">git remote set-url origin https://gogs.linjiangxiong.com/ljx/devops-doc.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ä¿®æ”¹åçš„åœ°å€</span></span><br><span class="line">git remote -v</span><br><span class="line">origin	https://gogs.linjiangxiong.com/ljx/devops-doc.git (fetch)</span><br><span class="line">origin	https://gogs.linjiangxiong.com/ljx/devops-doc.git (push)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºMySQLæ•°æ®åº“è‡ªå¢ä¸»é”®ï¼Œè¯´å‡ ä¸ªå®¹æ˜“è¢«å¿½ç•¥çš„ç‚¹</title>
    <url>/2019/10/12/mysql-auto-increment-id/</url>
    <content><![CDATA[<h2 id="è‡ªå¢ä¸»é”®æ˜¯ä»€ä¹ˆ"><a href="#è‡ªå¢ä¸»é”®æ˜¯ä»€ä¹ˆ" class="headerlink" title="è‡ªå¢ä¸»é”®æ˜¯ä»€ä¹ˆ"></a>è‡ªå¢ä¸»é”®æ˜¯ä»€ä¹ˆ</h2><p>è‡ªå¢ä¸»é”®æ˜¯æŒ‡åœ¨è‡ªå¢åˆ—ä¸Šå®šä¹‰çš„ä¸»é”®ã€‚è‡ªå¢ä¸»é”®å¯ä»¥è®©ä¸»é”®ç´¢å¼•å°½é‡åœ°ä¿æŒé€’å¢é¡ºåºæ’å…¥ï¼Œé¿å…äº†é¡µåˆ†è£‚ï¼Œç´¢å¼•ä¹Ÿæ›´ç´§å‡‘ã€‚</p>
<p>åœ¨å»ºè¡¨è¯­å¥ä¸­ä¸€èˆ¬æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">NOT NULL PRIMARY KEY AUTO_INCREMENT</span><br></pre></td></tr></table></figure>

<p>å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `t` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `step` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="è‡ªå¢å€¼ä¿å­˜åœ¨å“ªé‡Œ"><a href="#è‡ªå¢å€¼ä¿å­˜åœ¨å“ªé‡Œ" class="headerlink" title="è‡ªå¢å€¼ä¿å­˜åœ¨å“ªé‡Œ"></a>è‡ªå¢å€¼ä¿å­˜åœ¨å“ªé‡Œ</h2><p>ä¸åŒçš„æ•°æ®åº“å¼•æ“å¯¹äºè‡ªå¢å€¼çš„ä¿å­˜ç­–ç•¥ä¸åŒï¼š</p>
<ul>
<li>MyISAM å¼•æ“ï¼šè‡ªå¢å€¼ä¿å­˜åœ¨æ•°æ®æ–‡ä»¶ä¸­ï¼›</li>
<li>InnoDBå¼•æ“ï¼š<ul>
<li>åœ¨ MySQL 5.7 åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè‡ªå¢å€¼ä¿å­˜åœ¨å†…å­˜é‡Œï¼Œå¹¶æ²¡æœ‰æŒä¹…åŒ–ã€‚æ¯æ¬¡é‡å¯åï¼Œç¬¬ä¸€æ¬¡æ‰“å¼€è¡¨çš„æ—¶å€™ï¼Œéƒ½ä¼šå»æ‰¾è‡ªå¢å€¼çš„æœ€å¤§å€¼ <code>max(id)</code>ï¼Œç„¶åå°† <code>max(id)+1</code> ä½œä¸ºè¿™ä¸ªè¡¨å½“å‰çš„è‡ªå¢å€¼ã€‚ï»¿</li>
<li>åœ¨ MySQL 8.0 ç‰ˆæœ¬ï¼Œå°†è‡ªå¢å€¼çš„å˜æ›´è®°å½•åœ¨äº† redo log ä¸­ï¼Œé‡å¯çš„æ—¶å€™ä¾é  redo log æ¢å¤é‡å¯ä¹‹å‰çš„å€¼ã€‚</li>
</ul>
</li>
</ul>
<h2 id="è‡ªå¢å€¼ä¿®æ”¹æœºåˆ¶"><a href="#è‡ªå¢å€¼ä¿®æ”¹æœºåˆ¶" class="headerlink" title="è‡ªå¢å€¼ä¿®æ”¹æœºåˆ¶"></a>è‡ªå¢å€¼ä¿®æ”¹æœºåˆ¶</h2><p>å‡è®¾æ•°æ®è¡¨å½“å‰çš„è‡ªå¢å€¼æ˜¯ Yï¼Œåœ¨æ’å…¥ä¸€è¡Œæ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®åº“çš„æ‰§è¡Œæƒ…å†µå¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœæ’å…¥æ•°æ®æ—¶è‡ªå¢å­—æ®µæŒ‡å®šäº†å…·ä½“çš„å€¼ Xï¼Œå°±ç›´æ¥ä½¿ç”¨å€¼ X å¡«åˆ°è¯¥è‡ªå¢å­—æ®µï¼Œè¯¥è¡¨çš„è‡ªå¢å€¼æ˜¯å¦ä¿®æ”¹çš„åˆ¤æ–­å¦‚ä¸‹ï¼š<ul>
<li>è‹¥ X&lt;Yï¼Œåˆ™è¯¥è¡¨çš„è‡ªå¢å€¼ä¸å˜ï¼›</li>
<li>è‹¥ Xâ‰¥Yï¼Œåˆ™éœ€è¦ä¿®æ”¹è¯¥è¡¨çš„è‡ªå¢å€¼ä¸º X + auto_increment_incrementï¼ˆæ­¥é•¿ï¼‰ã€‚</li>
</ul>
</li>
<li>å¦‚æœæ’å…¥æ•°æ®æ—¶è‡ªå¢å­—æ®µæœªæŒ‡å®šå€¼æˆ–æŒ‡å®šä¸º 0ã€nullï¼Œåˆ™æŠŠè¯¥è¡¨å½“å‰çš„è‡ªå¢å€¼ï¼ˆå³ Yï¼‰å¡«åˆ°è‡ªå¢å­—æ®µï¼Œå¹¶ä¿®æ”¹è¯¥è¡¨çš„è‡ªå¢å€¼ä¸º Y + auto_increment_incrementï¼ˆæ­¥é•¿ï¼‰ã€‚</li>
</ul>
<p>å®é™…ä¸Šï¼ŒMySQL ç»´æŠ¤ç€ä¸¤ä¸ªç³»ç»Ÿå‚æ•°ï¼šauto_increment_offset å’Œ auto_increment_incrementï¼Œåˆ†åˆ«ç”¨æ¥è¡¨ç¤ºè‡ªå¢çš„åˆå§‹å€¼å’Œæ­¥é•¿ï¼Œé»˜è®¤å€¼éƒ½ä¸º 1ã€‚<strong>MySQL ä¿®æ”¹æ•°æ®è¡¨è‡ªå¢å€¼æ˜¯ä» auto_increment_offset å¼€å§‹ï¼Œä»¥ auto_increment_increment ä¸ºæ­¥é•¿ï¼ŒæŒç»­å åŠ ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº X çš„å€¼ï¼Œä½œä¸ºæ–°çš„è‡ªå¢å€¼ã€‚</strong></p>
<blockquote>
<p>åœ¨åŒ M çš„ä¸»å¤‡ç»“æ„é‡Œè¦æ±‚åŒå†™çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯èƒ½ä¼šè®¾ç½®æˆ auto_increment_increment=2ï¼Œè®©ä¸€ä¸ªåº“çš„è‡ªå¢ id éƒ½æ˜¯å¥‡æ•°ï¼Œå¦ä¸€ä¸ªåº“çš„è‡ªå¢ id éƒ½æ˜¯å¶æ•°ï¼Œé¿å…ä¸¤ä¸ªåº“ç”Ÿæˆçš„ä¸»é”®å‘ç”Ÿå†²çªã€‚</p>
</blockquote>
<h2 id="è‡ªå¢å€¼çš„ä¿®æ”¹æ—¶æœº"><a href="#è‡ªå¢å€¼çš„ä¿®æ”¹æ—¶æœº" class="headerlink" title="è‡ªå¢å€¼çš„ä¿®æ”¹æ—¶æœº"></a>è‡ªå¢å€¼çš„ä¿®æ”¹æ—¶æœº</h2><p><strong>æ•°æ®è¡¨çš„è‡ªå¢å€¼ä¿®æ”¹å®é™…ä¸Šæ˜¯åœ¨çœŸæ­£æ’å…¥æ•°æ®çš„æ“ä½œä¹‹å‰ã€‚å¦‚æœæ²¡æœ‰æ’å…¥æˆåŠŸï¼ŒMySQL ä¹Ÿä¸ä¼šå°†è‡ªå¢å€¼å†æ”¹å›å»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè‡ªå¢ä¸»é”®æœ‰å¯èƒ½ä¼šå‡ºç°ä¸è¿ç»­çš„æƒ…å†µã€‚</strong>æ¯”å¦‚åœ¨æ’å…¥æ•°æ®æ—¶å‡ºé”™ï¼ˆå¦‚è¿åå”¯ä¸€é”®çº¦æŸï¼‰ï¼Œæˆ–è€…äº‹åŠ¡å›æ»šçš„æƒ…å†µä¸‹ï¼Œéƒ½ä¼šå¯¼è‡´è‡ªå¢ä¸»é”®ä¸è¿ç»­ã€‚</p>
<p>å¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤éªŒè¯ï¼š</p>
<ol>
<li><p>åˆ›å»ºè¡¨ t_autoï¼ŒåŒ…å«ä¸»é”®ã€æ‰‹æœºå·å’Œå§“åä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­ä¸»é”®è‡ªå¢ï¼Œæ‰‹æœºå·é™åˆ¶å”¯ä¸€ã€‚è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `t_auto` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `mobile` varchar(11) DEFAULT NULL,</span><br><span class="line">  `name` varchar(20) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `m` (`mobile`)</span><br><span class="line">) ENGINE=InnoDB;</span><br></pre></td></tr></table></figure></li>
<li><p>æ’å…¥ä¸€æ¡è®°å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t_auto values(null, &#x27;18500009999&#x27;, &#x27;å°æ˜&#x27;); </span><br></pre></td></tr></table></figure></li>
<li><p>æ‰§è¡Œ <code>show create table</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table t_auto \G;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ° AUTO_INCREMENT=2ï¼Œè¡¨ç¤ºä¸‹ä¸€æ¬¡æ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœéœ€è¦è‡ªåŠ¨ç”Ÿæˆè‡ªå¢å€¼ï¼Œä¼šç”Ÿæˆ id=2ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: t_auto</span><br><span class="line">Create Table: CREATE TABLE `t_auto` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `mobile` varchar(11) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  `name` varchar(20) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `m` (`mobile`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">ERROR: </span><br><span class="line">No query specified</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¡¨æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from t_auto;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>id</th>
<th>mobile</th>
<th>name</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>18500009999</td>
<td>å°æ˜</td>
</tr>
</tbody></table>
</li>
<li><p>å†æ’å…¥ä¸€æ¡æ•°æ®ï¼Œæ‰‹æœºå·å’Œä¸Šä¸€æ¡æ•°æ®ä¸€æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t_auto values(null, &#x27;18500009999&#x27;, &#x27;å°çº¢&#x27;); </span><br></pre></td></tr></table></figure>

<p>å› ä¸ºç¢°åˆ°å”¯ä¸€é”® m å†²çªï¼ˆæ‰‹æœºå·è¦æ±‚å”¯ä¸€ï¼‰ï¼Œæ‰€ä»¥ id=2 è¿™ä¸€è¡Œå¹¶æ²¡æœ‰æ’å…¥æˆåŠŸï¼Œé”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;18500009999&#x27; for key &#x27;m&#x27;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæµç¨‹å°±æ˜¯ï¼š</p>
<ol>
<li>æ‰§è¡Œå™¨è°ƒç”¨ InnoDB å¼•æ“æ¥å£å†™å…¥ä¸€è¡Œï¼Œä¼ å…¥çš„è¿™ä¸€è¡Œçš„å€¼æ˜¯ (0, â€˜18500009999â€™, â€˜å°çº¢â€™);</li>
<li>InnoDB å‘ç°ç”¨æˆ·æ²¡æœ‰æŒ‡å®šè‡ªå¢ id çš„å€¼ï¼Œè·å–è¡¨ t å½“å‰çš„è‡ªå¢å€¼ 2ï¼›</li>
<li>å°†ä¼ å…¥çš„è¡Œçš„å€¼æ”¹æˆ (2, â€˜18500009999â€™, â€˜å°çº¢â€™);</li>
<li>å°†è¡¨çš„è‡ªå¢å€¼æ”¹æˆ 3ï¼›</li>
<li>ç»§ç»­æ‰§è¡Œæ’å…¥æ•°æ®æ“ä½œï¼Œç”±äºå·²ç»å­˜åœ¨ mobile=18500009999 çš„è®°å½•ï¼Œæ‰€ä»¥æŠ¥ Duplicate key errorï¼Œè¯­å¥è¿”å›ã€‚</li>
</ol>
</blockquote>
</li>
<li><p>æ‰§è¡Œ <code>show create table</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table t_auto \G;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ° AUTO_INCREMENT=3ï¼ŒMySQL æ²¡æœ‰å°†è‡ªå¢å€¼å†æ”¹å›å»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: t_auto</span><br><span class="line">Create Table: CREATE TABLE `t_auto` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `mobile` varchar(11) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  `name` varchar(20) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `m` (`mobile`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">ERROR: </span><br><span class="line">No query specified</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹æ‰‹æœºå·ï¼Œå†é‡æ–°æ’å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t_auto values(null, &#x27;18500009998&#x27;, &#x27;å°çº¢&#x27;); </span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æŸ¥è¯¢è¡¨æ•°æ®ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from t_auto;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>id</th>
<th>mobile</th>
<th>name</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>18500009999</td>
<td>å°æ˜</td>
</tr>
<tr>
<td>3</td>
<td>18500009998</td>
<td>å°çº¢</td>
</tr>
</tbody></table>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡ºç°äº†è‡ªå¢ä¸»é”®ä¸è¿ç»­çš„æƒ…å†µã€‚</p>
</li>
</ol>
<p>åŒæ ·åœ°ï¼Œ<strong>äº‹åŠ¡å›æ»šä¹Ÿä¼šå‡ºç°è‡ªå¢ä¸»é”®ä¸è¿ç»­çš„æƒ…å†µã€‚</strong>æ¯”å¦‚ï¼Œ</p>
<ol>
<li><p>å…ˆæ‰§è¡Œä»¥ä¸‹äº‹åŠ¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">begin;</span><br><span class="line">insert into t_auto values(null, &#x27;18500009997&#x27;, &#x27;å°æ±Ÿ&#x27;);</span><br><span class="line">rollback;</span><br></pre></td></tr></table></figure></li>
<li><p>å†æ‰§è¡Œ <code>how create table</code> å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table t_auto \G;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ° AUTO_INCREMENT=5ï¼ŒMySQL æ²¡æœ‰å°†è‡ªå¢å€¼æ”¹å›å»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: t_auto</span><br><span class="line">Create Table: CREATE TABLE `t_auto` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `mobile` varchar(11) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  `name` varchar(20) COLLATE utf8_bin DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `m` (`mobile`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_bin</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">ERROR: </span><br><span class="line">No query specified</span><br></pre></td></tr></table></figure></li>
<li><p>å†æ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t_auto values(null, &#x27;18500009996&#x27;, &#x27;å°é’&#x27;);</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢æ•°æ®è¡¨ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from t_auto;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>id</th>
<th>mobile</th>
<th>name</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>18500009999</td>
<td>å°æ˜</td>
</tr>
<tr>
<td>3</td>
<td>18500009998</td>
<td>å°çº¢</td>
</tr>
<tr>
<td>5</td>
<td>18500009996</td>
<td>å°é’</td>
</tr>
</tbody></table>
</li>
</ol>
<blockquote>
<p>åœ¨æ•°æ®æ’å…¥å¤±è´¥æ—¶ï¼ŒMySQL ä¸å°†è‡ªå¢å€¼æ”¹å›å»æ˜¯ä¸ºäº†æå‡æ€§èƒ½ã€‚åœ¨ç”³è¯·è‡ªå¢å€¼æ—¶ï¼Œä¸ºé¿å…å¤šä¸ªå¹¶è¡Œæ‰§è¡Œçš„äº‹åŠ¡ç”³è¯·åˆ°åŒä¸€ä¸ªè‡ªå¢ idï¼Œåœ¨ç”³è¯·çš„è¿‡ç¨‹ä¸­ä¼šåŠ é”ï¼Œç„¶åæŒ‰é¡ºåºæ‰§è¡Œã€‚è‡ªå¢ id é”å¹¶ä¸æ˜¯ä¸€ä¸ªäº‹åŠ¡é”ï¼Œè€Œæ˜¯æ¯æ¬¡ç”³è¯·å®Œå°±é©¬ä¸Šé‡Šæ”¾ï¼Œä»¥ä¾¿å…è®¸åˆ«çš„äº‹åŠ¡å†ç”³è¯·ã€‚</p>
<p>ç»§ç»­ä»¥ä¸Šè¿°çš„è¡¨ t_auto ä¸ºä¾‹ï¼Œæ­¤æ—¶è¡¨å½“å‰è‡ªå¢å€¼ä¸º 6ï¼š</p>
<ol>
<li>å‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªå¹¶è¡Œæ‰§è¡Œçš„äº‹åŠ¡ A å’Œ Bï¼Œå…¶ä¸­äº‹åŠ¡ A ç”³è¯·åˆ°äº† id=6ï¼Œäº‹åŠ¡ B ç”³è¯·åˆ°äº† id=7ï¼Œè¿™æ—¶æ•°æ®è¡¨çš„è‡ªå¢å€¼æ˜¯ 8ï¼ˆå³ AUTO_INCREMENT=8ï¼‰ï¼Œç»§ç»­æ‰§è¡Œï¼›</li>
<li>äº‹åŠ¡ B æ­£ç¡®æäº¤ï¼Œä½†äº‹åŠ¡ A æäº¤å¤±è´¥ï¼Œæ¯”å¦‚å‡ºç°å”¯ä¸€é”®å†²çªï¼›</li>
<li>å¦‚æœå…è®¸è‡ªå¢ id å›é€€çš„è¯ï¼Œè¡¨ t_auto ä¼šæŠŠå½“å‰çš„è‡ªå¢å€¼æ”¹ä¸º 6ï¼Œæ­¤æ—¶ä¼šå‡ºç°è¡¨çš„è‡ªå¢å€¼ä¸º 6ï¼Œä½†è¡¨ä¸­å´å­˜åœ¨ id=7 çš„æ•°æ®ï¼›</li>
<li>æ¥ä¸‹æ¥å…¶ä»–äº‹åŠ¡ç”³è¯·è‡ªå¢å€¼å°±ä¼šç”³è¯·åˆ° id=6ï¼Œç„¶åå†ç”³è¯·åˆ° id=7ï¼Œè¿™æ—¶å°±ä¼šå‡ºç°æ’å…¥è¯­å¥æŠ¥é”™â€œä¸»é”®å†²çªâ€ã€‚</li>
</ol>
<p>è§£å†³è¿™ä¸ªä¸»é”®å†²çªï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€ç§æ˜¯æ¯æ¬¡ç”³è¯· id æ—¶ï¼Œåˆ¤æ–­è¿™ä¸ª id æ˜¯å¦å·²ç»å­˜åœ¨äºè¡¨ä¸­ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™è·³è¿‡è¿™ä¸ª idï¼›å¦ä¸€ç§æ˜¯æŠŠè‡ªå¢ id çš„é”èŒƒå›´æ‰©å¤§ï¼Œå¿…é¡»ç­‰åˆ°äº‹åŠ¡å®Œæˆæäº¤ï¼Œå†é‡Šæ”¾é”ï¼Œä¸‹ä¸€ä¸ªäº‹åŠ¡æ‰èƒ½å†ç”³è¯·è‡ªå¢ idã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼šä¸€ä¸ªæ˜¯æ¯æ¬¡ç”³è¯· id éƒ½è¦å»ä¸»é”®ç´¢å¼•æ ‘åˆ¤æ–­ id æ˜¯å¦å­˜åœ¨ï¼Œå¦ä¸€ä¸ªæ˜¯é”çš„ç²’åº¦å¤ªå¤§ï¼Œå¯¼è‡´ç³»ç»Ÿå¹¶å‘èƒ½åŠ›å¤§å¤§ä¸‹é™ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>ä¸ºä¿è¯ MySQL çš„æ€§èƒ½ï¼ŒInnoDB æ”¾å¼ƒäº†è¿™ä¸ªè®¾è®¡ï¼Œè¯­å¥æ‰§è¡Œå¤±è´¥ä¹Ÿä¸å›é€€è‡ªå¢ idã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™æ ·ï¼Œæ‰€ä»¥æ‰åªä¿è¯äº†è‡ªå¢ id æ˜¯é€’å¢çš„ï¼Œä½†ä¸ä¿è¯æ˜¯è¿ç»­çš„ã€‚</strong></p>
</blockquote>
<h2 id="è‡ªå¢é”çš„ä¼˜åŒ–"><a href="#è‡ªå¢é”çš„ä¼˜åŒ–" class="headerlink" title="è‡ªå¢é”çš„ä¼˜åŒ–"></a>è‡ªå¢é”çš„ä¼˜åŒ–</h2><p>è‡ªå¢ id é”ä¸æ˜¯äº‹åŠ¡é”ï¼Œåœ¨æ¯æ¬¡ç”³è¯·å®Œå°±ç«‹é©¬é‡Šæ”¾ï¼Œä»¥ä¾¿å…è®¸å…¶ä»–äº‹åŠ¡å¯ä»¥ç”³è¯·ã€‚</p>
<p>å…¶å®ï¼Œåœ¨ MySQL 5.0 ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè‡ªå¢é”çš„èŒƒå›´æ˜¯è¯­å¥çº§åˆ«ï¼Œå³ä¸€ä¸ªè¯­å¥ç”³è¯·äº†è¡¨è‡ªå¢é”ï¼Œè¿™ä¸ªé”è¦ç­‰åˆ°è¯¥è¯­å¥æ‰§è¡Œå®Œä»¥åæ‰é‡Šæ”¾ï¼Œåœ¨æ­¤ä¹‹å‰å…¶ä»–éœ€è¦ç”³è¯·è¡¨è‡ªå¢é”çš„è¯­å¥ä¼šè¢«é˜»å¡ã€‚æ­¤ä¸¾è™½ç„¶ä¿è¯äº†æ•°æ®ä¸€è‡´æ€§ï¼Œä½†æ˜¯é™ä½äº†å¹¶å‘åº¦ã€‚</p>
<p>åœ¨ MySQL 5.1.22 ç‰ˆæœ¬å¼•å…¥äº†ä¸€ä¸ªæ–°ç­–ç•¥ï¼Œæ–°å¢å‚æ•° innodb_autoinc_lock_modeï¼Œç”¨æˆ·å¯æ ¹æ®å®é™…æƒ…å†µå®šåˆ¶é”ç­–ç•¥ï¼Œè¯¥å‚æ•°æœ‰å¦‚ä¸‹å€¼ ï¼ˆé»˜è®¤å€¼æ˜¯ 1ï¼‰ï¼š</p>
<ul>
<li><p>å€¼ä¸º 0ï¼ˆTraditionalï¼Œä¼ ç»Ÿï¼‰æ—¶ï¼Œé‡‡ç”¨ä¼ ç»Ÿé”æ¨¡å¼ï¼Œå³é‡‡ç”¨ä¹‹å‰ MySQL 5.0 ç‰ˆæœ¬çš„ç­–ç•¥ï¼Œæ‰€æœ‰ insert æ“ä½œéƒ½è¦ç”³è¯·è‡ªå¢é”ï¼Œè¯­å¥æ‰§è¡Œç»“æŸåæ‰é‡Šæ”¾é”ï¼›</p>
</li>
<li><p>å€¼ä¸º 1ï¼ˆConsecutiveï¼Œè¿ç»­ï¼‰æ—¶ï¼š</p>
<ul>
<li>æ™®é€š insert è¯­å¥ï¼Œè‡ªå¢é”åœ¨ç”³è¯·ä¹‹åå°±é©¬ä¸Šé‡Šæ”¾ï¼›</li>
<li>æ‰¹é‡ insert è¯­å¥ï¼Œç±»ä¼¼ insert â€¦ selectã€replaceâ€¦select è¿™æ ·çš„æ‰¹é‡æ’å…¥æ•°æ®çš„è¯­å¥ï¼Œè‡ªå¢é”è¿˜æ˜¯è¦ç­‰è¯­å¥ç»“æŸåæ‰è¢«é‡Šæ”¾ï¼›</li>
</ul>
</li>
<li><p>å€¼ä¸º 2ï¼ˆInterleavedï¼Œäº¤é”™ï¼‰æ—¶ï¼Œæ‰€æœ‰çš„ç”³è¯·è‡ªå¢ä¸»é”®çš„åŠ¨ä½œéƒ½æ˜¯ç”³è¯·åå°±é‡Šæ”¾é”ã€‚</p>
</li>
</ul>
<p>åœ¨æ™®é€šçš„ insert è¯­å¥é‡Œé¢åŒ…å«å¤šä¸ª value å€¼çš„æƒ…å†µä¸‹ï¼Œå¦‚ä»¥ä¸‹çš„ insert è¯­å¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INSERT INTO `t_auto` (`mobile`, `name`)</span><br><span class="line">VALUES</span><br><span class="line">	(&#x27;13987890987&#x27;, &#x27;ç‹æœ&#x27;),</span><br><span class="line">	(&#x27;13987890988&#x27;, &#x27;é©¬æ±‰&#x27;),</span><br><span class="line">	(&#x27;13987890989&#x27;, &#x27;å±•æ˜­&#x27;);</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºè¿™ç±»è¯­å¥åœ¨ç”³è¯·è‡ªå¢ id çš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥ç²¾ç¡®è®¡ç®—å‡ºéœ€è¦å¤šå°‘ä¸ª id çš„ï¼Œç„¶åä¸€æ¬¡æ€§ç”³è¯·ï¼Œç”³è¯·å®Œæˆåé”å°±å¯ä»¥é‡Šæ”¾äº†ã€‚</p>
<p>è€Œå¯¹äºæ‰¹é‡æ’å…¥æ•°æ®çš„è¯­å¥ï¼ˆselect â€¦ insertï¼Œreplace â€¦ select å’Œ load data è¯­å¥ï¼‰ï¼ŒMySQL æœ‰ä¸€ä¸ªæ‰¹é‡ç”³è¯·è‡ªå¢ id çš„ç­–ç•¥ï¼ˆ<strong>æ³¨ï¼šè¯¥ç­–ç•¥æ˜¯å¯¼è‡´è‡ªå¢ id ä¸è¿ç»­çš„ç¬¬ä¸‰ç§åŸå› ã€‚</strong>ï¼‰ï¼š</p>
<ol>
<li>è¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ¬¡ç”³è¯·è‡ªå¢ idï¼Œä¼šåˆ†é… 1 ä¸ªï¼›</li>
<li>1 ä¸ªç”¨å®Œä»¥åï¼Œè¿™ä¸ªè¯­å¥ç¬¬äºŒæ¬¡ç”³è¯·è‡ªå¢ idï¼Œä¼šåˆ†é… 2 ä¸ªï¼›</li>
<li>2 ä¸ªç”¨å®Œä»¥åï¼Œè¿˜æ˜¯è¿™ä¸ªè¯­å¥ï¼Œç¬¬ä¸‰æ¬¡ç”³è¯·è‡ªå¢ idï¼Œä¼šåˆ†é… 4 ä¸ªï¼›</li>
<li>ä¾æ­¤ç±»æ¨ï¼ŒåŒä¸€ä¸ªè¯­å¥å»ç”³è¯·è‡ªå¢ idï¼Œæ¯æ¬¡ç”³è¯·åˆ°çš„è‡ªå¢ id ä¸ªæ•°éƒ½æ˜¯ä¸Šä¸€æ¬¡çš„ä¸¤å€ã€‚</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è¿™ä¸ªè¯­å¥åºåˆ—éªŒè¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- åˆ›å»ºè¡¨step_log</span><br><span class="line">CREATE TABLE `step_log` (</span><br><span class="line">  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `step` int(11) NOT NULL DEFAULT 1 COMMENT &#x27;æ­¥é•¿&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">-- æ’å…¥æ•°æ®</span><br><span class="line">insert into step_log values(null, 1);</span><br><span class="line">insert into step_log values(null, 2);</span><br><span class="line">insert into step_log values(null, 3);</span><br><span class="line">insert into step_log values(null, 4);</span><br><span class="line"></span><br><span class="line">-- åˆ›å»ºè¡¨step_log_2ï¼Œå…¶ç»“æ„ä¸è¡¨step_logç›¸åŒ</span><br><span class="line">create table step_log_2 like step_log;</span><br><span class="line"></span><br><span class="line">-- æ‰¹é‡æ’å…¥æ•°æ®</span><br><span class="line">insert into step_log_2(step) select step from step_log;</span><br><span class="line"></span><br><span class="line">-- æ’å…¥æ•°æ®</span><br><span class="line">insert into step_log_2 values(null, 5);</span><br><span class="line"></span><br><span class="line">-- æŸ¥è¯¢æ­¤æ—¶è¡¨step_log_2æ•°æ®ï¼š</span><br><span class="line">select * from step_log_2;</span><br><span class="line"></span><br><span class="line">-- è¾“å‡ºå¦‚ä¸‹ï¼Œid=5ã€id=6ã€id=7 å°±è¢«è·³è¿‡äº†ï¼š</span><br><span class="line">+----+------+</span><br><span class="line">| id | step |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 |    1 |</span><br><span class="line">|  2 |    2 |</span><br><span class="line">|  3 |    3 |</span><br><span class="line">|  4 |    4 |</span><br><span class="line">|  8 |    5 |</span><br><span class="line">+----+------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>å¼•ç”³ï¼šä¸ºä»€ä¹ˆé»˜è®¤è®¾ç½®ä¸‹ï¼Œinsert â€¦ select è¦ä½¿ç”¨è¯­å¥çº§çš„é”ï¼Ÿä¸ºä»€ä¹ˆè¿™ä¸ªå‚æ•°çš„é»˜è®¤å€¼ä¸æ˜¯ 2ï¼Ÿ</strong></p>
<p>è¿™ä¹ˆè®¾è®¡è¿˜æ˜¯ä¸ºäº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<p>æ–°å»ºæ•°æ®è¡¨ step_logï¼Œä¸€èµ·æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šå¾€è¡¨ step_log ä¸­æ’å…¥äº† 4 è¡Œæ•°æ®ï¼Œç„¶ååˆ›å»ºäº†ä¸€ä¸ªç›¸åŒç»“æ„çš„è¡¨ step_log_2ï¼Œç„¶åä¸¤ä¸ª session åŒæ—¶æ‰§è¡Œå‘è¡¨ step_log_2 ä¸­æ’å…¥æ•°æ®çš„æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `step_log` (</span><br><span class="line">  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `step` int(11) NOT NULL DEFAULT 1 COMMENT &#x27;æ­¥é•¿&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>session A</th>
<th>session B</th>
</tr>
</thead>
<tbody><tr>
<td>insert into step_log values(null, 1);<br/>insert into step_log values(null, 2);<br/>insert into step_log values(null, 3);<br/>insert into step_log values(null, 4);</td>
<td></td>
</tr>
<tr>
<td></td>
<td>create table step_log_2 like step_log;</td>
</tr>
<tr>
<td>insert into step_log values(null, 5);</td>
<td>insert into step_log_2(step) select step from step_log;</td>
</tr>
</tbody></table>
<p>è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœ session B æ˜¯ç”³è¯·äº†è‡ªå¢å€¼ä»¥åé©¬ä¸Šå°±é‡Šæ”¾è‡ªå¢é”ï¼Œé‚£ä¹ˆå°±å¯èƒ½å‡ºç°è¿™æ ·çš„æƒ…å†µï¼š</p>
<ul>
<li>session B å…ˆæ’å…¥äº†ä¸¤ä¸ªè®°å½•ï¼Œ(1,1,1)ã€(2,2,2)ï¼›</li>
<li>ç„¶åï¼Œsession A æ¥ç”³è¯·è‡ªå¢ id å¾—åˆ° id=3ï¼Œæ’å…¥äº†ï¼ˆ3,5,5)ï¼›</li>
<li>ä¹‹åï¼Œsession B ç»§ç»­æ‰§è¡Œï¼Œæ’å…¥ä¸¤æ¡è®°å½• (4,3,3)ã€ (5,4,4)ã€‚</li>
</ul>
<p>ä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¹Ÿæ²¡å…³ç³»å§ï¼Œæ¯•ç«Ÿ session B çš„è¯­ä¹‰æœ¬èº«å°±æ²¡æœ‰è¦æ±‚è¡¨ t2 çš„æ‰€æœ‰è¡Œçš„æ•°æ®éƒ½è·Ÿ session A ç›¸åŒã€‚</p>
<p>æ˜¯çš„ï¼Œä»æ•°æ®é€»è¾‘ä¸Šçœ‹æ˜¯å¯¹çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨çš„ binlog_format=statementï¼Œä½ å¯ä»¥è®¾æƒ³ä¸‹ï¼Œbinlog ä¼šæ€ä¹ˆè®°å½•å‘¢ï¼Ÿ</p>
<p>ç”±äºä¸¤ä¸ª session æ˜¯åŒæ—¶æ‰§è¡Œæ’å…¥æ•°æ®å‘½ä»¤çš„ï¼Œæ‰€ä»¥ binlog é‡Œé¢å¯¹è¡¨ t2 çš„æ›´æ–°æ—¥å¿—åªæœ‰ä¸¤ç§æƒ…å†µï¼šè¦ä¹ˆå…ˆè®° session A çš„ï¼Œè¦ä¹ˆå…ˆè®° session B çš„ã€‚</p>
<p>ä½†ä¸è®ºæ˜¯å“ªä¸€ç§ï¼Œè¿™ä¸ª binlog æ‹¿å»ä»åº“æ‰§è¡Œï¼Œæˆ–è€…ç”¨æ¥æ¢å¤ä¸´æ—¶å®ä¾‹ï¼Œå¤‡åº“å’Œä¸´æ—¶å®ä¾‹é‡Œé¢ï¼Œsession B è¿™ä¸ªè¯­å¥æ‰§è¡Œå‡ºæ¥ï¼Œç”Ÿæˆçš„ç»“æœé‡Œé¢ï¼Œid éƒ½æ˜¯è¿ç»­çš„ã€‚è¿™æ—¶ï¼Œè¿™ä¸ªåº“å°±å‘ç”Ÿäº†æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>ä½ å¯ä»¥åˆ†æä¸€ä¸‹ï¼Œå‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å…¶å®ï¼Œè¿™æ˜¯å› ä¸ºåŸåº“ session B çš„ insert è¯­å¥ï¼Œç”Ÿæˆçš„ id ä¸è¿ç»­ã€‚è¿™ä¸ªä¸è¿ç»­çš„ idï¼Œç”¨ statement æ ¼å¼çš„ binlog æ¥ä¸²è¡Œæ‰§è¡Œï¼Œæ˜¯æ‰§è¡Œä¸å‡ºæ¥çš„ã€‚</p>
<p>è€Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸¤ç§æ€è·¯ï¼š</p>
<ol>
<li>ä¸€ç§æ€è·¯æ˜¯ï¼Œè®©åŸåº“çš„æ‰¹é‡æ’å…¥æ•°æ®è¯­å¥ï¼Œå›ºå®šç”Ÿæˆè¿ç»­çš„ id å€¼ã€‚æ‰€ä»¥ï¼Œè‡ªå¢é”ç›´åˆ°è¯­å¥æ‰§è¡Œç»“æŸæ‰é‡Šæ”¾ï¼Œå°±æ˜¯ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚</li>
<li>å¦ä¸€ç§æ€è·¯æ˜¯ï¼Œåœ¨ binlog é‡Œé¢æŠŠæ’å…¥æ•°æ®çš„æ“ä½œéƒ½å¦‚å®è®°å½•è¿›æ¥ï¼Œåˆ°å¤‡åº“æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸å†ä¾èµ–äºè‡ªå¢ä¸»é”®å»ç”Ÿæˆã€‚è¿™ç§æƒ…å†µï¼Œå…¶å®å°±æ˜¯ innodb_autoinc_lock_mode è®¾ç½®ä¸º 2ï¼ŒåŒæ—¶ binlog_format è®¾ç½®ä¸º rowã€‚</li>
</ol>
<p>å› æ­¤ï¼Œ<strong>åœ¨ç”Ÿäº§ä¸Šï¼Œå°¤å…¶æ˜¯æœ‰ insert â€¦ select è¿™ç§æ‰¹é‡æ’å…¥æ•°æ®çš„åœºæ™¯æ—¶ï¼Œä»å¹¶å‘æ’å…¥æ•°æ®æ€§èƒ½çš„è§’åº¦è€ƒè™‘ï¼Œæˆ‘å»ºè®®ä½ è¿™æ ·è®¾ç½®ï¼šinnodb_autoinc_lock_mode=2 ï¼Œå¹¶ä¸” binlog_format=row</strong>. è¿™æ ·åšï¼Œæ—¢èƒ½æå‡å¹¶å‘æ€§ï¼Œåˆä¸ä¼šå‡ºç°æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘è¿™é‡Œè¯´çš„<strong>æ‰¹é‡æ’å…¥æ•°æ®ï¼ŒåŒ…å«çš„è¯­å¥ç±»å‹æ˜¯ insert â€¦ selectã€replace â€¦ select å’Œ load data è¯­å¥ã€‚</strong></p>
</blockquote>
<h2 id="äº”ã€è‡ªå¢å€¼è¾¾åˆ°ä¸Šé™çš„é€»è¾‘"><a href="#äº”ã€è‡ªå¢å€¼è¾¾åˆ°ä¸Šé™çš„é€»è¾‘" class="headerlink" title="äº”ã€è‡ªå¢å€¼è¾¾åˆ°ä¸Šé™çš„é€»è¾‘"></a>äº”ã€è‡ªå¢å€¼è¾¾åˆ°ä¸Šé™çš„é€»è¾‘</h2><p>è¡¨å®šä¹‰çš„è‡ªå¢å€¼è¾¾åˆ°ä¸Šé™åçš„é€»è¾‘æ˜¯ï¼š<strong>å†ç”³è¯·ä¸‹ä¸€ä¸ª id æ—¶ï¼Œå¾—åˆ°çš„å€¼ä¿æŒä¸å˜ã€‚</strong></p>
<p>å¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤éªŒè¯ï¼š</p>
<ol>
<li><p>åˆ›å»ºè¡¨ tï¼Œå…¶ä¸­åªåŒ…æ‹¬ä¸€ä¸ªä¸»å¢ä¸»é”®ï¼Œå¹¶è®¾ç½® auto_increment=4294967295</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table t(id int unsigned auto_increment primary key) auto_increment=4294967295;</span><br></pre></td></tr></table></figure></li>
<li><p>æ’å…¥ä¸€è¡Œæ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t values(null);</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹æ­¤æ—¶è¡¨ t çš„åˆ›å»ºè¯­å¥:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table t;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `t` (</span><br><span class="line">  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;</span><br></pre></td></tr></table></figure></li>
<li><p>å†æ’å…¥ä¸€è¡Œæ•°æ®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into t values(null);</span><br></pre></td></tr></table></figure>

<p>åˆ™æç¤ºé”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;4294967295&#x27; for key &#x27;PRIMARY&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡æ’å…¥æ•°æ®æˆåŠŸåï¼Œè¿™ä¸ªè¡¨çš„ AUTO_INCREMENT æ²¡æœ‰æ”¹å˜ï¼ˆè¿˜æ˜¯ 4294967295ï¼‰ï¼Œå¯¼è‡´äº†ç¬¬äºŒæ¬¡æ’å…¥çš„æ—¶å€™åˆæ‹¿åˆ°ç›¸åŒçš„è‡ªå¢ id å€¼ï¼Œå†è¯•å›¾æ‰§è¡Œæ—¶ï¼ŒæŠ¥ä¸»é”®å†²çªé”™è¯¯ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨CentOS7ç³»ç»Ÿå®‰è£…å’Œé…ç½®ZooKeeper</title>
    <url>/2019/12/12/how-to-install-zookeeper-on-centos7/</url>
    <content><![CDATA[<h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><ol>
<li><p>ä¸‹è½½å®‰è£…åŒ…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget http://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.5.6/apache-zookeeper-3.5.6-bin.tar.gz</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å½“å‰ç›®å½•ä¸º /home/software</span></span><br><span class="line">[jump@205 software]$ wget http://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.5.6/apache-zookeeper-3.5.6-bin.tar.gz</span><br><span class="line">--2019-12-12 16:43:27--  http://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.5.6/apache-zookeeper-3.5.6-bin.tar.gz</span><br><span class="line">Resolving mirror.bit.edu.cn (mirror.bit.edu.cn)... 219.143.204.117, 202.204.80.77, 2001:da8:204:1205::22</span><br><span class="line">Connecting to mirror.bit.edu.cn (mirror.bit.edu.cn)|219.143.204.117|:80... connected.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: 9230052 (8.8M) [application/octet-stream]</span><br><span class="line">Saving to: â€˜apache-zookeeper-3.5.6-bin.tar.gzâ€™</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">100%</span><span class="language-bash">[===========================================================================================================================================&gt;] 9,230,052   1.08MB/s   <span class="keyword">in</span> 7.5s</span>   </span><br><span class="line"></span><br><span class="line">2019-12-12 16:43:34 (1.17 MB/s) - â€˜apache-zookeeper-3.5.6-bin.tar.gzâ€™ saved [9230052/9230052]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<span id="more"></span></li>
<li><p>æ–°å»º ZooKeeper å®‰è£…ç›®å½•ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /usr/local/zookeeper</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹è¯¥ç›®å½•æƒé™ï¼ˆ<em>å¯é€‰</em>ï¼‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 software]$ sudo chown -R jump.jump /usr/local/zookeeper/</span><br></pre></td></tr></table></figure></li>
<li><p>ZooKeeperè§£å‹è‡³ç›®å½• <code>/usr/local/zookeeper</code>ï¼Œè¾“å‡ºç»“æœè§é™„å½•Aï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 software]$ tar -zxvf apache-zookeeper-3.5.6-bin.tar.gz -C /usr/local/zookeeper</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œå·²æˆåŠŸä¸‹è½½å¹¶å®‰è£…å¥½ ZooKeeperï¼Œå‘½ä»¤åºåˆ—å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å½“å‰ç›®å½•ä¸º /home/software</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ­¥éª¤ä¸€</span></span><br><span class="line">wget http://mirror.bit.edu.cn/apache/zookeeper/zookeeper-3.5.6/apache-zookeeper-3.5.6-bin.tar.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ­¥éª¤äºŒ</span></span><br><span class="line">sudo mkdir -p /usr/local/zookeeper</span><br><span class="line">sudo chown -R jump.jump /usr/local/zookeeper/	#å¯é€‰</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ­¥éª¤ä¸‰</span></span><br><span class="line">tar -zxvf apache-zookeeper-3.5.6-bin.tar.gz -C /usr/local/zookeeper</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæ˜¯é…ç½® ZooKeeperã€‚</p>
</li>
<li><p>è¿›å…¥ ZooKeeper çš„é…ç½®ç›®å½•ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 apache-zookeeper-3.5.6-bin]$ cd /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/conf/</span><br><span class="line"></span><br><span class="line">[jump@205 conf]$ ll</span><br><span class="line">-rw-r--r-- 1 jump jump  535 Oct  5 19:27 configuration.xsl</span><br><span class="line">-rw-r--r-- 1 jump jump 2712 Oct  5 19:27 log4j.properties</span><br><span class="line">-rw-r--r-- 1 jump jump  922 Oct  9 04:14 zoo_sample.cfg</span><br></pre></td></tr></table></figure></li>
<li><p>å¤åˆ¶ <code>zoo_sample.cfg</code> å¹¶é‡å‘½åä¸º <code>zoo.cfg</code>ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 conf]$ cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ›å»º ZooKeeper ä¿å­˜æ•°æ®ç›®å½•å’Œä¿å­˜æ—¥å¿—ç›®å½•ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 conf]$ mkdir -p /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/data /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/logs</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>zoo.cfg</code>ï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dataDir=/usr/local/zookeeper/apache-zookeeper-3.5.6-bin/data </span><br><span class="line">dataLogDir=/usr/local/zookeeper/apache-zookeeper-3.5.6-bin/logs</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ä¿®æ”¹ã€‚</p>
</li>
<li><p>è¿›å…¥ ZooKeeper çš„ <code>bin</code> ç›®å½•ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 conf]$ cd /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/bin/</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ ZooKeeperï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[jump@205 bin]$ ./zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... STARTED</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="é™„å½•A-è§£å‹ç¼©åŒ…è¾“å‡º"><a href="#é™„å½•A-è§£å‹ç¼©åŒ…è¾“å‡º" class="headerlink" title="é™„å½•A è§£å‹ç¼©åŒ…è¾“å‡º"></a>é™„å½•A è§£å‹ç¼©åŒ…è¾“å‡º</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[jump@205 software]$ tar -zxvf apache-zookeeper-3.5.6-bin.tar.gz -C /usr/local/zookeeper</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkcomponents.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkperfRW-3.2.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkservice.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/bk-overview.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkperfRW.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/state_dia.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/state_dia.dia</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkarch.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zkperfreliability.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/favicon.ico</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/hadoop-logo.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/2pc.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zknamespace.jpg</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/images/zookeeper_small.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperOver.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperObservers.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperHierarchicalQuorums.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/recipes.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperTutorial.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/releasenotes.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperInternals.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperStarted.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/javaExample.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperReconfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperProgrammers.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperJMX.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperOtherInfo.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperQuotas.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/zookeeperAdmin.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/index.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/current.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/header_white_line.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/printer.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/basic.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/prototype.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/init.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/getMenu.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/getBlank.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/profile.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/chapter_open.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/instruction_arrow.png</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/print.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/page.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/screen.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/menu.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/skin/chapter.gif</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/help-doc.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/deprecated-list.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/index-all.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/serialized-form.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/package-list</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/stylesheet.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/overview-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/allclasses-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/script.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/constant-values.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetWatches.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetMaxChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/CreateTTLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ConnectResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetChildren2Request.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetWatches.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetMaxChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/CreateTTLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ConnectResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetChildren2Request.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetSASLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ConnectRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetDataRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/WatcherEvent.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetDataResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/AuthPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetSASLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SyncResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/DeleteRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetDataResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ReplyHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ExistsResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetACLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetMaxChildrenResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetDataRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/CheckVersionRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetACLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/Create2Response.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetChildrenResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/MultiHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetSASLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ExistsRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetMaxChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/CreateResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ReconfigRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SyncRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/ErrorResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/CreateRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetACLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/CheckWatchesRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/GetChildren2Response.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/RemoveWatchesRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/SetACLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/class-use/RequestHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetSASLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ConnectRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetDataRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/WatcherEvent.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetDataResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/AuthPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetSASLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SyncResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/DeleteRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetDataResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ReplyHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ExistsResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetACLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetMaxChildrenResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetDataRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/CheckVersionRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetACLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/Create2Response.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetChildrenResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/MultiHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetSASLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ExistsRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetMaxChildrenRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/CreateResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ReconfigRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SyncRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/ErrorResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/CreateRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetACLRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/CheckWatchesRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/GetChildren2Response.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/RemoveWatchesRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/SetACLResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/proto/RequestHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/class-use/StatPersisted.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/class-use/Stat.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/class-use/Id.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/class-use/ACL.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/StatPersisted.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/Stat.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/Id.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/data/ACL.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/FileHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/class-use/FileHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/persistence/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/class-use/LearnerInfo.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/class-use/QuorumAuthPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/class-use/QuorumPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/LearnerInfo.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/QuorumAuthPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/server/quorum/QuorumPacket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/ErrorTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/SetACLTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/ErrorTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/SetACLTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/MultiTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/SetDataTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CreateSessionTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CreateTTLTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/Txn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CreateContainerTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CheckVersionTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/DeleteTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CreateTxnV0.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/SetMaxChildrenTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/TxnHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/class-use/CreateTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/MultiTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/SetDataTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CreateSessionTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CreateTTLTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/Txn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CreateContainerTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CheckVersionTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/DeleteTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CreateTxnV0.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/SetMaxChildrenTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/TxnHeader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/zookeeper/txn/CreateTxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JField.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JBoolean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JDouble.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JString.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JVector.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JMap.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JField.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JBoolean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JDouble.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JString.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JVector.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JMap.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JRecord.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JBuffer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/CSharpGenerator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JByte.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JInt.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JFloat.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JFile.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/class-use/JLong.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JRecord.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JBuffer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/CSharpGenerator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JByte.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/RccConstants.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/Rcc.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/TokenMgrError.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/RccTokenManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/SimpleCharStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/Token.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/class-use/ParseException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/RccConstants.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/Rcc.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/TokenMgrError.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/RccTokenManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/SimpleCharStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/Token.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/generated/ParseException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JInt.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JFloat.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JFile.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/compiler/JLong.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/Utils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/Utils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/OutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/InputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/RecordReader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/BinaryOutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/BinaryInputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/CsvOutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/RecordWriter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/Record.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/class-use/Index.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/OutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/InputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/RecordReader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/BinaryOutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/BinaryInputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/CsvOutputArchive.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/RecordWriter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/Record.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/org/apache/jute/Index.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/overview-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/overview-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/allclasses-noframe.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-jute/index.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/class-use/</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/help-doc.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/deprecated-list.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/index-all.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/serialized-form.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/package-list</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/stylesheet.css</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/overview-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/allclasses-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/script.js</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/constant-values.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.AuthFailedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.ACLCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.Create.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.ChildrenCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.RequestTimeoutException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Shell.ShellCommandExecutor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooDefs.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NoNodeException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/SaslClientCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.Check.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NotEmptyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.CodeDeprecated.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.EphemeralOnLocalSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.ConnectionLossException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/WatchedEvent.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.AuthFailedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.ACLCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.Create.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.ChildrenCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.RequestTimeoutException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Shell.ShellCommandExecutor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooDefs.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NoNodeException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/SaslClientCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.Check.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NotEmptyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.CodeDeprecated.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.EphemeralOnLocalSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.ConnectionLossException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/WatchedEvent.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NoWatcherException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.Code.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Watcher.WatcherType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ClientCnxnSocketNIO.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.SystemErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.ReconfigInProgress.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.SetData.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Login.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.BadVersionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Watcher.Event.KeeperState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.Create2Callback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.Children2Callback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ServerAdminClient.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Environment.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZKUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.OperationTimeoutException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.UnimplementedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NoChildrenForEphemeralsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.DataInconsistencyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.RuntimeInconsistencyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NotReadOnlyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ClientCnxnSocketNetty.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/WatchDeregistration.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NewConfigNoQuorum.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.SessionExpiredException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooKeeper.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooDefs.Ids.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/MultiTransactionRecord.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.MultiCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.APIErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.DataCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NodeExistsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooDefs.Perms.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.NoAuthException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.StringCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.ReconfigDisabledException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/SaslServerPrincipal.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooKeeper.States.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooKeeperMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.InvalidACLException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.StatCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Watcher.Event.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Quotas.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.CheckResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.SetDataResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.MarshallingErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Shell.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/CreateMode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Testable.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/MultiResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ClientCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.InvalidCallbackException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.DeleteResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Shell.ExitCodeException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Version.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/AsyncCallback.VoidCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooKeeper.WatchRegistration.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ZooDefs.OpCode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Watcher.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.ErrorResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.UnknownSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/ClientWatchManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.Delete.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/StatsTrack.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Watcher.Event.EventType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Environment.Entry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/OpResult.CreateResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Op.CreateTTL.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.BadArgumentsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/KeeperException.SessionMovedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/class-use/Transaction.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NoWatcherException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/Info.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/class-use/Info.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/class-use/VerGen.Version.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/class-use/VerGen.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/VerGen.Version.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/VerGen.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/version/util/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.Code.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/ZooKeeperSaslClient.ServerSaslResponseCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/ZooKeeperSaslClient.ServerSaslResponseCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/StaticHostProvider.Resolver.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/FourLetterWordMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/HostProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/ZooKeeperSaslClient.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/StaticHostProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/ZooKeeperSaslClient.SaslState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/ConnectStringParser.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/class-use/ZKClientConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/StaticHostProvider.Resolver.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/FourLetterWordMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/HostProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/ZooKeeperSaslClient.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/StaticHostProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/ZooKeeperSaslClient.SaslState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/ConnectStringParser.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/client/ZKClientConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Watcher.WatcherType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ClientCnxnSocketNIO.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.SystemErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.ReconfigInProgress.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.SetData.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Login.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.BadVersionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Watcher.Event.KeeperState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.Create2Callback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.Children2Callback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ServerAdminClient.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Environment.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZKUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.OperationTimeoutException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.UnimplementedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NoChildrenForEphemeralsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.DataInconsistencyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/SetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/SetAclCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/StatPrinter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CommandNotFoundException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/GetAclCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/SetQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/GetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/SetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/SetAclCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/StatPrinter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CommandNotFoundException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/GetAclCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/SetQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/GetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CliException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/GetConfigCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/Ls2Command.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/ListQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/ReconfigCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/AclParser.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/MalformedCommandException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/AddAuthCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/LsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/SyncCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/DeleteAllCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/RemoveWatchesCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CliWrapperException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/DeleteCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/DelQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CliParseException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CliCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CloseCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/MalformedPathException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/class-use/CreateCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CliException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/GetConfigCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/Ls2Command.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/ListQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/ReconfigCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/AclParser.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/MalformedCommandException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/AddAuthCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/LsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/SyncCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/DeleteAllCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/RemoveWatchesCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CliWrapperException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/DeleteCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/DelQuotaCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CliParseException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CliCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CloseCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/MalformedPathException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/cli/CreateCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.RuntimeInconsistencyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NotReadOnlyException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ClientCnxnSocketNetty.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/WatchDeregistration.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NewConfigNoQuorum.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.SessionExpiredException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooKeeper.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooDefs.Ids.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/MultiTransactionRecord.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.MultiCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.APIErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.DataCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NodeExistsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooDefs.Perms.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.NoAuthException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.StringCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.ReconfigDisabledException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/SaslServerPrincipal.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/StringUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/PathUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/StringUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/PathUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/ZKConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Util.ClientAuth.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/FileKeyStoreLoaderBuilderProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/ZKTrustManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/Time.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/NettyUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/SSLContextAndOptions.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/QuorumX509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/PathTrie.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Exception.SSLContextException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/FileChangeWatcher.State.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/AtomicFileWritingIdiom.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Exception.KeyManagerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/FileChangeWatcher.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/ClientX509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/IOUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/AtomicFileWritingIdiom.OutputStreamStatement.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/NetUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/AtomicFileOutputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/AtomicFileWritingIdiom.WriterStatement.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/KeyStoreFileType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Exception.TrustManagerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/class-use/X509Exception.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/ZKConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Util.ClientAuth.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/FileKeyStoreLoaderBuilderProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/ZKTrustManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/Time.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/NettyUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/SSLContextAndOptions.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/QuorumX509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/PathTrie.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Exception.SSLContextException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/FileChangeWatcher.State.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/AtomicFileWritingIdiom.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Exception.KeyManagerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/FileChangeWatcher.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/ClientX509Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/IOUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/AtomicFileWritingIdiom.OutputStreamStatement.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/NetUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/AtomicFileOutputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/AtomicFileWritingIdiom.WriterStatement.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/KeyStoreFileType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Exception.TrustManagerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/common/X509Exception.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooKeeper.States.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooKeeperMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.InvalidACLException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.StatCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Watcher.Event.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Quotas.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerCnxn.CloseRequestException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperCriticalThread.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/FinalRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ExitCode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/TraceFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DataNode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/PrepRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/NIOServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/RequestProcessor.RequestProcessorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/WorkerService.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnLog.FileTxnIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnSnapLog.DatadirException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/TxnLog.TxnIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnLog.FileTxnIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnSnapLog.DatadirException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/TxnLog.TxnIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnSnapLog.PlayBackListener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/SnapShot.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnSnapLog.SnapDirContentCheckException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileSnap.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnSnapLog.LogDirContentCheckException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/TxnLogToolkit.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/TxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FileTxnSnapLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/class-use/FilePadding.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnSnapLog.PlayBackListener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/SnapShot.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnSnapLog.SnapDirContentCheckException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileSnap.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnSnapLog.LogDirContentCheckException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/TxnLogToolkit.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/Util.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/TxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FileTxnSnapLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/persistence/FilePadding.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooTrace.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerCnxn.CloseRequestException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperCriticalThread.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/FinalRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ExitCode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/TraceFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DataNode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/PrepRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/NIOServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/RequestProcessor.RequestProcessorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/WorkerService.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooTrace.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServerMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SyncRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DataTree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SessionTracker.SessionExpirer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/LogFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/TxnLogProposalIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServerListener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/WatchesSummary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DatadirCleanupManager.PurgeTaskStatus.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ByteBufferInputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SessionTrackerImpl.SessionImpl.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/EphemeralTypeEmulate353.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/WorkerService.WorkRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServer.MissingSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServerConf.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ReferenceCountedACLCache.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ConnectionBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/Request.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/WatchesReport.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DatadirCleanupManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperServer.State.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperThread.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/EphemeralType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DataTree.ProcessTxnResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ConnectionMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerStats.Provider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ExpiryQueue.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ByteBufferOutputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerCnxn.EndOfStreamException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SnapshotFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/PurgeTxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/WatchesPathReport.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/NettyServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/RateLogger.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/UnimplementedRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZKDatabase.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ZooKeeperSaslServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ServerStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/NettyServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SessionTrackerImpl.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ContainerManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DataTreeBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/NIOServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/ObserverBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/SessionTracker.Session.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/RequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/class-use/DataTreeMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServerMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SyncRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DataTree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SessionTracker.SessionExpirer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/LogFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/KerberosName.NoMatchingRule.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/SASLAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/IPAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/DigestLoginModule.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/DigestAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/KerberosName.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/KerberosName.BadFormatString.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/X509AuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/AuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/ProviderRegistry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/class-use/SaslServerCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/KerberosName.NoMatchingRule.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/SASLAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/IPAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/DigestLoginModule.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/DigestAuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/KerberosName.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/KerberosName.BadFormatString.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/X509AuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/AuthenticationProvider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/ProviderRegistry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/auth/SaslServerCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/TxnLogProposalIterator.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServerListener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/WatchesSummary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DatadirCleanupManager.PurgeTaskStatus.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ByteBufferInputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SessionTrackerImpl.SessionImpl.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/SnapshotThrottleException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FastLeaderElection.Messenger.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Observer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Leader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FastLeaderElection.ToSend.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerSyncRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/SnapshotThrottleException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FastLeaderElection.Messenger.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Observer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Leader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FastLeaderElection.ToSend.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerSyncRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ObserverZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LocalPeerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/UnifiedServerSocket.UnifiedSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/CommitProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ServerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeer.AddressTuple.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumCnxManager.InitialMessage.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FollowerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/RemotePeerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeer.ServerState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FollowerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ServerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/SendAckRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/StateSummary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumCnxManager.Listener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Leader.XidRolloverException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LocalSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ReadOnlyBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/UpgradeableSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeer.QuorumServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/PrependableSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ObserverRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerSnapshot.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ReadOnlyRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Election.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FollowerZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Follower.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderElection.ElectionResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumCnxManager.InitialMessage.InitialMessageException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ProposalRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/AuthFastLeaderElection.Notification.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderElectionBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FastLeaderElection.Notification.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FastLeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/UnifiedServerSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeerConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumCnxManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Learner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeerMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/SyncedLearnerTracker.QuorumVerifierAcksetPair.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ReadOnlyZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/RemotePeerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/ObserverMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Vote.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeer.LearnerType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumStats.Provider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/SyncedLearnerTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/Leader.Proposal.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderElectionMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumCnxManager.Message.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/AuthFastLeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeerConfig.ConfigException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LocalPeerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerSnapshotThrottler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LeaderMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/FollowerRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumPeer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/BufferStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/AuthFastLeaderElection.ToSend.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/LearnerHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/class-use/QuorumStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LocalPeerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/UnifiedServerSocket.UnifiedSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/CommitProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ServerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeer.AddressTuple.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumCnxManager.InitialMessage.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/SaslQuorumServerCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/SaslQuorumServerCallbackHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/NullQuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/NullQuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/SaslQuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/QuorumAuth.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/SaslQuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/QuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/QuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/class-use/QuorumAuth.Status.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/NullQuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/NullQuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/SaslQuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/QuorumAuth.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/SaslQuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/QuorumAuthServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/QuorumAuthLearner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/auth/QuorumAuth.Status.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FollowerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/RemotePeerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeer.ServerState.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FollowerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ServerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/SendAckRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/StateSummary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumCnxManager.Listener.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Leader.XidRolloverException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LocalSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ReadOnlyBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/UpgradeableSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeer.QuorumServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/PrependableSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ObserverRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerSnapshot.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ReadOnlyRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Election.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FollowerZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Follower.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderElection.ElectionResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumCnxManager.InitialMessage.InitialMessageException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ProposalRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/AuthFastLeaderElection.Notification.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/class-use/QuorumHierarchical.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/class-use/QuorumMaj.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/class-use/QuorumVerifier.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/QuorumHierarchical.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/QuorumMaj.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/flexible/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderElectionBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FastLeaderElection.Notification.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FastLeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/UnifiedServerSocket.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeerConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumCnxManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Learner.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeerMain.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/SyncedLearnerTracker.QuorumVerifierAcksetPair.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderSessionTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/RemotePeerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/ObserverMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Vote.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeer.LearnerType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumStats.Provider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumZooKeeperServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/SyncedLearnerTracker.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/Leader.Proposal.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderElectionMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumCnxManager.Message.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/AuthFastLeaderElection.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeerConfig.ConfigException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LocalPeerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerSnapshotThrottler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LeaderMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/FollowerRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumPeer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/BufferStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/AuthFastLeaderElection.ToSend.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/LearnerHandler.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/quorum/QuorumStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/EphemeralTypeEmulate353.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/WorkerService.WorkRequest.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerConfig.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServer.MissingSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServerMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServerConf.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServerBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ReferenceCountedACLCache.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ConnectionBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/Request.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/WatchesReport.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DatadirCleanupManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperServer.State.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperThread.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/EphemeralType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DataTree.ProcessTxnResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ConnectionMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerStats.Provider.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ExpiryQueue.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ByteBufferOutputStream.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerCnxn.EndOfStreamException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SnapshotFormatter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/PurgeTxnLog.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/WatchesPathReport.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/NettyServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/RateLogger.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.ConsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/DummyAdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.MonitorCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.ConsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/DummyAdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.MonitorCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/CommandOutputter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/JsonOutputter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.CnxnStatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.WatchCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.WatchesByPathCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.DirsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Command.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/AdminServerFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.IsroCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.EnvCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/AdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.StatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/AdminServer.AdminServerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/JettyAdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.WatchSummaryCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.SetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.ConfCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.DumpCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.GetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/CommandBase.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.SrvrCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/Commands.RuokCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/class-use/CommandResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/CommandOutputter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/JsonOutputter.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.CnxnStatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.WatchCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.WatchesByPathCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.DirsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Command.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/AdminServerFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.IsroCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.EnvCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/AdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.StatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/AdminServer.AdminServerException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/JettyAdminServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.WatchSummaryCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.SetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.ConfCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.DumpCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.GetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/CommandBase.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.SrvrCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/Commands.RuokCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/admin/CommandResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/UnimplementedRequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZKDatabase.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ZooKeeperSaslServer.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ServerStats.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/NettyServerCnxnFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SessionTrackerImpl.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ContainerManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/CnxnStatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/ConfCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/CnxnStatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/ConfCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/StatCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/NopCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/TraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/ConsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/MonitorCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/DumpCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/CommandExecutor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/AbstractFourLetterCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/WatchCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/SetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/FourLetterCommands.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/RuokCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/DirsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/StatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/EnvCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/class-use/IsroCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/NopCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/TraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/ConsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/MonitorCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/DumpCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/CommandExecutor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/AbstractFourLetterCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/WatchCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/SetTraceMaskCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/FourLetterCommands.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/RuokCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/DirsCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/StatResetCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/EnvCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/command/IsroCommand.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DataTreeBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/SerializeUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/ConfigUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/VerifyingFileFactory.Builder.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/ZxidUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/VerifyingFileFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/KerberosUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/class-use/OSMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/SerializeUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/ConfigUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/VerifyingFileFactory.Builder.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/ZxidUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/VerifyingFileFactory.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/KerberosUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/util/OSMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/NIOServerCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/ObserverBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/SessionTracker.Session.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/RequestProcessor.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/server/DataTreeMXBean.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.CheckResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.SetDataResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.MarshallingErrorException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Shell.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/CreateMode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Testable.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/MultiResponse.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ClientCnxn.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.InvalidCallbackException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.DeleteResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Shell.ExitCodeException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Version.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/AsyncCallback.VoidCallback.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooKeeper.WatchRegistration.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ZooDefs.OpCode.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Watcher.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.ErrorResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.UnknownSessionException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/ClientWatchManager.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.Delete.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/StatsTrack.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Watcher.Event.EventType.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/class-use/ZooKeeperAdmin.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/ZooKeeperAdmin.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/admin/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Environment.Entry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/OpResult.CreateResult.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Op.CreateTTL.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.BadArgumentsException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/KeeperException.SessionMovedException.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/class-use/CommonNames.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/class-use/MBeanRegistry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/class-use/ManagedUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/class-use/ZKMBeanInfo.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/CommonNames.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/MBeanRegistry.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/ManagedUtil.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/jmx/ZKMBeanInfo.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/Transaction.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/package-frame.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/class-use/SecurityUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/class-use/PemReader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/SecurityUtils.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/package-use.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/package-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/package-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/org/apache/zookeeper/util/PemReader.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/overview-tree.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/overview-summary.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/allclasses-noframe.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/docs/apidocs/zookeeper-server/index.html</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-handler-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-common-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/json-simple-1.1.1.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-native-unix-common-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/slf4j-1.7.25.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-native-epoll-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-codec-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jline-2.11.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/log4j-1.2.17.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-resolver-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-buffer-4.1.42.Final.LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/README_packaging.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/LICENSE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/README.md</span><br><span class="line">apache-zookeeper-3.5.6-bin/NOTICE.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/conf/</span><br><span class="line">apache-zookeeper-3.5.6-bin/conf/configuration.xsl</span><br><span class="line">apache-zookeeper-3.5.6-bin/conf/zoo_sample.cfg</span><br><span class="line">apache-zookeeper-3.5.6-bin/conf/log4j.properties</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkTxnLogToolkit.cmd</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkServer.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkCleanup.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkTxnLogToolkit.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkEnv.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkCli.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkCli.cmd</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkServer.cmd</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkEnv.cmd</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/README.txt</span><br><span class="line">apache-zookeeper-3.5.6-bin/bin/zkServer-initialize.sh</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/zookeeper-jute-3.5.6.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/audience-annotations-0.5.0.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/zookeeper-3.5.6.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-handler-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-common-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-buffer-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-resolver-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-codec-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-native-epoll-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/netty-transport-native-unix-common-4.1.42.Final.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/slf4j-api-1.7.25.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/slf4j-log4j12-1.7.25.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/log4j-1.2.17.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/commons-cli-1.2.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-server-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/javax.servlet-api-3.1.0.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-http-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-util-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-io-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-servlet-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jetty-security-9.4.17.v20190418.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jackson-databind-2.9.10.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jackson-annotations-2.9.10.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jackson-core-2.9.10.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/json-simple-1.1.1.jar</span><br><span class="line">apache-zookeeper-3.5.6-bin/lib/jline-2.11.jar</span><br><span class="line"></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ZooKeeper</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨Markdownä¼˜é›…åœ°ç¼–å†™æ¥å£æ–‡æ¡£ï¼ˆæ’ç‰ˆç¤ºä¾‹ï¼‰</title>
    <url>/2019/07/24/markdown-api-document/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ’ç‰ˆç¤ºä¾‹æ•´ç†äºä¸¤å¹´å‰ï¼Œå½“æ—¶æ˜¯ç”¨æ¥åœ¨å…¬å¸æ¨å¹¿ä½¿ç”¨ Markdown ç¼–å†™å¼€å‘æ–‡æ¡£çš„ï¼Œç°åœ¨ç¨å¾®ä½œäº†äº›ä¿®æ”¹ï¼Œå»æ‰ä¸€äº›ä¸å…¬å¸æ¥å£ç›¸å…³çš„ä¿¡æ¯ã€‚å¸Œæœ›è¯¥ç¤ºä¾‹èƒ½å¤Ÿå¯¹å°ä¼™ä¼´ä»¬åœ¨ä»¥åç¼–å†™æ–‡æ¡£æ—¶æœ‰æ‰€å¸®åŠ©ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¾—åˆ°å¤§å®¶å…³äºæ–‡æ¡£æ’ç‰ˆæ–¹é¢çš„å»ºè®®ã€‚<br>ä½¿ç”¨ Markdown ç¼–å†™æ¥å£æ–‡æ¡£æœ€ä¸»è¦çš„å¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¯ä»¥è®©ä½ æ›´ä¸“æ³¨äºå†…å®¹æœ¬èº«ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ Markdownç¼–å†™çš„æ–‡æ¡£èƒ½ç”¨ä»£ç ç®¡ç†å·¥å…·ï¼ˆGitã€SVNç­‰ï¼‰è¿›è¡Œæœ‰æ•ˆçš„ç‰ˆæœ¬ç®¡ç†ï¼ˆå¦‚ç‰ˆæœ¬å¯¹æ¯”ï¼‰ã€‚</p>
</blockquote>
<span id="more"></span>

<p>æœ¬ç¤ºä¾‹æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼šï¼ˆ<a href="https://github.com/iuiuu/markdown-api-document">æºæ–‡ä»¶é“¾æ¥ï¼šhttps://github.com/iuiuu/markdown-api-document</a>ï¼‰</p>
<h1 id="AAå…¬å¸BCå¹³å°æ¥å£æ–‡æ¡£-v3-2-0"><a href="#AAå…¬å¸BCå¹³å°æ¥å£æ–‡æ¡£-v3-2-0" class="headerlink" title="AAå…¬å¸BCå¹³å°æ¥å£æ–‡æ¡£ v3.2.0"></a>AAå…¬å¸BCå¹³å°æ¥å£æ–‡æ¡£ v3.2.0</h1><h2 id="1-è§„èŒƒè¯´æ˜"><a href="#1-è§„èŒƒè¯´æ˜" class="headerlink" title="1 è§„èŒƒè¯´æ˜"></a>1 è§„èŒƒè¯´æ˜</h2><h3 id="1-1-é€šä¿¡åè®®"><a href="#1-1-é€šä¿¡åè®®" class="headerlink" title="1.1 é€šä¿¡åè®®"></a>1.1 é€šä¿¡åè®®</h3><p>HTTPSåè®®</p>
<h3 id="1-2-è¯·æ±‚æ–¹æ³•"><a href="#1-2-è¯·æ±‚æ–¹æ³•" class="headerlink" title="1.2 è¯·æ±‚æ–¹æ³•"></a>1.2 è¯·æ±‚æ–¹æ³•</h3><p>æ‰€æœ‰æ¥å£åªæ”¯æŒPOSTæ–¹æ³•å‘èµ·è¯·æ±‚ã€‚</p>
<h3 id="1-3-å­—ç¬¦ç¼–ç "><a href="#1-3-å­—ç¬¦ç¼–ç " class="headerlink" title="1.3 å­—ç¬¦ç¼–ç "></a>1.3 å­—ç¬¦ç¼–ç </h3><p>HTTPé€šè®¯åŠæŠ¥æ–‡BASE64ç¼–ç å‡é‡‡ç”¨UTF-8å­—ç¬¦é›†ç¼–ç æ ¼å¼ã€‚</p>
<h3 id="1-4-æ ¼å¼è¯´æ˜"><a href="#1-4-æ ¼å¼è¯´æ˜" class="headerlink" title="1.4 æ ¼å¼è¯´æ˜"></a>1.4 æ ¼å¼è¯´æ˜</h3><p>å…ƒç´ å‡ºç°è¦æ±‚è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th align="center">ç¬¦å·</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">R</td>
<td align="left">æŠ¥æ–‡ä¸­è¯¥å…ƒç´ å¿…é¡»å‡ºç°ï¼ˆRequiredï¼‰</td>
</tr>
<tr>
<td align="center">O</td>
<td align="left">æŠ¥æ–‡ä¸­è¯¥å…ƒç´ å¯é€‰å‡ºç°ï¼ˆOptionalï¼‰</td>
</tr>
<tr>
<td align="center">C</td>
<td align="left">æŠ¥æ–‡ä¸­è¯¥å…ƒç´ åœ¨ä¸€å®šæ¡ä»¶ä¸‹å‡ºç°ï¼ˆConditionalï¼‰</td>
</tr>
</tbody></table>
<h3 id="1-5-æŠ¥æ–‡è§„èŒƒè¯´æ˜"><a href="#1-5-æŠ¥æ–‡è§„èŒƒè¯´æ˜" class="headerlink" title="1.5 æŠ¥æ–‡è§„èŒƒè¯´æ˜"></a>1.5 æŠ¥æ–‡è§„èŒƒè¯´æ˜</h3><ol>
<li><p>æŠ¥æ–‡è§„èŒƒä»…é’ˆå¯¹äº¤æ˜“è¯·æ±‚æ•°æ®è¿›è¡Œæè¿°ï¼›  </p>
</li>
<li><p>æŠ¥æ–‡è§„èŒƒä¸­è¯·æ±‚æŠ¥æ–‡çš„å†…å®¹ä¸ºHttpsè¯·æ±‚æŠ¥æ–‡ä¸­RequestDataå€¼çš„æ˜æ–‡å†…å®¹ï¼›</p>
</li>
<li><p>æŠ¥æ–‡è§„èŒƒåˆ†ä¸ºè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ã€‚è¯·æ±‚æŠ¥æ–‡æè¿°ç”±å‘èµ·æ–¹ï¼Œå“åº”æŠ¥æ–‡ç”±æŠ¥æ–‡æ¥æ”¶æ–¹å“åº”ã€‚</p>
</li>
</ol>
<h3 id="1-6-è¯·æ±‚æŠ¥æ–‡ç»“æ„"><a href="#1-6-è¯·æ±‚æŠ¥æ–‡ç»“æ„" class="headerlink" title="1.6 è¯·æ±‚æŠ¥æ–‡ç»“æ„"></a>1.6 è¯·æ±‚æŠ¥æ–‡ç»“æ„</h3><p>æ¥å£åªæ¥æ”¶ä¸¤ä¸ªå‚æ•° <strong>RequestData</strong> å’Œ <strong>SignData</strong> ï¼Œå…¶ä¸­RequestDataçš„å€¼ä¸ºè¯·æ±‚å†…å®¹ï¼ŒSignDataçš„å€¼ä¸ºç­¾åå†…å®¹ã€‚</p>
<h4 id="1-6-1-å‚æ•°è¯´æ˜"><a href="#1-6-1-å‚æ•°è¯´æ˜" class="headerlink" title="1.6.1 å‚æ•°è¯´æ˜"></a>1.6.1 å‚æ•°è¯´æ˜</h4><p><strong>RequestDataï¼ˆè¯·æ±‚å†…å®¹ï¼‰ï¼š</strong> å…¶æ˜æ–‡ä¸ºæ¯æ¬¡è¯·æ±‚çš„å…·ä½“å‚æ•°ï¼Œé‡‡ç”¨ JSON æ ¼å¼ï¼Œä¾æ¬¡ç»è¿‡ DES åŠ å¯†ï¼ˆä»¥UTF-8ç¼–ç ã€BASE64ç¼–ç è¾“å‡ºç»“æœï¼‰å’Œ URLEncode åï¼Œä½œä¸º RequestData çš„å€¼ã€‚  </p>
<p><strong>SignDataï¼ˆç­¾åå†…å®¹ï¼‰ï¼š</strong> è¯·æ±‚å‚æ•°ï¼ˆæ˜æ–‡ï¼‰çš„MD5åŠ å¯†å­—ç¬¦ä¸²ï¼Œç”¨äºæ ¡éªŒRequestDataæ˜¯å¦åˆæ³•ã€‚</p>
<h4 id="1-6-2-è¯·æ±‚å†…å®¹ï¼ˆRequestDataï¼‰æ˜æ–‡ç»“æ„è¯´æ˜"><a href="#1-6-2-è¯·æ±‚å†…å®¹ï¼ˆRequestDataï¼‰æ˜æ–‡ç»“æ„è¯´æ˜" class="headerlink" title="1.6.2 è¯·æ±‚å†…å®¹ï¼ˆRequestDataï¼‰æ˜æ–‡ç»“æ„è¯´æ˜"></a>1.6.2 è¯·æ±‚å†…å®¹ï¼ˆRequestDataï¼‰æ˜æ–‡ç»“æ„è¯´æ˜</h4><p>é‡‡ç”¨JSONæ ¼å¼ï¼Œå…¶ä¸­åŒ…å«Headerï¼ˆå…¬æœ‰å‚æ•°ï¼‰ã€Bodyï¼ˆç§æœ‰å‚æ•°ï¼‰èŠ‚ç‚¹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">åç§°</th>
<th align="left">æè¿°</th>
<th align="left">å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td align="left">å…¬å…±å‚æ•°</td>
<td align="left">æ¯ä¸ªæ¥å£éƒ½åŒ…å«çš„é€šç”¨å‚æ•°ï¼Œä»¥JSONæ ¼å¼å­˜æ”¾åœ¨Headerå±æ€§</td>
<td align="left">è¯¦è§ä»¥ä¸‹å…¬å…±å‚æ•°è¯´æ˜</td>
</tr>
<tr>
<td align="left">ç§æœ‰å‚æ•°</td>
<td align="left">æ¯ä¸ªæ¥å£ç‰¹æœ‰çš„å‚æ•°ï¼Œä»¥JSONæ ¼å¼å­˜æ”¾åœ¨Bodyå±æ€§</td>
<td align="left">è¯¦è§æ¯ä¸ªæ¥å£å®šä¹‰</td>
</tr>
</tbody></table>
<p><strong>å…¬å…±å‚æ•°è¯´æ˜ï¼š</strong></p>
<p>å…¬å…±å‚æ•°ï¼ˆHeaderï¼‰æ˜¯ç”¨äºæ ‡è¯†äº§å“åŠæ¥å£é‰´æƒçš„å‚æ•°ï¼Œæ¯æ¬¡è¯·æ±‚å‡éœ€è¦æºå¸¦è¿™äº›å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Token</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">ç”¨æˆ·ç™»å½•åtokenï¼Œæ²¡æœ‰ç™»å½•åˆ™ä¸ºç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">Version</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">æ¥å£ç‰ˆæœ¬å·</td>
</tr>
<tr>
<td align="left">SystemId</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">æœºæ„å·ï¼Œè¯·æ±‚çš„ç³»ç»ŸId</td>
</tr>
<tr>
<td align="left">Timestamp</td>
<td align="left">long</td>
<td align="left">R</td>
<td align="left">å½“å‰UNIXæ—¶é—´æˆ³</td>
</tr>
</tbody></table>
<h4 id="1-6-3-æ ¡éªŒæµç¨‹ï¼š"><a href="#1-6-3-æ ¡éªŒæµç¨‹ï¼š" class="headerlink" title="1.6.3 æ ¡éªŒæµç¨‹ï¼š"></a>1.6.3 æ ¡éªŒæµç¨‹ï¼š</h4><p>æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åé¦–å…ˆå¯¹RequestDataè¿›è¡ŒDESè§£å¯†å‡ºJSONå­—ç¬¦ä¸²ï¼Œç„¶åå¯¹JSONå­—ç¬¦ä¸²è¿›è¡ŒMD5åŠ å¯†ï¼ŒåŠ å¯†åçš„å€¼ä¸è¯·æ±‚ä¸­çš„SignDataå€¼è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚å¯¹æ¯”é€šè¿‡ï¼Œè§†ä¸ºåˆæ³•è¯·æ±‚ï¼Œå¦åˆ™è§†ä¸ºéæ³•è¯·æ±‚ã€‚</p>
<p><strong>DESåŠ å¯†/è§£å¯†å‡½æ•°ç¤ºä¾‹ï¼š</strong></p>
<p>C#ç‰ˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// è¿›è¡ŒDESåŠ å¯†ã€‚</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;decryptString&quot;&gt;è¦åŠ å¯†çš„å­—ç¬¦ä¸²ã€‚&lt;/param&gt;</span><br><span class="line">/// &lt;param name=&quot;secretKey&quot;&gt;å¯†é’¥ï¼Œä¸”å¿…é¡»ä¸º8ä½ã€‚&lt;/param&gt;</span><br><span class="line">/// &lt;returns&gt;ä»¥Base64æ ¼å¼è¿”å›çš„åŠ å¯†å­—ç¬¦ä¸²ã€‚&lt;/returns&gt;</span><br><span class="line">public static string DesEncrypt(string decryptString, string secretKey)</span><br><span class="line">&#123;</span><br><span class="line">    using (DESCryptoServiceProvider des = new DESCryptoServiceProvider())</span><br><span class="line">    &#123;</span><br><span class="line">        byte[] inputByteArray = Encoding.UTF8.GetBytes(decryptString);</span><br><span class="line">        des.Key = Encoding.ASCII.GetBytes(secretKey);</span><br><span class="line">        des.IV = Encoding.ASCII.GetBytes(secretKey);</span><br><span class="line">        MemoryStream ms = new MemoryStream();</span><br><span class="line">        using (CryptoStream cs = new CryptoStream(ms, des.CreateEncryptor(), CryptoStreamMode.Write))</span><br><span class="line">        &#123;</span><br><span class="line">            cs.Write(inputByteArray, 0, inputByteArray.Length);</span><br><span class="line">            cs.FlushFinalBlock();</span><br><span class="line">            cs.Close();</span><br><span class="line">        &#125;</span><br><span class="line">        string str = Convert.ToBase64String(ms.ToArray());</span><br><span class="line">        ms.Close();</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/// &lt;summary&gt;</span><br><span class="line">/// è¿›è¡ŒDESè§£å¯†ã€‚</span><br><span class="line">/// &lt;/summary&gt;</span><br><span class="line">/// &lt;param name=&quot;encryptedString&quot;&gt;è¦è§£å¯†çš„ä»¥Base64&lt;/param&gt;</span><br><span class="line">/// &lt;param name=&quot;secretKey&quot;&gt;å¯†é’¥ï¼Œä¸”å¿…é¡»ä¸º8ä½ã€‚&lt;/param&gt;</span><br><span class="line">/// &lt;returns&gt;å·²è§£å¯†çš„å­—ç¬¦ä¸²ã€‚&lt;/returns&gt;</span><br><span class="line">public static string DesDecrypt(string encryptedString, string secretKey)</span><br><span class="line">&#123;</span><br><span class="line">    byte[] inputByteArray = Convert.FromBase64String(encryptedString);</span><br><span class="line">    using (DESCryptoServiceProvider des = new DESCryptoServiceProvider())</span><br><span class="line">    &#123;</span><br><span class="line">        des.Key = Encoding.ASCII.GetBytes(secretKey);</span><br><span class="line">        des.IV = Encoding.ASCII.GetBytes(secretKey);</span><br><span class="line">        MemoryStream ms = new MemoryStream();</span><br><span class="line">        using (CryptoStream cs = new CryptoStream(ms, des.CreateDecryptor(), CryptoStreamMode.Write))</span><br><span class="line">        &#123;</span><br><span class="line">            cs.Write(inputByteArray, 0, inputByteArray.Length);</span><br><span class="line">            cs.FlushFinalBlock();</span><br><span class="line">            cs.Close();</span><br><span class="line">        &#125;</span><br><span class="line">        string str = Encoding.UTF8.GetString(ms.ToArray());</span><br><span class="line">        ms.Close();</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JAVAç‰ˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* DESè§£å¯† */</span><br><span class="line">public static String decrypt(String message, String key) throws Exception &#123;</span><br><span class="line"></span><br><span class="line">    byte[] bytesrc = Base64.decode(message);</span><br><span class="line">    //convertHexString(message);</span><br><span class="line">    Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);</span><br><span class="line">    DESKeySpec desKeySpec = new DESKeySpec(key.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">    SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);</span><br><span class="line">    SecretKey secretKey = keyFactory.generateSecret(desKeySpec);</span><br><span class="line">    IvParameterSpec iv = new IvParameterSpec(key.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">    cipher.init(Cipher.DECRYPT_MODE, secretKey, iv);</span><br><span class="line">    byte[] retByte = cipher.doFinal(bytesrc);</span><br><span class="line">    return new String(retByte);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* DESåŠ å¯† */</span><br><span class="line">public static byte[] encrypt(String message, String key) throws Exception &#123;</span><br><span class="line">    Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);</span><br><span class="line">    DESKeySpec desKeySpec = new DESKeySpec(key.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">    SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);</span><br><span class="line">    SecretKey secretKey = keyFactory.generateSecret(desKeySpec);</span><br><span class="line">    IvParameterSpec iv = new IvParameterSpec(key.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">    cipher.init(Cipher.ENCRYPT_MODE, secretKey, iv);</span><br><span class="line">    return cipher.doFinal(message.getBytes(&quot;UTF-8&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-4-DESå¯†é’¥"><a href="#1-6-4-DESå¯†é’¥" class="headerlink" title="1.6.4 DESå¯†é’¥"></a>1.6.4 DESå¯†é’¥</h4><p>æµ‹è¯•ç¯å¢ƒï¼šaz2ih1uY</p>
<p>ç”Ÿäº§ç¯å¢ƒï¼šå¦å¤–æä¾›ã€‚</p>
<h4 id="1-6-5-è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹"><a href="#1-6-5-è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹" class="headerlink" title="1.6.5 è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹"></a>1.6.5 è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹</h4><p>è¯·æ±‚å†…å®¹æ˜æ–‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Header&quot;:&#123;</span><br><span class="line">        &quot;Token&quot;:&quot;2366CF921FAD44CCBB07FF9CD02FC90E&quot;,</span><br><span class="line">        &quot;Version&quot;:&quot;3.2.0&quot;,</span><br><span class="line">        &quot;SystemId&quot;:100,</span><br><span class="line">        &quot;Timestamp&quot;:1502870664</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;Body&quot;:&#123;</span><br><span class="line">        &quot;Mobile&quot;:&quot;18520322032&quot;,</span><br><span class="line">        &quot;Password&quot;:&quot;acb000000&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æŠ¥æ–‡ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">url?RequestData=UFAYIRF21XzGoaAaEU54qoDBYaFkT2KbRpWxKZuqqltApdIneF7AjlEArPLsg3%2Fo1Pu7FHFmsKZn%0A9KJb%2BGuwx0P%2F3jzv2TgwUpVtgwEdfd0vIRfqEF4jCouldaxxVBjbHvd%2F08pUoYJDNZJLvNrJ%2BsK4%0A79de92T0Cyu4hKNMUPtVI7Tp0IC%2BBw%3D%3D&amp;SignData=0865c7d625f90d3bb5457f5d9ac3725d</span><br></pre></td></tr></table></figure>

<h3 id="1-7-å“åº”æŠ¥æ–‡ç»“æ„"><a href="#1-7-å“åº”æŠ¥æ–‡ç»“æ„" class="headerlink" title="1.7 å“åº”æŠ¥æ–‡ç»“æ„"></a>1.7 å“åº”æŠ¥æ–‡ç»“æ„</h3><h4 id="1-7-1-ç»“æ„è¯´æ˜"><a href="#1-7-1-ç»“æ„è¯´æ˜" class="headerlink" title="1.7.1 ç»“æ„è¯´æ˜"></a>1.7.1 ç»“æ„è¯´æ˜</h4><p>æ‰€æœ‰æ¥å£å“åº”å‡é‡‡ç”¨JSONæ ¼å¼ï¼Œå¦‚æ— ç‰¹æ®Šè¯´æ˜ï¼Œæ¯æ¬¡è¯·æ±‚çš„è¿”å›å€¼ä¸­ï¼Œéƒ½åŒ…å«ä¸‹åˆ—å­—æ®µï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Code</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">å“åº”ç ï¼Œä»£ç å®šä¹‰è¯·è§â€œé™„å½•A å“åº”å—è¯´æ˜â€</td>
</tr>
<tr>
<td align="left">Msg</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">å“åº”æè¿°</td>
</tr>
<tr>
<td align="left">Data</td>
<td align="left">object</td>
<td align="left">R</td>
<td align="left">æ¯ä¸ªæ¥å£ç‰¹æœ‰çš„å‚æ•°ï¼Œè¯¦è§æ¯ä¸ªæ¥å£å®šä¹‰</td>
</tr>
</tbody></table>
<h4 id="1-7-2-å“åº”æŠ¥æ–‡ç¤ºä¾‹"><a href="#1-7-2-å“åº”æŠ¥æ–‡ç¤ºä¾‹" class="headerlink" title="1.7.2 å“åº”æŠ¥æ–‡ç¤ºä¾‹"></a>1.7.2 å“åº”æŠ¥æ–‡ç¤ºä¾‹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Code&quot;:200,</span><br><span class="line">    &quot;Msg&quot;:&quot;è°ƒç”¨æˆåŠŸ&quot;,</span><br><span class="line">    &quot;Data&quot;:&#123;</span><br><span class="line">        &quot;Channel&quot;:&quot;A10086&quot;,</span><br><span class="line">        &quot;Type&quot;:7004</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="2-æ¥å£å®šä¹‰"><a href="#2-æ¥å£å®šä¹‰" class="headerlink" title="2. æ¥å£å®šä¹‰"></a>2. æ¥å£å®šä¹‰</h2><h3 id="2-1-å¯†ç ç™»å½•"><a href="#2-1-å¯†ç ç™»å½•" class="headerlink" title="2.1 å¯†ç ç™»å½•"></a>2.1 å¯†ç ç™»å½•</h3><ul>
<li><strong>æ¥å£è¯´æ˜ï¼š</strong> å¯†ç ç™»å½•</li>
<li><strong>æ¥å£åœ°å€ï¼š</strong> /account/signin</li>
</ul>
<h4 id="2-1-1-è¯·æ±‚å‚æ•°"><a href="#2-1-1-è¯·æ±‚å‚æ•°" class="headerlink" title="2.1.1 è¯·æ±‚å‚æ•°"></a>2.1.1 è¯·æ±‚å‚æ•°</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Header</td>
<td align="left">&nbsp;</td>
<td align="left">R</td>
<td align="left">è¯·æ±‚æŠ¥æ–‡å¤´</td>
</tr>
<tr>
<td align="left">&emsp;Token</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">ç”¨æˆ·ç™»å½•åtokenï¼Œæ²¡æœ‰ç™»å½•åˆ™ä¸ºç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">&emsp;Version</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">æ¥å£ç‰ˆæœ¬å·</td>
</tr>
<tr>
<td align="left">&emsp;SystemId</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">æœºæ„å·ï¼Œè¯·æ±‚çš„ç³»ç»ŸId</td>
</tr>
<tr>
<td align="left">&emsp;Timestamp</td>
<td align="left">long</td>
<td align="left">R</td>
<td align="left">å½“å‰UNIXæ—¶é—´æˆ³</td>
</tr>
<tr>
<td align="left">Body</td>
<td align="left">&nbsp;</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&emsp;Mobile</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">æ‰‹æœºå·</td>
</tr>
<tr>
<td align="left">&emsp;Password</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">å¯†ç </td>
</tr>
</tbody></table>
<p>è¯·æ±‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Header&quot;:&#123;</span><br><span class="line">        &quot;Token&quot;:&quot;&quot;,</span><br><span class="line">        &quot;Version&quot;:&quot;3.2.0&quot;,</span><br><span class="line">        &quot;SystemId&quot;:100,</span><br><span class="line">        &quot;Timestamp&quot;:1502870664</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;Body&quot;:&#123;</span><br><span class="line">        &quot;Mobile&quot;:&quot;18520322032&quot;,</span><br><span class="line">        &quot;Password&quot;:&quot;acb000000&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="2-1-2-è¿”å›ç»“æœ"><a href="#2-1-2-è¿”å›ç»“æœ" class="headerlink" title="2.1.2 è¿”å›ç»“æœ"></a>2.1.2 è¿”å›ç»“æœ</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Code</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">å“åº”ç ï¼Œä»£ç å®šä¹‰è¯·è§â€œé™„å½•A å“åº”å—è¯´æ˜â€</td>
</tr>
<tr>
<td align="left">Msg</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">Data</td>
<td align="left">object</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&emsp;UserId</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">ç”¨æˆ·Id</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Code&quot;:200,</span><br><span class="line">    &quot;Msg&quot;:&quot;ç™»å½•æˆåŠŸ&quot;,</span><br><span class="line">    &quot;Data&quot;:&#123;</span><br><span class="line">        &quot;UserId&quot;:&quot;7D916C7283434955A235C17DD9B71C64&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-2-è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯"><a href="#2-2-è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="2.2 è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯"></a>2.2 è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯</h3><ul>
<li><strong>æ¥å£è¯´æ˜ï¼š</strong> è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯</li>
<li><strong>æ¥å£åœ°å€ï¼š</strong> /account/profile</li>
</ul>
<h4 id="2-2-1-è¯·æ±‚å‚æ•°"><a href="#2-2-1-è¯·æ±‚å‚æ•°" class="headerlink" title="2.2.1 è¯·æ±‚å‚æ•°"></a>2.2.1 è¯·æ±‚å‚æ•°</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Header</td>
<td align="left">&nbsp;</td>
<td align="left">R</td>
<td align="left">è¯·æ±‚æŠ¥æ–‡å¤´</td>
</tr>
<tr>
<td align="left">&emsp;Token</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">ç”¨æˆ·ç™»å½•åtokenï¼Œæ²¡æœ‰ç™»å½•åˆ™ä¸ºç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">&emsp;Version</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">æ¥å£ç‰ˆæœ¬å·</td>
</tr>
<tr>
<td align="left">&emsp;SystemId</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">æœºæ„å·ï¼Œè¯·æ±‚çš„ç³»ç»ŸId</td>
</tr>
<tr>
<td align="left">&emsp;Timestamp</td>
<td align="left">long</td>
<td align="left">R</td>
<td align="left">å½“å‰UNIXæ—¶é—´æˆ³</td>
</tr>
<tr>
<td align="left">Body</td>
<td align="left">&nbsp;</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
</tbody></table>
<p>è¯·æ±‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;Header&quot;:&#123;</span><br><span class="line">        &quot;Token&quot;:&quot;CA64A439E7C344B0BA7F5C825E17C7AB&quot;,</span><br><span class="line">        &quot;Version&quot;:&quot;3.2.0&quot;,</span><br><span class="line">        &quot;SystemId&quot;:100,</span><br><span class="line">        &quot;Timestamp&quot;:1502870664</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;Body&quot;:null</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="2-2-2-è¿”å›ç»“æœ"><a href="#2-2-2-è¿”å›ç»“æœ" class="headerlink" title="2.2.2 è¿”å›ç»“æœ"></a>2.2.2 è¿”å›ç»“æœ</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°åç§°</th>
<th align="left">ç±»å‹</th>
<th align="left">å‡ºç°è¦æ±‚</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Code</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">å“åº”ç ï¼Œä»£ç å®šä¹‰è¯·è§â€œé™„å½•A å“åº”å—è¯´æ˜â€</td>
</tr>
<tr>
<td align="left">Msg</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">Data</td>
<td align="left">object</td>
<td align="left">R</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&emsp;UserId</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">ç”¨æˆ·Id</td>
</tr>
<tr>
<td align="left">&emsp;RealName</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">å§“å</td>
</tr>
<tr>
<td align="left">&emsp;ImageUrl</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">å¤´åƒ</td>
</tr>
<tr>
<td align="left">&emsp;Score</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">ç§¯åˆ†</td>
</tr>
<tr>
<td align="left">&emsp;Nickname</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">æ˜µç§°</td>
</tr>
<tr>
<td align="left">&emsp;Sex</td>
<td align="left">int</td>
<td align="left">R</td>
<td align="left">æ€§åˆ«ï¼š0-æœªçŸ¥ã€1-ç”·ã€2-å¥³</td>
</tr>
<tr>
<td align="left">&emsp;Title</td>
<td align="left">string</td>
<td align="left">R</td>
<td align="left">å¤´è¡”</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;Code&quot;:200,</span><br><span class="line">    &quot;Msg&quot;:&quot;å¤„ç†æˆåŠŸ&quot;,</span><br><span class="line">    &quot;Data&quot;:&#123;</span><br><span class="line">        &quot;UserId&quot;:&quot;7D916C7283434955A235C17DD9B71C64&quot;,</span><br><span class="line">        &quot;RealName&quot;:&quot;å¼ ä¸‰&quot;,</span><br><span class="line">        &quot;ImageUrl&quot;:&quot;https://img.xx.net/afdicew8751.png&quot;,</span><br><span class="line">        &quot;Score&quot;:4732,</span><br><span class="line">        &quot;Nickname&quot;:&quot;å¼ å† ææˆ´&quot;,</span><br><span class="line">        &quot;Sex&quot;:1,</span><br><span class="line">        &quot;Title&quot;:&quot;ä¾ å®¢Lv4&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="3-é™„å½•A-å“åº”ç è¯´æ˜"><a href="#3-é™„å½•A-å“åº”ç è¯´æ˜" class="headerlink" title="3 é™„å½•A å“åº”ç è¯´æ˜"></a>3 é™„å½•A å“åº”ç è¯´æ˜</h2><table>
<thead>
<tr>
<th align="left">å“åº”ç </th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">200</td>
<td align="left">å¤„ç†æˆåŠŸ</td>
</tr>
<tr>
<td align="left">301</td>
<td align="left">è§£ææŠ¥æ–‡é”™è¯¯</td>
</tr>
<tr>
<td align="left">302</td>
<td align="left">æ— æ•ˆè°ƒç”¨å‡­è¯</td>
</tr>
<tr>
<td align="left">303</td>
<td align="left">å‚æ•°ä¸æ­£ç¡®</td>
</tr>
<tr>
<td align="left">500</td>
<td align="left">ç³»ç»Ÿå†…éƒ¨é”™è¯¯</td>
</tr>
<tr>
<td align="left">999</td>
<td align="left">å¤„ç†å¤±è´¥</td>
</tr>
</tbody></table>
<h2 id="4-é™„å½•B-å¸ç§"><a href="#4-é™„å½•B-å¸ç§" class="headerlink" title="4 é™„å½•B å¸ç§"></a>4 é™„å½•B å¸ç§</h2><table>
<thead>
<tr>
<th align="left">å¸ç§</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">RMB</td>
<td align="left">äººæ°‘å¸</td>
</tr>
<tr>
<td align="left">HKD</td>
<td align="left">æ¸¯å¸</td>
</tr>
<tr>
<td align="left">JPY</td>
<td align="left">æ—¥å…ƒ</td>
</tr>
<tr>
<td align="left">TWD</td>
<td align="left">æ–°å°å¸</td>
</tr>
<tr>
<td align="left">USD</td>
<td align="left">ç¾å…ƒ</td>
</tr>
<tr>
<td align="left">VND</td>
<td align="left">è¶Šå—ç›¾</td>
</tr>
<tr>
<td align="left">THB</td>
<td align="left">æ³°é“¢</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>æ¥å£æ–‡æ¡£</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½—é©¬æ•°å­—ï¼ˆä¸‹ï¼‰â€”â€”å¯¹ç…§è¡¨ 1-1000</title>
    <url>/2019/07/02/roman-numerals-1-1000/</url>
    <content><![CDATA[<h2 id="ç½—é©¬æ•°å­—-1-1000-å¯¹ç…§è¡¨"><a href="#ç½—é©¬æ•°å­—-1-1000-å¯¹ç…§è¡¨" class="headerlink" title="ç½—é©¬æ•°å­— 1-1000 å¯¹ç…§è¡¨"></a>ç½—é©¬æ•°å­— 1-1000 å¯¹ç…§è¡¨</h2><span id="more"></span>
<p><em><strong>PDF ç‰ˆæœ¬ä¸‹è½½:</strong></em> <em><a href="https://github.com/iuiuu/roman-numerals/blob/master/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%201-1000.pdf">roman numerals 1-1000.pdf</a></em></p>
<p><em><strong>Excel ç‰ˆæœ¬ä¸‹è½½:</strong></em> <em><a href="https://github.com/iuiuu/roman-numerals/blob/master/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%201-1000.xlsx">roman numerals 1-1000.xlsx</a></em></p>
<table>
<thead>
<tr>
<th>1-250</th>
<th></th>
<th>251-500</th>
<th></th>
<th>501-750</th>
<th></th>
<th>751-1000</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>I</td>
<td>251</td>
<td>CCLI</td>
<td>501</td>
<td>DI</td>
<td>751</td>
<td>DCCLI</td>
</tr>
<tr>
<td>2</td>
<td>II</td>
<td>252</td>
<td>CCLII</td>
<td>502</td>
<td>DII</td>
<td>752</td>
<td>DCCLII</td>
</tr>
<tr>
<td>3</td>
<td>III</td>
<td>253</td>
<td>CCLIII</td>
<td>503</td>
<td>DIII</td>
<td>753</td>
<td>DCCLIII</td>
</tr>
<tr>
<td>4</td>
<td>IV</td>
<td>254</td>
<td>CCLIV</td>
<td>504</td>
<td>DIV</td>
<td>754</td>
<td>DCCLIV</td>
</tr>
<tr>
<td>5</td>
<td>V</td>
<td>255</td>
<td>CCLV</td>
<td>505</td>
<td>DV</td>
<td>755</td>
<td>DCCLV</td>
</tr>
<tr>
<td>6</td>
<td>VI</td>
<td>256</td>
<td>CCLVI</td>
<td>506</td>
<td>DVI</td>
<td>756</td>
<td>DCCLVI</td>
</tr>
<tr>
<td>7</td>
<td>VII</td>
<td>257</td>
<td>CCLVII</td>
<td>507</td>
<td>DVII</td>
<td>757</td>
<td>DCCLVII</td>
</tr>
<tr>
<td>8</td>
<td>VIII</td>
<td>258</td>
<td>CCLVIII</td>
<td>508</td>
<td>DVIII</td>
<td>758</td>
<td>DCCLVIII</td>
</tr>
<tr>
<td>9</td>
<td>IX</td>
<td>259</td>
<td>CCLVIX</td>
<td>509</td>
<td>DIX</td>
<td>759</td>
<td>DCCLIX</td>
</tr>
<tr>
<td>10</td>
<td>X</td>
<td>260</td>
<td>CCLX</td>
<td>510</td>
<td>DX</td>
<td>760</td>
<td>DCCLX</td>
</tr>
<tr>
<td>11</td>
<td>XI</td>
<td>261</td>
<td>CCLXI</td>
<td>511</td>
<td>DXI</td>
<td>761</td>
<td>DCCLXI</td>
</tr>
<tr>
<td>12</td>
<td>XII</td>
<td>262</td>
<td>CCLXII</td>
<td>512</td>
<td>DXII</td>
<td>762</td>
<td>DCCLXII</td>
</tr>
<tr>
<td>13</td>
<td>XIII</td>
<td>263</td>
<td>CCLXIII</td>
<td>513</td>
<td>DXIII</td>
<td>763</td>
<td>DCCLXIII</td>
</tr>
<tr>
<td>14</td>
<td>XIV</td>
<td>264</td>
<td>CCLXIV</td>
<td>514</td>
<td>DXIV</td>
<td>764</td>
<td>DCCLXIV</td>
</tr>
<tr>
<td>15</td>
<td>XV</td>
<td>265</td>
<td>CCLXV</td>
<td>515</td>
<td>DXV</td>
<td>765</td>
<td>DCCLXV</td>
</tr>
<tr>
<td>16</td>
<td>XVI</td>
<td>266</td>
<td>CCLXVI</td>
<td>516</td>
<td>DXVI</td>
<td>766</td>
<td>DCCLXVI</td>
</tr>
<tr>
<td>17</td>
<td>XVII</td>
<td>267</td>
<td>CCLXVII</td>
<td>517</td>
<td>DXVII</td>
<td>767</td>
<td>DCCLXVII</td>
</tr>
<tr>
<td>18</td>
<td>XVIII</td>
<td>268</td>
<td>CCLXVIII</td>
<td>518</td>
<td>DXVIII</td>
<td>768</td>
<td>DCCLXVIII</td>
</tr>
<tr>
<td>19</td>
<td>XIX</td>
<td>269</td>
<td>CCLXIX</td>
<td>519</td>
<td>DXIX</td>
<td>769</td>
<td>DCCLXIX</td>
</tr>
<tr>
<td>20</td>
<td>XX</td>
<td>270</td>
<td>CCLXX</td>
<td>520</td>
<td>DXX</td>
<td>770</td>
<td>DCCLXX</td>
</tr>
<tr>
<td>21</td>
<td>XXI</td>
<td>271</td>
<td>CCLXXI</td>
<td>521</td>
<td>DXXI</td>
<td>771</td>
<td>DCCLXXI</td>
</tr>
<tr>
<td>22</td>
<td>XXII</td>
<td>272</td>
<td>CCLXXII</td>
<td>522</td>
<td>DXXII</td>
<td>772</td>
<td>DCCLXXII</td>
</tr>
<tr>
<td>23</td>
<td>XXIII</td>
<td>273</td>
<td>CCLXXIII</td>
<td>523</td>
<td>DXXIII</td>
<td>773</td>
<td>DCCLXXIII</td>
</tr>
<tr>
<td>24</td>
<td>XXIV</td>
<td>274</td>
<td>CCLXXIV</td>
<td>524</td>
<td>DXXIV</td>
<td>774</td>
<td>DCCLXXIV</td>
</tr>
<tr>
<td>25</td>
<td>XXV</td>
<td>275</td>
<td>CCLXXV</td>
<td>525</td>
<td>DXXV</td>
<td>775</td>
<td>DCCLXXV</td>
</tr>
<tr>
<td>26</td>
<td>XXVI</td>
<td>276</td>
<td>CCLXXVI</td>
<td>526</td>
<td>DXXVI</td>
<td>776</td>
<td>DCCLXXVI</td>
</tr>
<tr>
<td>27</td>
<td>XXVII</td>
<td>277</td>
<td>CCLXXVII</td>
<td>527</td>
<td>DXXVII</td>
<td>777</td>
<td>DCCLXXVII</td>
</tr>
<tr>
<td>28</td>
<td>XXVIII</td>
<td>278</td>
<td>CCLXXIII</td>
<td>528</td>
<td>DXXVIII</td>
<td>778</td>
<td>DCCLXXVIII</td>
</tr>
<tr>
<td>29</td>
<td>XXIX</td>
<td>279</td>
<td>CCLXXIX</td>
<td>529</td>
<td>DXXIX</td>
<td>779</td>
<td>DCCLXXIX</td>
</tr>
<tr>
<td>30</td>
<td>XXX</td>
<td>280</td>
<td>CCLXXX</td>
<td>530</td>
<td>DXXX</td>
<td>780</td>
<td>DCCLXXX</td>
</tr>
<tr>
<td>31</td>
<td>XXXI</td>
<td>281</td>
<td>CCLXXXI</td>
<td>531</td>
<td>DXXXI</td>
<td>781</td>
<td>DCCLXXXI</td>
</tr>
<tr>
<td>32</td>
<td>XXXII</td>
<td>282</td>
<td>CCLXXXII</td>
<td>532</td>
<td>DXXXII</td>
<td>782</td>
<td>DCCLXXXII</td>
</tr>
<tr>
<td>33</td>
<td>XXXIII</td>
<td>283</td>
<td>CCLXXXIII</td>
<td>533</td>
<td>DXXXIII</td>
<td>783</td>
<td>DCCLXXXIII</td>
</tr>
<tr>
<td>34</td>
<td>XXXIV</td>
<td>284</td>
<td>CCLXXXIV</td>
<td>534</td>
<td>DXXXIV</td>
<td>784</td>
<td>DCCLXXXIV</td>
</tr>
<tr>
<td>35</td>
<td>XXXV</td>
<td>285</td>
<td>CCLXXXV</td>
<td>535</td>
<td>DXXXV</td>
<td>785</td>
<td>DCCLXXXV</td>
</tr>
<tr>
<td>36</td>
<td>XXXVI</td>
<td>286</td>
<td>CCLXXXVI</td>
<td>536</td>
<td>DXXXVI</td>
<td>786</td>
<td>DCCLXXXVI</td>
</tr>
<tr>
<td>37</td>
<td>XXXVII</td>
<td>287</td>
<td>CCLXXXVII</td>
<td>537</td>
<td>DXXXVII</td>
<td>787</td>
<td>DCCLXXXVII</td>
</tr>
<tr>
<td>38</td>
<td>XXXVIII</td>
<td>288</td>
<td>CCLXXXVIII</td>
<td>538</td>
<td>DXXXVIII</td>
<td>788</td>
<td>DCCLXXXVIII</td>
</tr>
<tr>
<td>39</td>
<td>XXXIX</td>
<td>289</td>
<td>CCLXXXIX</td>
<td>539</td>
<td>DXXXIX</td>
<td>789</td>
<td>DCCLXXXIX</td>
</tr>
<tr>
<td>40</td>
<td>XL</td>
<td>290</td>
<td>CCXC</td>
<td>540</td>
<td>DXL</td>
<td>790</td>
<td>DCCXC</td>
</tr>
<tr>
<td>41</td>
<td>XLI</td>
<td>291</td>
<td>CCXCI</td>
<td>541</td>
<td>DXLI</td>
<td>791</td>
<td>DCCXCI</td>
</tr>
<tr>
<td>42</td>
<td>XLII</td>
<td>292</td>
<td>CCXCII</td>
<td>542</td>
<td>DXLII</td>
<td>792</td>
<td>DCCXCII</td>
</tr>
<tr>
<td>43</td>
<td>XLIII</td>
<td>293</td>
<td>CCXCIII</td>
<td>543</td>
<td>DXLIII</td>
<td>793</td>
<td>DCCXCIII</td>
</tr>
<tr>
<td>44</td>
<td>XLIV</td>
<td>294</td>
<td>CCXCIV</td>
<td>544</td>
<td>DXLIV</td>
<td>794</td>
<td>DCCXCIV</td>
</tr>
<tr>
<td>45</td>
<td>XLV</td>
<td>295</td>
<td>CCXCV</td>
<td>545</td>
<td>DXLV</td>
<td>795</td>
<td>DCCXCV</td>
</tr>
<tr>
<td>46</td>
<td>XLVI</td>
<td>296</td>
<td>CCXCVI</td>
<td>546</td>
<td>DXLVI</td>
<td>796</td>
<td>DCCXCVI</td>
</tr>
<tr>
<td>47</td>
<td>XLVII</td>
<td>297</td>
<td>CCXCVII</td>
<td>547</td>
<td>DXLVII</td>
<td>797</td>
<td>DCCXCVII</td>
</tr>
<tr>
<td>48</td>
<td>XLVIII</td>
<td>298</td>
<td>CCXCVIII</td>
<td>548</td>
<td>DXLVIII</td>
<td>798</td>
<td>DCCXCVIII</td>
</tr>
<tr>
<td>49</td>
<td>XLIX</td>
<td>299</td>
<td>CCXCIX</td>
<td>549</td>
<td>DXLIX</td>
<td>799</td>
<td>DCCXCIX</td>
</tr>
<tr>
<td>50</td>
<td>L</td>
<td>300</td>
<td>CCC</td>
<td>550</td>
<td>DL</td>
<td>800</td>
<td>DCCC</td>
</tr>
<tr>
<td>51</td>
<td>LI</td>
<td>301</td>
<td>CCCI</td>
<td>551</td>
<td>DLI</td>
<td>801</td>
<td>DCCCI</td>
</tr>
<tr>
<td>52</td>
<td>LII</td>
<td>302</td>
<td>CCCII</td>
<td>552</td>
<td>DLII</td>
<td>802</td>
<td>DCCCII</td>
</tr>
<tr>
<td>53</td>
<td>LIII</td>
<td>303</td>
<td>CCCIII</td>
<td>553</td>
<td>DLIII</td>
<td>803</td>
<td>DCCCIII</td>
</tr>
<tr>
<td>54</td>
<td>LIV</td>
<td>304</td>
<td>CCCIV</td>
<td>554</td>
<td>DLIV</td>
<td>804</td>
<td>DCCCIV</td>
</tr>
<tr>
<td>55</td>
<td>LV</td>
<td>305</td>
<td>CCCV</td>
<td>555</td>
<td>DLV</td>
<td>805</td>
<td>DCCCV</td>
</tr>
<tr>
<td>56</td>
<td>LVI</td>
<td>306</td>
<td>CCCVI</td>
<td>556</td>
<td>DLVI</td>
<td>806</td>
<td>DCCCVI</td>
</tr>
<tr>
<td>57</td>
<td>LVII</td>
<td>307</td>
<td>CCCVII</td>
<td>557</td>
<td>DLVII</td>
<td>807</td>
<td>DCCCVII</td>
</tr>
<tr>
<td>58</td>
<td>LVIII</td>
<td>308</td>
<td>CCCVIII</td>
<td>558</td>
<td>DLVIII</td>
<td>808</td>
<td>DCCCVIII</td>
</tr>
<tr>
<td>59</td>
<td>LIX</td>
<td>309</td>
<td>CCCIX</td>
<td>559</td>
<td>DLIX</td>
<td>809</td>
<td>DCCCIX</td>
</tr>
<tr>
<td>60</td>
<td>LX</td>
<td>310</td>
<td>CCCX</td>
<td>560</td>
<td>DLX</td>
<td>810</td>
<td>DCCCX</td>
</tr>
<tr>
<td>61</td>
<td>LXI</td>
<td>311</td>
<td>CCCXI</td>
<td>561</td>
<td>DLXI</td>
<td>811</td>
<td>DCCCXI</td>
</tr>
<tr>
<td>62</td>
<td>LXII</td>
<td>312</td>
<td>CCCXII</td>
<td>562</td>
<td>DLXII</td>
<td>812</td>
<td>DCCCXII</td>
</tr>
<tr>
<td>63</td>
<td>LXIII</td>
<td>313</td>
<td>CCCXIII</td>
<td>563</td>
<td>DLXIII</td>
<td>813</td>
<td>DCCCXIII</td>
</tr>
<tr>
<td>64</td>
<td>LXIV</td>
<td>314</td>
<td>CCCXIV</td>
<td>564</td>
<td>DLXIV</td>
<td>814</td>
<td>DCCCXIV</td>
</tr>
<tr>
<td>65</td>
<td>LXV</td>
<td>315</td>
<td>CCCXV</td>
<td>565</td>
<td>DLXV</td>
<td>815</td>
<td>DCCCXV</td>
</tr>
<tr>
<td>66</td>
<td>LXVI</td>
<td>316</td>
<td>CCCXVI</td>
<td>566</td>
<td>DLXVI</td>
<td>816</td>
<td>DCCCXVI</td>
</tr>
<tr>
<td>67</td>
<td>LXVII</td>
<td>317</td>
<td>CCCXVII</td>
<td>567</td>
<td>DLXVII</td>
<td>817</td>
<td>DCCCXVII</td>
</tr>
<tr>
<td>68</td>
<td>LXVIII</td>
<td>318</td>
<td>CCCXVIII</td>
<td>568</td>
<td>DLXVIII</td>
<td>818</td>
<td>DCCCXVIII</td>
</tr>
<tr>
<td>69</td>
<td>LXIX</td>
<td>319</td>
<td>CCCXIX</td>
<td>569</td>
<td>DLXIX</td>
<td>819</td>
<td>DCCCXIX</td>
</tr>
<tr>
<td>70</td>
<td>LXX</td>
<td>320</td>
<td>CCCXX</td>
<td>570</td>
<td>DLXX</td>
<td>820</td>
<td>DCCCXX</td>
</tr>
<tr>
<td>71</td>
<td>LXXI</td>
<td>321</td>
<td>CCCXXI</td>
<td>571</td>
<td>DLXXI</td>
<td>821</td>
<td>DCCCXXI</td>
</tr>
<tr>
<td>72</td>
<td>LXXII</td>
<td>322</td>
<td>CCCXXII</td>
<td>572</td>
<td>DLXXII</td>
<td>822</td>
<td>DCCCXXII</td>
</tr>
<tr>
<td>73</td>
<td>LXXIII</td>
<td>323</td>
<td>CCCXXIII</td>
<td>573</td>
<td>DLXXIII</td>
<td>823</td>
<td>DCCCXXIII</td>
</tr>
<tr>
<td>74</td>
<td>LXXIV</td>
<td>324</td>
<td>CCCXXIV</td>
<td>574</td>
<td>DLXXIV</td>
<td>824</td>
<td>DCCCXXIV</td>
</tr>
<tr>
<td>75</td>
<td>LXXV</td>
<td>325</td>
<td>CCCXXV</td>
<td>575</td>
<td>DLXXV</td>
<td>825</td>
<td>DCCCXXV</td>
</tr>
<tr>
<td>76</td>
<td>LXXVI</td>
<td>326</td>
<td>CCCXXVI</td>
<td>576</td>
<td>DLXXVI</td>
<td>826</td>
<td>DCCCXXVI</td>
</tr>
<tr>
<td>77</td>
<td>LXXVII</td>
<td>327</td>
<td>CCCXXVII</td>
<td>577</td>
<td>DLXXVII</td>
<td>827</td>
<td>DCCCXXVII</td>
</tr>
<tr>
<td>78</td>
<td>LXXVIII</td>
<td>328</td>
<td>CCCXXVIII</td>
<td>578</td>
<td>DLXXVIII</td>
<td>828</td>
<td>DCCCXXVIII</td>
</tr>
<tr>
<td>79</td>
<td>LXXIX</td>
<td>329</td>
<td>CCCXXIX</td>
<td>579</td>
<td>DLXXIX</td>
<td>829</td>
<td>DCCCXXIX</td>
</tr>
<tr>
<td>80</td>
<td>LXXX</td>
<td>330</td>
<td>CCCXXX</td>
<td>580</td>
<td>DLXXX</td>
<td>930</td>
<td>DCCCXXX</td>
</tr>
<tr>
<td>81</td>
<td>LXXXI</td>
<td>331</td>
<td>CCCXXXI</td>
<td>581</td>
<td>DLXXXI</td>
<td>831</td>
<td>DCCCXXXI</td>
</tr>
<tr>
<td>82</td>
<td>LXXXII</td>
<td>332</td>
<td>CCCXXXII</td>
<td>582</td>
<td>DLXXXII</td>
<td>832</td>
<td>DCCCXXXII</td>
</tr>
<tr>
<td>83</td>
<td>LXXXIII</td>
<td>333</td>
<td>CCCXXXIII</td>
<td>583</td>
<td>DLXXXIII</td>
<td>833</td>
<td>DCCCXXXIII</td>
</tr>
<tr>
<td>84</td>
<td>LXXXIV</td>
<td>334</td>
<td>CCCXXXIV</td>
<td>584</td>
<td>DLXXXIV</td>
<td>834</td>
<td>DCCCXXXIV</td>
</tr>
<tr>
<td>85</td>
<td>LXXXV</td>
<td>335</td>
<td>CCCXXXV</td>
<td>585</td>
<td>DLXXXV</td>
<td>835</td>
<td>DCCCXXXV</td>
</tr>
<tr>
<td>86</td>
<td>LXXXVI</td>
<td>336</td>
<td>CCCXXXVI</td>
<td>586</td>
<td>DLXXXVI</td>
<td>836</td>
<td>DCCCXXXVI</td>
</tr>
<tr>
<td>87</td>
<td>LXXXVII</td>
<td>337</td>
<td>CCCXXXVII</td>
<td>587</td>
<td>DLXXXVII</td>
<td>837</td>
<td>DCCCXXXVII</td>
</tr>
<tr>
<td>88</td>
<td>LXXXVIII</td>
<td>338</td>
<td>CCCXXXVIII</td>
<td>588</td>
<td>DLXXXVIII</td>
<td>838</td>
<td>DCCCXXXVIII</td>
</tr>
<tr>
<td>89</td>
<td>LXXXIX</td>
<td>339</td>
<td>CCCXXXIX</td>
<td>589</td>
<td>DLXXXIX</td>
<td>839</td>
<td>DCCCXXXIX</td>
</tr>
<tr>
<td>90</td>
<td>XC</td>
<td>340</td>
<td>CCCXL</td>
<td>590</td>
<td>DXC</td>
<td>840</td>
<td>DCCCXL</td>
</tr>
<tr>
<td>91</td>
<td>XCI</td>
<td>341</td>
<td>CCCXLI</td>
<td>591</td>
<td>DXCI</td>
<td>841</td>
<td>DCCCXLI</td>
</tr>
<tr>
<td>92</td>
<td>XCII</td>
<td>342</td>
<td>CCCXLII</td>
<td>592</td>
<td>DXCII</td>
<td>842</td>
<td>DCCCXLII</td>
</tr>
<tr>
<td>93</td>
<td>XCIII</td>
<td>343</td>
<td>CCCXLIII</td>
<td>593</td>
<td>DXCIII</td>
<td>843</td>
<td>DCCCXLIII</td>
</tr>
<tr>
<td>94</td>
<td>XCIV</td>
<td>344</td>
<td>CCCXLIV</td>
<td>594</td>
<td>DXCIV</td>
<td>844</td>
<td>DCCCXLIV</td>
</tr>
<tr>
<td>95</td>
<td>XCV</td>
<td>345</td>
<td>CCCXLV</td>
<td>595</td>
<td>DXCV</td>
<td>845</td>
<td>DCCCXLV</td>
</tr>
<tr>
<td>96</td>
<td>XCVI</td>
<td>346</td>
<td>CCCXLVI</td>
<td>596</td>
<td>DXCVI</td>
<td>846</td>
<td>DCCCXLVI</td>
</tr>
<tr>
<td>97</td>
<td>XCVII</td>
<td>347</td>
<td>CCCXLVII</td>
<td>597</td>
<td>DXCVII</td>
<td>847</td>
<td>DCCCXLVII</td>
</tr>
<tr>
<td>98</td>
<td>XCVIII</td>
<td>348</td>
<td>CCCXLVIII</td>
<td>598</td>
<td>DXCVIII</td>
<td>848</td>
<td>DCCCXLVIII</td>
</tr>
<tr>
<td>99</td>
<td>XCIX</td>
<td>349</td>
<td>CCCXLIX</td>
<td>599</td>
<td>DXCIX</td>
<td>849</td>
<td>DCCCXLIX</td>
</tr>
<tr>
<td>100</td>
<td>C</td>
<td>350</td>
<td>CCCL</td>
<td>600</td>
<td>DC</td>
<td>850</td>
<td>DCCCL</td>
</tr>
<tr>
<td>101</td>
<td>CI</td>
<td>351</td>
<td>CCCLI</td>
<td>601</td>
<td>DCI</td>
<td>851</td>
<td>DCCCLI</td>
</tr>
<tr>
<td>102</td>
<td>CII</td>
<td>352</td>
<td>CCCLII</td>
<td>602</td>
<td>DCII</td>
<td>852</td>
<td>DCCCLII</td>
</tr>
<tr>
<td>103</td>
<td>CIII</td>
<td>353</td>
<td>CCCLIII</td>
<td>603</td>
<td>DCIII</td>
<td>853</td>
<td>DCCCLIII</td>
</tr>
<tr>
<td>104</td>
<td>CIV</td>
<td>354</td>
<td>CCCLIV</td>
<td>604</td>
<td>DCIV</td>
<td>854</td>
<td>DCCCLIV</td>
</tr>
<tr>
<td>105</td>
<td>CV</td>
<td>355</td>
<td>CCCLV</td>
<td>605</td>
<td>DCV</td>
<td>855</td>
<td>DCCCLV</td>
</tr>
<tr>
<td>106</td>
<td>CVI</td>
<td>356</td>
<td>CCCLVI</td>
<td>606</td>
<td>DCVI</td>
<td>856</td>
<td>DCCCLVI</td>
</tr>
<tr>
<td>107</td>
<td>CVII</td>
<td>357</td>
<td>CCCLVII</td>
<td>607</td>
<td>DCVII</td>
<td>857</td>
<td>DCCCLVII</td>
</tr>
<tr>
<td>108</td>
<td>CVIII</td>
<td>358</td>
<td>CCCLVIII</td>
<td>608</td>
<td>DCVIII</td>
<td>858</td>
<td>DCCCLVIII</td>
</tr>
<tr>
<td>109</td>
<td>CIX</td>
<td>359</td>
<td>CCCLIX</td>
<td>609</td>
<td>DCIX</td>
<td>859</td>
<td>DCCCLIX</td>
</tr>
<tr>
<td>110</td>
<td>CX</td>
<td>360</td>
<td>CCCLX</td>
<td>610</td>
<td>DCX</td>
<td>860</td>
<td>DCCCLX</td>
</tr>
<tr>
<td>111</td>
<td>CXI</td>
<td>361</td>
<td>CCCLXI</td>
<td>611</td>
<td>DCXI</td>
<td>861</td>
<td>DCCCLXI</td>
</tr>
<tr>
<td>112</td>
<td>CXII</td>
<td>362</td>
<td>CCCLXII</td>
<td>612</td>
<td>DCXII</td>
<td>862</td>
<td>DCCCLXII</td>
</tr>
<tr>
<td>113</td>
<td>CXIII</td>
<td>363</td>
<td>CCCLXIII</td>
<td>613</td>
<td>DCXIII</td>
<td>863</td>
<td>DCCCLXIII</td>
</tr>
<tr>
<td>114</td>
<td>CXIV</td>
<td>364</td>
<td>CCCLXIV</td>
<td>614</td>
<td>DCXIV</td>
<td>864</td>
<td>DCCCLXIV</td>
</tr>
<tr>
<td>115</td>
<td>CXV</td>
<td>365</td>
<td>CCCLXV</td>
<td>615</td>
<td>DCXV</td>
<td>865</td>
<td>DCCCLXV</td>
</tr>
<tr>
<td>116</td>
<td>CXVI</td>
<td>366</td>
<td>CCCLXVI</td>
<td>616</td>
<td>DCXVI</td>
<td>866</td>
<td>DCCCLXVI</td>
</tr>
<tr>
<td>117</td>
<td>CXVII</td>
<td>367</td>
<td>CCCLXVII</td>
<td>617</td>
<td>DCXVII</td>
<td>867</td>
<td>DCCCLXVII</td>
</tr>
<tr>
<td>118</td>
<td>CXVIII</td>
<td>368</td>
<td>CCCLXVIII</td>
<td>618</td>
<td>DCXVIII</td>
<td>868</td>
<td>DCCCLXVIII</td>
</tr>
<tr>
<td>119</td>
<td>CXIX</td>
<td>369</td>
<td>CCCLXIX</td>
<td>619</td>
<td>DCXIX</td>
<td>869</td>
<td>DCCCLXIX</td>
</tr>
<tr>
<td>120</td>
<td>CXX</td>
<td>370</td>
<td>CCCLXX</td>
<td>620</td>
<td>DCXX</td>
<td>870</td>
<td>DCCCLXX</td>
</tr>
<tr>
<td>121</td>
<td>CXXI</td>
<td>371</td>
<td>CCCLXXI</td>
<td>621</td>
<td>DCXXI</td>
<td>871</td>
<td>DCCCLXXI</td>
</tr>
<tr>
<td>122</td>
<td>CXXII</td>
<td>372</td>
<td>CCCLXXII</td>
<td>622</td>
<td>DCXXII</td>
<td>872</td>
<td>DCCCLXXII</td>
</tr>
<tr>
<td>123</td>
<td>CXXIII</td>
<td>373</td>
<td>CCCLXXIII</td>
<td>623</td>
<td>DCXXIII</td>
<td>873</td>
<td>DCCCLXXIII</td>
</tr>
<tr>
<td>124</td>
<td>CXXIV</td>
<td>374</td>
<td>CCCLXXIV</td>
<td>624</td>
<td>DCXXIV</td>
<td>874</td>
<td>DCCCLXXIV</td>
</tr>
<tr>
<td>125</td>
<td>CXXV</td>
<td>375</td>
<td>CCCLXXV</td>
<td>625</td>
<td>DCXXV</td>
<td>875</td>
<td>DCCCLXXV</td>
</tr>
<tr>
<td>126</td>
<td>CXXVI</td>
<td>376</td>
<td>CCCLXXVI</td>
<td>626</td>
<td>DCXXVI</td>
<td>876</td>
<td>DCCCLXXVI</td>
</tr>
<tr>
<td>127</td>
<td>CXXVII</td>
<td>377</td>
<td>CCCLXXVII</td>
<td>627</td>
<td>DCXXVII</td>
<td>877</td>
<td>DCCCLXXVII</td>
</tr>
<tr>
<td>128</td>
<td>CXXVIII</td>
<td>378</td>
<td>CCCLXXVIII</td>
<td>628</td>
<td>DCXXVIII</td>
<td>878</td>
<td>DCCCLXXVIII</td>
</tr>
<tr>
<td>129</td>
<td>CXXIX</td>
<td>379</td>
<td>CCCLXXIX</td>
<td>629</td>
<td>DCXXIX</td>
<td>879</td>
<td>DCCCLXXIX</td>
</tr>
<tr>
<td>130</td>
<td>CXXX</td>
<td>380</td>
<td>CCCLXXX</td>
<td>630</td>
<td>DCXXX</td>
<td>880</td>
<td>DCCCLXXX</td>
</tr>
<tr>
<td>131</td>
<td>CXXXI</td>
<td>381</td>
<td>CCCLXXXI</td>
<td>631</td>
<td>DCXXXI</td>
<td>881</td>
<td>DCCCLXXXI</td>
</tr>
<tr>
<td>132</td>
<td>CXXXII</td>
<td>382</td>
<td>CCCLXXXII</td>
<td>632</td>
<td>DCXXXII</td>
<td>882</td>
<td>DCCCLXXXII</td>
</tr>
<tr>
<td>133</td>
<td>CXXXIII</td>
<td>383</td>
<td>CCCLXXXIII</td>
<td>633</td>
<td>DCXXXIII</td>
<td>883</td>
<td>DCCCLXXXIII</td>
</tr>
<tr>
<td>134</td>
<td>CXXXIV</td>
<td>384</td>
<td>CCCLXXXIV</td>
<td>634</td>
<td>DCXXXIV</td>
<td>884</td>
<td>DCCCLXXXIV</td>
</tr>
<tr>
<td>135</td>
<td>CXXXV</td>
<td>385</td>
<td>CCCLXXXV</td>
<td>635</td>
<td>DCXXXV</td>
<td>885</td>
<td>DCCCLXXXV</td>
</tr>
<tr>
<td>136</td>
<td>CXXXVI</td>
<td>386</td>
<td>CCCLXXXVI</td>
<td>636</td>
<td>DCXXXVI</td>
<td>886</td>
<td>DCCCLXXXVI</td>
</tr>
<tr>
<td>137</td>
<td>CXXXVII</td>
<td>387</td>
<td>CCCLXXXVII</td>
<td>637</td>
<td>DCXXXVII</td>
<td>887</td>
<td>DCCCLXXXVII</td>
</tr>
<tr>
<td>138</td>
<td>CXXXVIII</td>
<td>388</td>
<td>CCCLXXXVIII</td>
<td>638</td>
<td>DCXXXVIII</td>
<td>888</td>
<td>DCCCLXXXVIII</td>
</tr>
<tr>
<td>139</td>
<td>CXXXIX</td>
<td>389</td>
<td>CCCLXXXIX</td>
<td>639</td>
<td>DCXXXIX</td>
<td>889</td>
<td>DCCCLXXXIX</td>
</tr>
<tr>
<td>140</td>
<td>CXL</td>
<td>390</td>
<td>CCCXC</td>
<td>640</td>
<td>DCXL</td>
<td>890</td>
<td>DCCCXC</td>
</tr>
<tr>
<td>141</td>
<td>CXLI</td>
<td>391</td>
<td>CCCXCI</td>
<td>641</td>
<td>DCXLI</td>
<td>891</td>
<td>DCCCXCI</td>
</tr>
<tr>
<td>142</td>
<td>CXLII</td>
<td>392</td>
<td>CCCXCII</td>
<td>642</td>
<td>DCXLII</td>
<td>892</td>
<td>DCCCXCII</td>
</tr>
<tr>
<td>143</td>
<td>CXLIII</td>
<td>393</td>
<td>CCCXCIII</td>
<td>643</td>
<td>DCXLIII</td>
<td>893</td>
<td>DCCCXCIII</td>
</tr>
<tr>
<td>144</td>
<td>CXLIV</td>
<td>394</td>
<td>CCCXCIV</td>
<td>644</td>
<td>DCXLIV</td>
<td>894</td>
<td>DCCCXCIV</td>
</tr>
<tr>
<td>145</td>
<td>CXLV</td>
<td>395</td>
<td>CCCXCV</td>
<td>645</td>
<td>DCXLV</td>
<td>895</td>
<td>DCCCXCV</td>
</tr>
<tr>
<td>146</td>
<td>CXLVI</td>
<td>396</td>
<td>CCCXCVI</td>
<td>646</td>
<td>DCXLVI</td>
<td>896</td>
<td>DCCCXCVI</td>
</tr>
<tr>
<td>147</td>
<td>CXLVII</td>
<td>397</td>
<td>CCCXCVII</td>
<td>647</td>
<td>DCXLVII</td>
<td>897</td>
<td>DCCCXCVII</td>
</tr>
<tr>
<td>148</td>
<td>CXLVIII</td>
<td>398</td>
<td>CCCVCVIII</td>
<td>648</td>
<td>DCXLVIII</td>
<td>898</td>
<td>DCCCXCVIII</td>
</tr>
<tr>
<td>149</td>
<td>CXLIX</td>
<td>399</td>
<td>CCCXCIX</td>
<td>649</td>
<td>DCXLIX</td>
<td>899</td>
<td>DCCCXCIX</td>
</tr>
<tr>
<td>150</td>
<td>CL</td>
<td>400</td>
<td>CD</td>
<td>650</td>
<td>DCL</td>
<td>900</td>
<td>CM</td>
</tr>
<tr>
<td>151</td>
<td>CLI</td>
<td>401</td>
<td>CDI</td>
<td>651</td>
<td>DCLI</td>
<td>901</td>
<td>CMI</td>
</tr>
<tr>
<td>152</td>
<td>CLII</td>
<td>402</td>
<td>CDII</td>
<td>652</td>
<td>DCLII</td>
<td>902</td>
<td>CMII</td>
</tr>
<tr>
<td>153</td>
<td>CLIII</td>
<td>403</td>
<td>CDIII</td>
<td>653</td>
<td>DCLIII</td>
<td>903</td>
<td>CMIII</td>
</tr>
<tr>
<td>154</td>
<td>CLIV</td>
<td>404</td>
<td>CDIV</td>
<td>654</td>
<td>DCLIV</td>
<td>904</td>
<td>CMIV</td>
</tr>
<tr>
<td>155</td>
<td>CLV</td>
<td>405</td>
<td>CDV</td>
<td>655</td>
<td>DCLV</td>
<td>905</td>
<td>CMV</td>
</tr>
<tr>
<td>156</td>
<td>CLVI</td>
<td>406</td>
<td>CDVI</td>
<td>656</td>
<td>DCLVI</td>
<td>906</td>
<td>CMVI</td>
</tr>
<tr>
<td>157</td>
<td>CLVII</td>
<td>407</td>
<td>CDVII</td>
<td>657</td>
<td>DCLVII</td>
<td>907</td>
<td>CMVII</td>
</tr>
<tr>
<td>158</td>
<td>CLVIII</td>
<td>408</td>
<td>CDVIII</td>
<td>658</td>
<td>DCLVIII</td>
<td>908</td>
<td>CMVIII</td>
</tr>
<tr>
<td>159</td>
<td>CLIX</td>
<td>409</td>
<td>CDIX</td>
<td>659</td>
<td>DCLIX</td>
<td>909</td>
<td>CMIX</td>
</tr>
<tr>
<td>160</td>
<td>CLX</td>
<td>410</td>
<td>CDX</td>
<td>660</td>
<td>DCLX</td>
<td>910</td>
<td>CMX</td>
</tr>
<tr>
<td>161</td>
<td>CLXI</td>
<td>411</td>
<td>CDXI</td>
<td>661</td>
<td>DCLXI</td>
<td>911</td>
<td>CMXI</td>
</tr>
<tr>
<td>162</td>
<td>CLXII</td>
<td>412</td>
<td>CDXII</td>
<td>662</td>
<td>DCLXII</td>
<td>912</td>
<td>CMXII</td>
</tr>
<tr>
<td>163</td>
<td>CLXIII</td>
<td>413</td>
<td>CDXIII</td>
<td>663</td>
<td>DCLXIII</td>
<td>913</td>
<td>CMXIII</td>
</tr>
<tr>
<td>164</td>
<td>CLXIV</td>
<td>414</td>
<td>CDXIV</td>
<td>664</td>
<td>DCLXIV</td>
<td>914</td>
<td>CMXIV</td>
</tr>
<tr>
<td>165</td>
<td>CLXV</td>
<td>415</td>
<td>CDXV</td>
<td>665</td>
<td>DCLXV</td>
<td>915</td>
<td>CMXV</td>
</tr>
<tr>
<td>166</td>
<td>CLXVI</td>
<td>416</td>
<td>CDXVI</td>
<td>666</td>
<td>DCLXVI</td>
<td>916</td>
<td>CMXVI</td>
</tr>
<tr>
<td>167</td>
<td>CLXVII</td>
<td>417</td>
<td>CDXVII</td>
<td>667</td>
<td>DCLXVII</td>
<td>917</td>
<td>CMXVII</td>
</tr>
<tr>
<td>168</td>
<td>CLXVIII</td>
<td>418</td>
<td>CDXVIII</td>
<td>668</td>
<td>DCLXVIII</td>
<td>918</td>
<td>CMXVIII</td>
</tr>
<tr>
<td>169</td>
<td>CLXIX</td>
<td>419</td>
<td>CDXIX</td>
<td>669</td>
<td>DCLXIX</td>
<td>919</td>
<td>CMXIX</td>
</tr>
<tr>
<td>170</td>
<td>CLXX</td>
<td>420</td>
<td>CDXX</td>
<td>670</td>
<td>DCLXX</td>
<td>920</td>
<td>CMXX</td>
</tr>
<tr>
<td>171</td>
<td>CLXXI</td>
<td>421</td>
<td>CDXXI</td>
<td>671</td>
<td>DCLXXI</td>
<td>921</td>
<td>CMXXI</td>
</tr>
<tr>
<td>172</td>
<td>CLXXII</td>
<td>422</td>
<td>CDXXII</td>
<td>672</td>
<td>DCLXXII</td>
<td>922</td>
<td>CMXXII</td>
</tr>
<tr>
<td>173</td>
<td>CLXXIII</td>
<td>423</td>
<td>CDXXIII</td>
<td>673</td>
<td>DCLXXIII</td>
<td>923</td>
<td>CMXXIII</td>
</tr>
<tr>
<td>174</td>
<td>CLXXIV</td>
<td>424</td>
<td>CDXXIV</td>
<td>674</td>
<td>DCLXXIV</td>
<td>924</td>
<td>CMXXIV</td>
</tr>
<tr>
<td>175</td>
<td>CLXXV</td>
<td>425</td>
<td>CDXXV</td>
<td>675</td>
<td>DCLXXV</td>
<td>925</td>
<td>CMXXV</td>
</tr>
<tr>
<td>176</td>
<td>CLXXVI</td>
<td>426</td>
<td>CDXXVI</td>
<td>676</td>
<td>DCLXXVI</td>
<td>926</td>
<td>CMXXVI</td>
</tr>
<tr>
<td>177</td>
<td>CLXXVII</td>
<td>427</td>
<td>CDXXVII</td>
<td>677</td>
<td>DCLXXVII</td>
<td>927</td>
<td>CMXXVII</td>
</tr>
<tr>
<td>178</td>
<td>CLXXVIII</td>
<td>428</td>
<td>CDXXVIII</td>
<td>678</td>
<td>DCLXXVIII</td>
<td>928</td>
<td>CMXXVIII</td>
</tr>
<tr>
<td>179</td>
<td>CLXXIX</td>
<td>429</td>
<td>CDXXIX</td>
<td>679</td>
<td>DCLXXIX</td>
<td>929</td>
<td>CMXXIX</td>
</tr>
<tr>
<td>180</td>
<td>CLXXX</td>
<td>430</td>
<td>CDXXX</td>
<td>680</td>
<td>DCLXXX</td>
<td>930</td>
<td>CMXXX</td>
</tr>
<tr>
<td>181</td>
<td>CLXXXI</td>
<td>431</td>
<td>CDXXXI</td>
<td>681</td>
<td>DCLXXXI</td>
<td>931</td>
<td>CMXXXI</td>
</tr>
<tr>
<td>182</td>
<td>CLXXXII</td>
<td>432</td>
<td>CDXXXII</td>
<td>682</td>
<td>DCLXXXII</td>
<td>932</td>
<td>CMXXXII</td>
</tr>
<tr>
<td>183</td>
<td>CLXXXIII</td>
<td>433</td>
<td>CDXXXIII</td>
<td>683</td>
<td>DCLXXXIII</td>
<td>933</td>
<td>CMXXXIII</td>
</tr>
<tr>
<td>184</td>
<td>CLXXXIV</td>
<td>434</td>
<td>CDXXXIV</td>
<td>684</td>
<td>DCLXXXIV</td>
<td>934</td>
<td>CMXXXIV</td>
</tr>
<tr>
<td>185</td>
<td>CLXXXV</td>
<td>435</td>
<td>CDXXXV</td>
<td>685</td>
<td>DCLXXXV</td>
<td>935</td>
<td>CMXXXV</td>
</tr>
<tr>
<td>186</td>
<td>CLXXXVI</td>
<td>436</td>
<td>CDXXXVI</td>
<td>686</td>
<td>DCLXXXVI</td>
<td>936</td>
<td>CMXXXVI</td>
</tr>
<tr>
<td>187</td>
<td>CLXXXVII</td>
<td>437</td>
<td>CDXXXVII</td>
<td>687</td>
<td>DCLXXXVII</td>
<td>937</td>
<td>CMXXXVII</td>
</tr>
<tr>
<td>188</td>
<td>CLXXXVIII</td>
<td>438</td>
<td>CDXXXVIII</td>
<td>688</td>
<td>DCLXXXVIII</td>
<td>938</td>
<td>CMXXXVIII</td>
</tr>
<tr>
<td>189</td>
<td>CLXXXIX</td>
<td>439</td>
<td>CDXXXIX</td>
<td>689</td>
<td>DCLXXXIX</td>
<td>939</td>
<td>CMXXXIX</td>
</tr>
<tr>
<td>190</td>
<td>CXC</td>
<td>440</td>
<td>CDXL</td>
<td>690</td>
<td>DCXC</td>
<td>940</td>
<td>CMXL</td>
</tr>
<tr>
<td>191</td>
<td>CXCI</td>
<td>441</td>
<td>CDXLI</td>
<td>691</td>
<td>DCXCI</td>
<td>941</td>
<td>CMXLI</td>
</tr>
<tr>
<td>192</td>
<td>CXCII</td>
<td>442</td>
<td>CDXLII</td>
<td>692</td>
<td>DCXCII</td>
<td>942</td>
<td>CMXLII</td>
</tr>
<tr>
<td>193</td>
<td>CXCIII</td>
<td>443</td>
<td>CDXLIII</td>
<td>693</td>
<td>DCXCIII</td>
<td>943</td>
<td>CMXLIII</td>
</tr>
<tr>
<td>194</td>
<td>CXCIV</td>
<td>444</td>
<td>CDXLIV</td>
<td>694</td>
<td>DCXCIV</td>
<td>944</td>
<td>CMXLIV</td>
</tr>
<tr>
<td>195</td>
<td>CXCV</td>
<td>445</td>
<td>CDXLV</td>
<td>695</td>
<td>DCXCV</td>
<td>945</td>
<td>CMXLV</td>
</tr>
<tr>
<td>196</td>
<td>CXCVI</td>
<td>446</td>
<td>CDXLVI</td>
<td>696</td>
<td>DCXCVI</td>
<td>946</td>
<td>CMXLVI</td>
</tr>
<tr>
<td>197</td>
<td>CXCVII</td>
<td>447</td>
<td>CDXLVII</td>
<td>697</td>
<td>DCXCVII</td>
<td>947</td>
<td>CMXLVII</td>
</tr>
<tr>
<td>198</td>
<td>CXCVIII</td>
<td>448</td>
<td>CDXLVIII</td>
<td>698</td>
<td>DCXCVIII</td>
<td>948</td>
<td>CMXLVIII</td>
</tr>
<tr>
<td>199</td>
<td>CXCIX</td>
<td>449</td>
<td>CDXLIX</td>
<td>699</td>
<td>DCXCIX</td>
<td>949</td>
<td>CMXLIX</td>
</tr>
<tr>
<td>200</td>
<td>CC</td>
<td>450</td>
<td>CDL</td>
<td>700</td>
<td>DCC</td>
<td>950</td>
<td>CML</td>
</tr>
<tr>
<td>201</td>
<td>CCI</td>
<td>451</td>
<td>CDLI</td>
<td>701</td>
<td>DCCI</td>
<td>951</td>
<td>CMLI</td>
</tr>
<tr>
<td>202</td>
<td>CCII</td>
<td>452</td>
<td>CDLII</td>
<td>702</td>
<td>DCCII</td>
<td>952</td>
<td>CMLII</td>
</tr>
<tr>
<td>203</td>
<td>CCIII</td>
<td>453</td>
<td>CDLIII</td>
<td>703</td>
<td>DCCIII</td>
<td>953</td>
<td>CMLIII</td>
</tr>
<tr>
<td>204</td>
<td>CCIV</td>
<td>454</td>
<td>CDLIV</td>
<td>704</td>
<td>DCCIV</td>
<td>954</td>
<td>CMLIV</td>
</tr>
<tr>
<td>205</td>
<td>CCV</td>
<td>455</td>
<td>CDLV</td>
<td>705</td>
<td>DCCV</td>
<td>955</td>
<td>CMLV</td>
</tr>
<tr>
<td>206</td>
<td>CCVI</td>
<td>456</td>
<td>CDLVI</td>
<td>706</td>
<td>DCCVI</td>
<td>956</td>
<td>CMLVI</td>
</tr>
<tr>
<td>207</td>
<td>CCVII</td>
<td>457</td>
<td>CDLVII</td>
<td>707</td>
<td>DCCVII</td>
<td>957</td>
<td>CMLVII</td>
</tr>
<tr>
<td>208</td>
<td>CCVIII</td>
<td>458</td>
<td>CDLVIII</td>
<td>708</td>
<td>DCCVIII</td>
<td>958</td>
<td>CMLVIII</td>
</tr>
<tr>
<td>209</td>
<td>CCIX</td>
<td>459</td>
<td>CDLIX</td>
<td>709</td>
<td>DCCIX</td>
<td>959</td>
<td>CMLIX</td>
</tr>
<tr>
<td>210</td>
<td>CCX</td>
<td>460</td>
<td>CDLX</td>
<td>710</td>
<td>DCCX</td>
<td>960</td>
<td>CMLX</td>
</tr>
<tr>
<td>211</td>
<td>CCXI</td>
<td>461</td>
<td>CDLXI</td>
<td>711</td>
<td>DCCXI</td>
<td>961</td>
<td>CMLXI</td>
</tr>
<tr>
<td>212</td>
<td>CCXII</td>
<td>462</td>
<td>CDLXII</td>
<td>712</td>
<td>DCCXII</td>
<td>962</td>
<td>CMLXII</td>
</tr>
<tr>
<td>213</td>
<td>CCXIII</td>
<td>463</td>
<td>CDLXIII</td>
<td>713</td>
<td>DCCXIII</td>
<td>963</td>
<td>CMLXIII</td>
</tr>
<tr>
<td>214</td>
<td>CCXIV</td>
<td>464</td>
<td>CDLXIV</td>
<td>714</td>
<td>DCCXIV</td>
<td>964</td>
<td>CMLXIV</td>
</tr>
<tr>
<td>215</td>
<td>CCXV</td>
<td>465</td>
<td>CDLXV</td>
<td>715</td>
<td>DCCXV</td>
<td>965</td>
<td>CMLXV</td>
</tr>
<tr>
<td>216</td>
<td>CCXVI</td>
<td>466</td>
<td>CDLXVI</td>
<td>716</td>
<td>DCCXVI</td>
<td>966</td>
<td>CMLXVI</td>
</tr>
<tr>
<td>217</td>
<td>CCXVII</td>
<td>467</td>
<td>CDLXVII</td>
<td>717</td>
<td>DCCXVII</td>
<td>967</td>
<td>CMLXVII</td>
</tr>
<tr>
<td>218</td>
<td>CCXVIII</td>
<td>468</td>
<td>CDLXVIII</td>
<td>718</td>
<td>DCCXVIII</td>
<td>968</td>
<td>CMLXVIII</td>
</tr>
<tr>
<td>219</td>
<td>CCXIX</td>
<td>469</td>
<td>CDLXIX</td>
<td>719</td>
<td>DCCXIX</td>
<td>969</td>
<td>CMLXIX</td>
</tr>
<tr>
<td>220</td>
<td>CCXX</td>
<td>470</td>
<td>CDLXX</td>
<td>720</td>
<td>DCCXX</td>
<td>970</td>
<td>CMLXX</td>
</tr>
<tr>
<td>221</td>
<td>CCXXI</td>
<td>471</td>
<td>CDLXXI</td>
<td>721</td>
<td>DCCXXI</td>
<td>971</td>
<td>CMLXXI</td>
</tr>
<tr>
<td>222</td>
<td>CCXXII</td>
<td>472</td>
<td>CDLXXII</td>
<td>722</td>
<td>DCCXXII</td>
<td>972</td>
<td>CMLXXII</td>
</tr>
<tr>
<td>223</td>
<td>CCXXIII</td>
<td>473</td>
<td>CDLXXIII</td>
<td>723</td>
<td>DCCXXIII</td>
<td>973</td>
<td>CMLXXIII</td>
</tr>
<tr>
<td>224</td>
<td>CCXXIV</td>
<td>474</td>
<td>CDLXXIV</td>
<td>724</td>
<td>DCCXXIV</td>
<td>974</td>
<td>CMLXXIV</td>
</tr>
<tr>
<td>225</td>
<td>CCXXV</td>
<td>475</td>
<td>CDLXXV</td>
<td>725</td>
<td>DCCXXV</td>
<td>975</td>
<td>CMLXXV</td>
</tr>
<tr>
<td>226</td>
<td>CCXXVI</td>
<td>476</td>
<td>CDLXXVI</td>
<td>726</td>
<td>DCCXXVI</td>
<td>976</td>
<td>CMLXXVI</td>
</tr>
<tr>
<td>227</td>
<td>CCXXVII</td>
<td>477</td>
<td>CDLXXVII</td>
<td>727</td>
<td>DCCXXVII</td>
<td>977</td>
<td>CMLXXVII</td>
</tr>
<tr>
<td>228</td>
<td>CCXXVIII</td>
<td>478</td>
<td>CDLXXVIII</td>
<td>728</td>
<td>DCCXXVIII</td>
<td>978</td>
<td>CMLXXVIII</td>
</tr>
<tr>
<td>229</td>
<td>CCXXIX</td>
<td>479</td>
<td>CDLXXIX</td>
<td>729</td>
<td>DCCXXIX</td>
<td>979</td>
<td>CMLXXIX</td>
</tr>
<tr>
<td>230</td>
<td>CCXXX</td>
<td>480</td>
<td>CDLXXX</td>
<td>730</td>
<td>DCCXXX</td>
<td>980</td>
<td>CMLXXX</td>
</tr>
<tr>
<td>231</td>
<td>CCXXXI</td>
<td>481</td>
<td>CDLXXXI</td>
<td>731</td>
<td>DCCXXXI</td>
<td>981</td>
<td>CMLXXXI</td>
</tr>
<tr>
<td>232</td>
<td>CCXXXII</td>
<td>482</td>
<td>CDDLXXXII</td>
<td>732</td>
<td>DCCXXXII</td>
<td>982</td>
<td>CMLXXXII</td>
</tr>
<tr>
<td>233</td>
<td>CCXXXIII</td>
<td>483</td>
<td>CDLXXXIII</td>
<td>733</td>
<td>DCCXXXIII</td>
<td>983</td>
<td>CMLXXXIII</td>
</tr>
<tr>
<td>234</td>
<td>CCXXXIV</td>
<td>484</td>
<td>CDLXXXIV</td>
<td>734</td>
<td>DCCXXXIV</td>
<td>984</td>
<td>CMLXXXIV</td>
</tr>
<tr>
<td>235</td>
<td>CCXXXV</td>
<td>485</td>
<td>CDLXXXV</td>
<td>735</td>
<td>DCCXXXV</td>
<td>985</td>
<td>CMLXXXV</td>
</tr>
<tr>
<td>236</td>
<td>CCXXXVI</td>
<td>486</td>
<td>CDLXXXVI</td>
<td>736</td>
<td>DCCXXXVI</td>
<td>986</td>
<td>CMLXXXVI</td>
</tr>
<tr>
<td>237</td>
<td>CCXXXVII</td>
<td>487</td>
<td>CDLXXXVII</td>
<td>737</td>
<td>DCCXXXVII</td>
<td>987</td>
<td>CMLXXXVII</td>
</tr>
<tr>
<td>238</td>
<td>CCXXXVIII</td>
<td>488</td>
<td>CDLXXXVIII</td>
<td>738</td>
<td>DCCXXXVIII</td>
<td>988</td>
<td>CMLXXXVIII</td>
</tr>
<tr>
<td>239</td>
<td>CCXXXIX</td>
<td>489</td>
<td>CDLXXXIX</td>
<td>739</td>
<td>DCCXXXIX</td>
<td>989</td>
<td>CMLXXXIX</td>
</tr>
<tr>
<td>240</td>
<td>CCXL</td>
<td>490</td>
<td>CDXC</td>
<td>740</td>
<td>DCCXL</td>
<td>990</td>
<td>CMXC</td>
</tr>
<tr>
<td>241</td>
<td>CCXLI</td>
<td>491</td>
<td>CDXCI</td>
<td>741</td>
<td>DCCXLI</td>
<td>991</td>
<td>CMXCI</td>
</tr>
<tr>
<td>242</td>
<td>CCXLII</td>
<td>492</td>
<td>CDXCII</td>
<td>742</td>
<td>DCCXLII</td>
<td>992</td>
<td>CMXCII</td>
</tr>
<tr>
<td>243</td>
<td>CCXLIII</td>
<td>493</td>
<td>CDXCIII</td>
<td>743</td>
<td>DCCXLIII</td>
<td>993</td>
<td>CMXCIII</td>
</tr>
<tr>
<td>244</td>
<td>CCXLIV</td>
<td>494</td>
<td>CDXCIV</td>
<td>744</td>
<td>DCCXLIV</td>
<td>994</td>
<td>CMXCIV</td>
</tr>
<tr>
<td>245</td>
<td>CCXLV</td>
<td>495</td>
<td>CDXCV</td>
<td>745</td>
<td>DCCXLV</td>
<td>995</td>
<td>CMXCV</td>
</tr>
<tr>
<td>246</td>
<td>CCXLVI</td>
<td>496</td>
<td>CDXCVI</td>
<td>746</td>
<td>DCCXLVI</td>
<td>996</td>
<td>CMXCVI</td>
</tr>
<tr>
<td>247</td>
<td>CCXLVII</td>
<td>497</td>
<td>CDXCVII</td>
<td>747</td>
<td>DCCXLVII</td>
<td>997</td>
<td>CMXCVII</td>
</tr>
<tr>
<td>248</td>
<td>CCXLVIII</td>
<td>498</td>
<td>CDXCVIII</td>
<td>748</td>
<td>DCCXLVIII</td>
<td>998</td>
<td>CMXCVIII</td>
</tr>
<tr>
<td>249</td>
<td>CCXLIX</td>
<td>499</td>
<td>CDXCIX</td>
<td>749</td>
<td>DCCXLIX</td>
<td>999</td>
<td>CMXCIX</td>
</tr>
<tr>
<td>250</td>
<td>CCL</td>
<td>500</td>
<td>D</td>
<td>750</td>
<td>DCCL</td>
<td>1000</td>
<td>M</td>
</tr>
</tbody></table>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
        <tag>ç½—é©¬æ•°å­—</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½—é©¬æ•°å­—ï¼ˆä¸­ï¼‰â€”â€”èµ·æºä¸ç”¨é€”</title>
    <url>/2019/07/01/history-of-roman-numerals/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ç½—é©¬æ•°å­—çš„è¯ç”Ÿä¸è¿›åŒ–"><a href="#ä¸€ã€ç½—é©¬æ•°å­—çš„è¯ç”Ÿä¸è¿›åŒ–" class="headerlink" title="ä¸€ã€ç½—é©¬æ•°å­—çš„è¯ç”Ÿä¸è¿›åŒ–"></a>ä¸€ã€ç½—é©¬æ•°å­—çš„è¯ç”Ÿä¸è¿›åŒ–</h2><p>ç½—é©¬æ•°å­—èµ·æºäºå¤ç½—é©¬å¸å›½ï¼Œæ‹¥æœ‰ä¸€ä¸ªæ¼«é•¿è€Œå¤æ‚çš„å†å²ï¼Œå§‹äºå…¬å…ƒå‰ 8 ä¸–çºªè‡³ 9 ä¸–çºªï¼Œä¸å¤ç½—é©¬å¸å›½åœ¨å¸•å…°ä¸å±±ï¼ˆPalantine Hillï¼‰å‘¨å›´å»ºç«‹çš„æ—¶é—´å¤§è‡´ç›¸åŒã€‚ä¸è¿‡ï¼Œç½—é©¬æ•°å­—çš„ç››è¡Œæ—¶é—´æ¯”å¸å›½æœ¬èº«è¿˜è¦é•¿ï¼Œç›´åˆ° 14 ä¸–çºªå‰ä»è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p>
<span id="more"></span>

<p>åœ¨è®¾è®¡ä¸Šï¼Œç½—é©¬æ•°å­—å­˜åœ¨ä¸€äº›ç¼ºé™·ï¼š</p>
<ol>
<li><p>æ²¡æœ‰è¡¨ç¤ºé›¶ï¼ˆ0ï¼‰çš„ç¬¦å·ï¼›</p>
</li>
<li><p>ä¹Ÿæ²¡æœ‰ç”¨äºè®¡æ•°è¶…è¿‡å‡ åƒæ•°å€¼çš„å®é™…æ–¹æ³•ï¼Œåªæœ‰é€šè¿‡åœ¨æ•°å­—ç¬¦å·ä¸Šæ–¹æ·»åŠ æ¨ªçº¿æ¥è¡¨ç¤ºå®ƒä»¬çš„å€¼çš„å€æ•°æ¥ä¿®æ­£ã€‚</p>
</li>
</ol>
<p>å¤æ‚çš„ç¤¾ä¼šã€ç»æµç®¡ç†ï¼Œå»ºé€ åƒæ–—å…½åœºå’Œå›å£«å¦ä¸å¤§æ‹±é—¨è¿™æ ·çš„å¤§å‹çºªå¿µç¢‘ï¼Œéƒ½ç¦»ä¸å¼€å¤§é‡çš„æ•°å­¦æŠ€èƒ½ã€‚è€Œç½—é©¬æ•°å­—çš„è¿™äº›ç¼ºé™·å¹¶æ²¡æœ‰é˜»æ­¢å¤ç½—é©¬çš„å­¦è€…å’Œå»ºç­‘å¸ˆä»¬å»ºç«‹ä¸€ä¸ªä¼Ÿå¤§çš„å¸å›½ã€‚</p>
<p>åœ¨å…¬å…ƒ 11 ä¸–çºªæ—¶ï¼Œé˜¿æ‹‰ä¼¯æ•°å­—ä¼ å…¥æ¬§æ´²ã€‚é˜¿æ‹‰ä¼¯æ•°å­—å§‹åˆ›äºå°åº¦ï¼Œé‡‡ç”¨ 0ã€1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€9 å…± 10 ä¸ªè®¡æ•°ç¬¦å·ã€‚é‡‡å–ä½å€¼æ³•ï¼Œé«˜ä½åœ¨å·¦ï¼Œä½ä½åœ¨å³ï¼Œä»å·¦å¾€å³ä¹¦å†™ã€‚å€ŸåŠ©ä¸€äº›ç®€å•çš„æ•°å­¦ç¬¦å·ï¼ˆå°æ•°ç‚¹ã€è´Ÿå·ç­‰ï¼‰ï¼Œé˜¿æ‹‰ä¼¯æ•°å­—å¯ä»¥æ˜ç¡®çš„è¡¨ç¤ºæ‰€æœ‰çš„æœ‰ç†æ•°ã€‚è¿™æ˜¯å¯¹ç½—é©¬æ•°å­—çš„ä¸€ä¸ªå¾ˆå¤§çš„æ”¹è¿›ã€‚</p>
<p>äºæ˜¯ï¼Œäººä»¬å¼€å§‹é€æ¸ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—ä½œä¸ºæ—¥å¸¸ç”Ÿæ´»ä¸­çš„è®°æ•°ç³»ç»Ÿï¼Œè€Œç½—é©¬æ•°å­—çš„ä½¿ç”¨æ›´æ˜¯éšç€åˆ›é€ å®ƒçš„å¸å›½çš„å´©æºƒè€Œå‡å°‘ã€‚åˆ°å…¬å…ƒ 14 ä¸–çºªæ—¶ï¼Œç½—é©¬æ•°å­—å·²è¢«é˜¿æ‹‰ä¼¯æ•°å­—æ‰€å–ä»£ï¼Œæˆä¸ºåœ¨æ¬§æ´²è¢«å¹¿æ³›ä½¿ç”¨çš„è®°æ•°ç³»ç»Ÿã€‚ç°åœ¨é˜¿æ‹‰ä¼¯æ•°å­—å·²æˆä¸ºç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„è®°æ•°ç³»ç»Ÿï¼Œé€šè¡Œäºå…¨ä¸–ç•Œã€‚</p>
<h2 id="äºŒã€ç½—é©¬æ•°å­—çš„ç°ä»£ç”¨é€”"><a href="#äºŒã€ç½—é©¬æ•°å­—çš„ç°ä»£ç”¨é€”" class="headerlink" title="äºŒã€ç½—é©¬æ•°å­—çš„ç°ä»£ç”¨é€”"></a>äºŒã€ç½—é©¬æ•°å­—çš„ç°ä»£ç”¨é€”</h2><p>ä»æŸç§è§’åº¦ä¸Šï¼Œå¯ä»¥è¯´ç½—é©¬æ•°å­—ç»å—ä½äº†æ—¶é—´çš„è€ƒéªŒï¼Œå¹¶æ²¡æœ‰éšç€ç½—é©¬å¸å›½çš„æ¶ˆäº¡è€Œç»“æŸã€‚å®ƒçš„ä¼˜é›…æ„Ÿå’Œå¤å¤é£æ ¼ç¡®ä¿äº†å®ƒä¸ä¼šåœ¨æœªæ¥æŸä¸ªæ—¶å€™æ¶ˆå¤±ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬ä»ç„¶ä½¿ç”¨ç½—é©¬æ•°å­—æ¥è¡¨è¾¾æŸäº›ä¸œè¥¿ï¼Œå¦‚ï¼š</p>
<p>åœ¨å¤©æ–‡å­¦é¢†åŸŸä¸­ï¼Œç”¨äºä¸ºå«æ˜Ÿç¼–å·ï¼Œå¦‚æœ¨å«ä¸€ï¼Œæœ¨å«äºŒï¼Œæœ¨å«ä¸‰ã€‚<br>åœ¨åŒ–å­¦é¢†åŸŸä¸­ï¼Œç”¨äºè¡¨ç¤ºå…ƒç´ å‘¨æœŸè¡¨ä¸­çš„å…ƒç´ ç»„ï¼šIAæ—ï¼ŒIIAæ—ï¼ŒIIIAæ—ï¼ŒIVAæ—ï¼ŒVAæ—ï¼ŒVIAæ—ï¼ŒVIIAæ—ï¼ŒIBæ—ï¼ŒIIBæ—ï¼ŒIIIBæ—ï¼ŒIVBæ—ï¼ŒVBæ—ï¼ŒVIBæ—ï¼ŒVIIBæ—ï¼ŒVIIIæ—ã€‚<br>é’Ÿè¡¨è¡¨ç›˜ç¬¦å·ï¼šâ… ã€â…¡ã€â…¢ã€â…£ï¼ˆIIIIï¼‰ã€â…¤ã€â…¥ã€â…¦ã€â…§ã€â…¨ã€â…©ã€â…ªã€â…«ã€‚<br>æœ‰åºåˆ—è¡¨ï¼ˆordered listï¼‰çš„ç¼–å·ï¼ˆå¤šç”¨å°å†™å­—æ¯ï¼‰ï¼Œä¾‹å¦‚ï¼š<br>i) ç¬¬ä¸€é¡¹<br>ii) ç¬¬äºŒé¡¹<br>iii) ç¬¬ä¸‰é¡¹<br>ä¹¦ç±å’Œç« èŠ‚æ ‡é¢˜<br>å›ç‹çš„åå­—ï¼Œå¦‚ Louis XIVï¼ˆè·¯æ˜“åå››ï¼‰ã€Charles IIï¼ˆæŸ¥ç†äºŒä¸–ï¼‰ã€‚<br>æ•™çš‡çš„åå­—ï¼Œå¦‚ Alexander VIIIï¼ˆäºšå†å±±å¤§å…«ä¸–ï¼‰ã€John Paul IIï¼ˆçº¦ç¿°Â·ä¿ç½—äºŒä¸–ï¼‰ã€‚<br>å…¶ä»–å‘½åï¼Œå¦‚ iPhone Xï¼Œæ°¨é…šä¼ªéº»ç¾èŠ¬ç‰‡ï¼ˆâ…¡ï¼‰ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
        <tag>ç½—é©¬æ•°å­—</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡yumæ–¹å¼åœ¨CentOS7ç³»ç»Ÿå®‰è£…MySQL8</title>
    <url>/2019/12/28/how-to-install-mysql8-on-centos7/</url>
    <content><![CDATA[<h2 id="ä¸€ã€æ·»åŠ -MySQL-YUM-æº"><a href="#ä¸€ã€æ·»åŠ -MySQL-YUM-æº" class="headerlink" title="ä¸€ã€æ·»åŠ  MySQL YUM æº"></a>ä¸€ã€æ·»åŠ  MySQL YUM æº</h2><p>æ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬é€‰æ‹©åˆé€‚çš„å®‰è£…æºï¼ˆ<a href="https://dev.mysql.com/downloads/repo/yum/">https://dev.mysql.com/downloads/repo/yum/</a>ï¼‰ï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯ CentOS 7ï¼ŒMySQL 8ã€‚ç‚¹å‡» Download æŒ‰é’®ï¼Œè¿›å…¥ä¸‹è½½é¡µã€‚å¯ä»¥ç›´æ¥ä¸‹è½½ rpm æ–‡ä»¶ï¼Œå†ä¸Šä¼ åˆ° CentOS 7 ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¤åˆ¶é“¾æ¥åœ°å€ï¼ˆåœ°å€ä¸ºï¼š<a href="https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm%EF%BC%89%EF%BC%8C%E8%BF%9B%E5%85%A5">https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpmï¼‰ï¼Œè¿›å…¥</a> CentOS 7 ç³»ç»Ÿï¼Œé€šè¿‡ <code>wget</code> å‘½ä»¤ä¸‹è½½ã€‚</p>
<span id="more"></span>

<p><img src="/image/20191228194455039.png" alt="CentOS 7 &amp; MySQL "></p>
<p>è¿™é‡Œä»¥è¿›å…¥ CentOS 7 ç³»ç»Ÿï¼Œé€šè¿‡ <code>wget</code> å‘½ä»¤ä¸‹è½½ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•æ·»åŠ  MySQL yum æºï¼Œç›¸å…³å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥å­˜æ”¾ rpm æ–‡ä»¶çš„ç›®å½•</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> /homw/software</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½ rpm æ–‡ä»¶</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€šè¿‡ rpm -Uvh å®‰è£…</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> rpm -Uvh mysql80-community-release-el7-3.noarch.rpm</span> </span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€å®‰è£…MySQL"><a href="#äºŒã€å®‰è£…MySQL" class="headerlink" title="äºŒã€å®‰è£…MySQL"></a>äºŒã€å®‰è£…MySQL</h2><p>å®‰è£…å¥½ yum æºåï¼Œç›´æ¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å³å¯å®‰è£… MySQLï¼Œéå¸¸ç®€å•ï¼Œå®‰è£…è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸¤æ¬¡è®©ä½ ç¡®è®¤ä¸‹è½½æˆ–å®‰è£…ï¼Œç›´æ¥è¾“å…¥ y å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£… MySQL</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> yum install mysql-community-server</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å¯åŠ¨MySQL"><a href="#ä¸‰ã€å¯åŠ¨MySQL" class="headerlink" title="ä¸‰ã€å¯åŠ¨MySQL"></a>ä¸‰ã€å¯åŠ¨MySQL</h2><p>å¯åŠ¨ MySQL å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">systemctl start mysqld</span></span><br></pre></td></tr></table></figure>

<p>å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ MySQL è¿è¡ŒçŠ¶æ€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">systemctl status mysqld</span></span><br></pre></td></tr></table></figure>

<p>è‹¥è¾“å‡ºä»¥ä¸‹çš„ä¿¡æ¯ï¼Œåˆ™è¯´æ˜ MySQL å·²ç»åœ¨è¿è¡Œä¸­äº†ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[mysqlu@202 software]$ sudo systemctl status mysqld</span><br><span class="line">â— mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Fri 2019-12-27 15:48:33 CST; 11s ago</span><br><span class="line">     Docs: man:mysqld(8)</span><br><span class="line">           http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">  Process: 22383 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 22459 (mysqld)</span><br><span class="line">   Status: &quot;Server is operational&quot;</span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           â””â”€22459 /usr/sbin/mysqld</span><br><span class="line"></span><br><span class="line">Dec 27 15:48:25 202 systemd[1]: Starting MySQL Server...</span><br><span class="line">Dec 27 15:48:33 202 systemd[1]: Started MySQL Server.</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€MySQL-8-root-ç”¨æˆ·é»˜è®¤ç™»å½•å¯†ç é—®é¢˜"><a href="#å››ã€MySQL-8-root-ç”¨æˆ·é»˜è®¤ç™»å½•å¯†ç é—®é¢˜" class="headerlink" title="å››ã€MySQL 8 root ç”¨æˆ·é»˜è®¤ç™»å½•å¯†ç é—®é¢˜"></a>å››ã€MySQL 8 root ç”¨æˆ·é»˜è®¤ç™»å½•å¯†ç é—®é¢˜</h2><p>åœ¨ CentOS 7 ç³»ç»Ÿä¸­ï¼Œé€šè¿‡ yum æ–¹å¼å®‰è£… MySQL 8ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ root ç”¨æˆ·çš„é»˜è®¤å¯†ç ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> grep <span class="string">&quot;temporary password&quot;</span> /var/log/mysqld.log</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœæœ€åå†’å·åé¢çš„å­—ç¬¦ä¸²å°±æ˜¯rootçš„é»˜è®¤å¯†ç ã€‚</p>
<blockquote>
<p>å¦‚æœæç¤ºä¸å­˜åœ¨ /var/log/mysqld.log æ–‡ä»¶ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»é€šè¿‡æ­¥éª¤ä¸‰ï¼Œå¯åŠ¨è¿‡ä¸€æ¬¡ MySQL æœåŠ¡ã€‚è¿™é‡Œå†æä¸‹ MySQLæœåŠ¡çš„å¯åŠ¨å‘½ä»¤æ˜¯ï¼š<em><strong>systemctl start mysqld.service</strong></em></p>
</blockquote>
<p>å¦‚ä»¥ä¸‹çš„è¾“å‡ºï¼Œroot ç”¨æˆ·çš„ç™»å½•å¯†ç ä¸º <strong>Eea*eoqoI9:I</strong>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[mysqlu@202 software]$ sudo grep &quot;temporary password&quot; /var/log/mysqld.log</span><br><span class="line">[sudo] password for mysqlu: </span><br><span class="line">2019-12-27T07:48:29.009116Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: Eea*eoqoI9:I</span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€ç™»å½•MySQLï¼Œå¹¶ä¿®æ”¹é»˜è®¤å¯†ç "><a href="#äº”ã€ç™»å½•MySQLï¼Œå¹¶ä¿®æ”¹é»˜è®¤å¯†ç " class="headerlink" title="äº”ã€ç™»å½•MySQLï¼Œå¹¶ä¿®æ”¹é»˜è®¤å¯†ç "></a>äº”ã€ç™»å½•MySQLï¼Œå¹¶ä¿®æ”¹é»˜è®¤å¯†ç </h2><p>çŸ¥é“ MySQL çš„ root ç”¨æˆ·å¯†ç åï¼Œå³å¯ç™»å½• MySQL äº†ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -uroot -p</span> </span><br><span class="line">Enter password: # è¿™é‡Œè¾“å…¥å¯†ç </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 17</span><br><span class="line">Server version: 8.0.18</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span></span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ MySQL åï¼Œè¿˜ä¸èƒ½åšå…¶ä»–æ“ä½œï¼Œä¼šä¸€ç›´æç¤ºä½ ä¿®æ”¹é»˜è®¤å¯†ç ï¼Œæ¯”å¦‚åˆ‡æ¢åˆ° <code>mysql</code> æ•°æ®åº“ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"> use mysql;</span></span><br><span class="line">ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹é»˜è®¤å¯†ç çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;æ–°å¯†ç &#x27;;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <strong>MySQL 8 ä»¥ä¸Šçš„å¯†ç ç­–ç•¥é™åˆ¶å¿…é¡»è¦åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·ã€‚</strong>å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">ALTER user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;2020Super_Star&#x27;</span>;</span></span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è‡³æ­¤ï¼Œä½ å†æ‰§è¡Œå…¶ä»–å‘½ä»¤ï¼Œè€Œä¸ä¼šæç¤ºä½ éœ€è¦ä¿®æ”¹å¯†ç äº†ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Boot 2.x é›†æˆRedisç¤ºä¾‹</title>
    <url>/2019/12/19/spring-boot-2_x-redis/</url>
    <content><![CDATA[<h2 id="ä¸€ã€å¦‚ä½•é›†æˆ"><a href="#ä¸€ã€å¦‚ä½•é›†æˆ" class="headerlink" title="ä¸€ã€å¦‚ä½•é›†æˆ"></a>ä¸€ã€å¦‚ä½•é›†æˆ</h2><p>é¦–å…ˆï¼Œåœ¨ pom æ–‡ä»¶æ–°å¢ redis ä¾èµ–ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ä¿®æ”¹é¡¹ç›®é…ç½®æ–‡ä»¶ application.propertiesï¼Œå¢åŠ  redis é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">redis host</span></span><br><span class="line">spring.redis.host=172.24.58.226</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">redis port</span></span><br><span class="line">spring.redis.port=6379</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä¸Šé¢ç®€å•çš„ä¸¤æ­¥ï¼Œå³å¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ <code>StringRedisTemplate</code> å’Œ <code>RedisTemplate&lt;Object,Object&gt;</code>ï¼Œå› ä¸ºä» Spring Boot 2.0 å¼€å§‹ï¼ŒSpring å®¹å™¨æ˜¯è‡ªåŠ¨ç”Ÿæˆäº†è¿™ä¸¤ä¸ªå®ä¾‹ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥ä½¿ç”¨ã€‚å¦‚ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;Object, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">  </span><br><span class="line"><span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜</span></span><br><span class="line">stringRedisTemplate.opsForValue().set(<span class="string">&quot;strRedisTemplate&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ RedisTemplate&lt;Object, Object&gt; ä¿å­˜</span></span><br><span class="line">tagRedisTemplate.opsForValue().set(<span class="string">&quot;tagRedisTemplate&quot;</span>, <span class="number">232</span>);</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="äºŒã€å­˜å‚¨çš„-value-ç±»å‹ä¸ºå­—ç¬¦ä¸²"><a href="#äºŒã€å­˜å‚¨çš„-value-ç±»å‹ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="äºŒã€å­˜å‚¨çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²"></a>äºŒã€å­˜å‚¨çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²</h2><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè‹¥ä¿å­˜çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ³¨å…¥ <code>StringRedisTemplate</code> è¿›è¡Œè¯»å†™ï¼Œå¦‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡ StringRedisTemplate å†™å…¥ redis</span></span><br><span class="line">  stringRedisTemplate.opsForValue().set(<span class="string">&quot;iuiuu&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šè¿‡ StringRedisTemplate è·å–</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">v</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;iuiuu&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  map.iuiuu(<span class="string">&quot;tag&quot;</span>, v);</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å­˜å‚¨çš„-value-æ˜¯ä¸€ä¸ªå¯¹è±¡"><a href="#ä¸‰ã€å­˜å‚¨çš„-value-æ˜¯ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="ä¸‰ã€å­˜å‚¨çš„ value æ˜¯ä¸€ä¸ªå¯¹è±¡"></a>ä¸‰ã€å­˜å‚¨çš„ value æ˜¯ä¸€ä¸ªå¯¹è±¡</h2><p>è¿™ç§æƒ…å†µï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>StringRedisTemplate</code> è¿›è¡Œè¯»å†™ã€‚ä¸è¿‡ï¼Œåœ¨å†™å…¥ä¹‹å‰å…ˆå°†å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œç„¶åå†å†™å…¥ redisã€‚è¯»å–çš„æ—¶å€™ï¼Œä» redis è·å–åˆ°çš„æ˜¯æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œéœ€è¦ååºåˆ—åŒ–ç›¸åº”çš„å¯¹è±¡ã€‚å¦‚ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">    .setTagId(<span class="number">10001</span>)</span><br><span class="line">    .setTagName(name)</span><br><span class="line">    .setCount(<span class="number">20</span>)</span><br><span class="line">    .setStatus(<span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> JsonUtil.toJson(tag);</span><br><span class="line">  <span class="comment">// å†™å…¥ redis</span></span><br><span class="line">  stringRedisTemplate.opsForValue().set(<span class="string">&quot;iuiuu&quot;</span>, str);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä» redis è¯»å–</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;iuiuu&quot;</span>);</span><br><span class="line">  <span class="comment">// ååºåˆ—åŒ–ä¸º Tag å¯¹è±¡</span></span><br><span class="line">  <span class="type">Tag</span> <span class="variable">t</span> <span class="operator">=</span> JsonUtil.fromJson(json, Tag.class);</span><br><span class="line">  </span><br><span class="line">  Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  map.put(<span class="string">&quot;tag&quot;</span>, t);</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ç§æ–¹å¼åœ¨è¯»å–æˆ–å†™å…¥çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œä¼šæœ‰ç‚¹ç¹çã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¦ä¸€ç§ç®€æ´çš„æ–¹å¼â€”â€”<code>RedisTemplate&lt;Object, Object&gt;</code>ï¼Œä¸è¿‡åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥ä½¿ç”¨ <code>RedisTemplate&lt;Object, Object&gt;</code>ï¼Œè€Œæ˜¯ä¼šå¯¹ keyï¼Œvalue è¿›è¡Œåºåˆ—åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ–°å¢ä¸€ä¸ªé…ç½®ç±»ã€‚ä»¥ä¸‹ç¤ºä¾‹æ–°äº†é…ç½®ç±» <code>RedisConfig</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Redis é…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/12/18 11:24 PM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean(&quot;tagRedisTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, Tag&gt; <span class="title function_">tagRedisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line">        RedisTemplate&lt;String, Tag&gt; template = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        Jackson2JsonRedisSerializer&lt;Tag&gt; serializer = <span class="keyword">new</span> <span class="title class_">Jackson2JsonRedisSerializer</span>&lt;&gt;(Tag.class);</span><br><span class="line">        template.setValueSerializer(serializer);</span><br><span class="line">        template.setHashValueSerializer(serializer);</span><br><span class="line">        template.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        template.setHashKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ‡ç­¾ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/12/18 11:08 PM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tag</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾Id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> tagId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String tagName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾çŠ¶æ€ï¼š1-æ­£å¸¸ 2-æš‚ä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾æ–‡ç« æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//çœç•¥ getã€set</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥å…¶å®ƒä»£ç ...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier(&quot;tagRedisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Tag&gt; tagRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">            .setTagId(<span class="number">10001</span>)</span><br><span class="line">            .setTagName(name)</span><br><span class="line">            .setCount(<span class="number">20</span>)</span><br><span class="line">            .setStatus(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; ä¿å­˜ Tag å®ä½“ç±»</span></span><br><span class="line">    tagRedisTemplate.opsForValue().set(<span class="string">&quot;tagRedisTemplate&quot;</span>, tag);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; è·å– Tag å®ä½“ç±»</span></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">newTag</span> <span class="operator">=</span> tagRedisTemplate.opsForValue().get(<span class="string">&quot;tagRedisTemplate&quot;</span>);</span><br><span class="line"></span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;newTag&quot;</span>, newTag);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€StringRedisTemplate-RedisTemplateè¯»å†™Redisç¤ºä¾‹"><a href="#å››ã€StringRedisTemplate-RedisTemplateè¯»å†™Redisç¤ºä¾‹" class="headerlink" title="å››ã€StringRedisTemplate/RedisTemplateè¯»å†™Redisç¤ºä¾‹"></a>å››ã€StringRedisTemplate/RedisTemplateè¯»å†™Redisç¤ºä¾‹</h2><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/compared&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">compared</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜ name</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;strRedisTemplate&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">            .setTagId(<span class="number">10002</span>)</span><br><span class="line">            .setTagName(name)</span><br><span class="line">            .setCount(<span class="number">20</span>)</span><br><span class="line">            .setStatus(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; ä¿å­˜ Tag å®ä½“ç±»</span></span><br><span class="line">    tagRedisTemplate.opsForValue().set(<span class="string">&quot;key_tag&quot;</span>, tag);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜ Tag å®ä½“ï¼Œéœ€å…ˆåºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> JsonUtil.toJson(tag);</span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;key_str&quot;</span>, str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; è·å– Tag å®ä½“ç±»</span></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">t1</span> <span class="operator">=</span> tagRedisTemplate.opsForValue().get(<span class="string">&quot;key_tag&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate è·å–ï¼Œéœ€è¦ååºåˆ—ä¸ºå¯¹è±¡</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;key_str&quot;</span>);</span><br><span class="line">    <span class="type">Tag</span> <span class="variable">t2</span> <span class="operator">=</span> JsonUtil.fromJson(json, Tag.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;succeed&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ redis ä¸­çš„å€¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[iuiuu@226 ~]$ redis-cli </span><br><span class="line">127.0.0.1:6379&gt; get key_tag</span><br><span class="line">&quot;&#123;\&quot;tagId\&quot;:10002,\&quot;tagName\&quot;:\&quot;History\&quot;,\&quot;status\&quot;:1,\&quot;count\&quot;:20&#125;&quot;</span><br><span class="line">127.0.0.1:6379&gt; get key_str</span><br><span class="line">&quot;&#123;\&quot;tagId\&quot;:10002,\&quot;tagName\&quot;:\&quot;History\&quot;,\&quot;status\&quot;:1,\&quot;count\&quot;:20&#125;&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ç§æ–¹å¼å°†å¯¹è±¡å†™å…¥åˆ° redis åï¼Œå­˜å‚¨çš„å€¼å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸º JSON å­—ç¬¦ä¸²ã€‚</p>
<p>æœ¬æ–‡ç¤ºä¾‹ä»£ç è§ <a href="https://github.com/iuiuu/spring-boot-demos/tree/master/spring-boot-demos-redis">https://github.com/iuiuu/spring-boot-demos/tree/master/spring-boot-demos-redis</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½—é©¬æ•°å­—ï¼ˆä¸Šï¼‰â€”â€”æ‹¼å†™è§„åˆ™</title>
    <url>/2019/06/26/rules-of-reading-and-writing-roman-numerals/</url>
    <content><![CDATA[<h3 id="ç½—é©¬æ•°å­—ç¬¦å·"><a href="#ç½—é©¬æ•°å­—ç¬¦å·" class="headerlink" title="ç½—é©¬æ•°å­—ç¬¦å·"></a>ç½—é©¬æ•°å­—ç¬¦å·</h3><p>ç½—é©¬æ•°å­—æ˜¯æ€»å…±ç”± 7 ä¸ªå­—æ¯ç¬¦å·è¡¨ç¤ºï¼š<strong>Iï¼ˆ1ï¼‰ã€Vï¼ˆ5ï¼‰ã€Xï¼ˆ10ï¼‰ã€Lï¼ˆ50ï¼‰ã€Cï¼ˆ100ï¼‰ã€Dï¼ˆ500ï¼‰å’Œ Mï¼ˆ1000ï¼‰ã€‚</strong></p>
<span id="more"></span>

<p>è¡¨ä¸€ï¼šç½—é©¬æ•°å­—å¯¹åº”çš„é˜¿æ‹‰ä¼¯æ•°å­—</p>
<table>
<thead>
<tr>
<th align="center">ç½—é©¬æ•°å­—</th>
<th align="center">é˜¿æ‹‰ä¼¯æ•°å­—</th>
</tr>
</thead>
<tbody><tr>
<td align="center">I</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">V</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">X</td>
<td align="center">10</td>
</tr>
<tr>
<td align="center">L</td>
<td align="center">50</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">100</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">500</td>
</tr>
<tr>
<td align="center">M</td>
<td align="center">1000</td>
</tr>
</tbody></table>
<p>ä»–ä»¬æŒ‰ç…§ä»¥ä¸‹ 4 ä¸ªè§„åˆ™å¯ä»¥ç»„åˆæˆè¡¨ç¤ºä»»æ„çš„æ­£æ•´æ•°ã€‚</p>
<h3 id="è§„åˆ™-1"><a href="#è§„åˆ™-1" class="headerlink" title="è§„åˆ™ 1"></a>è§„åˆ™ 1</h3><p><strong>ä¸€ä¸ªç½—é©¬æ•°å­—é‡å¤å¤šå°‘æ¬¡ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªæ•°å¤šå°‘å€</strong>ï¼Œæ¯”å¦‚ç½—é©¬æ•°å­— I è¡¨ç¤ºçš„æ˜¯æ•°å­— 1ï¼Œé‡å¤ä¸¤æ¬¡ï¼Œå³ IIï¼Œè¡¨ç¤ºçš„æ•°å­—æ˜¯ 2ï¼ŒåŒç†ï¼ŒIII è¡¨ç¤ºæ•°å­— 3ï¼ŒXX è¡¨ç¤ºæ•°å­— 20ï¼ŒCC è¡¨ç¤ºæ•°å­— 200 ç­‰ï¼›</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>åŒä¸€ä¸ªç½—é©¬æ•°å­—æœ€å¤šåªèƒ½è¿ç»­é‡å¤ 3 æ¬¡</strong>ï¼Œå¦‚æ•°å­— 400 å°±ä¸èƒ½è¡¨ç¤ºä¸º CCCCï¼ˆé‡å¤äº† 4 æ¬¡ï¼‰ï¼Œè€Œæ˜¯è¦ç”¨ CD æ¥è¡¨ç¤ºï¼Œæ•°å­—40ä¸èƒ½è¡¨ç¤ºä¸º XXXXï¼ˆåŒæ ·é‡å¤äº† 4 æ¬¡ï¼‰ï¼Œè€Œè¦è¡¨ç¤ºä¸º XL ç­‰ã€‚</p>
<p>ä½†æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå› ä¸ºå¤ç½—é©¬äººç”¨ IV ä½œä¸ºå¤ç½—é©¬ç¥è¯ä¸»ç¥æœ±åº‡ç‰¹ï¼ˆIVPITERï¼Œå¤ç½—é©¬å­—æ¯é‡Œæ²¡æœ‰ J å’Œ Uï¼‰åå­—çš„ç®€å†™ï¼Œä»–ä»¬ä¸å¸Œæœ›ç¥çš„åå­—çœ‹ä¸Šå»åƒä¸ªæ•°å­—ï¼Œå› æ­¤<strong>æœ‰æ—¶ç”¨ IIII ä»£æ›¿ IV</strong>ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>ç¬¦å· Dã€L å’Œ V ä¸å¯ä»¥è¿ç»­é‡å¤å‡ºç°</strong>ï¼Œæ¯”å¦‚ç”¨ DD è¡¨ç¤º 1000 çš„å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œæ­£ç¡®çš„æ˜¯è¦ç”¨ Mï¼Œè¡¨ç¤º 1500 çš„ç½—é©¬æ•°å­—æ˜¯ MDï¼Œè€Œä¸æ˜¯ DDDã€‚</p>
<h3 id="è§„åˆ™-2"><a href="#è§„åˆ™-2" class="headerlink" title="è§„åˆ™ 2"></a>è§„åˆ™ 2</h3><p><strong>å¦‚æœåœ¨è¾ƒå¤§çš„ç½—é©¬æ•°å­—åé¢ï¼ˆå³è¾¹ï¼‰æ”¾ç½®è¾ƒå°çš„ç½—é©¬æ•°å­—ï¼Œè¡¨ç¤ºçš„æ•°å­—ä¸ºè¿™äº›æ•°å­—ç›¸åŠ å¾—åˆ°çš„æ•°</strong>ï¼Œå¦‚è¾ƒå¤§çš„ç½—é©¬æ•°å­— V åé¢æ”¾ç½®è¾ƒå°çš„ç½—é©¬æ•°å­— Iï¼Œå³ VIï¼Œè¡¨ç¤ºçš„æ•°å­—åˆ™ä¸º V ä¸ I ç›¸åŠ å¾—åˆ°æ•° 6ã€‚</p>
<p>åŒç†ï¼Œ<br>VII = 7 (5 + 2 = 7)<br>LXXX = 80 (50 + 10 + 10 + 10 = 80)<br>MC = 1100 (1000 + 100 = 1100)</p>
<h3 id="è§„åˆ™-3"><a href="#è§„åˆ™-3" class="headerlink" title="è§„åˆ™ 3"></a>è§„åˆ™ 3</h3><p><strong>å¦‚æœåœ¨è¾ƒå¤§çš„ç½—é©¬æ•°å­—å‰é¢ï¼ˆå·¦è¾¹ï¼‰æ”¾ç½®åœ¨è¾ƒå°çš„ç½—é©¬æ•°å­—ï¼Œè¡¨ç¤ºçš„æ•°æ˜¯ç”¨è¾ƒå¤§çš„æ•°å‡å»è¾ƒå°çš„æ•°æ‰€å¾—åˆ°çš„å€¼</strong>ï¼Œå¦‚è¾ƒå¤§çš„ç½—é©¬æ•°å­— V å‰é¢æˆ–å·¦è¾¹æ”¾ç½®è¾ƒå°çš„ç½—é©¬æ•°å­— Iï¼Œå³ IVï¼Œè¡¨ç¤ºçš„æ•°å­—åˆ™ä¸º V å‡å» I å¾—åˆ°çš„æ•° 4ã€‚</p>
<p>åŒç†ï¼Œ<br>IX = 9 (10 â€“ 1 = 9)<br>XC = 90 (100 â€“ 10 = 90)</p>
<p>ç”¨è¿™ç§æ–¹å¼æ¥è¡¨ç¤ºç½—é©¬æ•°å­—æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<p><strong>i) å……å½“å‡æ•°çš„åªèƒ½æ˜¯ Iï¼ŒC æˆ– X</strong>ï¼Œä¸èƒ½æ˜¯ L æˆ– Vï¼Œå³ç½—é©¬æ•°å­—å¯¹åº”çš„æ•°æ˜¯ 10 çš„ n æ¬¡å¹‚æ‰èƒ½å……å½“å‡æ•°ã€‚å¦å¤–ï¼Œç”±äº M åœ¨ç½—é©¬å­—æ¯ä¸­è¡¨ç¤ºçš„æ•°æœ€å¤§ï¼Œä¹Ÿä¸èƒ½å……å½“å‡æ•°ï¼ˆç½—é©¬æ•°å­—æ²¡æœ‰ 0 æˆ–è´Ÿæ•´æ•°ï¼‰ã€‚</p>
<blockquote>
<p>è¢«å‡æ•° - å‡æ•° = å·®ï¼Œ<br>å¦‚ 32 - 10 = 22ï¼Œ<br>è¢«å‡æ•°æ˜¯ 32ï¼Œå‡æ•°æ˜¯ 10ï¼Œå·®æ˜¯ 22ã€‚</p>
</blockquote>
<p>è¡¨äºŒï¼šè¢«å‡æ•°çš„åªèƒ½æ˜¯ Iï¼ŒC æˆ– X</p>
<table>
<thead>
<tr>
<th>ç½—é©¬æ•°å­—</th>
<th>é˜¿æ‹‰ä¼¯æ•°å­—</th>
<th>10 çš„ n æ¬¡å¹‚</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>I</td>
<td>1</td>
<td>$10^0 = 1$</td>
<td>10çš„0æ¬¡å¹‚</td>
</tr>
<tr>
<td>X</td>
<td>10</td>
<td>$10^1 = 10$</td>
<td>10çš„1æ¬¡å¹‚</td>
</tr>
<tr>
<td>C</td>
<td>100</td>
<td>$10^2 = 100$</td>
<td>10çš„2æ¬¡å¹‚</td>
</tr>
</tbody></table>
<p>æ¯”å¦‚æ•°å­— 45ï¼Œ<br>ä¸èƒ½å†™æˆ VLï¼ˆ50 - 5ï¼‰ï¼Œ<br>è€Œæ˜¯è¦å†™æˆ XLVï¼ˆXL + Vï¼Œå³ 40 + 5ï¼‰ï¼›</p>
<p><strong>ii) åªèƒ½ä»ä¸€ä¸ªç½—é©¬æ•°å­—ä¸­å‡å»å¦ä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œè€Œä¸èƒ½å‡å»ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ç½—é©¬æ•°å­—</strong>ï¼Œæ¯”å¦‚è¯´æ•°å­— 8ï¼Œ<br>ä¸èƒ½å†™æˆ IIXï¼ˆX - I - Iï¼Œå³ 10 - 1 - 1 = 8ï¼‰ï¼Œ<br>è€Œæ˜¯è¦å†™æˆ VIIIï¼ˆV + I + I + Iï¼Œå³ 5 + 1 + 1 + 1 = 8ï¼‰ï¼›</p>
<p><strong>iii) ä»ä¸€ä¸ªç½—é©¬æ•°å­—ï¼ˆè®¾ä¸º aï¼‰ä¸­å‡å»å¦ä¸€ä¸ªç½—é©¬æ•°å­—ï¼ˆè®¾ä¸º bï¼‰æ‰€å¾—çš„å·®ï¼ˆè®¾ä¸º cï¼‰ï¼Œä¸èƒ½è¶…è¿‡å‡æ•°ï¼ˆå³ bï¼‰çš„ 10 å€ä»¥ä¸Šã€‚</strong><br>ä¾‹å¦‚ï¼Œ<br>ä½ å¯ä»¥ä»æ•°å­— 10 ä¸­å‡å» 1ï¼Œ<br>å› ä¸º 10 - 1 = 9ï¼Œ9 æ¯” 1 çš„ 10 å€ï¼ˆ10ï¼‰å°ï¼›<br>ä½†æ˜¯ä¸èƒ½ä»æ•°å­— 100 ä¸­å‡å» 1ï¼Œ<br>å› ä¸º 100 - 1 = 99ï¼Œ99 æ¯” 1 çš„ 10 å€ï¼ˆ10ï¼‰å¤§ã€‚<br>æ‰€ä»¥ï¼Œ<br>æ•°å­— 9 å¯ä»¥ç”¨ IX æ¥è¡¨ç¤ºï¼Œ<br>ä½†æ•°å­— 100 ä¸èƒ½ç”¨ IC æ¥è¡¨ç¤ºï¼Œ<br>è€Œæ˜¯è¦ç”¨ XCIXï¼ˆXC + IXï¼Œå³ 90 + 9 = 99ï¼‰æ¥è¡¨ç¤ºã€‚</p>
<p><em><strong>æ€»ç»“ç¬¬ i) ç‚¹å’Œç¬¬ iii) ç‚¹ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹è§„åˆ™ï¼š</strong></em><br><em><strong>ç¬¦å· I åªèƒ½å‡ºç°åœ¨ç¬¦å· V æˆ– X çš„å‰é¢ï¼ˆå·¦è¾¹ï¼‰ï¼›</strong></em><br><em><strong>ç¬¦å· X åªèƒ½å‡ºç°åœ¨ç¬¦å· L æˆ– C çš„å‰é¢ï¼ˆå·¦è¾¹ï¼‰ï¼›</strong></em><br><em><strong>ç¬¦å· C åªèƒ½å‡ºç°åœ¨ç¬¦å· D æˆ– M çš„å‰é¢ï¼ˆå·¦è¾¹ï¼‰ã€‚</strong></em></p>
<h3 id="è§„åˆ™-4"><a href="#è§„åˆ™-4" class="headerlink" title="è§„åˆ™ 4"></a>è§„åˆ™ 4</h3><p><strong>å¦‚æœåœ¨ç½—é©¬æ•°å­—ä¸Šæ–¹åŠ ä¸€æ¡æ¨ªçº¿ï¼Œè¡¨ç¤ºå°†è¯¥æ•°å€¼ä¹˜ä»¥ 1000ï¼Œå³åŸæ•°çš„ 1000 å€ï¼Œå¦‚æœä¸Šæ–¹æœ‰ä¸¤æ¡æ¨ªçº¿ï¼Œè¡¨ç¤ºçš„æ•°å­—æ˜¯åŸæ•°çš„ 1, 000, 000 å€ã€‚</strong></p>
<p>å¦‚ï¼š</p>
<p>$\overline{M}=1, 000, 000$</p>
<p>$\overline{V}=5, 000$</p>
<p>$\overline{\overline{X}} = 10, 000, 000 $</p>
<hr>
<h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>å°è¯•åº”ç”¨ä¸Šè¿°è§„åˆ™ï¼Œå†™å‡ºä»¥ä¸‹é˜¿æ‹‰ä¼¯æ•°å­—å¯¹åº”çš„ç½—é©¬æ•°å­—<br>35ï¼Œ<br>65ï¼Œ<br>99</p>
<p>æ±‚è§£è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>35 = 10 + 10 + 10 + 5ï¼Œå³ X + X + X + Vï¼ˆXXXVï¼‰ï¼Œæ‰€ä»¥ 35 = XXXVï¼›<br>65 = 50 + 10 + 5ï¼Œå³ L + X + Vï¼ˆLXVï¼‰ï¼Œæ‰€ä»¥ 65 = LXVï¼›<br>99 = ï¼ˆ100 - 10ï¼‰+ï¼ˆ10 - 1ï¼‰ï¼Œå³ XC + IXï¼ˆXCIXï¼‰æ‰€ä»¥ 99 = XCIX ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
        <tag>ç½—é©¬æ•°å­—</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Boot 2.x é›†æˆJpaç¤ºä¾‹</title>
    <url>/2019/12/25/spring-boot-2_x-jpa/</url>
    <content><![CDATA[<h2 id="ä¸€ã€å¦‚ä½•é›†æˆ"><a href="#ä¸€ã€å¦‚ä½•é›†æˆ" class="headerlink" title="ä¸€ã€å¦‚ä½•é›†æˆ"></a>ä¸€ã€å¦‚ä½•é›†æˆ</h2><p>é¦–å…ˆï¼Œåœ¨ pom æ–‡ä»¶æ–°å¢ redis ä¾èµ–ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ä¿®æ”¹é¡¹ç›®é…ç½®æ–‡ä»¶ application.propertiesï¼Œå¢åŠ  redis é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">redis host</span></span><br><span class="line">spring.redis.host=172.24.58.226</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">redis port</span></span><br><span class="line">spring.redis.port=6379</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä¸Šé¢ç®€å•çš„ä¸¤æ­¥ï¼Œå³å¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ <code>StringRedisTemplate</code> å’Œ <code>RedisTemplate&lt;Object,Object&gt;</code>ï¼Œå› ä¸ºä» Spring Boot 2.0 å¼€å§‹ï¼ŒSpring å®¹å™¨æ˜¯è‡ªåŠ¨ç”Ÿæˆäº†è¿™ä¸¤ä¸ªå®ä¾‹ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥ä½¿ç”¨ã€‚å¦‚ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;Object, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">  </span><br><span class="line"><span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜</span></span><br><span class="line">stringRedisTemplate.opsForValue().set(<span class="string">&quot;strRedisTemplate&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ RedisTemplate&lt;Object, Object&gt; ä¿å­˜</span></span><br><span class="line">tagRedisTemplate.opsForValue().set(<span class="string">&quot;tagRedisTemplate&quot;</span>, <span class="number">232</span>);</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="äºŒã€å­˜å‚¨çš„-value-ç±»å‹ä¸ºå­—ç¬¦ä¸²"><a href="#äºŒã€å­˜å‚¨çš„-value-ç±»å‹ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="äºŒã€å­˜å‚¨çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²"></a>äºŒã€å­˜å‚¨çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²</h2><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè‹¥ä¿å­˜çš„ value ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ³¨å…¥ <code>StringRedisTemplate</code> è¿›è¡Œè¯»å†™ï¼Œå¦‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡ StringRedisTemplate å†™å…¥ redis</span></span><br><span class="line">  stringRedisTemplate.opsForValue().set(<span class="string">&quot;iuiuu&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šè¿‡ StringRedisTemplate è·å–</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">v</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;iuiuu&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  map.iuiuu(<span class="string">&quot;tag&quot;</span>, v);</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å­˜å‚¨çš„-value-æ˜¯ä¸€ä¸ªå¯¹è±¡"><a href="#ä¸‰ã€å­˜å‚¨çš„-value-æ˜¯ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="ä¸‰ã€å­˜å‚¨çš„ value æ˜¯ä¸€ä¸ªå¯¹è±¡"></a>ä¸‰ã€å­˜å‚¨çš„ value æ˜¯ä¸€ä¸ªå¯¹è±¡</h2><p>è¿™ç§æƒ…å†µï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>StringRedisTemplate</code> è¿›è¡Œè¯»å†™ã€‚ä¸è¿‡ï¼Œåœ¨å†™å…¥ä¹‹å‰å…ˆå°†å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œç„¶åå†å†™å…¥ redisã€‚è¯»å–çš„æ—¶å€™ï¼Œä» redis è·å–åˆ°çš„æ˜¯æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œéœ€è¦ååºåˆ—åŒ–ç›¸åº”çš„å¯¹è±¡ã€‚å¦‚ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">  <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">    .setTagId(<span class="number">10001</span>)</span><br><span class="line">    .setTagName(name)</span><br><span class="line">    .setCount(<span class="number">20</span>)</span><br><span class="line">    .setStatus(<span class="number">1</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> JsonUtil.toJson(tag);</span><br><span class="line">  <span class="comment">// å†™å…¥ redis</span></span><br><span class="line">  stringRedisTemplate.opsForValue().set(<span class="string">&quot;iuiuu&quot;</span>, str);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä» redis è¯»å–</span></span><br><span class="line">  <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;iuiuu&quot;</span>);</span><br><span class="line">  <span class="comment">// ååºåˆ—åŒ–ä¸º Tag å¯¹è±¡</span></span><br><span class="line">  <span class="type">Tag</span> <span class="variable">t</span> <span class="operator">=</span> JsonUtil.fromJson(json, Tag.class);</span><br><span class="line">  </span><br><span class="line">  Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">  map.put(<span class="string">&quot;tag&quot;</span>, t);</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ç§æ–¹å¼åœ¨è¯»å–æˆ–å†™å…¥çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œä¼šæœ‰ç‚¹ç¹çã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¦ä¸€ç§ç®€æ´çš„æ–¹å¼â€”â€”<code>RedisTemplate&lt;Object, Object&gt;</code>ï¼Œä¸è¿‡åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥ä½¿ç”¨ <code>RedisTemplate&lt;Object, Object&gt;</code>ï¼Œè€Œæ˜¯ä¼šå¯¹ keyï¼Œvalue è¿›è¡Œåºåˆ—åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ–°å¢ä¸€ä¸ªé…ç½®ç±»ã€‚ä»¥ä¸‹ç¤ºä¾‹æ–°äº†é…ç½®ç±» <code>RedisConfig</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Redis é…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/12/18 11:24 PM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean(&quot;tagRedisTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, Tag&gt; <span class="title function_">tagRedisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line">        RedisTemplate&lt;String, Tag&gt; template = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        Jackson2JsonRedisSerializer&lt;Tag&gt; serializer = <span class="keyword">new</span> <span class="title class_">Jackson2JsonRedisSerializer</span>&lt;&gt;(Tag.class);</span><br><span class="line">        template.setValueSerializer(serializer);</span><br><span class="line">        template.setHashValueSerializer(serializer);</span><br><span class="line">        template.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        template.setHashKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        template.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ‡ç­¾ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019/12/18 11:08 PM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tag</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾Id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> tagId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String tagName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾çŠ¶æ€ï¼š1-æ­£å¸¸ 2-æš‚ä¸æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ‡ç­¾æ–‡ç« æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//çœç•¥ getã€set</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥å…¶å®ƒä»£ç ...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier(&quot;tagRedisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate&lt;String, Tag&gt; tagRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/redis&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">set</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">            .setTagId(<span class="number">10001</span>)</span><br><span class="line">            .setTagName(name)</span><br><span class="line">            .setCount(<span class="number">20</span>)</span><br><span class="line">            .setStatus(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; ä¿å­˜ Tag å®ä½“ç±»</span></span><br><span class="line">    tagRedisTemplate.opsForValue().set(<span class="string">&quot;tagRedisTemplate&quot;</span>, tag);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; è·å– Tag å®ä½“ç±»</span></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">newTag</span> <span class="operator">=</span> tagRedisTemplate.opsForValue().get(<span class="string">&quot;tagRedisTemplate&quot;</span>);</span><br><span class="line"></span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;newTag&quot;</span>, newTag);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€StringRedisTemplate-RedisTemplateè¯»å†™Redisç¤ºä¾‹"><a href="#å››ã€StringRedisTemplate-RedisTemplateè¯»å†™Redisç¤ºä¾‹" class="headerlink" title="å››ã€StringRedisTemplate/RedisTemplateè¯»å†™Redisç¤ºä¾‹"></a>å››ã€StringRedisTemplate/RedisTemplateè¯»å†™Redisç¤ºä¾‹</h2><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/compared&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">compared</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜ name</span></span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;strRedisTemplate&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">tag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tag</span>()</span><br><span class="line">            .setTagId(<span class="number">10002</span>)</span><br><span class="line">            .setTagName(name)</span><br><span class="line">            .setCount(<span class="number">20</span>)</span><br><span class="line">            .setStatus(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; ä¿å­˜ Tag å®ä½“ç±»</span></span><br><span class="line">    tagRedisTemplate.opsForValue().set(<span class="string">&quot;key_tag&quot;</span>, tag);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate ä¿å­˜ Tag å®ä½“ï¼Œéœ€å…ˆåºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> JsonUtil.toJson(tag);</span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;key_str&quot;</span>, str);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ RedisTemplate&lt;String, Tag&gt; è·å– Tag å®ä½“ç±»</span></span><br><span class="line">    <span class="type">Tag</span> <span class="variable">t1</span> <span class="operator">=</span> tagRedisTemplate.opsForValue().get(<span class="string">&quot;key_tag&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šè¿‡ StringRedisTemplate è·å–ï¼Œéœ€è¦ååºåˆ—ä¸ºå¯¹è±¡</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> stringRedisTemplate.opsForValue().get(<span class="string">&quot;key_str&quot;</span>);</span><br><span class="line">    <span class="type">Tag</span> <span class="variable">t2</span> <span class="operator">=</span> JsonUtil.fromJson(json, Tag.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;succeed&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ redis ä¸­çš„å€¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[iuiuu@226 ~]$ redis-cli </span><br><span class="line">127.0.0.1:6379&gt; get key_tag</span><br><span class="line">&quot;&#123;\&quot;tagId\&quot;:10002,\&quot;tagName\&quot;:\&quot;History\&quot;,\&quot;status\&quot;:1,\&quot;count\&quot;:20&#125;&quot;</span><br><span class="line">127.0.0.1:6379&gt; get key_str</span><br><span class="line">&quot;&#123;\&quot;tagId\&quot;:10002,\&quot;tagName\&quot;:\&quot;History\&quot;,\&quot;status\&quot;:1,\&quot;count\&quot;:20&#125;&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ç§æ–¹å¼å°†å¯¹è±¡å†™å…¥åˆ° redis åï¼Œå­˜å‚¨çš„å€¼å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä¸º JSON å­—ç¬¦ä¸²ã€‚</p>
<p>æœ¬æ–‡ç¤ºä¾‹ä»£ç è§ <a href="https://github.com/iuiuu/spring-boot-demos/tree/master/spring-boot-demos-redis">https://github.com/iuiuu/spring-boot-demos/tree/master/spring-boot-demos-redis</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Spring Boot</tag>
        <tag>Jpa</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ZooKeeperå¯åŠ¨å¤±è´¥ã€‘Error: Could not find or load main class org.apache.zookeeper.server.quorum.QuorumPeerMain</title>
    <url>/2019/12/12/zookeeper-problem-1/</url>
    <content><![CDATA[<p>åœ¨ CentOS 7 ç³»ç»Ÿä¸­å®‰è£…å¥½ ZooKeeper åï¼Œè¿›å…¥å®‰è£…ç›®å½• <code>/usr/local/zookeeper/apache-zookeeper-3.5.6/bin/</code>ï¼Œä½¿ç”¨å‘½ä»¤ <code>./zkServer.sh start</code> å¯åŠ¨ï¼Œå‘ç°å¯åŠ¨å¤±è´¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zookeeperu@202 bin]$ ./zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /usr/local/zookeeper/apache-zookeeper-3.5.6/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... FAILED TO START</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ç›®å½• <code>/usr/local/zookeeper/apache-zookeeper-3.5.6/logs</code>ï¼ŒæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zookeeperu@202 bin]$ cd /usr/local/zookeeper/apache-zookeeper-3.5.6/logs</span><br><span class="line">[zookeeperu@202 bin]$ vim ./zookeeper-jump-server-202.out</span><br></pre></td></tr></table></figure>

<p>å¯çœ‹åˆ°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Error: Could not find or load main class org.apache.zookeeper.server.quorum.QuorumPeerMain</span><br></pre></td></tr></table></figure>

<p>å‡ºç° <code>Error: Could not find or load main class org.apache.zookeeper.server.quorum.QuorumPeerMain</code> é”™è¯¯ï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨å®‰è£…æ—¶ï¼Œé€‰ç”¨äº† <code>apache-zookeeper-&#123;version&#125;.tar.gz</code> åŒ…è€Œä¸æ˜¯ <code>apache-zookeeper-&#123;version&#125;-bin.tar.gz</code> åŒ…ï¼Œåé¢ä½¿ç”¨ <code>apache-zookeeper-3.5.6-bin.tar.gz</code> ï¼ˆ<strong>æ–‡ä»¶ååŒ…å«bin</strong>ï¼‰é‡æ–°å®‰è£…åï¼Œè§£å†³äº†é—®é¢˜ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[zookeeperu@202 bin]$ ./zkServer.sh start</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: /usr/local/zookeeper/apache-zookeeper-3.5.6-bin/bin/../conf/zoo.cfg</span><br><span class="line">Starting zookeeper ... STARTED</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
        <tag>ZooKeeper</tag>
      </tags>
  </entry>
  <entry>
    <title>å…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆå…·å¤‡ä»€ä¹ˆç‰¹ç‚¹ï¼Œå¦‚ä½•æ‰èƒ½å˜å¾—æ›´åŠ å…·æœ‰äº§å“æ€ç»´ï¼Ÿ</title>
    <url>/2021/07/05/the-product-minded-software-engineer/</url>
    <content><![CDATA[<p>è¿‘æ—¥åœ¨ç½‘ä¸Šè¯»åˆ°ä¸€ç¯‡æ ‡é¢˜ä¸º<a href="https://blog.pragmaticengineer.com/the-product-minded-engineer">ã€ŠThe Product-Minded Software Engineerã€‹</a>çš„æ–‡ç« ï¼Œè¯¥æ–‡è®²è¿°äº†å…·æœ‰äº§å“æ€ç»´çš„è½¯ä»¶å·¥ç¨‹å¸ˆéƒ½å…·å¤‡å“ªäº›ç‰¹ç‚¹ï¼Œåœ¨æ–‡æœ«ä¹Ÿç»™å‡ºäº†å¦‚ä½•æˆä¸ºå…·æœ‰äº§å“æ€ç»´çš„è½¯ä»¶å·¥ç¨‹å¸ˆçš„ç§˜è¯€ã€‚è¯»å®Œå¾ˆæœ‰æ„Ÿè§¦ï¼Œèº«å¤„ç°å¦‚ä»Šçš„äº’è”ç½‘ç¯å¢ƒï¼Œå·¥ç¨‹å¸ˆå¦‚æœè¿˜åªä¸“æ³¨äºæŠ€æœ¯ï¼Œæœªå…æœ‰äº›ç‹­éš˜ã€‚æ¯•ç«Ÿå·¥ç¨‹å¸ˆçš„ä»·å€¼å¹¶ä¸åªä½“ç°åœ¨æŠ€æœ¯å±‚é¢ä¸Šï¼Œè¿˜åº”ä½“ç°åœ¨äº§å“ã€å•†ä¸šç­‰å±‚é¢ä¸Šã€‚</p>
<p>æ–‡ç« å¾ˆå¥½ï¼Œäºæ˜¯å°±æŠŠå®ƒç¿»è¯‘äº†å‡ºæ¥ï¼Œä»¥æœŸå¤§å®¶ä¸€èµ·å­¦ä¹ æ¢è®¨ï¼Œå…±åŒæé«˜ã€‚</p>
<hr>
<p>å…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆæ˜¯æŒ‡é‚£äº›å¯¹äº§å“æœ¬èº«éå¸¸æ„Ÿå…´è¶£çš„å¼€å‘äººå‘˜ã€‚ä»–ä»¬ä¼šæƒ³å»äº†è§£æ¯ä¸ªäº§å“å†³ç­–èƒŒåçš„åŸå› ï¼Œä»¥åŠç”¨æˆ·å¦‚ä½•ä½¿ç”¨ä»–ä»¬çš„äº§å“ï¼ŒåŒæ—¶ä»–ä»¬ä¹Ÿä¹äºå‚ä¸äº§å“å†³ç­–ã€‚å¦‚æœä»–ä»¬å†³å®šæ”¾å¼ƒå·¥ç¨‹çš„ä¹è¶£ï¼ˆå³æ”¾å¼ƒä»äº‹å·¥ç¨‹å¸ˆå·¥ä½œï¼‰ï¼Œä»–ä»¬å¾ˆå¯èƒ½ä¼šæˆä¸ºä¸€åä¼˜ç§€çš„äº§å“ç»ç†ã€‚æˆ‘æ›¾ç»ä¸è®¸å¤šå…·æœ‰äº§å“æ€ç»´çš„ä¼˜ç§€å·¥ç¨‹å¸ˆä¸€èµ·å·¥ä½œï¼Œå¹¶è®¤ä¸ºè‡ªå·±ä¹Ÿæ˜¯è¿™æ ·çš„å¼€å‘äººå‘˜ã€‚åœ¨å¼€å‘ä¸–ç•Œçº§äº§å“çš„å…¬å¸ä¸­ï¼Œå…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆèƒ½æŠŠå›¢é˜Ÿçš„å½±å“åŠ›æå‡åˆ°ä¸€ä¸ªæ–°çš„æ°´å¹³ã€‚</p>
<p>Atlassian å…¬å¸çš„äº§å“ç»ç† Sherif Mansour å†™äº†ä¸€ç¯‡å…³äºäº§å“å·¥ç¨‹å¸ˆä»¥åŠäº§å“ç»ç†å¦‚ä½•è¯†åˆ«è¿™äº›äº§å“å·¥ç¨‹å¸ˆå¹¶ä¸ä»–ä»¬è‰¯å¥½åˆä½œçš„ä¼˜ç§€æ–‡ç« ã€‚ä»–çš„è§‚ç‚¹å¾ˆç›¸ä¼¼ï¼š</p>
<blockquote>
<p>åœ¨æˆ‘è¿‡å»åå¹´çš„äº§å“ç®¡ç†å·¥ä½œä¸­ï¼Œæˆ‘å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œäº§å“å·¥ç¨‹å¸ˆæ˜¯å¸®åŠ©ä½ æ„å»ºæˆåŠŸçš„äº§å“ã€æ‰©å±•è‡ªå·±å¹¶æˆä¸ºæ›´å¥½çš„äº§å“ç»ç†çš„å…³é”®å› ç´ ã€‚</p>
</blockquote>
<p>ä»–è¿˜å¼•ç”¨äº† Shopify çš„å·¥ç¨‹ä¸»ç®¡ Jean-Michel Lemieux çš„è¯ï¼Œä»–å¯¹äº§å“å·¥ç¨‹å¸ˆçš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p>ä¸€æ—¦ä½ æœ‰äº†äº§å“åŸºç¡€ï¼Œä½ å°±éœ€è¦è¿™äº›ç§¯æé—®â€œä¸ºä»€ä¹ˆâ€çš„å¼€å‘äººå‘˜ã€è¿™äº›æ¸´æœ›ä½¿ç”¨æŠ€æœ¯è§£å†³äººç±»/ç”¨æˆ·é—®é¢˜çš„å·¥ç¨‹å¸ˆã€è¿˜æœ‰é‚£äº›å…·æœ‰åŒç†å¿ƒçš„äººæ¥è·å¾—ç¥å¥‡çš„ä½“éªŒã€‚è¿™å°±æ˜¯æˆ‘ä¹¦ä¸­å¯¹äº§å“å·¥ç¨‹å¸ˆçš„å®šä¹‰ã€‚ä¼˜ç§€çš„äº§å“å·¥ç¨‹å¸ˆçŸ¥é“åœ¨æ„å»ºé˜¶æ®µéœ€è¦è€ƒè™‘æœ€å°å¯çˆ±äº§å“çš„æ­£ç¡®æ·±åº¦ï¼Œè€Œä¸å¥½çš„äº§å“å·¥ç¨‹å¸ˆåˆ™ä¼šç æ‰è¿‡å¤šçš„äº§å“åŠŸèƒ½éœ€æ±‚ã€‚</p>
</blockquote>
<p>å¼€å‘é¢å‘ç”¨æˆ·åŠŸèƒ½çš„ã€å¹¶ä¸äº§å“ç»ç†åˆä½œçš„å›¢é˜Ÿï¼Œæ˜¯å…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆå¯ä»¥äº§ç”Ÿå·¨å¤§å½±å“çš„ç¯å¢ƒã€‚ä»–ä»¬å¸¸å¸¸ä¼šæˆä¸ºä¸»è¦è´¡çŒ®è€…ã€äº§å“ç»ç†çš„é¦–é€‰äººå‘˜ã€å¹¶ä¸”ä¹Ÿå¸¸æ™‹å‡ä¸ºå›¢é˜Ÿé¢†å¯¼ã€‚é‚£ä¹ˆï¼Œå…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆçš„å…³é”®ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½å˜å¾—æ›´åŠ å…·æœ‰äº§å“æ€ç»´ï¼Ÿæœ¬æ–‡æ€»ç»“äº†æˆ‘è§‚å¯Ÿåˆ°çš„è¿™ç±»äººå…±æœ‰çš„ 9 ä¸ªç‰¹å¾ï¼Œä»¥åŠæˆ‘å¯¹å·¥ç¨‹å¸ˆåŸ¹å…»ä»–ä»¬çš„äº§å“æ€ç»´è‚Œè‚‰çš„å»ºè®®ã€‚</p>
<h2 id="1-ç§¯æä¸»åŠ¨åœ°å¯¹å¾…äº§å“ç†å¿µæˆ–è§‚ç‚¹"><a href="#1-ç§¯æä¸»åŠ¨åœ°å¯¹å¾…äº§å“ç†å¿µæˆ–è§‚ç‚¹" class="headerlink" title="1. ç§¯æä¸»åŠ¨åœ°å¯¹å¾…äº§å“ç†å¿µæˆ–è§‚ç‚¹"></a>1. ç§¯æä¸»åŠ¨åœ°å¯¹å¾…äº§å“ç†å¿µæˆ–è§‚ç‚¹</h2><p>å…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆä¸ä¼šæ»¡è¶³äºæ‹¿åˆ°éœ€æ±‚è¯´æ˜åå°±åŒ†åŒ†å¿™å¿™åœ°å®ç°å®ƒã€‚ä»–ä»¬ä¼šæ€è€ƒå…¶ä»–çš„åˆ›æ„ï¼Œå¹¶æ‰¾äº§å“ç»ç†æå‡ºè¿™äº›æƒ³æ³•ã€‚ä»–ä»¬ä¼šç»å¸¸æŒ‘æˆ˜ç°æœ‰çš„éœ€æ±‚è¯´æ˜ï¼Œå»ºè®®å…¶ä»–å¯èƒ½æ›´ä¼˜çš„æ›¿ä»£æ€§æ–¹æ³•ã€‚</p>
<h2 id="2-å¯¹ä¸šåŠ¡ã€ç”¨æˆ·è¡Œä¸ºå’Œæ•°æ®çš„å…´è¶£"><a href="#2-å¯¹ä¸šåŠ¡ã€ç”¨æˆ·è¡Œä¸ºå’Œæ•°æ®çš„å…´è¶£" class="headerlink" title="2. å¯¹ä¸šåŠ¡ã€ç”¨æˆ·è¡Œä¸ºå’Œæ•°æ®çš„å…´è¶£"></a>2. å¯¹ä¸šåŠ¡ã€ç”¨æˆ·è¡Œä¸ºå’Œæ•°æ®çš„å…´è¶£</h2><p>å…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆä»¬çš„æƒ³æ³•å’Œåˆ›æ„éƒ½ä¸æ˜¯å‡­ç©ºå¾—æ¥çš„ã€‚ä»–ä»¬ä¼šèŠ±æ—¶é—´å»äº†è§£ä¼ä¸šæ˜¯å¦‚ä½•å•†ä¸šè¿ä½œçš„ï¼Œäº§å“åˆæ˜¯å¦‚ä½•é…åˆå•†ä¸šè¿ä½œï¼Œä»¥åŠæœ€ç»ˆè¦è¾¾åˆ°ä»€ä¹ˆæ ·çš„å•†ä¸šç›®æ ‡ã€‚æ­¤å¤–ï¼Œä»–ä»¬ä¹Ÿä¼šå»æ¢ä½æ€è€ƒï¼Œè¯•å›¾ç†è§£äº§å“å°†ç»™ç”¨æˆ·å¸¦æ¥ä»€ä¹ˆæ„Ÿå—ï¼Œä»¥åŠç”¨æˆ·å¦‚ä½•ä»ä½¿ç”¨äº§å“ä¸­å—ç›Šã€‚ä»–ä»¬é€šå¸¸ä¼šç›´æ¥å»æ·±å…¥ç ”ç©¶å•†ä¸šæ•°æ®å’Œç”¨æˆ·æµ‹é‡æŒ‡æ ‡ï¼Œå¹¶å°½å…¶æ‰€èƒ½è·å–è¿™äº›æ•°æ®ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œä»–ä»¬ä¼šç›´æ¥è®¿é—®ç›¸å…³æ•°æ®ï¼Œæˆ–è€…æ‰¾äº§å“ç»ç†ã€æ•°æ®ä¸“å®¶å»è¦è¿™äº›ä¿¡æ¯ã€‚å·¥ç¨‹å¸ˆä»¬è¿™æ ·åšï¼Œå¾€å¾€æ˜¯å‡ºäºä»–ä»¬å¥½å¥‡çš„å¤©æ€§ã€‚è¿™ä¹Ÿæ˜¯æˆ‘è§‚å¯Ÿåˆ°çš„ä¸‹ä¸€ä¸ªç‰¹å¾ã€‚</p>
<h2 id="3-å¥½å¥‡å¿ƒå’Œå¯¹â€œä¸ºä»€ä¹ˆâ€çš„æµ“åšå…´è¶£"><a href="#3-å¥½å¥‡å¿ƒå’Œå¯¹â€œä¸ºä»€ä¹ˆâ€çš„æµ“åšå…´è¶£" class="headerlink" title="3. å¥½å¥‡å¿ƒå’Œå¯¹â€œä¸ºä»€ä¹ˆâ€çš„æµ“åšå…´è¶£"></a>3. å¥½å¥‡å¿ƒå’Œå¯¹â€œä¸ºä»€ä¹ˆâ€çš„æµ“åšå…´è¶£</h2><p>å…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆå–œæ¬¢å»ç†è§£æ‰€æœ‰äº‹ç‰©èƒŒåçš„é‚£ä¸ªâ€œä¸ºä»€ä¹ˆ? â€ã€‚ä¸ºä»€ä¹ˆäº§å“è¦å¼€å‘è¿™ä¸ªåŠŸèƒ½ã€è€Œä¸å¼€å‘å¦ä¸€ä¸ªåŠŸèƒ½å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¦é¦–å…ˆå‘å¸ƒè¿™ä¸€é‡Œç¨‹ç¢‘ï¼Œè€Œä¸æ˜¯é€‰æ‹©å¦ä¸€ä¸ªæ›´ç®€å•çš„é‡Œç¨‹ç¢‘å‘¢ï¼Ÿå¦‚ä½•è¿›è¡Œæµ‹é‡â€”â€”ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸é€‰æ‹©ä¸€ç§æ›´å…¨é¢å½»åº•çš„åº¦é‡æ–¹å¼æ¥æµ‹é‡å‘¢ï¼Ÿ</p>
<p>ä»–ä»¬èƒ½å¤Ÿè‡ªä¸»åœ°æ‰¾åˆ°ä»–ä»¬èƒ½å¤Ÿæ‰¾åˆ°çš„ç­”æ¡ˆã€‚ä»–ä»¬ä¹Ÿä¼šå‘äº§å“ç»ç†å’Œå…¶ä»–ä¸šåŠ¡äººå‘˜å¯»æ±‚å¸®åŠ©ï¼Œæ‰¾å¯»å…¶ä»–ä¸äº§å“ç›¸å…³é—®é¢˜çš„ç­”æ¡ˆã€‚å°½ç®¡ä»–ä»¬ç»å¸¸ä¼šé—®å¾ˆå¤šé—®é¢˜ï¼Œä½†æ˜¯ä»–ä»¬éƒ½ä¼šè®¾æ³•ä¸è®©å…¶ä»–äººè§‰å¾—ä¸çˆ½ï¼Œå› ä¸ºä»–ä»¬å·²ç»ä¸é‚£äº›åŒäº‹å»ºç«‹èµ·äº†ç‰¢å›ºçš„å…³ç³»ã€‚</p>
<h2 id="4-å¼ºå¤§çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå»ºç«‹ä¸éå·¥ç¨‹å¸ˆåŒäº‹è‰¯å¥½çš„å…³ç³»"><a href="#4-å¼ºå¤§çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå»ºç«‹ä¸éå·¥ç¨‹å¸ˆåŒäº‹è‰¯å¥½çš„å…³ç³»" class="headerlink" title="4. å¼ºå¤§çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå»ºç«‹ä¸éå·¥ç¨‹å¸ˆåŒäº‹è‰¯å¥½çš„å…³ç³»"></a>4. å¼ºå¤§çš„æ²Ÿé€šèƒ½åŠ›ï¼Œå»ºç«‹ä¸éå·¥ç¨‹å¸ˆåŒäº‹è‰¯å¥½çš„å…³ç³»</h2><p>å…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆå–œæ¬¢ä¸è½¯ä»¶å·¥ç¨‹é¢†åŸŸå¤–çš„åŒäº‹ä»¬äº¤è°ˆï¼Œäº†è§£ä»–ä»¬åœ¨åšä»€ä¹ˆã€ä¸ºä»€ä¹ˆåšã€‚ä»–ä»¬å–„äºæ²Ÿé€šï¼Œå……åˆ†æ˜¾ç¤ºä»–ä»¬å¯¹äºå­¦ä¹ å…¶ä»–å­¦ç§‘å·¥ä½œæ–¹å¼çš„æµ“åšå…´è¶£ã€‚æˆ‘ç»å¸¸çœ‹åˆ°ä»–ä»¬å’Œå…¶ä»–ä¸“ä¸šçš„åŒäº‹ä»¬ä¸€èµ·å–å’–å•¡ã€åƒåˆé¥­æˆ–è€…åœ¨èµ°å»Šä¸ŠèŠå¤©ã€‚</p>
<h2 id="5-æå‰åœ¨äº§å“å’Œå·¥ç¨‹ä¸¤æ–¹é¢åšå‡ºæƒè¡¡"><a href="#5-æå‰åœ¨äº§å“å’Œå·¥ç¨‹ä¸¤æ–¹é¢åšå‡ºæƒè¡¡" class="headerlink" title="5. æå‰åœ¨äº§å“å’Œå·¥ç¨‹ä¸¤æ–¹é¢åšå‡ºæƒè¡¡"></a>5. æå‰åœ¨äº§å“å’Œå·¥ç¨‹ä¸¤æ–¹é¢åšå‡ºæƒè¡¡</h2><p>å› ä¸ºå…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆä»¬å¯¹äº§å“çš„åŸç†ä»¥åŠè½¯ä»¶å·¥ç¨‹éƒ½æœ‰æ·±åˆ»çš„ç†è§£ï¼Œä»–ä»¬å¯ä»¥æå‡ºéå¸¸ç‹¬åˆ°çš„å»ºè®®ï¼Œè€Œå¾ˆå°‘æœ‰åˆ«äººå¯ä»¥åšåˆ°ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¡®å®šäº§å“æ„å»ºçš„å·¥ä½œèŒƒå›´æ—¶ï¼Œæ‰“é€ äº§å“æŸé¡¹å…³é”®åŠŸèƒ½çš„ç¼–ç¨‹å·¥ä½œé‡å¯èƒ½éå¸¸å·¨å¤§ã€‚è®¸å¤šå·¥ç¨‹å¸ˆä¼šå¼€å§‹å¯»æ‰¾å‡å°‘å·¥ä½œé‡çš„æ–¹æ³•ï¼Œå¹¶è¯•å›¾æ˜ç¡®å‡å°‘å·¥ä½œé‡å¯¹è¯¥é¡¹å…³é”®åŠŸèƒ½å¯èƒ½ä¼šäº§ç”Ÿçš„å½±å“ã€‚</p>
<p>å…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆä¼šä»ä¸¤ä¸ªè§’åº¦æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šä¸€æ–¹é¢åœ¨å·¥ç¨‹æ–¹é¢è¿›è¡Œå–èˆï¼Œæ˜ç¡®å¯èƒ½å¯¹äº§å“äº§ç”Ÿçš„å½±å“ï¼›åŒæ—¶åœ¨å¦ä¸€æ–¹é¢ï¼Œä»–ä»¬è¿˜ä¼šå¼€å§‹å¯¹äº§å“åŠŸèƒ½è¿›è¡Œå–èˆï¼Œè¯„ä¼°å¯¹å·¥ç¨‹å·¥ä½œé‡çš„å½±å“ã€‚ä»–ä»¬ç»å¸¸ä¼šå»æ‰¾äº§å“ç»ç†ï¼Œåœ¨ä¿æŒäº§å“ä½“éªŒç›¸ä¼¼çš„å‰æä¸‹ï¼Œå»ºè®®æ„å»ºä¸€ä¸ªå®Œå…¨ä¸åŒçš„åŠŸèƒ½ï¼Œä»è€Œä½¿å¾—ç¼–ç¨‹çš„å·¥ä½œé‡å¤§å¹…é™ä½ã€‚</p>
<p>å…¼é¡¾äº§å“å’Œå·¥ç¨‹ã€å¹³è¡¡ä¸¤è€…çš„å½±å“ï¼Œæ˜¯å…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆä»¬æ‹¥æœ‰çš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚ä»–ä»¬å¯ä»¥å¿«é€Ÿåœ°åœ¨åŒä¸€æšç¡¬å¸çš„ä¸¤é¢ä¹‹é—´æ¥å›åˆ‡æ¢ï¼šäº§å“ç‰¹æ€§ã€å·¥ç¨‹å·¥ä½œé‡å’Œä¸¤è€…çš„å¹³è¡¡ã€‚ç”±äºä»–ä»¬åˆ©ç”¨å…¶å·¥ç¨‹å’Œäº§å“ä¸¤æ–¹é¢çš„æ´å¯ŸåŠ›ï¼Œåœ¨å¤´è„‘ä¸­å¿«é€Ÿå®Œæˆä¸Šè¿°æƒè¡¡ï¼Œæ‰€ä»¥ä»–ä»¬èƒ½å¤Ÿå¾ˆå¿«å¾—å‡ºæœ‰ä»·å€¼çš„ç»“è®ºã€‚</p>
<h2 id="6-ä»¥åŠ¡å®çš„æ–¹å¼å¤„ç†è¾¹ç¼˜æ¡ˆä¾‹"><a href="#6-ä»¥åŠ¡å®çš„æ–¹å¼å¤„ç†è¾¹ç¼˜æ¡ˆä¾‹" class="headerlink" title="6. ä»¥åŠ¡å®çš„æ–¹å¼å¤„ç†è¾¹ç¼˜æ¡ˆä¾‹"></a>6. ä»¥åŠ¡å®çš„æ–¹å¼å¤„ç†è¾¹ç¼˜æ¡ˆä¾‹</h2><p>è¾¹ç¼˜æ¡ˆä¾‹æ˜¯ä¸€ä»¶å¾ˆæœ‰æ„æ€çš„äº‹æƒ…ã€‚æœ‰çš„å·¥ç¨‹å¸ˆç»å¸¸ä¼šå¿˜è®°è¾¹ç¼˜æ¡ˆä¾‹çš„å­˜åœ¨ï¼Œæœ€åä»äº§å“æµ‹è¯•äººå‘˜æˆ–æœ€ç»ˆç”¨æˆ·é‚£é‡Œå¾—åˆ°åé¦ˆä¹‹åï¼Œæ‰ä¸å¾—ä¸å›è¿‡å¤´æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚è¿™æ˜¯ä¸€ä¸ªæç«¯ï¼Œè€Œå¦ä¸€æ–¹é¢ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ–°äº§å“æˆ–åŠŸèƒ½ä¸­è¯•å›¾å¤„ç†æ‰€æœ‰å¯èƒ½çš„è¾¹ç¼˜æƒ…å†µï¼Œåˆ™å¯èƒ½ä¼šè€—è´¹å¤§é‡çš„æ—¶é—´ã€‚</p>
<p>å…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆä¼šå¾ˆå¿«åˆ¶å®šå‡ºå…³äºè¾¹ç¼˜æ¡ˆä¾‹çš„è®¡åˆ’ï¼Œå¹¶æ€è€ƒå¦‚ä½•å‡å°‘å·¥ä½œé‡ï¼Œå¹¶ç»å¸¸ä¼šæ‰¾åˆ°ä¸éœ€è¦é¢å¤–å·¥ä½œé‡çš„è§£å†³æ–¹æ¡ˆã€‚ä»–ä»¬ä¸“æ³¨äºâ€œæœ€å°å¯çˆ±äº§å“â€çš„æ¦‚å¿µï¼Œè¯„ä¼°è¾¹ç¼˜æ¡ˆä¾‹çš„å½±å“å’Œå¤„ç†æ‰€éœ€çš„å·¥ä½œé‡ã€‚ä»–ä»¬ä¼šæä¾›å¾ˆå¥½çš„æŠ˜è¡·å»ºè®®: åœ¨å‘å¸ƒæ—©æœŸç‰ˆæœ¬ä¹‹å‰ï¼Œåˆ—å‡ºå¤§å¤šæ•°å¯èƒ½å‡ºé”™çš„åœ°æ–¹ï¼Œå¹¶æå‡ºéœ€è¦è§£å†³å“ªäº›è¾¹ç¼˜æ¡ˆä¾‹çš„å»ºè®®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªåƒåˆ†ä¹‹ä¸€çš„ç”¨æˆ·å¯èƒ½ä¼šé‡åˆ°çš„é”™è¯¯ï¼Œä»–ä»¬ä¼šè€ƒè™‘ä¿®å¤è¿™ä¸€é”™è¯¯æ¶‰åŠçš„å·¥ä½œé‡ï¼Œä»¥åŠå¦‚æœä»€ä¹ˆéƒ½ä¸åšä¼šå‘ç”Ÿçš„åæœã€‚åœ¨äº§å“éªŒè¯è¿‡ç¨‹ä¸­ï¼Œå®¢æœä¸“å‘˜æ˜¯å¦å¯ä»¥åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­å¸®åŠ©ç”¨æˆ·ï¼Ÿç”¨æˆ·ä¸‹ä¸€æ¬¡å†é‡åˆ°åŒæ ·é—®é¢˜å¯ä»¥è‡ªå·±å°è¯•æˆåŠŸè§£å†³å—ï¼Ÿå¯¹äº§å“è¿›è¡Œç•¥å¾®è°ƒæ•´ï¼Œæ˜¯å¦å°±å¯ä»¥é¿å…è¾¹ç¼˜æ¡ˆä¾‹ï¼Ÿ</p>
<h2 id="7-å¿«é€Ÿçš„äº§å“éªŒè¯å‘¨æœŸ"><a href="#7-å¿«é€Ÿçš„äº§å“éªŒè¯å‘¨æœŸ" class="headerlink" title="7. å¿«é€Ÿçš„äº§å“éªŒè¯å‘¨æœŸ"></a>7. å¿«é€Ÿçš„äº§å“éªŒè¯å‘¨æœŸ</h2><p>ç”šè‡³åœ¨å¼€å‘çš„äº§å“åŠŸèƒ½å¯ä»¥ä¸Šçº¿ä¹‹å‰ï¼Œå…·æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆä»¬æ—©å°±å·²ç»æ‰¾åˆ°åˆ›é€ æ€§çš„æ–¹æ³•æ¥è·å–æ—©æœŸçš„åé¦ˆæ„è§ã€‚ä»–ä»¬å¯ä»¥å’ŒåŒäº‹ä¸€èµ·è¿›è¡Œèµ°å»Šæµ‹è¯•ï¼Œå¯ä»¥å‘äº§å“ç»ç†æ¼”ç¤ºå°šåœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥åœ¨ Beta ç‰ˆæœ¬å‘å¸ƒå‰ç»„ç»‡æ•´ä¸ªå›¢é˜Ÿæ¥ä¸€åœºâ€œæ¼æ´å¤§æ‰«è¡â€ï¼Œå½“ç„¶è¿˜æœ‰è®¸å¤šå…¶ä»–åˆ›é€ æ€§çš„æ–¹æ³•ã€‚ä»–ä»¬ä¼šä¸€ç›´æ€è€ƒè¿™ä¸ªé—®é¢˜ï¼šâ€œæˆ‘ä»¬æ€æ ·æ‰èƒ½éªŒè¯ç”¨æˆ·ä»¬ä¼šåƒæˆ‘ä»¬é¢„æœŸçš„é‚£æ ·æ¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Ÿâ€</p>
<h2 id="8-å¯¹äº§å“åŠŸèƒ½ä»å¤´è‡³å°¾è´Ÿè´£åˆ°åº•"><a href="#8-å¯¹äº§å“åŠŸèƒ½ä»å¤´è‡³å°¾è´Ÿè´£åˆ°åº•" class="headerlink" title="8. å¯¹äº§å“åŠŸèƒ½ä»å¤´è‡³å°¾è´Ÿè´£åˆ°åº•"></a>8. å¯¹äº§å“åŠŸèƒ½ä»å¤´è‡³å°¾è´Ÿè´£åˆ°åº•</h2><p>ç»éªŒä¸°å¯Œçš„å·¥ç¨‹å¸ˆä»¬éƒ½ä¼šå¯¹ä»–ä»¬çš„å·¥ä½œä»å¤´è‡³å°¾è´Ÿè´£åˆ°åº•ï¼šä»æ‹¿åˆ°äº§å“è§„èŒƒåˆ°éƒ¨ç½²å®æ–½ï¼Œå†åˆ°å‘å¸ƒäº§å“å¹¶æœ€ç»ˆéªŒè¯äº§å“èƒ½å¦æ­£å¸¸å·¥ä½œã€‚é™¤äº†ä¸Šè¿°è¿™äº›å·¥ä½œä»¥å¤–ï¼Œå…·æœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆé€šå¸¸ä¼šä¸¾ä¸€åä¸‰ã€å†è¿›ä¸€æ­¥ã€‚</p>
<p>ä»–ä»¬åšä¿¡ï¼Œåªæœ‰åœ¨è·å¾—ç”¨æˆ·è¡Œä¸ºå’Œå•†ä¸šæŒ‡æ ‡çš„ç»“æœä¹‹åï¼Œä»–ä»¬çš„å·¥ä½œæ‰ç®—å…¨éƒ¨å®Œæˆã€‚äº§å“ä¸Šçº¿åï¼Œä»–ä»¬ä»ç„¶ä¼šç§¯æä¸äº§å“ç»ç†ã€æ•°æ®ä¸“å®¶å’Œå®¢æˆ·æ”¯æŒæ¸ é“ä¿æŒå¯†åˆ‡æ²Ÿé€šï¼Œä»¥ä¾¿äº†è§£äº§å“åŠŸèƒ½åœ¨ç°å®ä¸–ç•Œä¸­çš„ä½¿ç”¨æƒ…å†µã€‚è¦è·å¾—è¶³å¤Ÿå¾—å‡ºç»“è®ºçš„å¯é æ•°æ®é€šå¸¸éœ€è¦å‡ å‘¨æ—¶é—´ã€‚å³ä½¿ä»–ä»¬å¯èƒ½å·²ç»æ¥æ‰‹ä¸‹ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œä»–ä»¬ä»ç„¶ä¼šæŠŠæ£€æŸ¥ä¸Šä¸€é¡¹ç›®çš„æˆæœä½œä¸ºé¦–è¦ä»»åŠ¡ä¹‹ä¸€ã€‚è¿™å¹¶ä¸æ˜¯ä¸€é¡¹ç‰¹åˆ«è€—æ—¶çš„æ´»åŠ¨ï¼Œä½†æ˜¯ç‰¹åˆ«éœ€è¦ä¸€ç§é”²è€Œä¸èˆçš„ç²¾ç¥ï¼Œæ¨åŠ¨é‚£äº›æƒ³è¦çŸ¥é“è‡ªå·±çš„è¾›å‹¤åŠ³åŠ¨ç©¶ç«Ÿæ•ˆæœå¦‚ä½•çš„å·¥ç¨‹å¸ˆä»¬ï¼Œå»åšæŒæ¢å¯»ç­”æ¡ˆã€‚</p>
<p>å½“å¼€å‘çš„æŸé¡¹åŠŸèƒ½è¡¨ç°å¾—ä¸å¦‚é¢„æœŸæ—¶ï¼Œä»–ä»¬ä¼šç‰¹åˆ«å¥½å¥‡é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Ÿä»–ä»¬å¯¹äºæ‰¾åˆ°äº§å“è®¡åˆ’å’Œç°å®ä¸–ç•Œç»“æœä¹‹é—´å­˜åœ¨å·®è·çš„æ ¹æœ¬åŸå› æ€€æœ‰æµ“åšçš„å…´è¶£ï¼Œç¨‹åº¦ä¸äºšäºä»–ä»¬åœ¨ä»£ç åº“ä¸­æ‰¾åˆ°éš¾ä»¥å¤ç°çš„ç¼ºé™·å¹¶æˆåŠŸé™¤é”™ã€‚ä»–ä»¬ç»å¸¸ä¼šèŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œå°±æŸäº›å‡è®¾å’Œå¿ƒå¾—ä¸äº§å“ç»ç†å’Œæ•°æ®ä¸“å®¶å±•å¼€è¾©è®ºã€‚</p>
<h2 id="9-é€šè¿‡åå¤å¾ªç¯çš„å­¦ä¹ ï¼Œå½¢æˆå¼ºå¤§çš„äº§å“æœ¬èƒ½"><a href="#9-é€šè¿‡åå¤å¾ªç¯çš„å­¦ä¹ ï¼Œå½¢æˆå¼ºå¤§çš„äº§å“æœ¬èƒ½" class="headerlink" title="9. é€šè¿‡åå¤å¾ªç¯çš„å­¦ä¹ ï¼Œå½¢æˆå¼ºå¤§çš„äº§å“æœ¬èƒ½"></a>9. é€šè¿‡åå¤å¾ªç¯çš„å­¦ä¹ ï¼Œå½¢æˆå¼ºå¤§çš„äº§å“æœ¬èƒ½</h2><p>å¯¹äºæœ‰äº§å“æ„è¯†çš„å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œä¸€ä¸ªå…¸å‹çš„é¡¹ç›®é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>ä»–ä»¬ä¼šæå‡ºå¾ˆå¤šé—®é¢˜ï¼Œæ¥å‡†ç¡®ç†è§£æ„å»ºäº§å“åŠŸèƒ½çš„åŸå› ï¼›</li>
<li>ä»–ä»¬ä¼šæä¾›å»ºè®®å’Œå–èˆæ–¹æ¡ˆï¼Œå…¶ä¸­æŸäº›å»ºè®®ä¼šåæ˜ åœ¨ä¿®è®¢åçš„äº§å“è®¾è®¡è§„èŒƒä¸­ï¼›</li>
<li>ä»–ä»¬ä¼šå¾ˆå¿«å¼€å‘å‡ºç›¸å…³åŠŸèƒ½ï¼Œä»¥ä¾¿å°½æ—©å¾—åˆ°åé¦ˆæ„è§ï¼›</li>
<li>åœ¨äº§å“å‘å¸ƒä¹‹åï¼Œä»–ä»¬ä¼šç§¯æè·Ÿè¿›äº†è§£ç›¸å…³äº§å“åŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸï¼›</li>
<li>å¦‚æœæ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼Œä»–ä»¬ä¼šæ·±å…¥æŒ–æ˜åŸå› ï¼Œå¹¶å­¦åˆ°äº§å“åœ¨ç°å®ä¸–ç•Œä¸­ä½¿ç”¨çš„æ–°çŸ¥è¯†ã€‚</li>
</ol>
<p>æ¯å®Œæˆä¸€ä¸ªé¡¹ç›®ï¼Œä»–ä»¬å¯¹äº§å“çš„ç†è§£å°±ä¼šåŠ æ·±ï¼Œä»–ä»¬å¼€å§‹åŸ¹å…»èµ·è¶Šæ¥è¶Šå¥½çš„äº§å“ç›´è§‰ã€‚ç­‰åˆ°ä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œä»–ä»¬ä¼šè´¡çŒ®æ›´å¤šæœ‰ä»·å€¼çš„å»ºè®®ã€‚éšç€æ—¶é—´æ¨ç§»ï¼Œä»–ä»¬ä¼šæˆä¸ºäº§å“ç»ç†æœ€æ„¿æ„å»è®¨æ•™çš„å¤§ä¸“å®¶ï¼Œåœ¨æ–°çš„é¡¹ç›®è¿˜æœªå¼€å§‹ä¹‹å‰å°±ä¼šæå‰å»å¾æ±‚ä»–ä»¬çš„æ„è§ã€‚ä»–ä»¬å°†åå£°åœ¨å¤–ï¼Œä¸ºæŒç»­çš„èŒä¸šå‘å±•æ‰“å¼€æ›´å¤šçš„å¤§é—¨ã€‚</p>
<h2 id="æˆä¸ºæ›´æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆçš„ç§˜è¯€"><a href="#æˆä¸ºæ›´æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆçš„ç§˜è¯€" class="headerlink" title="æˆä¸ºæ›´æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆçš„ç§˜è¯€"></a>æˆä¸ºæ›´æœ‰äº§å“æ€ç»´çš„å·¥ç¨‹å¸ˆçš„ç§˜è¯€</h2><p>å¦‚æœä½ åœ¨å¼€å‘é¢å‘ç”¨æˆ·çš„äº§å“ï¼Œè¿™é‡Œæœ‰ä¸€äº›æˆ‘è®¤ä¸ºæ•ˆæœå¾ˆå¥½çš„æŠ€å·§ï¼Œå¯ä»¥å¢å¼ºä½ çš„äº§å“æ€ç»´ã€‚</p>
<ul>
<li><strong>äº†è§£å…¬å¸æˆåŠŸçš„æ–¹å¼å’ŒåŸå› ã€‚</strong>å•†ä¸šæ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿé’±æ˜¯æ€ä¹ˆèµšçš„ï¼Ÿå“ªéƒ¨åˆ†æœ€èµšé’±ï¼Œå…¬å¸å“ªéƒ¨åˆ†å‘å±•æœ€å¿«ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿä½ çš„å›¢é˜Ÿå¦‚ä½•é€‚åº”è¿™ä¸€åˆ‡ï¼Ÿ</li>
<li>ä¸ä½ çš„äº§å“ç»ç†å»ºç«‹ç‰¢å›ºçš„å…³ç³»ã€‚å¤§å¤šæ•°äº§å“ç»ç†ä¼šæŠ“ä½æœºä¼šæŒ‡å¯¼å·¥ç¨‹å¸ˆã€‚è®©å·¥ç¨‹å¸ˆå¯¹äº§å“æ„Ÿå…´è¶£æ„å‘³ç€ä»–ä»¬å¯ä»¥æ›´å¥½åœ°æ‰©å±•è‡ªå·±ã€‚åœ¨è¿›æ¥ä¹‹å‰ï¼Œé—®å¾ˆå¤šäº§å“é—®é¢˜ï¼ŒèŠ±æ—¶é—´å»ºç«‹è¿™ç§å…³ç³»ï¼Œå¹¶å‘ä½ çš„äº§å“ç»ç†æ˜ç¡®è¡¨ç¤ºï¼Œä½ æƒ³æ›´å¤šåœ°å‚ä¸åˆ°äº§å“ä¸­æ¥ã€‚</li>
<li>å‚ä¸ç”¨æˆ·ç ”ç©¶ã€å®¢æˆ·æ”¯æŒå’Œå…¶ä»–æ´»åŠ¨ï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­äº†è§£æ›´å¤šæœ‰å…³äº§å“å¦‚ä½•è¿ä½œçš„ä¿¡æ¯ã€‚ä¸è®¾è®¡å¸ˆã€ç”¨æˆ·ä½“éªŒäººå‘˜ã€æ•°æ®ç§‘å­¦å®¶ã€è¿è¥äººå‘˜å’Œå…¶ä»–ç»å¸¸è·Ÿç”¨æˆ·äº’åŠ¨çš„äººå‘˜ç»“ä¼´ã€‚</li>
<li>æå‡ºæœ‰å……åˆ†ä¾æ®çš„äº§å“å»ºè®®ã€‚åœ¨ä½ å¯¹ä¸šåŠ¡ã€äº§å“å’Œåˆ©ç›Šç›¸å…³è€…éƒ½æœ‰ä¸€ä¸ªå¾ˆå¥½çš„äº†è§£ä¹‹åï¼šå°±è¦é‡‡å–ä¸»åŠ¨ã€‚ä½ å¯ä»¥ä¸ºä½ æ­£åœ¨è¿›è¡Œçš„é¡¹ç›®æå‡ºä¸€äº›å°å»ºè®®ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥å»ºè®®è¿›è¡Œæ›´å¤§çš„åŠªåŠ›ï¼Œæ¦‚è¿°å·¥ç¨‹å·¥ä½œå’Œäº§å“å·¥ä½œï¼Œä»¥ä¾¿åœ¨å¾…åŠäº‹é¡¹ä¸­è½»æ¾ç¡®å®šä¼˜å…ˆçº§ã€‚</li>
<li>ä¸ºä½ æ­£åœ¨è¿›è¡Œçš„é¡¹ç›®æä¾›äº§å“/å·¥ç¨‹å–èˆã€‚ä¸ä»…è¦è€ƒè™‘å¯¹ä½ å›¢é˜Ÿæ­£åœ¨æ„å»ºçš„äº§å“åŠŸèƒ½è¿›è¡Œå·¥ç¨‹æ–¹é¢çš„å–èˆï¼Œè¿˜è¦å»ºè®®å¯ä»¥å‡å°‘å·¥ç¨‹å·¥ä½œé‡çš„äº§å“æƒè¡¡ã€‚å¯¹å…¶ä»–äººçš„åé¦ˆæŒå¼€æ”¾æ€åº¦ã€‚</li>
<li>ç»å¸¸å‘ä½ çš„äº§å“ç»ç†å¯»æ±‚åé¦ˆã€‚æˆä¸ºä¸€åå…·æœ‰äº§å“æ€ç»´çš„ä¼˜ç§€å·¥ç¨‹å¸ˆæ„å‘³ç€ä½ å·²ç»åœ¨ç°æœ‰çš„å·¥ç¨‹æŠ€èƒ½ç»„åˆä¹‹ä¸Šå»ºç«‹äº†è‰¯å¥½çš„äº§å“æŠ€èƒ½ã€‚å‘ä½ æä¾›æœ‰å…³ä½ åœ¨äº§å“æŠ€èƒ½æ–¹é¢çš„è¡¨ç°çš„åé¦ˆçš„æœ€ä½³äººé€‰æ˜¯ä½ çš„äº§å“ç»ç†ã€‚å°±ä»–ä»¬å¯¹ä½ çš„äº§å“å»ºè®®çš„ä»·å€¼æå‡ºåé¦ˆæ„è§ï¼Œå¹¶å°±éœ€è¦è¿›ä¸€æ­¥å‘å±•çš„é¢†åŸŸå¾æ±‚æ„è§ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>HashMapæ ¸å¿ƒåŠŸèƒ½æºç è§£è¯»ï¼ˆä¸€ï¼‰ï¼šæ¦‚è¿°</title>
    <url>/2021/07/22/hashmap-core-code-analysis-1/</url>
    <content><![CDATA[<p>åœ¨å¼€å§‹åˆ†æ HashMap æ ¸å¿ƒæºç ä¹‹å‰ï¼Œæœ¬æ–‡å…ˆè¯•ç€ä»ä½¿ç”¨çš„è§’åº¦å¯¹å…¶è¿›è¡Œè§£è¯»ï¼ŒåŒ…æ‹¬ HashMap ç‰¹æ€§ã€å¦‚ä½•æ­£ç¡®ä½¿ç”¨ï¼Œä»¥åŠå½±å“ Map æ€§èƒ½çš„å› ç´ ç­‰ã€‚</p>
<h2 id="HashMapç‰¹æ€§"><a href="#HashMapç‰¹æ€§" class="headerlink" title="HashMapç‰¹æ€§"></a>HashMapç‰¹æ€§</h2><p>HashMap æ˜¯ Map æ¥å£çš„ä¸€ä¸ªåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œä¸»è¦ç”¨æ¥å­˜å‚¨é”®å€¼å¯¹æ•°æ®ã€‚ä½œä¸ºä¸€ä¸ªä½¿ç”¨é¢‘ç‡è¾ƒé«˜çš„é›†åˆç±»ï¼Œäº†è§£å®ƒçš„ç‰¹æ€§æœ‰åŠ©äºæˆ‘ä»¬åœ¨å®è·µä¸­æ­£ç¡®ä½¿ç”¨å®ƒã€‚</p>
<p>é¦–å…ˆï¼ŒHashMap å…è®¸é”®ä¸º null å’Œå€¼ä¸º nullã€‚</p>
<p>å…¶æ¬¡ï¼ŒHashMap ä¸ä¿è¯ Map çš„æœ‰åºæ€§ï¼Œå³ä¸ä¿è¯éå† HashMap è¾“å‡ºå…ƒç´ çš„é¡ºåºä¸å…¶æ’å…¥çš„é¡ºåºç›¸åŒï¼ˆå¯èƒ½å­˜åœ¨é¡ºåºç›¸åŒæƒ…å†µï¼‰ã€‚å¦å¤–ï¼ŒHashMap ä¹Ÿä¸ä¿è¯å…¶é¡ºåºåœ¨ä¸€æ®µæ—¶é—´å†…ä¿æŒä¸å˜ã€‚å¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­ä¿è¯ Map æœ‰åºæ€§çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ LinkedHashMap ä»£æ›¿ HashMapã€‚</p>
<p>å†æ¬¡ï¼ŒHashMap æ˜¯ä¸åŒæ­¥çš„ï¼Œå³ HashMap ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ª HashMap å®ä¾‹ï¼Œå¹¶ä¸”å…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ä»ç»“æ„ä¸Šä¿®æ”¹äº† HashMap å®ä¾‹æ—¶ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µå‘ç”Ÿã€‚è¿™é‡Œçš„â€œä»ç»“æ„ä¸Šä¿®æ”¹â€æ˜¯æŒ‡å¯¹ HashMap å®ä¾‹è¿›è¡Œæ·»åŠ æˆ–åˆ é™¤å…ƒç´ çš„æ“ä½œï¼Œä»…ä¿®æ”¹å·²åŒ…å«çš„é”®å¯¹åº”çš„å€¼è¯ï¼Œå°±ä¸æ˜¯ä»ç»“æ„ä¸Šä¿®æ”¹ã€‚</p>
<p>åœ¨éœ€è¦çº¿ç¨‹å®‰å…¨ç¯å¢ƒä¸­ï¼Œå¯ä»¥åœ¨åˆ›å»º HashMap å®ä¾‹æ—¶ä½¿ç”¨ <code>Collections.synchronizedMap</code> æ–¹æ³•å¯¹å…¶è¿›è¡Œâ€œåŒ…è£…â€ï¼Œä»¥é˜²æ­¢å¯¹ HashMap çš„æ„å¤–éåŒæ­¥è®¿é—®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Map</span> <span class="variable">m</span> <span class="operator">=</span> Collection.synchronizedMap(<span class="keyword">new</span> <span class="title class_">HashMap</span> (â€¦));</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ ConcurrentHashMap ä»£æ›¿ HashMapã€‚</p>
<p>æœ€åï¼ŒHashMap çš„æ‰€æœ‰â€œé›†åˆè§†å›¾æ–¹æ³•â€è¿”å›çš„è¿­ä»£å™¨æ˜¯å¿«é€Ÿå¤±è´¥ï¼ˆfail-fastï¼‰çš„ã€‚å¦‚æœåœ¨åˆ›å»ºè¿­ä»£å™¨ä¹‹åï¼Œé™¤äº†é€šè¿‡è¿­ä»£å™¨æœ¬èº«çš„ remove æ–¹æ³•ä¹‹å¤–ï¼Œåœ¨ä»»ä½•æ—¶å€™ä»¥ä»»ä½•æ–¹å¼ä»ç»“æ„ä¸Šä¿®æ”¹ HashMap å®ä¾‹æ—¶ï¼Œè¿­ä»£å™¨éƒ½ä¼šæŠ›å‡º ConcurrentModificationException å¼‚å¸¸ã€‚å› æ­¤ï¼Œåœ¨é¢å¯¹å¹¶å‘ä¿®æ”¹æ—¶ï¼Œè¿­ä»£å™¨ä¼šå¿«é€Ÿã€å¹²å‡€åˆ©è½åœ°å¤±è´¥ï¼Œè€Œä¸æ˜¯åœ¨æœªæ¥æŸä¸ªä¸ç¡®å®šçš„æ—¶é—´å‡ºç°éšæ„çš„ã€ä¸ç¡®å®šçš„è¡Œä¸ºé£é™©ã€‚</p>
<p>æ³¨æ„ï¼Œè¿­ä»£å™¨çš„å¿«é€Ÿå¤±è´¥è¡Œä¸ºæ˜¯æ— æ³•ä¿è¯çš„ï¼Œå› ä¸ºä¸€èˆ¬è€Œè¨€ï¼Œåœ¨å­˜åœ¨éåŒæ­¥å¹¶å‘ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œä¸å¯èƒ½åšå‡ºä»»ä½•ç¡¬ä¿è¯ã€‚å¿«é€Ÿå¤±è´¥çš„è¿­ä»£å™¨ä¼šå°½æœ€å¤§åŠªåŠ›æŠ›å‡º <code>ConcurrentModificationException</code> å¼‚å¸¸ã€‚å› æ­¤ï¼Œç¼–å†™ä¾èµ–äºæ­¤å¼‚å¸¸çš„æ­£ç¡®æ€§çš„ç¨‹åºæ˜¯é”™è¯¯çš„ï¼šè¿­ä»£å™¨çš„å¿«é€Ÿå¤±è´¥è¡Œä¸ºåº”è¯¥åªç”¨äºæ£€æµ‹é”™è¯¯ã€‚</p>
<h2 id="HashMapæ€§èƒ½"><a href="#HashMapæ€§èƒ½" class="headerlink" title="HashMapæ€§èƒ½"></a>HashMapæ€§èƒ½</h2><p>å¦‚æœå“ˆå¸Œå‡½æ•°å¯ä»¥æŠŠå…ƒç´ å‡åŒ€æ‰“æ•£åˆ°ä¸åŒçš„å“ˆå¸Œæ¡¶ä¸­ï¼Œé‚£ä¹ˆ HashMap çš„åŸºæœ¬æ“ä½œï¼ˆget å’Œ putï¼‰èƒ½è¾¾åˆ°å¸¸æ•°çº§æ—¶é—´çš„æ€§èƒ½ã€‚è¿™æ„å‘³ç€ç†æƒ³æƒ…å†µä¸‹ï¼ŒHashMap çš„åŸºæœ¬æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ‰§è¡Œæ—¶é—´ä¸éšæ•°æ®è§„æ¨¡ï¼ˆé”®å€¼å¯¹æ•°é‡ï¼‰çš„å¢å¤§è€Œå¢é•¿ã€‚</p>
<p>ä½†æ˜¯åœ¨çœŸå®çš„æƒ…å†µä¸‹ï¼Œå½“ä½ å¾€ HashMap ä¸­å†™å…¥å¤§é‡æ•°æ®åï¼Œå°±å¯èƒ½å‘ç°æ“ä½œæœ‰æ—¶å€™ä¼šå˜æ…¢äº†ã€‚è¿™å…¶å®æ˜¯å› ä¸ºå“ˆå¸Œå†²çªå’Œæ‰©å®¹å¸¦æ¥çš„æ€§èƒ½å½±å“ã€‚</p>
<p>åœ¨ HashMap ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°â€”â€”<strong>åˆå§‹å®¹é‡ï¼ˆinitial capacityï¼‰å’Œè£…è½½å› å­ï¼ˆload factorï¼‰</strong>ï¼Œä¸å“ˆå¸Œå†²çªå’Œæ‰©å®¹è¿™ä¸¤ä¸ªæ€§èƒ½å› ç´ æœ‰ç›´æ¥å…³ç³»ã€‚</p>
<p>åˆå§‹å®¹é‡ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å“ˆå¸Œè¡¨åˆ›å»ºæ—¶çš„å®¹é‡ï¼Œè¿™é‡Œçš„å®¹é‡æ˜¯æŒ‡å“ˆå¸Œè¡¨çš„å“ˆå¸Œæ¡¶æ•°ã€‚è£…è½½å› å­æ˜¯è¡¡é‡å“ˆå¸Œè¡¨åœ¨å…¶å®¹é‡è‡ªåŠ¨æ‰©å®¹ä¹‹å‰å…è®¸è¾¾åˆ°å¤šæ»¡çš„æŒ‡æ ‡ã€‚å½“å“ˆå¸Œè¡¨ä¸­çš„æ¡ç›®æ•°è¶…è¿‡è´Ÿè½½å› å­å’Œå½“å‰å®¹é‡çš„ä¹˜ç§¯æ—¶ï¼Œå³</p>
<p>æ¡ç›®æ•° &gt;= å“ˆå¸Œè¡¨å®¹é‡ Ã— è£…è½½å› å­</p>
<p>å°†å¯¹å“ˆå¸Œè¡¨è¿›è¡Œé‡æ–°å“ˆå¸Œï¼ˆå³é‡æ–°æ„å»ºå†…éƒ¨æ•°æ®ç»“æ„ï¼‰ï¼Œä½¿å“ˆå¸Œè¡¨çš„æ¡¶æ•°ä¸ºåŸæ¥çš„ä¸¤å€ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œé»˜è®¤çš„è£…è½½å› å­ï¼ˆä¸º 0.75ï¼‰å¯ä»¥åœ¨æ—¶é—´å’Œç©ºé—´çš„å¼€é”€ä¸Šåšåˆ°å¾ˆå¥½çš„æƒè¡¡ã€‚è¾ƒå¤§çš„å€¼è™½ç„¶å¯ä»¥å‡å°‘ç©ºé—´å¼€é”€ï¼Œä½†ä¼šå¢åŠ æŸ¥æ‰¾æˆæœ¬ï¼ˆåæ˜ åœ¨ HashMap çš„å¤§å¤šæ•°æ“ä½œä¸­ï¼ŒåŒ…æ‹¬ get å’Œ put æ“ä½œï¼‰ã€‚</p>
<p>åœ¨è®¾ç½®åˆå§‹å®¹é‡æ—¶ï¼Œåº”è€ƒè™‘æ˜ å°„ä¸­çš„é¢„æœŸæ¡ç›®æ•°åŠå…¶è£…è½½å› å­ï¼Œä»¥å°½é‡å‡å°‘é‡æ–°å“ˆå¸Œæ“ä½œçš„æ¬¡æ•°ã€‚å¦‚æœåˆå§‹å®¹é‡å¤§äºæœ€å¤§æ¡ç›®æ•°é™¤ä»¥è´Ÿè½½å› å­ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿé‡æ–°å“ˆå¸Œæ“ä½œã€‚</p>
<p>å¦‚æœæœ‰å¤§é‡çš„é”®å€¼å¯¹æ•°æ®è¦å­˜å‚¨åœ¨ HashMap å®ä¾‹ä¸­ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºæ—¶å°±æŒ‡å®šä¸€ä¸ªè¶³å¤Ÿå¤§çš„å®¹é‡æ¥å­˜å‚¨è¿™äº›æ•°æ®ï¼Œä¼šæ¯”éšç€è¡¨å¢é•¿çš„éœ€è¦è€Œè‡ªåŠ¨æ‰§è¡Œé‡æ–°å“ˆå¸Œæ›´åŠ é«˜æ•ˆã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨å¤§é‡çš„å…·æœ‰ç›¸åŒå“ˆå¸Œç ï¼ˆhashCode()ï¼‰çš„é”®ï¼Œæ— ç–‘ä¼šé™ä½å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚ä¸ºäº†æ”¹å–„å½±å“ï¼Œå½“é”®æ˜¯å¯æ¯”è¾ƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨é”®ä¹‹é—´çš„æ¯”è¾ƒé¡ºåºæ¥å¸®åŠ©æ‰“ç ´è”ç³»ã€‚</p>
<p>å¦å¤–ï¼Œéå† HashMap æ‰€éœ€çš„æ—¶é—´ä¸ HashMap å®ä¾‹çš„â€œå®¹é‡â€ï¼ˆæŒ‡å“ˆå¸Œæ¡¶æ•°é‡ï¼‰åŠ ä¸Šå…¶å¤§å°ï¼ˆæŒ‡é”®å€¼æ˜ å°„æ•°é‡ï¼‰æˆæ­£æ¯”ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çœ‹é‡éå† HashMap çš„æ€§èƒ½ï¼Œé‚£ä¹ˆä¸è¦æŠŠå®ƒåˆå§‹å®¹é‡è®¾ç½®å¾—å¤ªå¤§æˆ–æŠŠè£…è½½å› å­è®¾ç½®å¾—å¤ªå°å°±éå¸¸é‡è¦äº†ã€‚</p>
<h2 id="TreeMap-Hashtable-å’Œ-HashMap"><a href="#TreeMap-Hashtable-å’Œ-HashMap" class="headerlink" title="TreeMap, Hashtable å’Œ HashMap"></a>TreeMap, Hashtable å’Œ HashMap</h2><p>TreeMap æ˜¯åŸºäºçº¢é»‘æ ‘çš„ä¸€ç§æä¾›é¡ºåºè®¿é—®çš„ Mapï¼Œå’Œ HashMap ä¸åŒï¼Œå®ƒçš„ getã€putã€remove ä¹‹ç±»æ“ä½œéƒ½æ˜¯ Oï¼ˆlog(n)ï¼‰çš„æ—¶é—´å¤æ‚åº¦ï¼Œå…·ä½“é¡ºåºå¯ä»¥ç”±æŒ‡å®šçš„ Comparator æ¥å†³å®šï¼Œæˆ–è€…æ ¹æ®é”®çš„è‡ªç„¶é¡ºåºæ¥åˆ¤æ–­ã€‚</p>
<p>Hashtable å¤§è‡´ç›¸å½“äº HashMap ï¼Œåªæ˜¯ HashMap æ˜¯éçº¿ç¨‹å®‰å…¨çš„å¹¶ä¸”å…è®¸ç©ºå€¼ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHashtable æ˜¯é—ç•™ç±»ï¼Œä¸å»ºè®®åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚åœ¨éçº¿ç¨‹å®‰å…¨ç¯å¢ƒä¸­ï¼Œå¯ä»¥ç›´æ¥ç”¨ HashMap ä»£æ›¿ Hashtableï¼›åœ¨éœ€è¦çº¿ç¨‹å®‰å…¨ç¯å¢ƒä¸­ï¼Œå¯ä»¥ç”¨ ConcurrentHashMap ä»£æ›¿ Hashtableï¼Œå› ä¸º ConcurrentHashMap å¼•å…¥äº†åˆ†æ®µé”ï¼Œå¹¶å‘æ€§æ›´å¥½ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡æ¦‚è¿°äº† HashMap å…è®¸é”®ä¸º null å’Œå€¼ä¸º nullã€ä¸ä¿è¯æœ‰åºæ€§ã€éçº¿ç¨‹å®‰å…¨ã€è¿­ä»£å™¨å¿«é€Ÿå¤±è´¥ï¼ˆfail-overï¼‰ç­‰ç‰¹æ€§ï¼Œå½±å“ HashMap æ€§èƒ½çš„å‚æ•°ï¼Œä»¥åŠåœ¨å®è·µä¸­åº”è¯¥æ³¨æ„çš„åœ°æ–¹ï¼ŒåŒæ—¶åœ¨æ–‡æœ«ç®€å•å¯¹æ¯”äº† TreeMap, Hashtable å’Œ HashMap æœ‰ä»€ä¹ˆä¸åŒã€‚ä¸‹ä¸€ç¯‡æ–‡ç« å¼€å§‹å°†å¯¹ HashMap æ ¸å¿ƒåŠŸèƒ½æºç è¿›è¡Œè§£è¯»ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>HashMapæ ¸å¿ƒåŠŸèƒ½æºç è§£è¯»ï¼ˆäºŒï¼‰ï¼šå“ˆå¸Œå‡½æ•°</title>
    <url>/2021/07/27/hashmap-core-code-analysis-2/</url>
    <content><![CDATA[<blockquote>
<p>å¦‚æ— ç‰¹åˆ«è¯´æ˜ï¼Œæœ¬æ–‡æºç åŸºäº JDK 1.8 è¿›è¡Œè§£è¯»ã€‚</p>
</blockquote>
<p>ä» HashMap çš„æºç ä¸­çš„ <code>get(Object key)</code> å’Œ <code>put(K key, V value)</code> ä¸¤ä¸ªåŸºæœ¬æ“ä½œæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¦ä»ä¸€ä¸ª HashMap ä¸­è·å–æŸä¸ª key å¯¹åº”çš„å“ˆå¸Œæ¡¶ä½ç½®ï¼Œéœ€è¦å…ˆé€šè¿‡ <code>hash(Object key)</code> æ–¹æ³•è®¡ç®—å‡º hash å€¼ï¼Œå†é€šè¿‡ä½è¿ç®— <code>(n - 1) &amp; hash</code> å¾—å‡ºå“ˆå¸Œæ¡¶ä½ç½®ã€‚</p>
<p>ç›¸å…³æºç å¦‚ä¸‹ï¼ˆè¿™é‡Œä»¥ <code>get(Object key)</code> æ–¹æ³•ä¸ºå…¥å£ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å– key çš„å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">    <span class="type">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="literal">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– key å¯¹åº”çš„å€¼</span></span><br><span class="line"><span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="literal">null</span> ? <span class="literal">null</span> : e.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– key å¯¹åº”çš„å€¼ï¼Œå…·ä½“è·å–é€»è¾‘</span></span><br><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title function_">getNode</span><span class="params">(<span class="type">int</span> hash, Object key)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="type">int</span> n; K k;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="literal">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">            ((k = first.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line">        <span class="keyword">if</span> ((e = first.next) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">return</span> e;</span><br><span class="line">            &#125; <span class="keyword">while</span> ((e = e.next) != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŠŠ HashMap çš„å“ˆå¸Œå‡½æ•°å½’ç»“ä¸ºä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>è®¡ç®— key çš„å“ˆå¸Œå€¼ hashï¼›</li>
<li>å°†å“ˆå¸Œæ¡¶æ•°é‡ n å‡å» 1ï¼Œå†ä¸å“ˆå¸Œå€¼ hash åšæŒ‰ä½ä¸è¿ç®—ã€‚</li>
</ul>
<p>å…·ä½“çš„å“ˆå¸Œé€»è¾‘å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://i.loli.net/2021/07/23/KYjLohqnFcp5ewz.png" alt="å“ˆå¸Œé€»è¾‘"></p>
<p>å…¶ä¸­ï¼Œ h ä¸º key çš„å“ˆå¸Œç ï¼ˆé€šè¿‡ <code>hashCode()</code> è·å–ï¼‰ï¼Œhash ä¸º key çš„å“ˆå¸Œå€¼ï¼Œpos ä¸ºå“ˆå¸Œæ¡¶ä½ç½®ï¼ˆå“ˆå¸Œæ•°ç»„ä¸‹æ ‡ï¼‰ã€‚</p>
<p>æ•´ä¸ªé€»è¾‘æ¯”è¾ƒç®€å•ï¼Œä¹Ÿç¬¦åˆå“ˆå¸Œå‡½æ•°çš„ç®€å•é«˜æ•ˆçš„ç‰¹æ€§ã€‚ä¸è¿‡ï¼Œä½ å¯èƒ½ä¼šå¯¹å…¶ä¸­ä¸¤ä¸ªä½è¿ç®—çš„æ­¥éª¤æ„Ÿåˆ°ç–‘æƒ‘ï¼š</p>
<ul>
<li>ç¬¬ä¸€ï¼Œä¸ºä»€ä¹ˆ hash è¦å– <code>h ^ (h &gt;&gt;&gt; 16)</code>ï¼Œç›´æ¥å– h ä¸è¡Œå—ï¼Ÿ</li>
<li>ç¬¬äºŒï¼Œä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯ <code>(n - 1) &amp; hash</code>ï¼Œè€Œä¸æ˜¯å¸¸ç”¨çš„å–æ¨¡è¿ç®— <code>hash % n</code>ï¼Ÿ </li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±èŠèŠè¿™ä¸¤ä¸ªé—®é¢˜ã€‚ä½œä¸ºä¸€ä¸ªå¸¸ç”¨çš„æ˜ å°„ç±»ï¼Œä¸ºäº†å°½å¯èƒ½æå‡ HashMap çš„æ€§èƒ½ï¼ŒJDK çš„å¼€å‘è€…éƒ½åšäº†å“ªäº›å·§å¦™çš„è®¾è®¡å’Œä¼˜åŒ–ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œå› ä¸ºçŸ¥é“äº† <code>(n - 1) &amp; hash</code> æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼Œå°±ä¼šå¾ˆå®¹æ˜“ç†è§£ hash å€¼ä¸ç›´æ¥ä½¿ç”¨ hï¼Œè€Œæ˜¯ç”¨ <code>h ^ (h &gt;&gt;&gt; 16)</code> çš„åŸå› ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯-n-1-amp-hashï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯-n-1-amp-hashï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯ (n - 1) &amp; hashï¼Ÿ"></a>ä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯ <code>(n - 1) &amp; hash</code>ï¼Ÿ</h2><p>è¿™é‡Œçš„ n ä»£è¡¨å“ˆå¸Œè¡¨çš„é•¿åº¦ï¼ˆæˆ–ç§°å“ˆå¸Œæ¡¶æ•°é‡ï¼Œå¯¹åº” HashMap æ•°ç»„ç»“æ„çš„å¤§å°ï¼‰ï¼Œå…¶å¤§å°è¢«è®¾è®¡ä¸º 2 çš„å¹‚ï¼Œå¦‚ </p>
<p>$$<br>2^0, 2^1, 2^2,â‹¯, 2^m<br>$$</p>
<p>è¿™ä¹ˆè®¾è®¡æ˜¯å› ä¸ºæ°å¥½å¯ä»¥ä¿è¯ <code>(n - 1) &amp; hash</code> çš„è¿ç®—ç»“æœçš„èŒƒå›´æ€»æ˜¯åœ¨ [0, n-1] å†…ï¼Œå³æ€»æ˜¯åœ¨ HashMap æ•°ç»„çš„ä¸‹æ ‡ä¹‹å†…ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>å½“ hash = 7ï¼Œn = 16 æ—¶ï¼Œ(n - 1) &amp; hash = 7ï¼›</p>
<p>å½“ hash = 19ï¼Œn = 16 æ—¶ï¼Œ(n - 1) &amp; hash = 3ï¼›</p>
<p>å½“ hash = -9ï¼Œn = 16 æ—¶ï¼Œ(n - 1) &amp; hash = 7ã€‚</p>
<p>å¯è¿è¡Œä»¥ä¸‹ä»£ç è¿›è¡Œæ ¡éªŒï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashMapTmpApp</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// å“ˆå¸Œè¡¨é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">16</span>;</span><br><span class="line">        <span class="comment">// hashCodeæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] hashCodes = &#123;<span class="number">7</span>, <span class="number">19</span>, -<span class="number">9</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> hash : hashCodes) &#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;(%d - 1) &amp; %d = %d \r\n&quot;</span>, n, hash, (n - <span class="number">1</span>) &amp; hash);</span><br><span class="line">            System.out.println(hash % <span class="number">16</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">    (16 - 1) &amp; 7 = 7</span></span><br><span class="line"><span class="comment">    (16 - 1) &amp; 19 = 3</span></span><br><span class="line"><span class="comment">    (16 - 1) &amp; -9 = 7</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¸ºä»€ä¹ˆå“ˆå¸Œè¡¨çš„é•¿åº¦è¢«è®¾è®¡ä¸º 2 çš„å¹‚æ—¶ï¼Œ<code>(n - 1) &amp; hash</code> çš„ç»“æœæ°å¥½å¯ä»¥ä¿è¯åœ¨å“ˆå¸Œæ•°ç»„èŒƒå›´ [0, n-1] å†…å‘¢ï¼Ÿ</p>
<p>åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æŒ‰ä½ä¸è¿ç®—çš„è§„åˆ™ï¼š</p>
<p>$$<br>1\&amp;1=1<br>$$</p>
<p>$$<br>1\&amp;0=0<br>$$</p>
<p>$$<br>0\&amp;1=0<br>$$</p>
<p>$$<br>0\&amp;0=0<br>$$</p>
<p>å½“å¯¹åº”çš„ä¸¤ä¸ªäºŒè¿›ä½æ•°éƒ½ä¸º 1 æ—¶ï¼Œç›¸åº”çš„ç»“æœä½æ‰ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚</p>
<p>å…¶å®è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒâ€œéšè”½çš„è§„å¾‹æˆ–è€…ç°è±¡â€ï¼š<strong>å½“ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—æ—¶ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªäºŒè¿›åˆ¶æ•°çš„æŸä¸€ä¸ªä½ä¸º 1ï¼Œåˆ™æŒ‰ä½ä¸è¿ç®—çš„ç»“æœçš„ç›¸åº”ä½ä¸Šæ˜¯ä¿ç•™äº†å¦ä¸€ä¸ªäºŒè¿›åˆ¶æ•°åœ¨è¯¥ä½ä¸Šçš„æ•°ã€‚</strong></p>
<p>æœ‰ç‚¹ç»•å£ï¼Œæˆ‘ä»¬ä¸¾ä¾‹æ¥è¯´æ˜ã€‚</p>
<p>å‡è®¾å­˜åœ¨ä¸¤ä¸ªäºŒè¿›åˆ¶æ•° A å’Œ Bï¼Œ å…¶ä¸­ï¼ŒA = 1100ï¼Œç¬¬ä¸‰ã€å››ä½éƒ½ä¸º 1ï¼Œ</p>
<p>å½“ B = 0110 æ—¶ï¼ŒA &amp; B = 0100ï¼Œè¿ç®—ç»“æœçš„ç¬¬ä¸‰ä½ä¸º 1ï¼Œç¬¬å››ä½ä¸º 0ï¼Œå³ä¿ç•™äº†äºŒè¿›åˆ¶æ•° B çš„ç¬¬ä¸‰ã€å››ä½ä¸Šçš„æ•°ï¼›</p>
<p>å½“ B = 1001 æ—¶ï¼ŒA &amp; B = 1000ï¼Œè¿ç®—ç»“æœçš„ç¬¬ä¸‰ä½ä¸º 0ã€ç¬¬å››ä½ä¸º 1ï¼Œå³ä¿ç•™äº†äºŒè¿›åˆ¶æ•° B çš„ç¬¬ä¸‰ã€å››ä½ä¸Šçš„æ•°ï¼›</p>
<p>ç†è§£äº†æŒ‰ä½ä¸è¿ç®—çš„è¿™ä¸€è§„å¾‹ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ n å’Œ n - 1 çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„è§„å¾‹ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå“ˆå¸Œè¡¨çš„é•¿åº¦ n è¢«è®¾è®¡ä¸º 2 çš„å¹‚ï¼Œæˆ‘ä»¬è®°ä¸º </p>
<p>$$<br>n = 2 ^ mï¼Œm = 1, 2, 3, â‹¯<br>$$</p>
<p>å½“ m = 1 æ—¶ï¼Œn = 2ï¼Œn - 1 = 1ï¼Œå…¶å¯¹åº”çš„äºŒè¿›åˆ¶å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>åè¿›åˆ¶</th>
<th>äºŒè¿›åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>n</td>
<td>2</td>
<td>0000 0000 0000 0000 0000 0000 0000 0010</td>
</tr>
<tr>
<td>n - 1</td>
<td>1</td>
<td>0000 0000 0000 0000 0000 0000 0000 0001</td>
</tr>
</tbody></table>
<p>å½“ m = 2 æ—¶ï¼Œn = 4, n - 1 = 3ï¼Œå…¶å¯¹åº”çš„äºŒè¿›åˆ¶å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>åè¿›åˆ¶</th>
<th>äºŒè¿›åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>n</td>
<td>4</td>
<td>0000 0000 0000 0000 0000 0000 0000 0100</td>
</tr>
<tr>
<td>n - 1</td>
<td>3</td>
<td>0000 0000 0000 0000 0000 0000 0000 0011</td>
</tr>
</tbody></table>
<p>å½“ m = 3 æ—¶ï¼Œn = 8, n - 1 = 7ï¼Œå…¶å¯¹åº”çš„äºŒè¿›åˆ¶å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>åè¿›åˆ¶</th>
<th>äºŒè¿›åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>n</td>
<td>8</td>
<td>0000 0000 0000 0000 0000 0000 0000 1000</td>
</tr>
<tr>
<td>n - 1</td>
<td>7</td>
<td>0000 0000 0000 0000 0000 0000 0000 0111</td>
</tr>
</tbody></table>
<p>å½“ m = 4 æ—¶ï¼Œn = 16, n - 1 = 15ï¼Œå…¶å¯¹åº”çš„äºŒè¿›åˆ¶å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>åè¿›åˆ¶</th>
<th>äºŒè¿›åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>n</td>
<td>16</td>
<td>0000 0000 0000 0000 0000 0000 0001 0000</td>
</tr>
<tr>
<td>n - 1</td>
<td>15</td>
<td>0000 0000 0000 0000 0000 0000 0000 1111</td>
</tr>
</tbody></table>
<p>å¯ä»¥å‘ç°ï¼Œ$n=2^m$ çš„äºŒè¿›åˆ¶å½¢å¼ä¸º 1 åé¢è·Ÿç€ m ä¸ª 0ï¼Œ$n-1=2^m-1$ çš„äºŒè¿›åˆ¶å½¢å¼ä¸ºåé¢æœ‰ m ä¸ª 1ã€‚</p>
<p>ç»“åˆä»¥ä¸Šçš„æŒ‰ä½ä¸è¿ç®—è§„å¾‹å’ŒäºŒè¿›åˆ¶æ•°è§„å¾‹ï¼Œå¯ä»¥å¾—å‡ºè¿™ä¸ªç»“è®ºï¼Œæ— è®º hash çš„å€¼æ˜¯å¤šå°‘ï¼Œå°†å…¶è½¬æˆäºŒè¿›åˆ¶ï¼Œè·Ÿ n - 1 çš„äºŒè¿›åˆ¶è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—ï¼Œå¾—åˆ°äºŒè¿›åˆ¶ç»“æœï¼Œå‰ (32 - m) ä½éƒ½ä¸º 0ï¼Œå m ä½ä¸º hash çš„äºŒè¿›åˆ¶æ•°çš„å m ä½ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´äºŒè¿›åˆ¶çš„ç»“æœå¤§å°è¢«é™åˆ¶åœ¨å m ä½ï¼Œå¯¹åº”åè¿›åˆ¶å¤§å°èŒƒå›´å°±æ˜¯ $0$ åˆ° $2^m-1$ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾å“ˆå¸Œè¡¨é•¿åº¦ n = 16ï¼Œå³ $n=2^4$ï¼Œé‚£ä¹ˆ $n - 1 = 15$ï¼Œå…¶å¯¹åº”çš„äºŒè¿›åˆ¶ä¸ºï¼š</p>
<p>0000 0000 0000 0000 0000 0000 0000 1111ã€‚</p>
<p>å°†å…¶ä¸ hash çš„äºŒè¿›åˆ¶æ•°è¿›è¡ŒæŒ‰ä½ä¸è¿ç®—ï¼Œå¾—åˆ°äºŒè¿›åˆ¶ç»“æœï¼Œå‰ 28 ä½éƒ½ä¸º 0ï¼Œå 4 ä½ä¸º hash äºŒè¿›åˆ¶æ•°çš„å 4 ä½ï¼Œç›¸å½“äºä¿ç•™ hash çš„äºŒè¿›åˆ¶æ•°å 4 ä½ã€‚</p>
<p>æ‰€ä»¥ï¼Œ</p>
<p>0000 0000 0000 0000 0000 0000 0000 1111 &amp; hash </p>
<p>çš„ç»“æœä¸€å®šæ˜¯åœ¨</p>
<p>0000 0000 0000 0000 0000 0000 0000 0000 </p>
<p>åˆ°</p>
<p>0000 0000 0000 0000 0000 0000 0000 1111 </p>
<p>ä¹‹é—´ï¼Œå¯¹åº”çš„åè¿›åˆ¶èŒƒå›´å°±æ˜¯ [0, 15]ã€‚</p>
<p>åˆ°è¿™é‡Œï¼Œåº”è¯¥èƒ½ç†è§£é€šè¿‡ä½è¿ç®— <code>(n - 1) &amp; hash</code> å¾—åˆ°çš„ç»“æœï¼Œæœ€ç»ˆä¹Ÿèƒ½æ­£ç¡®æ˜ å°„åˆ°å“ˆå¸Œæ¡¶çš„ä½ç½®ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä½è¿ç®—æ˜¯è®¡ç®—æœºåº•å±‚çš„æ“ä½œï¼Œè¿è¡Œé€Ÿåº¦è¦æ¯”æ¨¡è¿ç®—å¿«ã€‚è€Œä¸”ï¼Œå¦‚æœä½¿ç”¨ <code>hash % n</code> æ¥è®¡ç®—å“ˆå¸Œæ¡¶ä½ç½®ï¼Œè¿˜è¦è€ƒè™‘ hash å°äº 0 çš„æƒ…å†µã€‚åœ¨è¿½æ±‚æè‡´æ€§èƒ½ä¸Šï¼Œå¤šä¸€ä¸ªå°å°çš„åˆ¤æ–­æ— ç–‘éƒ½ä¼šé€ æˆæ€§èƒ½çš„æŸè€—ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè·å–å“ˆå¸Œæ¡¶ä½ç½®æ˜¯ <code>(n - 1) &amp; hash</code>ï¼Œè€Œä¸æ˜¯ <code>hash % n</code> çš„åŸå› ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯<strong>é€šè¿‡ä½è¿ç®—æ¥æå‡å“ˆå¸Œè¡¨æ€§èƒ½ã€‚</strong></p>
<p>ç†è§£äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼Œç°åœ¨æˆ‘ä»¬å›è¿‡å¤´æ¥çœ‹ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆ-hash-è¦å–-h-h-gt-gt-gt-16-ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-hash-è¦å–-h-h-gt-gt-gt-16-ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ hash è¦å– h ^ (h &gt;&gt;&gt; 16)ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ hash è¦å– <code>h ^ (h &gt;&gt;&gt; 16)</code>ï¼Ÿ</h2><p>é€šè¿‡ä¸Šé¢çš„åˆ†æçŸ¥é“ï¼Œ<code>(n - 1) &amp; hash</code> çš„è¿ç®—ç»“æœå°±æ˜¯ä¿ç•™äº† hash çš„äºŒè¿›åˆ¶æ•°å m ä½ï¼Œå…¶ä¸­ï¼Œ$n = 2^m$ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œåªè¦ hash å€¼çš„äºŒè¿›åˆ¶æ•°å m ä½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆæœ€ç»ˆè®¡ç®—å‡ºæ¥çš„å“ˆå¸Œæ¡¶ä½ç½® pos è‚¯å®šéƒ½æ˜¯ä¸€æ ·çš„ï¼ˆæˆ‘ä»¬æŠŠè¿™ç§°ä¸º<strong>å“ˆå¸Œå†²çª</strong>ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“ m = 4 æ—¶ï¼Œn = 16ï¼Œä»¥ä¸‹ hash å€¼ï¼Œå®ƒä»¬çš„äºŒè¿›åˆ¶æ•°å 4 ä½ç›¸åŒï¼Œéƒ½ä¸º 1011ï¼Œé‚£ä¹ˆé€šè¿‡ <code>(n - 1) &amp; hash</code> è®¡ç®—å‡ºçš„å“ˆå¸Œæ¡¶ä½ç½®éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>0000 0100 0000 0000 0000 0000 1000 1011ï¼Œ<br>0000 0110 0000 0000 0000 0000 0100 1011ï¼Œ<br>0000 0001 0000 0000 0000 1111 0100 1011ï¼Œ<br>0011 0010 0000 0000 0000 1000 0000 1011ã€‚</p>
<p>è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>(n - 1) &amp; hash = 15 &amp; hash</p>
<p>è½¬ä¸ºäºŒè¿›åˆ¶ï¼š</p>
<p>0000 0000 0000 0000 0000 0000 0000 1111 &amp; hash</p>
<p>å°†ä¸Šä¾‹ hash å€¼çš„äºŒè¿›åˆ¶æ•°ä»£å…¥ï¼Œæœ€ç»ˆè®¡ç®—å‡ºçš„ç»“æœä¸ºï¼š</p>
<p>0000 0000 0000 0000 0000 0000 0000 1011ã€‚</p>
<p>ä¸ºäº†é™ä½è¿™ç§å“ˆå¸Œå†²çªçš„æ¦‚ç‡ï¼ŒJDK çš„å¼€å‘è€…é€šè¿‡åˆå¹¶ h çš„é«˜ä½å’Œä½ä½æ¥å¢åŠ éšæœºæ€§ã€‚å…·ä½“çš„æ“ä½œå°±æ˜¯å°† h æ— ç¬¦å·å³ç§» 16 ä½ï¼Œå¹¶å°† h ä¸å³ç§»åçš„ç»“æœè¿›è¡Œäº†å¼‚æˆ–è¿ç®—ã€‚</p>
<p>å¦‚å°†äºŒè¿›åˆ¶æ•° h = 0000 0100 0100 0001 0000 0000 1000 1011 æ— ç¬¦å·å³ç§» 16 ä½ï¼Œç»“æœä¸ºï¼š</p>
<p>h &gt;&gt;&gt; 16 = 0000 0000 0000 0000 0000 0100 0100 0001</p>
<p>é€šè¿‡å¼‚æˆ–è¿ç®—åˆå¹¶ h çš„é«˜ä½å’Œä½ä½ï¼š</p>
<p>h ^ (h &gt;&gt;&gt; 16) =<br>0000 0100 0100 0001 0000 0000 1000 1011 ^<br>0000 0000 0000 0000 0000 0100 0100 0001 =<br>0000 0100 0100 0001 0000 0100 1100 1010</p>
<p>æœ€åå†é€šè¿‡æŒ‰ä½ä¸è¿ç®—è®¡ç®—å‡ºå“ˆå¸Œæ¡¶ä½ç½®ï¼š</p>
<p>(n - 1) &amp; hash =<br>0000 0000 0000 0000 0000 0000 0000 1111 &amp;<br>0000 0100 0100 0001 0000 0100 1100 1010 =<br>0000 0000 0000 0000 0000 0000 0000 1010</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè™½ç„¶ h çš„å 4 ä½ 1011 è·Ÿä¸Šé¢ä¾‹å­ä¸­çš„äºŒè¿›åˆ¶å 4 ä½ç›¸åŒï¼Œä½†ç»è¿‡åˆå¹¶é«˜ä½å’Œä½ä½ï¼Œæœ€ç»ˆè®¡ç®—å‡ºçš„å“ˆå¸Œæ¡¶ä½ç½®æ˜¯ä¸åŒçš„ã€‚è¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†å“ˆå¸Œå†²çªçš„æ¦‚ç‡ã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™ä»…ä»…æ˜¯ä¸€ç§åœ¨é€Ÿåº¦ã€å®ç”¨æ€§å’Œä½è¿ç®—è´¨é‡æ–¹é¢çš„ä¸€ç§æŠ˜è¡·æ–¹å¼ã€‚å› ä¸ºå³ä½¿ä¸é€šè¿‡åˆå¹¶é«˜ä½å’Œä½ä½çš„æ–¹å¼å¤„ç†ï¼Œè®¸å¤šå¸¸è§çš„å“ˆå¸Œå€¼æœ¬æ¥ä¹Ÿèƒ½åˆç†å‡åŒ€åˆ†å¸ƒï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸ä¼šä»è¿™ç§æ–¹å¼ä¸­å—ç›Šã€‚å¹¶ä¸”ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå½“å­˜åœ¨å¤§é‡å“ˆå¸Œå†²çªæ—¶ï¼ŒHashMap è¿˜ä¼šæŠŠé“¾è¡¨è¿›è¡Œæ ‘åŒ–ï¼Œå³è½¬åŒ–ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç†ã€‚æ‰€ä»¥ï¼Œé€šè¿‡å³ç§»å’Œå¼‚æˆ–è¿ç®—ï¼Œæ˜¯åœ¨å°½å¯èƒ½å°‘å½±å“åŸæœ¬æ€§èƒ½çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡åˆå¹¶é«˜ä½å’Œä½ä½æ¥å¢åŠ éšæœºæ€§ã€‚å¦åˆ™ï¼Œé«˜ä½ä¸Šçš„æ•°å¯èƒ½æ°¸è¿œä¸ä¼šå‚ä¸åˆ°å“ˆå¸Œæ¡¶ä½ç½®çš„è®¡ç®—ä¸­ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯<strong>é€šè¿‡åˆå¹¶ key çš„ hashCode å€¼çš„é«˜ä½å’Œä½ä½ï¼Œä»¥æ­¤æ¥åŠ å¤§éšæœºæ€§ï¼Œä»è€Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½å“ˆå¸Œå†²çªæ¦‚ç‡ã€‚</strong></p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡é€šè¿‡æºç åˆ†æäº† HashMap çš„å“ˆå¸Œå‡½æ•°ï¼Œå¹¶ç€é‡åˆ†æäº†å‡½æ•°ä¸­çš„æ‰€ä½¿ç”¨åˆ°ä½è¿ç®—ã€‚æŠŠ key çš„ hashCode å€¼ä»é«˜ä½ç§»åˆ°ä½ä½ï¼Œå¹¶ä½¿ç”¨å¼‚æˆ–è¿ç®—ï¼Œç›®çš„æ˜¯é™ä½å“ˆå¸Œå†²çªæ¦‚ç‡ã€‚ä½¿ç”¨æŒ‰ä½ä¸è¿ç®—ä»£æ›¿å–æ¨¡è¿ç®—ï¼Œåˆ™æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ã€‚</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ˆè°ˆå¼‚æˆ–è¿ç®—</title>
    <url>/2021/08/02/bitwise-operation-xor-trick/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡ª Florian äº 2020 å¹´ 3 æœˆå‘è¡¨çš„ä¸€ç¯‡è‹±æ–‡åšå®¢<a href="https://florian.github.io/xor-trick/">ã€ŠThat XOR Trickã€‹</a>ã€‚</p>
<hr>
<p>æœ‰ä¸€å¤§å †æµè¡Œçš„é¢è¯•é—®é¢˜å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€è§£å†³ï¼šè¦ä¹ˆä»¥åˆç†çš„æ–¹å¼ä½¿ç”¨å¸¸è§çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè¦ä¹ˆä»¥ä¸€ç§çœ‹ä¼¼éš¾ä»¥ç†è§£çš„æ–¹å¼ä½¿ç”¨å¼‚æˆ–è¿ç®— XOR çš„æŸäº›ç‰¹æ€§ã€‚</p>
<p>è™½ç„¶åœ¨é¢è¯•ä¸­æŒ‡æœ›å¼‚æˆ–è¿ç®— XOR è§£å†³æ–¹æ¡ˆä¼¼ä¹å¹¶ä¸åˆç†ï¼Œä½†å¼„æ¸…æ¥šå®ƒä»¬çš„å·¥ä½œåŸç†è¿˜æ˜¯å¾ˆæœ‰è¶£çš„ã€‚å®é™…ä¸Šï¼Œå®ƒä»¬éƒ½åŸºäºåŒä¸€ä¸ªåŸºæœ¬çªé—¨ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­ä»¥è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼å°†å…¶æ¨å¯¼å‡ºæ¥ã€‚ä¹‹åæˆ‘ä»¬å†æ¥çœ‹ XOR çªé—¨çš„ä¸€ç³»åˆ—åº”ç”¨ï¼Œä¾‹å¦‚è§£å†³ä»¥ä¸‹è¿™ä¸ªæµè¡Œçš„é¢è¯•é¢˜ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªç”± n - 1 ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ï¼Œè¿™äº›æ•´æ•°çš„èŒƒå›´åœ¨ 1 åˆ° n ä¹‹é—´ã€‚é™¤äº†ä¸€ä¸ªæ•°å­—ç¼ºå¤±ä¹‹å¤–ï¼Œå…¶ä½™æ¯ä¸ªæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ‰¾å‡ºè¿™ä¸ªç¼ºå¤±çš„æ•°å­—ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œæœ‰è®¸å¤šç›´æˆªäº†å½“çš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿˜æœ‰ä¸€ç§å¯èƒ½ä»¤äººæ„æƒ³ä¸åˆ°çš„æ–¹æ³•â€”â€”ä½¿ç”¨ XORã€‚</p>
<h2 id="XOR"><a href="#XOR" class="headerlink" title="XOR"></a>XOR</h2><p>XOR æ˜¯ä¸€ç§åº”ç”¨äºä½çš„é€»è¾‘è¿ç®—ç¬¦ã€‚æˆ‘ä»¬ç”¨ <code>^</code> è¡¨ç¤ºå®ƒã€‚å¦‚æœå®ƒä½œä¸ºè¾“å…¥æºå¸¦çš„ä¸¤ä¸ªä½æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆå®ƒçš„ç»“æœå°±ä¸º 0ï¼Œå¦åˆ™å°±ä¸º 1ã€‚è¿™å®ç°äº†ä¸€ä¸ªå¼‚æˆ–è¿ç®—ï¼Œå³åªæœ‰ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ 1 æ‰èƒ½ä½¿æœ€ç»ˆç»“æœä¸º 1ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çœŸå€¼è¡¨æ¥è¯æ˜è¿™ä¸€ç‚¹ï¼š</p>
<table>
<thead>
<tr>
<th><code>x</code></th>
<th><code>y</code></th>
<th><code>x ^ y</code></th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody></table>
<p>å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€å°† <code>^</code> å®ç°ä¸ºæŒ‰ä½è¿ç®—ç¬¦ï¼Œè¿™æ„å‘³ç€ XOR å•ç‹¬åº”ç”¨äºä½ä¸²ï¼ˆä¾‹å¦‚ä¸€ä¸ªå­—èŠ‚ï¼‰ä¸­çš„æ¯ä¸ªä½ã€‚</p>
<p>ä¾‹å¦‚ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0011 ^ 0101 = 0110 </span><br></pre></td></tr></table></figure>

<p>å› ä¸º </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 ^ 0 = 0 </span><br><span class="line"></span><br><span class="line">0 ^ 1 = 1 </span><br><span class="line"></span><br><span class="line">1 ^ 0 = 1 </span><br><span class="line"></span><br><span class="line">1 ^ 1 = 0 </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°† XOR åº”ç”¨äºä»»ä½•äº‹ç‰©ï¼Œè€Œä¸ä»…ä»…æ˜¯å¸ƒå°”å€¼ã€‚</p>
<h2 id="æ¨å¯¼å‡ºä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§"><a href="#æ¨å¯¼å‡ºä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§" class="headerlink" title="æ¨å¯¼å‡ºä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§"></a>æ¨å¯¼å‡ºä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§</h2><p>æˆ‘ä»¬å¯ä»¥ä»ä¹‹å‰çš„å®šä¹‰ä¸­æ¨å¯¼å‡ºä¸€å †ç‰¹æ€§ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€ä¸€æ¢³ç†ä¸€éï¼Œç„¶åç»„åˆèµ·æ¥è§£å†³å‰é¢æåˆ°çš„é¢è¯•é¢˜ã€‚</p>
<h3 id="æ’ç­‰å¾‹ï¼šx-0-x"><a href="#æ’ç­‰å¾‹ï¼šx-0-x" class="headerlink" title="æ’ç­‰å¾‹ï¼šx ^ 0 = x"></a>æ’ç­‰å¾‹ï¼š<code>x ^ 0 = x</code></h3><p>å¦‚æœ XOR çš„ä¸¤ä¸ªå‚æ•°ä¹‹ä¸€ä¸º 0ï¼Œåˆ™å‰©ä½™çš„é‚£ä¸ªå‚æ•°å°±æ˜¯ç»“æœã€‚è¯¥ç»“è®ºå¯é€šè¿‡æ£€æŸ¥ä»¥ä¸‹çœŸå€¼è¡¨ä¸­ <code>y = 0</code> çš„è¡Œï¼ˆå³ç¬¬ä¸€è¡Œå’Œç¬¬ä¸‰è¡Œï¼‰ç›´æ¥å¾—å‡ºï¼š</p>
<table>
<thead>
<tr>
<th align="center"><code>x</code></th>
<th align="center"><code>y</code></th>
<th align="center"><code>x ^ y</code></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>0</strong></td>
<td align="center"><strong>0</strong></td>
<td align="center"><strong>0</strong></td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"><strong>1</strong></td>
<td align="center"><strong>0</strong></td>
<td align="center"><strong>1</strong></td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody></table>
<h3 id="å½’é›¶å¾‹ï¼šx-x-0"><a href="#å½’é›¶å¾‹ï¼šx-x-0" class="headerlink" title="å½’é›¶å¾‹ï¼šx ^ x = 0"></a>å½’é›¶å¾‹ï¼š<code>x ^ x = 0</code></h3><p>å¦‚æœä¸¤ä¸ªå‚æ•°ç›¸åŒï¼Œåˆ™ç»“æœå§‹ç»ˆä¸º 0ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥çœŸå€¼è¡¨å¾—å‡ºè¯¥ç»“è®ºã€‚è¿™æ¬¡æˆ‘ä»¬æ£€æŸ¥ <code>x = y</code> çš„è¡Œï¼Œå³ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œã€‚</p>
<table>
<thead>
<tr>
<th align="center"><code>x</code></th>
<th align="center"><code>y</code></th>
<th align="center"><code>x ^ y</code></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>0</strong></td>
<td align="center"><strong>0</strong></td>
<td align="center"><strong>0</strong></td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"><strong>1</strong></td>
<td align="center"><strong>1</strong></td>
<td align="center"><strong>0</strong></td>
</tr>
</tbody></table>
<p>ç›´è§‚åœ°è¯´ï¼Œè¿™æ„å‘³ç€å¦‚æœæˆ‘ä»¬å¯¹ç›¸åŒçš„å‚æ•°åº”ç”¨ XORï¼Œå®ƒä»¬ä¼šç›¸äº’æŠµæ¶ˆã€‚</p>
<h3 id="äº¤æ¢å¾‹ï¼šx-y-y-x"><a href="#äº¤æ¢å¾‹ï¼šx-y-y-x" class="headerlink" title="äº¤æ¢å¾‹ï¼šx ^ y = y ^ x"></a>äº¤æ¢å¾‹ï¼š<code>x ^ y = y ^ x</code></h3><p>XOR æ˜¯å¯äº¤æ¢çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ›´æ”¹åº”ç”¨ XOR çš„é¡ºåºã€‚ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ <code>x ^ y</code> å’Œ <code>y ^ x</code> çš„çœŸå€¼è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th align="center"><code>x</code></th>
<th align="center"><code>y</code></th>
<th align="center"><code>x ^ y</code></th>
<th align="center"><code>y ^ x</code></th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody></table>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œ<code>x ^ y</code> å’Œ <code>y ^ x</code> æ€»æ˜¯ä»¥ç›¸åŒçš„å€¼ç»“æŸã€‚</p>
<h3 id="XOR-æ“ä½œåºåˆ—"><a href="#XOR-æ“ä½œåºåˆ—" class="headerlink" title="XOR æ“ä½œåºåˆ—"></a>XOR æ“ä½œåºåˆ—</h3><p>é€šè¿‡ç»“åˆä»¥ä¸Šè¿™äº›è§„å¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºä»¥ä¸‹è¿™ä¸ªä¸€åˆ‡èƒŒåçš„æ ¸å¿ƒå¯è¿ªï¼š</p>
<blockquote>
<p><strong>XOR è¯€çªï¼š</strong>å¦‚æœå­˜åœ¨ä¸€ä¸ª XOR æ“ä½œç³»åˆ— <code>a ^ b ^ c ^ ...</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ é™¤æ‰€æœ‰æˆå¯¹çš„é‡å¤å€¼è€Œä¸å½±å“ç»“æœã€‚</p>
</blockquote>
<p>äº¤æ¢å¾‹å…è®¸æˆ‘ä»¬å¯ä»¥å¯¹ XOR è¿›è¡Œé‡æ–°æ’åºï¼Œä»¥ä¾¿ä½¿é‡å¤çš„å…ƒç´ å½¼æ­¤ç›¸é‚»ã€‚ç”±äº <code>x ^ x = 0</code> å’Œ <code>a ^ 0 = a</code>ï¼Œæ‰€ä»¥æ¯ä¸€å¯¹é‡å¤å€¼å¯¹ç»“æœæ²¡æœ‰å½±å“ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> a ^ b ^ c ^ a ^ b      # åº”ç”¨äº¤æ¢ç‡</span><br><span class="line">= a ^ a ^ b ^ b ^ c     # åº”ç”¨ x ^ x = 0</span><br><span class="line">= 0 ^ 0 ^ c             # åº”ç”¨ x ^ 0 = x (å’Œäº¤æ¢ç‡)</span><br><span class="line">= c</span><br></pre></td></tr></table></figure>

<p>å› ä¸º <code>^</code> æ˜¯ä¸€ä¸ªæŒ‰ä½è¿ç®—ç¬¦ï¼Œæ‰€ä»¥ä¸ç®¡ <code>a</code>ã€<code>b</code> å’Œ <code>c</code> æ˜¯ä»€ä¹ˆç±»å‹çš„å€¼ï¼Œè¿™éƒ½ä¼šèµ·ä½œç”¨ã€‚è¿™ä¸ªè¯€çªå®é™…ä¸Šæ˜¯ XOR åœ¨è®¸å¤šæƒ…å†µä¸‹çœ‹ä¼¼ç¥å¥‡ä½¿ç”¨çš„æ ¸å¿ƒã€‚</p>
<h2 id="åº”ç”¨ä¸€ï¼šå°±åœ°äº¤æ¢"><a href="#åº”ç”¨ä¸€ï¼šå°±åœ°äº¤æ¢" class="headerlink" title="åº”ç”¨ä¸€ï¼šå°±åœ°äº¤æ¢"></a>åº”ç”¨ä¸€ï¼šå°±åœ°äº¤æ¢</h2><p>åœ¨è§£å†³æ‰¾å‡ºç¼ºå¤±æ•°å­—çš„é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»è¿™ä¸ªæ›´ç®€å•çš„é—®é¢˜å¼€å§‹ï¼š</p>
<blockquote>
<p>å°±åœ°äº¤æ¢ä¸¤ä¸ªå€¼ x å’Œ yï¼Œå³ä¸ä½¿ç”¨ä»»ä½•è¾…åŠ©å˜é‡ã€‚</p>
</blockquote>
<p>å®é™…ä¸Šä½¿ç”¨ä»¥ä¸‹ä¸‰æ¡ XOR æŒ‡ä»¤å¯ä»¥è½»æ¾è§£å†³è¯¥é—®é¢˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x ^= y</span><br><span class="line">y ^= x</span><br><span class="line">x ^= y</span><br></pre></td></tr></table></figure>

<p>çœ‹èµ·æ¥å¥½åƒæœ‰ç‚¹ç¥ç§˜ã€‚ä¸ºä»€ä¹ˆæ‰§è¡Œè¿™ä¸‰æ¡æŒ‡ä»¤æœ€ç»ˆä¼šäº¤æ¢ x, y çš„å€¼å‘¢ï¼Ÿ</p>
<p>ä¸ºäº†å¼„æ¸…å®ƒçš„åŸç†ï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠè¿™äº›æŒ‡ä»¤ä¸€æ­¥ä¸€æ­¥åœ°è¿‡ä¸€éã€‚æ¯æ¡æŒ‡ä»¤åçš„æ³¨é‡Šæ˜¾ç¤º (x, y) çš„å½“å‰å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x ^= y # =&gt;                      (x ^ y, y)</span><br><span class="line">y ^= x # =&gt; (x ^ y, y ^ x ^ y) = (x ^ y, x)</span><br><span class="line">x ^= y # =&gt; (x ^ y ^ x, x)     = (y, x)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™å®é™…ä¸Šåªæ˜¯ä½¿ç”¨äº†å‰æ–‡æ¨å¯¼å‡ºæ¥çš„ç‰¹æ€§è€Œå·²ã€‚</p>
<p><em>è¿™é‡Œçš„åŸºæœ¬åŸç†å°±æ˜¯å°† <code>x ^ y</code> æ”¾åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œå°† <code>x</code> æ”¾åœ¨å¦ä¸€ä¸ªå˜é‡ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥è®©æˆ‘ä»¬å®Œç¾åœ°é‡å»º <code>y</code>ã€‚ä¸€æ—¦ <code>x ^ y</code> è¢«å­˜å‚¨ï¼ˆæŒ‡ä»¤ 1ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† <code>x</code> æ”¾å…¥å¦ä¸€ä¸ªå˜é‡ï¼ˆæŒ‡ä»¤ 2ï¼‰ï¼Œç„¶åå†ç”¨å®ƒæ¥å°† <code>x ^ y</code> æ›´æ”¹ä¸º <code>y</code>ï¼ˆæŒ‡ä»¤ 3ï¼‰</em>ã€‚</p>
<h2 id="åº”ç”¨äºŒï¼šå¯»æ‰¾ç¼ºå¤±çš„æ•°å­—"><a href="#åº”ç”¨äºŒï¼šå¯»æ‰¾ç¼ºå¤±çš„æ•°å­—" class="headerlink" title="åº”ç”¨äºŒï¼šå¯»æ‰¾ç¼ºå¤±çš„æ•°å­—"></a>åº”ç”¨äºŒï¼šå¯»æ‰¾ç¼ºå¤±çš„æ•°å­—</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥è§£å†³æœ¬æ–‡å¼€å¤´æå‡ºçš„é—®é¢˜ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªç”± n - 1 ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ Aï¼Œè¿™äº›æ•´æ•°çš„èŒƒå›´åœ¨ 1 åˆ° n ä¹‹é—´ã€‚é™¤äº†ä¸€ä¸ªæ•°å­—ç¼ºå¤±ä¹‹å¤–ï¼Œå…¶ä½™æ¯ä¸ªæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªç¼ºå¤±çš„æ•°å­—ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œæœ‰å¾ˆå¤šç›´æˆªäº†å½“çš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡è¿™é‡Œæˆ‘ä»¬å‡†å¤‡ä½¿ç”¨ XOR çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä» XOR æŠ€å·§æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºä¸€æ¡ XOR åºåˆ—çš„è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥ç§»é™¤æ‰€æœ‰æˆå¯¹çš„é‡å¤å…ƒç´ ã€‚ä¸è¿‡ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯å¯¹ç»™å®šæ•°ç»„ä¸­çš„æ‰€æœ‰å€¼è¿›è¡Œå¼‚æˆ–ï¼Œæˆ‘ä»¬å°±ä¸èƒ½ç”¨åˆ°è¯¥æŠ€å·§ï¼Œå› ä¸ºæ²¡æœ‰é‡å¤å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A[0] ^ A[1] ^ ... ^ A[n - 2]</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ <code>A[n - 2]</code> æ˜¯ <code>n - 1</code> ä¸ªå…ƒç´ æ•°ç»„çš„æœ€åä¸€ä¸ªç´¢å¼•ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŠŠ 1 å’Œ n ä¹‹é—´çš„æ‰€æœ‰å€¼ä¹ŸåŠ è¿›æ¥ä¸€å¹¶è¿›è¡Œå¼‚æˆ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 ^ 2 ^ ... ^ n ^ A[0] ^ A[1] ^ ... ^ A[n - 2]</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ XOR æ“ä½œåºåˆ—ï¼Œå®ƒä»¬çš„å…ƒç´ å‡ºç°å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç»™å®šæ•°ç»„ä¸­çš„æ‰€æœ‰å€¼ç°åœ¨ä¼šå‡ºç°ä¸¤æ¬¡ï¼š<ul>
<li>ä¸€æ¬¡æ˜¯ 1 åˆ° n ä¹‹é—´çš„æ‰€æœ‰å€¼ï¼›</li>
<li>ä¸€æ¬¡æ˜¯æœ¬æ¥å°±å­˜åœ¨äºç»™å®šçš„åŸå§‹æ•°ç»„ä¸­ã€‚</li>
</ul>
</li>
<li>ç¼ºå¤±æ•°å­—åªä¼šå‡ºç°ä¸€æ¬¡ï¼š<ul>
<li>ä¸€æ¬¡æ˜¯ 1 åˆ° n ä¹‹é—´çš„æ‰€æœ‰å€¼ã€‚</li>
</ul>
</li>
</ul>
<p>å¦‚æœå¯¹æ‰€æœ‰è¿™äº›å€¼è¿›è¡Œå¼‚æˆ–ï¼Œæ ¹æ®å¼‚æˆ–æŠ€å·§ï¼Œå®è´¨ä¸Šå°±æ˜¯ç§»é™¤äº†æ‰€æœ‰å‡ºç°ä¸¤æ¬¡çš„æ•°å­—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç•™ä¸‹æ¥çš„æ•°å­—æ°å¥½å°±æ˜¯æˆ‘ä»¬ä¸€å¼€å§‹è¦å¯»æ‰¾çš„ç¼ºå¤±æ•°å­—ã€‚</p>
<p>ç¼–ç åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_missing</span>(<span class="params">A, n</span>):</span><br><span class="line">  result = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># XOR of all the values from 1 to n</span></span><br><span class="line">  <span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    result ^= value</span><br><span class="line"></span><br><span class="line">  <span class="comment"># XOR of all values in the given array</span></span><br><span class="line">  <span class="keyword">for</span> value <span class="keyword">in</span> A:</span><br><span class="line">    result ^= value</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>å•çœ‹ä»£ç çš„è¯ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªéš¾ä»¥ç†è§£çš„ç®—æ³•ã€‚ç„¶è€Œï¼Œå½“çŸ¥é“äº† XOR æŠ€å·§çš„åŸç†æ—¶ï¼Œå°±å˜å¾—ç›¸å½“ç®€å•ã€‚æˆ‘è®¤ä¸ºè¿™ä¹Ÿè¯´æ˜äº†ä¸ºä»€ä¹ˆåœ¨é¢è¯•ä¸­æŒ‡æœ›è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä¸åˆç†çš„ï¼šå®ƒè¦æ±‚äº†è§£ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æŠ€å·§ï¼Œä½†é™¤æ­¤ä¹‹å¤–å¹¶ä¸éœ€è¦å¤ªå¤šç®—æ³•å±‚é¢ä¸Šçš„æ€è€ƒã€‚</p>
<p>åœ¨ç»§ç»­è¯´æ˜ä¸‹ä¸€ä¸ªåº”ç”¨ä¹‹å‰ï¼Œè¿™é‡Œå†å¤šè¯´ä¸¤ç‚¹ã€‚</p>
<h3 id="æ¨å¹¿åˆ°æ•´æ•°ä¹‹å¤–"><a href="#æ¨å¹¿åˆ°æ•´æ•°ä¹‹å¤–" class="headerlink" title="æ¨å¹¿åˆ°æ•´æ•°ä¹‹å¤–"></a>æ¨å¹¿åˆ°æ•´æ•°ä¹‹å¤–</h3><p>å°½ç®¡åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬ä¸€ç›´è®¨è®ºçš„éƒ½æ˜¯ 1 åˆ° n çš„æ•´æ•°ï¼Œä¸è¿‡å¹¶ä¸ä»…é™äºæ•´æ•°ã€‚å®é™…ä¸Šï¼Œå‰é¢çš„ç®—æ³•é€‚ç”¨äº<br> (1) ä¸€äº›æ½œåœ¨å…ƒç´ é›† å’Œ<br> (2) ä¸€ç»„å®é™…å‡ºç°çš„å…ƒç´ <br> çš„ä»»ä½•æƒ…å†µã€‚è¿™äº›é›†åˆå¯èƒ½ä»…åœ¨ç¼ºå¤±é‚£ä¸ªå…ƒç´ ä¸Šæœ‰æ‰€ä¸åŒã€‚è¿™å¯¹æ•´æ•°å¾ˆæœ‰æ•ˆï¼Œå› ä¸ºæ½œåœ¨å…ƒç´ çš„é›†åˆæ­£å¥½å¯¹åº”äºä» 1 åˆ° n çš„å…ƒç´ ã€‚</p>
<p>å¯ä»¥æƒ³è±¡å…ƒç´ ä¸æ˜¯ 1 åˆ° n çš„æ•´æ•°æƒ…å†µçš„åº”ç”¨ï¼š</p>
<ul>
<li>æ½œåœ¨å…ƒç´ é›†æ˜¯ <code>Person</code> å¯¹è±¡ï¼Œæˆ‘ä»¬è¦ä»å€¼åˆ—è¡¨ä¸­æ‰¾åˆ°ç¼ºå¤±çš„ <code>Person</code></li>
<li>æ½œåœ¨å…ƒç´ é›†æ˜¯å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è¦æ‰¾å‡ºç¼ºå¤±çš„èŠ‚ç‚¹</li>
<li>æ½œåœ¨å…ƒç´ çš„é›†åˆæ˜¯ä¸€èˆ¬çš„æ•´æ•°ï¼ˆä¸ä¸€å®šæ˜¯ä» 1 åˆ° nï¼‰ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ç¼ºå¤±çš„é‚£ä¸ªæ•´æ•°</li>
</ul>
<h3 id="ä½¿ç”¨ç®—æœ¯è¿ç®—ç¬¦è€Œä¸æ˜¯-XOR"><a href="#ä½¿ç”¨ç®—æœ¯è¿ç®—ç¬¦è€Œä¸æ˜¯-XOR" class="headerlink" title="ä½¿ç”¨ç®—æœ¯è¿ç®—ç¬¦è€Œä¸æ˜¯ XOR"></a>ä½¿ç”¨ç®—æœ¯è¿ç®—ç¬¦è€Œä¸æ˜¯ XOR</h3><p>å¦‚æœè¯»åˆ°è¿™é‡Œï¼Œè¯¥ç®—æ³•çœ‹èµ·æ¥ä»æœ‰ç‚¹ç¥å¥‡çš„è¯ï¼ˆæˆ‘å¸Œæœ›ä¸æ˜¯ï¼‰ï¼Œé‚£ä¹ˆè€ƒè™‘å¦‚ä½•ä½¿ç”¨ç®—æœ¯è¿ç®—ç¬¦è·å¾—ç›¸åŒçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚è¿™å®é™…ä¸Šç›¸å½“ç®€å•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_missing</span>(<span class="params">A, n</span>):</span><br><span class="line">  result = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Add all the values from 1 to n</span></span><br><span class="line">  <span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    result += value</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Subtract all values in the given array</span></span><br><span class="line">  <span class="keyword">for</span> value <span class="keyword">in</span> A:</span><br><span class="line">    result -= value</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>æŠŠæ‰€æœ‰æ½œåœ¨çš„æ•´æ•°ç›¸åŠ ï¼Œç„¶åå‡å»å®é™…å‡ºç°çš„æ•´æ•°ã€‚è¯¥è§£å†³æ–¹æ¡ˆä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºéœ€è¦å¤„ç†æ•°å€¼æº¢å‡ºæƒ…å†µå’Œéœ€è¦å…ƒç´ çš„æŸäº›å±æ€§ç±»å‹æ”¯æŒ <code>+</code>ã€<code>-</code> è¿ç®—ã€‚ä¸è¿‡å…ƒç´ ç›¸äº’æŠµæ¶ˆçš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºæ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°æ˜¯ç¡®å®šçš„ï¼ˆä¸€æ¬¡ä¸ºæ­£ï¼Œä¸€æ¬¡ä¸ºè´Ÿï¼‰ã€‚</p>
<h2 id="åº”ç”¨ä¸‰ï¼šæ‰¾å‡ºé‡å¤çš„æ•°å­—"><a href="#åº”ç”¨ä¸‰ï¼šæ‰¾å‡ºé‡å¤çš„æ•°å­—" class="headerlink" title="åº”ç”¨ä¸‰ï¼šæ‰¾å‡ºé‡å¤çš„æ•°å­—"></a>åº”ç”¨ä¸‰ï¼šæ‰¾å‡ºé‡å¤çš„æ•°å­—</h2><p>æœ‰è¶£çš„æ˜¯ï¼šæˆ‘ä»¬å¯ä»¥æŠŠå®Œå…¨ç›¸åŒçš„è§£å†³æ–¹æ¡ˆåº”ç”¨åˆ°ç±»ä¼¼çš„é¢è¯•é¢˜ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªç”± n + 1 ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ Aï¼Œè¿™äº›æ•´æ•°çš„èŒƒå›´åœ¨ 1 åˆ° n ä¹‹é—´ã€‚é™¤äº†ä¸€ä¸ªæ•°å­—é‡å¤ä¹‹å¤–ï¼Œå…¶ä½™æ¯ä¸ªæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°å­—ã€‚</p>
</blockquote>
<p>æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åªè¿ç”¨ä¸ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆå®Œå…¨ç›¸åŒçš„ç®—æ³•ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚æˆ‘ä»¬ä¼šå¾—åˆ° XOR åºåˆ—è¯­å¥ï¼Œå…¶ä¸­å…ƒç´ å‡ºç°å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>ç»™å®šåˆ—è¡¨ä¸­çš„é‡å¤çš„å€¼å‡ºç°äº† 3 æ¬¡ï¼š</p>
<ul>
<li>ä¸€æ¬¡æ˜¯ 1 åˆ° n ä¹‹é—´çš„æ‰€æœ‰å€¼ï¼›</li>
<li>ä¸¤æ¬¡æ˜¯æœ¬æ¥å°±å­˜åœ¨äºç»™å®šçš„åŸå§‹æ•°ç»„ä¸­ï¼ˆå› ä¸ºé‡å¤ï¼‰ã€‚</li>
</ul>
</li>
<li><p>ç»™å®šåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…¶ä»–å€¼å‡ºç°ä¸¤æ¬¡ï¼š</p>
<ul>
<li>ä¸€æ¬¡ä»å– 1 åˆ° n ä¹‹é—´çš„æ‰€æœ‰å€¼</li>
<li>ä¸€æ¬¡æ˜¯æœ¬æ¥å°±å­˜åœ¨äºç»™å®šçš„åŸå§‹æ•°ç»„ä¸­ã€‚</li>
</ul>
</li>
</ul>
<p>å¦‚å‰æ‰€è¿°ï¼Œæ‰€æœ‰æˆå¯¹çš„é‡å¤å…ƒç´ ä¼šç›¸äº’æŠµæ¶ˆã€‚è¿™æ„å‘³ç€ï¼Œå‰©ä¸‹çš„æ°å¥½å°±æ˜¯æˆ‘ä»¬æ­£è¦å¯»æ‰¾çš„å…ƒç´ â€”â€”åœ¨åŸå§‹æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ ã€‚æ­¤å…ƒç´ å‡ºç° 3 æ¬¡ï¼Œç»“åˆ XORï¼Œç®€åŒ–åæ­£æ˜¯æ­¤å…ƒç´ æœ¬èº«ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> x ^ x ^ x</span><br><span class="line">= x ^ 0</span><br><span class="line">= x</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–æ‰€æœ‰å…ƒç´ ç›¸äº’æŠµæ¶ˆï¼Œå› ä¸ºå®ƒä»¬æ°å¥½å‡ºç°ä¸¤æ¬¡ã€‚</p>
<h2 id="åº”ç”¨å››ï¼šæ‰¾å‡ºä¸¤ä¸ªç¼ºå¤±-é‡å¤çš„æ•°å­—"><a href="#åº”ç”¨å››ï¼šæ‰¾å‡ºä¸¤ä¸ªç¼ºå¤±-é‡å¤çš„æ•°å­—" class="headerlink" title="åº”ç”¨å››ï¼šæ‰¾å‡ºä¸¤ä¸ªç¼ºå¤±/é‡å¤çš„æ•°å­—"></a>åº”ç”¨å››ï¼šæ‰¾å‡ºä¸¤ä¸ªç¼ºå¤±/é‡å¤çš„æ•°å­—</h2><p>å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œè€ƒè™‘ä»¥ä¸‹ç¨å¾®æœ‰äº›éš¾åº¦çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªç”± n - 2 ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ Aï¼Œè¿™äº›æ•´æ•°çš„èŒƒå›´åœ¨ 1 åˆ° n ä¹‹é—´ã€‚é™¤äº†ä¸¤ä¸ªæ•°å­—ç¼ºå¤±ä¹‹å¤–ï¼Œå…¶ä½™æ¯ä¸ªæ•°å­—å‡åªå‡ºç°ä¸€æ¬¡ã€‚æ‰¾å‡ºè¿™ä¸¤ä¸ªç¼ºå¤±çš„æ•°å­—ã€‚</p>
</blockquote>
<p>å’Œä¹‹å‰ä¸€æ ·ï¼Œåœ¨æ‰¾å‡ºä¸¤ä¸ªé‡å¤çš„æ•°å­—è€Œä¸æ˜¯ä¸¤ä¸ªç¼ºå¤±çš„æ•°å­—æ—¶ï¼Œé—®é¢˜æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚</p>
<p>ç›¸ä¿¡ä½ å·²ç»çŒœåˆ°æ€ä¹ˆåšäº†ï¼Œä¸è¿‡è¿˜æ˜¯å»¶ç”¨ä¹‹å‰çš„è®²è¿°æ–¹æ³•ï¼Œä»¥å®Œå…¨ç›¸åŒçš„æ–¹å¼å¼€å§‹ï¼šæ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¹‹å‰çš„ XOR ç®—æ³•ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚å¦‚æœè¿™æ ·åšï¼Œæˆ‘ä»¬å°†å†æ¬¡å¾—åˆ° XOR åºåˆ—è¯­å¥ï¼Œé™¤äº†æˆ‘ä»¬æ­£è¦å¯»æ‰¾çš„é‚£ä¸¤ä¸ªï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ ç›¸äº’æŠµæ¶ˆã€‚</p>
<p>æˆ‘ä»¬ç”¨ <code>u</code> å’Œ <code>v</code> æ¥è¡¨ç¤ºè¿™ä¸¤ä¸ªç¼ºå¤±çš„å…ƒç´ ï¼Œä¸»è¦æ˜¯å› ä¸ºæˆ‘ä»¬ä¹‹å‰æ²¡æœ‰ç”¨åˆ°è¿™äº›å­—æ¯ã€‚åº”ç”¨å‰é¢çš„ç®—æ³•åï¼Œæˆ‘ä»¬å°±å‰©ä¸‹ <code>u ^ v</code>ã€‚æ¥ä¸‹æ¥è¯¥æ€ä¹ˆåšï¼Ÿæˆ‘ä»¬éœ€è¦ä»¥æŸç§æ–¹å¼ä»è¿™ä¸ªå€¼ä¸­æå– <code>u</code> å’Œ <code>v</code>ï¼Œä½†ç°åœ¨è¿˜ä¸æ¸…æ¥šæ€ä¹ˆåšã€‚</p>
<h3 id="æ ¹æ®æŸ¥çœ‹-u-v-çš„ç»“æœè¿›è¡Œåˆ†åŒº"><a href="#æ ¹æ®æŸ¥çœ‹-u-v-çš„ç»“æœè¿›è¡Œåˆ†åŒº" class="headerlink" title="æ ¹æ®æŸ¥çœ‹ u ^ v çš„ç»“æœè¿›è¡Œåˆ†åŒº"></a>æ ¹æ®æŸ¥çœ‹ <code>u ^ v</code> çš„ç»“æœè¿›è¡Œåˆ†åŒº</h3><p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿ç”¨æœ¬æ–‡å‰é¢è®²è¿‡çš„å†…å®¹æ¥å¼„æ¸…æ¥šè¯¥æ€ä¹ˆåšã€‚</p>
<p>æœ¬æ–‡æ—©äº›æ—¶å€™æåˆ°ï¼š</p>
<blockquote>
<p>å¦‚æœ XOR ä½œä¸ºè¾“å…¥æºå¸¦çš„ä¸¤ä¸ªä½æ˜¯ä¸€æ ·çš„ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ä¸º 1ã€‚</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äº <code>u ^ v</code> ç»“æœä¸­çš„å„ä¸ªä½çš„å€¼ï¼Œå¦‚æœä¸º 0 å°±è¡¨ç¤º <code>u</code> å’Œ <code>v</code> åœ¨è¯¥ä½å…·æœ‰ç›¸åŒçš„å€¼ã€‚å¦‚æœä¸º 1 å°±è¡¨ç¤º <code>u</code> å’Œ <code>v</code> åœ¨è¯¥ä½å…·æœ‰ä¸åŒçš„å€¼ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å…ˆä» <code>u ^ v</code> ç»“æœä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå€¼ä¸º 1 çš„ä½ï¼ˆè®°ä¸º <code>i</code>ï¼‰ï¼Œæ ¹æ®ä¸Šé¢çš„ç»“è®ºï¼Œ<code>u</code> å’Œ <code>v</code> åœ¨ç¬¬ <code>i</code> ä½çš„å€¼ä¸€å®šæ˜¯ä¸åŒçš„ã€‚ç„¶åï¼Œæ ¹æ®å…ƒç´ åœ¨è¿™ä¸ªä½çš„å€¼ï¼ˆ0 æˆ– 1ï¼‰ï¼Œå¯¹æ•°ç»„ A å’Œä» 1 åˆ° n çš„æ•°å­—é›†ä¸­çš„å…ƒç´ è¿›è¡Œåˆ†åŒºã€‚æœ€ç»ˆå¾—åˆ°çš„ä¸¤ä¸ªåˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºåŒ…å«ä¸¤ä¸ªé›†åˆï¼š</p>
<ol>
<li>åˆ†åŒº 0ï¼ˆå…ƒç´ ç¬¬ i ä½ä¸º 0ï¼‰<ol>
<li>ä» 1 åˆ° n çš„æ•°å­—é›†åˆï¼Œå…¶ä¸­å…ƒç´ çš„ç¬¬ i ä½ä¸º 0</li>
<li>æ•°ç»„ Aï¼Œå…¶ä¸­å…ƒç´ çš„ç¬¬ i ä½ä¸º 0</li>
</ol>
</li>
<li>åˆ†åŒº 1ï¼ˆå…ƒç´ ç¬¬ i ä½ä¸º 1ï¼‰<ol>
<li>ä» 1 åˆ° n çš„æ•°å­—é›†åˆï¼Œå…¶ä¸­å…ƒç´ çš„ç¬¬ i ä½ä¸º 1</li>
<li>æ•°ç»„ Aï¼Œå…¶ä¸­å…ƒç´ çš„ç¬¬ i ä½ä¸º 1</li>
</ol>
</li>
</ol>
<p>å› ä¸º <code>u</code> å’Œ <code>v</code> åœ¨ä½ç½® <code>i</code> ä¸Šä¸åŒï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå…ƒç´ è‚¯å®šåˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºä¸­ã€‚</p>
<h3 id="ç®€åŒ–é—®é¢˜"><a href="#ç®€åŒ–é—®é¢˜" class="headerlink" title="ç®€åŒ–é—®é¢˜"></a>ç®€åŒ–é—®é¢˜</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿ç”¨æœ¬æ–‡æ—©äº›æ—¶å€™æåˆ°çš„å¦ä¸€ä¸ªè§è§£ï¼š</p>
<blockquote>
<p>å°½ç®¡åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬ä¸€ç›´è®¨è®ºçš„éƒ½æ˜¯ 1 åˆ° n çš„æ•´æ•°ï¼Œä¸è¿‡å¹¶ä¸ä»…é™äºæ•´æ•°ã€‚å®é™…ä¸Šï¼Œå‰é¢çš„ç®—æ³•é€‚ç”¨äº<br> (1) ä¸€äº›æ½œåœ¨å…ƒç´ é›† å’Œ<br> (2) ä¸€ç»„å®é™…å‡ºç°çš„å…ƒç´ <br> çš„ä»»ä½•æƒ…å†µã€‚è¿™äº›é›†åˆå¯èƒ½ä»…åœ¨ç¼ºå¤±ï¼ˆæˆ–é‡å¤ï¼‰é‚£ä¸ªå…ƒç´ ä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
</blockquote>
<p>è¿™ä¸¤ä¸ªé›†åˆï¼ˆæŒ‡æ½œåœ¨å…ƒç´ é›†å’Œå®é™…å‡ºç°çš„å…ƒç´ é›†ï¼‰ä¸æˆ‘ä»¬åœ¨æ¯ä¸ªåˆ†åŒºä¸­çš„é›†åˆå®Œå…¨å¯¹åº”ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†è¿™ä¸ªæƒ³æ³•ç”¨äºå…¶ä¸­ä¸€ä¸ªåˆ†åŒºæ¥æœç´¢å…ƒç´  <code>u</code>ï¼Œä»è€Œæ‰¾åˆ°ç¼ºå¤±çš„å…ƒç´ ã€‚ç„¶åå†å°†å…¶ç”¨äºå¦ä¸€ä¸ªåˆ†åŒºæ¥æ‰¾åˆ° <code>v</code>ã€‚</p>
<p>è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ³•ï¼šæˆ‘ä»¬æœ‰æ•ˆåœ°å°†è¿™ä¸ªæ–°é—®é¢˜ç®€åŒ–ä¸ºæˆ‘ä»¬å…ˆå‰è§£å†³çš„é—®é¢˜çš„ä¸€èˆ¬å½¢å¼ã€‚</p>
<h2 id="è¾¾åˆ°æé™"><a href="#è¾¾åˆ°æé™" class="headerlink" title="è¾¾åˆ°æé™"></a>è¾¾åˆ°æé™</h2><p>ä½ å¯èƒ½ä¼šæƒ³å°è¯•æ›´è¿›ä¸€æ­¥ï¼Œæ—¨åœ¨è§£å†³ä¸¤ä¸ªä»¥ä¸Šç¼ºå¤±å€¼çš„é—®é¢˜ã€‚æˆ‘æ²¡æœ‰å¯¹æ­¤è¿›è¡Œä»”ç»†çš„æ€è€ƒï¼Œä½†æˆ‘è®¤ä¸ºè¿™æ˜¯æˆ‘ä»¬åœæ­¢ä½¿ç”¨ XOR çš„åœ°æ–¹ã€‚å¦‚æœç¼ºå¤±ï¼ˆæˆ–é‡å¤ï¼‰ä¸¤ä¸ªä»¥ä¸Šçš„å…ƒç´ ï¼Œåˆ™æ— æ³•åˆ†æ XOR ç»“æœä¸Šå„ä¸ªä½çš„å€¼ï¼Œå› ä¸ºæ— è®ºæ˜¯ 0 è¿˜æ˜¯ 1 éƒ½å¯èƒ½æœ‰å¤šç§ç»„åˆä½œä¸ºç»“æœã€‚</p>
<p>é—®é¢˜ä¼¼ä¹éœ€è¦æ›´å¤æ‚çš„è§£å†³æ–¹æ¡ˆï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆä¸å†åŸºäº XORã€‚</p>
<h2 id="æœ€åçš„æƒ³æ³•"><a href="#æœ€åçš„æƒ³æ³•" class="headerlink" title="æœ€åçš„æƒ³æ³•"></a>æœ€åçš„æƒ³æ³•</h2><p>å¦‚å‰æ‰€è¿°ï¼ŒåŸºäºæ­¤è¯€çªçš„é¢è¯•é¢˜ä¼¼ä¹ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ä»–ä»¬éœ€è¦çŸ¥é“ä¸€ä¸ªç¨å¾®æœ‰ç‚¹æ™¦æ¶©çš„è¯€çªï¼Œä½†æ˜¯ä¸€æ—¦çŸ¥é“äº†è¿™ä¸ªè¯€çªï¼Œå°±æ²¡æœ‰ä»€ä¹ˆéœ€è¦è§£å†³çš„äº†ï¼ˆé™¤äº†åº”ç”¨å››ï¼‰ã€‚ä¹Ÿå‡ ä¹æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å±•ç¤ºç®—æ³•æ€ç»´ï¼ˆé™¤äº†ç®€åŒ–ï¼‰ï¼Œä¹Ÿæ²¡æœ‰å¾ˆå¥½çš„æ–¹æ³•æ¥åˆ©ç”¨æ•°æ®ç»“æ„ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘å‘ç°äº†è§£è¿™ä¸ªè¯€çªå®é™…ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„éå¸¸é…·ã€‚ XOR ä¼¼ä¹å…·æœ‰è§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜çš„æ­£ç¡®ç‰¹æ€§ã€‚åƒ XOR è¿™æ ·åŸºæœ¬çš„ä¸œè¥¿å¯ä»¥ç”¨æ¥æ„å»ºè¿™é‡Œæè¿°çš„æ‰€æœ‰ä¸œè¥¿ï¼Œè¿™ä¹Ÿå¾ˆç¾å¦™ã€‚</p>
<p>æ„Ÿè°¢ Eugen çš„è®¨è®ºä¿ƒæˆäº†è¿™ç¯‡æ–‡ç« ã€‚ä¸€èµ·å¼„æ¸…æ¥šæ‰€æœ‰è¿™äº›æ˜¯å¦‚ä½•å·¥ä½œçš„å¾ˆæœ‰è¶£ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>ä½è¿ç®—</tag>
      </tags>
  </entry>
  <entry>
    <title>äº†è§£åˆ†ä½æ•°ï¼šå®šä¹‰ä¸åº”ç”¨</title>
    <url>/2023/09/24/what-is-a-quantile/</url>
    <content><![CDATA[<p>åœ¨ç»Ÿè®¡å­¦å’Œæ•°æ®åˆ†æä¸­ï¼Œæ‘˜è¦ç»Ÿè®¡ï¼ˆå¦‚ä¸­ä½æ•°ã€ç¬¬ä¸€å››åˆ†ä½æ•°å’Œç¬¬ä¸‰å››åˆ†ä½æ•°ç­‰ï¼‰æ˜¯æ•°æ®é›†ä½ç½®çš„åº¦é‡ã€‚è¿™æ˜¯å› ä¸ºè¿™äº›æ•°å­—æŒ‡ç¤ºäº†æ•°æ®åˆ†å¸ƒä¸­ç‰¹å®šæ¯”ä¾‹çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œä¸­ä½æ•°æ˜¯ç ”ç©¶æ•°æ®çš„ä¸­é—´ä½ç½®ã€‚ä¸€åŠçš„æ•°æ®å€¼å°äºä¸­ä½æ•°ã€‚ç±»ä¼¼åœ°ï¼Œ25% çš„æ•°æ®å€¼å°äºç¬¬ä¸€å››åˆ†ä½æ•°ï¼Œ75% çš„æ•°æ®å€¼å°äºç¬¬ä¸‰å››åˆ†ä½æ•°ã€‚</p>
<p>è¿™ä¸€æ¦‚å¿µå¯ä»¥è¿›ä¸€æ­¥æ¦‚æ‹¬ã€‚ä¸€ç§æ–¹å¼æ˜¯è€ƒè™‘ç™¾åˆ†ä½æ•°ï¼ˆpercentilesï¼‰ã€‚ç¬¬ 90 ä¸ªç™¾åˆ†ä½æ•°è¡¨ç¤ºæœ‰ 90% çš„æ•°æ®å€¼å°äºè¿™ä¸ªæ•°ã€‚æ›´ä¸€èˆ¬åœ°è¯´ï¼Œç¬¬ p ä¸ªç™¾åˆ†ä½æ•°æ˜¯ä¸€ä¸ªæ•° nï¼Œä½¿å¾—æœ‰ p% çš„æ•°æ®å€¼å°äº nã€‚æ¢å¥è¯è¯´ï¼Œå®ƒè¡¨ç¤ºäº†åˆ†å¸ƒä¸­çš„ä¸€ä¸ªç‚¹ï¼Œä½¿å¾—ç»™å®šç™¾åˆ†æ¯”çš„æ•°æ®å€¼å°äºè¯¥ç‚¹ã€‚</p>
<h2 id="è¿ç»­éšæœºå˜é‡çš„åˆ†ä½æ•°"><a href="#è¿ç»­éšæœºå˜é‡çš„åˆ†ä½æ•°" class="headerlink" title="è¿ç»­éšæœºå˜é‡çš„åˆ†ä½æ•°"></a>è¿ç»­éšæœºå˜é‡çš„åˆ†ä½æ•°</h2><p>è™½ç„¶ä¸­ä½æ•°ã€ç¬¬ä¸€å››åˆ†ä½æ•°å’Œç¬¬ä¸‰å››åˆ†ä½æ•°çš„åºæ•°ç»Ÿè®¡é€šå¸¸æ˜¯åœ¨ç¦»æ•£æ•°æ®é›†çš„æƒ…å†µä¸‹ä»‹ç»çš„ï¼Œä½†å®é™…ä¸Šå®ƒä»¬ä¹Ÿé€‚ç”¨äºè¿ç»­éšæœºå˜é‡ã€‚å¯¹äºè¿ç»­åˆ†å¸ƒï¼Œæˆ‘ä»¬ä½¿ç”¨ç§¯åˆ†æ¥å®šä¹‰åˆ†ä½æ•°ã€‚ç¬¬ p ä¸ªç™¾åˆ†ä½æ•°æ˜¯ä¸€ä¸ªæ•° nï¼Œä½¿å¾—ï¼š</p>
<p>$\int^{n}_{-\infty}{f(x)dx}=p/100$</p>
<p>å…¶ä¸­ï¼Œ$f(x)$æ˜¯è¿ç»­åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œ$[-\infty, n]$è¡¨ç¤ºä»æŸä¸ªèµ·å§‹ç‚¹åˆ° n çš„ç§¯åˆ†èŒƒå›´ï¼Œp æ˜¯ç™¾åˆ†ä½æ•°çš„ç™¾åˆ†æ¯”å€¼ã€‚</p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç§¯åˆ†æ±‚å¾—è¿ç»­åˆ†å¸ƒçš„ä»»æ„ç™¾åˆ†ä½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œç¬¬ p ä¸ªç™¾åˆ†ä½æ•°æ˜¯ä¸€ä¸ªå€¼ nï¼Œä½¿å¾—ä»åˆ†å¸ƒçš„èµ·å§‹ç‚¹åˆ° n çš„ç´¯ç§¯æ¦‚ç‡ç­‰äº p%ã€‚</p>
<h2 id="åˆ†ä½æ•°"><a href="#åˆ†ä½æ•°" class="headerlink" title="åˆ†ä½æ•°"></a>åˆ†ä½æ•°</h2><p>å†è¿›ä¸€æ­¥åœ°æ¦‚æ‹¬ï¼Œåˆ†ä½æ•°æ˜¯å¯¹åˆ†å¸ƒçš„åˆ’åˆ†ï¼Œç”¨æ¥å°†æ•°æ®é›†åˆ†æˆè‹¥å¹²éƒ¨åˆ†ã€‚ä¸­ä½æ•°å°†æ•°æ®é›†ä¸€åˆ†ä¸ºäºŒï¼Œè€Œè¿ç»­åˆ†å¸ƒçš„ä¸­ä½æ•°æˆ–ç¬¬ 50 ä¸ªç™¾åˆ†ä½æ•°åˆ™å°†åˆ†å¸ƒæŒ‰é¢ç§¯åˆ’åˆ†ä¸ºä¸¤åŠã€‚ç¬¬ä¸€å››åˆ†ä½æ•°ã€ä¸­ä½æ•°å’Œç¬¬ä¸‰å››åˆ†ä½æ•°å°†æ•°æ®åˆ’åˆ†ä¸ºå››ä¸ªå…·æœ‰ç›¸åŒæ•°é‡çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šè¿°ç§¯åˆ†æ–¹æ³•å¾—åˆ°ç¬¬ 25ã€50 å’Œ 75 ç™¾åˆ†ä½æ•°ï¼Œå°†è¿ç»­åˆ†å¸ƒåˆ†æˆé¢ç§¯ç›¸ç­‰çš„å››ä¸ªåŒºåŸŸã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿‡ç¨‹è¿›è¡Œæ¦‚æ‹¬ï¼Œè€Œä¸ä»…ä»…å±€é™äºåˆ’åˆ†æˆå››åˆ†ä½æ•°æˆ–ç™¾åˆ†ä½æ•°ã€‚å½“ç»™å®šä¸€ä¸ªè‡ªç„¶æ•° n æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ€è€ƒå¦‚ä½•å°†ä¸€ä¸ªå˜é‡çš„åˆ†å¸ƒå‡åŒ€åœ°åˆ’åˆ†æˆ n ä¸ªå¤§å°ç›¸ç­‰çš„éƒ¨åˆ†ã€‚è¿™ä¸ªé—®é¢˜ä¸åˆ†ä½æ•°çš„æ¦‚å¿µç´§å¯†ç›¸å…³ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¡®å®šæ¯ä¸ªåˆ†ä½æ•°çš„å€¼æ¥å®ç°å°†åˆ†å¸ƒåˆ†å‰²æˆæŒ‡å®šæ•°é‡çš„éƒ¨åˆ†ã€‚</p>
<p>è¦è¿‘ä¼¼æ‰¾åˆ°æ•°æ®é›†çš„ç¬¬ n ä¸ªåˆ†ä½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆå¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œç„¶ååœ¨æ’åºåçš„æ•°æ®ä¸Šé€šè¿‡ n-1 ä¸ªç­‰é—´è·çš„ç‚¹æ¥åˆ’åˆ†ã€‚è¿™äº›åˆ’åˆ†ç‚¹å°†æ•°æ®é›†åˆ†å‰²æˆ n ä¸ªå¤§è‡´ç›¸ç­‰çš„éƒ¨åˆ†ï¼Œä»è€Œå¾—åˆ°å…¶å¯¹åº”çš„ n ä¸ªåˆ†ä½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸éœ€è¦çŸ¥é“å…·ä½“åˆ†å¸ƒå‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†ä½æ•°çš„ä¼°è®¡ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè¿ç»­éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šè¿°ç§¯åˆ†æ¥æ‰¾åˆ°åˆ†ä½æ•°ã€‚å¯¹äº n ä¸ªåˆ†ä½æ•°ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªåˆ†ä½æ•°çš„å·¦ä¾§åŒºåŸŸå æ•´ä¸ªåˆ†å¸ƒé¢ç§¯çš„ 1/nã€‚</li>
<li>ç¬¬äºŒä¸ªåˆ†ä½æ•°çš„å·¦ä¾§åŒºåŸŸå æ•´ä¸ªåˆ†å¸ƒé¢ç§¯çš„ 2/nã€‚</li>
<li>ç¬¬ r ä¸ªåˆ†ä½æ•°çš„å·¦ä¾§åŒºåŸŸå æ•´ä¸ªåˆ†å¸ƒé¢ç§¯çš„ r/nã€‚</li>
<li>æœ€åä¸€ä¸ªåˆ†ä½æ•°çš„å·¦ä¾§åŒºåŸŸå æ•´ä¸ªåˆ†å¸ƒé¢ç§¯çš„ (n-1)/nã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºä»»ä½•è‡ªç„¶æ•° nï¼Œn ä¸ªåˆ†ä½æ•°å¯¹åº”äº 100r/n çš„ç™¾åˆ†ä½æ•°ï¼Œå…¶ä¸­ r å¯ä»¥æ˜¯ä» 1 åˆ° n-1 çš„ä»»ä½•è‡ªç„¶æ•°ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºè¿ç»­éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—ä¸åŒåˆ†ä½æ•°çš„åŒºåŸŸæ¯”ä¾‹æ¥ç¡®å®šå®ƒä»¬çš„å€¼ã€‚è¿™äº›åŒºåŸŸæ¯”ä¾‹ä¸ç™¾åˆ†ä½æ•°çš„å…³ç³»æ˜¯ç®€å•çš„æ•´æ•°å€å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå››åˆ†ä½æ•°ï¼Œç¬¬ä¸€ä¸ªåˆ†ä½æ•°å¯¹åº”äº 25% çš„ç™¾åˆ†ä½æ•°ï¼Œç¬¬äºŒä¸ªåˆ†ä½æ•°å¯¹åº”äº 50% çš„ç™¾åˆ†ä½æ•°ï¼Œç¬¬ä¸‰ä¸ªåˆ†ä½æ•°å¯¹åº”äº 75% çš„ç™¾åˆ†ä½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆ†ä½æ•°çš„æ¦‚å¿µä¸ç™¾åˆ†ä½æ•°è”ç³»èµ·æ¥ï¼Œå¹¶ç”¨ç›¸å¯¹é¢ç§¯çš„æ¦‚å¿µæ¥æè¿°å®ƒä»¬çš„ä½ç½®ã€‚</p>
<h2 id="å¸¸è§çš„åˆ†ä½æ•°"><a href="#å¸¸è§çš„åˆ†ä½æ•°" class="headerlink" title="å¸¸è§çš„åˆ†ä½æ•°"></a>å¸¸è§çš„åˆ†ä½æ•°</h2><p>æŸäº›ç±»å‹çš„åˆ†ä½æ•°éå¸¸å¸¸ç”¨ï¼Œå› æ­¤æœ‰ç‰¹å®šçš„åç§°ã€‚ä¸‹é¢æ˜¯è¿™äº›åˆ†ä½æ•°çš„åˆ—è¡¨ï¼š</p>
<ul>
<li>2 åˆ†ä½æ•°è¢«ç§°ä¸ºä¸­ä½æ•°</li>
<li>3 åˆ†ä½æ•°è¢«ç§°ä¸ºä¸‰åˆ†ä½æ•°</li>
<li>4 åˆ†ä½æ•°è¢«ç§°ä¸ºå››åˆ†ä½æ•°</li>
<li>5 åˆ†ä½æ•°è¢«ç§°ä¸ºäº”åˆ†ä½æ•°</li>
<li>6 åˆ†ä½æ•°è¢«ç§°ä¸ºå…­åˆ†ä½æ•°</li>
<li>7 åˆ†ä½æ•°è¢«ç§°ä¸ºä¸ƒåˆ†ä½æ•°</li>
<li>8 åˆ†ä½æ•°è¢«ç§°ä¸ºå…«åˆ†ä½æ•°</li>
<li>10 åˆ†ä½æ•°è¢«ç§°ä¸ºååˆ†ä½æ•°</li>
<li>12 åˆ†ä½æ•°è¢«ç§°ä¸ºåäºŒåˆ†ä½æ•°</li>
<li>20 åˆ†ä½æ•°è¢«ç§°ä¸ºäºŒååˆ†ä½æ•°</li>
<li>100 åˆ†ä½æ•°è¢«ç§°ä¸ºç™¾åˆ†ä½æ•°</li>
<li>1000 åˆ†ä½æ•°è¢«ç§°ä¸ºåƒåˆ†ä½æ•°</li>
</ul>
<p>å½“ç„¶ï¼Œé™¤äº†ä¸Šè¿°åˆ—è¡¨ä¸­çš„åˆ†ä½æ•°ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å…¶ä»–åˆ†ä½æ•°ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæ‰€ä½¿ç”¨çš„ç‰¹å®šåˆ†ä½æ•°ä¸ä»è¿ç»­åˆ†å¸ƒä¸­å–æ ·çš„æ ·æœ¬å¤§å°ç›¸åŒ¹é…ã€‚è¿™æ„å‘³ç€åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„åˆ†ä½æ•°æ¥æè¿°æ•°æ®çš„åˆ†å¸ƒæƒ…å†µã€‚</p>
<p>åœ¨å¸¸è§çš„ç»Ÿè®¡å­¦å’Œæ•°æ®åˆ†æä¸­ï¼Œä¸€äº›åˆ†ä½æ•°å…·æœ‰ç‰¹å®šçš„åç§°å’Œç”¨é€”ã€‚å…¶ä¸­åŒ…æ‹¬ï¼š</p>
<ol>
<li>ä¸­ä½æ•°ï¼ˆ50% åˆ†ä½æ•°ï¼‰ï¼šå°†æ•°æ®é›†åˆ†ä¸ºä¸¤ç­‰åˆ†çš„å€¼ã€‚</li>
<li>å››åˆ†ä½æ•°ï¼šå°†æ•°æ®é›†åˆ†ä¸ºå››ç­‰åˆ†çš„å€¼ã€‚ <ul>
<li>ç¬¬ä¸€å››åˆ†ä½æ•°ï¼ˆ25% åˆ†ä½æ•°ï¼‰ï¼šå°†æ•°æ®çš„å‰ 25% ä¸å 75% åˆ†å¼€çš„å€¼ã€‚</li>
<li>ç¬¬äºŒå››åˆ†ä½æ•°ï¼ˆä¸­ä½æ•°ï¼Œ50% åˆ†ä½æ•°ï¼‰ï¼šå°†æ•°æ®çš„å‰ 50% ä¸å 50% åˆ†å¼€çš„å€¼ã€‚</li>
<li>ç¬¬ä¸‰å››åˆ†ä½æ•°ï¼ˆ75% åˆ†ä½æ•°ï¼‰ï¼šå°†æ•°æ®çš„å‰ 75% ä¸å 25% åˆ†å¼€çš„å€¼ã€‚</li>
</ul>
</li>
<li>ç™¾åˆ†ä½æ•°ï¼šæ ¹æ®ç‰¹å®šçš„ç™¾åˆ†æ¯”å€¼åˆ’åˆ†æ•°æ®åˆ†å¸ƒçš„å€¼ã€‚ <ul>
<li>ç¬¬ 90 ä¸ªç™¾åˆ†ä½æ•°ï¼šå°†æ•°æ®çš„å‰ 90% ä¸å 10% åˆ†å¼€çš„å€¼ã€‚</li>
<li>ç¬¬ 95 ä¸ªç™¾åˆ†ä½æ•°ï¼šå°†æ•°æ®çš„å‰ 95% ä¸å 5% åˆ†å¼€çš„å€¼ã€‚</li>
<li>ç¬¬ 99 ä¸ªç™¾åˆ†ä½æ•°ï¼šå°†æ•°æ®çš„å‰ 99% ä¸å 1% åˆ†å¼€çš„å€¼ã€‚</li>
</ul>
</li>
</ol>
<p>è¿™äº›ç‰¹å®šçš„åˆ†ä½æ•°åœ¨ç»Ÿè®¡å­¦å’Œæ•°æ®åˆ†æä¸­ç»å¸¸ä½¿ç”¨ï¼Œæœ‰åŠ©äºç†è§£å’Œæè¿°æ•°æ®çš„åˆ†å¸ƒç‰¹å¾ã€‚</p>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>é™¤äº†ç¡®å®šæ•°æ®é›†çš„ä½ç½®ä¹‹å¤–ï¼Œåˆ†ä½æ•°åœ¨å…¶ä»–æ–¹é¢ä¹Ÿå¾ˆæœ‰å¸®åŠ©ã€‚å‡è®¾æˆ‘ä»¬ä»ä¸€ä¸ªæœªçŸ¥åˆ†å¸ƒçš„æ€»ä½“ä¸­å¾—åˆ°äº†ä¸€ä¸ªç®€å•éšæœºæ ·æœ¬ã€‚ä¸ºäº†ç¡®å®šåƒæ­£æ€åˆ†å¸ƒæˆ–éŸ¦ä¼¯åˆ†å¸ƒè¿™æ ·çš„æ¨¡å‹æ˜¯å¦é€‚åˆæˆ‘ä»¬æ‰€æŠ½å–çš„æ€»ä½“ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿæˆ‘ä»¬çš„æ•°æ®å’Œæ¨¡å‹çš„åˆ†ä½æ•°ã€‚</p>
<p>é€šè¿‡å°†æˆ‘ä»¬çš„æ ·æœ¬æ•°æ®çš„åˆ†ä½æ•°ä¸æŸä¸ªç‰¹å®šæ¦‚ç‡åˆ†å¸ƒçš„åˆ†ä½æ•°è¿›è¡ŒåŒ¹é…ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ç»„é…å¯¹æ•°æ®ã€‚æˆ‘ä»¬å°†è¿™äº›æ•°æ®ç»˜åˆ¶åœ¨æ•£ç‚¹å›¾ä¸Šï¼Œç§°ä¸ºåˆ†ä½æ•°-åˆ†ä½æ•°å›¾æˆ– q-q å›¾ã€‚å¦‚æœå¾—åˆ°çš„æ•£ç‚¹å›¾å¤§è‡´å‘ˆçº¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆè¯¥æ¨¡å‹å°±é€‚åˆæˆ‘ä»¬çš„æ•°æ®ã€‚</p>
<p>è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†ä½æ•°ä¸ä»…å¯ä»¥ç”¨æ¥ç¡®å®šæ•°æ®çš„ä½ç½®ï¼Œè¿˜å¯ä»¥ç”¨äºå…¶ä»–æ–¹é¢çš„åº”ç”¨ã€‚å½“æˆ‘ä»¬ä»ä¸€ä¸ªæœªçŸ¥åˆ†å¸ƒçš„æ€»ä½“ä¸­è·å–äº†ä¸€ä¸ªç®€å•éšæœºæ ·æœ¬æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”è¾ƒæ ·æœ¬æ•°æ®å’Œç‰¹å®šæ¦‚ç‡åˆ†å¸ƒæ¨¡å‹çš„åˆ†ä½æ•°æ¥è¯„ä¼°æ¨¡å‹çš„é€‚é…ç¨‹åº¦ã€‚é€šè¿‡å°†æ ·æœ¬æ•°æ®çš„åˆ†ä½æ•°ä¸æ¦‚ç‡åˆ†å¸ƒæ¨¡å‹çš„åˆ†ä½æ•°è¿›è¡Œé…å¯¹ï¼Œå¹¶ç»˜åˆ¶åœ¨æ•£ç‚¹å›¾ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­æ¨¡å‹æ˜¯å¦é€‚åˆæè¿°æˆ‘ä»¬çš„æ•°æ®ã€‚å¦‚æœå¾—åˆ°çš„æ•£ç‚¹å›¾å¤§è‡´å‘ˆçº¿æ€§å…³ç³»ï¼Œè¯´æ˜è¯¥æ¨¡å‹é€‚åˆæˆ‘ä»¬çš„æ•°æ®ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ä¸­ä½æ•°ã€å››åˆ†ä½æ•°å’Œç™¾åˆ†ä½æ•°æ˜¯å¸¸ç”¨çš„æ‘˜è¦ç»Ÿè®¡ï¼Œç”¨äºåº¦é‡æ•°æ®é›†çš„ä½ç½®ã€‚åœ¨è¿ç»­éšæœºå˜é‡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ç§¯åˆ†æ¥å®šä¹‰åˆ†ä½æ•°ã€‚è¿™äº›ç»Ÿè®¡é‡æœ‰åŠ©äºç†è§£å’Œæè¿°æ•°æ®çš„åˆ†å¸ƒç‰¹å¾ï¼Œå¹¶å¯ä»¥åº”ç”¨äºæ¨¡å‹æ‹Ÿåˆå’Œæ•°æ®å¯¹æ¯”ç­‰åˆ†æã€‚å¸¸è§çš„åˆ†ä½æ•°åŒ…æ‹¬ä¸­ä½æ•°ã€å››åˆ†ä½æ•°å’Œç™¾åˆ†ä½æ•°ï¼Œåœ¨ç»Ÿè®¡å­¦å’Œæ•°æ®åˆ†æä¸­ç»å¸¸ä½¿ç”¨ã€‚å®ƒä»¬æœ‰åŠ©äºç¡®å®šæ•°æ®çš„ä½ç½®ï¼Œå¹¶å¯ä»¥ç”¨äºæ¨¡å‹æ‹Ÿåˆå’Œæ•°æ®å¯¹æ¯”ç­‰åº”ç”¨ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†ä½æ•°çš„æ¦‚å¿µåŠå…¶åº”ç”¨</title>
    <url>/2023/09/25/understanding-quantiles-definitions-and-uses/</url>
    <content><![CDATA[<p>åˆ†ä½æ•°æ˜¯ç»Ÿè®¡å­¦ä¸­å¸¸ç”¨çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨äºæè¿°æ•°æ®é›†çš„åˆ†å¸ƒæƒ…å†µã€‚å®ƒå°†æ•°æ®é›†æŒ‰å¤§å°æ’åºå¹¶å°†å…¶åˆ†ä¸ºå‡ ä¸ªç­‰ä»½ï¼Œä»è€Œèƒ½å¤Ÿæ›´åŠ æ·±å…¥åœ°äº†è§£æ•°æ®é›†çš„ä¸­å¿ƒè¶‹åŠ¿å’Œç¦»æ•£ç¨‹åº¦ã€‚åœ¨ç»Ÿè®¡å­¦å’Œæ•°æ®åˆ†æé¢†åŸŸï¼Œåˆ†ä½æ•°æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„å·¥å…·ã€‚</p>
<h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>æŠŠé¡ºåºæ’åˆ—çš„ä¸€ç»„æ•°æ®åˆ†å‰²ä¸ºè‹¥å¹²ç›¸ç­‰éƒ¨åˆ†çš„åˆ†å‰²ç‚¹çš„æ•°å€¼å³ä¸ºç›¸åº”çš„<strong>åˆ†ä½æ•°ï¼ˆquantileï¼‰</strong>ã€‚</p>
<p>å¸¸è§çš„åˆ†ä½æ•°æœ‰ï¼š</p>
<ul>
<li><strong>äºŒåˆ†ä½æ•°ï¼š</strong>åˆ†ä½æ•°ä¸­æœ€ç®€å•çš„ä¸€ç§ï¼Œå®ƒå°†æ•°æ®ç­‰åˆ†æˆä¸¤åˆ†ã€‚</li>
<li><strong>å››åˆ†ä½æ•°ï¼ˆQuartileï¼‰ï¼š</strong>å°†æ•°æ®æŒ‰ç…§å¤§å°é¡ºåºæ’åºåï¼ŒæŠŠæ•°æ®åˆ†å‰²æˆå››ç­‰åˆ†çš„ä¸‰ä¸ªåˆ†å‰²ç‚¹ä¸Šçš„æ•°å€¼ã€‚å¯¹åŸå§‹æ•°æ®ï¼Œå››åˆ†ä½æ•°çš„ä½ç½®ä¸€èˆ¬ä¸º$\frac{n+1}{4}$ï¼Œ$\frac{2(n+1)}{4}$ï¼Œ$\frac{3(n+1)}{4}$ã€‚å¦‚æœå››åˆ†ä½æ•°çš„ä½ç½®ä¸æ˜¯æ•´æ•°ï¼Œåˆ™å››åˆ†ä½æ•°ç­‰äºå‰åä¸¤ä¸ªæ•°çš„åŠ æƒå¹³å‡ã€‚</li>
<li><strong>ååˆ†ä½æ•°ï¼ˆDecilesï¼‰ï¼š</strong>å°†æ•°æ®æŒ‰ç…§å¤§å°é¡ºåºæ’åºåï¼ŒæŠŠæ•°æ®åˆ†å‰²æˆåç­‰åˆ†çš„ä¹ä¸ªåˆ†å‰²ç‚¹ä¸Šçš„æ•°å€¼ã€‚</li>
<li><strong>ç™¾åˆ†ä½æ•°ï¼ˆPercentileï¼‰ï¼š</strong>å°†æ•°æ®æŒ‰ç…§å¤§å°é¡ºåºæ’åºåï¼ŒæŠŠæ•°æ®åˆ†å‰²æˆä¸€ç™¾ç­‰åˆ†çš„ä¹åä¹ä¸ªåˆ†å‰²ç‚¹ä¸Šçš„æ•°å€¼ã€‚å¸¸è§çš„æœ‰ 1% åˆ†ä½æ•°ã€5% åˆ†ä½æ•°ã€25% åˆ†ä½æ•°ã€50% åˆ†ä½æ•°ï¼ˆä¸­ä½æ•°ï¼‰ã€75% åˆ†ä½æ•°ã€95% åˆ†ä½æ•°ã€99% åˆ†ä½æ•°ç­‰ã€‚</li>
</ul>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>åˆ†ä½æ•°ç›´è§‚åœ°åæ˜ äº†æ ·æœ¬åˆ†å¸ƒï¼Œé€šè¿‡åˆ†ä½æ•°å¯ä»¥å¤§è‡´åˆ¤æ–­å‡ºæ ·æœ¬çš„ä¸­å¿ƒä½ç½®ã€æ•£å¸ƒèŒƒå›´å’Œåæ€å½¢çŠ¶ï¼Œæ˜¯ç†è§£å’Œåˆ†ææ•°æ®åˆ†å¸ƒçš„æœ‰æ•ˆå·¥å…·ã€‚å…¶åœ¨å®é™…ä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œå¸¸ç”¨äºï¼š</p>
<ol>
<li>åˆ¤æ–­æ ·æœ¬åˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®å’Œæ•£å¸ƒèŒƒå›´<br>é€šè¿‡åˆ†ä½æ•°å¯ä»¥åˆ¤æ–­å‡ºæ ·æœ¬åˆ†å¸ƒçš„ä¸­é—´å€¼ã€ä¸Šä¸‹å››åˆ†ä½æ•°é—´è·æ¥å¤§è‡´åˆ¤æ–­æ ·æœ¬çš„ä¸­å¿ƒä½ç½®å’Œæ•£å¸ƒèŒƒå›´ã€‚</li>
<li>åˆ¤æ–­å­¦ç”Ÿæˆç»©é«˜ä½<br>å¯ä»¥ç”¨åˆ†ä½æ•°æ¥è®¾ç½®å­¦ç”Ÿæˆç»©çš„æ’åï¼Œå¦‚å°† 95% åˆ†ä½æ•°è®¾ä¸º A+ï¼Œ90% åˆ†ä½æ•°è®¾ä¸º A ç­‰ã€‚</li>
<li>ç†è§£ç½‘ç«™è®¿é—®é‡åˆ†å¸ƒ<br>å¯ä»¥è®¡ç®—ç½‘ç«™è®¿é—®é‡çš„åˆ†ä½æ•°,æ¥åˆ¤æ–­ç”¨æˆ·è®¿é—®é«˜å³°å’Œä½è°·ã€‚</li>
<li>è®¾ç½®äº§å“çš„è´¨é‡é˜ˆå€¼<br>å¦‚è®¾ç½®åˆ¶é€ äº§å“æŸæŒ‡æ ‡çš„ 1% åˆ†ä½æ•°ä¸ºè´¨é‡æ ‡å‡†å€¼,ä½œä¸ºäº§å“è´¨é‡çš„ä¸‹é™è¦æ±‚ã€‚</li>
</ol>
<p>å‚è€ƒèµ„æ–™<br>åˆ†ä½æ•°ï¼š<br><a href="http://www.stats.gov.cn/zsk/snapshoot?reference=d466cfa12a8d807d0c267a76a75d1e42_C932AD0D2073D7EFCE896A526F5D4F00">http://www.stats.gov.cn/zsk/snapshoot?reference=d466cfa12a8d807d0c267a76a75d1e42_C932AD0D2073D7EFCE896A526F5D4F00</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†ä½æ•°ï¼šå®šä¹‰åŠç®€æ˜“æŸ¥æ‰¾æ–¹æ³•</title>
    <url>/2023/09/13/quantile-definition-and-how-to-find-them-in-easy-steps/</url>
    <content><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯åˆ†ä½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åˆ†ä½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†ä½æ•°ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åˆ†ä½æ•°ï¼Ÿ</h2><p>â€œåˆ†ä½æ•°ï¼ˆquantileï¼‰â€ä¸€è¯æºäºâ€quantityâ€ã€‚ç®€å•åœ°è¯´ï¼Œåˆ†ä½æ•°å°±æ˜¯å°†æ ·æœ¬åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰ã€ç›¸é‚»çš„å­ç»„ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶ç§°ä¸º â€œfractileâ€ï¼‰ã€‚å®ƒä¹Ÿå¯ä»¥æŒ‡å°†æ¦‚ç‡åˆ†å¸ƒåˆ’åˆ†ä¸ºå…·æœ‰ç›¸ç­‰æ¦‚ç‡çš„åŒºåŸŸã€‚</p>
<p>ä¸­ä½æ•°æ˜¯ä¸€ç§åˆ†ä½æ•°ï¼›åœ¨æ¦‚ç‡åˆ†å¸ƒä¸­ï¼Œä¸­ä½æ•°è¢«æ”¾ç½®åœ¨è¿™æ ·ä¸€ä¸ªä½ç½®ï¼Œä½¿å¾—æ°å¥½æœ‰ä¸€åŠçš„æ•°æ®å°äºä¸­ä½æ•°ï¼Œå¦ä¸€åŠçš„æ•°æ®å¤§äºä¸­ä½æ•°ã€‚ä¸­ä½æ•°å°†ä¸€ä¸ªåˆ†å¸ƒåˆ‡å‰²æˆä¸¤ä¸ªç›¸ç­‰çš„åŒºåŸŸï¼Œå› æ­¤æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸º 2-åˆ†ä½æ•°ã€‚</p>
<p><img src="/image/2023/20230913-median.png" alt="https://www.statisticshowto.com/wp-content/uploads/2013/09/median.png"></p>
<p>å››åˆ†ä½æ•°ä¹Ÿæ˜¯ä¸€ç§åˆ†ä½æ•°ï¼›å®ƒå°†åˆ†å¸ƒåˆ’åˆ†ä¸ºå››ä¸ªç›¸ç­‰çš„éƒ¨åˆ†ã€‚ç™¾åˆ†ä½æ•°æ˜¯å°†åˆ†å¸ƒåˆ’åˆ†ä¸º 100 ä¸ªç›¸ç­‰éƒ¨åˆ†çš„åˆ†ä½æ•°ï¼Œè€Œååˆ†ä½æ•°æ˜¯å°†åˆ†å¸ƒåˆ’åˆ†ä¸º 10 ä¸ªç›¸ç­‰éƒ¨åˆ†çš„åˆ†ä½æ•°ã€‚</p>
<p>æœ‰äº›ä½œè€…å°†ä¸­ä½æ•°ç§°ä¸º 0.5 åˆ†ä½æ•°ï¼Œè¿™æ„å‘³ç€è¯¥æ¯”ä¾‹çš„å€¼ï¼ˆä¸€åŠï¼‰å°†ä½äºä¸­ä½æ•°ä¹‹ä¸‹ï¼Œè€Œå¦ä¸€åŠåˆ™åœ¨ä¸­ä½æ•°ä¹‹ä¸Šã€‚å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­æ‰¾åˆ°ç‰¹å®šçš„åˆ†ä½æ•°ï¼ˆå¦‚ä¸­ä½æ•°ï¼‰ï¼Œä½¿ç”¨ä»¥ä¸‹å…¬å¼æ¥ä¼°è®¡ç¬¬ i ä¸ªè§‚æµ‹å€¼ï¼š</p>
<p>ç¬¬ i ä¸ªè§‚æµ‹å€¼ = q * (n + 1)</p>
<p>å…¶ä¸­ï¼Œq ä»£è¡¨ä½ è¦å¯»æ‰¾çš„ç¬¬ i ä¸ªå€¼ä»¥ä¸‹çš„æ¯”ä¾‹ï¼Œn ä»£è¡¨æ•°æ®é›†ä¸­çš„é¡¹ç›®æ•°é‡ã€‚</p>
<p>ä¸Šè¿°æ–¹ç¨‹å¯èƒ½æœ‰äº›ä»¤äººè´¹è§£ï¼Œæœ€å¥½é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥è§£é‡Šã€‚</p>
<h2 id="å¦‚ä½•æ‰¾åˆ°åˆ†ä½æ•°ï¼Ÿ"><a href="#å¦‚ä½•æ‰¾åˆ°åˆ†ä½æ•°ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ‰¾åˆ°åˆ†ä½æ•°ï¼Ÿ"></a>å¦‚ä½•æ‰¾åˆ°åˆ†ä½æ•°ï¼Ÿ</h2><p><strong>ä¾‹é¢˜ï¼š</strong>ä»ä»¥ä¸‹æ•°æ®é›†ä¸­æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼Œä½¿å¾— 20% çš„å€¼ä½äºå®ƒï¼Œ80% çš„å€¼é«˜äºå®ƒï¼š<br>1 3 5 6 9 11 12 13 19 21 22 32 35 36 45 44 55 68 79 80 81 88 90 91 92 100 112 113 114 120 121 132 145 146 149 150 155 180 189 190</p>
<p><strong>æ€è·¯ï¼š</strong></p>
<ul>
<li>æ­¥éª¤ 1ï¼šå°†æ•°æ®ä»å°åˆ°å¤§æ’åºã€‚é—®é¢˜ä¸­çš„æ•°æ®å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚</li>
<li>æ­¥éª¤ 2ï¼šè®¡ç®—æ•°æ®é›†ä¸­è§‚æµ‹å€¼çš„æ•°é‡ã€‚è¿™ä¸ªç‰¹å®šçš„æ•°æ®é›†æœ‰ 40 ä¸ªé¡¹ç›®ã€‚</li>
<li>æ­¥éª¤ 3ï¼šå°†ä»»ä½•ç™¾åˆ†æ¯”è½¬æ¢ä¸ºå°æ•°å½¢å¼çš„ qã€‚æˆ‘ä»¬è¦æ‰¾åˆ°å…¶ä¸­ 20% çš„å€¼ä½äºå…¶ä¸‹æ–¹çš„æ•°å­—ï¼Œå› æ­¤å°†å…¶è½¬æ¢ä¸º 0.2ã€‚</li>
<li>æ­¥éª¤ 4ï¼šå°†æ•°å€¼ä»£å…¥å…¬å¼ï¼š</li>
</ul>
<p>ç¬¬ i ä¸ªè§‚æµ‹å€¼ = q * (n + 1)<br>ç¬¬ i ä¸ªè§‚æµ‹å€¼ = 0.2 * (40 + 1) = 8.2</p>
<p><strong>ç­”æ¡ˆï¼š</strong>ç¬¬ i ä¸ªè§‚æµ‹å€¼ä¸º 8.2ï¼Œæ‰€ä»¥æˆ‘ä»¬å‘ä¸‹å–æ•´åˆ° 8ï¼ˆè®°ä½ï¼Œè¿™ä¸ªå…¬å¼æ˜¯ä¸€ä¸ªä¼°è®¡ï¼‰ã€‚æ•°æ®é›†ä¸­çš„ç¬¬ 8 ä¸ªæ•°å­—æ˜¯ 13ï¼Œå®ƒæ˜¯å…¶ä¸­ 20% çš„å€¼ä½äºå®ƒçš„æ•°å­—ã€‚</p>
<p>å‚è€ƒèµ„æ–™<br>Quantile: Definition and How to Find Them in Easy Stepsï¼š<br><a href="https://www.statisticshowto.com/quantile-definition-find-easy-steps/">https://www.statisticshowto.com/quantile-definition-find-easy-steps/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ‰¾å›DBeaverè¿æ¥ä¸­ä¿å­˜çš„æ•°æ®åº“å¯†ç ï¼Ÿ</title>
    <url>/2023/09/26/how-to-retrieve-the-password-in-dbeaver/</url>
    <content><![CDATA[<p>DBeaver æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“å¹³å°ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ–¹å¼æ¥ç®¡ç†å’Œæ“ä½œæ•°æ®åº“ï¼ŒåŒ…æ‹¬è¿æ¥ã€æŸ¥è¯¢ã€å¯¼å…¥å¯¼å‡ºç­‰åŠŸèƒ½ï¼Œä½†å¦‚æœæˆ‘ä»¬å¿˜è®°äº†ä¿å­˜åœ¨å…¶ä¸­çš„æ•°æ®åº“å¯†ç ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥æ¢å¤å®ƒã€‚æœ¬æ–‡å°†ä»‹ç»ä¸€ç§æ–¹æ³•æ¥æ‰¾å› DBeaver ä¿å­˜çš„æ•°æ®åº“å¯†ç ã€‚</p>
<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>ä»¥ä¸‹æ˜¯æ‰¾å› DBeaver è¿æ¥ä¸­ä¿å­˜çš„æ•°æ®åº“å¯†ç çš„æ­¥éª¤ï¼š</p>
<ol>
<li>æ‰¾åˆ° DBeaver çš„ workspace ä½ç½®ï¼šåœ¨ DBeaver çš„ç•Œé¢ä¸­ï¼Œç‚¹å‡»â€œçª—å£â€èœå•ï¼Œé€‰æ‹©â€œé¦–é€‰é¡¹â€é€‰é¡¹ã€‚å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼Œç‚¹å‡»â€œWorkspaceâ€æŒ‰é’®ï¼ˆä¸­æ–‡åç§°ï¼šå·¥ä½œç©ºé—´ï¼‰ï¼Œå³å¯æ‰¾åˆ° workspace çš„ä½ç½®ã€‚</li>
</ol>
<p><img src="/image/2023/20230926-001.png" alt="image.png"></p>
<ol start="2">
<li>åœ¨ workspace ä½ç½®ä¸‹ï¼Œå¯ä»¥æ‰¾åˆ° General æ–‡ä»¶å¤¹ã€‚</li>
<li>æ‰¾åˆ°å¯†ç æ–‡ä»¶çš„ä½ç½®ï¼šåœ¨ General æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°åä¸º<code>credentials-config.json</code>çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¿å­˜äº† DBeaver ä¸­è¿æ¥çš„å¯†ç ä¿¡æ¯ã€‚ </li>
<li>è§£ç å¯†ç æ–‡ä»¶ï¼šä¸ºäº†è§£ç å¯†ç æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ OpenSSL å·¥å…·ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œä½¿ç”¨äº† Windows 10 ä¸Šçš„ Linux å­ç³»ç»Ÿ Ubuntu 18ï¼Œå¹¶åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œäº†ä»¥ä¸‹å‘½ä»¤ï¼š </li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">openssl aes-128-cbc -d \</span><br><span class="line">  -K babb4a9f774ab853c96c2d653dfe544a \</span><br><span class="line">  -iv 00000000000000000000000000000000 \</span><br><span class="line">  -in credentials-config.json | \</span><br><span class="line">  dd bs=1 skip=16 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>-K</code>å‚æ•°çš„å€¼å¯ä»¥å‚è€ƒ DBeaver æºç ä¸­çš„<code>DefaultSecureStorage.java</code>æ–‡ä»¶ã€‚</p>
<ol start="4">
<li>è·å–å¯†ç ï¼šæ‰§è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œä½ å°†å¾—åˆ°ä¿å­˜åœ¨ credentials-config.json æ–‡ä»¶ä¸­çš„åŠ å¯†å¯†ç ã€‚é€šè¿‡è¯¥æ–¹æ³•ï¼Œä½ å¯ä»¥æ‰¾å› DBeaver è¿æ¥ä¸­ä¿å­˜çš„æ•°æ®åº“å¯†ç ã€‚</li>
</ol>
<p>å¦‚æœä½ çš„é¡¹ç›®ä¸æ˜¯ä¿å­˜åœ¨é»˜è®¤ä½ç½®ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹å…·ä½“çš„å­˜æ”¾ä½ç½®ï¼šåœ¨ DBeaver çš„ç•Œé¢ä¸­ï¼Œç‚¹å‡»å·¦è¾¹â€œé¡¹ç›®â€å¯¼èˆªæ ï¼Œé€‰ä¸­å¯¹åº”çš„é¡¹ç›®ï¼Œå†ç‚¹å‡»è¯¥å¯¼èˆªæ ä¸Šä¾§çš„è®¾ç½®æŒ‰é’®å›¾æ ‡ï¼Œå¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼Œç‚¹å‡»â€œResourceâ€æŒ‰é’®ï¼Œå³å¯æ‰¾åˆ°å­˜æ”¾å¯†ç æ–‡ä»¶çš„ä½ç½®ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/image/2023/20230926-002.png" alt="image.png"></p>
<p><img src="/image/2023/20230926-003.png" alt="image.png"></p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†ä¸€ç§æ‰¾å› DBeaver è¿æ¥ä¸­ä¿å­˜çš„æ•°æ®åº“å¯†ç çš„æ–¹æ³•ã€‚é€šè¿‡æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥è§£ç ä¿å­˜åœ¨ credentials-config.json æ–‡ä»¶ä¸­çš„å¯†ç ï¼Œå¹¶é‡æ–°è·å¾—å¯¹æ•°æ®åº“çš„è®¿é—®æƒé™ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæœ¬æ–‡æ‰€æä¾›çš„æ–¹æ³•éœ€è¦ä¸€å®šçš„æŠ€æœ¯åŸºç¡€ï¼Œå¹¶å‡è®¾ä½ å·²ç»å®‰è£…äº† OpenSSL å·¥å…·ã€‚æ­¤å¤–ï¼Œä¸ºäº†ä¿æŠ¤ä¸ªäººä¿¡æ¯çš„å®‰å…¨ï¼Œè¯·è°¨æ…å¤„ç†å’Œå¦¥å–„ä¿ç®¡å¯†ç æ–‡ä»¶ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³MySQL 8ä¸­â€œPublic Key Retrieval is not allowedâ€é—®é¢˜</title>
    <url>/2023/09/26/mysql8-public-key-retrieval-is-not-allowed/</url>
    <content><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä» MySQL 8 å¼€å§‹ï¼Œèº«ä»½éªŒè¯æ’ä»¶æ›´æ”¹ä¸ºâ€œ<strong>caching_sha2_password</strong>â€ã€‚å› æ­¤ï¼Œä½¿ç”¨ JDBC æˆ–å…¶ä»–å®¢æˆ·ç«¯å·¥å…·è¿æ¥ MySQL æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°â€œ<strong>Public Key Retrieval is not allowed</strong>â€çš„é—®é¢˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Public Key Retrieval is not allowed</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³æ–¹æ¡ˆä¸€"><a href="#è§£å†³æ–¹æ¡ˆä¸€" class="headerlink" title="è§£å†³æ–¹æ¡ˆä¸€"></a>è§£å†³æ–¹æ¡ˆä¸€</h2><p>åœ¨è¿æ¥ MySQL æ—¶ï¼Œè®¾ç½®ä»¥ä¸‹å‚æ•°ï¼Œå…è®¸å®¢æˆ·ç«¯è‡ªåŠ¨å‘æœåŠ¡å™¨è¯·æ±‚å…¬é’¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">allowPublicKeyRetrieval=true</span><br></pre></td></tr></table></figure>
<p>å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">jdbc:mysql://localhost:3306/mysql_database?useSSL=false&amp;allowPublicKeyRetrieval=true</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³æ–¹æ¡ˆäºŒ"><a href="#è§£å†³æ–¹æ¡ˆäºŒ" class="headerlink" title="è§£å†³æ–¹æ¡ˆäºŒ"></a>è§£å†³æ–¹æ¡ˆäºŒ</h2><p>æˆ‘ä»¬å¯ä»¥å°†èº«ä»½éªŒè¯æ’ä»¶æ›´æ”¹å›â€œ<strong>mysql_native_password</strong>â€æ¥è§£å†³è¯¥é—®é¢˜ã€‚</p>
<ol>
<li><p>åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä½¿ç”¨ root ç”¨æˆ·ç™»å½• MySQLï¼š </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mysql -u root -p</span><br></pre></td></tr></table></figure></li>
<li><p>è¿›å…¥<code>mysql</code>æ•°æ®åº“ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹å½“å‰ç”¨æˆ·è¡¨ä¸­çš„ host å’Œç”¨æˆ·ä¿¡æ¯ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; select host, user, plugin from user;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç»“æœåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·å’Œå¯¹åº”çš„ hostï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| host      | user             | plugin                |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| %         | hadoop           | caching_sha2_password |</span><br><span class="line">| %         | root             | caching_sha2_password |</span><br><span class="line">| localhost | mysql.infoschema | caching_sha2_password |</span><br><span class="line">| localhost | mysql.session    | caching_sha2_password |</span><br><span class="line">| localhost | mysql.sys        | caching_sha2_password |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">5 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>å°† root ç”¨æˆ·çš„èº«ä»½éªŒè¯æ’ä»¶æ›´æ”¹ä¸ºâ€œ<strong>mysql_native_password</strong>â€å¹¶è®¾ç½®æ–°å¯†ç ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;Your New Password&#x27;;</span><br></pre></td></tr></table></figure></li>
<li><p>åˆ·æ–°æƒé™ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; select host, user, plugin from user;</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| host      | user             | plugin                |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| %         | hadoop           | caching_sha2_password |</span><br><span class="line">| %         | root             | caching_sha2_password |</span><br><span class="line">| localhost | mysql.infoschema | caching_sha2_password |</span><br><span class="line">| localhost | mysql.session    | caching_sha2_password |</span><br><span class="line">| localhost | mysql.sys        | caching_sha2_password |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">5 rows in set (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;Your New Password&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.08 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select host, user, plugin from user;</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| host      | user             | plugin                |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">| %         | hadoop           | caching_sha2_password |</span><br><span class="line">| %         | root             | mysql_native_password |</span><br><span class="line">| localhost | mysql.infoschema | caching_sha2_password |</span><br><span class="line">| localhost | mysql.session    | caching_sha2_password |</span><br><span class="line">| localhost | mysql.sys        | caching_sha2_password |</span><br><span class="line">+-----------+------------------+-----------------------+</span><br><span class="line">5 rows in set (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ä»¥ä¸Šæ­¥éª¤å®Œæˆåï¼Œæ‚¨å°±æˆåŠŸå°† MySQL 8 çš„èº«ä»½éªŒè¯æ’ä»¶æ›´æ”¹ä¸ºâ€œ<strong>mysql_native_password</strong>â€å¹¶è®¾ç½®äº†æ–°å¯†ç ã€‚ç°åœ¨ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿä½¿ç”¨ JDBC æˆ–å…¶ä»–å®¢æˆ·ç«¯å·¥å…·è¿æ¥åˆ° MySQL æœåŠ¡å™¨ï¼Œè€Œä¸å†é‡åˆ°â€œPublic Key Retrieval is not allowedâ€çš„é—®é¢˜ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹è§£å†³ MySQL 8 ä¸­çš„èº«ä»½éªŒè¯æ’ä»¶é—®é¢˜æœ‰æ‰€å¸®åŠ©ï¼</p>
<p>å‚è€ƒèµ„æ–™<br>Caching SHA-2 Pluggable Authenticationï¼š<br><a href="https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html">https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æŸ¥çœ‹MySQLç‰ˆæœ¬</title>
    <url>/2023/09/23/how-to-view-mysql-version/</url>
    <content><![CDATA[<p>MySQL æ˜¯ä¸€ç§å¸¸ç”¨çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨äºå„ç§ç±»å‹çš„åº”ç”¨ç¨‹åºä¸­ã€‚åœ¨è¿›è¡Œæ•°æ®åº“ç»´æŠ¤å’Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œäº†è§£å½“å‰æ‰€ä½¿ç”¨çš„ MySQL ç‰ˆæœ¬æ˜¯éå¸¸é‡è¦çš„ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ç§ç®€å•çš„æŸ¥çœ‹ MySQL ç‰ˆæœ¬æ–¹æ³•ã€‚</p>
<h2 id="æ–¹æ³•ä¸€ï¼šé€šè¿‡-SQL-æŸ¥è¯¢è¯­å¥"><a href="#æ–¹æ³•ä¸€ï¼šé€šè¿‡-SQL-æŸ¥è¯¢è¯­å¥" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€šè¿‡ SQL æŸ¥è¯¢è¯­å¥"></a>æ–¹æ³•ä¸€ï¼šé€šè¿‡ SQL æŸ¥è¯¢è¯­å¥</h2><ol>
<li>æ‰“å¼€ MySQL å®¢æˆ·ç«¯å·¥å…·ï¼Œä¾‹å¦‚ MySQL å‘½ä»¤è¡Œæˆ–è€…å›¾å½¢åŒ–ç•Œé¢å·¥å…·ï¼ˆå¦‚ MySQL Workbenchï¼‰ã€‚</li>
<li>è¿æ¥åˆ°è¦æŸ¥è¯¢ç‰ˆæœ¬çš„æ•°æ®åº“å®ä¾‹ã€‚</li>
<li>åœ¨ SQL æŸ¥è¯¢ç¼–è¾‘å™¨ä¸­è¾“å…¥ä»¥ä¸‹æŸ¥è¯¢è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> VERSION();</span><br></pre></td></tr></table></figure></li>
</ol>
<p>æˆ–è€…</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@VERSION</span>;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œå¯åœ¨ç»“æœä¸­è·å¾— MySQL çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="operator">|</span> VERSION()  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5.7</span><span class="number">.31</span><span class="operator">-</span>log <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.06</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œ"><a href="#æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œ" class="headerlink" title="æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œ"></a>æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œ</h2><ol>
<li><p>æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ã€‚</p>
</li>
<li><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql --version</span><br></pre></td></tr></table></figure></li>
<li><p>æŒ‰ä¸‹å›è½¦é”®æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œåœ¨è¾“å‡ºç»“æœä¸­çœ‹åˆ° MySQL çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql --version</span></span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.31, for Linux (x86_64) using  EditLine wrapper</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="æ–¹æ³•ä¸‰ï¼šé€šè¿‡-MySQL-ç®¡ç†å·¥å…·"><a href="#æ–¹æ³•ä¸‰ï¼šé€šè¿‡-MySQL-ç®¡ç†å·¥å…·" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé€šè¿‡ MySQL ç®¡ç†å·¥å…·"></a>æ–¹æ³•ä¸‰ï¼šé€šè¿‡ MySQL ç®¡ç†å·¥å…·</h2><p>å¦‚æœä½ ä½¿ç”¨äº†ä¸€äº›å›¾å½¢åŒ–ç•Œé¢çš„ MySQL ç®¡ç†å·¥å…·ï¼Œæ¯”å¦‚ phpMyAdminã€DBeaver æˆ– Navicatï¼Œåˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æŸ¥çœ‹ MySQL ç‰ˆæœ¬ï¼š</p>
<ol>
<li>æ‰“å¼€ MySQL ç®¡ç†å·¥å…·å¹¶è¿æ¥åˆ°æ•°æ®åº“å®ä¾‹ã€‚</li>
<li>å¯¼èˆªåˆ°å…³äºæˆ–ç³»ç»Ÿä¿¡æ¯ç­‰ç±»ä¼¼é€‰é¡¹ã€‚</li>
<li>åœ¨ç›¸åº”çš„é€‰é¡¹å¡æˆ–è§†å›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ° MySQL ç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
</ol>
<p>å¦‚åœ¨ DBeaver ä¸­ï¼Œå°†é¼ æ ‡åœç•™åœ¨å·²è¿æ¥çš„æ•°æ®åº“è¿æ¥ä¸Šï¼ŒDBeaver ä¼šæµ®çª—æ˜¾ç¤ºå½“å‰è¿æ¥çš„åç§°ã€URL å’Œè¿æ¥ç”¨æˆ·åå¤–ï¼Œè¿˜ä¼šæ˜¾ç¤ºå¯¹åº”çš„æ•°æ®åº“å®ä¾‹çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<h2 id="æ–¹æ³•å››ï¼šç»ˆç«¯ç™»å½•-MySQL"><a href="#æ–¹æ³•å››ï¼šç»ˆç«¯ç™»å½•-MySQL" class="headerlink" title="æ–¹æ³•å››ï¼šç»ˆç«¯ç™»å½• MySQL"></a>æ–¹æ³•å››ï¼šç»ˆç«¯ç™»å½• MySQL</h2><p>åœ¨ç»ˆç«¯é€šè¿‡å‘½ä»¤è¡Œ <code>mysql</code> è¿æ¥æœåŠ¡å™¨ä¹‹åï¼Œä¹Ÿä¼šæ˜¾ç¤ºæœåŠ¡å™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">$ mysql <span class="operator">-</span>uroot <span class="operator">-</span>h <span class="number">192.168</span><span class="number">.123</span><span class="number">.156</span></span><br><span class="line">Enter password: <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line"></span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands <span class="keyword">end</span> <span class="keyword">with</span> ; <span class="keyword">or</span> \g.</span><br><span class="line">Your MySQL connection id <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">Server version: <span class="number">5.7</span><span class="number">.37</span><span class="operator">-</span>log MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2022</span>, Oracle <span class="keyword">and</span><span class="operator">/</span><span class="keyword">or</span> its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle <span class="keyword">is</span> a registered trademark <span class="keyword">of</span> Oracle Corporation <span class="keyword">and</span><span class="operator">/</span><span class="keyword">or</span> its</span><br><span class="line">affiliates. Other names may be trademarks <span class="keyword">of</span> their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> help. Type <span class="string">&#x27;\c&#x27;</span> <span class="keyword">to</span> clear the <span class="keyword">current</span> input statement.</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äº”ï¼šé€šè¿‡-STATUS-å‘½ä»¤"><a href="#æ–¹æ³•äº”ï¼šé€šè¿‡-STATUS-å‘½ä»¤" class="headerlink" title="æ–¹æ³•äº”ï¼šé€šè¿‡ STATUS å‘½ä»¤"></a>æ–¹æ³•äº”ï¼šé€šè¿‡ STATUS å‘½ä»¤</h2><p>è¿æ¥åˆ° MySQL å®ä¾‹åï¼Œè¾“å…¥ STATUS å‘½ä»¤å¯ä»¥æŸ¥çœ‹ MySQL ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> STATUS;</span><br><span class="line"><span class="comment">--------------</span></span><br><span class="line">mysql  Ver <span class="number">14.14</span> Distrib <span class="number">5.7</span><span class="number">.37</span>, <span class="keyword">for</span> Linux (x86_64) <span class="keyword">using</span>  EditLine wrapper</span><br><span class="line"></span><br><span class="line">Connection id:          <span class="number">4</span></span><br><span class="line"><span class="keyword">Current</span> database:</span><br><span class="line"><span class="keyword">Current</span> <span class="keyword">user</span>:           root<span class="variable">@192</span><span class="number">.168</span><span class="number">.247</span><span class="number">.100</span></span><br><span class="line">SSL:                    Cipher <span class="keyword">in</span> use <span class="keyword">is</span> ECDHE<span class="operator">-</span>RSA<span class="operator">-</span>AES128<span class="operator">-</span>GCM<span class="operator">-</span>SHA256</span><br><span class="line"><span class="keyword">Current</span> pager:          less</span><br><span class="line"><span class="keyword">Using</span> outfile:          <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">Using</span> delimiter:        ;</span><br><span class="line">Server version:         <span class="number">5.7</span><span class="number">.37</span><span class="operator">-</span>log MySQL Community Server (GPL)</span><br><span class="line">Protocol version:       <span class="number">10</span></span><br><span class="line">Connection:             <span class="number">192.168</span><span class="number">.247</span><span class="number">.100</span> via TCP<span class="operator">/</span>IP</span><br><span class="line">Server characterset:    latin1</span><br><span class="line">Db     characterset:    latin1</span><br><span class="line">Client characterset:    utf8</span><br><span class="line">Conn.  characterset:    utf8</span><br><span class="line">TCP port:               <span class="number">3306</span></span><br><span class="line">Uptime:                 <span class="number">22</span> min <span class="number">33</span> sec</span><br><span class="line"></span><br><span class="line">Threads: <span class="number">3</span>  Questions: <span class="number">21</span>  Slow queries: <span class="number">0</span>  Opens: <span class="number">199</span>  Flush tables: <span class="number">1</span>  <span class="keyword">Open</span> tables: <span class="number">54</span>  Queries <span class="keyword">per</span> <span class="keyword">second</span> avg: <span class="number">0.015</span></span><br><span class="line"><span class="comment">--------------</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•å…­ï¼šé€šè¿‡-MySQL-å˜é‡"><a href="#æ–¹æ³•å…­ï¼šé€šè¿‡-MySQL-å˜é‡" class="headerlink" title="æ–¹æ³•å…­ï¼šé€šè¿‡ MySQL å˜é‡"></a>æ–¹æ³•å…­ï¼šé€šè¿‡ MySQL å˜é‡</h2><p>è¿æ¥åˆ° MySQL å®ä¾‹åï¼Œæ‰§è¡Œå‘½ä»¤ <code>SHOW VARIABLES WHERE variable_name LIKE &#39;version%&#39;</code> å¯ä»¥æŸ¥çœ‹ MySQL ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">WHERE</span> variable_name <span class="keyword">LIKE</span> <span class="string">&#x27;version%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name           <span class="operator">|</span> <span class="keyword">Value</span>                        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+------------------------------+</span></span><br><span class="line"><span class="operator">|</span> version                 <span class="operator">|</span> <span class="number">5.7</span><span class="number">.37</span><span class="operator">-</span>log                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> version_comment         <span class="operator">|</span> MySQL Community Server (GPL) <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> version_compile_machine <span class="operator">|</span> x86_64                       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> version_compile_os      <span class="operator">|</span> Linux                        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------------------------+------------------------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æŸ¥çœ‹ MySQL ç‰ˆæœ¬çš„å…­ç§æ–¹æ³•åˆ†åˆ«æ˜¯é€šè¿‡ SQL æŸ¥è¯¢è¯­å¥ã€å‘½ä»¤è¡Œã€MySQL ç®¡ç†å·¥å…·ã€åœ¨ç»ˆç«¯ç™»å½• MySQL æ—¶è¿”å›çš„æç¤ºä¿¡æ¯ã€STATUS å‘½ä»¤å’Œ MySQL å˜é‡ã€‚ä»¥ä¸Šè¿™äº›æ–¹æ³•éƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ–¹ä¾¿åœ°è·å–æ‰€ä½¿ç”¨çš„ MySQL ç‰ˆæœ¬ä¿¡æ¯ã€‚åœ¨è¿›è¡Œæ•°æ®åº“ç»´æŠ¤ã€ä¼˜åŒ–å’Œå¼€å‘æ—¶ï¼Œäº†è§£ç‰ˆæœ¬ä¿¡æ¯å¯¹äºç¡®ä¿å…¼å®¹æ€§å’Œåˆ©ç”¨æ–°åŠŸèƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Elasticsearchæ–‡æ¡£IDçš„é•¿åº¦é™åˆ¶</title>
    <url>/2023/10/13/elasticsearch-doc-id-limit-512-bytes/</url>
    <content><![CDATA[<p>åœ¨ Elasticsearch ä¸­ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰å”¯ä¸€çš„æ–‡æ¡£ IDï¼Œç”¨äºæ ‡è¯†è¯¥æ–‡æ¡£åœ¨ç´¢å¼•ä¸­çš„ä½ç½®ã€‚æ–‡æ¡£IDæ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œäº†è§£å®ƒçš„é•¿åº¦é™åˆ¶éå¸¸é‡è¦ã€‚</p>
<p><strong>Elasticsearch æ–‡æ¡£ ID çš„é•¿åº¦é™åˆ¶æ˜¯ 512 Bytesã€‚</strong>è¿™æ„å‘³ç€æ–‡æ¡£ ID ä¸èƒ½è¶…è¿‡ 512 å­—èŠ‚çš„å¤§å°ã€‚å¦‚æœä½ å°è¯•åˆ›å»ºä¸€ä¸ªè¶…è¿‡ 512 å­—èŠ‚çš„æ–‡æ¡£ IDï¼ŒElasticsearch å°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚è¿™ä¸ªé™åˆ¶æ˜¯ä¸ºäº†ä¿è¯ç´¢å¼•çš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p>
<p>ä»¥ä¸‹é€šè¿‡ç¤ºä¾‹æ¥è¯´æ˜ Elasticsearch æ–‡æ¡£ ID çš„é•¿åº¦é™åˆ¶ã€‚</p>
<blockquote>
<p>Elasticsearch ç‰ˆæœ¬ï¼š7.1.0<br>API è°ƒç”¨å‡åœ¨ Kibana å¼€å‘å·¥å…·ä¸Šæ“ä½œ</p>
</blockquote>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <em>test_idx</em> ç´¢å¼•ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT test_idx </span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæ’å…¥ä¸€ä¸ª ID é•¿åº¦ä¸º 678 çš„æ–‡æ¡£ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">POST test_idx/_doc/oooooooooojirgrjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjpppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppppp999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span><span class="string">&quot;nick&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°è¿”å›é”™è¯¯ä¿¡æ¯ <code>Validation Failed: 1: id is too long, must be no longer than 512 bytes but was: 678</code>ï¼Œå…·ä½“ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;error&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;root_cause&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;action_request_validation_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Validation Failed: 1: id is too long, must be no longer than 512 bytes but was: 678;&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;action_request_validation_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Validation Failed: 1: id is too long, must be no longer than 512 bytes but was: 678;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="number">400</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>å¦‚æœè¦æ’å…¥çš„æ–‡æ¡£ ID ä¸ºä¸­æ–‡çš„è¯ï¼Œåˆ™é•¿åº¦ä¸èƒ½è¶…è¿‡ 170ã€‚</strong>å› ä¸ºå¤§éƒ¨åˆ†ä¸­æ–‡å­—ç¬¦ï¼Œåœ¨ UTF-8 ä¸­æ˜¯é‡‡ç”¨ 3 ä¸ªå­—èŠ‚è¿›è¡Œå­˜å‚¨çš„ï¼Œæ‰€ä»¥æ–‡æ¡£ ID ä¸ºä¸­æ–‡æ—¶æœ€å¤§é•¿åº¦ä¸ºï¼š512/3=170.7ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ’å…¥ ID å€¼ä¸º<code>_èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…èˆ’å®¢æ³¡æ„Ÿç‰™è†ä¸“ä¸šç³»åˆ—é˜²è›€ç¾ç™½å«æ°Ÿæ¸…æ–°å£æ°”æ¸…æ´å£è…”æ——èˆ°åº—å®¶åº­è£…_</code>çš„æ–‡æ¡£ï¼Œè¯¥ ID çš„é•¿åº¦ä¸º 180ï¼Œ540 å­—èŠ‚ï¼ˆæ³¨æ„ï¼šå¯¹äºä¸­æ–‡çš„æ–‡æ¡£ IDï¼Œåœ¨è°ƒç”¨ API æ—¶ï¼Œéœ€è¦å…ˆè¿›è¡Œ URLEncodeï¼‰ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">POST test_idx/_doc/%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span>%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span>%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span>%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span>%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span>%E8%<span class="number">88</span>%<span class="number">92</span>%E5%AE%A2%E6%B3%A1%E6%<span class="number">84</span>%<span class="number">9</span>F%E7%<span class="number">89</span>%<span class="number">99</span>%E8%<span class="number">86</span>%<span class="number">8</span>F%E4%B8%<span class="number">93</span>%E4%B8%<span class="number">9</span>A%E7%B3%BB%E5%<span class="number">88</span>%<span class="number">97</span>%E9%<span class="number">98</span>%B2%E8%<span class="number">9</span>B%<span class="number">80</span>%E7%BE%<span class="number">8</span>E%E7%<span class="number">99</span>%BD%E5%<span class="number">90</span>%AB%E6%B0%<span class="number">9</span>F%E6%B8%<span class="number">85</span>%E6%<span class="number">96</span>%B0%E5%<span class="number">8</span>F%A3%E6%B0%<span class="number">94</span>%E6%B8%<span class="number">85</span>%E6%B4%<span class="number">81</span>%E5%<span class="number">8</span>F%A3%E8%<span class="number">85</span>%<span class="number">94</span>%E6%<span class="number">97</span>%<span class="number">97</span>%E8%<span class="number">88</span>%B0%E5%BA%<span class="number">97</span>%E5%AE%B6%E5%BA%AD%E8%A3%<span class="number">85</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span><span class="string">&quot;nick&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p> è¿”å›çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;error&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;root_cause&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;action_request_validation_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Validation Failed: 1: id is too long, must be no longer than 512 bytes but was: 540;&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;action_request_validation_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Validation Failed: 1: id is too long, must be no longer than 512 bytes but was: 540;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="number">400</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°è¿”å›åŒæ ·çš„é”™è¯¯ï¼š<code>id is too long, must be no longer than 512 byte</code>ã€‚</p>
<p>å¦å¤–ï¼Œåœ¨ Elasticsearch çš„æºç ä¸­ä¹Ÿå¯ä»¥æ‰¾åˆ°è¿™ä¸ªæ–‡æ¡£ ID çš„é™åˆ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Maximal allowed length (in bytes) of the document ID.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX_DOCUMENT_ID_LENGTH_IN_BYTES</span> <span class="operator">=</span> <span class="number">512</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (id != <span class="literal">null</span> &amp;&amp; id.getBytes(StandardCharsets.UTF_8).length &gt; MAX_DOCUMENT_ID_LENGTH_IN_BYTES) &#123;</span><br><span class="line">    validationException = addValidationError(</span><br><span class="line">        <span class="string">&quot;id [&quot;</span></span><br><span class="line">        + id</span><br><span class="line">        + <span class="string">&quot;] is too long, must be no longer than &quot;</span></span><br><span class="line">        + MAX_DOCUMENT_ID_LENGTH_IN_BYTES</span><br><span class="line">        + <span class="string">&quot; bytes but was: &quot;</span></span><br><span class="line">        + id.getBytes(StandardCharsets.UTF_8).length,</span><br><span class="line">        validationException</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…·ä½“æºç å¯ä»¥æŸ¥çœ‹ <code>IndexRequest</code> è¿™ä¸ªç±»ï¼š<br><a href="https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java">https://github.com/elastic/elasticsearch/blob/main/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java</a></p>
<p>ä¸ºä»€ä¹ˆè¦é™åˆ¶æ–‡æ¡£ ID çš„é•¿åº¦å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæ–‡æ¡£ ID åœ¨ç´¢å¼•ä¸­æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰²ã€‚æ–‡æ¡£ ID è¢«ç”¨æ¥æŸ¥æ‰¾æ–‡æ¡£ã€æ›´æ–°æ–‡æ¡£ã€åˆ é™¤æ–‡æ¡£å’Œæ’åºæ–‡æ¡£ã€‚å¦‚æœæ–‡æ¡£ ID å¤ªé•¿ï¼Œé‚£ä¹ˆæ¯ä¸ªæ–‡æ¡£çš„å­˜å‚¨ç©ºé—´å°±ä¼šå¢åŠ ï¼Œè¿™ä¼šå¯¼è‡´ç´¢å¼•çš„æ€§èƒ½ä¸‹é™ã€‚æ­¤å¤–ï¼Œå¦‚æœæ–‡æ¡£ ID å¤ªé•¿ï¼Œé‚£ä¹ˆ Elasticsearch é›†ç¾¤çš„å†…å­˜å’Œç£ç›˜ç©ºé—´çš„ä½¿ç”¨ä¹Ÿä¼šå¢åŠ ï¼Œä»è€Œé™ä½æ•´ä¸ªé›†ç¾¤çš„æ€§èƒ½ã€‚</p>
<p>ä¸ºäº†é¿å…æ–‡æ¡£ ID è¿‡é•¿ï¼Œå¼€å‘äººå‘˜åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ç®€çŸ­è€Œä¸”å”¯ä¸€çš„æ–‡æ¡£ IDã€‚é€šå¸¸ï¼Œå¯ä»¥ä½¿ç”¨ UUID æˆ–è€…æ•°å­—ä½œä¸ºæ–‡æ¡£ IDã€‚å¦‚æœéœ€è¦ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„æ–‡æ¡£ IDï¼Œå¯ä»¥ä½¿ç”¨æœ‰é™çš„å­—ç¬¦é›†åˆå’Œé€‚å½“çš„ç¼–ç æ–¹æ³•æ¥ç¼©çŸ­æ–‡æ¡£ ID çš„é•¿åº¦ã€‚</p>
<p>äº†è§£ Elasticsearch æ–‡æ¡£ ID çš„é•¿åº¦é™åˆ¶æ˜¯éå¸¸é‡è¦çš„ï¼Œå®ƒå¯¹äºç¡®ä¿ Elasticsearch ç´¢å¼•çš„æ€§èƒ½å’Œç¨³å®šæ€§è‡³å…³é‡è¦ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ª Elasticsearch å¼€å‘äººå‘˜ï¼Œä½ åº”è¯¥éµå®ˆè¿™ä¸ªé™åˆ¶ï¼Œå¹¶ä¸”å°½å¯èƒ½åœ°ä½¿ç”¨ç®€çŸ­è€Œä¸”å”¯ä¸€çš„æ–‡æ¡£ IDã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLæ•´æ•°ç±»å‹INT(5)å’ŒINT(11)çš„åŒºåˆ«</title>
    <url>/2023/09/27/what-does-int5-and-int11-means-in-mysql/</url>
    <content><![CDATA[<p>MySQL æ”¯æŒ SQL æ ‡å‡†æ•´æ•°ç±»å‹ INTEGERï¼ˆæˆ– INTï¼‰å’Œ SMALLINTã€‚ä½œä¸ºæ ‡å‡†çš„æ‰©å±•ï¼ŒMySQL è¿˜æ”¯æŒ TINYINTã€MEDIUMINT å’Œ BIGINT æ•´æ•°ç±»å‹ã€‚ä¸‹è¡¨æ˜¾ç¤ºäº†æ¯ç§æ•´æ•°ç±»å‹æ‰€éœ€çš„å­˜å‚¨ç©ºé—´å’ŒèŒƒå›´ã€‚</p>
<table>
<thead>
<tr>
<th><strong>ç±»å‹</strong></th>
<th><strong>å­˜å‚¨ (Bytes)</strong></th>
<th><strong>æœ€å°å€¼ï¼ˆæœ‰ç¬¦å·ï¼‰</strong></th>
<th><strong>æœ€å°å€¼ï¼ˆæ— ç¬¦å·ï¼‰</strong></th>
<th><strong>æœ€å¤§å€¼ï¼ˆæœ‰ç¬¦å·ï¼‰</strong></th>
<th><strong>æœ€å¤§å€¼ï¼ˆæ— ç¬¦å·ï¼‰</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>TINYINT</strong></td>
<td>1</td>
<td>-128</td>
<td>0</td>
<td>127</td>
<td>255</td>
</tr>
<tr>
<td><strong>SMALLINT</strong></td>
<td>2</td>
<td>-32768</td>
<td>0</td>
<td>32767</td>
<td>65535</td>
</tr>
<tr>
<td><strong>MEDIUMINT</strong></td>
<td>3</td>
<td>-8388608</td>
<td>0</td>
<td>8388607</td>
<td>16777215</td>
</tr>
<tr>
<td><strong>INT</strong></td>
<td>4</td>
<td>-2147483648</td>
<td>0</td>
<td>2147483647</td>
<td>4294967295</td>
</tr>
<tr>
<td><strong>BIGINT</strong></td>
<td>8</td>
<td>-263</td>
<td>0</td>
<td>263-1</td>
<td>264-1</td>
</tr>
</tbody></table>
<p>è¿™äº›æ•´æ•°ç±»å‹åé¢çš„æ•°å­—è¡¨ç¤ºæœ€å¤§æ˜¾ç¤ºå®½åº¦ï¼Œå¹¶ä¸å½±å“å®é™…å­˜å‚¨èŒƒå›´ã€‚ä¾‹å¦‚ï¼ŒINT(5) å’Œ INT(11) çš„å­˜å‚¨èŒƒå›´å’Œå¤§å°å®Œå…¨ä¸€æ ·ï¼Œéƒ½æ˜¯ -2147483648 ~ 2147483647ï¼Œå  4 ä¸ªå­—èŠ‚ã€‚(5) å’Œ (11) åªæ˜¯è¡¨ç¤ºæ˜¾ç¤ºå®½åº¦ï¼Œå³ INT(5) æ˜¾ç¤ºç»“æœçš„æœ€å¤§å®½åº¦ä¸º 5 ä½ï¼Œä¸è¶³ä¼šç”¨ç©ºæ ¼ï¼ˆé»˜è®¤ï¼‰è¡¥é½ï¼›INT(11) æ˜¾ç¤ºç»“æœçš„æœ€å¤§å®½åº¦ä¸º 11 ä½ã€‚</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è¯´æ˜ã€‚</p>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€å¼ åä¸º <code>tbl_integer</code> çš„æ•°æ®è¡¨ï¼ŒåŒ…å«ä¸¤åˆ— <code>id_5</code> å’Œ <code>id_11</code>ï¼Œæ•°æ®ç±»å‹å‡ä¸ºæ•´æ•°ç±»å‹ï¼Œæœ€å¤§æ˜¾ç¤ºå®½åº¦åˆ†åˆ«ä¸º 5 å’Œ 11ï¼Œå¹¶éƒ½è®¾ç½®æˆæ— ç¬¦å·ä¸”å¡«å……é›¶ï¼ˆUNSIGNED ZEROFILLï¼‰ï¼Œå³å½“æ•°å€¼ä½æ•°æœªè¾¾åˆ°è®¾ç½®çš„æ˜¾ç¤ºå®½åº¦æ—¶ï¼Œä¼šåœ¨æ•°å€¼å‰é¢å¡«å……é›¶ç›´åˆ°æ»¡è¶³è®¾å®šçš„æ˜¾ç¤ºå®½åº¦ã€‚å…¶ä¸­ <code>id_5</code> åˆ—æ˜¯ä¸»é”®ï¼Œè¡¨çš„å­˜å‚¨å¼•æ“ä¸º InnoDBï¼Œå­—ç¬¦é›†ä¸º utf8mb4ã€‚</p>
<p>è¡¨ DDL å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tbl_integer` (</span><br><span class="line">  `id_5` <span class="type">int</span>(<span class="number">5</span>) unsigned zerofill <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `id_11` <span class="type">int</span>(<span class="number">11</span>) unsigned zerofill <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id_5`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4</span><br></pre></td></tr></table></figure>
<p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æ’å…¥è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tbl_integer <span class="keyword">values</span>(<span class="number">12</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tbl_integer <span class="keyword">values</span>(<span class="number">123456</span>,<span class="number">1234567890</span>);</span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œæ‰§è¡Œä»¥ä¸‹æŸ¥è¯¢è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tbl_integer;</span><br></pre></td></tr></table></figure>
<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+</span></span><br><span class="line"><span class="operator">|</span> id_5   <span class="operator">|</span> id_11       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">00012</span> <span class="operator">|</span> <span class="number">00000000012</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">123456</span> <span class="operator">|</span> <span class="number">01234567890</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ•°å­—çš„ä½æ•°å°‘äºæŒ‡å®šçš„æ˜¾ç¤ºå®½åº¦ï¼ŒMySQL ä¼šä½¿ç”¨ 0 æ¥å¡«å……å·¦ä¾§ä»¥ä¿æŒæ˜¾ç¤ºå®½åº¦ä¸€è‡´ã€‚å¦‚åœ¨åˆ— <code>id_5</code> ä¸­ï¼Œæ•°å­— 12 ä¼šæ˜¾ç¤ºä¸º 00012ã€‚</p>
<blockquote>
<p>æ³¨ï¼šä¸Šè¿°ç¤ºä¾‹æ˜¯åœ¨ MySQL CLIï¼ˆå³å‘½ä»¤è¡Œç•Œé¢ï¼‰è¿›è¡Œæ“ä½œï¼Œéƒ¨åˆ† MySQL å®¢æˆ·ç«¯å·¥å…·å¯èƒ½ä¼šè‡ªåŠ¨å»æ‰æ•´æ•°å‰é¢çš„ 0ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¸ä¼šæ˜¾ç¤ºå·¦è¾¹çš„ 0ã€‚</p>
</blockquote>
<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ˜¾ç¤ºå®½åº¦å¹¶ä¸å½±å“å®é™…å­˜å‚¨å¤§å°å’Œæ€§èƒ½ã€‚INT(5) å’Œ INT(11) å ç”¨å­˜å‚¨ç©ºé—´å®Œå…¨ç›¸åŒï¼Œå¤„ç†é€Ÿåº¦ä¹Ÿä¸€æ ·ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>INT(5) å’Œ INT(11) ä¹‹é—´çš„å”¯ä¸€åŒºåˆ«æ˜¯æ˜¾ç¤ºå®½åº¦çš„è®¾ç½®ã€‚è¿™äº›è®¾ç½®åªå½±å“ç»“æœçš„æ˜¾ç¤ºï¼Œåœ¨å­˜å‚¨å’Œè®¡ç®—ä¸Šæ²¡æœ‰ä»»ä½•å®é™…å˜åŒ–ã€‚è®°ä½ï¼ŒINT ç±»å‹çš„å–å€¼èŒƒå›´ä¸æ˜¾ç¤ºå®½åº¦æ— å…³ï¼Œä»ç„¶æ˜¯ -2,147,483,648 åˆ° 2,147,483,647ã€‚åœ¨é€‰æ‹©ä½¿ç”¨å“ªç§æ˜¾ç¤ºå®½åº¦æ—¶ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦å’Œç¾è§‚åº¦è¿›è¡Œé€‰æ‹©ã€‚</p>
<p>ä»¥ä¸Šç®€å•ä»‹ç»äº† MySQL ä¸­ INT(5) å’Œ INT(11) çš„åŒºåˆ«ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ä½¿ç”¨ MySQL çš„æ•´æ•°ç±»å‹ã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ol>
<li>MySQL Documentation: <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html">https://dev.mysql.com/doc/refman/8.0/en/integer-types.html</a></li>
</ol>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯Consumer Internetï¼Ÿ</title>
    <url>/2023/10/08/consumer-internet/</url>
    <content><![CDATA[<p><strong>æ¶ˆè´¹äº’è”ç½‘(Consumer Internet)</strong> æŒ‡çš„æ˜¯é¢å‘æ¶ˆè´¹è€…çš„äº’è”ç½‘äº§å“ã€æœåŠ¡å’Œå•†ä¸šæ¨¡å¼ã€‚å®ƒå°†äº’è”ç½‘æŠ€æœ¯å’Œå¹³å°åº”ç”¨äºæ»¡è¶³ä¸ªäººæ¶ˆè´¹éœ€æ±‚çš„é¢†åŸŸï¼Œä¸ºæ¶ˆè´¹è€…æä¾›å„ç§äº§å“å’ŒæœåŠ¡ã€‚åŸºäºäº’è”ç½‘å’Œç§»åŠ¨äº’è”ç½‘æŠ€æœ¯ï¼Œé€šè¿‡ç”µå­å•†åŠ¡å¹³å°ã€åœ¨çº¿æ”¯ä»˜ç³»ç»Ÿã€ç¤¾äº¤åª’ä½“å¹³å°ç­‰ä¸ºæ¶ˆè´¹è€…æä¾›ä¾¿æ·ã€ä¸°å¯Œçš„æ¶ˆè´¹ä½“éªŒã€‚å®ƒä¸è¿‡å»é¢å‘ä¼ä¸šç”¨æˆ·çš„äº’è”ç½‘æœ‰ç€æ˜æ˜¾çš„ä¸åŒã€‚</p>
<h2 id="ä¸€ã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸€ã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸€ã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦ç‰¹ç‚¹"></a>ä¸€ã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦ç‰¹ç‚¹</h2><ol>
<li>ä»¥æ¶ˆè´¹è€…ä¸ºä¸­å¿ƒã€‚æ¶ˆè´¹äº’è”ç½‘æ»¡è¶³æ¶ˆè´¹è€…çš„å„ç§éœ€æ±‚ï¼Œå¦‚å¨±ä¹ã€ç¤¾äº¤ã€è´­ç‰©ç­‰ã€‚</li>
<li>å¼ºè°ƒç”¨æˆ·ä½“éªŒã€‚æ¶ˆè´¹äº’è”ç½‘äº§å“è¿½æ±‚ç®€å•ã€ä¾¿æ·çš„ç”¨æˆ·ä½“éªŒï¼Œé™ä½æ¶ˆè´¹è€…çš„ä½¿ç”¨é—¨æ§›ã€‚</li>
<li>å•†ä¸šæ¨¡å¼å¤šæ ·ã€‚æ¶ˆè´¹äº’è”ç½‘çš„å•†ä¸šæ¨¡å¼åŒ…æ‹¬å¹¿å‘Šã€äº¤æ˜“ä½£é‡‘ã€å¢å€¼æœåŠ¡ã€è®¢é˜…ç­‰ã€‚</li>
<li>é«˜åº¦ä¾èµ–ç§»åŠ¨äº’è”ç½‘ã€‚æ¶ˆè´¹äº’è”ç½‘å¤§é‡åº”ç”¨æ‰‹æœºç­‰ç§»åŠ¨ç»ˆç«¯ï¼Œå¯ä»¥éšæ—¶éšåœ°æ¥å…¥æœåŠ¡ã€‚</li>
</ol>
<h2 id="äºŒã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦é¢†åŸŸ"><a href="#äºŒã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦é¢†åŸŸ" class="headerlink" title="äºŒã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦é¢†åŸŸ"></a>äºŒã€æ¶ˆè´¹äº’è”ç½‘çš„ä¸»è¦é¢†åŸŸ</h2><ol>
<li>å¨±ä¹ - è§†é¢‘ã€éŸ³ä¹ã€æ¸¸æˆç­‰å¨±ä¹å†…å®¹ã€‚ä¾‹å¦‚æŠ–éŸ³ã€ç½‘æ˜“äº‘éŸ³ä¹ã€‚</li>
<li>ç¤¾äº¤ - ç¤¾äº¤ç½‘ç»œã€å³æ—¶é€šè®¯ã€‚ä¾‹å¦‚å¾®ä¿¡ã€å¾®åšã€‚</li>
<li>ç”µå­å•†åŠ¡ - ç”µå•†è´­ç‰©ã€å¤–å–è®¢é¤ç­‰ç”µå­å•†åŠ¡ã€‚ä¾‹å¦‚æ·˜å®ã€ç¾å›¢ã€‚</li>
<li>èµ„è®¯ - è·å–ä¿¡æ¯å’ŒçŸ¥è¯†ã€‚ä¾‹å¦‚ä»Šæ—¥å¤´æ¡ã€çŸ¥ä¹ã€‚</li>
<li>æ—…æ¸¸ - é…’åº—é¢„è®¢ã€æ—…æ¸¸æ”»ç•¥ç­‰æ—…æ¸¸æœåŠ¡ã€‚ä¾‹å¦‚æºç¨‹ã€é€”å®¶ã€‚</li>
<li>åœ¨çº¿æ”¯ä»˜ - åœ¨çº¿æ”¯ä»˜ç³»ç»Ÿä½¿å¾—æ¶ˆè´¹è€…å¯ä»¥é€šè¿‡æ‰‹æœºè½»æ¾å®Œæˆæ”¯ä»˜ï¼Œæ–¹ä¾¿å¿«æ·ã€‚ä¾‹å¦‚æ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€‚</li>
</ol>
<h2 id="ä¸‰ã€æ¶ˆè´¹äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿"><a href="#ä¸‰ã€æ¶ˆè´¹äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿" class="headerlink" title="ä¸‰ã€æ¶ˆè´¹äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿"></a>ä¸‰ã€æ¶ˆè´¹äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿</h2><ol>
<li>å‘æœ¬åœ°ç”Ÿæ´»æœåŠ¡å»¶ä¼¸ï¼Œæ»¡è¶³æ›´ä¸°å¯Œçš„ç”Ÿæ´»éœ€æ±‚ã€‚</li>
<li>åˆ©ç”¨äººå·¥æ™ºèƒ½æä¾›æ›´ä¸ªæ€§åŒ–çš„äº§å“å’ŒæœåŠ¡ã€‚</li>
<li>è¿›ä¸€æ­¥æ•´åˆçº¿ä¸Šçº¿ä¸‹èµ„æºï¼Œæä¾›æ— ç¼çš„å…¨æ¸ é“ç”¨æˆ·ä½“éªŒã€‚</li>
<li>åŠ å¼ºæ•°æ®å®‰å…¨å’Œéšç§ä¿æŠ¤ï¼Œæé«˜ç”¨æˆ·ä¿¡ä»»ã€‚</li>
<li>ä¸æ–­åˆ›æ–°å•†ä¸šæ¨¡å¼ï¼Œåˆ›é€ æ–°çš„æ¶ˆè´¹åœºæ™¯ã€‚</li>
</ol>
<h2 id="å››ã€å°ç»“"><a href="#å››ã€å°ç»“" class="headerlink" title="å››ã€å°ç»“"></a>å››ã€å°ç»“</h2><p>éšç€äº’è”ç½‘å’Œç§»åŠ¨äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼å’Œæ¶ˆè´¹ä¹ æƒ¯ä¹Ÿå‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ã€‚æ¶ˆè´¹äº’è”ç½‘ä½œä¸ºæ–°æ—¶ä»£çš„ä»£è¡¨ï¼Œå·²ç»æ·±å…¥åˆ°æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­ï¼Œæ­£åœ¨æ·±åˆ»é‡å¡‘äººä»¬çš„ç”Ÿæ´»å’Œæ¶ˆè´¹æ–¹å¼ã€‚</p>
<p>æ¶ˆè´¹äº’è”ç½‘å·²ç»æˆä¸ºäº’è”ç½‘å‘å±•çš„ä¸»æµï¼Œå¹¶å°†ç»§ç»­å‘å±•å£®å¤§ï¼Œéšç€äººå·¥æ™ºèƒ½ã€å¤§æ•°æ®ç­‰æŠ€æœ¯çš„åº”ç”¨ï¼Œè´­ç‰©ä½“éªŒå°†æ›´åŠ æ™ºèƒ½åŒ–å’Œä¸ªæ€§åŒ–ã€‚æ¶ˆè´¹è€…å¯¹äºå“è´¨ã€ä½“éªŒçš„è¦æ±‚ä¹Ÿå°†ä¸æ–­æé«˜ï¼Œæ¨åŠ¨ç€å•†å®¶ä¸æ–­åˆ›æ–°å’Œæå‡æœåŠ¡è´¨é‡ã€‚è¿™ä¹Ÿå°†å¸¦æ¥å·¨å¤§çš„å•†ä¸šæœºä¼šå’Œå˜é©å½±å“ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
  </entry>
  <entry>
    <title>ç”¨æˆ·ç”»åƒï¼šä»æ•°æ®åˆ°äººç¾¤ç‰¹å¾</title>
    <url>/2023/10/16/user-profile-intro/</url>
    <content><![CDATA[<p>å½“ä¸‹ï¼Œéšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•å’Œæ™®åŠï¼Œç”¨æˆ·æ•°æ®é€æ¸æˆä¸ºé‡è¦çš„å•†ä¸šèµ„æºï¼Œä¼ä¸šå’Œç»„ç»‡è¶Šæ¥è¶Šé‡è§†å¯¹ç”¨æˆ·çš„äº†è§£å’Œåˆ†æã€‚ç”¨æˆ·ç”»åƒä½œä¸ºä¸€ç§æœ‰æ•ˆçš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šæ›´å¥½åœ°äº†è§£ç›®æ ‡ç”¨æˆ·çš„ç‰¹ç‚¹å’Œéœ€æ±‚ï¼Œè¿›è€Œè¿›è¡Œç²¾å‡†çš„å¸‚åœºå®šä½ã€äº§å“è®¾è®¡å’Œè¥é”€æ¨å¹¿ç­‰æ´»åŠ¨ã€‚</p>
<h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯ç”¨æˆ·ç”»åƒ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯ç”¨æˆ·ç”»åƒ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ç”¨æˆ·ç”»åƒ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ç”¨æˆ·ç”»åƒ</h2><p>ç”¨æˆ·ç”»åƒï¼ˆUser Profileï¼‰ï¼ŒæŒ‡é€šè¿‡æ•°æ®åˆ†æã€æŒ–æ˜å’Œæ•´åˆï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç¾¤ä½“è¿›è¡Œæè¿°å’Œåˆ†ç±»çš„è¿‡ç¨‹ã€‚å®ƒåŒ…æ‹¬ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€å…´è¶£çˆ±å¥½ã€ä½¿ç”¨è¡Œä¸ºã€ç¤¾äº¤ç½‘ç»œç­‰å¤šä¸ªæ–¹é¢çš„æ•°æ®ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šæˆ–ç»„ç»‡æ›´å¥½åœ°äº†è§£ç”¨æˆ·éœ€æ±‚å’Œä¹ æƒ¯ï¼Œæä¾›ä¸ªæ€§åŒ–çš„äº§å“å’ŒæœåŠ¡ã€‚</p>
<h2 id="äºŒã€ç”¨æˆ·ç”»åƒçš„åº”ç”¨åœºæ™¯"><a href="#äºŒã€ç”¨æˆ·ç”»åƒçš„åº”ç”¨åœºæ™¯" class="headerlink" title="äºŒã€ç”¨æˆ·ç”»åƒçš„åº”ç”¨åœºæ™¯"></a>äºŒã€ç”¨æˆ·ç”»åƒçš„åº”ç”¨åœºæ™¯</h2><ol>
<li> å¸‚åœºå®šä½ï¼šé€šè¿‡ç”¨æˆ·ç”»åƒï¼Œä¼ä¸šå¯ä»¥äº†è§£ç›®æ ‡ç”¨æˆ·çš„å¹´é¾„ã€æ€§åˆ«ã€åœ°åŸŸã€æ”¶å…¥ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œä»è€Œç¡®å®šäº§å“çš„å®šä½å’Œç›®æ ‡å¸‚åœºã€‚ </li>
<li> äº§å“è®¾è®¡ï¼šç”¨æˆ·ç”»åƒå¯ä»¥å¸®åŠ©ä¼ä¸šäº†è§£ç”¨æˆ·çš„éœ€æ±‚å’Œä½¿ç”¨ä¹ æƒ¯ï¼Œæä¾›æ›´ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„äº§å“å’ŒæœåŠ¡ã€‚ </li>
<li> è¥é”€æ¨å¹¿ï¼šé€šè¿‡ç”¨æˆ·ç”»åƒï¼Œä¼ä¸šå¯ä»¥æ ¹æ®ç”¨æˆ·çš„å…´è¶£çˆ±å¥½ã€è´­ä¹°è¡Œä¸ºã€ç¤¾äº¤ç½‘ç»œç­‰ä¿¡æ¯ï¼Œè¿›è¡Œç²¾å‡†çš„å¹¿å‘ŠæŠ•æ”¾å’Œè¥é”€æ¨å¹¿ï¼Œæé«˜å¹¿å‘Šçš„ç‚¹å‡»ç‡å’Œè½¬åŒ–ç‡ã€‚ </li>
<li> å®¢æˆ·æœåŠ¡ï¼šç”¨æˆ·ç”»åƒå¯ä»¥å¸®åŠ©ä¼ä¸šäº†è§£ç”¨æˆ·çš„æ¶ˆè´¹ä¹ æƒ¯å’Œåå¥½ï¼Œæä¾›æ›´ä¼˜è´¨çš„å®¢æˆ·æœåŠ¡å’Œå”®åæ”¯æŒã€‚ </li>
</ol>
<h2 id="ä¸‰ã€ç”¨æˆ·ç”»åƒçš„æ•°æ®æ¥æº"><a href="#ä¸‰ã€ç”¨æˆ·ç”»åƒçš„æ•°æ®æ¥æº" class="headerlink" title="ä¸‰ã€ç”¨æˆ·ç”»åƒçš„æ•°æ®æ¥æº"></a>ä¸‰ã€ç”¨æˆ·ç”»åƒçš„æ•°æ®æ¥æº</h2><ol>
<li> ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼šé€šè¿‡ç”¨æˆ·åœ¨äº’è”ç½‘ä¸Šçš„è¡Œä¸ºï¼ˆæµè§ˆè®°å½•ã€æœç´¢è®°å½•ç­‰ï¼‰å’Œä½¿ç”¨è¡Œä¸ºï¼ˆè´­ä¹°è®°å½•ã€è¯„è®ºã€è¯„åˆ†ç­‰ï¼‰æ”¶é›†ï¼Œäº†è§£ç”¨æˆ·çš„å…´è¶£çˆ±å¥½å’Œéœ€æ±‚ã€‚ </li>
<li> ç¤¾äº¤ç½‘ç»œæ•°æ®ï¼šé€šè¿‡ç¤¾äº¤å¹³å°è·å–ç”¨æˆ·çš„å…³æ³¨å’Œç²‰ä¸åˆ—è¡¨ã€ç¤¾äº¤äº’åŠ¨è¡Œä¸ºç­‰ä¿¡æ¯ï¼Œäº†è§£ç”¨æˆ·çš„ç¤¾äº¤ç‰¹ç‚¹å’Œå½±å“åŠ›ã€‚ </li>
<li> ç¬¬ä¸‰æ–¹æ•°æ®ï¼šé€šè¿‡è´­ä¹°ç¬¬ä¸‰æ–¹æ•°æ®æˆ–ä¸ç¬¬ä¸‰æ–¹åˆä½œæ”¶é›†ç”¨æˆ·æ•°æ®ï¼Œäº†è§£ç”¨æˆ·çš„äººå£å­¦ç‰¹å¾ã€æ¶ˆè´¹ä¹ æƒ¯ç­‰ä¿¡æ¯ã€‚ </li>
</ol>
<h2 id="å››ã€ç”¨æˆ·ç”»åƒçš„æ„å»ºæµç¨‹"><a href="#å››ã€ç”¨æˆ·ç”»åƒçš„æ„å»ºæµç¨‹" class="headerlink" title="å››ã€ç”¨æˆ·ç”»åƒçš„æ„å»ºæµç¨‹"></a>å››ã€ç”¨æˆ·ç”»åƒçš„æ„å»ºæµç¨‹</h2><ol>
<li> æ•°æ®æ”¶é›†ï¼šé‡‡é›†å„ä¸ªæ¸ é“å’Œæ¥æºçš„ç”¨æˆ·æ•°æ®ï¼Œå­˜å‚¨åœ¨æ•°æ®ä»“åº“ä¸­ã€‚ </li>
<li> æ•°æ®æ¸…æ´—ï¼šå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—å’Œå»é‡ï¼Œæ’é™¤å¼‚å¸¸å’Œæ— ç”¨æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„å¯é æ€§å’Œä¸€è‡´æ€§ã€‚ </li>
<li> æ•°æ®åˆ†æï¼šé€šè¿‡æ•°æ®åˆ†æå’ŒæŒ–æ˜å·¥å…·ï¼Œå¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œåˆ†æå’Œå»ºæ¨¡ï¼Œæå–æœ‰ä»·å€¼çš„ç”¨æˆ·ç‰¹å¾å’Œå±æ€§ã€‚ </li>
<li> ç”¨æˆ·åˆ†ç±»ï¼šæ ¹æ®ç”¨æˆ·ç‰¹å¾å’Œå±æ€§ï¼Œå°†ç”¨æˆ·åˆ’åˆ†ä¸ºä¸åŒçš„ç¾¤ä½“å’Œç±»å‹ã€‚ </li>
<li> ç”¨æˆ·ç”»åƒå±•ç¤ºï¼šå°†ç”¨æˆ·åˆ†ç±»ç»“æœå‘ˆç°åœ¨å¯è§†åŒ–çš„å›¾è¡¨å’ŒæŠ¥å‘Šä¸­ï¼Œå¸®åŠ©ä¼ä¸šæ›´å¥½åœ°äº†è§£ç”¨æˆ·ç‰¹ç‚¹å’Œéœ€æ±‚ã€‚ </li>
</ol>
<h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>ç”¨æˆ·ç”»åƒä½œä¸ºä¸€ç§æœ‰æ•ˆçš„ç”¨æˆ·åˆ†æå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä¼ä¸šæ›´å¥½åœ°äº†è§£ç›®æ ‡ç”¨æˆ·çš„ç‰¹ç‚¹å’Œéœ€æ±‚ï¼Œæä¾›ä¸ªæ€§åŒ–çš„äº§å“å’ŒæœåŠ¡ï¼Œä¼˜åŒ–è¥é”€ç­–ç•¥å’Œå®¢æˆ·å…³ç³»ç®¡ç†ã€‚ä½†ç”¨æˆ·ç”»åƒçš„æ„å»ºéœ€è¦å¤§é‡çš„æ•°æ®æ”¶é›†å’Œåˆ†æå·¥ä½œï¼Œå¹¶ä¸”è¦ä¿è¯æ•°æ®çš„å¯é æ€§å’Œåˆæ³•æ€§ã€‚å› æ­¤ï¼Œä¼ä¸šéœ€è¦ç²¾ç»†åŒ–ç®¡ç†ç”¨æˆ·æ•°æ®ï¼Œç¡®ä¿ç”¨æˆ·æ•°æ®çš„éšç§å’Œå®‰å…¨ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ç”¨æˆ·ç”»åƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flink 1.17 å‘ç‰ˆå…¬å‘Š</title>
    <url>/2023/03/25/apache-flink-release-1_17/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡ª Apache Flink ç¤¾åŒºåšæ–‡â€”â€”<a href="https://flink.apache.org/2023/03/23/announcing-the-release-of-apache-flink-1.17/">ã€ŠAnnouncing the Release of Apache Flink 1.17ã€‹</a></p>
<hr>
<p>Apache Flink PMCï¼ˆé¡¹ç›®ç®¡ç†å§”å‘˜ä¼šï¼‰å¾ˆé«˜å…´åœ°å®£å¸ƒå‘å¸ƒ Apache Flink 1.17.0 ç‰ˆã€‚Apache Flink æ˜¯é¢†å…ˆçš„æµå¤„ç†æ ‡å‡†ï¼Œç»Ÿä¸€çš„æµå’Œæ‰¹æ•°æ®å¤„ç†æ¦‚å¿µæ­£è¢«è¶Šæ¥è¶Šå¤šçš„å…¬å¸æˆåŠŸé‡‡ç”¨ã€‚å¾—ç›Šäºæˆ‘ä»¬ä¼˜ç§€çš„ç¤¾åŒºå’Œè´¡çŒ®è€…ï¼ŒApache Flink ä½œä¸ºä¸€é¡¹æŠ€æœ¯åœ¨ä¸æ–­å‘å±•å£®å¤§ï¼Œå¹¶ä¸”ä»ç„¶æ˜¯ Apache è½¯ä»¶åŸºé‡‘ä¼šä¸­æœ€æ´»è·ƒçš„é¡¹ç›®ä¹‹ä¸€ã€‚Flink 1.17 ç‰ˆæœ¬æœ‰ 172 ä½è´¡çŒ®è€…çƒ­æƒ…å‚ä¸ï¼Œå®Œæˆäº† 7 ä¸ª FLIP å’Œ 600 å¤šä¸ªé—®é¢˜ï¼Œä¸ºç¤¾åŒºå¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚</p>
<h2 id="è¿ˆå‘æµå¼ä»“åº“"><a href="#è¿ˆå‘æµå¼ä»“åº“" class="headerlink" title="è¿ˆå‘æµå¼ä»“åº“"></a>è¿ˆå‘æµå¼ä»“åº“</h2><p>ä¸ºäº†åœ¨æµå¼ä»“åº“é¢†åŸŸå®ç°æ›´é«˜çš„æ•ˆç‡ï¼ŒFlink 1.17 åœ¨æ‰¹å¤„ç†æ€§èƒ½å’Œæµå¤„ç†è¯­ä¹‰æ–¹é¢è¿›è¡Œäº†å¤§é‡æ”¹è¿›ã€‚è¿™äº›æ”¹è¿›æ ‡å¿—ç€æœåˆ›å»ºæ›´é«˜æ•ˆã€æ›´ç²¾ç®€çš„æ•°æ®ä»“åº“è¿ˆå‡ºçš„é‡è¦ä¸€æ­¥ï¼Œä½¿å…¶èƒ½å¤Ÿå®æ—¶å¤„ç†å¤§é‡æ•°æ®ã€‚</p>
<p>å¯¹äºæ‰¹å¤„ç†è€Œè¨€ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«äº†å¤šé¡¹æ–°åŠŸèƒ½å’Œæ”¹è¿›ï¼š</p>
<ul>
<li><strong>æµå¼ä»“åº“ APIï¼š</strong>FLIP-282 åœ¨ Flink SQL ä¸­å¼•å…¥äº†æ–°çš„åˆ é™¤å’Œæ›´æ–° APIï¼Œè¯¥ API ä»…åœ¨æ‰¹å¤„ç†æ¨¡å¼ä¸‹å·¥ä½œã€‚åƒ Flink Table Store è¿™æ ·çš„å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªæ–°çš„ API å®ç°è¡Œçº§ä¿®æ”¹ã€‚ALTER TABLE è¯­æ³•å¾—åˆ°äº†å¢å¼ºï¼ŒåŒ…æ‹¬æ·»åŠ /ä¿®æ”¹/åˆ é™¤åˆ—ã€ä¸»é”®å’Œæ°´å°çš„èƒ½åŠ›ï¼Œä½¿ç”¨æˆ·æ›´å®¹æ˜“ç»´æŠ¤è¡¨çš„æ¨¡å¼ã€‚</li>
<li><strong>æ‰¹å¤„ç†æ‰§è¡Œæ”¹è¿›ï¼š</strong>åœ¨ Flink 1.17 ä¸­ï¼Œæ‰¹å¤„ç†å·¥ä½œè´Ÿè½½çš„æ‰§è¡Œåœ¨æ€§èƒ½ã€ç¨³å®šæ€§å’Œå¯ç”¨æ€§æ–¹é¢éƒ½å¾—åˆ°äº†æ˜¾è‘—æ”¹è¿›ã€‚åœ¨æ€§èƒ½æ–¹é¢ï¼Œé€šè¿‡ç­–ç•¥å’Œè¿ç®—ç¬¦ä¼˜åŒ–ï¼Œå¦‚æ–°çš„è¿æ¥é‡æ’åºå’Œè‡ªé€‚åº”æœ¬åœ°å“ˆå¸Œèšåˆã€Hive èšåˆå‡½æ•°æ”¹è¿›ä»¥åŠæ··åˆæ´—ç‰Œæ¨¡å¼ï¼ˆHybrid Shuffle Modeï¼‰å¢å¼ºï¼Œ10T æ•°æ®é›†çš„ TPC-DS æ€§èƒ½æé«˜äº† 26%ã€‚åœ¨ç¨³å®šæ€§æ–¹é¢ï¼Œæ¨æµ‹æ‰§è¡Œï¼ˆSpeculative Executionï¼‰ç°åœ¨æ”¯æŒæ‰€æœ‰è¿ç®—ç¬¦ï¼Œå¹¶ä¸”è‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive Batch Schedulerï¼‰å¯¹æ•°æ®å€¾æ–œæ›´åŠ å¥å£®ã€‚åœ¨æ˜“ç”¨æ€§æ–¹é¢ï¼Œæ‰¹å¤„ç†å·¥ä½œè´Ÿè½½æ‰€éœ€çš„è°ƒä¼˜å·¥ä½œå¾—åˆ°äº†ç®€åŒ–ã€‚æ··åˆæ´—ç‰Œæ¨¡å¼ç°åœ¨æ˜¯æ‰¹å¤„ç†æ¨¡å¼çš„é»˜è®¤è°ƒåº¦å™¨ã€‚æ··åˆæ´—ç‰Œæ¨¡å¼ä¸æ¨æµ‹æ‰§è¡Œå’Œè‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨å…¼å®¹ï¼Œå¹¶ç®€åŒ–äº†å„ç§é…ç½®ã€‚</li>
<li><strong>SQL å®¢æˆ·ç«¯/ç½‘å…³ï¼š</strong>Apache Flink 1.17 ä¸º SQL å®¢æˆ·ç«¯å¼•å…¥äº†â€œç½‘å…³æ¨¡å¼â€ï¼Œå…è®¸ç”¨æˆ·å‘ SQL ç½‘å…³æäº¤ SQL æŸ¥è¯¢ä»¥è·å¾—å¢å¼ºåŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ SQL è¯­å¥æ¥ç®¡ç†ä½œä¸šç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬æ˜¾ç¤ºä½œä¸šä¿¡æ¯å’Œåœæ­¢æ­£åœ¨è¿è¡Œçš„ä½œä¸šã€‚è¿™ä¸ºç®¡ç† Flink ä½œä¸šæä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚</li>
</ul>
<p>æµå¤„ç†æ–¹é¢å®ç°äº†ä»¥ä¸‹åŠŸèƒ½å’Œæ”¹è¿›ï¼š</p>
<ul>
<li><strong>æµå¼ SQL è¯­ä¹‰ï¼š</strong>éç¡®å®šæ€§æ“ä½œå¯èƒ½ä¼šå¸¦æ¥é”™è¯¯çš„ç»“æœæˆ–å¼‚å¸¸ï¼Œåœ¨æµå¼ SQL ä¸­è¿™æ˜¯ä¸€ä¸ªæœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚ä¿®å¤äº†ä¸æ­£ç¡®çš„ä¼˜åŒ–è®¡åˆ’å’ŒåŠŸèƒ½é—®é¢˜ï¼Œå¹¶å¼•å…¥äº† PLAN_ADVICE å®éªŒæ€§åŠŸèƒ½ï¼Œä»¥å‘ SQL ç”¨æˆ·æä¾›æ½œåœ¨çš„æ­£ç¡®æ€§é£é™©å’Œä¼˜åŒ–å»ºè®®ä¿¡æ¯ã€‚</li>
<li><strong>æ£€æŸ¥ç‚¹æ”¹è¿›ï¼š</strong>é€šç”¨å¢é‡æ£€æŸ¥ç‚¹æ”¹è¿›æé«˜äº†æ£€æŸ¥ç‚¹è¿‡ç¨‹çš„é€Ÿåº¦å’Œç¨³å®šæ€§ï¼Œåœ¨ Flink 1.17 ä¸­ï¼Œéå¯¹é½æ£€æŸ¥ç‚¹åœ¨èƒŒå‹æƒ…å†µä¸‹çš„ç¨³å®šæ€§å¾—åˆ°äº†æ”¹å–„ï¼Œå¹¶ä¸”å·²ç»è¾¾åˆ°äº†ç”Ÿäº§å°±ç»ªçŠ¶æ€ã€‚ç”¨æˆ·å¯ä»¥åœ¨ä½œä¸šè¿è¡Œæ—¶é€šè¿‡æ–°å¼•å…¥çš„è§¦å‘æ£€æŸ¥ç‚¹çš„ REST æ¥å£æ¥æ‰‹åŠ¨è§¦å‘å…·æœ‰è‡ªå®šä¹‰æ£€æŸ¥ç‚¹ç±»å‹çš„æ£€æŸ¥ç‚¹ã€‚</li>
<li><strong>æ°´å°å¯¹é½å¢å¼ºï¼š</strong>é«˜æ•ˆçš„æ°´å°å¤„ç†ç›´æ¥å½±å“äº‹ä»¶æ—¶é—´åº”ç”¨ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚åœ¨ Flink 1.17 ä¸­ï¼ŒFLIP-217 å¼•å…¥äº†ä¸€ç§æ”¹è¿›çš„æ°´å°å¯¹é½æ–¹å¼ï¼Œé€šè¿‡å¯¹æºæ“ä½œç¬¦å†…çš„åˆ†ç‰‡è¿›è¡Œæ•°æ®å‘å°„å¯¹é½ï¼Œä»è€Œæ›´æœ‰æ•ˆåœ°åè°ƒæºä¸­çš„æ°´å°è¿›åº¦ï¼Œä»è€Œå‡å°‘ä¸‹æ¸¸æ“ä½œç¬¦çš„è¿‡åº¦ç¼“å†²ï¼Œæé«˜æµä½œä¸šæ‰§è¡Œçš„æ•´ä½“æ•ˆç‡ã€‚</li>
<li><strong>çŠ¶æ€åç«¯å‡çº§ï¼š</strong>FRocksDB å‡çº§åˆ° 6.20.3-ververica-2.0 ç‰ˆæœ¬ï¼Œä¸º RocksDBStateBackend å¸¦æ¥äº†æ”¹è¿›ï¼Œå¦‚åœ¨æ’æ§½ä¹‹é—´å…±äº«å†…å­˜ï¼Œå¹¶ä¸”ç°åœ¨æ”¯æŒè‹¹æœèŠ¯ç‰‡ï¼ˆå¦‚ Mac M1ï¼‰ã€‚</li>
</ul>
<h2 id="æ‰¹å¤„ç†"><a href="#æ‰¹å¤„ç†" class="headerlink" title="æ‰¹å¤„ç†"></a>æ‰¹å¤„ç†</h2><p>ä½œä¸ºä¸€ä¸ªç»Ÿä¸€çš„æµå’Œæ‰¹å¤„ç†æ•°æ®å¼•æ“ï¼ŒFlink åœ¨æµå¤„ç†é¢†åŸŸå°¤ä¸ºçªå‡ºã€‚ä¸ºäº†æé«˜å…¶æ‰¹å¤„ç†èƒ½åŠ›ï¼Œç¤¾åŒºè´¡çŒ®è€…åœ¨ 1.17 ç‰ˆæœ¬ä¸­æŠ•å…¥äº†å¤§é‡ç²¾åŠ›æ¥æ”¹è¿› Flink çš„æ‰¹å¤„ç†æ€§èƒ½å’Œç”Ÿæ€ç³»ç»Ÿã€‚è¿™ä½¿å¾—ç”¨æˆ·å¯ä»¥æ›´è½»æ¾åœ°åŸºäº Flink æ„å»ºæµå¼ä»“åº“ã€‚</p>
<h3 id="æ¨æµ‹æ‰§è¡Œï¼ˆSpeculative-Executionï¼‰"><a href="#æ¨æµ‹æ‰§è¡Œï¼ˆSpeculative-Executionï¼‰" class="headerlink" title="æ¨æµ‹æ‰§è¡Œï¼ˆSpeculative Executionï¼‰"></a>æ¨æµ‹æ‰§è¡Œï¼ˆSpeculative Executionï¼‰</h3><p>ç°åœ¨æ”¯æŒ Sink çš„æ¨æµ‹æ‰§è¡Œï¼ˆSpeculative Executionï¼‰ã€‚ä»¥å‰ï¼Œä¸ºäº†é¿å…ä¸ç¨³å®šæˆ–é”™è¯¯çš„ç»“æœï¼ŒSink æœªå¯ç”¨æ¨æµ‹æ‰§è¡Œã€‚åœ¨ Flink 1.17 ä¸­ï¼Œæ”¹è¿›äº† Sink çš„ä¸Šä¸‹æ–‡ï¼Œä½¿å¾— Sinkï¼ˆåŒ…æ‹¬æ–°çš„ Sink å’Œ OutputFormat Sink åœ¨å†…ï¼‰èƒ½å¤Ÿæ„ŸçŸ¥åˆ°å°è¯•æ¬¡æ•°ã€‚æœ‰äº†å°è¯•æ¬¡æ•°ï¼Œå³ä½¿å¤šä¸ªå°è¯•åŒæ—¶è¿è¡Œï¼ŒSink ä¹Ÿèƒ½å¤Ÿéš”ç¦»åŒä¸€å­ä»»åŠ¡çš„ä¸åŒå°è¯•äº§ç”Ÿçš„æ•°æ®ã€‚æ­¤å¤–ï¼Œè¿˜æ”¹è¿›äº† FinalizeOnMaster æ¥å£ï¼Œä½¿å¾— OutputFormat Sink å¯ä»¥æŸ¥çœ‹å“ªäº›å°è¯•å·²ç»å®Œæˆï¼Œç„¶åæ­£ç¡®æäº¤å·²å†™å…¥çš„æ•°æ®ã€‚ä¸€æ—¦ Sink èƒ½å¤Ÿå¾ˆå¥½åœ°å¤„ç†å¹¶å‘å°è¯•ï¼Œå°±å¯ä»¥å®ç°è£…é¥°æ¥å£ SupportsConcurrentExecutionAttemptsï¼Œä»è€Œå…è®¸å¯¹å…¶è¿›è¡Œæ¨æµ‹æ‰§è¡Œã€‚ä¸€äº›å†…ç½®çš„ Sink å·²ç»å¯ç”¨äº†æ¨æµ‹æ‰§è¡Œï¼ŒåŒ…æ‹¬ DiscardingSinkã€PrintSinkFunctionã€PrintSinkã€FileSinkã€FileSystemOutputFormat å’Œ HiveTableSinkã€‚</p>
<p>æ¨æµ‹æ‰§è¡Œçš„æ…¢ä»»åŠ¡æ£€æµ‹ä¹Ÿå¾—åˆ°äº†æ”¹è¿›ã€‚ä»¥å‰ï¼Œç¡®å®šå“ªäº›ä»»åŠ¡è¾ƒæ…¢æ—¶åªè€ƒè™‘ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€‚ç°åœ¨è¿˜è€ƒè™‘äº†ä»»åŠ¡çš„è¾“å…¥æ•°æ®é‡ã€‚æ‰§è¡Œæ—¶é—´è¾ƒé•¿ä½†åŒæ—¶æ¶ˆè€—æ›´å¤šæ•°æ®çš„ä»»åŠ¡å¯èƒ½ä¸è¢«è§†ä¸ºæ…¢ä»»åŠ¡ã€‚è¿™ä¸€æ”¹è¿›æœ‰åŠ©äºæ¶ˆé™¤æ•°æ®å€¾æ–œå¯¹æ…¢ä»»åŠ¡æ£€æµ‹çš„è´Ÿé¢å½±å“ã€‚</p>
<h3 id="è‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive-Batch-Schedulerï¼‰"><a href="#è‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive-Batch-Schedulerï¼‰" class="headerlink" title="è‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive Batch Schedulerï¼‰"></a>è‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive Batch Schedulerï¼‰</h3><p>Adaptive Batch Scheduler ç°åœ¨é»˜è®¤ç”¨äºæ‰¹å¤„ç†ä½œä¸šã€‚è¯¥è°ƒåº¦å™¨å¯ä»¥æ ¹æ®æ¯ä¸ªä½œä¸šä»»åŠ¡å¤„ç†çš„æ•°æ®é‡è‡ªåŠ¨ç¡®å®šé€‚å½“çš„å¹¶è¡Œåº¦ã€‚å®ƒä¹Ÿæ˜¯å”¯ä¸€æ”¯æŒæ¨æµ‹æ‰§è¡Œçš„è°ƒåº¦å™¨ã€‚</p>
<p>Adaptive Batch Scheduler çš„é…ç½®å¾—åˆ°äº†æ”¹è¿›ï¼Œæ›´æ˜“äºä½¿ç”¨ã€‚ç”¨æˆ·ä¸å†éœ€è¦æ˜¾å¼åœ°å°†å…¨å±€é»˜è®¤å¹¶è¡Œåº¦è®¾ç½®ä¸º -1ï¼Œå°±èƒ½è‡ªåŠ¨å†³å®šå¹¶è¡Œåº¦ã€‚ç›¸åï¼Œå¦‚æœè®¾ç½®äº†å…¨å±€é»˜è®¤å¹¶è¡Œåº¦ï¼Œé‚£ä¹ˆåœ¨å†³å®šå¹¶è¡Œåº¦æ—¶ï¼Œå…¨å±€é»˜è®¤å¹¶è¡Œåº¦å°†è¢«ç”¨ä½œä¸Šé™ã€‚Adaptive Batch Scheduler é…ç½®é€‰é¡¹çš„é”®åä¹Ÿå·²æ›´åï¼Œä»¥ä¾¿æ›´æ˜“äºç†è§£ã€‚</p>
<p>Adaptive Batch Scheduler çš„åŠŸèƒ½ä¹Ÿå¾—åˆ°äº†æ”¹è¿›ã€‚å®ƒç°åœ¨æ”¯æŒæ ¹æ®ç»†ç²’åº¦çš„æ•°æ®åˆ†å¸ƒä¿¡æ¯å°†æ•°æ®å‡åŒ€åœ°åˆ†å‘ç»™ä¸‹æ¸¸ä»»åŠ¡ã€‚ä¸å†éœ€è¦å¹¶è¡Œåº¦åªèƒ½æ˜¯ 2 çš„å¹‚æ¬¡çš„é™åˆ¶ï¼Œå› æ­¤å–æ¶ˆäº†è¿™ä¸€é™åˆ¶ã€‚</p>
<h3 id="æ··åˆæ´—ç‰Œæ¨¡å¼ï¼ˆHybrid-Shuffle-Modeï¼‰"><a href="#æ··åˆæ´—ç‰Œæ¨¡å¼ï¼ˆHybrid-Shuffle-Modeï¼‰" class="headerlink" title="æ··åˆæ´—ç‰Œæ¨¡å¼ï¼ˆHybrid Shuffle Modeï¼‰"></a>æ··åˆæ´—ç‰Œæ¨¡å¼ï¼ˆHybrid Shuffle Modeï¼‰</h3><p>æœ¬æ¬¡å‘å¸ƒä¸­å¯¹æ··åˆæ´—ç‰Œæ¨¡å¼è¿›è¡Œäº†å¤šé¡¹é‡è¦æ”¹è¿›ã€‚</p>
<p>æ··åˆæ´—ç‰Œæ¨¡å¼ç°åœ¨æ”¯æŒè‡ªé€‚åº”æ‰¹å¤„ç†è°ƒåº¦å™¨ï¼ˆAdaptive Batch Schedulerï¼‰å’Œæ¨æµ‹æ‰§è¡Œï¼ˆSpeculative Executionï¼‰ã€‚</p>
<p>æ··åˆæ´—ç‰Œæ¨¡å¼ç°åœ¨æ”¯æŒåœ¨å¯èƒ½çš„æƒ…å†µä¸‹é‡å¤ä½¿ç”¨ä¸­é—´æ•°æ®ï¼Œè¿™å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚</p>
<p>æ”¹è¿›äº†ç¨³å®šæ€§ï¼Œä»¥é¿å…åœ¨å¤§è§„æ¨¡ç”Ÿäº§ä¸­å‡ºç°ç¨³å®šæ€§é—®é¢˜ã€‚</p>
<p>æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚é˜…æ–‡æ¡£ä¸­çš„<a href="https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/ops/batch/batch_shuffle/#hybrid-shuffle">æ··åˆæ´—ç‰Œï¼ˆHybrid-Shuffleï¼‰</a>éƒ¨åˆ†ã€‚</p>
<h3 id="TPC-DS-åŸºå‡†"><a href="#TPC-DS-åŸºå‡†" class="headerlink" title="TPC-DS åŸºå‡†"></a>TPC-DS åŸºå‡†</h3><p>ä» Flink 1.16 å¼€å§‹ï¼Œæ‰¹å¤„ç†å¼•æ“çš„æ€§èƒ½ä¸æ–­å¾—åˆ°ä¼˜åŒ–ã€‚åœ¨ Flink 1.16 ä¸­ï¼Œå¼•å…¥äº†åŠ¨æ€åˆ†åŒºå‰ªæï¼Œä½†å¹¶éæ‰€æœ‰ TPC-DS æŸ¥è¯¢éƒ½å¯ä»¥è¢«ä¼˜åŒ–ã€‚åœ¨ Flink 1.17 ä¸­ï¼Œè¯¥ç®—æ³•å·²å¾—åˆ°æ”¹è¿›ï¼Œç°åœ¨å¤§å¤šæ•° TPC-DS ç»“æœéƒ½å¾—åˆ°äº†ä¼˜åŒ–ã€‚åœ¨ Flink 1.17 ä¸­ï¼Œå¼•å…¥äº†ä¸€ç§åŠ¨æ€è§„åˆ’è¿æ¥é‡æ’ç®—æ³•ï¼Œä¸å…ˆå‰çš„ç®—æ³•ç›¸æ¯”ï¼Œå®ƒçš„å·¥ä½œæ•ˆæœæ›´å¥½ï¼Œæœç´¢ç©ºé—´æ›´å¤§ã€‚æŸ¥è¯¢è®¡åˆ’å™¨å¯ä»¥æ ¹æ®æŸ¥è¯¢ä¸­è¿æ¥çš„æ•°é‡è‡ªåŠ¨é€‰æ‹©é€‚å½“çš„è¿æ¥é‡æ’ç®—æ³•ï¼Œå› æ­¤ç”¨æˆ·æ— éœ€å…³æ³¨è¿æ¥é‡æ’ç®—æ³•ã€‚ï¼ˆæ³¨æ„ï¼šè¿æ¥é‡æ’é»˜è®¤æƒ…å†µä¸‹æ˜¯ç¦ç”¨çš„ï¼Œè¿è¡Œ TPC-DS æ—¶éœ€è¦å¯ç”¨ï¼‰ã€‚åœ¨ç®—å­å±‚é¢ä¸Šï¼Œå¼•å…¥äº†åŠ¨æ€å“ˆå¸Œå±€éƒ¨èšåˆç­–ç•¥ï¼Œå®ƒå¯ä»¥æ ¹æ®æ•°æ®åˆ†å¸ƒåŠ¨æ€ç¡®å®šæ˜¯å¦éœ€è¦è¿›è¡Œå±€éƒ¨å“ˆå¸Œèšåˆæ“ä½œä»¥æé«˜æ€§èƒ½ã€‚åœ¨è¿è¡Œæ—¶å±‚é¢ä¸Šï¼Œå»é™¤äº†ä¸€äº›ä¸å¿…è¦çš„è™šæ‹Ÿå‡½æ•°è°ƒç”¨ï¼Œä»¥åŠ é€Ÿæ‰§è¡Œé€Ÿåº¦ã€‚æ€»ä¹‹ï¼Œåœ¨ä½¿ç”¨åˆ†åŒºè¡¨çš„ 10T æ•°æ®é›†ä¸Šï¼Œä¸ Flink 1.16 ç›¸æ¯”ï¼ŒFlink 1.17 çš„æ€§èƒ½æé«˜äº† 26%ã€‚</p>
<p><img src="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/tpc-ds-benchmark.png" alt="image.png"></p>
<h3 id="SQL-å®¢æˆ·ç«¯-ç½‘å…³ï¼ˆSQL-Client-Gatewayï¼‰"><a href="#SQL-å®¢æˆ·ç«¯-ç½‘å…³ï¼ˆSQL-Client-Gatewayï¼‰" class="headerlink" title="SQL å®¢æˆ·ç«¯/ç½‘å…³ï¼ˆSQL Client / Gatewayï¼‰"></a>SQL å®¢æˆ·ç«¯/ç½‘å…³ï¼ˆSQL Client / Gatewayï¼‰</h3><p>Apache Flink 1.17 ä¸º SQL Client å¼•å…¥äº†ä¸€é¡¹åä¸ºâ€œç½‘å…³æ¨¡å¼â€ï¼ˆgateway modeï¼‰çš„æ–°åŠŸèƒ½ï¼Œå®ƒå…è®¸ SQL Client è¿æ¥åˆ°è¿œç¨‹ç½‘å…³ï¼Œå¹¶åƒåœ¨åµŒå…¥å¼æ¨¡å¼ä¸‹ä¸€æ ·æäº¤ SQL æŸ¥è¯¢ï¼Œä»è€Œå¢å¼ºäº† SQL Client çš„åŠŸèƒ½ã€‚è¿™ç§æ–°æ¨¡å¼ä¸ºç”¨æˆ·åœ¨ä½¿ç”¨ SQL Gateway æ—¶æä¾›äº†æ›´å¤šçš„ä¾¿åˆ©ã€‚</p>
<p>æ­¤å¤–ï¼ŒSQL Client/SQL Gateway ç°åœ¨è¿˜ä¸ºé€šè¿‡ SQL è¯­å¥ç®¡ç†ä½œä¸šç”Ÿå‘½å‘¨æœŸæä¾›äº†æ–°çš„æ”¯æŒã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ SQL è¯­å¥æ˜¾ç¤ºå­˜å‚¨åœ¨ JobManager ä¸­çš„æ‰€æœ‰ä½œä¸šä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨å”¯ä¸€çš„ä½œä¸š ID åœæ­¢è¿è¡Œä¸­çš„ä½œä¸šã€‚æœ‰äº†è¿™é¡¹æ–°åŠŸèƒ½ï¼ŒSQL Client/Gateway ç°åœ¨å‡ ä¹å…·å¤‡äº†ä¸ Flink CLI ç›¸åŒçš„åŠŸèƒ½ï¼Œæˆä¸ºç®¡ç† Flink ä½œä¸šçš„åˆä¸€å¼ºå¤§å·¥å…·ã€‚</p>
<h3 id="SQL-API"><a href="#SQL-API" class="headerlink" title="SQL API"></a>SQL API</h3><p>è¡Œçº§ SQL åˆ é™¤å’Œæ›´æ–°åœ¨ç°ä»£å¤§æ•°æ®å·¥ä½œæµä¸­å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚ä½¿ç”¨æ¡ˆä¾‹åŒ…æ‹¬ä¸ºéµå®ˆæ³•è§„è€Œåˆ é™¤ä¸€ç»„è¡Œï¼Œä¸ºçº æ­£æ•°æ®è€Œæ›´æ–°ä¸€ç»„è¡Œç­‰ã€‚è®¸å¤šæµè¡Œçš„å¼•æ“ï¼ˆå¦‚ Trino æˆ– Hiveï¼‰å·²ç»æ”¯æŒäº†è¿™äº›åŠŸèƒ½ã€‚åœ¨ Flink 1.17 ä¸­ï¼ŒFlink å¼•å…¥äº†æ–°çš„åˆ é™¤å’Œæ›´æ–° APIï¼Œè¯¥ API ä»¥æ‰¹å¤„ç†æ¨¡å¼å·¥ä½œï¼Œå¹¶æš´éœ²ç»™è¿æ¥å™¨ã€‚ç°åœ¨ï¼Œå¤–éƒ¨å­˜å‚¨ç³»ç»Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªæ–° API å®ç°è¡Œçº§ä¿®æ”¹ã€‚æ­¤å¤–ï¼ŒALTER TABLE è¯­æ³•è¿˜æ‰©å±•äº†æ·»åŠ /ä¿®æ”¹/åˆ é™¤åˆ—ã€ä¸»é”®å’Œæ°´å°çš„åŠŸèƒ½ã€‚è¿™äº›å¢å¼ºåŠŸèƒ½ä¸ºç”¨æˆ·æä¾›äº†æ ¹æ®è‡ªèº«éœ€è¦ç»´æŠ¤è¡¨æ¨¡å¼å…ƒæ•°æ®çš„çµæ´»æ€§ã€‚</p>
<h3 id="Hive-å…¼å®¹æ€§"><a href="#Hive-å…¼å®¹æ€§" class="headerlink" title="Hive å…¼å®¹æ€§"></a>Hive å…¼å®¹æ€§</h3><p>Apache Flink 1.17 å¯¹ Hive è¡¨ Sink è¿›è¡Œäº†æ”¹è¿›ï¼Œä½¿å…¶æ¯”ä»¥å¾€æ›´åŠ é«˜æ•ˆã€‚åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼ŒHive è¡¨ Sink åªæ”¯æŒæµæ¨¡å¼ä¸‹çš„è‡ªåŠ¨æ–‡ä»¶å‹ç¼©ï¼Œè€Œä¸æ”¯æŒæ‰¹å¤„ç†æ¨¡å¼ã€‚åœ¨ Flink 1.17 ä¸­ï¼ŒHive è¡¨ Sink ç°åœ¨ä¹Ÿèƒ½åœ¨æ‰¹å¤„ç†æ¨¡å¼ä¸‹è‡ªåŠ¨å‹ç¼©æ–°å†™å…¥çš„æ–‡ä»¶ã€‚è¿™ä¸€åŠŸèƒ½å¯ä»¥å¤§å¤§å‡å°‘å°æ–‡ä»¶çš„æ•°é‡ã€‚æ­¤å¤–ï¼Œä¸ºäº†é€šè¿‡ HiveModule ä½¿ç”¨ Hive å†…ç½®å‡½æ•°ï¼ŒFlink åœ¨ HiveModule ä¸­å¼•å…¥äº†å¤šä¸ªåŸç”Ÿ Hive èšåˆå‡½æ•°ï¼ŒåŒ…æ‹¬ SUM/COUNT/AVG/MIN/MAXã€‚è¿™äº›å‡½æ•°å¯ä»¥ä½¿ç”¨åŸºäºå“ˆå¸Œçš„èšåˆç®—å­æ¥æ‰§è¡Œï¼Œä»è€Œæ˜¾è‘—æé«˜æ€§èƒ½ã€‚</p>
<h2 id="æµå¤„ç†"><a href="#æµå¤„ç†" class="headerlink" title="æµå¤„ç†"></a>æµå¤„ç†</h2><p>åœ¨ Flink 1.17 ä¸­ï¼Œè§£å†³äº†æµå¼ SQL è¯­ä¹‰éš¾ç‚¹å’Œæ­£ç¡®æ€§é—®é¢˜ï¼Œä¼˜åŒ–äº†æ£€æŸ¥ç‚¹æ€§èƒ½ï¼Œå¢å¼ºäº†æ°´å°å¯¹é½åŠŸèƒ½ï¼Œæ‰©å±•äº†æµ FileSink å¯¹ ABFSï¼ˆAzure Blob Filesystemï¼‰çš„æ”¯æŒï¼Œå¹¶å°† Calcite å’Œ FRocksDB å‡çº§åˆ°äº†æ›´æ–°çš„ç‰ˆæœ¬ã€‚è¿™äº›æ”¹è¿›è¿›ä¸€æ­¥å¢å¼ºäº† Flink åœ¨æµå¤„ç†é¢†åŸŸçš„èƒ½åŠ›ã€‚</p>
<h3 id="æµå¼-SQL-è¯­ä¹‰"><a href="#æµå¼-SQL-è¯­ä¹‰" class="headerlink" title="æµå¼ SQL è¯­ä¹‰"></a>æµå¼ SQL è¯­ä¹‰</h3><p>åœ¨æ­£ç¡®æ€§å’Œè¯­ä¹‰å¢å¼ºæ–¹é¢ï¼ŒFlink 1.17 å¼•å…¥äº†å®éªŒæ€§åŠŸèƒ½ PLAN_ADVICEï¼Œç”¨äºæ£€æµ‹æ½œåœ¨çš„æ­£ç¡®æ€§é£é™©å¹¶æä¾›ä¼˜åŒ–å»ºè®®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé€šè¿‡ EXPLAIN PLAN_ADVICE æ£€æµ‹åˆ° NDUï¼ˆéç¡®å®šæ€§æ›´æ–°ï¼‰é—®é¢˜ï¼Œä¼˜åŒ–å™¨å°±ä¼šåœ¨ç‰©ç†è®¡åˆ’æœ«å°¾é™„åŠ å»ºè®®ï¼Œç„¶åå°†å»ºè®® ID æ ‡è®°åˆ°ç›¸å…³æ“ä½œçš„å…³ç³»èŠ‚ç‚¹ä¸Šï¼Œå¹¶å»ºè®®ç”¨æˆ·ç›¸åº”åœ°æ›´æ–°é…ç½®ã€‚é€šè¿‡å‘ç”¨æˆ·æä¾›è¿™äº›å…·ä½“å»ºè®®ï¼Œä¼˜åŒ–å™¨å¯ä»¥å¸®åŠ©ç”¨æˆ·æé«˜æŸ¥è¯¢ç»“æœçš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">== Optimized Physical Plan With Advice ==</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">advice[1]: [WARNING] The column(s): day(generated by non-deterministic function: CURRENT_TIMESTAMP ) can not satisfy the determinism requirement for correctly processing update message(&#x27;UB&#x27;/&#x27;UA&#x27;/&#x27;D&#x27; in changelogMode, not &#x27;I&#x27; only), this usually happens when input node has no upsertKey(upsertKeys=[&#123;&#125;]) or current node outputs non-deterministic update messages. Please consider removing these non-deterministic columns or making them deterministic by using deterministic functions.</span><br></pre></td></tr></table></figure>

<p>PLAN_ADVICE è¿˜èƒ½å¸®åŠ©ç”¨æˆ·æé«˜æŸ¥è¯¢çš„æ€§èƒ½å’Œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼Œå½“æ£€æµ‹åˆ° GroupAggregate æ“ä½œæ—¶ï¼Œå¯å°†å…¶ä¼˜åŒ–ä¸ºæ›´é«˜æ•ˆçš„æœ¬åœ°-å…¨å±€èšåˆã€‚é€šè¿‡å‘ç”¨æˆ·æä¾›è¿™ç§å…·ä½“çš„ä¼˜åŒ–å»ºè®®ï¼Œä¼˜åŒ–å™¨èƒ½è®©ç”¨æˆ·è½»æ¾æé«˜æŸ¥è¯¢çš„æ€§èƒ½å’Œæ•ˆç‡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">== Optimized Physical Plan With Advice ==</span><br><span class="line">...</span><br><span class="line">advice[1]: [ADVICE] You might want to enable local-global two-phase optimization by configuring (&#x27;table.optimizer.agg-phase-strategy&#x27; to &#x27;AUTO&#x27;).</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼ŒFlink 1.17 è¿˜è§£å†³äº†å‡ ä¸ªé”™è¯¯çš„è®¡åˆ’ä¼˜åŒ–é—®é¢˜ï¼Œè¿™äº›é—®é¢˜å¯¼è‡´äº† FLINK-29849ã€FLINK-30006 å’Œ FLINK-30841 ä¸­æŠ¥å‘Šçš„é”™è¯¯ç»“æœã€‚</p>
<h3 id="æ£€æŸ¥ç‚¹æ”¹è¿›"><a href="#æ£€æŸ¥ç‚¹æ”¹è¿›" class="headerlink" title="æ£€æŸ¥ç‚¹æ”¹è¿›"></a>æ£€æŸ¥ç‚¹æ”¹è¿›</h3><p>é€šç”¨å¢é‡æ£€æŸ¥ç‚¹ï¼ˆGeneric Incremental Checkpointï¼ŒGICï¼‰æ—¨åœ¨æé«˜æ£€æŸ¥ç‚¹è¿‡ç¨‹çš„é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚WordCount æ¡ˆä¾‹çš„éƒ¨åˆ†å®éªŒç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚æ›´å¤šè¯¦æƒ…å¯å‚é˜…è¿™ç¯‡<a href="https://www.ververica.com/blog/generic-log-based-incremental-checkpoint">åšæ–‡</a>ã€‚</p>
<p>è¡¨ 1ï¼š åœ¨ WordCount æ¡ˆä¾‹ä¸­å¯ç”¨ GIC åçš„ä¼˜åŠ¿</p>
<p><img src="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/beneifts-after-enabling-gic-in-wordcount-case.png" alt="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/beneifts-after-enabling-gic-in-wordcount-case.png"></p>
<p>è¡¨ 2ï¼šåœ¨ WordCount æ¡ˆä¾‹ä¸­å¯ç”¨ GIC åçš„ä»£ä»·</p>
<p><img src="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/costs-after-enabling-gic-in-wordcount-case.png" alt="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/costs-after-enabling-gic-in-wordcount-case.png"></p>
<p>éå¯¹é½æ£€æŸ¥ç‚¹ï¼ˆUnaligned Checkpointsï¼ŒUCï¼‰æ˜¾è‘—æé«˜äº†åœ¨èƒŒå‹æƒ…å†µä¸‹æ£€æŸ¥ç‚¹çš„å®Œæˆç‡ã€‚ä¹‹å‰çš„ UC å®ç°ä¼šå†™å…¥è®¸å¤šå°æ–‡ä»¶ï¼Œè¿™å¯èƒ½ä¼šç»™ HDFS çš„ namenode å¸¦æ¥é«˜è´Ÿè½½ã€‚æœ¬ç‰ˆæœ¬è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œä½¿ UC åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ›´åŠ å¯ç”¨ã€‚</p>
<p>åœ¨ 1.17 ç‰ˆæœ¬ä¸­ï¼Œæä¾›äº†ä¸€ä¸ª REST APIï¼Œç”¨æˆ·å¯ä»¥åœ¨ä½œä¸šè¿è¡Œæ—¶ä½¿ç”¨è‡ªå®šä¹‰çš„æ£€æŸ¥ç‚¹ç±»å‹æ‰‹åŠ¨è§¦å‘æ£€æŸ¥ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä½¿ç”¨å¢é‡æ£€æŸ¥ç‚¹è¿è¡Œçš„ä½œä¸šï¼Œç”¨æˆ·å¯ä»¥å®šæœŸæˆ–æ‰‹åŠ¨è§¦å‘å…¨é‡æ£€æŸ¥ç‚¹ï¼Œä»¥ä¸­æ–­å¢é‡æ£€æŸ¥ç‚¹é“¾ï¼Œé¿å…å¼•ç”¨å¾ˆä¹…ä»¥å‰çš„æ–‡ä»¶ã€‚</p>
<h3 id="æ°´å°å¯¹é½æ”¯æŒ"><a href="#æ°´å°å¯¹é½æ”¯æŒ" class="headerlink" title="æ°´å°å¯¹é½æ”¯æŒ"></a>æ°´å°å¯¹é½æ”¯æŒ</h3><p>åœ¨æ—©æœŸçš„ç‰ˆæœ¬ä¸­ï¼ŒFLIP-182 æå‡ºäº†ä¸€ç§åä¸ºæ°´å°å¯¹é½ï¼ˆwatermark alignmentï¼‰çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºè§£å†³äº‹ä»¶æ—¶é—´åº”ç”¨ä¸­ç”±äºæ•°æ®æºä¸å¹³è¡¡é€ æˆçš„æ•°æ®å€¾æ–œé—®é¢˜ã€‚ç„¶è€Œï¼Œå®ƒæœ‰ä¸€ä¸ªå±€é™æ€§ï¼Œå³æºç®—å­çš„å¹¶è¡Œåº¦å¿…é¡»ä¸åˆ†ç‰‡æ•°ç›¸åŒ¹é…ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœä¸€ä¸ªåˆ†ç‰‡æ¯”å¦ä¸€ä¸ªåˆ†ç‰‡æ›´å¿«åœ°å‘é€æ•°æ®ï¼Œå…·æœ‰å¤šä¸ªåˆ†ç‰‡çš„æºç®—å­å¯èƒ½éœ€è¦ç¼“å†²å¤§é‡æ•°æ®ã€‚ä¸ºè§£å†³è¿™ä¸€é™åˆ¶ï¼ŒFlink 1.17 å¼•å…¥äº† FLIP-217ï¼Œå®ƒå¢å¼ºäº†æ°´å°å¯¹é½åŠŸèƒ½ï¼Œåœ¨è€ƒè™‘æ°´å°è¾¹ç•Œçš„åŒæ—¶ï¼Œå¯¹æºç®—å­å†…å„åˆ†ç‰‡çš„æ•°æ®å‘å°„è¿›è¡Œå¯¹é½ã€‚è¿™ä¸€å¢å¼ºåŠŸèƒ½å¯ç¡®ä¿æºç®—å­ä¸­çš„æ°´å°è¿›åº¦æ›´åŠ åè°ƒï¼Œé˜²æ­¢ä¸‹æ¸¸ç®—å­ç¼“å†²è¿‡å¤šæ•°æ®ï¼Œå¹¶æé«˜æµä½œä¸šçš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<h3 id="æµ-FileSink-æ‰©å±•"><a href="#æµ-FileSink-æ‰©å±•" class="headerlink" title="æµ FileSink æ‰©å±•"></a>æµ FileSink æ‰©å±•</h3><p>åœ¨æ·»åŠ  ABFS æ”¯æŒåï¼ŒFileSink ç°åœ¨èƒ½å¤Ÿåœ¨æµæ¨¡å¼ä¸‹ä½¿ç”¨æ€»å…±äº”ç§ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼š HDFSã€S3ã€OSSã€ABFS å’Œæœ¬åœ°ã€‚è¿™ä¸€æ‰©å±•æœ‰æ•ˆåœ°æ¶µç›–äº†å¤§å¤šæ•°ä¸»è¦æ–‡ä»¶ç³»ç»Ÿï¼Œä¸ºç”¨æˆ·æä¾›äº†å…¨é¢çš„é€‰æ‹©èŒƒå›´å’Œæ›´é«˜çš„é€šç”¨æ€§ã€‚</p>
<h3 id="RocksDBStateBackend-å‡çº§"><a href="#RocksDBStateBackend-å‡çº§" class="headerlink" title="RocksDBStateBackend å‡çº§"></a>RocksDBStateBackend å‡çº§</h3><p>æ­¤ç‰ˆæœ¬å°† FRocksDB å‡çº§åˆ°äº† 6.20.3-ververica-2.0ï¼Œä¸º RocksDBStateBackend å¸¦æ¥äº†æ”¹è¿›ï¼š</p>
<ol>
<li>æ”¯æŒåœ¨è‹¹æœ Silicon èŠ¯ç‰‡ç»„ä¸Šæ„å»º FRocksDB Javaï¼Œå¦‚ Mac M1 å’Œ M2</li>
<li>é€šè¿‡é¿å…æ˜‚è´µçš„ ToString() æ¥æé«˜å‹ç¼©è¿‡æ»¤å™¨çš„æ€§èƒ½</li>
<li>å‡çº§ FRocksDB çš„ ZLIB ç‰ˆæœ¬ä»¥é¿å…å†…å­˜å´©æºƒ</li>
<li>ä¸º RocksJava æ·»åŠ  periodic_compaction_seconds é€‰é¡¹</li>
</ol>
<p>è¯¦æƒ…è¯·å‚è§ <a href="https://issues.apache.org/jira/browse/FLINK-30836">FLINK-30836</a>ã€‚</p>
<p>æ­¤ç‰ˆæœ¬è¿˜å°†æ’æ§½ï¼ˆslotï¼‰ä¹‹é—´å…±äº«å†…å­˜çš„èŒƒå›´æ‰©å¤§åˆ° TaskManagerï¼Œè¿™æœ‰åŠ©äºåœ¨ TaskManager ä¸­æ’æ§½å†…å­˜ä½¿ç”¨ä¸å‡è¡¡çš„æƒ…å†µä¸‹æé«˜å†…å­˜æ•ˆç‡ã€‚æ­¤å¤–ï¼Œç»è¿‡è°ƒæ•´åï¼Œå®ƒè¿˜èƒ½å‡å°‘æ•´ä½“å†…å­˜æ¶ˆè€—ï¼Œä½†ä¼šç‰ºç‰²èµ„æºéš”ç¦»æ€§èƒ½ã€‚äº†è§£æœ‰å…³ <a href="https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/deployment/config/#state-backend-rocksdb-memory-fixed-per-tm">state.backend.rocksdb.memory.fixed-per-tm</a> é…ç½®çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<h3 id="Calcite-å‡çº§"><a href="#Calcite-å‡çº§" class="headerlink" title="Calcite å‡çº§"></a>Calcite å‡çº§</h3><p>Flink 1.17 å°† Calcite å‡çº§åˆ° 1.29.0 ç‰ˆæœ¬ï¼Œä»¥æé«˜ Flink SQL ç³»ç»Ÿçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚Flink 1.16 ä½¿ç”¨çš„æ˜¯ Calcite 1.26.0ï¼Œè¯¥ç‰ˆæœ¬åœ¨ RexNode ç®€åŒ–æ–¹é¢å­˜åœ¨ä¸¥é‡é—®é¢˜ï¼Œè¿™æ˜¯ç”± SEARCH æ“ä½œç¬¦å¼•èµ·çš„ã€‚å¦‚ CALCITE-4325 å’Œ CALCITE-4352 ä¸­æŠ¥å‘Šçš„é‚£æ ·ï¼Œè¿™ä¼šå¯¼è‡´æŸ¥è¯¢ä¼˜åŒ–æ—¶äº§ç”Ÿé”™è¯¯æ•°æ®ã€‚é€šè¿‡å‡çº§ Calcite ç‰ˆæœ¬ï¼ŒFlink å¯ä»¥åœ¨ Flink SQL å¤„ç†ä¸­å……åˆ†åˆ©ç”¨å…¶æ”¹è¿›çš„æ€§èƒ½å’Œæ–°ç‰¹æ€§ã€‚è¿™è§£å†³äº†å¤šä¸ªé”™è¯¯ï¼Œå¹¶åŠ å¿«äº†æŸ¥è¯¢å¤„ç†æ—¶é—´ã€‚</p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="PyFlink"><a href="#PyFlink" class="headerlink" title="PyFlink"></a>PyFlink</h3><p>Flink 1.17 ç‰ˆæœ¬å¯¹ Apache Flink çš„ Python æ¥å£ PyFlink è¿›è¡Œäº†æ›´æ–°ã€‚å€¼å¾—æ³¨æ„çš„æ”¹è¿›åŒ…æ‹¬å¯¹ Python 3.10 çš„æ”¯æŒï¼Œä»¥åŠåœ¨ Apple Silicon èŠ¯ç‰‡ç»„ä¸Šï¼ˆå¦‚ Mac M1 å’Œ M2 è®¡ç®—æœºï¼‰çš„æ‰§è¡Œèƒ½åŠ›ã€‚æ­¤å¤–ï¼Œè¯¥ç‰ˆæœ¬è¿˜åŒ…æ‹¬äº†ä¸€äº›å°çš„ä¼˜åŒ–ï¼Œå¢å¼ºäº† Java å’Œ Python è¿›ç¨‹ä¹‹é—´çš„è·¨è¿›ç¨‹é€šä¿¡ç¨³å®šæ€§ï¼Œé€šè¿‡å­—ç¬¦ä¸²æ¥æŒ‡å®š Python UDF çš„æ•°æ®ç±»å‹ä»¥æé«˜å¯ç”¨æ€§ï¼Œå¹¶æ”¯æŒåœ¨ Python UDF ä¸­è®¿é—®ä½œä¸šå‚æ•°ã€‚è¯¥ç‰ˆæœ¬ä¸»è¦å…³æ³¨æ”¹è¿› PyFlink çš„åŠŸèƒ½å’Œå¯ç”¨æ€§ï¼Œè€Œä¸æ˜¯å¼•å…¥æ–°çš„ä¸»è¦ç‰¹æ€§ã€‚ä½†æ˜¯ï¼Œè¿™äº›å¢å¼ºåŠŸèƒ½æœ‰æœ›æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œä¿ƒè¿›é«˜æ•ˆçš„æ•°æ®å¤„ç†ã€‚</p>
<h3 id="æ¯æ—¥æ€§èƒ½åŸºå‡†æµ‹è¯•"><a href="#æ¯æ—¥æ€§èƒ½åŸºå‡†æµ‹è¯•" class="headerlink" title="æ¯æ—¥æ€§èƒ½åŸºå‡†æµ‹è¯•"></a>æ¯æ—¥æ€§èƒ½åŸºå‡†æµ‹è¯•</h3><p>åœ¨ Flink 1.17 ä¸­ï¼Œæ¯æ—¥æ€§èƒ½ç›‘æ§å·²ç»é›†æˆåˆ° <a href="https://apache-flink.slack.com/archives/C0471S0DFJ9">#flink-dev-benchmarks Slack</a> é¢‘é“ä¸­ã€‚è¿™ä¸ªåŠŸèƒ½å¯¹äºå¿«é€Ÿå‘ç°å›å½’é—®é¢˜å¹¶ç¡®ä¿ä»£ç è´¨é‡éå¸¸é‡è¦ã€‚ä¸€æ—¦é€šè¿‡ Slack é¢‘é“æˆ– speed center å‘ç°äº†å›å½’é—®é¢˜ï¼Œå¼€å‘äººå‘˜å¯ä»¥å‚è€ƒ<a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=115511847">åŸºå‡†æµ‹è¯•çš„ Wiki</a> ä¸­æä¾›çš„æŒ‡å¯¼æ¥æœ‰æ•ˆè§£å†³é—®é¢˜ã€‚è¿™ä¸ªåŠŸèƒ½æœ‰åŠ©äºç¤¾åŒºé‡‡å–ä¸»åŠ¨çš„æ–¹å¼æ¥ç¡®ä¿ç³»ç»Ÿæ€§èƒ½ï¼Œä»è€Œå®ç°æ›´å¥½çš„äº§å“å¹¶æé«˜ç”¨æˆ·æ»¡æ„åº¦ã€‚</p>
<h3 id="å­ä»»åŠ¡çº§ç«ç„°å›¾"><a href="#å­ä»»åŠ¡çº§ç«ç„°å›¾" class="headerlink" title="å­ä»»åŠ¡çº§ç«ç„°å›¾"></a>å­ä»»åŠ¡çº§ç«ç„°å›¾</h3><p>ä» Flink 1.17 å¼€å§‹ï¼ŒFlame Graph æä¾›äº†å¯¹ä»»åŠ¡çº§åˆ«çš„â€œå‘ä¸‹é’»å–â€å¯è§†åŒ–åŠŸèƒ½ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿæ›´è¯¦ç»†åœ°äº†è§£ä»»åŠ¡çš„æ€§èƒ½ã€‚ä¸ Flame Graph ä»¥å‰çš„ç‰ˆæœ¬ç›¸æ¯”ï¼Œè¿™ä¸€åŠŸèƒ½æœ‰äº†é‡å¤§æ”¹è¿›ï¼Œå› ä¸ºå®ƒä½¿ç”¨æˆ·èƒ½å¤Ÿé€‰æ‹©æ„Ÿå…´è¶£çš„å­ä»»åŠ¡å¹¶æŸ¥çœ‹ç›¸åº”çš„ç«ç„°å›¾ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç”¨æˆ·å¯ä»¥ç¡®å®šå…¶ä»»åŠ¡å¯èƒ½é‡åˆ°æ€§èƒ½é—®é¢˜çš„ç‰¹å®šåŒºåŸŸï¼Œå¹¶é‡‡å–æªæ–½åŠ ä»¥è§£å†³ã€‚è¿™å°†å¤§å¤§æé«˜æ•°æ®å¤„ç†ç®¡é“çš„æ•´ä½“æ•ˆç‡å’Œæœ‰æ•ˆæ€§ã€‚</p>
<p><img src="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/subtask-level-flame-graph.png" alt="https://flink.apache.org/img/blog/2023-03-23-release-1.17.0/subtask-level-flame-graph.png"></p>
<h3 id="é€šç”¨æˆæƒä»¤ç‰Œæ”¯æŒ"><a href="#é€šç”¨æˆæƒä»¤ç‰Œæ”¯æŒ" class="headerlink" title="é€šç”¨æˆæƒä»¤ç‰Œæ”¯æŒ"></a>é€šç”¨æˆæƒä»¤ç‰Œæ”¯æŒ</h3><p>ä¹‹å‰ï¼ŒFlink æ”¯æŒ Kerberos è®¤è¯å’ŒåŸºäº Hadoop çš„ä»¤ç‰Œã€‚é€šè¿‡å®Œæˆ FLIP-272ï¼ŒFlink çš„æˆæƒä»¤ç‰Œæ¡†æ¶è¢«æ³›åŒ–ï¼Œä½¿å…¶ä¸è®¤è¯åè®®æ— å…³ã€‚è¿™å°†å…è®¸è´¡çŒ®è€…åœ¨æœªæ¥æ·»åŠ å¯¹é Hadoop å…¼å®¹æ¡†æ¶çš„æ”¯æŒï¼Œåœ¨è¿™äº›æ¡†æ¶ä¸­ï¼Œèº«ä»½éªŒè¯åè®®å¹¶éåŸºäº Kerberosã€‚æ­¤å¤–ï¼ŒFLIP-211 çš„å®ç°æ”¹å–„äº† Flink ä¸ Kerberos çš„äº¤äº’ï¼šå®ƒå‡å°‘äº†åœ¨ Flink ä¸­äº¤æ¢æˆæƒä»¤ç‰Œæ‰€éœ€çš„è¯·æ±‚æ•°é‡ã€‚</p>
<h2 id="å‡çº§æ³¨æ„äº‹é¡¹"><a href="#å‡çº§æ³¨æ„äº‹é¡¹" class="headerlink" title="å‡çº§æ³¨æ„äº‹é¡¹"></a>å‡çº§æ³¨æ„äº‹é¡¹</h2><p>Flink ç¤¾åŒºå°½åŠ›ç¡®ä¿å‡çº§è¿‡ç¨‹å°½å¯èƒ½æ— ç¼ã€‚ç„¶è€Œï¼Œåœ¨å‡çº§åˆ° 1.17 ç‰ˆæ—¶ï¼ŒæŸäº›å˜åŒ–å¯èƒ½ä¼šè¦æ±‚ç”¨æˆ·å¯¹ç¨‹åºçš„æŸäº›éƒ¨åˆ†è¿›è¡Œè°ƒæ•´ã€‚è¯·å‚é˜…<a href="https://nightlies.apache.org/flink/flink-docs-release-1.17/release-notes/flink-1.17/">ç‰ˆæœ¬è¯´æ˜</a>ï¼Œäº†è§£åœ¨å‡çº§è¿‡ç¨‹ä¸­éœ€è¦è¿›è¡Œçš„è°ƒæ•´å’Œéœ€è¦æ£€æŸ¥çš„é—®é¢˜çš„å®Œæ•´åˆ—è¡¨ã€‚</p>
<h2 id="è´¡çŒ®è€…åå•"><a href="#è´¡çŒ®è€…åå•" class="headerlink" title="è´¡çŒ®è€…åå•"></a>è´¡çŒ®è€…åå•</h2><p>Apache Flink ç¤¾åŒºå‘æ‰€æœ‰ä¿ƒæˆæ­¤ç‰ˆæœ¬å‘å¸ƒçš„è´¡çŒ®è€…è¡¨ç¤ºæ„Ÿè°¢ï¼š</p>
<p>Ahmed Hamdy, Aitozi, Aleksandr Pilipenko, Alexander Fedulov, Alexander PreuÃŸ, Anton Kalashnikov, Arvid Heise, Bo Cui, Brayno, Carlos Castro, ChangZhuo Chen (é™³æ˜Œå€¬), Chen Qin, Chesnay Schepler, Clemens, ConradJam, Danny Cranmer, Dawid Wysakowicz, Dian Fu, Dong Lin, Dongjoon Hyun, Elphas Toringepi, Eric Xiao, Fabian Paul, Ferenc Csaky, Gabor Somogyi, Gen Luo, Gunnar Morling, Gyula Fora, Hangxiang Yu, Hong Liang Teoh, HuangXingBo, Jacky Lau, Jane Chan, Jark Wu, Jiale, Jin, Jing Ge, Jinzhong Li, Joao Boto, John Roesler, Jun He, JunRuiLee, Junrui Lee, Juntao Hu, Krzysztof Chmielewski, Leonard Xu, Licho, Lijie Wang, Mark Canlas, Martijn Visser, MartijnVisser, Martin Liu, Marton Balassi, Mason Chen, Matt, Matthias Pohl, Maximilian Michels, Mingliang Liu, Mulavar, Nico Kruber, Noah, Paul Lin, Peter Huang, Piotr Nowojski, Qing Lim, QingWei, Qingsheng Ren, Rakesh, Ran Tao, Robert Metzger, Roc Marshal, Roman Khachatryan, Ron, Rui Fan, Ryan Skraba, Salva AlcÃ¡ntara, Samrat, Samrat Deb, Samrat002, Sebastian Mattheis, Sergey Nuyanzin, Seth Saperstein, Shengkai, Shuiqiang Chen, Smirnov Alexander, Sriram Ganesh, Steven van Rossum, Tartarus0zm, Timo Walther, Venkata krishnan Sowrirajan, Wei Zhong, Weihua Hu, Weijie Guo, Xianxun Ye, Xintong Song, Yash Mayya, YasuoStudyJava, Yu Chen, Yubin Li, Yufan Sheng, Yun Gao, Yun Tang, Yuxin Tan, Zakelly, Zhanghao Chen, Zhenqiu Huang, Zhu Zhu, ZmmBigdata, bzhaoopenstack, chengshuo.cs, chenxujun, chenyuzhi, chenyuzhi459, chenzihao, dependabot[bot], fanrui, fengli, frankeshi, fredia, godfreyhe, gongzhongqiang, harker2015, hehuiyuan, hiscat, huangxingbo, hunter-cloud09, ifndef-SleePy, jeremyber-aws, jiangjiguang, jingge, kevin.cyj, kristoffSC, kurt, laughingman7743, libowen, lincoln lee, lincoln.lil, liujiangang, liujingmao, liuyongvs, liuzhuang2017, luoyuxia, mas-chen, moqimoqidea, muggleChen, noelo, ouyangwulin, ramkrish86, saikikun, sammieliu, shihong90, shuiqiangchen, snuyanzin, sunxia, sxnan, tison, todd5167, tonyzhu918, wangfeifan, wenbingshen, xuyang, yiksanchan, yunfengzhou-hub, yunhong, yuxia Luo, yuzelin, zhangjingcun, zhangmang, zhengyunhong.zyh, zhouli, zoucao, æ²ˆå˜‰ç¦</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Kafka: a Distributed Messaging System for Log Processing</title>
    <url>/2023/10/10/kafka_a_distributed_messaging_system_for_log_processing/</url>
    <content><![CDATA[<h2 id="ABSTRACT"><a href="#ABSTRACT" class="headerlink" title="ABSTRACT"></a>ABSTRACT</h2><p>Log processing has become a critical component of the data pipeline for consumer internet companies. We introduce Kafka, a distributed messaging system that we developed for collecting and delivering high volumes of log data with low latency. Our system incorporates ideas from existing log aggregators and messaging systems, and is suitable for both offline and online message consumption. We made quite a few unconventional yet practical design choices in Kafka to make our system efficient and scalable. Our experimental results show that Kafka has superior performance when compared to two popular messaging systems. We have been using Kafka in production for some time and it is processing hundreds of gigabytes of new data each day.</p>
<p><strong>General Terms</strong><br>Management, Performance, Design, Experimentation.</p>
<p><strong>Keywords</strong><br>messaging, distributed, log processing, throughput, online.</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>There is a large amount of â€œlogâ€ data generated at any sizable internet company. This data typically includes (1) user activity events corresponding to logins, pageviews, clicks, â€œlikesâ€, sharing, comments, and search queries; (2) operational metrics such as service call stack, call latency, errors, and system metrics such as CPU, memory, network, or disk utilization on each machine. Log data has long been a component of analytics used to track user engagement, system utilization, and other metrics. However recent trends in internet applications have made activity data a part of the production data pipeline used directly in site features. These uses include (1) search relevance, (2) recommendations which may be driven by item popularity or cooccurrence in the activity stream, (3) ad targeting and reporting, and (4) security applications that protect against abusive behaviors such as spam or unauthorized data scraping, and (5) newsfeed features that aggregate user status updates or actions for their â€œfriendsâ€ or â€œconnectionsâ€ to read.</p>
<p>This production, real-time usage of log data creates new challenges for data systems because its volume is orders of magnitude larger than the â€œrealâ€ data. For example, search, recommendations, and advertising often require computing granular click-through rates, which generate log records not only for every user click, but also for dozens of items on each page that are not clicked. Every day, China Mobile collects 5â€“8TB of phone call records [11] and Facebook gathers almost 6TB of various user activity events [12].</p>
<p>Many early systems for processing this kind of data relied on physically scraping log files off production servers for analysis. In recent years, several specialized distributed log aggregators have been built, including Facebookâ€™s Scribe [6], Yahooâ€™s Data Highway [4], and Clouderaâ€™s Flume [3]. Those systems are primarily designed for collecting and loading the log data into a data warehouse or Hadoop [8] for offline consumption. At LinkedIn (a social network site), we found that in addition to traditional offline analytics, we needed to support most of the real-time applications mentioned above with delays of no more than a few seconds.</p>
<p>We have built a novel messaging system for log processing called Kafka [18] that combines the benefits of traditional log aggregators and messaging systems. On the one hand, Kafka is distributed and scalable, and offers high throughput. On the other hand, Kafka provides an API similar to a messaging system and allows applications to consume log events in real time. Kafka has been open sourced and used successfully in production at LinkedIn for more than 6 months. It greatly simplifies our infrastructure, since we can exploit a single piece of software for both online and offline consumption of the log data of all types. The rest of the paper is organized as follows. We revisit traditional messaging systems and log aggregators in Section 2. In Section 3, we describe the architecture of Kafka and its key design principles. We describe our deployment of Kafka at LinkedIn in Section 4 and the performance results of Kafka in Section 5. We discuss future work and conclude in Section 6.</p>
<h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p>Traditional enterprise messaging systems [1][7][15][17] have existed for a long time and often play a critical role as an event bus for processing asynchronous data flows. However, there are a few reasons why they tend not to be a good fit for log processing. First, there is a mismatch in features offered by enterprise systems. Those systems often focus on offering a rich set of delivery guarantees. For example, IBM Websphere MQ [7] has transactional supports that allow an application to insert messages into multiple queues atomically. The JMS [14] specification allows each individual message to be acknowledged after consumption, potentially out of order. Such delivery guarantees are often overkill for collecting log data. For instance, losing a few pageview events occasionally is certainly not the end of the world. Those unneeded features tend to increase the complexity of both the API and the underlying implementation of those systems. Second, many systems do not focus as strongly on throughput as their primary design constraint. For example, JMS has no API to allow the producer to explicitly batch multiple messages into a single request. This means each message requires a full TCP/IP roundtrip, which is not feasible for the throughput requirements of our domain. Third, those systems are weak in distributed support. There is no easy way to partition and store messages on multiple machines. Finally, many messaging systems assume near immediate consumption of messages, so the queue of unconsumed messages is always fairly small. Their performance degrades significantly if messages are allowed to accumulate, as is the case for offline consumers such as data warehousing applications that do periodic large loads rather than continuous consumption.</p>
<p>A number of specialized log aggregators have been built over the last few years. Facebook uses a system called Scribe. Each frontend machine can send log data to a set of Scribe machines over sockets. Each Scribe machine aggregates the log entries and periodically dumps them to HDFS [9] or an NFS device. Yahooâ€™s data highway project has a similar dataflow. A set of machines aggregate events from the clients and roll out â€œminuteâ€ files, which are then added to HDFS. Flume is a relatively new log aggregator developed by Cloudera. It supports extensible â€œpipesâ€ and â€œsinksâ€, and makes streaming log data very flexible. It also has more integrated distributed support. However, most of those systems are built for consuming the log data offline, and often expose implementation details unnecessarily (e.g. â€œminute filesâ€) to the consumer. Additionally, most of them use a â€œpushâ€ model in which the broker forwards data to consumers. At LinkedIn, we find the â€œpullâ€ model more suitable for our applications since each consumer can retrieve the messages at the maximum rate it can sustain and avoid being flooded by messages pushed faster than it can handle. The pull model also makes it easy to rewind a consumer and we discuss this benefit at the end of Section 3.2.</p>
<p>More recently, Yahoo! Research developed a new distributed pub/sub system called HedWig [13]. HedWig is highly scalable and available, and offers strong durability guarantees. However, it is mainly intended for storing the commit log of a data store.</p>
<h2 id="3-Kafka-Architecture-and-Design-Principles"><a href="#3-Kafka-Architecture-and-Design-Principles" class="headerlink" title="3. Kafka Architecture and Design Principles"></a>3. Kafka Architecture and Design Principles</h2><p>Because of limitations in existing systems, we developed a new messaging-based log aggregator Kafka. We first introduce the basic concepts in Kafka. A stream of messages of a particular type is defined by a topic. A producer can publish messages to a topic. The published messages are then stored at a set of servers called brokers. A consumer can subscribe to one or more topics from the brokers, and consume the subscribed messages by pulling data from the brokers. </p>
<p>Messaging is conceptually simple, and we have tried to make the Kafka API equally simple to reflect this. Instead of showing the exact API, we present some sample code to show how the API is used. The sample code of the producer is given below. A message is defined to contain just a payload of bytes. A user can choose her favorite serialization method to encode a message. For efficiency, the producer can send a set of messages in a single publish request.  </p>
<p><strong>Sample producer code:</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">producer <span class="operator">=</span> <span class="keyword">new</span> Producer(â€¦);</span><br><span class="line">message <span class="operator">=</span> <span class="keyword">new</span> Message(â€œtest message strâ€.getBytes());</span><br><span class="line"><span class="keyword">set</span> <span class="operator">=</span> <span class="keyword">new</span> MessageSet(message);</span><br><span class="line">producer.send(â€œtopic1â€, <span class="keyword">set</span>);</span><br></pre></td></tr></table></figure>

<p>To subscribe to a topic, a consumer first creates one or more message streams for the topic. The messages published to that topic will be evenly distributed into these sub-streams. The details about how Kafka distributes the messages are described later in Section 3.2. Each message stream provides an iterator interface over the continual stream of messages being produced. The consumer then iterates over every message in the stream and processes the payload of the message. Unlike traditional iterators, the message stream iterator never terminates. If there are currently no more messages to consume, the iterator blocks until new messages are published to the topic. We support both the point-topoint delivery model in which multiple consumers jointly consume a single copy of all messages in a topic, as well as the publish/subscribe model in which multiple consumers each retrieve its own copy of a topic.  </p>
<p><strong>Sample consumer code:</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">streams[] <span class="operator">=</span> Consumer.createMessageStreams(â€œtopic1â€, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> (message : streams[<span class="number">0</span>]) &#123;</span><br><span class="line"> bytes <span class="operator">=</span> message.payload();</span><br><span class="line"> <span class="operator">/</span><span class="operator">/</span> do something <span class="keyword">with</span> the bytes</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The overall architecture of Kafka is shown in Figure 1. Since Kafka is distributed in nature, an Kafka cluster typically consists of multiple brokers. To balance load, a topic is divided into multiple partitions and each broker stores one or more of those partitions. Multiple producers and consumers can publish and retrieve messages at the same time. In Section 3.1, we describe the layout of a single partition on a broker and a few design choices that we selected to make accessing a partition efficient. In Section 3.2, we describe how the producer and the consumer interact with multiple brokers in a distributed setting. We discuss the delivery guarantees of Kafka in Section 3.3.  </p>
<p><img src="/image/2023/20231010-figure1.png" alt="figure-1.png"></p>
<h3 id="3-1-Efficiency-on-a-Single-Partition"><a href="#3-1-Efficiency-on-a-Single-Partition" class="headerlink" title="3.1 Efficiency on a Single Partition"></a>3.1 Efficiency on a Single Partition</h3><p>We made a few decisions in Kafka to make the system efficient. </p>
<p><strong>Simple storage:</strong> Kafka has a very simple storage layout. Each partition of a topic corresponds to a logical log. Physically, a log is implemented as a set of segment files of approximately the same size (e.g., 1GB). Every time a producer publishes a message to a partition, the broker simply appends the message to the last segment file. For better performance, we flush the segment files to disk only after a configurable number of messages have been published or a certain amount of time has elapsed. A message is only exposed to the consumers after it is flushed.  </p>
<p>Unlike typical messaging systems, a message stored in Kafka doesnâ€™t have an explicit message id. Instead, each message is addressed by its logical offset in the log. This avoids the overhead of maintaining auxiliary, seek-intensive random-access index structures that map the message ids to the actual message locations. Note that our message ids are increasing but not consecutive. To compute the id of the next message, we have to add the length of the current message to its id. From now on, we will use message ids and offsets interchangeably. </p>
<p>A consumer always consumes messages from a particular partition sequentially. If the consumer acknowledges a particular message offset, it implies that the consumer has received all messages prior to that offset in the partition. Under the covers, the consumer is issuing asynchronous pull requests to the broker to have a buffer of data ready for the application to consume. Each pull request contains the offset of the message from which the consumption begins and an acceptable number of bytes to fetch. Each broker keeps in memory a sorted list of offsets, including the offset of the first message in every segment file. The broker locates the segment file where the requested message resides by searching the offset list, and sends the data back to the consumer. After a consumer receives a message, it computes the offset of the next message to consume and uses it in the next pull request. The layout of an Kafka log and the in-memory index is depicted in Figure 2. Each box shows the offset of a message.  </p>
<p><img src="/image/2023/20231010-figure2.png" alt="figure-2.png"></p>
<p><strong>Efficient transfer:</strong> We are very careful about transferring data in and out of Kafka. Earlier, we have shown that the producer can submit a set of messages in a single send request. Although the end consumer API iterates one message at a time, under the covers, each pull request from a consumer also retrieves multiple messages up to a certain size, typically hundreds of kilobytes. </p>
<p>Another unconventional choice that we made is to avoid explicitly caching messages in memory at the Kafka layer. Instead, we rely on the underlying file system page cache. This has the main benefit of avoiding double bufferingâ€”messages are only cached in the page cache. This has the additional benefit of retaining warm cache even when a broker process is restarted. Since Kafka doesnâ€™t cache messages in process at all, it has very little overhead in garbage collecting its memory, making efficient implementation in a VM-based language feasible. Finally, since both the producer and the consumer access the segment files sequentially, with the consumer often lagging the producer by a small amount, normal operating system caching heuristics are very effective (specifically write-through caching and readahead). We have found that both the production and the consumption have consistent performance linear to the data size, up to many terabytes of data. </p>
<p>In addition we optimize the network access for consumers. Kafka is a multi-subscriber system and a single message may be consumed multiple times by different consumer applications. A typical approach to sending bytes from a local file to a remote socket involves the following steps: (1) read data from the storage media to the page cache in an OS, (2) copy data in the page cache to an application buffer, (3) copy application buffer to another kernel buffer, (4) send the kernel buffer to the socket. This includes 4 data copying and 2 system calls. On Linux and other Unix operating systems, there exists a sendfile API [5] that can directly transfer bytes from a file channel to a socket channel. This typically avoids 2 of the copies and 1 system call introduced in steps (2) and (3). Kafka exploits the sendfile API to efficiently deliver bytes in a log segment file from a broker to a consumer. </p>
<p><strong>Stateless broker:</strong> Unlike most other messaging systems, in Kafka, the information about how much each consumer has consumed is not maintained by the broker, but by the consumer itself. Such a design reduces a lot of the complexity and the overhead on the broker. However, this makes it tricky to delete a message, since a broker doesnâ€™t know whether all subscribers have consumed the message. Kafka solves this problem by using a simple time-based SLA for the retention policy. A message is automatically deleted if it has been retained in the broker longer than a certain period, typically 7 days. This solution works well in practice. Most consumers, including the offline ones, finish consuming either daily, hourly, or in real-time. The fact that the performance of Kafka doesnâ€™t degrade with a larger data size makes this long retention feasible. </p>
<p>There is an important side benefit of this design. A consumer can deliberately rewind back to an old offset and re-consume data. This violates the common contract of a queue, but proves to be an essential feature for many consumers. For example, when there is an error in application logic in the consumer, the application can re-play certain messages after the error is fixed. This is particularly important to ETL data loads into our data warehouse or Hadoop system. As another example, the consumed data may be flushed to a persistent store only periodically (e.g, a full-text indexer). If the consumer crashes, the unflushed data is lost. In this case, the consumer can checkpoint the smallest offset of the unflushed messages and re-consume from that offset when itâ€™s restarted. We note that rewinding a consumer is much easier to support in the pull model than the push model.  </p>
<h3 id="3-2-Distributed-Coordination"><a href="#3-2-Distributed-Coordination" class="headerlink" title="3.2 Distributed Coordination"></a>3.2 Distributed Coordination</h3><p>We now describe how the producers and the consumers behave in a distributed setting. Each producer can publish a message to either a randomly selected partition or a partition semantically determined by a partitioning key and a partitioning function. We will focus on how the consumers interact with the brokers. </p>
<p>Kafka has the concept of <em>consumer groups</em>. Each consumer group consists of one or more consumers that jointly consume a set of subscribed topics, i.e., each message is delivered to only one of the consumers within the group. Different consumer groups each independently consume the full set of subscribed messages and no coordination is needed across consumer groups. The consumers  within the same group can be in different processes or on different machines. Our goal is to divide the messages stored in the brokers evenly among the consumers, without introducing too much coordination overhead. </p>
<p>Our first decision is to make a partition within a topic the smallest unit of parallelism. This means that at any given time, all messages from one partition are consumed only by a single consumer within each consumer group. Had we allowed multiple consumers to simultaneously consume a single partition, they would have to coordinate who consumes what messages, which necessitates locking and state maintenance overhead. In contrast, in our design consuming processes only need co-ordinate when the consumers rebalance the load, an infrequent event. In order for the load to be truly balanced, we require many more partitions in a topic than the consumers in each group. We can easily achieve this by over partitioning a topic. </p>
<p>The second decision that we made is to not have a central â€œmasterâ€ node, but instead let consumers coordinate among themselves in a decentralized fashion. Adding a master can complicate the system since we have to further worry about master failures. To facilitate the coordination, we employ a highly available consensus service Zookeeper [10]. Zookeeper has a very simple, file system like API. One can create a path, set the value of a path, read the value of a path, delete a path, and list the children of a path. It does a few more interesting things: (a) one can register a watcher on a path and get notified when the children of a path or the value of a path has changed; (b) a path can be created as ephemeral (as oppose to persistent), which means that if the creating client is gone, the path is automatically removed by the Zookeeper server; (c) zookeeper replicates its data to multiple servers, which makes the data highly reliable and available. </p>
<p>Kafka uses Zookeeper for the following tasks: (1) detecting the addition and the removal of brokers and consumers, (2) triggering a rebalance process in each consumer when the above events happen, and (3) maintaining the consumption relationship and keeping track of the consumed offset of each partition. Specifically, when each broker or consumer starts up, it stores its information in a broker or consumer registry in Zookeeper. The broker registry contains the brokerâ€™s host name and port, and the set of topics and partitions stored on it. The consumer registry includes the consumer group to which a consumer belongs and the set of topics that it subscribes to. Each consumer group is associated with an ownership registry and an offset registry in Zookeeper. The ownership registry has one path for every subscribed partition and the path value is the id of the consumer currently consuming from this partition (we use the terminology that the consumer owns this partition). The offset registry stores for each subscribed partition, the offset of the last consumed message in the partition. </p>
<p>The paths created in Zookeeper are ephemeral for the broker registry, the consumer registry and the ownership registry, and persistent for the offset registry. If a broker fails, all partitions on it are automatically removed from the broker registry. The failure of a consumer causes it to lose its entry in the consumer registry and all partitions that it owns in the ownership registry. Each consumer registers a Zookeeper watcher on both the broker registry and the consumer registry, and will be notified whenever a change in the broker set or the consumer group occurs. </p>
<p>During the initial startup of a consumer or when the consumer is notified about a broker/consumer change through the watcher, the consumer initiates a rebalance process to determine the new subset of partitions that it should consume from. The process is described in Algorithm 1. By reading the broker and the consumer registry from Zookeeper, the consumer first computes the set (PT) of partitions available for each subscribed topic T and the set (CT) of consumers subscribing to T. It then range-partitions PT into |CT| chunks and deterministically picks one chunk to own. For each partition the consumer picks, it writes itself as the new owner of the partition in the ownership registry. Finally, the consumer begins a thread to pull data from each owned partition, starting from the offset stored in the offset registry. As messages get pulled from a partition, the consumer periodically updates the latest consumed offset in the offset registry. </p>
<p><img src="/image/2023/20231010-alg.png" alt="alg.png"></p>
<p>When there are multiple consumers within a group, each of them will be notified of a broker or a consumer change. However, the notification may come at slightly different times at the consumers. So, it is possible that one consumer tries to take ownership of a partition still owned by another consumer. When this happens, the first consumer simply releases all the partitions that it currently owns, waits a bit and retries the rebalance process. In practice, the rebalance process often stabilizes after only a few retries. </p>
<p>When a new consumer group is created, no offsets are available in the offset registry. In this case, the consumers will begin with either the smallest or the largest offset (depending on a configuration) available on each subscribed partition, using an API that we provide on the brokers.  </p>
<h3 id="3-3-Delivery-Guarantees"><a href="#3-3-Delivery-Guarantees" class="headerlink" title="3.3 Delivery Guarantees"></a>3.3 Delivery Guarantees</h3><p>In general, Kafka only guarantees at-least-once delivery. Exactlyonce delivery typically requires two-phase commits and is not necessary for our applications. Most of the time, a message is delivered exactly once to each consumer group. However, in the case when a consumer process crashes without a clean shutdown, the consumer process that takes over those partitions owned by the failed consumer may get some duplicate messages that are after the last offset successfully committed to zookeeper. If an application cares about duplicates, it must add its own deduplication logic, either using the offsets that we return to the consumer or some unique key within the message. This is usually a more cost-effective approach than using two-phase commits.</p>
<p>Kafka guarantees that messages from a single partition are delivered to a consumer in order. However, there is no guarantee on the ordering of messages coming from different partitions.  </p>
<p>To avoid log corruption, Kafka stores a CRC for each message in the log. If there is any I/O error on the broker, Kafka runs a recovery process to remove those messages with inconsistent CRCs. Having the CRC at the message level also allows us to check network errors after a message is produced or consumed. </p>
<p>If a broker goes down, any message stored on it not yet consumed becomes unavailable. If the storage system on a broker is permanently damaged, any unconsumed message is lost forever. In the future, we plan to add built-in replication in Kafka to redundantly store each message on multiple brokers.  </p>
<h2 id="4-Kafka-Usage-at-LinkedIn"><a href="#4-Kafka-Usage-at-LinkedIn" class="headerlink" title="4. Kafka Usage at LinkedIn"></a>4. Kafka Usage at LinkedIn</h2><p>In this section, we describe how we use Kafka at LinkedIn. Figure 3 shows a simplified version of our deployment. We have one Kafka cluster co-located with each datacenter where our userfacing services run. The frontend services generate various kinds of log data and publish it to the local Kafka brokers in batches. We rely on a hardware load-balancer to distribute the publish requests to the set of Kafka brokers evenly. The online consumers of Kafka run in services within the same datacenter.  </p>
<p><img src="/image/2023/20231010-figure3.png" alt="figure-3.png"></p>
<p>We also deploy a cluster of Kafka in a separate datacenter for offline analysis, located geographically close to our Hadoop cluster and other data warehouse infrastructure. This instance of Kafka runs a set of embedded consumers to pull data from the Kafka instances in the live datacenters. We then run data load jobs to pull data from this replica cluster of Kafka into Hadoop and our data warehouse, where we run various reporting jobs and analytical process on the data. We also use this Kafka cluster for prototyping and have the ability to run simple scripts against the raw event streams for ad hoc querying. Without too much tuning, the end-to-end latency for the complete pipeline is about 10 seconds on average, good enough for our requirements.  </p>
<p>Currently, Kafka accumulates hundreds of gigabytes of data and close to a billion messages per day, which we expect will grow significantly as we finish converting legacy systems to take advantage of Kafka. More types of messages will be added in the future. The rebalance process is able to automatically redirect the consumption when the operation staffs start or stop brokers for software or hardware maintenance. </p>
<p>Our tracking also includes an auditing system to verify that there is no data loss along the whole pipeline. To facilitate that, each message carries the timestamp and the server name when they are generated. We instrument each producer such that it periodically generates a monitoring event, which records the number of messages published by that producer for each topic within a fixed time window. The producer publishes the monitoring events to Kafka in a separate topic. The consumers can then count the number of messages that they have received from a given topic and validate those counts with the monitoring events to validate the correctness of data. </p>
<p>Loading into the Hadoop cluster is accomplished by implementing a special Kafka input format that allows MapReduce jobs to directly read data from Kafka. A MapReduce job loads the raw data and then groups and compresses it for efficient processing in the future. The stateless broker and client-side storage of message offsets again come into play here, allowing the MapReduce task management (which allows tasks to fail and be restarted) to handle the data load in a natural way without duplicating or losing messages in the event of a task restart. Both data and offsets are stored in HDFS only on the successful completion of the job. </p>
<p>We chose to use Avro [2] as our serialization protocol since it is efficient and supports schema evolution. For each message, we store the id of its Avro schema and the serialized bytes in the payload. This schema allows us to enforce a contract to ensure compatibility between data producers and consumers. We use a lightweight schema registry service to map the schema id to the actual schema. When a consumer gets a message, it looks up in the schema registry to retrieve the schema, which is used to decode the bytes into an object (this lookup need only be done once per schema, since the values are immutable).  </p>
<h2 id="5-Experimental-Results"><a href="#5-Experimental-Results" class="headerlink" title="5. Experimental Results"></a>5. Experimental Results</h2><p>We conducted an experimental study, comparing the performance of Kafka with Apache ActiveMQ v5.4 [1], a popular open-source implementation of JMS, and RabbitMQ v2.4 [16], a message system known for its performance. We used ActiveMQâ€™s default persistent message store KahaDB. Although not presented here, we also tested an alternative AMQ message store and found its performance very similar to that of KahaDB. Whenever possible, we tried to use comparable settings in all systems.  </p>
<p>We ran our experiments on 2 Linux machines, each with 8 2GHz cores, 16GB of memory, 6 disks with RAID 10. The two machines are connected with a 1Gb network link. One of the machines was used as the broker and the other machine was used as the producer or the consumer.  </p>
<p><strong>Producer Test:</strong> We configured the broker in all systems to asynchronously flush messages to its persistence store. For each system, we ran a single producer to publish a total of 10 million messages, each of 200 bytes. We configured the Kafka producer to send messages in batches of size 1 and 50. ActiveMQ and RabbitMQ donâ€™t seem to have an easy way to batch messages and we assume that it used a batch size of 1. The results are shown in Figure 4. The x-axis represents the amount of data sent to the broker over time in MB, and the y-axis corresponds to the producer throughput in messages per second. On average, Kafka can publish messages at the rate of 50,000 and 400,000 messages per second for batch size of 1 and 50, respectively. These numbers are orders of magnitude higher than that of ActiveMQ, and at least 2 times higher than RabbitMQ.  </p>
<p><img src="/image/2023/20231010-figure4.png" alt="figure-4.png"></p>
<p>There are a few reasons why Kafka performed much better. First, the Kafka producer currently doesnâ€™t wait for acknowledgements from the broker and sends messages as faster as the broker can handle. This significantly increased the throughput of the publisher. With a batch size of 50, a single Kafka producer almost saturated the 1Gb link between the producer and the broker. This is a valid optimization for the log aggregation case, as data must be sent asynchronously to avoid introducing any latency into the live serving of traffic. We note that without acknowledging the producer, there is no guarantee that every published message is actually received by the broker. For many types of log data, it is desirable to trade durability for throughput, as long as the number of dropped messages is relatively small. However, we do plan to address the durability issue for more critical data in the future.  </p>
<p>Second, Kafka has a more efficient storage format. On average, each message had an overhead of 9 bytes in Kafka, versus 144 bytes in ActiveMQ. This means that ActiveMQ was using 70% more space than Kafka to store the same set of 10 million messages. One overhead in ActiveMQ came from the heavy message header, required by JMS. Another overhead was the cost of maintaining various indexing structures. We observed that one of the busiest threads in ActiveMQ spent most of its time accessing a B-Tree to maintain message metadata and state. Finally, batching greatly improved the throughput by amortizing the RPC overhead. In Kafka, a batch size of 50 messages improved the throughput by almost an order of magnitude.  </p>
<p><strong>Consumer Test:</strong> In the second experiment, we tested the performance of the consumer. Again, for all systems, we used a single consumer to retrieve a total of 10 millions messages. We configured all systems so that each pull request should prefetch approximately the same amount dataâ€”up to 1000 messages or about 200KB. For both ActiveMQ and RabbitMQ, we set the consumer acknowledge mode to be automatic. Since all messages fit in memory, all systems were serving data from the page cache of the underlying file system or some in-memory buffers. The results are presented in Figure 5.  </p>
<p><img src="/image/2023/20231010-figure5.png" alt="figure-5.png"></p>
<p>On average, Kafka consumed 22,000 messages per second, more than 4 times that of ActiveMQ and RabbitMQ. We can think of several reasons. First, since Kafka has a more efficient storage format, fewer bytes were transferred from the broker to the consumer in Kafka. Second, the broker in both ActiveMQ and RabbitMQ had to maintain the delivery state of every message. We observed that one of the ActiveMQ threads was busy writing KahaDB pages to disks during this test. In contrast, there were no disk write activities on the Kafka broker. Finally, by using the sendfile API, Kafka reduces the transmission overhead. </p>
<p>We close the section by noting that the purpose of the experiment is not to show that other messaging systems are inferior to Kafka. After all, both ActiveMQ and RabbitMQ have more features than Kafka. The main point is to illustrate the potential performance gain that can be achieved by a specialized system. </p>
<h2 id="6-Conclusion-and-Future-Works"><a href="#6-Conclusion-and-Future-Works" class="headerlink" title="6. Conclusion and Future Works"></a>6. Conclusion and Future Works</h2><p>We present a novel system called Kafka for processing huge volume of log data streams. Like a messaging system, Kafka employs a pull-based consumption model that allows an application to consume data at its own rate and rewind the consumption whenever needed. By focusing on log processing applications, Kafka achieves much higher throughput than conventional messaging systems. It also provides integrated distributed support and can scale out. We have been using Kafka successfully at LinkedIn for both offline and online applications. </p>
<p>There are a number of directions that weâ€™d like to pursue in the future. First, we plan to add built-in replication of messages across multiple brokers to allow durability and data availability guarantees even in the case of unrecoverable machine failures. Weâ€™d like to support both asynchronous and synchronous replication models to allow some tradeoff between producer latency and the strength of the guarantees provided. An application can choose the right level of redundancy based on its requirement on durability, availability and throughput. Second, we want to add some stream processing capability in Kafka. After retrieving messages from Kafka, real time applications often perform similar operations such as window-based counting and joining each message with records in a secondary store or with messages in another stream. At the lowest level this is supported by semantically partitioning messages on the join key during publishing so that all messages sent with a particular key go to the same partition and hence arrive at a single consumer process. This provides the foundation for processing distributed streams across a cluster of consumer machines. On top of this we feel a library of helpful stream utilities, such as different windowing functions or join techniques will be beneficial to this kind of applications.  </p>
<h2 id="7-REFERENCES"><a href="#7-REFERENCES" class="headerlink" title="7. REFERENCES"></a>7. REFERENCES</h2><p>[1] <a href="http://activemq.apache.org/">http://activemq.apache.org/</a><br>[2] <a href="http://avro.apache.org/">http://avro.apache.org/</a><br>[3] Clouderaâ€™s Flume, <a href="https://github.com/cloudera/flume">https://github.com/cloudera/flume</a><br>[4] <a href="http://developer.yahoo.com/blogs/hadoop/posts/2010/06/ena">http://developer.yahoo.com/blogs/hadoop/posts/2010/06/ena</a><br>bling_hadoop_batch_processi_1/<br>[5] Efficient data transfer through zero copy:<br><a href="https://www.ibm.com/developerworks/linux/library/jzerocopy/">https://www.ibm.com/developerworks/linux/library/jzerocopy/</a><br>[6] Facebookâ€™s Scribe,<br><a href="http://www.facebook.com/note.php?note_id=32008268919">http://www.facebook.com/note.php?note_id=32008268919</a><br>[7] IBM Websphere MQ: <a href="http://www01.ibm.com/software/integration/wmq/">http://www01.ibm.com/software/integration/wmq/</a><br>[8] <a href="http://hadoop.apache.org/">http://hadoop.apache.org/</a><br>[9] <a href="http://hadoop.apache.org/hdfs/">http://hadoop.apache.org/hdfs/</a><br>[10] <a href="http://hadoop.apache.org/zookeeper/">http://hadoop.apache.org/zookeeper/</a><br>[11] <a href="http://www.slideshare.net/cloudera/hw09-hadoop-baseddata-mining-platform-for-the-telecom-industry">http://www.slideshare.net/cloudera/hw09-hadoop-baseddata-mining-platform-for-the-telecom-industry</a><br>[12] <a href="http://www.slideshare.net/prasadc/hive-percona-2009">http://www.slideshare.net/prasadc/hive-percona-2009</a><br>[13] <a href="https://issues.apache.org/jira/browse/ZOOKEEPER-775">https://issues.apache.org/jira/browse/ZOOKEEPER-775</a><br>[14] JAVA Message Service:<br><a href="http://download.oracle.com/javaee/1.3/jms/tutorial/1_3_1-">http://download.oracle.com/javaee/1.3/jms/tutorial/1_3_1-</a><br>fcs/doc/jms_tutorialTOC.html.<br>[15] Oracle Enterprise Messaging Service:<br><a href="http://www.oracle.com/technetwork/middleware/ias/index093455.html">http://www.oracle.com/technetwork/middleware/ias/index093455.html</a><br>[16] <a href="http://www.rabbitmq.com/">http://www.rabbitmq.com/</a><br>[17] TIBCO Enterprise Message Service:<br><a href="http://www.tibco.com/products/soa/messaging/">http://www.tibco.com/products/soa/messaging/</a><br>[18] Kafka, <a href="http://sna-projects.com/kafka/">http://sna-projects.com/kafka/</a></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Kafka</tag>
        <tag>å¤§æ•°æ®è®ºæ–‡</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Kafka å¦‚ä½•é€šè¿‡å…¨å±€å’Œé’ˆå¯¹ç‰¹å®š Topic è®¾ç½®æ¶ˆæ¯çš„ä¿ç•™æ—¶é•¿</title>
    <url>/2023/03/30/configuring-message-retention-period-in-apache-kafka/</url>
    <content><![CDATA[<p>åœ¨ä½¿ç”¨ Kafka ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ç¼“å†²æ•°æ®æ—¶ï¼Œåœ¨æŸäº›ä¸šåŠ¡ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´æ¶ˆæ¯åœ¨ Kafka çš„ä¿ç•™æ—¶é•¿ã€‚ä¾‹å¦‚ï¼Œå¯¹äºç”¨æˆ·è¡Œä¸ºåŸ‹ç‚¹æ—¥å¿—çš„æ•°æ®ï¼Œå› ä¸ºæ•°æ®é‡è¾ƒå¤§ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¿…è¦ä¿ç•™ 7 å¤©ï¼ˆKafka é»˜è®¤æ¶ˆæ¯ä¿ç•™æ—¶é•¿ï¼‰ï¼Œä¸ºå‡å°‘ Kafka é›†ç¾¤çš„å‹åŠ›ï¼Œæ­¤æ—¶å°±å¯ä»¥é€šè¿‡é’ˆå¯¹ä¿å­˜è¯¥ç±»æ¶ˆæ¯çš„ Topic è®¾ç½®æ¶ˆæ¯ä¿ç•™æ—¶é•¿ä¸º 3 å¤©ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•é€šè¿‡å…¨å±€å’Œé’ˆå¯¹ç‰¹å®š Topic è®¾ç½® Kafka çš„æ¶ˆæ¯ä¿ç•™æ—¶é•¿ã€‚</p>
<h2 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><p>æœ¬æ–‡çš„æ¼”ç¤ºç¤ºä¾‹åŸºäº CentOS 7 æ“ä½œç³»ç»Ÿï¼Œä½¿ç”¨çš„æ˜¯ Apache Kafkaï¼Œç‰ˆæœ¬ä¸º 2.2.1ï¼ŒScala ç‰ˆæœ¬ä¸º 2.11ï¼Œå®‰è£…ç›®å½•ä½äº <em>/opt/kafka</em>ã€‚</p>
<h2 id="Kafka-å…¨å±€æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®"><a href="#Kafka-å…¨å±€æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®" class="headerlink" title="Kafka å…¨å±€æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®"></a>Kafka å…¨å±€æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®</h2><p>é¦–å…ˆï¼Œè¿›å…¥ Kafka çš„é…ç½®æ–‡ä»¶ç›®å½•ï¼Œé€šå¸¸ä½äº Kafka å®‰è£…ç›®å½•ä¸‹çš„ <em>config</em> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/kafka/config</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ Kafka æœåŠ¡ç«¯çš„é…ç½®æ–‡ä»¶ <em>server.properties</em>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim server.properties</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°é…ç½®é¡¹ <code>log.retention.hours</code>ï¼Œå¯ä»¥çœ‹åˆ°è¯¥é…ç½®é¡¹é»˜è®¤ä¸º 168 å°æ—¶ï¼Œå³ 7 å¤©ï¼Œå°†å…¶ä¿®æ”¹ä¸º 72 å°æ—¶ï¼Œä¿å­˜å¹¶é€€å‡ºï¼Œæ¥ç€é‡å¯ Kafka ä»¥ä½¿åˆšåˆšçš„ä¿®æ”¹ç”Ÿæ•ˆã€‚</p>
<p>ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">log.retention.hours=72</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡è¯¥æ–¹å¼è®¾ç½®æ¶ˆæ¯ä¿ç•™æ—¶é•¿æ˜¯å¯¹æ‰€æœ‰çš„ Topic éƒ½ç”Ÿæ•ˆã€‚</p>
<blockquote>
<p>è¯´æ˜ï¼šè®¾ç½® Kafka æ¶ˆæ¯ä¿ç•™æ—¶é•¿é™¤äº† <code>log.retention.hours</code> è¿™ä¸€é…ç½®é¡¹å¤–ï¼Œè¿˜æœ‰ <code>log.retention.minutes</code> å’Œ <code>log.retention.ms</code> è¿™ä¸¤ä¸ªé…ç½®é¡¹ã€‚è¿™ä¸‰ä¸ªé…ç½®é¡¹éƒ½æ˜¯æ§åˆ¶ä¸€æ¡æ¶ˆæ¯çš„ä¿ç•™æ—¶é•¿ï¼Œåªæ˜¯å®ƒä»¬çš„æ§åˆ¶ç²’åº¦ä¸åŒï¼Œåˆ†åˆ«ä¸ºå°æ—¶çº§åˆ«ã€åˆ†é’Ÿçº§åˆ«å’Œæ¯«ç§’çº§åˆ«ã€‚<strong>ä»ä¼˜å…ˆçº§ä¸Šæ¥è¯´ ms è®¾ç½®æœ€é«˜ã€minutes æ¬¡ä¹‹ã€hours æœ€ä½ã€‚</strong></p>
</blockquote>
<h2 id="é’ˆå¯¹ç‰¹å®š-Topic-æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®"><a href="#é’ˆå¯¹ç‰¹å®š-Topic-æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®" class="headerlink" title="é’ˆå¯¹ç‰¹å®š Topic æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®"></a>é’ˆå¯¹ç‰¹å®š Topic æ¶ˆæ¯ä¿ç•™æ—¶é•¿è®¾ç½®</h2><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸é‡å¯ Kafka å®ä¾‹çš„æƒ…å†µä¸‹ï¼Œé’ˆå¯¹ Kafka ä¸­æ•°æ®é‡å¤§çš„ Topic è¿›è¡Œå•ç‹¬è®¾ç½®æ¶ˆæ¯ä¿ç•™æ—¶é•¿ã€‚</p>
<p>ä¸‹é¢ä»¥åç§°æ˜¯ test_a çš„ Topic ä¸ºä¾‹ï¼Œå…¨å±€é»˜è®¤æ¶ˆæ¯ä¿ç•™æ—¶é•¿ä¸º 7 å¤©ï¼Œç°åœ¨å°†å…¶è°ƒæ•´ä¸º 3 å¤©ã€‚</p>
<p>é¦–å…ˆï¼Œè¿›å…¥ Kafka å®‰è£…ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/kafka</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ Topic test_a çš„åŠ¨æ€é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/kafka-configs.sh --zookeeper zk1:2181/kafka --entity-type topics --entity-name test_a --describe</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Configs for topic &#x27;test_a&#x27; are cleanup.policy=compact</span><br></pre></td></tr></table></figure>

<p>è®¾ç½® Topic çš„æ¶ˆæ¯ä¿ç•™æ—¶é•¿ä¸º 3 å¤©ï¼Œå³ 259200000 æ¯«ç§’ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/kafka-configs.sh --zookeeper zk1:2181/kafka --entity-type topics --entity-name test_a --alter --add-config retention.ms=259200000</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Completed Updating config for entity: topic &#x27;test_a&#x27;.</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æŸ¥çœ‹è¯¥ Topic çš„åŠ¨æ€é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/kafka-configs.sh --zookeeper zk1:2181/kafka --entity-type topics --entity-name test_a --describe</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Configs for topic &#x27;test_a&#x27; are cleanup.policy=compact,retention.ms=259200000</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ Topic çš„æ¶ˆæ¯ä¿ç•™æ—¶é•¿å·²æˆåŠŸè®¾ç½®ä¸º 259200000 æ¯«ç§’ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†é€šè¿‡å…¨å±€å’Œé’ˆå¯¹ç‰¹å®š Topic ä¸¤ç§æ–¹æ³•è®¾ç½® Kafka çš„æ¶ˆæ¯ä¿ç•™æ—¶é•¿ã€‚å¹¶å…·ä½“ç¤ºä¾‹æ¼”ç¤ºäº†å…·ä½“çš„æ“ä½œæ–¹æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„ Kafka ç‰ˆæœ¬å‘½ä»¤å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Kafka</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flinkçš„æ ¸å¿ƒç‰¹æ€§</title>
    <url>/2023/09/09/apache-flink-features/</url>
    <content><![CDATA[<p>åœ¨å¤§æ•°æ®å’Œå®æ—¶æ•°æ®å¤„ç†çš„æ—¶ä»£ï¼ŒApache Flink ä»¥å…¶å“è¶Šçš„æ€§èƒ½å’Œçµæ´»æ€§æˆä¸ºäº†ä¸šç•Œçš„æ˜æ˜Ÿã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™æ¬¾æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£å…¶åœ¨å¤§æ•°æ®åˆ†æå’Œå®æ—¶æ•°æ®å¤„ç†æ–¹é¢çš„ä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<h2 id="æ‰¹æµä¸€ä½“"><a href="#æ‰¹æµä¸€ä½“" class="headerlink" title="æ‰¹æµä¸€ä½“"></a>æ‰¹æµä¸€ä½“</h2><p>Flink é‡‡ç”¨äº†ç»Ÿä¸€çš„æµå¤„ç†æ¶æ„ï¼Œå¯ä»¥ç”¨ç›¸åŒçš„ç¼–ç¨‹æ¨¡å‹å’Œè¿è¡Œæ—¶ç³»ç»Ÿæ”¯æŒæœ‰ç•Œæ•°æ®çš„æ‰¹å¤„ç†å’Œæ— ç•Œæ•°æ®çš„å®æ—¶æµå¤„ç†ã€‚è¿™ç§è®¾è®¡ç†å¿µä½¿ Flink åœ¨ä¼ä¸šæŠ€æœ¯é€‰å‹ä¸­å…·æœ‰é‡è¦æ„ä¹‰ï¼š</p>
<p>é¦–å…ˆï¼ŒFlink æ¶ˆé™¤äº†æ‰¹å¤„ç†å’Œæµå¤„ç†ä¹‹é—´çš„é¸¿æ²Ÿï¼Œä¼ä¸šæ— éœ€å†é‡‡ç”¨å¤šå¥—æ¡†æ¶åˆ†åˆ«å®ç°ä¸¤è€…ã€‚è¿™ç®€åŒ–äº†æ¶æ„è®¾è®¡ï¼Œé™ä½äº†ç³»ç»Ÿå¤æ‚åº¦ã€‚å…¶æ¬¡ï¼Œç»Ÿä¸€çš„ç¼–ç¨‹æ¨¡å‹å¯ä»¥é‡ç”¨æ‰¹å¤„ç†å’Œæµå¤„ç†çš„ä»£ç é€»è¾‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚å¼€å‘äººå‘˜æ— éœ€å­¦ä¹ å¤šç§ç¼–ç¨‹æ¨¡å‹ï¼Œå¤§å¤§å‡å°‘äº†å­¦ä¹ å’Œå¼€å‘æˆæœ¬ã€‚æœ€åï¼Œå•ä¸€çš„è¿è¡Œæ—¶ç³»ç»Ÿç®€åŒ–äº†è¿ç»´å·¥ä½œï¼Œæ— é¡»éƒ¨ç½²å’Œç»´æŠ¤å¤šå¥—æ¡†æ¶ï¼Œå¯ä»¥èŠ‚çœå¤§é‡è¿ç»´æˆæœ¬ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒFlink çš„ç»Ÿä¸€æµå¤„ç†æ¶æ„ä¸ºä¼ä¸šæä¾›äº†ä¸€ä¸ªé«˜æ•ˆã€çµæ´»ã€æ˜“äºä½¿ç”¨çš„å¤§æ•°æ®å¤„ç†è§£å†³æ–¹æ¡ˆã€‚å¦‚æœ Flink èƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œå°±æ— é¡»ç”¨ä¸¤ç§ç”šè‡³å¤šç§æ¡†æ¶åˆ†åˆ«å®ç°æ‰¹å¤„ç†å’Œæµå¤„ç†ï¼Œè¿™å¤§å¤§é™ä½äº†æ¶æ„è®¾è®¡ã€å¼€å‘ã€è¿ç»´çš„å¤æ‚åº¦ï¼Œå¯ä»¥èŠ‚çœå¤§é‡äººåŠ›æˆæœ¬ã€‚è¿™æ˜¯ Flink ç›¸æ¯”å…¶ä»–æ¡†æ¶çš„ä¸€ä¸ªé‡è¦ä¼˜åŠ¿ã€‚</p>
<h2 id="å¤æ‚çš„çŠ¶æ€ç®¡ç†"><a href="#å¤æ‚çš„çŠ¶æ€ç®¡ç†" class="headerlink" title="å¤æ‚çš„çŠ¶æ€ç®¡ç†"></a>å¤æ‚çš„çŠ¶æ€ç®¡ç†</h2><p>Flink æ”¯æŒæœ‰çŠ¶æ€è®¡ç®—ã€‚Flink åŸç”Ÿçš„åˆ†å¸ƒå¼ä¸€è‡´çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œä¸ºçŠ¶æ€å¯†é›†å‹åº”ç”¨æä¾›äº†ç¨³å®šå¯é çš„çŠ¶æ€å­˜å‚¨å’Œè®¿é—®æ¥å£ï¼Œå¯ä»¥æ”¯æŒå„ç§å¤æ‚çš„æœ‰çŠ¶æ€è®¡ç®—åº”ç”¨ã€‚è¿™æ˜¯æ„å»ºå®æ—¶æ•°æ®åº”ç”¨çš„å…³é”®èƒ½åŠ›ä¹‹ä¸€ã€‚ </p>
<h2 id="å¤šç§æ—¶é—´è¯­ä¹‰"><a href="#å¤šç§æ—¶é—´è¯­ä¹‰" class="headerlink" title="å¤šç§æ—¶é—´è¯­ä¹‰"></a>å¤šç§æ—¶é—´è¯­ä¹‰</h2><p>Flink æä¾›äº†<strong>äº‹ä»¶æ—¶é—´ï¼ˆevent-timeï¼‰å’Œå¤„ç†æ—¶é—´ï¼ˆprocessing-timeï¼‰</strong>ä¸¤ç§è¯­ä¹‰ï¼Œè¿™ä½¿å…¶åœ¨å¤„ç†ä¹±åºäº‹ä»¶æµæ—¶èƒ½å¤Ÿæä¾›ä¸€è‡´ä¸”å‡†ç¡®çš„ç»“æœã€‚åœ¨æµå¤„ç†ä¸­ï¼Œæ•°æ®åˆ°è¾¾ Flink ç³»ç»Ÿçš„é¡ºåºå¯èƒ½ä¸äº‹ä»¶æœ¬èº«å‘ç”Ÿçš„æ—¶é—´é¡ºåºä¸ä¸€è‡´ï¼Œè¿™æ˜¯å¾ˆå¸¸è§çš„æ•°æ®ä¹±åºç°è±¡ï¼Œä½† Flink å¯ä»¥ç¡®ä¿ç»“æœçš„å‡†ç¡®æ€§ã€‚</p>
<p>ä½¿ç”¨äº‹ä»¶æ—¶é—´å¯ä»¥å¯¹æ•°æ®æŒ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´è¿›è¡Œæ’åºç­‰æ“ä½œï¼Œä»è€Œå¾—åˆ°ç²¾ç¡®çš„ç»“æœã€‚è™½ç„¶ä½¿ç”¨å¤„ç†æ—¶é—´ä¸ä¸€å®šèƒ½å¾—åˆ°ç²¾ç¡®ç»“æœï¼Œä½†å¯ä»¥æ»¡è¶³ä½å»¶è¿Ÿçš„éœ€æ±‚ã€‚è¿™ä¸¤ç§æ—¶é—´è¯­ä¹‰ä½¿ Flink èƒ½å¤Ÿåœ¨ç»“æœå‡†ç¡®æ€§å’Œä½å»¶è¿Ÿä¹‹é—´è¾¾åˆ°å¹³è¡¡ï¼Œä»¥æ»¡è¶³ä¸åŒçš„åº”ç”¨éœ€æ±‚ã€‚</p>
<h2 id="è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›"><a href="#è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›" class="headerlink" title="è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›"></a>è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›</h2><p>Apache Flink å…·å¤‡è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›ã€‚å®ƒå¯ä»¥è‡ªåŠ¨ç›‘æ§ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„é”™è¯¯ï¼Œå¹¶åœ¨å‘ç”Ÿæ•…éšœæ—¶è¿›è¡Œæ¢å¤ã€‚è¿™ç§å®¹é”™æœºåˆ¶ä¿è¯äº†é•¿æ—¶é—´è¿è¡Œçš„å¤§è§„æ¨¡æ•°æ®å¤„ç†åœºæ™¯ä¸‹çš„å¯é æ€§ï¼Œä½¿å¾— Apache Flink èƒ½å¤Ÿæä¾›ç¨³å®šå¯é çš„æœåŠ¡ã€‚å¹¶ä¸”ï¼ŒFlink å­˜å‚¨çŠ¶æ€é‡‡ç”¨äº†<strong>è½»é‡çº§åˆ†å¸ƒå¼å¿«ç…§</strong>ï¼Œä½¿å¾—çŠ¶æ€å­˜å‚¨çš„æ“ä½œè¿‡ç¨‹æ˜¯ååˆ†è½»é‡çš„åˆ†å¸ƒå¼è¿‡ç¨‹ã€‚</p>
<h2 id="æ”¯æŒå¤šç§ä¸€è‡´æ€§è¯­ä¹‰"><a href="#æ”¯æŒå¤šç§ä¸€è‡´æ€§è¯­ä¹‰" class="headerlink" title="æ”¯æŒå¤šç§ä¸€è‡´æ€§è¯­ä¹‰"></a>æ”¯æŒå¤šç§ä¸€è‡´æ€§è¯­ä¹‰</h2><p>Flink æä¾›äº†â€œè‡³å°‘ä¸€æ¬¡â€ï¼ˆat least onceï¼‰è¯­ä¹‰å’Œâ€œæ°å¥½ä¸€æ¬¡â€ï¼ˆexactly onceï¼‰è¯­ä¹‰çš„çŠ¶æ€ä¸€è‡´æ€§ä¿è¯ã€‚å®ƒèƒ½å¤Ÿç¡®ä¿åœ¨å‘ç”Ÿæ•…éšœæˆ–é‡æ–°å¯åŠ¨æ—¶ï¼Œæ•°æ®æµçš„ä¸€è‡´æ€§å¾—åˆ°ä¿éšœã€‚è¿™æ ·ï¼Œç”¨æˆ·å¯ä»¥æ”¾å¿ƒåœ°è¿›è¡Œç²¾ç¡®è®¡ç®—å’Œæ•°æ®æ“ä½œï¼Œè€Œä¸å¿…æ‹…å¿ƒå‡ºç°æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>åœ¨å¤–éƒ¨ç³»ç»Ÿçš„é…åˆä¸‹ï¼ŒFlink ä¹Ÿå¯ä»¥å®ç°ç«¯åˆ°ç«¯çš„â€œæ°å¥½ä¸€æ¬¡â€è¯­ä¹‰ã€‚è¿™æ„å‘³ç€åœ¨å¤„ç†æ•°æ®æ—¶ï¼ŒFlink å¯ä»¥ç¡®ä¿æ¯ä¸ªäº‹ä»¶è¢«å¤„ç†ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ï¼Œè¿™å¯¹äºé¿å…æ•°æ®é‡å¤æˆ–ä¸¢å¤±éå¸¸é‡è¦ã€‚</p>
<h2 id="ä¸°å¯Œçš„APIå’Œåº“"><a href="#ä¸°å¯Œçš„APIå’Œåº“" class="headerlink" title="ä¸°å¯Œçš„APIå’Œåº“"></a>ä¸°å¯Œçš„APIå’Œåº“</h2><p>Apache Flink æä¾›äº†ä¸°å¯Œçš„ API å’Œåº“ï¼Œä»¥æ”¯æŒå„ç§æ•°æ®å¤„ç†éœ€æ±‚ã€‚å®ƒæ”¯æŒæµå¤„ç†å’Œæ‰¹å¤„ç†ï¼Œå¹¶æä¾›äº†å¤šä¸ªå±‚çº§çš„ API ä»¥åŠæ˜“äºä½¿ç”¨çš„æ“ä½œç¬¦å’Œå‡½æ•°ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®å®é™…æƒ…å†µï¼Œåœ¨è¿½æ±‚è¡¨è¾¾åŠ›å’Œè¿½æ±‚æ˜“ç”¨æ€§ä¹‹é—´åšå‡ºæƒè¡¡ï¼Œè€Œä¸”ä¸åŒå±‚çº§çš„ API å¯ä»¥æ··ç”¨ï¼Œè¿™ä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿå¿«é€Ÿå¼€å‘å’Œè°ƒè¯•æ•°æ®å¤„ç†é€»è¾‘ã€‚</p>
<p>æ­¤å¤–ï¼ŒFlink è¿˜æä¾›ä¸å…¶ä»–å¼€æºç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚Hadoopã€Kafka ç­‰ï¼‰çš„æ— ç¼é›†æˆï¼Œè¿›ä¸€æ­¥æ–¹ä¾¿äº†æ•°æ®é‡‡é›†ã€å­˜å‚¨å’Œå¤„ç†çš„è¿‡ç¨‹ã€‚</p>
<h2 id="ä½å»¶è¿Ÿã€é«˜ååé‡å’Œé«˜å¯ç”¨æ€§"><a href="#ä½å»¶è¿Ÿã€é«˜ååé‡å’Œé«˜å¯ç”¨æ€§" class="headerlink" title="ä½å»¶è¿Ÿã€é«˜ååé‡å’Œé«˜å¯ç”¨æ€§"></a>ä½å»¶è¿Ÿã€é«˜ååé‡å’Œé«˜å¯ç”¨æ€§</h2><p>Apache Flink åœ¨å¤„ç†å®æ—¶æ•°æ®æ—¶è¡¨ç°å‡ºè‰²ï¼Œå…·æœ‰ä½å»¶è¿Ÿå’Œé«˜ååé‡çš„ç‰¹æ€§ã€‚é€šè¿‡å°†è®¡ç®—ä»»åŠ¡åˆ†è§£ä¸ºå¤šä¸ªå¹¶è¡Œçš„å­ä»»åŠ¡å¹¶è¿›è¡Œä¼˜åŒ–ï¼ŒFlink å®ç°äº†å¿«é€Ÿå¤„ç†å’Œé«˜æ•ˆåˆ©ç”¨èµ„æºã€‚è¿™æ„å‘³ç€ Flink å¯ä»¥æ¯ç§’å¤„ç†æ•°ç™¾ä¸‡ä¸ªäº‹ä»¶ï¼Œå¹¶ä¸”å»¶è¿Ÿæ—¶é—´ä»…åœ¨æ¯«ç§’çº§åˆ«ã€‚è¿™å¯¹äºéœ€è¦åœ¨å®æ—¶æ•°æ®æµä¸­å¿«é€Ÿåšå‡ºå†³ç­–çš„åº”ç”¨åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚é‡‘èå¸‚åœºçš„äº¤æ˜“ã€ç‰©æµè¿è¾“çš„å®æ—¶è·Ÿè¸ªã€å®æ—¶æ¨èç³»ç»Ÿã€æ¬ºè¯ˆæ£€æµ‹ç­‰ã€‚Apache Flink çš„é«˜æ€§èƒ½ä¿è¯äº†å®æ—¶æ•°æ®èƒ½å¤Ÿåœ¨æœ€çŸ­çš„æ—¶é—´å†…è¢«å‡†ç¡®å¤„ç†ã€‚</p>
<p>æ­¤å¤–ï¼ŒFlink ä¹Ÿå…·æœ‰é«˜å¯ç”¨æ€§ï¼Œå…¶æœ¬èº«æ˜¯é«˜å¯ç”¨çš„è®¾ç½®ï¼Œå¹¶ä¸Kubernetesã€YARN ç´§å¯†é›†æˆï¼Œè¿™ä½¿å¾— Flink èƒ½å¤Ÿä»¥æå°‘çš„åœæœºæ—¶é—´å…¨å¤©å€™è¿è¡Œã€‚è¿™ç§é«˜å¯ç”¨æ€§å¯¹äºéœ€è¦ä¸é—´æ–­è¿è¡Œçš„åº”ç”¨åœºæ™¯æ¥è¯´è‡³å…³é‡è¦ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Apache Flink ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ã€çµæ´»å¯æ‰©å±•çš„æµå¼å¤„ç†æ¡†æ¶ï¼Œå…·å¤‡å¤šä¸ªæ ¸å¿ƒç‰¹æ€§ï¼ŒåŒ…æ‹¬æµæ‰¹ä¸€ä½“ã€å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€å¤šç§æ—¶é—´è¯­ä¹‰ã€è‰¯å¥½çš„å®¹é”™æ€§å’Œæ•…éšœæ¢å¤èƒ½åŠ›ã€æ”¯æŒå¤šç§ä¸€è‡´æ€§è¯­ä¹‰ã€ä¸°å¯Œçš„ API å’Œåº“ï¼Œä»¥åŠä½å»¶è¿Ÿã€é«˜ååé‡å’Œé«˜å¯ç”¨æ€§ã€‚</p>
<p>å®é™…ä¸Šï¼ŒFlink çš„ç‰¹æ€§è¿œä¸æ­¢è¿™äº›ï¼Œè¿˜åŒ…æ‹¬ä¸°å¯Œçš„è¿æ¥å™¨ã€å¤šå¹³å°éƒ¨ç½²ç­‰ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾— Apache Flink æˆä¸ºå¤„ç†å®æ—¶æ•°æ®çš„é¦–é€‰æ¡†æ¶ï¼Œå¹¶åœ¨å„ä¸ªè¡Œä¸šçš„æ•°æ®å¤„ç†éœ€æ±‚ä¸­å¹¿æ³›åº”ç”¨ã€‚ä½¿ç”¨ Apache Flinkï¼Œä¼ä¸šå¯ä»¥è½»æ¾åº”å¯¹æµ·é‡æ•°æ®å¤„ç†çš„æŒ‘æˆ˜ï¼Œå®ç°æ›´é«˜æ•ˆã€æ›´ç²¾ç¡®çš„æ•°æ®è®¡ç®—å’Œæ“ä½œã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Endpoint æ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <url>/2023/04/19/what-is-an-endpoint/</url>
    <content><![CDATA[<p>Endpoint ç¿»è¯‘æˆä¸­æ–‡æ˜¯ç«¯ç‚¹ã€ç»ˆç‚¹æˆ–ç»ˆç»“ç‚¹çš„æ„æ€ã€‚åœ¨é€šä¿¡é¢†åŸŸï¼ŒEndpoint æ˜¯æŒ‡è¿æ¥åˆ°ç½‘ç»œç³»ç»Ÿçš„ç‰©ç†è®¾å¤‡ï¼Œä¾‹å¦‚ç§»åŠ¨è®¾å¤‡ã€å°å¼è®¡ç®—æœºã€è™šæ‹Ÿæœºã€åµŒå…¥å¼è®¾å¤‡å’ŒæœåŠ¡å™¨ã€‚</p>
<h2 id="Endpoint-å®šä¹‰"><a href="#Endpoint-å®šä¹‰" class="headerlink" title="Endpoint å®šä¹‰"></a>Endpoint å®šä¹‰</h2><p>å¹¿ä¹‰ä¸Šï¼ŒEndpoint ä¸€èˆ¬æ˜¯æŒ‡è¿æ¥åˆ°è®¡ç®—æœºç½‘ç»œå¹¶ä¸ä¹‹äº¤æ¢ä¿¡æ¯çš„ç‰©ç†è®¾å¤‡ã€‚Endpoint çš„ä¸€äº›ä¾‹å­æ˜¯æ‰‹æœºç§»åŠ¨è®¾å¤‡ã€å°å¼è®¡ç®—æœºã€è™šæ‹Ÿæœºã€åµŒå…¥å¼è®¾å¤‡å’ŒæœåŠ¡å™¨ã€‚ç‰©è”ç½‘è®¾å¤‡â€”â€”å¦‚æ‘„åƒå¤´ã€ç…§æ˜ã€å†°ç®±ã€å®‰å…¨ç³»ç»Ÿã€æ™ºèƒ½æ‰¬å£°å™¨å’Œæ’æ¸©å™¨â€”â€”ä¹Ÿæ˜¯ Endpointã€‚</p>
<p>ä½†åœ¨è®¡ç®—æœºç½‘ç»œåº”ç”¨é¢†åŸŸä¸Šï¼ŒEndpoint æ˜¯æŒ‡ç½‘ç»œä¸Šçš„ä¸€ä¸ªæ¥å£æˆ–åœ°å€ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¿é—®ç½‘ç»œæœåŠ¡æˆ–åº”ç”¨ç¨‹åºã€‚å®ƒé€šå¸¸å‘å®¢æˆ·ç«¯æä¾›ä¸€ç»„å¯è°ƒç”¨çš„æ¥å£æˆ–APIã€‚</p>
<p>ä¸¾äº›ä¾‹å­ï¼š</p>
<ul>
<li>REST API çš„ URL å°±æ˜¯ Endpointï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è¿™ä¸ª Endpoint è®¿é—® API æä¾›çš„æœåŠ¡ã€‚</li>
<li>WebSocket çš„ URL å°±æ˜¯ Endpointï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è¿™ä¸ª Endpoint ä¸æœåŠ¡å™¨å»ºç«‹åŒå‘é€šä¿¡ã€‚</li>
<li>SMTP é‚®ä»¶æœåŠ¡å™¨çš„åŸŸåå°±æ˜¯ email å‘é€çš„ Endpointã€‚</li>
<li>æ•°æ®åº“æœåŠ¡å™¨ç›‘å¬çš„ IP å’Œç«¯å£å°±æ˜¯æ•°æ®åº“çš„ Endpointã€‚</li>
</ul>
<p>æ€»ç»“æ¥è¯´ï¼ŒEndpoint æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ol>
<li><p>å®ƒæ˜¯ä¸€ä¸ªç½‘ç»œä¸Šçš„æ¥å£æˆ–åœ°å€ï¼›</p>
</li>
<li><p>å®ƒæä¾›ä¸€ç»„å®¢æˆ·ç«¯å¯ä»¥è°ƒç”¨çš„æ¥å£æˆ– APIï¼›</p>
</li>
<li><p>å®ƒå…è®¸å®¢æˆ·ç«¯ä¸ç½‘ç»œæœåŠ¡æˆ–åº”ç”¨ç¨‹åºäº¤äº’ï¼›</p>
</li>
<li><p>å®ƒå¯ä»¥æ˜¯ URLã€åŸŸåã€IP åœ°å€åŠ ç«¯å£ç­‰ã€‚</p>
</li>
</ol>
<h2 id="HTTP-Endpoint-API-Endpoint"><a href="#HTTP-Endpoint-API-Endpoint" class="headerlink" title="HTTP Endpoint / API Endpoint"></a>HTTP Endpoint / API Endpoint</h2><p>HTTP Endpoint æ˜¯ä¸€ç§ç½‘ç»œ API çš„è®¿é—®ç‚¹ã€‚å®ƒåŒ…å«ä»¥ä¸‹ä¿¡æ¯:</p>
<ul>
<li>åè®®ï¼šHTTP æˆ– HTTPS</li>
<li>ä¸»æœºå(Hostname)ï¼šæœåŠ¡å™¨çš„åŸŸåæˆ– IP åœ°å€</li>
<li>ç«¯å£(Port)ï¼šæœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º 80(HTTP)æˆ– 443(HTTPS)</li>
<li>è·¯å¾„(Path)ï¼šAPI çš„è®¿é—®è·¯å¾„ï¼Œæ¯”å¦‚ /users æˆ– /posts/1</li>
</ul>
<p>æ‰€ä»¥ä¸€ä¸ªå…¸å‹çš„ HTTP Endpoint çš„å†™æ³•æ˜¯:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://api.example.com/users</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç«¯ç‚¹è¡¨ç¤º:</p>
<ul>
<li>ä½¿ç”¨ HTTPS åè®®</li>
<li>æœåŠ¡å™¨åŸŸåæ˜¯Â <a href="http://api.example.com/">api.example.com</a></li>
<li>ç«¯å£é»˜è®¤ä¸º 443</li>
<li>è·¯å¾„æ˜¯ /usersï¼Œè¡¨ç¤ºè®¿é—® users API</li>
</ul>
<p>è®¿é—®è¿™ä¸ª HTTP Endpointï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç§ HTTP è¯·æ±‚æ–¹æ³•ï¼š</p>
<ul>
<li>GET /users - è·å–ç”¨æˆ·åˆ—è¡¨</li>
<li>POST /users - æ–°å»ºç”¨æˆ·</li>
<li>GET /users/1 - è·å– ID ä¸º 1 çš„ç”¨æˆ·</li>
<li>PUT /users/1 - æ›´æ–° ID ä¸º 1 çš„ç”¨æˆ·</li>
<li>DELETE /users/1 - åˆ é™¤ ID ä¸º 1 çš„ç”¨æˆ·</li>
</ul>
<p>å®é™…ä¸Šï¼ŒHTTP Endpoint å°±æ˜¯ä¸€ä¸ª Web API èƒ½å¤Ÿæ¥å—çš„è®¿é—®ç‚¹å’Œè·¯å¾„ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„ HTTP è¯·æ±‚åœ¨è¿™ä¸ªç«¯ç‚¹è¿›è¡Œèµ„æºçš„ CRUD æ“ä½œã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
  </entry>
  <entry>
    <title>Filebeatå·¥ä½œåŸç†</title>
    <url>/2023/03/01/how-filebeat-works/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç» Filebeat çš„ä¸¤ä¸ªå…³é”®ç»„ä»¶ä»¥åŠå®ƒä»¬å¦‚ä½•å…±åŒåä½œå®Œæˆæ•°æ®é‡‡é›†å’Œè½¬å‘å·¥ä½œã€‚ç†è§£å¹¶ç†Ÿç»ƒæŒæ¡è¿™äº›ç»„ä»¶çš„å·¥ä½œåŸç†å°†å¯¹åé¢æ·±å…¥å­¦ä¹  Filebeat çš„å„ç§åŠŸèƒ½å’Œç‰¹æ€§ï¼Œå°¤å…¶æ˜¯ä¸ºç‰¹å®šä½¿ç”¨åœºæ™¯é…ç½® Filebeat æ—¶å¤§æœ‰è£¨ç›Šã€‚</p>
<hr>
<p>Filebeat ç”±ä¸¤ä¸ªå…³é”®ç»„ä»¶æ„æˆï¼šè¾“å…¥ï¼ˆInputï¼‰å’Œé‡‡é›†å™¨ï¼ˆHarvesterï¼Œ[ËˆhÉ‘ËrvÉªstÉ™r]ï¼‰ã€‚è¿™äº›ç»„ä»¶å…±åŒåä½œï¼Œè·Ÿè¸ªæ—¥å¿—æ–‡ä»¶ï¼Œå¹¶å°†äº‹ä»¶æ•°æ®å‘é€åˆ°æŒ‡å®šçš„è¾“å‡ºä¸Šã€‚</p>
<h2 id="é‡‡é›†å™¨"><a href="#é‡‡é›†å™¨" class="headerlink" title="é‡‡é›†å™¨"></a>é‡‡é›†å™¨</h2><p>é‡‡é›†å™¨é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹å¹¶å°†å…¶è½¬æ¢ä¸ºäº‹ä»¶ï¼Œç„¶åå‘é€åˆ°æŒ‡å®šçš„è¾“å‡ºä¸Šã€‚ä¸€ä¸ªé‡‡é›†å™¨åªä¼šè·Ÿè¸ªä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡‡é›†å™¨è¿˜è´Ÿè´£æ–‡ä»¶çš„æ‰“å¼€ä¸å…³é—­â€”â€”é‡‡é›†æ–‡ä»¶ä¹‹å‰éœ€è¦å…ˆæ‰“å¼€æ–‡ä»¶ï¼Œé‡‡é›†ç»“æŸä¹‹åéœ€è¦å…³é—­æ–‡ä»¶ã€‚åœ¨é‡‡é›†çš„è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶ä¼šä¸€ç›´ä¿æŒæ‰“å¼€çš„çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨é‡‡é›†æœŸé—´ç§»é™¤æˆ–é‡å‘½åæ–‡ä»¶ï¼Œé‡‡é›†å™¨ä»ä¼šç»§ç»­è¯»å–è¯¥æ–‡ä»¶ï¼Œè¿™ä¼šå¯¼è‡´ç£ç›˜ç©ºé—´ä¸è¢«é‡Šæ”¾ï¼Œé™¤éå…³é—­é‡‡é›†å™¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFilebeat ä¿æŒæ–‡ä»¶ä¸ºæ‰“å¼€çŠ¶æ€çš„æ—¶é•¿å–å†³äºé…ç½®é¡¹ <code>close_inactive</code> è®¾ç½®çš„æ—¶é•¿ã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶åœ¨è®¾å®šçš„æ—¶é—´å†…æ²¡æœ‰æ–°å¢æ•°æ®ï¼Œå³ Filebeat åœ¨è®¾å®šçš„æ—¶é—´å†…æ²¡æœ‰ä»è¯¥æ–‡ä»¶ä¸­é‡‡é›†åˆ°æ•°æ®ï¼Œé‚£ä¹ˆ Filebeat å°±ä¼šå…³é—­è¯¥æ–‡ä»¶ã€‚</p>
<p>å…³é—­é‡‡é›†å™¨çš„åç»­è¡Œä¸ºï¼š</p>
<ul>
<li>å¦‚æœæ–‡ä»¶åœ¨é‡‡é›†å™¨è¿è¡ŒæœŸé—´å°±è¢«åˆ é™¤ï¼Œé‚£ä¹ˆå…³é—­é‡‡é›†å™¨å°±ä¼šå…³é—­è¯¥æ–‡ä»¶ä»è€Œé‡Šæ”¾åº•å±‚èµ„æºã€‚</li>
<li>è¢«å…³é—­çš„é‡‡é›†å™¨åªæœ‰åœ¨ <code>scan_frequency</code> è¿‡åï¼Œæ‰ä¼šå†æ¬¡å¼€å§‹å¯åŠ¨é‡‡é›†ã€‚</li>
<li>åœ¨å…³é—­é‡‡é›†å™¨åç§»åŠ¨æˆ–åˆ é™¤æ–‡ä»¶ï¼Œå°±ä¸ä¼šå†é‡‡é›†è¯¥æ–‡ä»¶ã€‚</li>
</ul>
<blockquote>
<p>æ§åˆ¶é‡‡é›†å™¨å…³é—­è¡Œä¸ºçš„ç›¸å…³é…ç½®ï¼Œå¯å‚è€ƒ <code>close_*</code> é…ç½®é¡¹è¯´æ˜ã€‚</p>
</blockquote>
<h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><p>è¾“å…¥è´Ÿè´£ç®¡ç†é‡‡é›†å™¨å’ŒæŸ¥æ‰¾æ‰€æœ‰è¦é‡‡é›†çš„æºã€‚</p>
<p>å¦‚æœè¾“å…¥çš„ç±»å‹æ˜¯ <code>log</code>ï¼Œé‚£ä¹ˆè¾“å…¥ä¼šæŸ¥æ‰¾é©±åŠ¨ä¸Šæ‰€æœ‰ä¸å®šä¹‰çš„é€šé…ç¬¦åŒ¹é…æ“ä½œç¬¦ç›¸åŒ¹é…çš„æ–‡ä»¶ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡ä»¶å¯åŠ¨ä¸€ä¸ªé‡‡é›†å™¨ã€‚æ¯ä¸ªè¾“å…¥éƒ½è¿è¡Œåœ¨è‡ªå·±çš„ Go åç¨‹ä¸­ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­é…ç½®äº† Filebeat é‡‡é›† <em>/var/log</em> å’Œ <em>/var/path2</em> ä¸¤ä¸ªè·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶æ‰©å±•åä¸º <em>log</em> çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">filebeat.inputs:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">log</span></span><br><span class="line">  <span class="attr">paths:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/var/log/*.log</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/var/path2/*.log</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Filebeat ç›®å‰æ”¯æŒå‡ ç§è¾“å…¥ç±»å‹ã€‚æ¯ç§è¾“å…¥ç±»å‹éƒ½å¯ä»¥å®šä¹‰å¤šæ¬¡ã€‚<code>log</code> ç±»å‹è¾“å…¥ä¼šæ£€æŸ¥æ¯ä¸ªæ–‡ä»¶ï¼Œçœ‹æ˜¯å¦éœ€è¦å¯åŠ¨é‡‡é›†å™¨ï¼Œæ˜¯å¦å·²ç»åœ¨è¿è¡Œï¼Œæˆ–è€…æ˜¯å¦å¯ä»¥å¿½ç•¥è¯¥æ–‡ä»¶ï¼ˆè§ <code>ignore_older</code> é…ç½®é¡¹ï¼‰ã€‚é‡‡é›†å™¨å…³é—­åï¼Œåªæœ‰å½“æ–‡ä»¶çš„å¤§å°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šç»§ç»­é‡‡é›†æ–°è¡Œã€‚</p>
<h2 id="ä¿å­˜æ–‡ä»¶çŠ¶æ€"><a href="#ä¿å­˜æ–‡ä»¶çŠ¶æ€" class="headerlink" title="ä¿å­˜æ–‡ä»¶çŠ¶æ€"></a>ä¿å­˜æ–‡ä»¶çŠ¶æ€</h2><p>Filebeat ä¼šä¿å­˜æ¯ä¸ªæ–‡ä»¶çš„çŠ¶æ€ï¼Œå¹¶é¢‘ç¹æŠŠçŠ¶æ€å†™åˆ°ç£ç›˜çš„æ³¨å†Œè¡¨æ–‡ä»¶ä¸­ã€‚çŠ¶æ€ç”¨äºè®°å½•é‡‡é›†å™¨æœ€åä¸€æ¬¡è¯»å–çš„åç§»é‡å’Œç¡®ä¿æ‰€æœ‰çš„æ—¥å¿—è¡Œéƒ½æˆåŠŸå‘é€ã€‚å¦‚æœæŒ‡å®šçš„è¾“å‡ºï¼ˆå¦‚ Elasticsearchã€Logstashï¼‰å‡ºç°ä¸å¯ç”¨ï¼ŒFilebeat ä¼šæŒç»­è·Ÿè¸ªæœ€åå‘é€çš„æ—¥å¿—è¡Œçš„çŠ¶æ€ï¼Œä¸€æ—¦è¾“å‡ºå†æ¬¡å¯ç”¨ï¼Œå°±ä¼šç»§ç»­è¯»å–æ–‡ä»¶ã€‚Filebeat åœ¨è¿è¡Œæ—¶ï¼Œæ¯ä¸ªè¾“å…¥çš„çŠ¶æ€ä¿¡æ¯ä¹Ÿä¼šä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å½“ Filebeat é‡æ–°å¯åŠ¨æ—¶ï¼Œä¼šä»ç£ç›˜ä¸Šçš„æ³¨å†Œè¡¨æ–‡ä»¶æ¢å¤æ•°æ®çŠ¶æ€ï¼Œæ¯ä¸ªé‡‡é›†å™¨ä¹Ÿä¼šä»ä¸Šä¸€æ¬¡å‘é€æˆåŠŸçš„ä½ç½®ç»§ç»­é‡‡é›†ã€‚</p>
<p>å¯¹äºæ¯ä¸ªè¾“å…¥ï¼ŒFilebeat ä¼šä¿å­˜å®ƒæ‰€æ‰¾åˆ°çš„æ¯ä¸ªæ–‡ä»¶çš„çŠ¶æ€ã€‚å› ä¸ºæ–‡ä»¶å¯ä»¥è¢«é‡å‘½åæˆ–ç§»åŠ¨ï¼Œæ‰€ä»¥æ–‡ä»¶åå’Œè·¯å¾„å¹¶ä¸èƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ–‡ä»¶ã€‚å¯¹äºæ¯ä¸ªæ–‡ä»¶ï¼ŒFilebeat éƒ½ä¼šå­˜å‚¨å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œä»¥æ£€æµ‹æ–‡ä»¶ä¹‹å‰æ˜¯å¦è¢«é‡‡é›†è¿‡ã€‚</p>
<h2 id="è‡³å°‘ä¸€æ¬¡"><a href="#è‡³å°‘ä¸€æ¬¡" class="headerlink" title="è‡³å°‘ä¸€æ¬¡"></a>è‡³å°‘ä¸€æ¬¡</h2><p>Filebeat æä¾›è‡³å°‘ä¸€æ¬¡ä¿éšœï¼Œè¿™æ„å‘³ç€æ‰€æœ‰äº‹ä»¶æœ€ç»ˆéƒ½ä¼šè¢«å¤„ç†ï¼Œè™½ç„¶æœ‰äº›å¯èƒ½ä¼šè¢«å¤„ç†å¤šæ¬¡ï¼Œä½†ä¸ä¼šæœ‰æ•°æ®ä¸¢å¤±çš„æƒ…å†µã€‚Filebeat èƒ½å¤Ÿå®ç°è¯¥åŠŸèƒ½ï¼Œæ˜¯å› ä¸ºå®ƒå°†æ¯ä¸ªäº‹ä»¶çš„å‘é€çŠ¶æ€æŒä¹…åŒ–åˆ°ç£ç›˜çš„æ–‡ä»¶ä¸­ã€‚</p>
<p>å¦‚æœ Filebeat çš„è¾“å‡ºï¼ˆOutputï¼‰å‡ºç°é˜»å¡ã€æ— æ³•ç¡®è®¤äº‹ä»¶å·²ç»æ¥æ”¶å®Œæ¯•ï¼ŒFilebeat ä¼šä¸€ç›´å°è¯•å‘é€è¿™äº›äº‹ä»¶ï¼Œç›´æ¥è¾“å‡ºç¡®è®¤å·²æ¥æ”¶åˆ°äº‹ä»¶ä¸ºæ­¢ã€‚</p>
<p>å¦‚æœ Filebeat åœ¨å‘é€äº‹ä»¶çš„è¿‡ç¨‹ä¸­å…³é—­ï¼Œå®ƒä¸ä¼šç­‰å¾…è¾“å‡ºç¡®è®¤æ‰€æœ‰äº‹ä»¶åå†å…³é—­ã€‚ä»»ä½•å‘é€åˆ°è¾“å‡ºçš„äº‹ä»¶ï¼Œä½†åœ¨ Filebeat å…³é—­å‰æ²¡æœ‰ç¡®è®¤ï¼Œåœ¨ Filebeat é‡æ–°å¯åŠ¨æ—¶å°†å†æ¬¡å‘é€ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªäº‹ä»¶è‡³å°‘å‘é€ä¸€æ¬¡ï¼Œä½†æœ€ç»ˆå¯èƒ½ä¼šå°†é‡å¤çš„äº‹ä»¶å‘é€åˆ°è¾“å‡ºã€‚å¯ä»¥é€šè¿‡è®¾ç½® <code>shutdown_timeout</code> é…ç½®é¡¹å°†Filebeaté…ç½®ä¸ºåœ¨å…³é—­å‰ç­‰å¾…ç‰¹å®šçš„æ—¶é—´ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šFilebeatçš„è‡³å°‘ä¸€æ¬¡äº¤ä»˜ä¿è¯æœ‰ä¸€ä¸ªé™åˆ¶ï¼Œæ¶‰åŠæ—¥å¿—è½®æ¢å’Œåˆ é™¤æ—§æ–‡ä»¶ã€‚å¦‚æœæ—¥å¿—æ–‡ä»¶å†™å…¥ç£ç›˜å’Œæ—‹è½¬çš„é€Ÿåº¦è¶…è¿‡Filebeatå¤„ç†å®ƒä»¬çš„é€Ÿåº¦ï¼Œæˆ–è€…å¦‚æœåœ¨è¾“å‡ºä¸å¯ç”¨æ—¶åˆ é™¤æ–‡ä»¶ï¼Œåˆ™æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚åœ¨Linuxä¸Šï¼Œç”±äºinodeé‡ç”¨ï¼ŒFilebeatä¹Ÿå¯èƒ½ä¼šè·³è¿‡è¡Œã€‚æœ‰å…³inodeé‡ç”¨é—®é¢˜çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§å¸¸è§é—®é¢˜ã€‚</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
      </tags>
  </entry>
  <entry>
    <title>Filebeat é…ç½® Http Endpoint</title>
    <url>/2023/04/18/filebeat-http-endpoint/</url>
    <content><![CDATA[<p>Filebeat å¯ä»¥é€šè¿‡ HTTP ç»ˆç‚¹æ¥æš´éœ²å†…éƒ¨çš„æŒ‡æ ‡ã€‚è¿™äº›æŒ‡æ ‡å¯¹äºç›‘æ§ Beat çš„å†…éƒ¨çŠ¶æ€å¾ˆæœ‰ç”¨ã€‚ä½†å‡ºäºå®‰å…¨åŸå› ï¼Œè¯¥åŠŸèƒ½é»˜è®¤æ˜¯ç¦ç”¨çš„ã€‚è¦å¼€å¯è¯¥åŠŸèƒ½ï¼Œéœ€è¦åœ¨ filebeat.yml æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®é¡¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">http:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>å¼€å¯äº†è¯¥åŠŸèƒ½åï¼Œåœ¨æµè§ˆå™¨è®¿é—®åœ°å€ <a href="http://localhost:5066/stats">http://localhost:5066/stats</a> å³å¯æŸ¥çœ‹å„é¡¹ç»Ÿè®¡æŒ‡æ ‡ã€‚è¦ç¾åŒ– JSON è¾“å‡ºæ•°æ®æ ¼å¼ï¼Œå¯ä»¥åœ¨è¯¥åœ°å€åé¢åŠ ä¸Š <em>?pretty</em> ï¼Œå³ï¼š<a href="http://localhost:5066/stats?pretty">http://localhost:5066/stats?pretty</a></p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªåŠŸèƒ½ç›®å‰è¿˜æ˜¯å®éªŒæ€§çš„ã€‚</p>
</blockquote>
<h2 id="HTTP-ç»ˆç‚¹é…ç½®è¯´æ˜"><a href="#HTTP-ç»ˆç‚¹é…ç½®è¯´æ˜" class="headerlink" title="HTTP ç»ˆç‚¹é…ç½®è¯´æ˜"></a>HTTP ç»ˆç‚¹é…ç½®è¯´æ˜</h2><table>
<thead>
<tr>
<th>é…ç½®</th>
<th>å¯é€‰/å¿…å¡«</th>
<th>é»˜è®¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>http.enabled</td>
<td>(å¯é€‰ï¼‰</td>
<td>false</td>
<td>å¯ç”¨ HTTP ç»ˆç‚¹ã€‚</td>
</tr>
<tr>
<td>http.host</td>
<td>(å¯é€‰ï¼‰</td>
<td>localhost</td>
<td>ç»‘å®šåˆ°è¿™ä¸ªä¸»æœºåã€IP åœ°å€ã€unix å¥—æ¥å­—ï¼ˆunix:///var/run/filebeat.sockï¼‰æˆ– Windows å‘½åçš„ç®¡é“ï¼ˆnpipe:///filebeatï¼‰ã€‚å»ºè®®åªä½¿ç”¨ localhostã€‚é»˜è®¤ä¸º localhostã€‚</td>
</tr>
<tr>
<td>http.port</td>
<td>(å¯é€‰ï¼‰</td>
<td>5066</td>
<td>HTTP ç»ˆç‚¹å°†ç»‘å®šçš„ç«¯å£ã€‚é»˜è®¤ä¸º 5066ã€‚</td>
</tr>
<tr>
<td>http.named_pipe.user</td>
<td>(å¯é€‰ï¼‰</td>
<td>å½“å‰ç”¨æˆ·</td>
<td>ç”¨äºåˆ›å»ºå‘½åç®¡é“çš„ç”¨æˆ·ï¼Œåªåœ¨ Windows ä¸‹å·¥ä½œï¼Œé»˜è®¤ä¸ºå½“å‰ç”¨æˆ·ã€‚</td>
</tr>
<tr>
<td>http.named_pipe.security_descriptor</td>
<td>(å¯é€‰ï¼‰</td>
<td>å½“å‰ç”¨æˆ·çš„è¯»å’Œå†™æƒé™</td>
<td>ä»¥ SDDL æ ¼å¼å®šä¹‰çš„ Windows å®‰å…¨æè¿°ç¬¦å­—ç¬¦ä¸²ã€‚é»˜è®¤ä¸ºå½“å‰ç”¨æˆ·çš„è¯»å’Œå†™æƒé™ã€‚</td>
</tr>
<tr>
<td>http.pprof.enabled</td>
<td>(å¯é€‰ï¼‰</td>
<td>false</td>
<td>åœ¨æä¾› HTTP æœåŠ¡æ—¶å¯ç”¨ /debug/pprof/ ç»ˆç‚¹ã€‚å»ºè®®åªåœ¨ localhost ä¸Šå¯ç”¨ï¼Œå› ä¸ºè¿™äº›ç»ˆç‚¹å¯èƒ½ä¼šæ³„éœ²æ•°æ®ã€‚é»˜è®¤ä¸º falseã€‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>http.pprof.block_profile_rate</td>
<td>(å¯é€‰ï¼‰</td>
<td>0</td>
<td>block_profile_rate æ§åˆ¶åœ¨ /debug/pprof/block æä¾›çš„é˜»å¡é…ç½®æ–‡ä»¶ä¸­æŠ¥å‘Šçš„ goroutine é˜»å¡äº‹ä»¶çš„æ¯”ä¾‹ã€‚å‰–æå™¨çš„ç›®æ ‡æ˜¯å¯¹æ¯ä¸€ä¸ªé˜»å¡ç‡çº³ç§’çš„é˜»å¡äº‹ä»¶è¿›è¡Œå¹³å‡é‡‡æ ·ã€‚è¦åœ¨å‰–æä¸­åŒ…æ‹¬æ¯ä¸ªé˜»å¡äº‹ä»¶ï¼Œé€šè¿‡ç‡ = 1ã€‚è¦å®Œå…¨å…³é—­å‰–æï¼Œpass rate â‡ 0ã€‚ é»˜è®¤ä¸º 0ã€‚</td>
</tr>
<tr>
<td>http.pprof.mem_profile_rate</td>
<td>(å¯é€‰ï¼‰</td>
<td>524288</td>
<td>mem_profile_rate æ§åˆ¶åœ¨ /debug/pprof/heap æä¾›çš„å†…å­˜é…ç½®æ–‡ä»¶ä¸­è®°å½•å’ŒæŠ¥å‘Šçš„å†…å­˜åˆ†é…æ¯”ä¾‹ã€‚å‰–æå™¨çš„ç›®æ ‡æ˜¯å¹³å‡æ¯åˆ†é…ä¸€ä¸ª mem_profile_rate å­—èŠ‚å°±é‡‡æ ·ä¸€æ¬¡åˆ†é…ã€‚è¦åœ¨å‰–æä¸­åŒ…æ‹¬æ¯ä¸ªåˆ†é…çš„å—ï¼Œè¯·å°† mem_profile_rate è®¾ç½®ä¸º 1ã€‚è¦å®Œå…¨å…³é—­å‰–æï¼Œè¯·å°† mem_profile_rate è®¾ç½®ä¸º 0ã€‚ é»˜è®¤å€¼ä¸º 524288ã€‚</td>
</tr>
<tr>
<td>http.pprof.mutex_profile_rate</td>
<td>(å¯é€‰ï¼‰</td>
<td>0</td>
<td>mutex_profile_rate æ§åˆ¶åœ¨ /debug/pprof/mutex æä¾›çš„ mutex profile ä¸­æŠ¥å‘Šçš„ mutex äº‰å¤ºäº‹ä»¶çš„æ¯”ä¾‹ã€‚å¹³å‡æœ‰ 1/rate çš„äº‹ä»¶è¢«æŠ¥å‘Šã€‚è¦å®Œå…¨å…³é—­å‰–æï¼Œè¯·å°†é€Ÿç‡è®¾ä¸º 0ã€‚é»˜è®¤å€¼æ˜¯ 0ã€‚</td>
</tr>
</tbody></table>
<h2 id="è¿”å›ç¤ºä¾‹"><a href="#è¿”å›ç¤ºä¾‹" class="headerlink" title="è¿”å›ç¤ºä¾‹"></a>è¿”å›ç¤ºä¾‹</h2><p><em><a href="http://localhost:5066/">http://localhost:5066</a> è¿”å›å†…å®¹å¦‚ä¸‹ï¼š</em></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;beat&quot;</span><span class="punctuation">:</span> <span class="string">&quot;filebeat&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;binary_arch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;amd64&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build_commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;9b77c2c135c228c2eedc310f6e975bb1a76169b1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-02-12T04:37:19.000Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;elastic_licensed&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ephemeral_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;9e04d8fb-b69b-4549-9b8e-d24628b74b9c&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;gid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hostname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fb-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fb-01&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;root&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;uuid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;25b97e60-5065-43d5-bf28-75fc0a59083c&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8.6.2&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Š JSON å­—ç¬¦ä¸²å„å­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<p>beatï¼šbeat ç±»å‹ï¼Œè¿™é‡Œæ˜¯ filebeatï¼›</p>
<p>binary_archï¼šå¤„ç†å™¨æ¶æ„ï¼Œè¿™é‡Œæ˜¯ amd64ï¼›</p>
<p>build_commitï¼šFilebeat çš„æ„å»ºæäº¤ç¼–å· 9b77c2c135c228c2eedc310f6e975bb1a76169b1ï¼›</p>
<p>build_timeï¼šFilebeat çš„æ„å»ºæ—¶é—´ 2023-02-12T04:37:19.000Zï¼›</p>
<p>elastic_licensedï¼šæ˜¯å¦å·²è´­ä¹° Elastic è®¸å¯è¯ï¼Œæ­¤å¤„ä¸º trueï¼›</p>
<p>ephemeral_idï¼šä¸´æ—¶ID 1af792df-38b1-4799-be0c-f1c3f7182afaï¼›</p>
<p>gidï¼šgroupidï¼Œè¿™é‡Œæ˜¯ 0ï¼Œå³ rootï¼›</p>
<p>hostnameï¼šä¸»æœºåï¼›</p>
<p>nameï¼šè®¡ç®—æœºåç§°ï¼›</p>
<p>uidï¼šuseridï¼Œè¿™é‡Œæ˜¯ 0ï¼Œå³ rootï¼›</p>
<p>usernameï¼šç”¨æˆ·åï¼Œè¿™é‡Œæ˜¯ rootï¼›</p>
<p>uuidï¼šå”¯ä¸€æ ‡è¯†ç¬¦ cafeb55a-b083-476d-aae1-58ff02b54cdaï¼›</p>
<p>versionï¼šfilebeat çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œæ˜¯ 8.6.2</p>
<p><em><a href="http://localhost:5066/stats?pretty">http://localhost:5066/stats?pretty</a> è¿”å›å†…å®¹å¦‚ä¸‹ï¼š</em></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;beat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;cpu&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;system&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;ticks&quot;</span><span class="punctuation">:</span> <span class="number">30670</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;ms&quot;</span><span class="punctuation">:</span> <span class="number">30670</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;ticks&quot;</span><span class="punctuation">:</span> <span class="number">39480</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;ms&quot;</span><span class="punctuation">:</span> <span class="number">39480</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="number">39480</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;user&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;ticks&quot;</span><span class="punctuation">:</span> <span class="number">8810</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;ms&quot;</span><span class="punctuation">:</span> <span class="number">8810</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;handles&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;limit&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;hard&quot;</span><span class="punctuation">:</span> <span class="number">4096</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;soft&quot;</span><span class="punctuation">:</span> <span class="number">1024</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;open&quot;</span><span class="punctuation">:</span> <span class="number">13</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;ephemeral_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;9e04d8fb-b69b-4549-9b8e-d24628b74b9c&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;filebeat&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;uptime&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;ms&quot;</span><span class="punctuation">:</span> <span class="number">435000666</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8.6.2&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;memstats&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;gc_next&quot;</span><span class="punctuation">:</span> <span class="number">19509800</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;memory_alloc&quot;</span><span class="punctuation">:</span> <span class="number">9710592</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;memory_sys&quot;</span><span class="punctuation">:</span> <span class="number">30229512</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;memory_total&quot;</span><span class="punctuation">:</span> <span class="number">771926000</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;rss&quot;</span><span class="punctuation">:</span> <span class="number">16318464</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;runtime&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;goroutines&quot;</span><span class="punctuation">:</span> <span class="number">60</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;filebeat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;events&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;active&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;added&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;done&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;harvester&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;closed&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;open_files&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;running&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;skipped&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;started&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;log&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;renamed&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;truncated&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;netflow&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;flows&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;packets&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;dropped&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;received&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;libbeat&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;config&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;running&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;starts&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;stops&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;reloads&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;scans&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;events&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;acked&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;active&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;batches&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;dropped&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;duplicates&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;failed&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;toomany&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;read&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;bytes&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;errors&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;console&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;write&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;bytes&quot;</span><span class="punctuation">:</span> <span class="number">9557</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;errors&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;pipeline&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;clients&quot;</span><span class="punctuation">:</span> <span class="number">7</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;events&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;active&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;dropped&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;failed&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;filtered&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;published&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;retry&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;queue&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;acked&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;max_events&quot;</span><span class="punctuation">:</span> <span class="number">4096</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;registrar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;states&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;cleanup&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;current&quot;</span><span class="punctuation">:</span> <span class="number">7</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;update&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;writes&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;fail&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">3</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;system&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;cpu&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;cores&quot;</span><span class="punctuation">:</span> <span class="number">8</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;load&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;1&quot;</span><span class="punctuation">:</span> <span class="number">0.52</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;5&quot;</span><span class="punctuation">:</span> <span class="number">0.58</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;15&quot;</span><span class="punctuation">:</span> <span class="number">0.59</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;norm&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;1&quot;</span><span class="punctuation">:</span> <span class="number">0.065</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;5&quot;</span><span class="punctuation">:</span> <span class="number">0.0725</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;15&quot;</span><span class="punctuation">:</span> <span class="number">0.0738</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›çš„ JSON å­—ç¬¦ä¸²åŒ…å«äº† filebeat è¿›ç¨‹çš„è¯¦ç»†è¿è¡Œä¿¡æ¯ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†:</p>
<ul>
<li>beat éƒ¨åˆ†ï¼šåŒ…å« filebeat è¿›ç¨‹åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚ç‰ˆæœ¬ã€å¯åŠ¨æ—¶é—´ã€CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µç­‰ã€‚</li>
<li>filebeat éƒ¨åˆ†ï¼šåŒ…å« filebeat æœ¬èº«çš„è¿è¡Œæ•°æ®ï¼Œå¦‚å·²è¯»å–å’Œå¤„ç†çš„äº‹ä»¶æ•°ã€Harvester æƒ…å†µã€è¾“å…¥é€šé“(å¦‚æ–‡ä»¶ã€Netflow)æƒ…å†µç­‰ã€‚</li>
<li>libbeat éƒ¨åˆ†ï¼šåŒ…å« filebeat ä½œä¸º beats çš„ä¸€å‘˜æ‰€å…±æœ‰çš„è¿è¡Œæ•°æ®ï¼Œå¦‚æ¨¡å—åŠ è½½æƒ…å†µã€è¾“å‡ºé€šé“æƒ…å†µã€pipeline æƒ…å†µç­‰ã€‚</li>
<li>registrar éƒ¨åˆ†ï¼šåŒ…å« filebeat è¿è¡ŒæœŸé—´æ•°æ®å‘é€è‡³ registrar çš„æƒ…å†µï¼Œå¦‚å¤±è´¥ã€æˆåŠŸã€æ›´æ–°äº‹ä»¶æ•°ç­‰ã€‚</li>
<li>system éƒ¨åˆ†ï¼šåŒ…å«å®¿ä¸»æœåŠ¡å™¨çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚ CPU æ ¸å¿ƒæ•°ã€è´Ÿè½½æƒ…å†µç­‰ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
        <tag>ELK</tag>
      </tags>
  </entry>
  <entry>
    <title>Git æ ‡ç­¾ç®¡ç†â€”â€”ä»£ç åˆ‡æ¢åˆ°æŒ‡å®šçš„ Tag ä¸Š</title>
    <url>/2023/04/10/git-tag-checkout/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»¥ Github ä¸Šçš„ <a href="https://github.com/logstash-plugins/logstash-filter-geoip">logstash-filter-geoip</a> é¡¹ç›®ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•å°†ä»£ç åˆ‡æ¢åˆ°æŒ‡å®šçš„ Tag ä¸Šã€‚</p>
<hr>
<p>ä½¿ç”¨ <code>git clone</code> ä» Github ä¸Šå°† logstash-filter-geoip ä»£ç å…‹éš†è‡³æœ¬åœ°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/logstash-plugins/logstash-filter-geoip.git</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ä»£ç ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> logstash-filter-geoip</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>git tag</code> æŸ¥çœ‹æ‰€æœ‰çš„ Tagï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git tag</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼ˆæ³¨æ„ï¼Œæ˜¾ç¤ºçš„æ ‡ç­¾åˆ—è¡¨ä¸æ˜¯æŒ‰æ ‡ç­¾åˆ›å»ºæ—¶é—´é¡ºåºæ¥æ’åºçš„ï¼Œè€Œæ˜¯æŒ‰å­—æ¯æ’åºçš„ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">v0.1.0</span><br><span class="line">v0.1.1</span><br><span class="line">v0.1.10</span><br><span class="line">v0.1.2</span><br><span class="line">......</span><br><span class="line">v7.2.1</span><br><span class="line">v7.2.10</span><br><span class="line">v7.2.11</span><br><span class="line">v7.2.12</span><br><span class="line">v7.2.13</span><br><span class="line">v7.2.2</span><br><span class="line">v7.2.3</span><br><span class="line">v7.2.4</span><br><span class="line">v7.2.5</span><br><span class="line">v7.2.6</span><br><span class="line">v7.2.7</span><br><span class="line">v7.2.8</span><br><span class="line">v7.2.9</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>git checkout</code> åˆ‡æ¢è‡³æ ‡ç­¾ v7.2.13ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout v7.2.13</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  logstash-filter-geoip git:(main) git checkout v7.2.13</span><br><span class="line">Note: switching to <span class="string">&#x27;v7.2.13&#x27;</span>.</span><br><span class="line"></span><br><span class="line">You are <span class="keyword">in</span> <span class="string">&#x27;detached HEAD&#x27;</span> state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make <span class="keyword">in</span> this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"><span class="keyword">do</span> so (now or later) by using -c with the switch <span class="built_in">command</span>. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">HEAD is now at fc2df01 [DOC] Add documentation <span class="keyword">for</span> database downloader setting (#210)</span><br><span class="line">âœ  logstash-filter-geoip git:(fc2df01)</span><br></pre></td></tr></table></figure>

<p>ä»æç¤ºä¸­å¯ä»¥çœ‹å‡ºå½“å‰å¤„äºä¸€ä¸ªâ€œdetached HEADâ€çŠ¶æ€ï¼Œä¸å…è®¸ä¿®æ”¹ä»£ç ï¼Œå› ä¸ºæ ‡ç­¾ä¹Ÿæ˜¯ç‰ˆæœ¬åº“çš„ä¸€ä¸ªå¿«ç…§ã€‚å¦‚æœæƒ³è¦åœ¨æŸä¸ª Tag ä»£ç çš„åŸºç¡€ä¸Šåšä¿®æ”¹ï¼Œå¯ä»¥åœ¨è¿™ä¸ª Tag ä»£ç åŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -b branch_name tag_name</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚åœ¨ v7.2.13 åœ¨åŸºç¡€ä¸Šåˆ›å»ºåˆ†æ”¯ hotfixï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git checkout -b hotfix v7.2.13</span><br></pre></td></tr></table></figure>

<p>åç»­åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šçš„æ“ä½œï¼Œå°±å’Œæ™®é€šçš„åˆ†æ”¯ git æ“ä½œä¸€æ ·äº†ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon 0.5ç‰ˆæœ¬éœ‡æ’¼å‘å¸ƒï¼šæ•°æ®å¯¼å…¥ã€æŸ¥è¯¢æ€§èƒ½å†å‡çº§</title>
    <url>/2023/09/11/apache-paimon-0_5_0-incubating-release/</url>
    <content><![CDATA[<p>æ˜¨æ—¥ï¼ŒApache Paimon 0.5.0-incubating ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚è¿™ä¸ªç‰ˆæœ¬æ˜¯åœ¨è¿‘ 100 ä½è´¡çŒ®è€…çš„å…±åŒåŠªåŠ›ä¸‹å®Œæˆçš„ï¼Œå…±æäº¤äº† 500 å¤šæ¬¡ä»£ç æ”¹è¿›ï¼Œä¸ºç¤¾åŒºå¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚</p>
<p>å…¶ä¸­çš„äº®ç‚¹ä¹‹ä¸€æ˜¯ CDCï¼ˆChange Data Captureï¼‰æ•°æ®å…¥æ¹–çš„åŠŸèƒ½å·²ç»æˆç†Ÿã€‚åœ¨ 0.5 ç‰ˆæœ¬ä¸­ï¼Œå¼•å…¥äº†æ ‡ç­¾çš„æ¦‚å¿µï¼Œä¸ºç¦»çº¿æ•°æ®ä»“åº“æä¾›äº†ä¸å¯å˜è§†å›¾ã€‚æ­¤å¤–ï¼Œä¸»é”®è¡¨çš„åŠ¨æ€æ¡¶æ¨¡å¼ä¹Ÿå·²ç»æŠ•å…¥ç”Ÿäº§ï¼Œå¹¶å¼•å…¥äº†ä»…è¿½åŠ æ¨¡å¼å¯æ‰©å±•è¡¨æ¥å–ä»£ Hive è¡¨ã€‚</p>
<p>Paimon æ”¯æŒå¤šç§æ–¹å¼å°†æ•°æ®å¯¼å…¥ Paimon è¡¨ï¼Œå¹¶ä¸”æ”¯æŒæ¨¡å¼æ¼”åŒ–ã€‚åœ¨ 0.5 ç‰ˆæœ¬ä¸­ï¼Œæ–°å¢äº†è®¸å¤šæ–°åŠŸèƒ½ï¼Œä¾‹å¦‚ MySQL åŒæ­¥è¡¨å’Œæ•°æ®åº“ã€Kafka åŒæ­¥è¡¨å’Œæ•°æ®åº“ä»¥åŠ MongoDB åŒæ­¥é›†åˆå’Œæ•°æ®åº“ã€‚</p>
<p>ä¸»é”®è¡¨å¯ä»¥é€šè¿‡åœ¨åˆ›å»ºè¡¨çš„ DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ä¸­æŒ‡å®šä¸»é”®æ¥åˆ›å»ºï¼Œå®ƒæ¥å—æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤è®°å½•æ“ä½œã€‚è€ŒåŠ¨æ€æ¡¶ï¼ˆDynamic Bucketï¼‰æ¨¡å¼æ˜¯é€šè¿‡å°† <code>&#39;bucket&#39;</code> å‚æ•°è®¾ç½®ä¸º <code>&#39;-1&#39;</code> æ¥å®ç°çš„ï¼ŒPaimon å¯ä»¥åŠ¨æ€ç»´æŠ¤ç´¢å¼•å¹¶è‡ªåŠ¨æ‰©å±•æ¡¶çš„æ•°é‡ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ§åˆ¶ç›®æ ‡è¡Œæ•°å’Œåˆ†é…å™¨æ“ä½œç¬¦çš„å¹¶è¡Œåº¦æ¥ä¼˜åŒ–åŠ¨æ€æ¡¶çš„æ€§èƒ½ã€‚</p>
<p>é’ˆå¯¹éƒ¨åˆ†æ›´æ–°è¡¨åœ¨å¤šæµæ›´æ–°æ—¶çš„æ— åºé—®é¢˜ï¼Œå¼•å…¥äº†åºåˆ—ç»„ï¼ˆSequence Groupï¼‰æœºåˆ¶ï¼Œæ¯ä¸ªæ•°æ®æµéƒ½å¯ä»¥å®šä¹‰è‡ªå·±çš„åºåˆ—åˆ†ç»„ï¼Œå®ç°çœŸæ­£çš„éƒ¨åˆ†æ›´æ–°ã€‚</p>
<p>ä¸ºäº†æå‡æŸ¥è¯¢æ€§èƒ½ï¼Œæ–°å¢äº†é¦–è¡Œï¼ˆ<code>first-row</code>ï¼‰åˆå¹¶å¼•æ“ï¼Œç”¨æˆ·å¯ä»¥ä¿ç•™ç›¸åŒä¸»é”®çš„ç¬¬ä¸€è¡Œæ•°æ®ã€‚æ­¤å¤–ï¼Œè¿˜å¼•å…¥äº† Lookup Changelog-Producer æ¥å¤§å¤§å‡å°‘éœ€è¦ç”Ÿæˆæ›´æ”¹æ—¥å¿—çš„è¡¨çš„å»¶è¿Ÿã€‚</p>
<p>é’ˆå¯¹å‹ç¼©çš„éœ€æ±‚ï¼ŒPaimon æ”¯æŒå¼‚æ­¥å‹ç¼©ï¼Œç”¨æˆ·å¯ä»¥æ…¢æ…¢åœ°è¿›è¡Œå‹ç¼©è€Œä¸ä¼šé˜»å¡å†™å…¥æ“ä½œï¼Œå¹¶ä¸”ä»¥æœ€å¤§å†™å…¥ååé‡æ¨¡å¼è¿è¡Œã€‚åŒæ—¶ï¼Œæ¨èä½¿ç”¨ AVRO æ–‡ä»¶æ ¼å¼ä»¥å®ç°æœ€ä½³å‹ç¼©æ€§èƒ½ã€‚</p>
<p>é™¤äº†ä»¥ä¸ŠåŠŸèƒ½ï¼Œ0.5 ç‰ˆæœ¬è¿˜å¼•å…¥äº†ä»…è¿½åŠ å¯æ‰©å±•è¡¨çš„æ¦‚å¿µï¼Œé€šè¿‡å¯¹éä¸»é”®è¡¨å®šä¹‰ <code>&quot;bucket&quot;=&quot;-1&quot;</code> æ¥å®ç°ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè¡¨å¯ä»¥å¹¶å‘è¯»å†™ï¼Œè¢«è§†ä¸ºæ‰¹é‡ç¦»çº¿è¡¨ï¼ŒåŒæ—¶æ”¯æŒå°æ–‡ä»¶è‡ªåŠ¨åˆå¹¶åŠŸèƒ½ã€‚</p>
<p>æ­¤å¤–ï¼Œå¼•å…¥æ ‡ç­¾ç®¡ç†åŠŸèƒ½ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŸ¥è¯¢å†å²æ•°æ®ï¼Œå¹¶æä¾›äº†è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾å’Œå¢é‡æŸ¥è¯¢çš„æ”¯æŒã€‚</p>
<p>åœ¨è®¡ç®—å¼•æ“æ–¹é¢ï¼ŒPaimon åœ¨ Flink å’Œ Spark ä¸Šè¿›è¡Œäº†æ·±åº¦é›†æˆã€‚åœ¨ Flink 1.17 ç‰ˆæœ¬ä¸­ï¼ŒPaimon æä¾›äº†æ›´å¼ºå¤§çš„ ALTER TABLE è¯­æ³•ä»¥åŠåŸºäº Hive metastore çš„ FlinkGenericCatalogï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ Paimonã€Hive å’Œ Flink Generic Tablesï¼ˆå¦‚ Kafka ç­‰è¡¨ï¼‰çš„æ‰€æœ‰è¡¨ã€‚</p>
<p>åœ¨ Spark é›†æˆæ–¹é¢ï¼ŒPaimon 0.5 ç‰ˆæœ¬å¼•å…¥äº†è®¸å¤šå†™ç‰¹æ€§ï¼Œä¾‹å¦‚åˆ†åŒºè¦†ç›–ã€åˆ†åŒºç®¡ç†ã€æ¨¡å¼åˆå¹¶å†™ä»¥åŠæµå¼ sink çš„æ”¯æŒã€‚å¯ä»¥çœ‹å‡º Paimon åœ¨ Spark é›†æˆä¸Šè¿›è¡Œäº†å¤§é‡å·¥ä½œï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚</p>
<p>æœªæ¥ï¼ŒPaimon å°†ç»§ç»­åŠªåŠ›è§£å†³åŠ é€Ÿå°† CDC æ•°æ®å¯¼å…¥æ•°æ®æ¹–ã€ä¸°å¯Œ Merge å¼•æ“ä»¥æå‡æµè®¡ç®—ã€Changelog æµå¼è¯»å–ä»¥åŠè¿½åŠ æ¨¡å¼åŠ é€Ÿ Hive ç¦»çº¿è¡¨ç­‰åœºæ™¯çš„éœ€æ±‚ã€‚åŒæ—¶ï¼ŒPaimon ä¹Ÿå°†è¿›ä¸€æ­¥æ”¹è¿›æ‰¹å¤„ç†è·¯å¾„ï¼Œä¸º Hive æä¾›æ›´å¤šä¼˜åŒ–ã€‚</p>
<p>Paimon 0.5 ç‰ˆæœ¬åœ¨åŠŸèƒ½ä¸Šæœ‰äº†å¤§é‡çš„å¢å¼ºå’Œæ”¹è¿›ï¼Œæä¾›äº†æ›´ä¸°å¯Œçš„æ•°æ®å¯¼å…¥æ–¹å¼å’Œè®¡ç®—å¼•æ“é›†æˆé€‰é¡¹ï¼Œä¸ºç”¨æˆ·æ„å»ºç»Ÿä¸€çš„å­˜å‚¨å’Œè®¡ç®—å¼•æ“æä¾›äº†æ›´å¤šé€‰æ‹©ã€‚å¯ä»¥é¢„è§ï¼ŒPaimon æœªæ¥ä¼šåœ¨æ‰¹æµä¸€ä½“åœºæ™¯ä¸Šæœ‰æ›´å¤šåˆ›æ–°ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Flinkä¾èµ–é…ç½®ï¼šTable API &amp; SQL</title>
    <url>/2023/02/16/flink-sql-table-api-configuration-dependency/</url>
    <content><![CDATA[<p>æˆ‘æ˜¯ Flink åˆå­¦è€…ï¼Œç°åœ¨æˆ‘è¦åœ¨ Flink åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ”¯æŒä½¿ç”¨ Flink SQL è¿›è¡Œæ•°æ®ç»Ÿè®¡çš„åŠŸèƒ½ï¼Œä½†æˆ‘ä¸çŸ¥é“åº”è¯¥æ·»åŠ å“ªäº›ä¾èµ–ã€‚</p>
<p>ç¨‹åºä½¿ç”¨ Java è¯­è¨€å¼€å‘ï¼ŒFlink ç‰ˆæœ¬æ˜¯å½“å‰æœ€æ–°çš„ 1.16.1 ç‰ˆæœ¬ï¼Œç¨‹åºçš„åŠŸèƒ½æ˜¯ä½¿ç”¨ Flink SQL ä» Kafka è¯»å–æ•°æ®ï¼Œå¹¶æŠŠè¯»å–åˆ°æ•°æ®ç›´æ¥è¿›è¡Œæ ‡å‡†è¾“å‡ºã€‚Kafka çš„æ•°æ®ä¸º Canal ç¨‹åºé‡‡é›† MySQL çš„ Binlog æ—¥å¿—ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä½¿ç”¨åˆ°çš„ Table API è¿æ¥å™¨æœ‰ Kafka Connectorï¼ŒCanal Connectorã€‚</p>
<p>pom.xml ä¾èµ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-streaming-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-clients<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ä»¥ä¸‹ä¸‰ä¸ªä¾èµ–æ˜¯æˆ‘è‡ªå·±æ·»åŠ çš„ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-json<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-table-api-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-table-planner-loader<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-table-runtime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-connector-kafka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¨‹åºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line">        <span class="type">EnvironmentSettings</span> <span class="variable">settings</span> <span class="operator">=</span> EnvironmentSettings</span><br><span class="line">                .newInstance()</span><br><span class="line">                .inStreamingMode()</span><br><span class="line">                .build();</span><br><span class="line">        <span class="type">TableConfig</span> <span class="variable">tableConfig</span> <span class="operator">=</span> TableConfig.getDefault();</span><br><span class="line">        tableConfig.setIdleStateRetention(Duration.ofDays(<span class="number">1L</span>));</span><br><span class="line">        <span class="type">TableEnvironment</span> <span class="variable">tableEnv</span> <span class="operator">=</span> TableEnvironment.create(settings);</span><br><span class="line"></span><br><span class="line">        tableEnv.executeSql(<span class="string">&quot;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;CREATE TABLE `tb_user` ( &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `id` INT, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `area_code` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `phone` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `password` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `nickname` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `avatar` STRING &quot;</span> +</span><br><span class="line">                <span class="string">&quot;) WITH ( &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;connector&#x27; = &#x27;kafka&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;topic&#x27; = &#x27;dwd_user&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;properties.bootstrap.servers&#x27; = &#x27;kafka1:9092,kafka2:9092,kafka3:9092&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;properties.group.id&#x27; = &#x27;dwd_user_v230215&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;scan.startup.mode&#x27; = &#x27;earliest-offset&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;format&#x27; = &#x27;canal-json&#x27; &quot;</span> +</span><br><span class="line">                <span class="string">&quot;)&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> tableEnv.sqlQuery(<span class="string">&quot;select * from tb_user&quot;</span>);</span><br><span class="line">        table.printSchema();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿™é‡Œè¦æŠŠ Table è½¬æˆæµè¿›è¡Œæ‰“å°è¾“å‡ºï¼Œä½†è¿™é‡Œç¼ºå°‘ç›¸å…³æ–¹æ³•ï¼Œç¼–è¯‘ä¸é€šè¿‡ï¼Ÿ</span></span><br><span class="line">        DataStream&lt;Row&gt; resultStream = tableEnv.from(table);</span><br><span class="line"></span><br><span class="line">        resultStream.print();</span><br><span class="line"></span><br><span class="line">        env.execute(<span class="string">&quot;TT&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒFlink SQL æ‰€ä½¿ç”¨çš„ Kafka è¿æ¥å™¨å’Œè§£æ Canal Json æ ¼å¼çš„è¿æ¥å™¨çš„ä¾èµ–æ˜¯å¯¹çš„ã€‚</p>
<p>Flink Table API çš„ Kafka è¿æ¥å™¨ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-connector-kafka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Flink Table API çš„ Canal Json è§£æè¿æ¥å™¨ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-json<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;flink.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä½ çš„åº”ç”¨ä¸­éœ€è¦å°† Table ç±»å‹è½¬ä¸º DataStream ç±»å‹è¿›è¡Œæ‰“å°è¾“å‡ºï¼Œå³éœ€è¦æ··åˆä½¿ç”¨ DataStream API å’Œ Table API &amp; SQL è¿™ä¸¤ç§ç±»å‹ APIï¼Œé‚£ä¹ˆä½ éœ€è¦æ·»åŠ çš„æ˜¯ flink-table-api-java-bridge ä¾èµ–ï¼Œè€Œä¸æ˜¯ flink-table-api-java ä¾èµ–ã€‚</p>
<p>flink-table-api-java-bridge ä¾èµ–å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-table-api-java-bridge<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œä¾èµ–åï¼Œä½ çš„åº”ç”¨ç¨‹åºä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line">        <span class="type">EnvironmentSettings</span> <span class="variable">settings</span> <span class="operator">=</span> EnvironmentSettings</span><br><span class="line">                .newInstance()</span><br><span class="line">                .inStreamingMode()</span><br><span class="line">                .build();</span><br><span class="line">        <span class="type">TableConfig</span> <span class="variable">tableConfig</span> <span class="operator">=</span> TableConfig.getDefault();</span><br><span class="line">        tableConfig.setIdleStateRetention(Duration.ofDays(<span class="number">1L</span>));</span><br><span class="line">        **<span class="type">StreamTableEnvironment</span> <span class="variable">tableEnv</span> <span class="operator">=</span> StreamTableEnvironmentImpl.create(env, settings);**</span><br><span class="line"></span><br><span class="line">        tableEnv.executeSql(<span class="string">&quot;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;CREATE TABLE `tb_user` ( &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `id` INT, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `area_code` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `phone` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `password` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `nickname` STRING, &quot;</span> +</span><br><span class="line">                <span class="string">&quot;  `avatar` STRING &quot;</span> +</span><br><span class="line">                <span class="string">&quot;) WITH ( &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;connector&#x27; = &#x27;kafka&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;topic&#x27; = &#x27;dwd_user&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;properties.bootstrap.servers&#x27; = &#x27;kafka1:9092,kafka2:9092,kafka3:9092&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;properties.group.id&#x27; = &#x27;dwd_user_v230215&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;scan.startup.mode&#x27; = &#x27;earliest-offset&#x27;, &quot;</span> +</span><br><span class="line">                <span class="string">&quot; &#x27;format&#x27; = &#x27;canal-json&#x27; &quot;</span> +</span><br><span class="line">                <span class="string">&quot;)&quot;</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="type">Table</span> <span class="variable">table</span> <span class="operator">=</span> tableEnv.sqlQuery(<span class="string">&quot;select * from tb_user&quot;</span>);</span><br><span class="line">        table.printSchema();</span><br><span class="line"></span><br><span class="line">        **DataStream&lt;Row&gt; resultStream = tableEnv.toChangelogStream(table);**</span><br><span class="line"></span><br><span class="line">        resultStream.print();</span><br><span class="line"></span><br><span class="line">        env.execute(<span class="string">&quot;TT&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>NOTEï¼šFlink æä¾›äº†ä¸¤ç§ä¸»è¦çš„ APIï¼šDatastream API å’Œ Table API &amp; SQLã€‚æ ¹æ®ä½ çš„ä½¿ç”¨åœºæ™¯ï¼Œå®ƒä»¬æ—¢å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨ã€‚</p>
<p>API ä¸ä¾èµ–é¡¹å¯¹åº”å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>è¦ä½¿ç”¨çš„ API</th>
<th>éœ€è¦æ·»åŠ çš„ä¾èµ–é¡¹</th>
</tr>
</thead>
<tbody><tr>
<td>DataStream</td>
<td>flink-streaming-java</td>
</tr>
<tr>
<td>DataStream with Scala</td>
<td>flink-streaming-scala_2.12</td>
</tr>
<tr>
<td>Table API</td>
<td>flink-table-api-java</td>
</tr>
<tr>
<td>Table API with Scala</td>
<td>flink-table-api-scala_2.12</td>
</tr>
<tr>
<td>Table API + DataStream</td>
<td>flink-table-api-java-bridge</td>
</tr>
<tr>
<td>Table API + DataStream with Scala</td>
<td>flink-table-api-scala-bridge_2.12</td>
</tr>
</tbody></table>
<p>è¿™é‡Œ API æŒ‰ Java è¿˜æ˜¯ Scala è¯­è¨€ï¼Œæ˜¯å•ç‹¬ä½¿ç”¨è¿˜æ˜¯æ··åˆä½¿ç”¨ï¼Œåˆ’åˆ†ä¸ºå…­ä¸ªä¾èµ–é¡¹ï¼Œå…·ä½“ä½¿ç”¨å“ªä¸ª APIï¼Œå–å†³äºä½ çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon 0.5æ­£å¼å‘å¸ƒ</title>
    <url>/2023/09/06/apache-paimon-release-0_5/</url>
    <content><![CDATA[<p>Apache Paimon 0.5.0-incubating ç‰ˆæœ¬ç»ˆäºåœ¨ä»Šå¤©æ­£å¼å‘å¸ƒäº†ã€‚æœ‰è¿‘ 100 ä½è´¡çŒ®è€…å‚ä¸äº†æ­¤ç‰ˆæœ¬çš„å¼€å‘ï¼Œå…±å®Œæˆäº† 500 å¤šæ¬¡ä»£ç æäº¤ï¼Œä¸ºç¤¾åŒºå¸¦æ¥äº†è®¸å¤šä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚</p>
<p>è¯¥ç‰ˆæœ¬çš„ä¸»è¦äº®ç‚¹åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>CDC æ•°æ®å…¥æ¹–çš„åŠŸèƒ½å·²ç»æˆç†Ÿã€‚</li>
<li>å¼•å…¥äº†æ ‡ç­¾çš„æ¦‚å¿µï¼Œä¸ºç¦»çº¿æ•°æ®ä»“åº“æä¾›ä¸å¯å˜è§†å›¾ã€‚</li>
<li>ä¸»é”®è¡¨çš„åŠ¨æ€æ¡¶æ¨¡å¼å·²æŠ•å…¥ç”Ÿäº§ã€‚</li>
<li>å¼•å…¥ä»…è¿½åŠ æ¨¡å¼å¯æ‰©å±•è¡¨ï¼Œä»¥å–ä»£ Hive è¡¨ã€‚</li>
</ul>
<h2 id="CDCæ‘„å…¥"><a href="#CDCæ‘„å…¥" class="headerlink" title="CDCæ‘„å…¥"></a>CDCæ‘„å…¥</h2><p>Paimon æ”¯æŒå¤šç§æ–¹å¼å°†æ•°æ®å¯¼å…¥ Paimon è¡¨ï¼Œå¹¶æ”¯æŒæ¨¡å¼æ¼”åŒ–ã€‚åœ¨ 0.5 ç‰ˆæœ¬ä¸­ï¼Œæ–°å¢äº†è®¸å¤šæ–°åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><p>MySQL æ•°æ®è¡¨åŒæ­¥</p>
<ul>
<li>æ”¯æŒå°†åˆ†ç‰‡æ•°æ®åŒæ­¥åˆ°ä¸€ä¸ª Paimon è¡¨ä¸­ã€‚</li>
<li>æ”¯æŒå°†æ‰€æœ‰å­—æ®µç±»å‹æ˜ å°„ä¸ºå­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
<li><p>MySQL æ•°æ®åº“åŒæ­¥</p>
<ul>
<li>æ”¯æŒåˆå¹¶å¤šä¸ªæ•°æ®åº“ä¸­çš„å¤šä¸ªåˆ†ç‰‡æ•°æ®ã€‚</li>
<li>æ”¯æŒ <code>--mode combined</code> æ¨¡å¼ï¼Œå°†æ‰€æœ‰è¡¨æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®æ±‡ä¸­è¿›è¡ŒåŒæ­¥ï¼Œå¹¶æ”¯æŒåœ¨ä¸é‡å¯ä½œä¸šçš„æƒ…å†µä¸‹åŒæ­¥æ–°å¢çš„è¡¨ã€‚</li>
</ul>
</li>
<li><p>ä» Kafka åŒæ­¥æ•°æ®è¡¨</p>
<ul>
<li>å°† Kafka ä¸»é¢˜é‡Œçš„æ•°æ®è¡¨åŒæ­¥åˆ° Paimon è¡¨ä¸­ã€‚</li>
<li>æ”¯æŒ Canal å’Œ OGG æ ¼å¼ã€‚</li>
</ul>
</li>
<li><p>ä» Kafka åŒæ­¥æ•°æ®åº“</p>
<ul>
<li>å°†åŒ…å«å¤šå¼ æ•°æ®è¡¨çš„ä¸€ä¸ª Kafka ä¸»é¢˜æˆ–å„åŒ…å«ä¸€å¼ è¡¨çš„å¤šä¸ªä¸»é¢˜åŒæ­¥åˆ°ä¸€ä¸ª Paimon æ•°æ®åº“ä¸­ã€‚</li>
<li>æ”¯æŒ Canal å’Œ OGG æ ¼å¼ã€‚</li>
</ul>
</li>
<li><p>MongoDB é›†åˆåŒæ­¥</p>
<ul>
<li>å°† MongoDB ä¸­çš„ä¸€ä¸ªé›†åˆåŒæ­¥åˆ°ä¸€ä¸ª Paimon è¡¨ä¸­ã€‚</li>
</ul>
</li>
<li><p>MongoDB æ•°æ®åº“åŒæ­¥</p>
<ul>
<li>å°†æ•´ä¸ª MongoDB æ•°æ®åº“åŒæ­¥åˆ°ä¸€ä¸ª Paimon æ•°æ®åº“ä¸­ã€‚</li>
</ul>
</li>
</ul>
<h2 id="ä¸»é”®è¡¨"><a href="#ä¸»é”®è¡¨" class="headerlink" title="ä¸»é”®è¡¨"></a><strong>ä¸»é”®è¡¨</strong></h2><p>é€šè¿‡åœ¨åˆ›å»ºè¡¨æ—¶çš„ DDL ä¸­æŒ‡å®šä¸»é”®ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€å¼ ä¸»é”®è¡¨ï¼ˆPrimary Key Tableï¼‰ï¼Œå®ƒå¯ä»¥æ¥å—æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤è®°å½•æ“ä½œã€‚</p>
<h3 id="åŠ¨æ€åˆ†æ¡¶ï¼ˆDynamic-Bucketï¼‰"><a href="#åŠ¨æ€åˆ†æ¡¶ï¼ˆDynamic-Bucketï¼‰" class="headerlink" title="åŠ¨æ€åˆ†æ¡¶ï¼ˆDynamic Bucketï¼‰"></a>åŠ¨æ€åˆ†æ¡¶ï¼ˆDynamic Bucketï¼‰</h3><p>é€šè¿‡é…ç½® <code>&#39;bucket&#39; = &#39;-1&#39;</code>ï¼ŒPaimon å¯ä»¥åŠ¨æ€ç»´æŠ¤ç´¢å¼•ï¼Œè‡ªåŠ¨æ‰©å±•æ¡¶çš„æ•°é‡ã€‚</p>
<ul>
<li>é€‰é¡¹ 1ï¼š<code>&#39;dynamic-bucket.target-row-num&#39;</code>ï¼šæ§åˆ¶ä¸€ä¸ªæ¡¶çš„ç›®æ ‡è¡Œæ•°ã€‚</li>
<li>é€‰é¡¹ 2ï¼š<code>&#39;dynamic-bucket.assigner-parallelism&#39;</code>ï¼šåˆ†é…å™¨æ“ä½œç¬¦çš„å¹¶è¡Œåº¦ï¼Œæ§åˆ¶åˆå§‹åŒ–æ¡¶çš„æ•°é‡ã€‚</li>
</ul>
<p>åŠ¨æ€åˆ†æ¡¶æ¨¡å¼ä½¿ç”¨å“ˆå¸Œç´¢å¼•æ¥ç»´æŠ¤ä»é”®åˆ°æ¡¶çš„æ˜ å°„å…³ç³»ï¼Œç›¸æ¯”å›ºå®šæ¡¶æ¨¡å¼ï¼Œå®ƒéœ€è¦æ›´å¤šçš„å†…å­˜ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼š</p>
<ol>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œä¸ä¼šæœ‰æ€§èƒ½æŸå¤±ï¼Œä½†ä¼šé¢å¤–æ¶ˆè€—ä¸€äº›å†…å­˜ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªåŒ…å« 1 äº¿ä¸ªæ¡ç›®çš„åˆ†åŒºï¼Œä¼šé¢å¤–å ç”¨ 1 GB çš„å†…å­˜ã€‚ä¸æ´»è·ƒçš„åˆ†åŒºä¸ä¼šå ç”¨å†…å­˜ç©ºé—´ã€‚</li>
<li>å¯¹äºæ›´æ–°é¢‘ç‡è¾ƒä½çš„è¡¨ï¼Œæ¨èä½¿ç”¨åŠ¨æ€åˆ†æ¡¶æ¨¡å¼ï¼Œä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚</li>
</ol>
<h3 id="éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰ï¼šåºåˆ—ç»„ï¼ˆSequence-Groupï¼‰"><a href="#éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰ï¼šåºåˆ—ç»„ï¼ˆSequence-Groupï¼‰" class="headerlink" title="éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰ï¼šåºåˆ—ç»„ï¼ˆSequence Groupï¼‰"></a>éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰ï¼šåºåˆ—ç»„ï¼ˆSequence Groupï¼‰</h3><p>åºåˆ—å­—æ®µå¯èƒ½æ— æ³•è§£å†³éƒ¨åˆ†æ›´æ–°è¡¨åœ¨å¤šæµæ›´æ–°æ—¶çš„æ— åºé—®é¢˜ï¼Œå› ä¸ºåœ¨å¤šæµæ›´æ–°æ—¶ï¼Œåºåˆ—å­—æ®µå¯èƒ½ä¼šè¢«å¦ä¸€ä¸ªæ•°æ®æµçš„æœ€æ–°æ•°æ®è¦†ç›–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸ºéƒ¨åˆ†æ›´æ–°è¡¨å¼•å…¥äº†åºåˆ—ç»„æœºåˆ¶ã€‚å®ƒå¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>åœ¨å¤šä¸ªæ•°æ®æµæ›´æ–°æœŸé—´çš„æ— åºé—®é¢˜ã€‚æ¯ä¸ªæ•°æ®æµéƒ½å®šä¹‰è‡ªå·±çš„åºåˆ—ç»„ã€‚</li>
<li>çœŸæ­£çš„éƒ¨åˆ†æ›´æ–°ï¼Œè€Œä¸ä»…ä»…æ˜¯éç©ºå€¼çš„æ›´æ–°ã€‚</li>
<li>æ¥å—åˆ é™¤è®°å½•æ¥æ’¤é”€éƒ¨åˆ†åˆ—ã€‚</li>
</ol>
<h3 id="é¦–è¡Œåˆå¹¶å¼•æ“"><a href="#é¦–è¡Œåˆå¹¶å¼•æ“" class="headerlink" title="é¦–è¡Œåˆå¹¶å¼•æ“"></a>é¦–è¡Œåˆå¹¶å¼•æ“</h3><p>é€šè¿‡æŒ‡å®š <code>&#39;merge-engine&#39; = &#39;first-row&#39;</code>ï¼Œç”¨æˆ·å¯ä»¥ä¿ç•™ç›¸åŒä¸»é”®çš„ç¬¬ä¸€è¡Œæ•°æ®ã€‚ä¸ <code>deduplicate</code> åˆå¹¶å¼•æ“ä¸åŒï¼Œåœ¨ <code>first-row</code> åˆå¹¶å¼•æ“ä¸­ï¼Œåªä¼šç”Ÿæˆæ’å…¥ç±»å‹çš„æ›´æ”¹æ—¥å¿—ã€‚</p>
<p>è¿™å¯¹äºåœ¨æµè®¡ç®—ä¸­æ›¿æ¢æ—¥å¿—å»é‡éå¸¸æœ‰å¸®åŠ©ã€‚</p>
<h3 id="Lookup-Changelog-Producer"><a href="#Lookup-Changelog-Producer" class="headerlink" title="Lookup Changelog-Producer"></a>Lookup Changelog-Producer</h3><p>Lookup Changelog-Producer åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨ï¼Œè¿™å¯ä»¥å¤§å¤§å‡å°‘éœ€è¦ç”Ÿæˆæ›´æ”¹æ—¥å¿—çš„è¡¨çš„å»¶è¿Ÿã€‚</p>
<p>ï¼ˆæ³¨æ„ï¼šè¯·å¢åŠ  <code>&#39;execution.checkpointing.max-concurrent-checkpoints&#39;</code> çš„ Flink é…ç½®ï¼Œè¿™å¯¹æ€§èƒ½éå¸¸é‡è¦ï¼‰ã€‚</p>
<h3 id="åºåˆ—è‡ªåŠ¨å¡«å……"><a href="#åºåˆ—è‡ªåŠ¨å¡«å……" class="headerlink" title="åºåˆ—è‡ªåŠ¨å¡«å……"></a>åºåˆ—è‡ªåŠ¨å¡«å……</h3><p>å½“è®°å½•è¢«æ›´æ–°æˆ–åˆ é™¤æ—¶ï¼Œ<code>sequence.field</code> å¿…é¡»å˜å¤§ï¼Œä¸èƒ½ä¿æŒä¸å˜ã€‚å¯¹äº <code>-U</code> å’Œ <code>+U</code> æ“ä½œï¼Œå®ƒä»¬çš„åºåˆ—å­—æ®µå¿…é¡»ä¸åŒã€‚å¦‚æœæ— æ³•æ»¡è¶³æ­¤è¦æ±‚ï¼ŒPaimon å¯ä»¥æä¾›è‡ªåŠ¨å¡«å……åºåˆ—å­—æ®µçš„é€‰é¡¹ã€‚</p>
<p>é…ç½® <code>&#39;sequence.auto-padding&#39; = &#39;row-kind-flag&#39;</code>ï¼šå¦‚æœå¯¹ -U å’Œ +U ä½¿ç”¨ç›¸åŒçš„å€¼ï¼Œå°±åƒ Mysql Binlog ä¸­çš„ â€œop_tsâ€ï¼ˆåœ¨æ•°æ®åº“ä¸­è¿›è¡Œæ›´æ”¹çš„æ—¶é—´ï¼‰ä¸€æ ·ï¼Œå»ºè®®ä½¿ç”¨è‡ªåŠ¨å¡«å……è¡Œç±»å‹æ ‡å¿—ï¼Œå®ƒä¼šè‡ªåŠ¨åŒºåˆ† -U (-D) å’Œ +U (+I)ã€‚</p>
<h3 id="å¼‚æ­¥å‹ç¼©"><a href="#å¼‚æ­¥å‹ç¼©" class="headerlink" title="å¼‚æ­¥å‹ç¼©"></a>å¼‚æ­¥å‹ç¼©</h3><p>å‹ç¼©æœ¬è´¨ä¸Šæ˜¯å¼‚æ­¥è¿›è¡Œçš„ï¼Œä½†å¦‚æœä½ å¸Œæœ›å®ƒå®Œå…¨å¼‚æ­¥ä¸”ä¸é˜»å¡å†™å…¥æ“ä½œï¼Œå¹¶æœŸæœ›ä»¥æœ€å¤§å†™å…¥ååé‡æ¨¡å¼è¿è¡Œï¼Œå¯ä»¥æ…¢æ…¢åœ°è¿›è¡Œå‹ç¼©è€Œä¸æ€¥äºå¤„ç†ã€‚ä½ å¯ä»¥ä¸ºè¡¨ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">num-sorted-run.stop-trigger = 2147483647</span><br><span class="line">sort-spill-threshold = 10</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé…ç½®åœ¨é«˜å³°å†™å…¥æœŸé—´ä¼šç”Ÿæˆæ›´å¤šçš„æ–‡ä»¶ï¼Œå¹¶åœ¨å†™å…¥ä½å³°æœŸé€æ¸åˆå¹¶ä¸ºæœ€ä½³è¯»å–æ€§èƒ½ã€‚</p>
<h3 id="Avroæ–‡ä»¶æ ¼å¼"><a href="#Avroæ–‡ä»¶æ ¼å¼" class="headerlink" title="Avroæ–‡ä»¶æ ¼å¼"></a>Avroæ–‡ä»¶æ ¼å¼</h3><p>å¦‚æœå¸Œæœ›å®ç°æœ€ä½³å‹ç¼©æ€§èƒ½ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¡Œå­˜å‚¨æ–‡ä»¶æ ¼å¼ AVROã€‚</p>
<ul>
<li>è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥å®ç°è¾ƒé«˜çš„å†™å…¥ååé‡å’Œå‹ç¼©æ€§èƒ½ã€‚</li>
<li>å…¶ç¼ºç‚¹æ˜¯åˆ†ææŸ¥è¯¢é€Ÿåº¦ä¼šå˜æ…¢ï¼Œè¡Œå­˜å‚¨çš„æœ€å¤§é—®é¢˜åœ¨äºå®ƒæ²¡æœ‰æŸ¥è¯¢æŠ•å½±åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¡¨æœ‰ 100 åˆ—ï¼Œä½†åªæŸ¥è¯¢äº†å‡ åˆ—ï¼Œé‚£ä¹ˆè¡Œå­˜å‚¨çš„ IO å°±ä¸å®¹å¿½è§†ã€‚æ­¤å¤–ï¼Œå‹ç¼©æ•ˆç‡ä¼šé™ä½ï¼Œå­˜å‚¨æˆæœ¬ä¼šå¢åŠ ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">file.format = avro</span><br><span class="line">metadata.stats-mode = none</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸æƒ³å°†æ‰€æœ‰æ–‡ä»¶ä¿®æ”¹ä¸º Avro æ ¼å¼ï¼Œè‡³å°‘å¯ä»¥è€ƒè™‘å°†å‰å‡ å±‚çš„æ–‡ä»¶ä¿®æ”¹ä¸º Avro æ ¼å¼ã€‚å¯ä»¥ä½¿ç”¨ <code>&#39;file.format.per.level&#39; = &#39;0:avro,1:avro&#39;</code> æ¥æŒ‡å®šå‰ä¸¤å±‚çš„æ–‡ä»¶ä½¿ç”¨ Avro æ ¼å¼ã€‚</p>
<h2 id="ä»…è¿½åŠ è¡¨"><a href="#ä»…è¿½åŠ è¡¨" class="headerlink" title="ä»…è¿½åŠ è¡¨"></a>ä»…è¿½åŠ è¡¨</h2><h3 id="ä»…è¿½åŠ å¯æ‰©å±•è¡¨"><a href="#ä»…è¿½åŠ å¯æ‰©å±•è¡¨" class="headerlink" title="ä»…è¿½åŠ å¯æ‰©å±•è¡¨"></a>ä»…è¿½åŠ å¯æ‰©å±•è¡¨</h3><p>é€šè¿‡å¯¹éä¸»é”®è¡¨å®šä¹‰ <code>&#39;bucket&#39;=&#39;-1&#39;</code>ï¼Œå¯ä»¥å°†å…¶æŒ‡å®šä¸ºâ€œä»…è¿½åŠ å¯æ‰©å±•è¡¨â€ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè¡¨ä¸å†æœ‰ bucket çš„æ¦‚å¿µï¼Œè¯»å†™æ˜¯å¹¶å‘çš„ã€‚æˆ‘ä»¬å°†æ­¤è¡¨è§†ä¸ºæ‰¹é‡ç¦»çº¿è¡¨ï¼ˆå°½ç®¡æˆ‘ä»¬ä»ç„¶å¯ä»¥æµå¼è¯»å†™ï¼‰ã€‚</p>
<p>ä½¿ç”¨è¿™ç§æ¨¡å¼ï¼Œä½ å¯ä»¥å°† Hive è¡¨æ›¿æ¢ä¸ºæ¹–è¡¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ¨¡å¼å¼€å¯äº†å°æ–‡ä»¶è‡ªåŠ¨åˆå¹¶åŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Sort Compact</code> æ“ä½œå¯¹æ•´ä¸ªåˆ†åŒºè¿›è¡Œæ’åºï¼Œä½¿ç”¨ zorder æ’åºå™¨ï¼Œè¿™å¯ä»¥å¤§å¤§åŠ å¿«æŸ¥è¯¢æ—¶è·³è¿‡æ•°æ®çš„é€Ÿåº¦ã€‚</p>
<h2 id="æ ‡ç­¾ç®¡ç†"><a href="#æ ‡ç­¾ç®¡ç†" class="headerlink" title="æ ‡ç­¾ç®¡ç†"></a>æ ‡ç­¾ç®¡ç†</h2><p>Paimon çš„å¿«ç…§ä¸ºæŸ¥è¯¢å†å²æ•°æ®æä¾›äº†ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•ã€‚ä½†åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½œä¸šä¼šäº§ç”Ÿè¿‡å¤šçš„å¿«ç…§ï¼Œè¡¨ä¼šæ ¹æ®è¡¨çš„é…ç½®ä½¿æ—§å¿«ç…§è¿‡æœŸã€‚å¿«ç…§è¿‡æœŸä¹Ÿä¼šåˆ é™¤æ—§çš„æ•°æ®æ–‡ä»¶ï¼Œè¿‡æœŸå¿«ç…§ä¸­çš„å†å²æ•°æ®å°†æ— æ³•å†æŸ¥è¯¢ã€‚</p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æ ¹æ®å¿«ç…§åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ã€‚æ ‡ç­¾ä¼šç»´æŠ¤å¿«ç…§çš„æ¸…å•å’Œæ•°æ®æ–‡ä»¶ã€‚å…¸å‹çš„ç”¨æ³•æ˜¯æ¯å¤©åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œç„¶åå°±å¯ä»¥ç»´æŠ¤æ¯å¤©çš„å†å²æ•°æ®ï¼Œä»¥ä¾¿æ‰¹é‡è¯»å–ã€‚</p>
<p>Paimon æ”¯æŒåœ¨å†™ä½œä¸šä¸­è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾ã€‚å¯ä»¥ä½¿ç”¨ <code>&#39;tag.automatic-creation&#39;</code> æ¥è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾ã€‚</p>
<p>è€Œä¸”è¿˜å¯ä»¥æŸ¥è¯¢æ ‡ç­¾ï¼ˆæˆ–å¿«ç…§ï¼‰çš„å¢é‡æ•°æ®ï¼ŒFlink å’Œ Spark éƒ½æ”¯æŒå¢é‡æŸ¥è¯¢ã€‚</p>
<h2 id="å¼•æ“"><a href="#å¼•æ“" class="headerlink" title="å¼•æ“"></a>å¼•æ“</h2><h3 id="Flink"><a href="#Flink" class="headerlink" title="Flink"></a>Flink</h3><p>Flink å‘å¸ƒ 1.17 ç‰ˆåï¼ŒPaimon è¿›è¡Œäº†éå¸¸æ·±å…¥çš„é›†æˆã€‚</p>
<ul>
<li>ALTER TABLE è¯­æ³•é€šè¿‡å¢åŠ  ADD/MODIFY/DROP åˆ—çš„åŠŸèƒ½å¾—åˆ°äº†å¢å¼ºï¼Œä½¿ç”¨æˆ·æ›´å®¹æ˜“ç»´æŠ¤å…¶è¡¨æ¨¡å¼ã€‚</li>
<li>æ‚¨éœ€è¦ä½¿ç”¨ Hive å…ƒå­˜å‚¨ã€‚ç„¶åï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨ Paimonã€Hive å’Œ Flink é€šç”¨è¡¨ï¼ˆKafka å’Œå…¶ä»–è¡¨ï¼‰ä¸­çš„æ‰€æœ‰è¡¨ï¼</li>
<li>åœ¨ä½¿ç”¨ FlinkGenericCatalog æ—¶ï¼Œéœ€è¦ä½¿ç”¨ Hive å…ƒå­˜å‚¨ï¼ˆmetastoreï¼‰ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ Paimonã€Hive å’Œ Flink Generic Tableï¼ˆKafka å’Œå…¶ä»–è¡¨ï¼‰ä¸­çš„æ‰€æœ‰è¡¨ï¼</li>
<li>åŠ¨æ€åˆ†åŒºè¦†ç›–ï¼ŒFlink çš„é»˜è®¤è¦†ç›–æ¨¡å¼æ˜¯åŠ¨æ€åˆ†åŒºè¦†ç›–ï¼ˆè¿™æ„å‘³ç€ Paimon åªåˆ é™¤è¦†ç›–æ•°æ®ä¸­å‡ºç°çš„åˆ†åŒºï¼‰ã€‚å¯ä»¥é€šè¿‡é…ç½® dynamic-partition-overwrite å°†å…¶æ”¹ä¸ºé™æ€è¦†ç›–ã€‚</li>
<li>å°†åˆ†åŒºåŒæ­¥åˆ° Hive å…ƒå­˜å‚¨ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒPaimon ä¸ä¼šå°†æ–°åˆ›å»ºçš„åˆ†åŒºåŒæ­¥åˆ° Hive å…ƒå­˜å‚¨ä¸­ã€‚å¦‚æœæƒ³åœ¨ Hive ä¸­çœ‹åˆ°åˆ†åŒºè¡¨ï¼Œå¹¶å°†æ–°åˆ›å»ºçš„åˆ†åŒºåŒæ­¥åˆ° Hive å…ƒå­˜å‚¨ä¸­ï¼Œè¯·å°†è¡¨å±æ€§ metastore.partitioned-table è®¾ç½®ä¸º trueã€‚</li>
<li>é‡è¯• Lookup Joinï¼Œæ”¯æŒé‡è¯• Lookup Join å’Œå¼‚æ­¥  Lookup Joinã€‚</li>
</ul>
<h3 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h3><p>Spark æ˜¯ Paimon ç¬¬äºŒå¤§æ·±åº¦é›†æˆçš„è®¡ç®—å¼•æ“ï¼Œåœ¨ Paimon 0.5 ç‰ˆæœ¬ä¸­å¼•å…¥äº†å¤šç§å†™ç‰¹æ€§ã€‚</p>
<ul>
<li>æ”¯æŒ INSERT OVERWRITE åˆ†åŒºè¦†ç›–ï¼ŒSpark çš„é»˜è®¤è¦†ç›–æ¨¡å¼æ˜¯é™æ€åˆ†åŒºè¦†ç›–ï¼Œä¹Ÿå¯ä»¥å¯ç”¨åŠ¨æ€è¦†ç›–ã€‚</li>
<li>æ”¯æŒåˆ†åŒºç®¡ç†ï¼šæ”¯æŒ DROP PARTITIONã€SHOW PARTITIONSã€‚</li>
<li>æ”¯æŒå°† DataFrame ä¿å­˜åˆ° Paimon ä½ç½®ã€‚</li>
<li>æ¨¡å¼åˆå¹¶å†™å…¥ï¼šå¯ä»¥å°† write.merge-schema è®¾ç½®ä¸º trueï¼Œä»¥ä¾¿ä½¿ç”¨æ¨¡å¼åˆå¹¶åŠŸèƒ½è¿›è¡Œå†™å…¥ã€‚</li>
<li>æµå¼ sinkï¼šå¯ä»¥ä½¿ç”¨ Spark streaming çš„ foreachBatch API å°†æ•°æ®æµå¼å†™å…¥ Paimonã€‚</li>
</ul>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://paimon.apache.org/docs/0.5/project/download/">ç‚¹å‡»æ­¤å¤„ä¸‹è½½ã€‚</a></p>
<h2 id="æ¥ä¸‹æ¥"><a href="#æ¥ä¸‹æ¥" class="headerlink" title="æ¥ä¸‹æ¥"></a>æ¥ä¸‹æ¥</h2><p>Paimon å°†é•¿æœŸè‡´åŠ›äºè§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>CDC æ•°æ®æ¹–åŒ–åŠ é€Ÿï¼šå®æ—¶å†™å…¥ã€å®æ—¶æŸ¥è¯¢ï¼Œå¹¶é€šè¿‡ä½¿ç”¨æ ‡ç­¾å®ç°ç¦»çº¿ä¸å¯å˜åˆ†åŒºè§†å›¾ã€‚</li>
<li>ä¸°å¯Œåˆå¹¶å¼•æ“ï¼Œæ”¹è¿›æµå¼è®¡ç®—ï¼šPartial-Update è¡¨ã€Aggregation è¡¨ã€First Row è¡¨ã€‚</li>
<li>Changelog æµå¼è¯»å–ï¼ŒåŸºäºæ¹–ä»“å­˜å‚¨æ„å»ºå¢é‡æµå¤„ç†ã€‚</li>
<li>Append æ¨¡å¼åŠ é€Ÿ Hive ç¦»çº¿è¡¨ï¼Œå®æ—¶å†™å…¥å¹¶åœ¨æ’åºåå¸¦æ¥æŸ¥è¯¢åŠ é€Ÿã€‚</li>
<li>Append æ¨¡å¼æ›¿ä»£éƒ¨åˆ†æ¶ˆæ¯é˜Ÿåˆ—åœºæ™¯ï¼ŒæŒ‰è¾“å…¥é¡ºåºæµå¼è¯»å–ï¼Œæ— æ•°æ® TTLã€‚</li>
</ol>
<p>åŸæ–‡é“¾æ¥ï¼š<br><a href="https://paimon.apache.org/release-0.5/">https://paimon.apache.org/release-0.5/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Flink Table Storeæ–‡ä»¶å­˜å‚¨ç»“æ„â€”â€”LSMæ ‘</title>
    <url>/2023/03/10/lsm-tree-intro/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç®€è¦ä»‹ç»äº† Flink Table Store åº•å±‚æ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç»“æ„â€”â€”LSM æ ‘çš„ç›¸å…³æ¦‚å¿µã€‚</p>
<blockquote>
<p>LSM æ ‘ï¼Œäº¦ç§°æ—¥å¿—ç»“æ„åˆå¹¶æ ‘ï¼Œè‹±æ–‡ä¸º log-structured merge-treeã€‚</p>
</blockquote>
<h2 id="Sorted-Runs"><a href="#Sorted-Runs" class="headerlink" title="Sorted Runs"></a><strong>Sorted Runs</strong></h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒLSM æ ‘å°†æ–‡ä»¶ç»„ç»‡æˆè‹¥å¹²ä¸ª Sorted Runï¼Œä¸€ä¸ª Sorted Run ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ç»„æˆï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶åªä¼šéš¶å±ä¸€ä¸ª Sorted Runã€‚æ•°æ®æ–‡ä»¶ä¸­çš„è®°å½•æŒ‰ä¸»é”®æ’åºï¼Œåœ¨ä¸€ä¸ª Sorted Run ä¸­ï¼Œæ•°æ®æ–‡ä»¶çš„ä¸»é”®èŒƒå›´ä¸ä¼šæœ‰é‡å çš„æƒ…å†µã€‚ä½†åœ¨ä¸åŒçš„ Sorted Run ä¸­ä¸»é”®èŒƒå›´æœ‰å¯èƒ½ä¼šé‡å ï¼Œç”šè‡³æ˜¯åŒ…å«ç›¸åŒçš„ä¸»é”®ã€‚</p>
<p><img src="/image/2023/20230310.png" alt="LSM æ ‘"></p>
<p>å½“æŸ¥è¯¢ LSM æ ‘æ—¶ï¼Œå¿…é¡»å…ˆåˆå¹¶æ‰€æœ‰çš„ Sorted Runï¼Œæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„åˆå¹¶å¼•æ“å’Œæ¯æ¡è®°å½•çš„æ—¶é—´æˆ³åˆå¹¶å…·æœ‰ç›¸åŒä¸»é”®çš„æ‰€æœ‰è®°å½•ã€‚è€Œæ–°çš„è®°å½•åœ¨å†™åˆ° LSM æ ‘ä¹‹å‰ä¼šå…ˆç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå½“å†…å­˜ç¼“å†²åŒºæ»¡æ—¶ï¼Œå†…å­˜ä¸­çš„æ‰€æœ‰è®°å½•ä¼šå…ˆè¿›è¡Œæ’åºï¼Œç„¶åå†åˆ·åˆ°ç£ç›˜ä¸Šï¼Œæ­¤æ—¶å°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Sorted Runã€‚</p>
<h2 id="Compaction"><a href="#Compaction" class="headerlink" title="Compaction"></a><strong>Compaction</strong></h2><p>éšç€è¶Šæ¥è¶Šå¤šçš„è®°å½•å†™å…¥ LSM æ ‘ï¼ŒSorted Run çš„æ•°é‡ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šã€‚å› ä¸ºæŸ¥è¯¢ LSM æ ‘éœ€è¦å…ˆåˆå¹¶æ‰€æœ‰çš„ Sorted Runï¼Œè€Œè¿‡å¤šçš„ Sorted Run ä¼šå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸ä½³ï¼Œç”šè‡³æ˜¯å†…å­˜ä¸è¶³ã€‚ä¸ºäº†é™åˆ¶ Sorted Run çš„æ•°é‡ï¼Œå¿…é¡»æ—¶ä¸æ—¶åœ°å°†å‡ ä¸ª Sorted Run åˆå¹¶æˆä¸€ä¸ªå¤§çš„ Sorted Runï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªè¿‡ç¨‹ä¸ºæ–‡ä»¶åˆå¹¶ï¼ˆCompationï¼‰ã€‚</p>
<p>æ–‡ä»¶åˆå¹¶æ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹çš„è¿‡ç¨‹ï¼Œä¼šæ¶ˆè€—ä¸€å®šçš„ CPU æ—¶é—´å’Œç£ç›˜ IOï¼Œè¿‡äºé¢‘ç¹çš„åˆå¹¶æ“ä½œå¯èƒ½ä¼šå¯¼è‡´å†™å…¥é€Ÿåº¦å˜æ…¢ã€‚è¿™æ˜¯æŸ¥è¯¢å’Œå†™å…¥æ€§èƒ½ä¹‹é—´çš„æƒè¡¡ã€‚Flink Table Store ç›®å‰é‡‡ç”¨äº†ç±»ä¼¼äº Rocksdb çš„é€šç”¨åˆå¹¶ç­–ç•¥ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFlink Table Store å†™å…¥å™¨è¿½åŠ è®°å½•åˆ° LSM æ ‘æ—¶ï¼Œä¹Ÿä¼šæ ¹æ®éœ€è¦è¿›è¡Œæ–‡ä»¶åˆå¹¶æ“ä½œã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶åˆå¹¶ä½œä¸šä¸­æ‰§è¡Œæ–‡ä»¶åˆå¹¶æ“ä½œã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
        <tag>Flink Table Store</tag>
      </tags>
  </entry>
  <entry>
    <title>HiveSQLå†…ç½®å‡½æ•°â€”â€”concat_ws</title>
    <url>/2023/07/21/hive-sql-built-in-functions-concat_ws/</url>
    <content><![CDATA[<h2 id="å®šä¹‰ä¸ä½¿ç”¨"><a href="#å®šä¹‰ä¸ä½¿ç”¨" class="headerlink" title="å®šä¹‰ä¸ä½¿ç”¨"></a>å®šä¹‰ä¸ä½¿ç”¨</h2><p>å‡½æ•° <code>concat_ws()</code> å°†ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ä¸åˆ†éš”ç¬¦æ·»åŠ åœ¨ä¸€èµ·ã€‚</p>
<p><strong>æ³¨ï¼š</strong>å¦è¯·å‚é˜… CONCAT() å‡½æ•°ã€‚</p>
<h2 id="è¯­æ³•1"><a href="#è¯­æ³•1" class="headerlink" title="è¯­æ³•1"></a>è¯­æ³•1</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">concat_ws(string SEP, string A, string B...)</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°å€¼</strong></p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>SEP</td>
<td>å¿…å¡«ã€‚åœ¨æ¯ä¸ªè¡¨è¾¾å¼ä¹‹é—´æ·»åŠ çš„åˆ†éš”ç¬¦ã€‚å¦‚æœåˆ†éš”ç¬¦ä¸º NULLï¼Œåˆ™è¿”å› NULLã€‚</td>
</tr>
<tr>
<td>A,<br/>B,<br/>ç­‰</td>
<td>å¿…å¡«ã€‚è¦è¿æ¥çš„å­—ç¬¦ä¸²ã€‚å€¼ä¸º NULL çš„å­—ç¬¦ä¸²å°†è¢«è·³è¿‡ã€‚</td>
</tr>
</tbody></table>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	concat_ws(<span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;Johnson&#x27;</span>, <span class="string">&#x27;Lin&#x27;</span>), </span><br><span class="line">	concat_ws(<span class="string">&#x27;-&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;Lin&#x27;</span>), </span><br><span class="line">	concat_ws(<span class="keyword">NULL</span>, <span class="string">&#x27;Johnson&#x27;</span>, <span class="string">&#x27;Lin&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æŸ¥è¯¢ç»“æœä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-----------+---+----+</span><br><span class="line">|_c0        |_c1|_c2 |</span><br><span class="line">+-----------+---+----+</span><br><span class="line">|Johnson-Lin|Lin|NULL|</span><br><span class="line">+-----------+---+----+</span><br></pre></td></tr></table></figure>

<h2 id="è¯­æ³•2"><a href="#è¯­æ³•2" class="headerlink" title="è¯­æ³•2"></a>è¯­æ³•2</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">concat_ws(string SEP, <span class="keyword">array</span><span class="operator">&lt;</span>string<span class="operator">&gt;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°å€¼</strong></p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>SEP</td>
<td>å¿…å¡«ã€‚åœ¨æ¯ä¸ªè¡¨è¾¾å¼ä¹‹é—´æ·»åŠ çš„åˆ†éš”ç¬¦ã€‚å¦‚æœåˆ†éš”ç¬¦ä¸º NULLï¼Œåˆ™è¿”å› NULLã€‚</td>
</tr>
<tr>
<td>array<string></td>
<td>å¿…å¡«ã€‚å­—ç¬¦ä¸²æ•°ç»„ã€‚</td>
</tr>
</tbody></table>
<p><strong>æŠ€æœ¯ç»†èŠ‚</strong></p>
<p>ä» Hive 0.9.0 å¼€å§‹æ”¯æŒ</p>
<p><strong>ç¤ºä¾‹ 1</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> concat_ws(<span class="string">&#x27;_&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;rain&#x27;</span>, <span class="string">&#x27;rain&#x27;</span>, <span class="string">&#x27;go&#x27;</span>, <span class="string">&#x27;away&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æŸ¥è¯¢ç»“æœä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-----------------+</span><br><span class="line">|_c0              |</span><br><span class="line">+-----------------+</span><br><span class="line">|rain_rain_go_away|</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> concat_ws(<span class="string">&#x27;_&#x27;</span>, <span class="keyword">array</span>(<span class="string">&#x27;rain&#x27;</span>, <span class="string">&#x27;rain&#x27;</span>, <span class="string">&#x27;go&#x27;</span>, <span class="keyword">NULL</span>, <span class="string">&#x27;away&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æŸ¥è¯¢ç»“æœä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+----------------------+</span><br><span class="line">|_c0                   |</span><br><span class="line">+----------------------+</span><br><span class="line">|rain_rain_go_null_away|</span><br><span class="line">+----------------------+</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>GsonåŸºæœ¬ä½¿ç”¨ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œè¯¦è§£</title>
    <url>/2023/09/05/gson-bases/</url>
    <content><![CDATA[<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Gson è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚</p>
<h2 id="åœ¨Mavenä¸­ä½¿ç”¨Gson"><a href="#åœ¨Mavenä¸­ä½¿ç”¨Gson" class="headerlink" title="åœ¨Mavenä¸­ä½¿ç”¨Gson"></a>åœ¨Mavenä¸­ä½¿ç”¨Gson</h2><p>è¦åœ¨ Maven ä¸­ä½¿ç”¨ Gsonï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ä»¥ä¸‹ä¾èµ–å…³ç³»ï¼Œä½¿ç”¨ Maven Central ä¸­çš„ Gson ç‰ˆæœ¬ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  Gson: Java to JSON conversion --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„ Maven é¡¹ç›®å·²ç»æˆåŠŸåœ°é›†æˆäº† Gsonã€‚</p>
<h2 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–åŸå§‹ç±»å‹"><a href="#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–åŸå§‹ç±»å‹" class="headerlink" title="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–åŸå§‹ç±»å‹"></a>åºåˆ—åŒ–ä¸ååºåˆ—åŒ–åŸå§‹ç±»å‹</h2><p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†ä½¿ç”¨ Gson åº“å¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç¤ºä¾‹ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ <code>main</code> æ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ª <code>Gson</code> å¯¹è±¡ï¼Œé€šè¿‡ <code>gson.toJson()</code> æ–¹æ³•å¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿ç”¨ <code>System.out.println()</code> æ‰“å°å‡ºæ¥ã€‚ä¾‹å¦‚ï¼Œ<code>System.out.println(&quot;INTç±»å‹ï¼š&quot; + gson.toJson(8080));</code> å°†æ•´æ•° 8080 åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²å¹¶æ‰“å°å‡ºæ¥ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œå°†æ•´æ•°æ•°ç»„ <code>intArray</code> åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼š<code>System.out.println(gson.toJson(intArray));</code>ã€‚</p>
<p>ç„¶åï¼Œé€šè¿‡ <code>gson.fromJson()</code> æ–¹æ³•å¯ä»¥å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºç›¸åº”çš„åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¯¹è±¡ï¼Œå¹¶å°†å…¶æ‰“å°å‡ºæ¥ã€‚ä¾‹å¦‚ï¼Œ<code>int i = gson.fromJson(&quot;8080&quot;, int.class);</code> å°†å­—ç¬¦ä¸² <code>&quot;8080&quot;</code> ååºåˆ—åŒ–ä¸ºæ•´æ•°å¹¶èµ‹å€¼ç»™å˜é‡ <code>i</code>ï¼Œç„¶åå°†å…¶æ‰“å°å‡ºæ¥ã€‚</p>
<p>å…¶ä»–çš„ååºåˆ—åŒ–ç¤ºä¾‹åŒ…æ‹¬å°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º <code>Integer</code> å¯¹è±¡ã€<code>Long</code> å¯¹è±¡ã€<code>Boolean</code> å¯¹è±¡ã€å­—ç¬¦ä¸²å¯¹è±¡ã€å­—ç¬¦ä¸²æ•°ç»„ç­‰ï¼Œå¹¶å°†å®ƒä»¬æ‰“å°å‡ºæ¥ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrimitiveExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        System.out.println(<span class="string">&quot;åŸºæœ¬æ•°æ®ç±»å‹åºåˆ—åŒ–ï¼š&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;INTç±»å‹ï¼š&quot;</span> + gson.toJson(<span class="number">8080</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;Longç±»å‹ï¼š&quot;</span> + gson.toJson(Long.MAX_VALUE));</span><br><span class="line">        System.out.println(<span class="string">&quot;Stringç±»å‹ï¼š&quot;</span> + gson.toJson(<span class="string">&quot;Daddy finger daddy finger where are you&quot;</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•´æ•°æ•°ç»„åºåˆ—åŒ–ï¼š&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] intArray = &#123;<span class="number">8080</span>, <span class="number">8081</span>, <span class="number">8090</span>&#125;;</span><br><span class="line">        System.out.println(gson.toJson(intArray));</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;åŸºæœ¬æ•°æ®ç±»å‹ååºåˆ—åŒ–ï¼š&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> gson.fromJson(<span class="string">&quot;8080&quot;</span>, <span class="type">int</span>.class);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">intObj</span> <span class="operator">=</span> gson.fromJson(<span class="string">&quot;8081&quot;</span>, Integer.class);</span><br><span class="line">        <span class="type">Long</span> <span class="variable">longObj</span> <span class="operator">=</span> gson.fromJson(<span class="string">&quot;10000&quot;</span>, Long.class);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">boolObj</span> <span class="operator">=</span> gson.fromJson(<span class="string">&quot;true&quot;</span>, Boolean.class);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> gson.fromJson(<span class="string">&quot;\&quot;abc\&quot;&quot;</span>, String.class);</span><br><span class="line">        String[] strArray = gson.fromJson(<span class="string">&quot;[\&quot;abc\&quot;,\&quot;plain text\&quot;]&quot;</span>, String[].class);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;int: &quot;</span> + i);</span><br><span class="line">        System.out.println(<span class="string">&quot;Integer: &quot;</span> + intObj);</span><br><span class="line">        System.out.println(<span class="string">&quot;Long: &quot;</span> + longObj);</span><br><span class="line">        System.out.println(<span class="string">&quot;Boolean: &quot;</span> + boolObj);</span><br><span class="line">        System.out.println(<span class="string">&quot;String: &quot;</span> + str);</span><br><span class="line">        System.out.println(<span class="string">&quot;String[]: &quot;</span> + Arrays.toString(strArray));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">åŸºæœ¬æ•°æ®ç±»å‹åºåˆ—åŒ–ï¼š</span></span><br><span class="line"><span class="comment">INTç±»å‹ï¼š8080</span></span><br><span class="line"><span class="comment">Longç±»å‹ï¼š9223372036854775807</span></span><br><span class="line"><span class="comment">Stringç±»å‹ï¼š&quot;Daddy finger daddy finger where are you&quot;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ•´æ•°æ•°ç»„åºåˆ—åŒ–ï¼š</span></span><br><span class="line"><span class="comment">[8080,8081,8090]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">åŸºæœ¬æ•°æ®ç±»å‹ååºåˆ—åŒ–ï¼š</span></span><br><span class="line"><span class="comment">int: 8080</span></span><br><span class="line"><span class="comment">Integer: 8081</span></span><br><span class="line"><span class="comment">Long: 10000</span></span><br><span class="line"><span class="comment">Boolean: true</span></span><br><span class="line"><span class="comment">String: abc</span></span><br><span class="line"><span class="comment">String[]: [abc, plain text]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="å¯¹Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–"><a href="#å¯¹Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–" class="headerlink" title="å¯¹Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–"></a>å¯¹Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–</h2><p>ä½¿ç”¨ Gson è¿›è¡Œåºåˆ—åŒ–éå¸¸ç®€å•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ä½“ç±» <code>PrimitiveBundle</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrimitiveBundle</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">byte</span> byteValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">short</span> shortValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> intValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> longValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> floatValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> doubleValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> booleanValue;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> charValue;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">byte</span> <span class="title function_">getByteValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> byteValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setByteValue</span><span class="params">(<span class="type">byte</span> byteValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.byteValue = byteValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">short</span> <span class="title function_">getShortValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> shortValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setShortValue</span><span class="params">(<span class="type">short</span> shortValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.shortValue = shortValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getIntValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> intValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIntValue</span><span class="params">(<span class="type">int</span> intValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.intValue = intValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getLongValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> longValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLongValue</span><span class="params">(<span class="type">long</span> longValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.longValue = longValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getFloatValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> floatValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFloatValue</span><span class="params">(<span class="type">float</span> floatValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.floatValue = floatValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getDoubleValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> doubleValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDoubleValue</span><span class="params">(<span class="type">double</span> doubleValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.doubleValue = doubleValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBooleanValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> booleanValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBooleanValue</span><span class="params">(<span class="type">boolean</span> booleanValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.booleanValue = booleanValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getCharValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> charValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCharValue</span><span class="params">(<span class="type">char</span> charValue)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.charValue = charValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€äº›æµ‹è¯•å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">PrimitiveBundle</span> <span class="variable">bundle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrimitiveBundle</span>();</span><br><span class="line">bundle.setByteValue((<span class="type">byte</span>) <span class="number">0x00000011</span>);</span><br><span class="line">bundle.setShortValue((<span class="type">short</span>) <span class="number">125</span>);</span><br><span class="line">bundle.setIntValue(<span class="number">125</span>);</span><br><span class="line">bundle.setLongValue(<span class="number">125L</span>);</span><br><span class="line">bundle.setFloatValue(<span class="number">3.14159F</span>);</span><br><span class="line">bundle.setDoubleValue(<span class="number">3.14159</span>);</span><br><span class="line">bundle.setBooleanValue(<span class="literal">true</span>);</span><br><span class="line">bundle.setCharValue(<span class="string">&#x27;X&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå¯¹å…¶è¿›è¡Œåºåˆ—åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(bundle);</span><br></pre></td></tr></table></figure>

<p>æ ¼å¼åŒ–åçš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;byteValue&quot;</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;shortValue&quot;</span><span class="punctuation">:</span><span class="number">125</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;intValue&quot;</span><span class="punctuation">:</span><span class="number">125</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;longValue&quot;</span><span class="punctuation">:</span><span class="number">125</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;floatValue&quot;</span><span class="punctuation">:</span><span class="number">3.14159</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;doubleValue&quot;</span><span class="punctuation">:</span><span class="number">3.14159</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;booleanValue&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;charValue&quot;</span><span class="punctuation">:</span><span class="string">&quot;X&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">PrimitiveBundle</span> <span class="variable">bundle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrimitiveBundle</span>();</span><br><span class="line">        bundle.setByteValue((<span class="type">byte</span>) <span class="number">0x00000011</span>);</span><br><span class="line">        bundle.setShortValue((<span class="type">short</span>) <span class="number">125</span>);</span><br><span class="line">        bundle.setIntValue(<span class="number">125</span>);</span><br><span class="line">        bundle.setLongValue(<span class="number">125L</span>);</span><br><span class="line">        bundle.setFloatValue(<span class="number">3.14159F</span>);</span><br><span class="line">        bundle.setDoubleValue(<span class="number">3.14159</span>);</span><br><span class="line">        bundle.setBooleanValue(<span class="literal">true</span>);</span><br><span class="line">        bundle.setCharValue(<span class="string">&#x27;X&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(bundle);</span><br><span class="line"></span><br><span class="line">        System.out.println(json);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&quot;byteValue&quot;:17,&quot;shortValue&quot;:125,&quot;intValue&quot;:125,&quot;longValue&quot;:125,&quot;floatValue&quot;:3.14159,&quot;doubleValue&quot;:3.14159,&quot;booleanValue&quot;:true,&quot;charValue&quot;:&quot;X&quot;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„ä¸€äº›ç»†èŠ‚ã€‚é¦–å…ˆï¼Œ<code>byte</code> å€¼ä¸ä¼šåƒå®ä¾‹ä¸­å®šä¹‰ä¸€æ ·è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸²ä½ã€‚æ­¤å¤–ï¼Œ<code>short</code>ã€<code>int</code> å’Œ <code>long</code> ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚åŒæ ·ï¼Œæµ®ç‚¹æ•°å’ŒåŒç²¾åº¦æ•°ä¹‹é—´ä¹Ÿæ²¡æœ‰åŒºåˆ«ã€‚</p>
<p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºå­—ç¬¦å€¼ã€‚</p>
<p>å®é™…ä¸Šï¼Œè¿™äº›ç»†èŠ‚ä¸ Gson æ— å…³ï¼Œè€Œæ˜¯ç”± JSON çš„å®šä¹‰æ–¹å¼å†³å®šçš„ã€‚</p>
<h2 id="å¯¹JSONå­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–"><a href="#å¯¹JSONå­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–" class="headerlink" title="å¯¹JSONå­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–"></a>å¯¹JSONå­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–</h2><p>ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å¯¹ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­è·å–çš„ JSON å­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–ã€‚</p>
<p>ååºåˆ—åŒ–å’Œåºåˆ—åŒ–ä¸€æ ·ç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"><span class="type">PrimitiveBundle</span> <span class="variable">model</span> <span class="operator">=</span> gson.fromJson(json, PrimitiveBundle.class);</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°è¾“å‡ºè¯¥å¯¹è±¡ <code>model</code>ï¼ŒéªŒè¯æ˜¯å¦åŒ…å«æ‰€éœ€çš„å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(model);</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PrimitiveBundle&#123;byteValue=17, shortValue=125, intValue=125, longValue=125, floatValue=3.14159, doubleValue=3.14159, booleanValue=true, charValue=X&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Gson åº“è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚</p>
<p>é¦–å…ˆï¼Œä½¿ç”¨ Maven ä¸­å¤®ä»“åº“ä¸­çš„ Gson ç‰ˆæœ¬ï¼Œåœ¨ Maven é¡¹ç›®ä¸­æ·»åŠ ç›¸å…³ä¾èµ–ã€‚ç„¶åï¼Œé€šè¿‡åˆ›å»º Gson å¯¹è±¡ï¼Œå¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚ç¤ºä¾‹ä»£ç è¿˜æ¼”ç¤ºäº†å°†æ•´æ•°æ•°ç»„åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡ä½¿ç”¨ <code>gson.fromJson()</code> æ–¹æ³•ï¼Œå¯ä»¥å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºç›¸åº”çš„åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¯¹è±¡ã€‚ç¤ºä¾‹è¿˜åŒ…æ‹¬å°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º Integerã€Longã€Booleanã€å­—ç¬¦ä¸²å¯¹è±¡å’Œå­—ç¬¦ä¸²æ•°ç»„çš„ç¤ºä¾‹ã€‚</p>
<p>å¦å¤–ï¼Œæ–‡ç« è¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Gson å°† Java å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œè®¾ç½®å±æ€§çš„å€¼ï¼Œç„¶åä½¿ç”¨ Gson å°†å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ã€‚ååºåˆ—åŒ–æ“ä½œä¸åºåˆ—åŒ–ç±»ä¼¼ï¼Œåªéœ€ä½¿ç”¨ <code>gson.fromJson()</code> æ–¹æ³•å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºç›¸åº”çš„å¯¹è±¡ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Hiveè¡¨å¤‡ä»½</title>
    <url>/2023/08/22/how-to-backup-hive-tables/</url>
    <content><![CDATA[<p>åœ¨æ•°æ®å¤„ç†å’Œåˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œéšç€ä¸šåŠ¡çš„å‘å±•å’Œå˜åŒ–ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹å·²æœ‰çš„ Hive è¡¨è¿›è¡Œè°ƒæ•´ã€æ¸…ç†æˆ–ä¿®æ”¹è¡¨ç»“æ„ã€‚ä¸ºäº†ç¡®ä¿æ“ä½œçš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿›è¡Œè¿™äº›æ“ä½œä¹‹å‰å…ˆå¯¹ Hive è¡¨è¿›è¡Œå¤‡ä»½ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿åœ¨æ“ä½œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»»ä½•é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å›é€€åˆ°å¤‡ä»½æ•°æ®æ¥æ¢å¤ä¹‹å‰çš„çŠ¶æ€ã€‚</p>
<p>æ­¤å¤–ï¼Œåœ¨æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨çœŸå®çš„ç”Ÿäº§æ•°æ®æˆ–è€…å¯¹æ•°æ®è¿›è¡Œä¸€äº›å®éªŒæ€§çš„æ“ä½œã€‚ä¸ºäº†ç¡®ä¿æµ‹è¯•å’Œå¼€å‘å·¥ä½œä¸ä¼šå¯¹çœŸå®çš„ç”Ÿäº§æ•°æ®é€ æˆå½±å“ï¼Œæˆ‘ä»¬å¯ä»¥ä» Hive è¡¨ä¸­å¤åˆ¶ä¸€ä»½æ•°æ®å‡ºæ¥ï¼Œåˆ›å»ºä¸€ä¸ªå®‰å…¨çš„æ•°æ®å‰¯æœ¬ä¾›æµ‹è¯•å’Œå¼€å‘ä½¿ç”¨ã€‚ä»è€Œå¯ä»¥åœ¨ä¸å½±å“çœŸå®ç”Ÿäº§æ•°æ®çš„å‰æä¸‹è¿›è¡Œå„ç§å®éªŒå’Œè°ƒè¯•å·¥ä½œã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å¿«é€Ÿå¤‡ä»½æˆ–å¤åˆ¶ Hive è¡¨å‘¢ï¼Ÿæœ¬æ–‡å°†å‘å¤§å®¶ä»‹ç»ä¸¤ç§ç®€å•æ˜“è¡Œçš„å¤åˆ¶ Hive è¡¨çš„æ–¹æ³•ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„æ•°æ®å§‹ç»ˆå¤„äºå®‰å…¨å¯é çš„çŠ¶æ€ã€‚</p>
<h2 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨-create-table-as"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨-create-table-as" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨ create table ... as ..."></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>create table ... as ...</code></h2><p>ç›´æ¥ä½¿ç”¨ <code>create table ... as ...</code> å¤åˆ¶è¡¨æ•°æ®ã€è¡¨å­—æ®µã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> è¡¨å</span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> è¦å¤‡ä»½çš„è¡¨å</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¯¥æ–¹æ³•è™½ç„¶å¯ä»¥å¤åˆ¶è¡¨çš„æ•°æ®ä¸å­—æ®µï¼Œä½†è¡¨çš„å±æ€§ä¼šè¢«ä¿®æ”¹ã€‚æ¯”å¦‚ï¼Œå¦‚æœè¦å¤‡ä»½çš„è¡¨æ˜¯åˆ†åŒºè¡¨ï¼Œé‚£ä¹ˆä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºçš„è¡¨ï¼Œåˆ†åŒºå­—æ®µå°†ä¼šå˜æˆæ™®é€šå­—æ®µï¼Œåˆ†åŒºä¸å­˜åœ¨ã€‚å¹¶ä¸”ï¼Œè¯¥æ–¹æ³•æ— æ³•å¤åˆ¶å­—æ®µçš„ <code>comment</code> å¤‡æ³¨ä¿¡æ¯ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¯¥æ–¹æ³•å¤‡ä»½è¡¨ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ Hive ä¸­åˆ›å»ºåˆ†åŒºè¡¨ test.dwd_user_info_snap_dayï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test.dwd_user_info_snap_day`(</span><br><span class="line">  `user_id` <span class="type">int</span> COMMENT <span class="string">&#x27;ç”¨æˆ·ID&#x27;</span>,  </span><br><span class="line">  `nickname` string COMMENT <span class="string">&#x27;æ˜µç§°&#x27;</span>, </span><br><span class="line">  `real_name` string COMMENT <span class="string">&#x27;çœŸå®å§“å&#x27;</span>,   </span><br><span class="line">  `create_time` string COMMENT <span class="string">&#x27;æ³¨å†Œæ—¶é—´&#x27;</span>, </span><br><span class="line">  `country` string COMMENT <span class="string">&#x27;å¸¸é©»å›½å®¶&#x27;</span>, </span><br><span class="line">  `province` string COMMENT <span class="string">&#x27;å¸¸é©»çœä»½&#x27;</span>, </span><br><span class="line">  `city` string COMMENT <span class="string">&#x27;å¸¸é©»åŸå¸‚&#x27;</span></span><br><span class="line">)</span><br><span class="line">COMMENT <span class="string">&#x27;ç”¨æˆ·å¿«ç…§è¡¨&#x27;</span></span><br><span class="line">PARTITIONED <span class="keyword">BY</span> ( </span><br><span class="line">  `dt` string COMMENT <span class="string">&#x27;æ—¥æœŸ,æ ¼å¼yyyyMMdd&#x27;</span>)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe&#x27;</span> </span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat&#x27;</span> </span><br><span class="line">OUTPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæ¨¡æ‹Ÿä¸¤æ¡æ•°æ®ï¼Œå†™å…¥è¡¨ test.dwd_user_info_snap_day çš„ 20230730 åˆ†åŒºä¸Šï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tmp <span class="keyword">as</span> (</span><br><span class="line">	<span class="keyword">select</span> <span class="number">1466</span>, <span class="string">&#x27;ziyilon&#x27;</span>, <span class="string">&#x27;Long Ziyi&#x27;</span>, <span class="string">&#x27;2018-06-05 21:47:30&#x27;</span>, <span class="string">&#x27;United Kingdom&#x27;</span>, <span class="string">&#x27;Liverpool&#x27;</span>, <span class="string">&#x27;Liverpool&#x27;</span></span><br><span class="line">	<span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line">	<span class="keyword">select</span> <span class="number">453</span>, <span class="string">&#x27;xiaoming8&#x27;</span>, <span class="string">&#x27;Zhao Xiaoming&#x27;</span>, <span class="string">&#x27;2003-12-31 17:40:33&#x27;</span>, <span class="string">&#x27;United Kingdom&#x27;</span>, <span class="string">&#x27;Birmingham&#x27;</span>, <span class="string">&#x27;Birmingham&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> overwrite <span class="keyword">table</span> `test.dwd_user_info_snap_day` <span class="keyword">partition</span>(dt<span class="operator">=</span><span class="string">&#x27;20230730&#x27;</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tmp;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼ŒæŸ¥è¯¢è¯¥è¡¨çš„æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> `test.dwd_user_info_snap_day`</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">| user_id | nickname  | real_name     | create_time         | country        | province   | city       | dt       |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">|    1466 | ziyilon   | Long Ziyi     | 2018-06-05 21:47:30 | United Kingdom | Liverpool  | Liverpool  | 20230730 |</span><br><span class="line">|     453 | xiaoming8 | Zhao Xiaoming | 2003-12-31 17:40:33 | United Kingdom | Birmingham | Birmingham | 20230730 |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œä½¿ç”¨ <code>create table ... as ...</code> å¤åˆ¶è¡¨æ•°æ®ã€è¡¨å­—æ®µï¼Œæ–°çš„è¡¨åä¸º test.dwd_user_info_snap_day_bakï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> test.dwd_user_info_snap_day_bak </span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user_info_snap_day;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¡¨ test.dwd_user_info_snap_day_bak æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user_info_snap_day_bak;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">| user_id | nickname  | real_name     | create_time         | country        | province   | city       | dt       |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">|    1466 | ziyilon   | Long Ziyi     | 2018-06-05 21:47:30 | United Kingdom | Liverpool  | Liverpool  | 20230730 |</span><br><span class="line">|     453 | xiaoming8 | Zhao Xiaoming | 2003-12-31 17:40:33 | United Kingdom | Birmingham | Birmingham | 20230730 |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¡¨ test.dwd_user_info_snap_day_bak çš„å®šä¹‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> test.dwd_user_info_snap_day_bak;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test.dwd_user_info_snap_day_bak`(</span><br><span class="line">  `user_id` <span class="type">int</span>, </span><br><span class="line">  `nickname` string, </span><br><span class="line">  `real_name` string, </span><br><span class="line">  `create_time` string, </span><br><span class="line">  `country` string, </span><br><span class="line">  `province` string, </span><br><span class="line">  `city` string, </span><br><span class="line">  `dt` string)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&#x27;</span> </span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.mapred.TextInputFormat&#x27;</span> </span><br><span class="line">OUTPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&#x27;</span></span><br><span class="line">LOCATION</span><br><span class="line">  <span class="string">&#x27;hdfs://cluster/apps/hive/warehouse/test.db/dwd_user_info_snap_day_bak&#x27;</span></span><br><span class="line">TBLPROPERTIES (</span><br><span class="line">  <span class="string">&#x27;COLUMN_STATS_ACCURATE&#x27;</span><span class="operator">=</span><span class="string">&#x27;&#123;\&quot;BASIC_STATS\&quot;:\&quot;true\&quot;&#125;&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;numFiles&#x27;</span><span class="operator">=</span><span class="string">&#x27;2&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;numRows&#x27;</span><span class="operator">=</span><span class="string">&#x27;2&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;rawDataSize&#x27;</span><span class="operator">=</span><span class="string">&#x27;179&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;totalSize&#x27;</span><span class="operator">=</span><span class="string">&#x27;181&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;transient_lastDdlTime&#x27;</span><span class="operator">=</span><span class="string">&#x27;1692683800&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¯¹æ¯”è¡¨ test.dwd_user_info_snap_day çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¯¥è¡¨çš„å±æ€§å­˜åœ¨å·®å¼‚ï¼Œå¹¶ä¸”å­—æ®µçš„å¤‡æ³¨ä¿¡æ¯ä¹Ÿå·²ç»ä¸¢å¤±ã€‚</p>
<h2 id="æ–¹æ³•äºŒï¼šå…ˆåˆ›å»ºè¡¨ï¼Œå†å…¥æ’æ•°æ®-æ¨è"><a href="#æ–¹æ³•äºŒï¼šå…ˆåˆ›å»ºè¡¨ï¼Œå†å…¥æ’æ•°æ®-æ¨è" class="headerlink" title="æ–¹æ³•äºŒï¼šå…ˆåˆ›å»ºè¡¨ï¼Œå†å…¥æ’æ•°æ®(æ¨è)"></a>æ–¹æ³•äºŒï¼šå…ˆåˆ›å»ºè¡¨ï¼Œå†å…¥æ’æ•°æ®(æ¨è)</h2><ol>
<li>å…ˆå»ºè¡¨ï¼š</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> æ–°è¡¨å <span class="keyword">like</span> æ—§è¡¨å;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å†æ’å…¥æ•°æ®ï¼š</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> æ–°è¡¨å <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> æ—§è¡¨å</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­¤æ–¹æ³•å¯ä»¥å¤åˆ¶è¡¨çš„æ•°æ®ä¸å­—æ®µï¼Œä½†è¡¨çš„å±æ€§ä¹Ÿä¼šä¿æŒä¸€è‡´ã€‚</p>
<p>ä»¥å‰è¿°çš„ç¤ºä¾‹ä¸ºä¾‹ï¼Œåˆ›å»ºæ–°çš„è¡¨ test.dwd_user_info_snap_day_bak0822ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> test.dwd_user_info_snap_day_bak0822 <span class="keyword">like</span> test.dwd_user_info_snap_day;</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> hive.exec.dynamic.partition.mode<span class="operator">=</span>nonstrict;</span><br><span class="line"><span class="keyword">insert</span> overwrite <span class="keyword">table</span> test.dwd_user_info_snap_day_bak0822 <span class="keyword">partition</span>(dt) <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user_info_snap_day;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è¡¨ test.dwd_user_info_snap_day_bak0822 æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user_info_snap_day_bak0822;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">| user_id | nickname  | real_name     | create_time         | country        | province   | city       | dt       |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br><span class="line">|    1466 | ziyilon   | Long Ziyi     | 2018-06-05 21:47:30 | United Kingdom | Liverpool  | Liverpool  | 20230730 |</span><br><span class="line">|     453 | xiaoming8 | Zhao Xiaoming | 2003-12-31 17:40:33 | United Kingdom | Birmingham | Birmingham | 20230730 |</span><br><span class="line">+---------+-----------+---------------+---------------------+----------------+------------+------------+----------+</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è¡¨ test.dwd_user_info_snap_day_bak0822 çš„å®šä¹‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test.dwd_user_info_snap_day_bak0822`(</span><br><span class="line">  `user_id` <span class="type">int</span> COMMENT <span class="string">&#x27;ç”¨æˆ·ID&#x27;</span>, </span><br><span class="line">  `nickname` string COMMENT <span class="string">&#x27;æ˜µç§°&#x27;</span>, </span><br><span class="line">  `real_name` string COMMENT <span class="string">&#x27;çœŸå®å§“å&#x27;</span>, </span><br><span class="line">  `create_time` string COMMENT <span class="string">&#x27;æ³¨å†Œæ—¶é—´&#x27;</span>, </span><br><span class="line">  `country` string COMMENT <span class="string">&#x27;å¸¸é©»å›½å®¶&#x27;</span>, </span><br><span class="line">  `province` string COMMENT <span class="string">&#x27;å¸¸é©»çœä»½&#x27;</span>, </span><br><span class="line">  `city` string COMMENT <span class="string">&#x27;å¸¸é©»åŸå¸‚&#x27;</span>)</span><br><span class="line">PARTITIONED <span class="keyword">BY</span> ( </span><br><span class="line">  `dt` string COMMENT <span class="string">&#x27;æ—¥æœŸ,æ ¼å¼yyyyMMdd&#x27;</span>)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe&#x27;</span> </span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat&#x27;</span> </span><br><span class="line">OUTPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat&#x27;</span></span><br><span class="line">LOCATION</span><br><span class="line">  <span class="string">&#x27;hdfs://cluster/apps/hive/warehouse/test.db/dwd_user_info_snap_day_bak0822&#x27;</span></span><br><span class="line">TBLPROPERTIES (</span><br><span class="line">  <span class="string">&#x27;transient_lastDdlTime&#x27;</span><span class="operator">=</span><span class="string">&#x27;1692684821&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”è¡¨ test.dwd_user_info_snap_day çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°è¡¨ test.dwd_user_info_snap_day_bak0822 çš„å±æ€§ä¸€è‡´ï¼Œè€Œä¸”å­—æ®µçš„å¤‡æ³¨ä¿¡æ¯ä¹Ÿæ²¡æœ‰ä¸¢å¤±ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†ä¸¤ç§ç®€å•æ˜“è¡Œçš„å¤åˆ¶ Hive è¡¨çš„æ–¹æ³•ï¼Œä»¥ç¡®ä¿æ•°æ®çš„å®‰å…¨å¯é æ€§ã€‚</p>
<p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ create table â€¦ as â€¦</p>
<p>è¯¥æ–¹æ³•æ˜¯ç›´æ¥ä½¿ç”¨ create table â€¦ as â€¦ çš„è¯­æ³•æ¥å¤åˆ¶è¡¨æ•°æ®å’Œå­—æ®µã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•æ— æ³•å¤åˆ¶åˆ†åŒºè¡¨çš„åˆ†åŒºå­—æ®µå’Œå­—æ®µçš„å¤‡æ³¨ä¿¡æ¯ã€‚</p>
<p>æ–¹æ³•äºŒï¼šå…ˆåˆ›å»ºè¡¨ï¼Œå†æ’å…¥æ•°æ®</p>
<p>è¿™ç§æ–¹æ³•å…ˆåˆ›å»ºä¸€ä¸ªä¸åŸè¡¨ç»“æ„ç›¸åŒçš„æ–°è¡¨ï¼Œç„¶åé€šè¿‡ insert into â€¦ select * from â€¦ çš„æ–¹å¼å°†æ•°æ®æ’å…¥æ–°è¡¨ä¸­ã€‚ä¸æ–¹æ³•ä¸€ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•å¯ä»¥å®Œæ•´åœ°å¤åˆ¶è¡¨çš„æ•°æ®ã€å­—æ®µä»¥åŠå±æ€§ï¼ŒåŒ…æ‹¬åˆ†åŒºå­—æ®µå’Œå­—æ®µçš„å¤‡æ³¨ä¿¡æ¯ã€‚åœ¨å®é™…å¼€å‘å·¥ä½œä¸­ï¼Œæ›´æ¨èä½¿ç”¨è¯¥æ–¹æ³•å¤åˆ¶è¡¨ã€‚</p>
<p>æ— è®ºä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œé€šè¿‡å¤åˆ¶ Hive è¡¨å¯ä»¥å¿«é€Ÿå¤‡ä»½æ•°æ®æˆ–åˆ›å»ºå®‰å…¨çš„æ•°æ®å‰¯æœ¬ï¼Œä»¥ä¾¿è¿›è¡Œè°ƒæ•´ã€æ¸…ç†ã€ä¿®æ”¹è¡¨ç»“æ„æˆ–åœ¨æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒä¸­è¿›è¡Œå®éªŒå’Œè°ƒè¯•å·¥ä½œï¼Œè€Œä¸ä¼šå¯¹çœŸå®ç”Ÿäº§æ•°æ®é€ æˆä»»ä½•å½±å“ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä¸­Dateç±»å‹ä¸LocalDateæˆ–LocalDateTimeç›¸äº’è½¬æ¢</title>
    <url>/2022/11/20/java-convert-date-to-localdate-or-localdatetime-and-back/</url>
    <content><![CDATA[<p>åœ¨ Java ä¸­ï¼ŒDate ç±»å‹æ˜¯è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„ç±»ï¼Œè€Œ LocalDate å’Œ LocalDateTime æ˜¯ä» Java 8 å¼€å§‹å¼•å…¥çš„æ–°æ—¥æœŸæ—¶é—´ API ä¸­çš„ç±»ã€‚ä¸ºäº†åœ¨ä¸åŒçš„ API ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›ç®€å•çš„æ–¹æ³•ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚</p>
<h2 id="Dateç±»å‹è½¬LocalDateæˆ–LocalDateTimeç±»å‹"><a href="#Dateç±»å‹è½¬LocalDateæˆ–LocalDateTimeç±»å‹" class="headerlink" title="Dateç±»å‹è½¬LocalDateæˆ–LocalDateTimeç±»å‹"></a>Dateç±»å‹è½¬LocalDateæˆ–LocalDateTimeç±»å‹</h2><p>è¦å°† Date ç±»å‹è½¬æ¢ä¸º LocalDate æˆ– LocalDateTime ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Instant ç±»æ¥è¾…åŠ©å®Œæˆè½¬æ¢ã€‚Instant ç±»æ˜¯ Java 8 ä¸­å¼•å…¥çš„ç”¨äºè¡¨ç¤ºæ—¶é—´æˆ³çš„ç±»ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å°† Date ç±»å‹è½¬æ¢ä¸º LocalDateï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> date.toInstant();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> instant.atZone(ZoneId.systemDefault()).toLocalDate();</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å°† Date ç±»å‹è½¬æ¢ä¸º LocalDateTimeï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> date.toInstant();</span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> instant.atZone(ZoneId.systemDefault()).toLocalDateTime();</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.Instant;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.ZoneId;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tests</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> date.toInstant();</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> instant.atZone(ZoneId.systemDefault()).toLocalDate();</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> instant.atZone(ZoneId.systemDefault()).toLocalDateTime();</span><br><span class="line"></span><br><span class="line">        System.out.println(localDate);</span><br><span class="line">        System.out.println(localDateTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">2022-11-20</span></span><br><span class="line"><span class="comment">2022-11-20T00:26:38.631</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="LocalDateæˆ–LocalDateTimeç±»å‹è½¬Dateç±»å‹"><a href="#LocalDateæˆ–LocalDateTimeç±»å‹è½¬Dateç±»å‹" class="headerlink" title="LocalDateæˆ–LocalDateTimeç±»å‹è½¬Dateç±»å‹"></a>LocalDateæˆ–LocalDateTimeç±»å‹è½¬Dateç±»å‹</h2><p>è¦å°† LocalDate æˆ– LocalDateTime ç±»å‹è½¬æ¢ä¸º Date ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Date ç±»çš„ from() æ–¹æ³•ã€‚æ­¤æ–¹æ³•å°†æ ¹æ®æŒ‡å®šçš„æ—¶åŒºå’Œæ—¶é—´ç”ŸæˆDateå¯¹è±¡ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å°† LocalDate ç±»å‹è½¬æ¢ä¸º Dateï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å°† LocalDateTime ç±»å‹è½¬æ¢ä¸º Dateï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.ZoneId;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tests2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());</span><br><span class="line">        System.out.println(date);</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date2</span> <span class="operator">=</span> Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());</span><br><span class="line">        System.out.println(date2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Sun Nov 20 00:00:00 CST 2022</span></span><br><span class="line"><span class="comment">Sun Nov 20 00:28:15 CST 2022</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œä¸Šè¿°ä¸¤ä¸ªä»£ç ç¤ºä¾‹ä¸­çš„<code>ZoneId.systemDefault()</code>è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤æ—¶åŒºã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›¿æ¢ä¸ºç›¸åº”çš„æ—¶åŒºã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œä½ å¯ä»¥åœ¨ Java ä¸­å®ç° Date ç±»å‹ä¸ LocalDate æˆ– LocalDateTime ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚è¿™ä½¿å¾—åœ¨ä¸åŒçš„æ—¥æœŸæ—¶é—´ API ä¹‹é—´è¿›è¡Œæ“ä½œå’Œå¤„ç†æ›´åŠ æ–¹ä¾¿çµæ´»ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Java å¦‚ä½•å°† Iterator è½¬æ¢ä¸º List</title>
    <url>/2023/03/24/java-convert-iterator-to-list/</url>
    <content><![CDATA[<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ åœ¨ Java ä¸­å¦‚ä½•æŠŠä¸€ä¸ª <code>Iterator</code> è½¬æ¢æˆä¸€ä¸ª <code>List</code>ã€‚</p>
<p>ä¸ºä¾¿äºä»£ç æµ‹è¯•ï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç ä¸­ä½¿ç”¨ä¸€ä¸ªå…ƒç´ ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„ <code>Iterator</code> ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨-While-å¾ªç¯"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨-While-å¾ªç¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨ While å¾ªç¯"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ While å¾ªç¯</h2><p>ä¸€ä¸ªå®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•æ˜¯ä½¿ç”¨ while å¾ªç¯å°† <code>Iterator</code> è½¬æ¢ä¸º <code>List</code>ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤º while å¾ªç¯æ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            list.add(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äºŒï¼šä½¿ç”¨-Java-8-çš„-Iterator-forEachRemaining-æ–¹æ³•"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨-Java-8-çš„-Iterator-forEachRemaining-æ–¹æ³•" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨ Java 8 çš„ Iterator.forEachRemaining æ–¹æ³•"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨ Java 8 çš„ Iterator.forEachRemaining æ–¹æ³•</h2><p>å¦‚æœé¡¹ç›®ä½¿ç”¨çš„æ˜¯ Java 8 æˆ–æ˜¯æ›´é«˜çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨ <code>Iterator</code> çš„ <code>forEachRemaining()</code> æ–¹æ³•æ¥æ„å»º <code>List</code>ã€‚å°† <code>List</code> æ¥å£çš„ <code>add()</code> æ–¹æ³•ä½œä¸ºæ–¹æ³•å¼•ç”¨ä¼ é€’ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤º forEachRemaining() å¾ªç¯æ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        iterator.forEachRemaining(list::add);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨-Java-8-Streams-API"><a href="#æ–¹æ³•ä¸‰ï¼šä½¿ç”¨-Java-8-Streams-API" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Java 8 Streams API"></a>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Java 8 Streams API</h2><p>åŒæ ·ï¼Œå¦‚æœé¡¹ç›®ä½¿ç”¨çš„ Java ç‰ˆæœ¬æ˜¯ 8 æˆ– 8 ä»¥ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Streams API å°† <code>Iterator</code> è½¬æ¢ä¸º <code>List</code>ã€‚ä¸ºäº†ä½¿ç”¨ Stream APIï¼Œéœ€è¦å…ˆå°† <code>Iterator</code> è½¬æ¢æˆ <code>Iterable</code>ï¼Œå¯ä»¥ä½¿ç”¨ Java 8 Lambda è¡¨è¾¾å¼æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Iterable&lt;String&gt; iterable = () -&gt; iterator;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ <code>StreamSupport</code> ç±»çš„ <code>stream()</code> å’Œ <code>collect()</code> æ–¹æ³•æ¥æ„å»º <code>List</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤ä»£ç ç¤ºä¾‹æ¼”ç¤º Streams API å¾ªç¯æ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.StreamSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Iterable&lt;String&gt; iterable = () -&gt; iterator;</span><br><span class="line">        list = StreamSupport</span><br><span class="line">                .stream(iterable.spliterator(), <span class="literal">false</span>)</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•å››ï¼šä½¿ç”¨-Guava-åº“"><a href="#æ–¹æ³•å››ï¼šä½¿ç”¨-Guava-åº“" class="headerlink" title="æ–¹æ³•å››ï¼šä½¿ç”¨ Guava åº“"></a>æ–¹æ³•å››ï¼šä½¿ç”¨ Guava åº“</h2><p>Google çš„ Guava åº“æä¾›äº†åˆ›å»ºå¯å˜å’Œä¸å¯å˜ List çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å®é™…éœ€è¦ä½¿ç”¨å…¶ä¸­çš„ä¸€ç§ã€‚</p>
<p>æ·»åŠ  Guava åº“ä¾èµ–ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º 31.1-jreï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>31.1-jre<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>ImmutableList.copyOf()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸å¯å˜ <code>List</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.ImmutableList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list = ImmutableList.copyOf(iterator);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Lists.newArrayList()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªå¯å˜çš„ <code>List</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.common.collect.Lists;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list = Lists.newArrayList(iterator);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äº”ï¼šä½¿ç”¨-Apache-Commons-Collections-åº“"><a href="#æ–¹æ³•äº”ï¼šä½¿ç”¨-Apache-Commons-Collections-åº“" class="headerlink" title="æ–¹æ³•äº”ï¼šä½¿ç”¨ Apache Commons Collections åº“"></a>æ–¹æ³•äº”ï¼šä½¿ç”¨ Apache Commons Collections åº“</h2><p>Apache Commons Collections åº“æä¾›äº† <code>IteratorUtils</code> ç±»å¯ä»¥å°† ä¸€ä¸ª <code>Iterator</code> è½¬æ¢æˆä¸€ä¸ª <code>List</code>ã€‚</p>
<p>æ·»åŠ ä¾èµ–ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º 3.2.2ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-collections<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-collections<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>IteratorUtils.toList()</code> å°† <code>Iterator</code> è½¬æ¢æˆ <code>List</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.java.fundamentals.collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.collections.IteratorUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorToList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Iterator&lt;String&gt; iterator = Arrays.asList(<span class="string">&quot;MONDAY&quot;</span>, <span class="string">&quot;TUESDAY&quot;</span>, <span class="string">&quot;WEDNESDAY&quot;</span>,</span><br><span class="line">                <span class="string">&quot;THURSDAY&quot;</span>, <span class="string">&quot;FRIDAY&quot;</span>, <span class="string">&quot;SATURDAY&quot;</span>, <span class="string">&quot;SUNDAY&quot;</span>).iterator();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list = IteratorUtils.toList(iterator);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†äº”ç§å°† <code>Iterator</code> è½¬æ¢ä¸º <code>List</code> çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>While å¾ªç¯ï¼›</li>
<li>Java 8 é«˜çº§ç‰¹æ€§ï¼š<ul>
<li>Iterator.forEachRemaining æ–¹æ³•</li>
<li>Streams API</li>
</ul>
</li>
<li>ç¬¬ä¸‰æ–¹ç±»åº“ï¼š<ul>
<li>Google Guava åº“</li>
<li>Apache Commons Collections åº“</li>
</ul>
</li>
</ul>
<p>æ‰€æœ‰è¿™äº›ç¤ºä¾‹å’Œä»£ç ç‰‡æ®µçš„å®ç°éƒ½å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Hiveä¸­æ ¡éªŒä¸¤å¼ è¡¨ä¸­çš„æ•°æ®æ˜¯å¦ç›¸åŒçš„æ–¹æ³•</title>
    <url>/2023/09/12/compare-data-between-two-tables-with-same-structure-in-hive/</url>
    <content><![CDATA[<p>Hive ä½œä¸ºä¸€ç§å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®ä»“åº“è§£å†³æ–¹æ¡ˆï¼Œè¢«å¹¿æ³›åº”ç”¨äºå¤§æ•°æ®å¤„ç†å’Œæ•°æ®åˆ†æé¢†åŸŸã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­çš„æ•°æ®è¿›è¡Œæ¯”å¯¹ï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚ä¸‹é¢å°†ä»‹ç»å¦‚ä½•åœ¨ Hive ä¸­æ ¡éªŒä¸¤å¼ è¡¨ä¸­æ•°æ®æ˜¯å¦ç›¸åŒçš„æ–¹æ³•ã€‚</p>
<h2 id="å¯¹æ¯”ä¸¤å¼ è¡¨çš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ"><a href="#å¯¹æ¯”ä¸¤å¼ è¡¨çš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ" class="headerlink" title="å¯¹æ¯”ä¸¤å¼ è¡¨çš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ"></a>å¯¹æ¯”ä¸¤å¼ è¡¨çš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ</h2><p>åœ¨è¿›è¡Œæ•°æ®æ¯”è¾ƒä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦ç¡®è®¤ä¸¤å¼ è¡¨ï¼ˆè¡¨ç»“æ„å®Œå…¨ç›¸åŒï¼‰çš„è®°å½•æ•°æ˜¯å¦ç›¸åŒã€‚æ¯”å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰è¡¨ mydw.dwd_user å’Œè¡¨ test.dwd_userï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹ SQL åˆ†åˆ«è·å–è¡¨ mydw.dwd_user å’Œè¡¨ test.dwd_user çš„è®°å½•æ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> c1 <span class="keyword">from</span> test.dwd_user;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> c2 <span class="keyword">from</span> mydw.dwd_user;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ c1 å’Œ c2 ä¸ç›¸ç­‰ï¼Œåˆ™è¡¨ä¸å®Œå…¨ç›¸åŒã€‚</p>
<h2 id="å¯¹æ¯”ä¸¤å¼ è¡¨å»é‡åçš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ"><a href="#å¯¹æ¯”ä¸¤å¼ è¡¨å»é‡åçš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ" class="headerlink" title="å¯¹æ¯”ä¸¤å¼ è¡¨å»é‡åçš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ"></a>å¯¹æ¯”ä¸¤å¼ è¡¨å»é‡åçš„è®°å½•æ•°æ˜¯å¦ç›¸åŒ</h2><p>ä½¿ç”¨ä»¥ä¸‹ SQL ç»Ÿè®¡è¡¨å»é‡åçš„è®°å½•æ•°ï¼Œå¦‚æœ dc1 å’Œ dc2 ä¸ç›¸ç­‰ï¼Œåˆ™è¯´æ˜è¡¨ä¸å®Œå…¨ç›¸åŒï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> dc1</span><br><span class="line"><span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> mydw.dwd_user) t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> dc2</span><br><span class="line"><span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user) t;</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨UNIONæ“ä½œ"><a href="#ä½¿ç”¨UNIONæ“ä½œ" class="headerlink" title="ä½¿ç”¨UNIONæ“ä½œ"></a>ä½¿ç”¨UNIONæ“ä½œ</h2><p>ç°åœ¨è·å–å¯¹ä¸¤å¼ è¡¨è¿›è¡Œè”åˆåå¾—åˆ°çš„è®°å½•æ•°ã€‚ä½¿ç”¨ä¸‹é¢çš„ SQL è·å–ä¸¤å¼ è¡¨è”åˆåçš„è®°å½•æ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="built_in">count</span> (<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">from</span>(</span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mydw.dwd_user</span><br><span class="line">  <span class="keyword">union</span></span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test.dwd_user) t</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸¤å¼ è¡¨å»é‡åçš„è®°å½•æ•°ç­‰äºä¸¤å¼ è¡¨è”åˆåå¾—åˆ°çš„è®°å½•æ•°ï¼Œåˆ™å¯ä»¥è¯´æ˜ä¸¤å¼ è¡¨ä¸­çš„æ•°æ®æ˜¯ç›¸åŒçš„ã€‚</p>
<h2 id="ä½¿ç”¨HASHå‡½æ•°æ¯”è¾ƒå“ˆå¸Œæ€»å’Œ"><a href="#ä½¿ç”¨HASHå‡½æ•°æ¯”è¾ƒå“ˆå¸Œæ€»å’Œ" class="headerlink" title="ä½¿ç”¨HASHå‡½æ•°æ¯”è¾ƒå“ˆå¸Œæ€»å’Œ"></a>ä½¿ç”¨HASHå‡½æ•°æ¯”è¾ƒå“ˆå¸Œæ€»å’Œ</h2><p>å¦‚æœä¸éœ€è¦ä»è¡¨ä¸­æ‰¾å‡ºä¸åŒçš„æ•°æ®ï¼Œå¹¶ä¸”ä¸¤å¼ è¡¨çš„è¡¨ç»“æ„åˆå®Œå…¨ç›¸åŒï¼Œæœ€å¥½çš„åŠæ³•æ˜¯è®¡ç®—æ¯ä¸ªè¡¨çš„å“ˆå¸Œæ€»å’Œï¼Œç„¶åæ¯”è¾ƒå“ˆå¸Œæ€»å’Œã€‚æ— è®ºè¡¨æœ‰å¤šå°‘åˆ—ï¼Œä¹Ÿæ— è®ºæ•°æ®ç±»å‹å¦‚ä½•ï¼Œåªè¦ä¸¤å¼ è¡¨çš„è¡¨ç»“æ„ç›¸åŒï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢è¿›è¡Œæ¯”è¾ƒï¼ˆåªéœ€æ¯”è¾ƒè¿”å›å€¼å³å¯ï¼‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(hash(<span class="operator">*</span>)) <span class="keyword">from</span> test.dwd_user;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(hash(<span class="operator">*</span>)) <span class="keyword">from</span> mydw.dwd_user;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ ¡éªŒä¸¤å¼ è¡¨ä¸­çš„æ•°æ®æ˜¯å¦ç›¸åŒæ˜¯ Hive ä¸­å¸¸è§çš„ä»»åŠ¡ä¹‹ä¸€ã€‚æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åœ¨ Hive ä¸­æ ¡éªŒä¸¤å¼ è¡¨ä¸­æ•°æ®æ˜¯å¦ç›¸åŒçš„æ–¹æ³•ã€‚é€šè¿‡åˆç†è¿ç”¨è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°æ£€æŸ¥è¡¨ä¸­çš„æ•°æ®ä¸€è‡´æ€§ï¼Œç¡®ä¿æ•°æ®å¤„ç†çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©åˆé€‚çš„æ–¹æ³•è¿›è¡Œæ•°æ®æ¯”å¯¹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†å’Œç»´æŠ¤æ•°æ®ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux å¸¸ç”¨å‘½ä»¤ | head è¯¦è§£</title>
    <url>/2023/03/22/linux-commands-head/</url>
    <content><![CDATA[<p>Linux å‘½ä»¤è¡Œå·¥å…·æä¾›äº†è¶³å¤Ÿä¸°å¯Œçš„å‘½ä»¤ç”¨äºç®¡ç†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å’Œç›®å½•ã€‚å…¶ä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€æ˜¯ <code>head</code>ï¼Œå®ƒå…è®¸æˆ‘ä»¬åªæŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ è¡Œå†…å®¹ï¼Œè¿™åœ¨æŸ¥çœ‹è¶…å¤§æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤§å°ä¸ºå‡ ä¸ª GB ä»¥ä¸Šï¼‰æ—¶å°¤å…¶æœ‰ç”¨ã€‚åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†è®¨è®ºè¯¥å‘½ä»¤çš„ä½¿ç”¨è¯´æ˜ã€æ³¨æ„äº‹é¡¹ã€æŠ€å·§çªé—¨ç­‰ï¼Œä»¥å……åˆ†åˆ©ç”¨è¯¥å‘½ä»¤ã€‚</p>
<h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><p><code>head</code> å‘½ä»¤ç”¨äºæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å‰å‡ è¡Œã€‚è¦ä½¿ç”¨è¯¥å‘½ä»¤ï¼Œåªéœ€è¾“å…¥ <code>head</code> å’Œä½ æƒ³æŸ¥çœ‹çš„æ–‡ä»¶åå³å¯ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹ä¸€ä¸ªåä¸º <em>example.log</em> çš„æ–‡ä»¶çš„å‰10è¡Œï¼Œä½ å¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 10 example.log</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>-n</code> é€‰é¡¹ç”¨äºæŒ‡å®šè¦æŸ¥çœ‹çš„è¡Œæ•°ã€‚å¦‚æœä¸æŒ‡å®šæ•°å­—ï¼Œå®ƒå°†é»˜è®¤ä¸º 10 è¡Œã€‚è¿˜å¯ä»¥ä½¿ç”¨ <code>-</code> å·æ¥è¡¨ç¤ºé™¤äº†æ–‡ä»¶æœ€åå¤šå°‘è¡Œå¤–è¾“å‡ºæ‰€æœ‰è¡Œå†…å®¹ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹æ–‡ä»¶çš„æ‰€æœ‰è¡Œï¼Œä½†ä¸åŒ…æ‹¬æœ€åçš„ 11 è¡Œï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">head</span> -n -11 example.log</span><br></pre></td></tr></table></figure>

<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>åœ¨ä½¿ç”¨ <code>head</code> å‘½ä»¤æ—¶ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼š</p>
<p>é¦–å…ˆï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨ <code>&gt;</code> æ“ä½œç¬¦æ„å¤–è¦†ç›–åŸæ¥çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¼šå¯¼è‡´ <em>example.log</em> æ–‡ä»¶è¢«å…¶å‰ 10 è¡Œçš„å†…å®¹è¦†ç›–ï¼Œç›¸å½“äº <em>example.log</em> æ–‡ä»¶åªä¿ç•™äº†å‰ 10 è¡Œå†…å®¹ï¼Œå…¶ä»–æ‰€æœ‰å†…å®¹è¢«æŠ¹å»ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 10 example.log &gt; example.log</span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡ï¼Œè¦æ³¨æ„ <code>head</code> ä¸ä¼šä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹æ–‡ä»¶ã€‚å¦‚æœè¦ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æˆ–å…¶ä»–å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<h2 id="æŠ€å·§çªé—¨"><a href="#æŠ€å·§çªé—¨" class="headerlink" title="æŠ€å·§çªé—¨"></a>æŠ€å·§çªé—¨</h2><p>ä»¥ä¸‹è¿™äº›æç¤ºå’ŒæŠ€å·§ï¼Œå¯å¸®åŠ©æˆ‘ä»¬æœ€å¤§é™åº¦åœ°ä½¿ç”¨ <code>head</code> å‘½ä»¤ï¼š</p>
<ul>
<li>æŸ¥çœ‹å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ <code>-q</code> é€‰é¡¹éšè—æ–‡ä»¶åï¼›</li>
<li>æŸ¥çœ‹å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ <code>-v</code> é€‰é¡¹æ˜¾ç¤ºæ–‡ä»¶åï¼›</li>
<li>ä½¿ç”¨ <code>-c</code> é€‰é¡¹æŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ ä¸ªå­—èŠ‚è€Œä¸æ˜¯å‰å‡ è¡Œï¼›</li>
<li>ä½¿ç”¨ <code>-f</code> é€‰é¡¹å¯ä»¥åœ¨æ·»åŠ æ–°è¡Œæ—¶å®æ—¶æŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ è¡Œã€‚</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>åœ¨ä½¿ç”¨ <code>head</code> å‘½ä»¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸¤ä¸ªæ¼”ç¤ºçš„æ—¥å¿—æ–‡ä»¶ã€‚æœ¬ç¤ºä¾‹æ˜¯åœ¨ <em>/mnt/e/linux-commands/head</em> ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ <em>a.log</em> å’Œ <em>b.log</em>ï¼Œæ–‡ä»¶è¡Œæ•°éƒ½ä¸º 15 è¡Œï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p>a.log</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line">a_4</span><br><span class="line">a_5</span><br><span class="line">a_6</span><br><span class="line">a_7</span><br><span class="line">a_8</span><br><span class="line">a_9</span><br><span class="line">a_10</span><br><span class="line">a_11</span><br><span class="line">a_12</span><br><span class="line">a_13</span><br><span class="line">a_14</span><br><span class="line">a_15</span><br></pre></td></tr></table></figure>

<p>b.log</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">b_1</span><br><span class="line">b_2</span><br><span class="line">b_3</span><br><span class="line">b_4</span><br><span class="line">b_5</span><br><span class="line">b_6</span><br><span class="line">b_7</span><br><span class="line">b_8</span><br><span class="line">b_9</span><br><span class="line">b_10</span><br><span class="line">b_11</span><br><span class="line">b_12</span><br><span class="line">b_13</span><br><span class="line">b_14</span><br><span class="line">b_15</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Linux å‘½ä»¤ <code>echo</code> å’Œ for å¾ªç¯æ¥ç”Ÿæˆè¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œå¦‚ç”Ÿæˆ <em>a.log</em> æ–‡ä»¶çš„å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> &#123;1..15&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> a_<span class="variable">$v</span> &gt;&gt; a.log</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå¼€å§‹æ‰§è¡Œ <code>head</code> å‘½ä»¤æ¥æŸ¥çœ‹ä¸åŒå‚æ•°ä¸‹çš„æ‰§è¡Œæ•ˆæœã€‚</p>
<p>1ã€ç›´æ¥ä½¿ç”¨ <code>head</code> å‘½ä»¤ï¼Œä¸å¸¦å…¶ä»–é€‰é¡¹ï¼Œåˆ™é»˜è®¤è¾“å‡ºæ–‡ä»¶å‰ 10 è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> a.log</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line">a_4</span><br><span class="line">a_5</span><br><span class="line">a_6</span><br><span class="line">a_7</span><br><span class="line">a_8</span><br><span class="line">a_9</span><br><span class="line">a_10</span><br></pre></td></tr></table></figure>

<p>2ã€è¾“å‡ºæ–‡ä»¶ <em>a.log</em> å‰ 5 è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -n 5 a.log</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line">a_4</span><br><span class="line">a_5</span><br></pre></td></tr></table></figure>

<p>3ã€å°†æ–‡ä»¶ <em>a.log</em> å‰ä¸‰è¡Œå†…å®¹è¾“å‡ºåˆ° <em>c.log</em> æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -n 3 a.log &gt;&gt; c.log</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ–‡ä»¶ <em>c.log</em> å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> <span class="built_in">cat</span> c.log</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br></pre></td></tr></table></figure>

<p>4ã€ä½¿ç”¨ <code>-v</code> é€‰é¡¹ï¼Œè¾“å‡ºæ–‡ä»¶ a.log å‰ä¸‰è¡Œï¼Œå¹¶è¾“å‡ºæ–‡ä»¶åç§°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -v -n 3 a.log</span><br><span class="line">==&gt; a.log &lt;==</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br></pre></td></tr></table></figure>

<p><code>-v</code> é€‰é¡¹åœ¨å¤„ç†å¤šä¸ªæ–‡ä»¶çš„æ—¶å€™å¯ä»¥åŒºåˆ†å†…å®¹æ˜¯ç”±å“ªä¸ªæ–‡ä»¶è¾“å‡ºçš„ï¼Œä¾‹å¦‚ï¼Œåˆ†åˆ«è¾“å‡ºæ–‡ä»¶ <em>a.log</em> å’Œ <em>b.log</em> å‰ 3 è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -v -n 3 a.log b.log</span><br><span class="line">==&gt; a.log &lt;==</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line"></span><br><span class="line">==&gt; b.log &lt;==</span><br><span class="line">b_1</span><br><span class="line">b_2</span><br><span class="line">b_3</span><br></pre></td></tr></table></figure>

<p>5ã€å¦‚æœåœ¨å¤„ç†å¤šä¸ªæ–‡ä»¶æ—¶ä¸æƒ³è¾“å‡ºæ–‡ä»¶åç§°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>-q</code> é€‰é¡¹ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -q -n 3 a.log b.log</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line">b_1</span><br><span class="line">b_2</span><br><span class="line">b_3</span><br></pre></td></tr></table></figure>

<p>6ã€å¦‚æœæƒ³è¾“å‡ºæ–‡ä»¶é™¤äº†æœ€å n è¡Œå¤–çš„å…¶ä»–æ‰€æœ‰è¡Œï¼Œè¿™æ—¶ <code>-n</code> é€‰é¡¹çš„å‚æ•°å¯ä»¥ä¼ è´Ÿæ•°ã€‚å¦‚ä»¥ä¸‹ç¤ºä¾‹è¾“å‡ºæ–‡ä»¶ <code>a.log</code> é™¤äº†æœ€å 11 è¡Œä¹‹å¤–çš„å…¶ä»–æ‰€æœ‰è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  <span class="built_in">head</span> -n -11 a.log</span><br><span class="line">a_1</span><br><span class="line">a_2</span><br><span class="line">a_3</span><br><span class="line">a_4</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ€»ä¹‹ï¼Œ<code>head</code> å‘½ä»¤æ˜¯å¿«é€ŸæŸ¥çœ‹æ–‡ä»¶å‰å‡ è¡Œçš„å¼ºå¤§å·¥å…·ã€‚ä¸ºæœ€å¤§é™åº¦ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œç®€åŒ–åœ¨ Linux å‘½ä»¤è¡Œä¸Šçš„æ–‡ä»¶ç®¡ç†ä»»åŠ¡ï¼Œæœ¬æ–‡è¯¦ç»†è®¨è®ºè¯¥å‘½ä»¤çš„ä½¿ç”¨è¯´æ˜ã€æ³¨æ„äº‹é¡¹ã€æŠ€å·§çªé—¨ç­‰ï¼ŒåŒæ—¶è¿˜é€šè¿‡åˆ—ä¸¾ä¸€äº›ä½¿ç”¨ç¤ºä¾‹æ¥åŠ æ·±å¯¹è¯¥å‘½ä»¤ç†è§£ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Linuxå¸¸ç”¨å‘½ä»¤</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux å¸¸ç”¨å‘½ä»¤ | pwgen è¯¦è§£</title>
    <url>/2023/04/03/linux-commands-pwgen/</url>
    <content><![CDATA[<p><code>pwgen</code> æ˜¯ä¸€ä¸ªç”Ÿæˆå¯†ç çš„å°å·¥å…·ï¼Œå¯ä»¥é€šè¿‡å‚æ•°ç”Ÿæˆæ»¡è¶³å„ç§æ¡ä»¶çš„å¯†ç ï¼Œå¦‚ç”Ÿæˆçš„å¯†ç è‡³å°‘è¦åŒ…å«ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œæˆ–ç”Ÿæˆçš„å¯†ç ä¸è¦åŒ…å«æ•°å­—ï¼Œæˆ–ç”Ÿæˆé•¿åº¦ä¸º 16 çš„å¯†ç ç­‰ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨ Ubuntu æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ apt-get æ–¹å¼å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get install pwgen</span><br></pre></td></tr></table></figure>

<p>åœ¨ CentOS æ“ä½œç³»ç»Ÿï¼Œéœ€è¦å…ˆå®‰è£… epel-release è½¯ä»¶åŒ…åæ‰èƒ½ä½¿ç”¨ yum æ–¹å¼å®‰è£… pwgenã€‚</p>
<p>å®‰è£… epel-releaseï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y epel-release</span><br></pre></td></tr></table></figure>

<p>å®‰è£… pwgenï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y pwgen</span><br></pre></td></tr></table></figure>

<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pwgen [ é€‰é¡¹ ] [ å¯†ç é•¿åº¦ ] [ å¯†ç æ•°é‡ ]</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œç”Ÿæˆ 4 ä¸ªé•¿åº¦ä¸º 8 çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pwgen 8 4</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen 8 4</span><br><span class="line">Hah8eeth ies6Yuxu iemoo1Ko aeB7shu4</span><br></pre></td></tr></table></figure>

<h2 id="pwgen-æ”¯æŒçš„é€‰é¡¹"><a href="#pwgen-æ”¯æŒçš„é€‰é¡¹" class="headerlink" title="pwgen æ”¯æŒçš„é€‰é¡¹"></a>pwgen æ”¯æŒçš„é€‰é¡¹</h2><table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>-c æˆ– â€“capitalize</td>
<td>åœ¨å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªå¤§å†™å­—æ¯</td>
</tr>
<tr>
<td>-A æˆ– â€“no-capitalize</td>
<td>ä¸åœ¨å¯†ç ä¸­åŒ…å«å¤§å†™å­—æ¯</td>
</tr>
<tr>
<td>-n æˆ– â€“numerals</td>
<td>åœ¨å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—</td>
</tr>
<tr>
<td>-0 æˆ– â€“no-numerals</td>
<td>ä¸åœ¨å¯†ç ä¸­åŒ…å«æ•°å­—</td>
</tr>
<tr>
<td>-y æˆ– â€“symbols</td>
<td>åœ¨å¯†ç ä¸­è‡³å°‘åŒ…æ‹¬ä¸€ä¸ªç‰¹æ®Šç¬¦å·</td>
</tr>
<tr>
<td>-r <chars> æˆ– â€“remove-chars=<chars></td>
<td>ç”Ÿæˆçš„å¯†ç ä¸è¦åŒ…å«å­—ç¬¦é›†ä¸­ä»»ä½•å­—ç¬¦</td>
</tr>
<tr>
<td>-s æˆ– â€“secure</td>
<td>ç”Ÿæˆå®Œå…¨éšæœºçš„å¯†ç </td>
</tr>
<tr>
<td>-B æˆ– â€“ambiguous</td>
<td>ä¸è¦åœ¨å¯†ç ä¸­åŒ…å«æ¨¡æ£±ä¸¤å¯çš„å­—ç¬¦</td>
</tr>
<tr>
<td>-h æˆ– â€“help</td>
<td>æ‰“å°å¸®åŠ©ä¿¡æ¯</td>
</tr>
<tr>
<td>-H æˆ– â€“sha1=path/to/file[#seed]</td>
<td>ä½¿ç”¨æŒ‡å®šæ–‡ä»¶çš„ sha1 å“ˆå¸Œå€¼ä½œä¸ºï¼ˆä¸é‚£ä¹ˆï¼‰éšæœºç”Ÿæˆå™¨</td>
</tr>
<tr>
<td>-C</td>
<td>ä»¥åˆ—çš„å½¢å¼æ‰“å°ç”Ÿæˆçš„å¯†ç </td>
</tr>
<tr>
<td>-1</td>
<td>ä¸ä»¥åˆ—çš„å½¢å¼æ‰“å°ç”Ÿæˆçš„å¯†ç </td>
</tr>
<tr>
<td>-v æˆ– â€“no-vowels</td>
<td>ä¸è¦ä½¿ç”¨ä»»ä½•å…ƒéŸ³å­—æ¯ï¼Œä»¥é¿å…å‡ºç°å¶ç„¶çš„ä¸å‹å¥½çš„å•è¯ã€‚</td>
</tr>
</tbody></table>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>1ã€ç”Ÿæˆ 8 ä¸ªé•¿åº¦ä¸º 16 å¹¶ä¸”ä¸è¦åŒ…å«å¤§å†™å­—æ¯çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -A 16 8</span><br><span class="line">misive3ij3eebahz aiboo7ahhadu7kei soh6iez4tho4mai4 ruuthei6zoshie3u</span><br><span class="line">oop3shau4oor0ohc oomaid8aephaehai sahvamahyuibaa2c fai0ainaik1waeph</span><br></pre></td></tr></table></figure>

<p>2ã€ç”Ÿæˆ 8 ä¸ªé•¿åº¦ä¸º 16 å¹¶ä¸”ä¸è¦åŒ…å«å¤§å†™å­—æ¯å’Œæ•°å­—çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -A0 16 8</span><br><span class="line">eequahcaejiizooc thexeecaceizeeve heuxengeequiexai uquahsongoozohah</span><br><span class="line">uogumoochaelocoo oechiengiemaephi teesohceezaishoh wierohchoochehoo</span><br></pre></td></tr></table></figure>

<p>3ã€ç”Ÿæˆ 10 ä¸ªé•¿åº¦ä¸º 16 å¹¶ä¸”ä¸è¦åŒ…å« y, a, b, c è¿™å››ä¸ªå­—ç¬¦çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -r yabc 16 10</span><br><span class="line">eiuiVf10GInYqfqu tDLIoPgOdCZSGI4G KdTVlINs7vSfSlZE r10kMlEe4AOA7n0G</span><br><span class="line">CUiQZpLPWn6GpQrl 2QKjdCt71zidk2v8 Rl62WFT4Q0XioZml CDGLVuIN4Dq0VLvi</span><br><span class="line">hjfPLKiV6hGdT079 hx3Al0ZBkupKVMH9</span><br></pre></td></tr></table></figure>

<p>4ã€ç”Ÿæˆ 10 ä¸ªé•¿åº¦ä¸º 16 å¹¶ä¸”ä¸è¦åŒ…å« y, a, b, c è¿™å››ä¸ªå­—ç¬¦å’Œå¤§å†™å­—æ¯çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -Ar yabc 16 10</span><br><span class="line">h9dfmhe9gum1sl76 50nggeu83f4h3qxv f7u7l9ssqqj4utvr 87nuqze1unlnler9</span><br><span class="line">n959l8eo1407uswz 2uffqtzor8iohxjs e45fzpsr0sedu7n4 564ld4nh0rttqmn0</span><br><span class="line">x4xvqekswq6mv5l8 s8f4q23qmhue3pvf</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå­—ç¬¦é›†éœ€è¦ç´§è·Ÿåœ¨å‚æ•° <code>-r</code> åé¢ï¼Œå¦‚ä»¥ä¸‹å‘½ä»¤ä¼šå‡ºé”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -rA yabc 16 10</span><br><span class="line">Invalid password length: yabc</span><br></pre></td></tr></table></figure>

<p>5ã€ä»¥æ–‡ä»¶ <em>/opt/tt230330.log</em> çš„ sha1 å“ˆå¸Œå€¼ä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨ï¼Œç”Ÿæˆ 2 ä¸ªé•¿åº¦ä¸º 8 çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -H /opt/tt230330.<span class="built_in">log</span> 8 2</span><br><span class="line">ahT0wuka aaV3sohv</span><br></pre></td></tr></table></figure>

<p>6ã€ç”Ÿæˆä¸¤ä¸ªé•¿åº¦ä¸º 32 å¹¶ä¸”ä¸åŒ…å«å¤§å†™å­—æ¯å’Œæ•°å­—ã€ä½†å¿…é¡»è‡³å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Šç¬¦å·çš„å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -Ay0 32 2</span><br><span class="line">ealaechohheiwei*g.u-xooquopeenee me]ozeicoo<span class="string">&quot;chee,hohkieweeth%ahmu</span></span><br></pre></td></tr></table></figure>

<p>7ã€ç”Ÿæˆä¸¤ä¸ªé•¿åº¦ä¸º 32 å¹¶ä¸”ä¸åŒ…å«å¤§å†™å­—æ¯å’Œæ•°å­—ã€ä½†å¿…é¡»è‡³å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Šç¬¦å·çš„å¯†ç ï¼Œä¸åˆ†åˆ—çš„å½¢å¼æ‰“å°ï¼ˆå³ä»¥ä¸€åˆ—çš„å½¢å¼è¾“å‡ºï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwgen -Ay01 32 2</span><br><span class="line">aiguipiefaivaeyu(vei`roox:isah*c</span><br><span class="line">vaibohbee&#123;sh&gt;eiruquiefueseigeigi</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Linuxå¸¸ç”¨å‘½ä»¤</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Logstashå¦‚ä½•å°†JSONç¬¬äºŒå±‚çº§çš„æ•°æ®è§£æåˆ°ç¬¬ä¸€å±‚çº§</title>
    <url>/2023/03/28/how-to-parse-json-from-the-second-level-to-the-root-level-in-logstash/</url>
    <content><![CDATA[<p>æ­¤ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Logstash å°† JSON ç¬¬äºŒå±‚çº§çš„æ•°æ®è§£æåˆ°ç¬¬ä¸€å±‚çº§ï¼ˆJSON æ ¹ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒåŸå§‹ JSON æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;distinct_id&quot;</span><span class="punctuation">:</span><span class="string">&quot;u24a21a5e262debf&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span><span class="string">&quot;1679912055733&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time_offset&quot;</span><span class="punctuation">:</span><span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;track&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;event&quot;</span><span class="punctuation">:</span><span class="string">&quot;ExposureView&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;$app_version&quot;</span><span class="punctuation">:</span><span class="string">&quot;8.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$wifi&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$ip&quot;</span><span class="punctuation">:</span><span class="string">&quot;39.144.27.121&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$province&quot;</span><span class="punctuation">:</span><span class="string">&quot;æ²³å—&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$city&quot;</span><span class="punctuation">:</span><span class="string">&quot;éƒ‘å·&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$screen_width&quot;</span><span class="punctuation">:</span><span class="number">390</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$screen_height&quot;</span><span class="punctuation">:</span><span class="number">844</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$os&quot;</span><span class="punctuation">:</span><span class="string">&quot;iOS&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$manufacturer&quot;</span><span class="punctuation">:</span><span class="string">&quot;Apple&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$model&quot;</span><span class="punctuation">:</span><span class="string">&quot;iPhone14,5&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$os_version&quot;</span><span class="punctuation">:</span><span class="string">&quot;16.3.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;34.740911&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;$longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;113.665855&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;product_id&quot;</span><span class="punctuation">:</span><span class="string">&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;product_name&quot;</span><span class="punctuation">:</span><span class="string">&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;product_classify&quot;</span><span class="punctuation">:</span><span class="string">&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;product_price&quot;</span><span class="punctuation">:</span><span class="number">309</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;uuid&quot;</span><span class="punctuation">:</span><span class="string">&quot;85552fad9e1348ef9b355fa656789bfc&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç°éœ€è¦å°† <code>properties</code> èŠ‚ç‚¹ä¸‹çš„æ•°æ®è§£æåˆ° JSON çš„æ ¹ä¸‹ï¼ŒæœŸæœ›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;distinct_id&quot;</span><span class="punctuation">:</span><span class="string">&quot;u24a21a5e262debf&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span><span class="string">&quot;1679912055733&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time_offset&quot;</span><span class="punctuation">:</span><span class="string">&quot;0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;track&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;event&quot;</span><span class="punctuation">:</span><span class="string">&quot;ExposureView&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$app_version&quot;</span><span class="punctuation">:</span><span class="string">&quot;8.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$wifi&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$ip&quot;</span><span class="punctuation">:</span><span class="string">&quot;39.144.27.121&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$province&quot;</span><span class="punctuation">:</span><span class="string">&quot;æ²³å—&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$city&quot;</span><span class="punctuation">:</span><span class="string">&quot;éƒ‘å·&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$screen_width&quot;</span><span class="punctuation">:</span><span class="number">390</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$screen_height&quot;</span><span class="punctuation">:</span><span class="number">844</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$os&quot;</span><span class="punctuation">:</span><span class="string">&quot;iOS&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$manufacturer&quot;</span><span class="punctuation">:</span><span class="string">&quot;Apple&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$model&quot;</span><span class="punctuation">:</span><span class="string">&quot;iPhone14,5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$os_version&quot;</span><span class="punctuation">:</span><span class="string">&quot;16.3.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;34.740911&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;113.665855&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;product_id&quot;</span><span class="punctuation">:</span><span class="string">&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;product_name&quot;</span><span class="punctuation">:</span><span class="string">&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;product_classify&quot;</span><span class="punctuation">:</span><span class="string">&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;product_price&quot;</span><span class="punctuation">:</span><span class="number">309</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;uuid&quot;</span><span class="punctuation">:</span><span class="string">&quot;85552fad9e1348ef9b355fa656789bfc&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œå‡è®¾è¦å¤„ç†çš„æ•°æ®åœ¨ <em>/mnt/e/log/ios.log</em> æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ Logstash å¤„ç†æ–‡ä»¶ <em>logstash-test.conf</em> é…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">		file &#123;</span><br><span class="line">				path =&gt; [&quot;/mnt/e/log/ios.log&quot;]</span><br><span class="line">				type =&gt; &quot;log&quot;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter &#123;</span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;message&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mutate &#123;</span><br><span class="line">        add_field =&gt; &#123;&quot;@tmp&quot; =&gt; &quot;%&#123;properties&#125;&quot;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;@tmp&quot;</span><br><span class="line">        remove_field =&gt; [&quot;@tmp&quot;, &quot;properties&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output &#123;</span><br><span class="line">		stdout &#123;</span><br><span class="line">				codec =&gt; rubydebug &#123; metadata =&gt; true &#125;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>mutate</code> å°† <code>properties</code> å­—æ®µå†…å®¹å…ˆèµ‹ç»™ <code>@tmp</code> å­—æ®µï¼Œå†ä½¿ç”¨ <code>json</code> è§£æ <code>@tmp</code> å­—æ®µï¼Œç„¶åç§»é™¤ä¸éœ€è¦çš„å­—æ®µ <code>@tmp</code> å’Œ <code>properties</code>ã€‚</p>
<p>æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿è¡Œ Logstashï¼Œæœ¬ç¤ºä¾‹ä¸­ logstash å‘½ä»¤ä½äº <em>/usr/share/logstash/bin</em> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/share/logstash/bin/logstash -f /opt/logstash-test/logstash-test.conf</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>echo</code> å‘½ä»¤å¾€æ–‡ä»¶ <em>/mnt/e/log/ios.log</em> å†™å…¥ä¸€è¡Œè®°å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;&#123;&quot;distinct_id&quot;:&quot;u24a21a5e262debf&quot;,&quot;time&quot;:&quot;1679912055733&quot;,&quot;time_offset&quot;:&quot;0&quot;,&quot;type&quot;:&quot;track&quot;,&quot;event&quot;:&quot;ExposureView&quot;,&quot;properties&quot;:&#123;&quot;$app_version&quot;:&quot;8.3&quot;,&quot;$wifi&quot;:true,&quot;$ip&quot;:&quot;39.144.27.121&quot;,&quot;$province&quot;:&quot;æ²³å—&quot;,&quot;$city&quot;:&quot;éƒ‘å·&quot;,&quot;$screen_width&quot;:390,&quot;$screen_height&quot;:844,&quot;$os&quot;:&quot;iOS&quot;,&quot;$manufacturer&quot;:&quot;Apple&quot;,&quot;$model&quot;:&quot;iPhone14,5&quot;,&quot;$os_version&quot;:&quot;16.3.1&quot;,&quot;$latitude&quot;:&quot;34.740911&quot;,&quot;$longitude&quot;:&quot;113.665855&quot;,&quot;product_id&quot;:&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5&quot;,&quot;product_name&quot;:&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’&quot;,&quot;product_classify&quot;:&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶&quot;,&quot;product_price&quot;:309&#125;,&quot;uuid&quot;:&quot;85552fad9e1348ef9b355fa656789bfc&quot;&#125;&#x27;</span> &gt;&gt; /mnt/e/log/ios.log</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç»ˆç«¯æ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼Œ<code>properties</code> å­—æ®µçš„æ•°æ®å·²ç»è¢«è§£æåˆ° JSON çš„æ ¹ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            <span class="string">&quot;@version&quot;</span> =&gt; <span class="string">&quot;1&quot;</span>,</span><br><span class="line">           <span class="string">&quot;<span class="variable">$province</span>&quot;</span> =&gt; <span class="string">&quot;æ²³å—&quot;</span>,</span><br><span class="line">           <span class="string">&quot;<span class="variable">$latitude</span>&quot;</span> =&gt; <span class="string">&quot;34.740911&quot;</span>,</span><br><span class="line">      <span class="string">&quot;<span class="variable">$screen_height</span>&quot;</span> =&gt; 844,</span><br><span class="line">       <span class="string">&quot;<span class="variable">$manufacturer</span>&quot;</span> =&gt; <span class="string">&quot;Apple&quot;</span>,</span><br><span class="line">                <span class="string">&quot;host&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span> =&gt; <span class="string">&quot;airoo1Oi&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="string">&quot;product_name&quot;</span> =&gt; <span class="string">&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;<span class="variable">$os</span>&quot;</span> =&gt; <span class="string">&quot;iOS&quot;</span>,</span><br><span class="line">          <span class="string">&quot;@timestamp&quot;</span> =&gt; 2023-03-28T09:24:25.482409200Z,</span><br><span class="line">         <span class="string">&quot;distinct_id&quot;</span> =&gt; <span class="string">&quot;u24a21a5e262debf&quot;</span>,</span><br><span class="line">          <span class="string">&quot;product_id&quot;</span> =&gt; <span class="string">&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5&quot;</span>,</span><br><span class="line">        <span class="string">&quot;<span class="variable">$app_version</span>&quot;</span> =&gt; <span class="string">&quot;8.3&quot;</span>,</span><br><span class="line">                <span class="string">&quot;uuid&quot;</span> =&gt; <span class="string">&quot;85552fad9e1348ef9b355fa656789bfc&quot;</span>,</span><br><span class="line">       <span class="string">&quot;<span class="variable">$screen_width</span>&quot;</span> =&gt; 390,</span><br><span class="line">         <span class="string">&quot;<span class="variable">$os_version</span>&quot;</span> =&gt; <span class="string">&quot;16.3.1&quot;</span>,</span><br><span class="line">               <span class="string">&quot;<span class="variable">$city</span>&quot;</span> =&gt; <span class="string">&quot;éƒ‘å·&quot;</span>,</span><br><span class="line">         <span class="string">&quot;time_offset&quot;</span> =&gt; <span class="string">&quot;0&quot;</span>,</span><br><span class="line">               <span class="string">&quot;<span class="variable">$wifi</span>&quot;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">          <span class="string">&quot;<span class="variable">$longitude</span>&quot;</span> =&gt; <span class="string">&quot;113.665855&quot;</span>,</span><br><span class="line">                <span class="string">&quot;type&quot;</span> =&gt; <span class="string">&quot;track&quot;</span>,</span><br><span class="line">                <span class="string">&quot;time&quot;</span> =&gt; <span class="string">&quot;1679912055733&quot;</span>,</span><br><span class="line">              <span class="string">&quot;<span class="variable">$model</span>&quot;</span> =&gt; <span class="string">&quot;iPhone14,5&quot;</span>,</span><br><span class="line">             <span class="string">&quot;message&quot;</span> =&gt; <span class="string">&quot;&#123;\&quot;distinct_id\&quot;:\&quot;u24a21a5e262debf\&quot;,\&quot;time\&quot;:\&quot;1679912055733\&quot;,\&quot;time_offset\&quot;:\&quot;0\&quot;,\&quot;type\&quot;:\&quot;track\&quot;,\&quot;event\&quot;:\&quot;ExposureView\&quot;,\&quot;properties\&quot;:&#123;\&quot;<span class="variable">$app_version</span>\&quot;:\&quot;8.3\&quot;,\&quot;<span class="variable">$wifi</span>\&quot;:true,\&quot;<span class="variable">$ip</span>\&quot;:\&quot;39.144.27.121\&quot;,\&quot;<span class="variable">$province</span>\&quot;:\&quot;æ²³å—\&quot;,\&quot;<span class="variable">$city</span>\&quot;:\&quot;éƒ‘å·\&quot;,\&quot;<span class="variable">$screen_width</span>\&quot;:390,\&quot;<span class="variable">$screen_height</span>\&quot;:844,\&quot;<span class="variable">$os</span>\&quot;:\&quot;iOS\&quot;,\&quot;<span class="variable">$manufacturer</span>\&quot;:\&quot;Apple\&quot;,\&quot;<span class="variable">$model</span>\&quot;:\&quot;iPhone14,5\&quot;,\&quot;<span class="variable">$os_version</span>\&quot;:\&quot;16.3.1\&quot;,\&quot;<span class="variable">$latitude</span>\&quot;:\&quot;34.740911\&quot;,\&quot;<span class="variable">$longitude</span>\&quot;:\&quot;113.665855\&quot;,\&quot;product_id\&quot;:\&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5\&quot;,\&quot;product_name\&quot;:\&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’\&quot;,\&quot;product_classify\&quot;:\&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶\&quot;,\&quot;product_price\&quot;:309&#125;,\&quot;uuid\&quot;:\&quot;85552fad9e1348ef9b355fa656789bfc\&quot;&#125;&quot;</span>,</span><br><span class="line">       <span class="string">&quot;product_price&quot;</span> =&gt; 309,</span><br><span class="line">               <span class="string">&quot;event&quot;</span> =&gt; <span class="string">&quot;ExposureView&quot;</span>,</span><br><span class="line">    <span class="string">&quot;product_classify&quot;</span> =&gt; <span class="string">&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;log&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;file&quot;</span> =&gt; &#123;</span><br><span class="line">            <span class="string">&quot;path&quot;</span> =&gt; <span class="string">&quot;/mnt/e/log/ios.log&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">                 <span class="string">&quot;<span class="variable">$ip</span>&quot;</span> =&gt; <span class="string">&quot;39.144.27.121&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸éœ€è¦ <code>message</code>ï¼Œ<code>@version</code>ï¼Œ<code>log</code>ï¼Œ<code>host</code>ï¼Œ<code>@metadata</code>ï¼Œ<code>@timestamp</code> ç­‰å­—æ®µï¼Œå¯ä»¥æŠŠè¿™äº›å­—æ®µæ·»åŠ åˆ° json è§£æè¿‡æ»¤å™¨ä¸Šçš„ <code>remove_field</code> é…ç½®é¡¹ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">json &#123;</span><br><span class="line">        <span class="built_in">source</span> =&gt; <span class="string">&quot;@tmp&quot;</span></span><br><span class="line">        remove_field =&gt; [<span class="string">&quot;@tmp&quot;</span>, <span class="string">&quot;properties&quot;</span>, <span class="string">&quot;message&quot;</span>, <span class="string">&quot;@version&quot;</span>, <span class="string">&quot;log&quot;</span>, <span class="string">&quot;host&quot;</span>, <span class="string">&quot;@metadata&quot;</span>, <span class="string">&quot;@timestamp&quot;</span>]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å®Œä¹‹åé‡æ–°è¿è¡Œ logstashï¼Œå†å¾€æ—¥å¿—æ–‡ä»¶å†™ä¸€æ¡æ—¥å¿—æ•°æ®ï¼Œæœ€ç»ˆæ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        <span class="string">&quot;<span class="variable">$app_version</span>&quot;</span> =&gt; <span class="string">&quot;8.3&quot;</span>,</span><br><span class="line">       <span class="string">&quot;<span class="variable">$screen_width</span>&quot;</span> =&gt; 390,</span><br><span class="line">       <span class="string">&quot;<span class="variable">$manufacturer</span>&quot;</span> =&gt; <span class="string">&quot;Apple&quot;</span>,</span><br><span class="line">                <span class="string">&quot;type&quot;</span> =&gt; <span class="string">&quot;track&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;<span class="variable">$ip</span>&quot;</span> =&gt; <span class="string">&quot;39.144.27.121&quot;</span>,</span><br><span class="line">           <span class="string">&quot;<span class="variable">$province</span>&quot;</span> =&gt; <span class="string">&quot;æ²³å—&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;<span class="variable">$os</span>&quot;</span> =&gt; <span class="string">&quot;iOS&quot;</span>,</span><br><span class="line">           <span class="string">&quot;<span class="variable">$latitude</span>&quot;</span> =&gt; <span class="string">&quot;34.740911&quot;</span>,</span><br><span class="line">               <span class="string">&quot;event&quot;</span> =&gt; <span class="string">&quot;ExposureView&quot;</span>,</span><br><span class="line">          <span class="string">&quot;product_id&quot;</span> =&gt; <span class="string">&quot;0vYqgWyuBBwDA8u8eQ7tqNjWOC5&quot;</span>,</span><br><span class="line">               <span class="string">&quot;<span class="variable">$wifi</span>&quot;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">              <span class="string">&quot;<span class="variable">$model</span>&quot;</span> =&gt; <span class="string">&quot;iPhone14,5&quot;</span>,</span><br><span class="line">       <span class="string">&quot;product_price&quot;</span> =&gt; 309,</span><br><span class="line">                <span class="string">&quot;time&quot;</span> =&gt; <span class="string">&quot;1679912055733&quot;</span>,</span><br><span class="line">    <span class="string">&quot;product_classify&quot;</span> =&gt; <span class="string">&quot;é£Ÿå“é¥®æ–™/é¥®æ–™å†²è°ƒ/ç‰›å¥¶&quot;</span>,</span><br><span class="line">        <span class="string">&quot;product_name&quot;</span> =&gt; <span class="string">&quot;è¿›å£é¦™è•‰ç‰›å¥¶200ml*12ç›’&quot;</span>,</span><br><span class="line">         <span class="string">&quot;distinct_id&quot;</span> =&gt; <span class="string">&quot;u24a21a5e262debf&quot;</span>,</span><br><span class="line">               <span class="string">&quot;<span class="variable">$city</span>&quot;</span> =&gt; <span class="string">&quot;éƒ‘å·&quot;</span>,</span><br><span class="line">         <span class="string">&quot;time_offset&quot;</span> =&gt; <span class="string">&quot;0&quot;</span>,</span><br><span class="line">         <span class="string">&quot;<span class="variable">$os_version</span>&quot;</span> =&gt; <span class="string">&quot;16.3.1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;<span class="variable">$screen_height</span>&quot;</span> =&gt; 844,</span><br><span class="line">          <span class="string">&quot;<span class="variable">$longitude</span>&quot;</span> =&gt; <span class="string">&quot;113.665855&quot;</span>,</span><br><span class="line">                <span class="string">&quot;uuid&quot;</span> =&gt; <span class="string">&quot;85552fad9e1348ef9b355fa656789bfc&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ELK</tag>
        <tag>Logstash</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä½¿ç”¨Gsonåº“æ ¼å¼åŒ–è¾“å‡ºJSONå­—ç¬¦ä¸²</title>
    <url>/2023/07/24/java-json-pretty-print-with-gson/</url>
    <content><![CDATA[<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨ Java ä¸­æ ¼å¼åŒ– JSON æ•°æ®ä»¥å¢å¼ºå…¶å¯è¯»æ€§ã€‚</p>
<p>åœ¨å¤„ç†å¤§é‡çš„ JSON å¯¹è±¡æ—¶ï¼Œç†è§£å’Œè°ƒè¯•å®ƒä»¬å¯èƒ½æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚å› æ­¤ï¼Œé‡‡ç”¨æ ¼å¼åŒ–è¾“å‡º JSON å¯¹è±¡çš„æ–¹æ³•å˜å¾—è‡³å…³é‡è¦ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Gson åº“çš„åŠŸèƒ½ã€‚Gson æä¾›äº†ä¾¿æ·çš„æ–¹æ³•æ¥ç”Ÿæˆæ ¼å¼è‰¯å¥½çš„ JSON è¾“å‡ºã€‚</p>
<p>é¦–å…ˆï¼Œæ·»åŠ Â Gson MavenÂ ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>gson</em>Â ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§Â <a href="https://mvnrepository.com/artifact/com.google.code.gson/gson">Maven Central</a>Â ï¼‰ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯Â <em>2.10.1</em>Â ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚</p>
<p>ä¸ºäº†æ ¼å¼åŒ–æ‰“å° JSON å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ <code>GsonBuilder</code> çš„ <code>setPrettyPrinting()</code> æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">prettyJson</span><span class="params">(String uglyJsonString)</span> &#123;</span><br><span class="line">    <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>().setPrettyPrinting().create();</span><br><span class="line">    <span class="type">JsonElement</span> <span class="variable">jsonElement</span> <span class="operator">=</span> JsonParser.parseString(uglyJsonString);</span><br><span class="line">    <span class="keyword">return</span> gson.toJson(jsonElement);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>prettyJson()</code> æ–¹æ³•æ¥æ ¼å¼åŒ–å¹¶æ‰“å°è¾“å‡º JSON å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.GsonBuilder;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.JsonElement;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.JsonParser;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JsonFormatter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">prettyJson</span><span class="params">(String uglyJsonString)</span> &#123;</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>().setPrettyPrinting().create();</span><br><span class="line">        <span class="type">JsonElement</span> <span class="variable">jsonElement</span> <span class="operator">=</span> JsonParser.parseString(uglyJsonString);</span><br><span class="line">        <span class="keyword">return</span> gson.toJson(jsonElement);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">uglyJsonString</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;distinct_id\&quot;:\&quot;8id2328069391\&quot;,\&quot;lib\&quot;:&#123;\&quot;$lib\&quot;:\&quot;MiniProgram\&quot;,\&quot;$lib_method\&quot;:\&quot;code\&quot;,\&quot;$lib_version\&quot;:\&quot;10.20.32\&quot;&#125;,\&quot;properties\&quot;:&#123;\&quot;$lib\&quot;:\&quot;MiniProgram\&quot;,\&quot;$lib_version\&quot;:\&quot;1.13.2\&quot;,\&quot;title\&quot;:\&quot;èŒ…å°ï¼ˆMOUTAIï¼‰è´µå·èŒ…å°é…’ é…±é¦™å‹ç™½é…’ ç¤¼ç›’é€ç¤¼é…’æ°´ èŒ…å°é£å¤©43åº¦500mlï¼ˆå¸¦æ¯ï¼‰\&quot;,\&quot;appName\&quot;:\&quot;æ´»åŠ¨å•†åŸ\&quot;,\&quot;versionCode\&quot;:\&quot;2.1.39\&quot;,\&quot;appid\&quot;:\&quot;59f9f09a\&quot;,\&quot;$network_type\&quot;:\&quot;wifi\&quot;,\&quot;$manufacturer\&quot;:\&quot;devtools\&quot;,\&quot;$model\&quot;:\&quot;iPhone X\&quot;,\&quot;$screen_width\&quot;:375,\&quot;$screen_height\&quot;:812,\&quot;$os\&quot;:\&quot;iOS\&quot;,\&quot;$os_version\&quot;:\&quot;10.0.1\&quot;,\&quot;id\&quot;:81412,\&quot;user_id\&quot;:14969468,\&quot;phone\&quot;:\&quot;13725459365\&quot;,\&quot;$latest_scene\&quot;:\&quot;å‘ç°æ å°ç¨‹åºä¸»å…¥å£ï¼Œâ€œæœ€è¿‘ä½¿ç”¨â€åˆ—è¡¨\&quot;,\&quot;$referrer\&quot;:\&quot;shop/pages/data\&quot;,\&quot;$url_path\&quot;:\&quot;shop/pages/user/data\&quot;,\&quot;$is_first_day\&quot;:false&#125;,\&quot;type\&quot;:\&quot;track\&quot;,\&quot;event\&quot;:\&quot;$MPViewScreen\&quot;,\&quot;time\&quot;:1689648201789&#125;&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">prettyJsonString</span> <span class="operator">=</span> prettyJson(uglyJsonString);</span><br><span class="line">        System.out.println(prettyJsonString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè¯¥ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°æ ¼å¼è‰¯å¥½çš„ JSON å­—ç¬¦ä¸²åœ¨æ§åˆ¶å°ä¸Šè¾“å‡ºï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;distinct_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8id2328069391&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;$lib&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MiniProgram&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$lib_method&quot;</span><span class="punctuation">:</span> <span class="string">&quot;code&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$lib_version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10.20.32&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;$lib&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MiniProgram&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$lib_version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.13.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;èŒ…å°ï¼ˆMOUTAIï¼‰è´µå·èŒ…å°é…’ é…±é¦™å‹ç™½é…’ ç¤¼ç›’é€ç¤¼é…’æ°´ èŒ…å°é£å¤©43åº¦500mlï¼ˆå¸¦æ¯ï¼‰&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;appName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æ´»åŠ¨å•†åŸ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;versionCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.1.39&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;appid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;59f9f09a&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$network_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wifi&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$manufacturer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;devtools&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$model&quot;</span><span class="punctuation">:</span> <span class="string">&quot;iPhone X&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$screen_width&quot;</span><span class="punctuation">:</span> <span class="number">375</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$screen_height&quot;</span><span class="punctuation">:</span> <span class="number">812</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$os&quot;</span><span class="punctuation">:</span> <span class="string">&quot;iOS&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$os_version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;10.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">81412</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">14969468</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;13725459365&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$latest_scene&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å‘ç°æ å°ç¨‹åºä¸»å…¥å£ï¼Œâ€œæœ€è¿‘ä½¿ç”¨â€åˆ—è¡¨&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$referrer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shop/pages/data&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$url_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shop/pages/user/data&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;$is_first_day&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;track&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;event&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$MPViewScreen&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="number">1689648201789</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | IP åœ°å€å‡½æ•°</title>
    <url>/2023/05/10/presto-ip-functions/</url>
    <content><![CDATA[<h2 id="ip-prefix-ip-address-prefix-bits-â†’-ipprefix"><a href="#ip-prefix-ip-address-prefix-bits-â†’-ipprefix" class="headerlink" title="ip_prefix(ip_address,Â prefix_bits)Â â†’Â ipprefix"></a>ip_prefix(<em>ip_address</em>,Â <em>prefix_bits</em>)Â â†’Â ipprefix</h2><p>ä½¿ç”¨å­ç½‘æ©ç é•¿åº¦ <code>prefix_bits</code>ï¼Œè¿”å› IP åœ°å€ <code>ip_address</code> çš„ IP å‰ç¼€ã€‚<code>ip_address</code> å¯ä»¥æ˜¯ <code>VARCHAR</code> ç±»å‹æˆ–è€… <code>IPADDRESS</code> ç±»å‹ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ip_prefix(<span class="built_in">CAST</span>(<span class="string">&#x27;192.168.255.255&#x27;</span> <span class="keyword">AS</span> IPADDRESS), <span class="number">9</span>);</span><br><span class="line"><span class="keyword">SELECT</span> ip_prefix(<span class="string">&#x27;192.168.255.255&#x27;</span>, <span class="number">9</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä»¥ä¸Šä¸¤æ¡è¯­å¥çš„è¾“å‡ºç»“æœå‡ä¸ºï¼š</span></span><br><span class="line"><span class="comment">-- 192.128.0.0/9</span></span><br></pre></td></tr></table></figure>

<h2 id="ip-subnet-min-ip-prefix-â†’-ip-address"><a href="#ip-subnet-min-ip-prefix-â†’-ip-address" class="headerlink" title="ip_subnet_min(ip_prefix)Â â†’Â ip_address"></a>ip_subnet_min(<em>ip_prefix</em>)Â â†’Â ip_address</h2><p>è¿”å›å­ç½‘ç½‘æ®µ <code>ip_prefix</code> æŒ‡å®šçš„æœ€å° IP åœ°å€ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ip_subnet_min(IPPREFIX <span class="string">&#x27;192.168.255.255/9&#x27;</span>);</span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º 192.128.0.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ip_subnet_min(IPPREFIX <span class="string">&#x27;2001:0db8:85a3:0001:0001:8a2e:0370:7334/48&#x27;</span>);</span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º 2001:db8:85a3::</span></span><br></pre></td></tr></table></figure>

<h2 id="ip-subnet-max-ip-prefix-â†’-ip-address"><a href="#ip-subnet-max-ip-prefix-â†’-ip-address" class="headerlink" title="ip_subnet_max(ip_prefix)Â â†’Â ip_address"></a>ip_subnet_max(<em>ip_prefix</em>)Â â†’Â ip_address</h2><p>è¿”å›å­ç½‘ç½‘æ®µ <code>ip_prefix</code> æŒ‡å®šçš„æœ€å¤§ IP åœ°å€ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ip_subnet_max(IPPREFIX <span class="string">&#x27;192.64.0.0/9&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º 192.127.255.255</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ip_subnet_max(IPPREFIX <span class="string">&#x27;2001:0db8:85a3:0001:0001:8a2e:0370:7334/48&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º 2001:db8:85a3:ffff:ffff:ffff:ffff:ffff</span></span><br></pre></td></tr></table></figure>

<h2 id="ip-subnet-range-ip-prefix"><a href="#ip-subnet-range-ip-prefix" class="headerlink" title="ip_subnet_range(ip_prefix)"></a>ip_subnet_range(<em>ip_prefix</em>)</h2><p>è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ª IP åœ°å€çš„æ•°ç»„ã€‚è¯¥æ•°ç»„åˆ†åˆ«åŒ…å«å­ç½‘ç½‘æ®µ <code>ip_prefix</code> æŒ‡å®šçš„æœ€å° IP åœ°å€å’Œæœ€å¤§ IP åœ°å€ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ip_subnet_range(IPPREFIX <span class="string">&#x27;1.2.3.160/24&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º [&#x27;1.2.3.0&#x27;,&#x27;1.2.3.255&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> ip_subnet_range(IPPREFIX <span class="string">&#x27;64:ff9b::52f4/120&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º [&#x27;64:ff9b::5200&#x27;,&#x27;64:ff9b::52ff&#x27;]</span></span><br></pre></td></tr></table></figure>

<h2 id="is-subnet-of-ip-prefix-ip-address-â†’-boolean"><a href="#is-subnet-of-ip-prefix-ip-address-â†’-boolean" class="headerlink" title="is_subnet_of(ip_prefix,Â ip_address)Â â†’Â boolean"></a>is_subnet_of(<em>ip_prefix</em>,Â <em>ip_address</em>)Â â†’Â boolean</h2><p>å¦‚æœ <code>ip_address</code> æ˜¯ <code>ip_prefix</code> æŒ‡å®šå­ç½‘ç½‘æ®µå†…çš„åœ°å€ï¼Œåˆ™è¿”å› <code>true</code>ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> is_subnet_of(IPPREFIX <span class="string">&#x27;1.2.3.128/26&#x27;</span>, IPADDRESS <span class="string">&#x27;1.2.3.129&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> is_subnet_of(IPPREFIX <span class="string">&#x27;64:fa9b::17/64&#x27;</span>, IPADDRESS <span class="string">&#x27;64:ffff::17&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º false</span></span><br></pre></td></tr></table></figure>

<h2 id="is-subnet-of-ip-prefix1-ip-prefix2-â†’-boolean"><a href="#is-subnet-of-ip-prefix1-ip-prefix2-â†’-boolean" class="headerlink" title="is_subnet_of(ip_prefix1,Â ip_prefix2)Â â†’Â boolean"></a>is_subnet_of(<em>ip_prefix1</em>,Â <em>ip_prefix2</em>)Â â†’Â boolean</h2><p>å¦‚æœ <code>ip_prefix2</code> æ˜¯ <code>ip_prefix1</code> çš„å­ç½‘ç½‘æ®µï¼Œåˆ™è¿”å› <code>true</code>ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> is_subnet_of(IPPREFIX <span class="string">&#x27;192.168.3.131/26&#x27;</span>, IPPREFIX <span class="string">&#x27;192.168.3.144/30&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> is_subnet_of(IPPREFIX <span class="string">&#x27;64:ff9b::17/64&#x27;</span>, IPPREFIX <span class="string">&#x27;64:ffff::17/64&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> is_subnet_of(IPPREFIX <span class="string">&#x27;192.168.3.131/26&#x27;</span>, IPPREFIX <span class="string">&#x27;192.168.3.131/26&#x27;</span>); </span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º true</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | Lambda è¡¨è¾¾å¼</title>
    <url>/2023/05/08/presto-lambda-expressions/</url>
    <content><![CDATA[<p>Lambda è¡¨è¾¾å¼ä½¿ç”¨ <code>-&gt;</code> æ¥è¡¨ç¤ºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> x <span class="operator">+</span> <span class="number">1</span></span><br><span class="line">(x, y) <span class="operator">-</span><span class="operator">&gt;</span> x <span class="operator">+</span> y</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> regexp_like(x, <span class="string">&#x27;a+&#x27;</span>)</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> x[<span class="number">1</span>] <span class="operator">/</span> x[<span class="number">2</span>]</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> IF(x <span class="operator">&gt;</span> <span class="number">0</span>, x, <span class="operator">-</span>x)</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> <span class="built_in">COALESCE</span>(x, <span class="number">0</span>)</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> <span class="built_in">CAST</span>(x <span class="keyword">AS</span> JSON)</span><br><span class="line">x <span class="operator">-</span><span class="operator">&gt;</span> x <span class="operator">+</span> TRY(<span class="number">1</span> <span class="operator">/</span> <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>å¤§å¤šæ•° SQL è¡¨è¾¾å¼éƒ½å¯ä»¥åœ¨ Lambda ä¸»ä½“ä¸­ä½¿ç”¨ï¼Œä½†æœ‰å‡ ä¸ªä¾‹å¤–ï¼š</p>
<ul>
<li>ä¸æ”¯æŒå­æŸ¥è¯¢ã€‚å¦‚ <code>x -&gt; 2 + (SELECT 3)</code></li>
<li>ä¸æ”¯æŒèšåˆã€‚å¦‚ <code>x -&gt; max(y)</code></li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†ä½¿ç”¨ <code>split_to_map()</code> å‡½æ•°å¯¹å­—ç¬¦ä¸²è¿›è¡Œå±‚å±‚åˆ†å‰²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ˜ å°„ï¼ˆMapï¼‰ã€‚</p>
<p>é¦–å…ˆï¼Œå°†å­—ç¬¦ä¸²æŒ‰Â <code>;</code>Â åˆ’åˆ†ä¸ºå¤šä¸ªé”®å€¼å¯¹ã€‚</p>
<p>å…¶æ¬¡ï¼Œè¿›ä¸€æ­¥å°†æ¯å¯¹é”®å€¼å¯¹æŒ‰ <code>:</code> åˆ’åˆ†ä¸ºé”®å’Œå¯¹åº”çš„å€¼ã€‚</p>
<p>å¦‚æœå­˜åœ¨é”®é‡å¤çš„æƒ…å†µï¼Œåˆ™è°ƒç”¨ Lambda è¡¨è¾¾å¼ <code>(k, v1, v2) -&gt; concat(v1, v2)</code> æ¥ç¡®å®šæ˜ å°„ä¸­çš„å€¼ï¼Œè¿™é‡Œæ˜¯å°†é‡å¤é”®çš„å€¼æ‹¼æ¥èµ·æ¥ä½œä¸ºä¸€ä¸ªå€¼ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;a:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, (k, v1, v2) <span class="operator">-</span><span class="operator">&gt;</span> concat(v1, v2))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º &#123;&quot;a&quot;: &quot;13&quot;, &quot;b&quot;: &quot;2&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Hiveè¡¨é‡å‘½å</title>
    <url>/2022/10/30/hive-rename-table/</url>
    <content><![CDATA[<p>è¡¨æ›´å SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> æ—§è¡¨å rename <span class="keyword">to</span> æ–°è¡¨å;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥å‘½ä»¤ä¹‹åï¼Œè¡¨æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼ˆLOCATIONï¼‰ä¼šç§»åŠ¨åˆ°æ–°çš„è·¯å¾„ä¸‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå°†è¡¨ <em>test.dws_staff_kpi_day</em> é‡å‘½åä¸º <em>test.dws_staff_kpi_month</em>ã€‚</p>
<p>åœ¨æ›´åå‰ï¼ŒæŸ¥çœ‹è¡¨ <em>test.dws_staff_kpi_day</em> æ‰€åœ¨çš„ä½ç½®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> test.dws_staff_kpi_day;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°è¡¨æ•°æ®ä½äº <em>hdfs://hdp-cluster/apps/hive/warehouse/test.db/dws_staff_kpi_day</em> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test.dws_staff_kpi_day`(</span><br><span class="line">  `user_id` <span class="type">int</span> COMMENT <span class="string">&#x27;ç”¨æˆ·ID&#x27;</span>, </span><br><span class="line">  `phone` string COMMENT <span class="string">&#x27;æ‰‹æœºå·ç &#x27;</span>, </span><br><span class="line">  ...)</span><br><span class="line">COMMENT <span class="string">&#x27;ç”¨æˆ·æ ¸å¿ƒæŒ‡æ ‡æ¨¡å‹&#x27;</span></span><br><span class="line">PARTITIONED <span class="keyword">BY</span> ( </span><br><span class="line">  `dt` string COMMENT <span class="string">&#x27;æ—¥æœŸ,æ ¼å¼yyyyMMdd&#x27;</span>)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe&#x27;</span> </span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat&#x27;</span> </span><br><span class="line">OUTPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat&#x27;</span></span><br><span class="line">LOCATION</span><br><span class="line">  <span class="string">&#x27;hdfs://hdp-cluster/apps/hive/warehouse/test.db/dws_staff_kpi_day&#x27;</span></span><br><span class="line">TBLPROPERTIES (</span><br><span class="line">  <span class="string">&#x27;last_modified_by&#x27;</span><span class="operator">=</span><span class="string">&#x27;hadoop&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;last_modified_time&#x27;</span><span class="operator">=</span><span class="string">&#x27;1667206490&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;parquet.compression&#x27;</span><span class="operator">=</span><span class="string">&#x27;SNAPPY&#x27;</span>, </span><br><span class="line">  <span class="string">&#x27;transient_lastDdlTime&#x27;</span><span class="operator">=</span><span class="string">&#x27;1667206490&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œå°†è¡¨ <em>test.dws_staff_kpi_day</em> é‡å‘½åä¸º <em>test.dws_staff_kpi_month</em>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test.dws_staff_kpi_day rename <span class="keyword">to</span> test.dws_staff_kpi_month;</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹é‡å‘½ååçš„è¡¨ test.dws_staff_kpi_month çš„æ•°æ®ä½ç½®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> test.dws_staff_kpi_month;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼Œè¡¨æ•°æ®ç›®å½•æ›´æ–°ä¸º <em>hdfs://hdp-cluster/apps/hive/warehouse/test.db/dws_staff_kpi_month</em>ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test.dws_staff_kpi_day`(</span><br><span class="line">  `user_id` <span class="type">int</span> COMMENT <span class="string">&#x27;ç”¨æˆ·ID&#x27;</span>, </span><br><span class="line">  `phone` string COMMENT <span class="string">&#x27;æ‰‹æœºå·ç &#x27;</span>, </span><br><span class="line">  ...)</span><br><span class="line">COMMENT <span class="string">&#x27;ç”¨æˆ·æ ¸å¿ƒæŒ‡æ ‡æ¨¡å‹&#x27;</span></span><br><span class="line">PARTITIONED <span class="keyword">BY</span> ( </span><br><span class="line">  `dt` string COMMENT <span class="string">&#x27;æ—¥æœŸ,æ ¼å¼yyyyMMdd&#x27;</span>)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe&#x27;</span> </span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat&#x27;</span> </span><br><span class="line">OUTPUTFORMAT </span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat&#x27;</span></span><br><span class="line">LOCATION</span><br><span class="line">  <span class="string">&#x27;hdfs://hdp-cluster/apps/hive/warehouse/test.db/dws_staff_kpi_month&#x27;</span></span><br><span class="line">TBLPROPERTIES (</span><br><span class="line">  ......)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | JSON å‡½æ•°</title>
    <url>/2023/05/27/presto-json-functions/</url>
    <content><![CDATA[<h2 id="is-json-scalar-json-â†’-boolean"><a href="#is-json-scalar-json-â†’-boolean" class="headerlink" title="is_json_scalar(json)Â â†’Â boolean"></a>is_json_scalar(<em>json</em>)Â â†’Â boolean</h2><p>åˆ¤æ–­Â <code>json</code>Â æ˜¯å¦ä¸ºæ ‡é‡ï¼ˆå³ JSON æ•°å­—ã€JSON å­—ç¬¦ä¸²ã€<code>true</code>ã€<code>false</code> æˆ–Â <code>null</code>ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> is_json_scalar(JSON <span class="string">&#x27;&quot;aaa&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> is_json_scalar(JSON <span class="string">&#x27;&#123;&quot;x&quot;: 1, &quot;y&quot;: 2&#125;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">false</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-array-contains-json-value-â†’-boolean"><a href="#json-array-contains-json-value-â†’-boolean" class="headerlink" title="json_array_contains(json,Â value)Â â†’Â boolean"></a>json_array_contains(<em>json</em>,Â <em>value</em>)Â â†’Â boolean</h2><p>åˆ¤æ–­Â <code>value</code>Â æ˜¯å¦å­˜åœ¨äºÂ <code>json</code>ï¼ˆä¸€ä¸ªåŒ…å« JSON æ•°ç»„çš„å­—ç¬¦ä¸²ï¼‰ä¸­ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<p>åˆ¤æ–­æ•´æ•° 1 æ˜¯å¦åŒ…å«åœ¨ JSON æ•´æ•°æ•°ç»„ [1, 2, 3] ä¸­ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_contains(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<p>åˆ¤æ–­å­—ç¬¦ä¸² 1 æ˜¯å¦åŒ…å«åœ¨ JSON æ•´æ•°æ•°ç»„ [1, 2, 3] ä¸­ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_contains(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">false</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-array-get-json-array-index-â†’-json"><a href="#json-array-get-json-array-index-â†’-json" class="headerlink" title="json_array_get(json_array,Â index)Â â†’Â json"></a>json_array_get(<em>json_array</em>,Â <em>index</em>)Â â†’Â json</h2><p>è¿”å›Â <code>json_array</code>Â ä¸­æŒ‡å®šä¸‹æ ‡çš„å…ƒç´ ã€‚ä¸‹æ ‡ä» 0 å¼€å§‹ã€‚</p>
<blockquote>
<p><strong>è­¦å‘Šï¼š</strong>è¿™ä¸ªå‡½æ•°çš„è¯­ä¹‰æ˜¯é”™è¯¯çš„ã€‚å¦‚æœæå–çš„å…ƒç´ æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒä¼šè¢«è½¬æ¢æˆä¸€ä¸ªæ— æ•ˆçš„ JSON å€¼ï¼Œè¯¥å€¼æ²¡æœ‰æ­£ç¡®åœ°åŠ ä¸Šå¼•å·ï¼ˆè¯¥å€¼ä¸ä¼šè¢«å¼•å·åŒ…å›´ï¼Œä»»ä½•å†…éƒ¨çš„å¼•å·ä¹Ÿä¸ä¼šè¢«è½¬ä¹‰ï¼‰ã€‚<br>æˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨è¿™ä¸ªå‡½æ•°ã€‚å®ƒæ— æ³•åœ¨ä¸å½±å“ç°æœ‰ç”¨æ³•çš„æƒ…å†µä¸‹ä¿®å¤ï¼Œå¹¶ä¸”åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šè¢«åˆ é™¤ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ 1</p>
<p>è¿”å› JSON æ•°ç»„ [â€œaâ€, [3, 9, â€œDâ€] ä¸‹æ ‡ä¸º 0  çš„å…ƒç´ ã€‚ç”±äºä¸‹æ ‡ä¸º 0 çš„å…ƒç´ æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šè¢«è½¬æ¢æˆä¸€ä¸ªæ— æ•ˆçš„ JSON å€¼ï¼Œå³è¯¥å€¼æ²¡æœ‰è¢«å¼•å·åŒ…å›´ï¼ˆæ­£ç¡®çš„ç»“æœåº”è¯¥æ˜¯åŒ…å«å¼•å·çš„ <code>&quot;a&quot;</code>ï¼‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[&quot;a&quot;, [3, 9, &quot;D&quot;], &quot;c&quot;]&#x27;</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> a</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸ºæ›´å¥½åœ°è¯´æ˜è¯¥å‡½æ•°å­˜åœ¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†æå–å‡ºæ¥çš„ç»“æœï¼ˆJSON å­—ç¬¦ä¸²ç±»å‹ï¼‰è½¬æ¢ä¸º <code>VARCHAR</code>ï¼Œæ­¤æ—¶ä¼šæŠ¥ Cannot cast â€˜aâ€™ to varchar çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(json_array_get(<span class="string">&#x27;[&quot;a&quot;, [3, 9, &quot;D&quot;], &quot;c&quot;]&#x27;</span>, <span class="number">0</span>) <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">failed: Cannot cast <span class="string">&#x27;a&#x27;</span> <span class="keyword">to</span> <span class="type">varchar</span></span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®çš„ JSON å­—ç¬¦ä¸²ç±»å‹ï¼ˆæœ‰è¢«å¼•å·åŒ…å›´ï¼‰è½¬ä¸º <code>VARCHAR</code> å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&quot;a&quot;&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> a</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<p>è¿”å› JSON æ•°ç»„ [â€œaâ€, [3, 9, â€œDâ€] ä¸‹æ ‡ä¸º 1  çš„å…ƒç´ ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[&quot;a&quot;, [3, 9, &quot;D&quot;], &quot;c&quot;]&#x27;</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">   _col0</span><br><span class="line"><span class="comment">-----------</span></span><br><span class="line"> [<span class="number">3</span>,<span class="number">9</span>,&quot;D&quot;]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3</p>
<p>è¯¥å‡½æ•°ä¹Ÿæ”¯æŒè´Ÿæ•°ç´¢å¼•ï¼Œä»¥è·å–ä»æ•°ç»„çš„æœ«å°¾ç´¢å¼•å…ƒç´ ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[&quot;a&quot;, [3, 9, &quot;D&quot;], &quot;c&quot;]&#x27;</span>, <span class="number">-1</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> c</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 4</p>
<p>å¦‚æœæŒ‡å®šç´¢å¼•çš„å…ƒç´ ä¸å­˜åœ¨ï¼Œè¯¥å‡½æ•°è¿”å› nullã€‚å¦‚ä»¥ä¸‹æŸ¥è¯¢ SQL è¯­å¥å‡è¿”å› nullï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[]&#x27;</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]&#x27;</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">SELECT</span> json_array_get(<span class="string">&#x27;[&quot;c&quot;, &quot;b&quot;, &quot;a&quot;]&#x27;</span>, <span class="number">-10</span>);</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">NULL</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-array-length-json-â†’-bigint"><a href="#json-array-length-json-â†’-bigint" class="headerlink" title="json_array_length(json)Â â†’Â bigint"></a>json_array_length(<em>json</em>)Â â†’Â bigint</h2><p>è¿”å› <code>json</code>ï¼ˆä¸€ä¸ªåŒ…å« JSON æ•°ç»„çš„å­—ç¬¦ä¸²ï¼‰çš„æ•°ç»„é•¿åº¦ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_array_length(<span class="string">&#x27;[1, 2, 3]&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line">     <span class="number">3</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-extract-json-json-path-â†’-json"><a href="#json-extract-json-json-path-â†’-json" class="headerlink" title="json_extract(json,Â json_path)Â â†’Â json"></a>json_extract(<em>json</em>,Â <em>json_path</em>)Â â†’Â json</h2><p>åœ¨Â <code>json</code>ï¼ˆä¸€ä¸ªåŒ…å« JSON çš„å­—ç¬¦ä¸²ï¼‰ä¸Šè®¡ç®—ç±»ä¼¼Â <a href="http://goessner.net/articles/JsonPath/">JSONPath</a>Â çš„è¡¨è¾¾å¼Â <code>json_path</code>ï¼Œå¹¶å°†ç»“æœä½œä¸º JSON è¿”å›ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_extract(<span class="string">&#x27;&#123;&quot;agent&quot;:&#123;&quot;version&quot;:&quot;8.6.2&quot;,&quot;name&quot;:&quot;Bai5iewe-103&quot;&#125;,&quot;log&quot;:&#123;&quot;file&quot;:&#123;&quot;path&quot;:&quot;/etc/nginx/logs/access.log&quot;&#125;,&quot;offset&quot;:19991212&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.log.file.path&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">            _col0</span><br><span class="line"><span class="comment">------------------------------</span></span><br><span class="line"> &quot;/etc/nginx/logs/access.log&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_extract(<span class="string">&#x27;&#123;&quot;agent&quot;:&#123;&quot;version&quot;:&quot;8.6.2&quot;,&quot;name&quot;:&quot;Bai5iewe-103&quot;&#125;,&quot;log&quot;:&#123;&quot;file&quot;:&#123;&quot;path&quot;:&quot;/etc/nginx/logs/access.log&quot;&#125;,&quot;offset&quot;:19991212&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.log.file&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">                 _col0</span><br><span class="line"><span class="comment">---------------------------------------</span></span><br><span class="line"> &#123;&quot;path&quot;:&quot;/etc/nginx/logs/access.log&quot;&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-extract-scalar-json-json-path-â†’-varchar"><a href="#json-extract-scalar-json-json-path-â†’-varchar" class="headerlink" title="json_extract_scalar(json,Â json_path)Â â†’Â varchar"></a>json_extract_scalar(<em>json</em>,Â <em>json_path</em>)Â â†’Â varchar</h2><p>ä¸Â <strong><code>json_extract()</code></strong>Â ç±»ä¼¼ï¼Œä½†å°†ç»“æœå€¼ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ï¼ˆè€Œä¸æ˜¯ç¼–ç ä¸º JSONï¼‰ã€‚<code>json_path</code> æ‰€å¼•ç”¨çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ ‡é‡ï¼ˆå¸ƒå°”å€¼ã€æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<p><code>json_path</code> æ‰€å¼•ç”¨çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_extract_scalar(<span class="string">&#x27;&#123;&quot;agent&quot;:&#123;&quot;version&quot;:&quot;8.6.2&quot;,&quot;name&quot;:&quot;Bai5iewe-103&quot;&#125;,&quot;log&quot;:&#123;&quot;file&quot;:&#123;&quot;path&quot;:&quot;/etc/nginx/logs/access.log</span></span><br><span class="line"><span class="string">&quot;&#125;,&quot;offset&quot;:19991212&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.log.file.path&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">           _col0</span><br><span class="line"><span class="comment">----------------------------</span></span><br><span class="line"> <span class="operator">/</span>etc<span class="operator">/</span>nginx<span class="operator">/</span>logs<span class="operator">/</span>access.<span class="built_in">log</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<p>å½“ <code>json_path</code> æ‰€å¼•ç”¨çš„å€¼æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œè¿”å›ç»“æœä¸º NULLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_extract_scalar(<span class="string">&#x27;&#123;&quot;agent&quot;:&#123;&quot;version&quot;:&quot;8.6.2&quot;,&quot;name&quot;:&quot;Bai5iewe-103&quot;&#125;,&quot;log&quot;:&#123;&quot;file&quot;:&#123;&quot;path&quot;:&quot;/etc/nginx/logs/access.log&quot;&#125;,&quot;offset&quot;:19991212&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.log.file&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">NULL</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-format-json-â†’-varchar"><a href="#json-format-json-â†’-varchar" class="headerlink" title="json_format(json)Â â†’Â varchar"></a>json_format(<em>json</em>)Â â†’Â varchar</h2><p>è¿”å›ä»è¾“å…¥çš„ JSON å€¼åºåˆ—åŒ–çš„ JSON æ–‡æœ¬ã€‚è¿™æ˜¯Â <strong><code>json_parse()</code></strong>Â çš„é€†å‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  _col0</span><br><span class="line"><span class="comment">---------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;&quot;a&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;a&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š**<code>json_format()</code>**Â å’ŒÂ <code>CAST(json AS VARCHAR)</code>Â æœ‰å®Œå…¨ä¸åŒçš„è¯­ä¹‰ã€‚</p>
<p><strong><code>json_format()</code></strong>Â å°†è¾“å…¥çš„ JSON å€¼åºåˆ—åŒ–ä¸ºç¬¦åˆÂ <strong><a href="https://datatracker.ietf.org/doc/html/rfc7159.html">RFC 7159</a></strong>Â æ ‡å‡†çš„ JSON æ–‡æœ¬ã€‚JSON å€¼å¯ä»¥æ˜¯ JSON å¯¹è±¡ã€JSON æ•°ç»„ã€JSON å­—ç¬¦ä¸²ã€JSON æ•°å­—ã€<code>true</code>ã€<code>false</code> æˆ–Â <code>null</code>ã€‚</p>
<p>åºåˆ—åŒ– JSON å¯¹è±¡ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">     _col0</span><br><span class="line"><span class="comment">---------------</span></span><br><span class="line"> &#123;&quot;a&quot;:<span class="number">1</span>,&quot;b&quot;:<span class="number">2</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>åºåˆ—åŒ– JSON æ•°ç»„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  _col0</span><br><span class="line"><span class="comment">---------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>åºåˆ—åŒ– JSON å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;&quot;abc&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;abc&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>åºåˆ—åŒ– JSON æ•°å­—ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;42&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">42</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>åºåˆ—åŒ–å¸ƒå°”å€¼ <code>true</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;true&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>åºåˆ—åŒ–Â <code>null</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_format(JSON <span class="string">&#x27;null&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">null</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>è€Œ <code>CAST(json AS VARCHAR)</code>Â å°† JSON å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼ã€‚å¯¹äº JSON å­—ç¬¦ä¸²ã€JSON æ•°å­—ã€<code>true</code>ã€<code>false</code> æˆ–Â <code>null</code>ï¼Œè½¬æ¢è¡Œä¸ºä¸ç›¸åº”çš„ SQL ç±»å‹ç›¸åŒã€‚JSON å¯¹è±¡å’Œ JSON æ•°ç»„ä¸èƒ½è½¬æ¢ä¸º <code>VARCHAR</code>ã€‚</p>
<p>å°† JSON å¯¹è±¡è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Query failed: Cannot cast <span class="string">&#x27;&#123;&quot;a&quot;:1,&quot;b&quot;:2&#125;&#x27;</span> <span class="keyword">to</span> <span class="type">varchar</span></span><br></pre></td></tr></table></figure>

<p>å°† JSON æ•°ç»„è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Query failed: Cannot cast <span class="string">&#x27;[1,2,3]&#x27;</span> <span class="keyword">to</span> <span class="type">varchar</span></span><br></pre></td></tr></table></figure>

<p>å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„ SQL <code>VARCHAR</code> å€¼ï¼Œæ³¨æ„ï¼Œè¿”å›ç»“æœä¸­çš„ abc æ²¡æœ‰å¸¦åŒå¼•å·ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&quot;abc&quot;&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> abc</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>å°† JSON æ•°å­—è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;42&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">42</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>å°† JSON å¸ƒå°”å€¼ true è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;true&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>å°† JSON null å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ SQL VARCHAR å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;null&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">NULL</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-parse-string-â†’-json"><a href="#json-parse-string-â†’-json" class="headerlink" title="json_parse(string)Â â†’Â json"></a>json_parse(<em>string</em>)Â â†’Â json</h2><p>è¿”å›ä»è¾“å…¥çš„ JSON æ–‡æœ¬ååºåˆ—åŒ–çš„ JSON å€¼ã€‚è¿™æ˜¯Â <strong><code>json_format()</code></strong>Â çš„é€†å‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;[1, 2, 3]&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  _col0</span><br><span class="line"><span class="comment">---------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;&quot;abc&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;abc&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š**<code>json_parse()</code>**Â å’ŒÂ <code>CAST(string AS json)</code>Â æœ‰å®Œå…¨ä¸åŒçš„è¯­ä¹‰ã€‚</p>
<p><strong><code>json_parse()</code></strong>Â å°†ç¬¦åˆÂ <strong><a href="https://datatracker.ietf.org/doc/html/rfc7159.html">RFC 7159</a></strong>Â æ ‡å‡†çš„ JSON æ–‡æœ¬ååºåˆ—åŒ–ä¸º JSON å€¼ã€‚JSON å€¼å¯ä»¥æ˜¯ JSON å¯¹è±¡ã€JSON æ•°ç»„ã€JSON å­—ç¬¦ä¸²ã€JSON æ•°å­—ã€<code>true</code>ã€<code>false</code> æˆ–Â <code>null</code>ã€‚</p>
<p>ç¤ºä¾‹ 3</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;not_json&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Query failed: Cannot <span class="keyword">convert</span> <span class="string">&#x27;not_json&#x27;</span> <span class="keyword">to</span> JSON</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 4</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">     _col0</span><br><span class="line"><span class="comment">---------------</span></span><br><span class="line"> &#123;&quot;a&quot;:<span class="number">1</span>,&quot;b&quot;:<span class="number">2</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 5</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;[1, 2, 3]&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  _col0</span><br><span class="line"><span class="comment">---------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 6</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;&quot;abc&quot;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;abc&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 7</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;42&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">42</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 8</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;true&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 9</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_parse(<span class="string">&#x27;null&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">null</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>è€Œ <code>CAST(string AS JSON)</code>Â å‡½æ•°å°†ä»»ä½• <code>VARCHAR</code> ç±»å‹çš„è¾“å…¥å€¼è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²æ ¼å¼ã€‚</p>
<p>ç¤ºä¾‹ 10</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;not_json&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">   _col0</span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"> &quot;not_json&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 11</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">         _col0</span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line"> &quot;&#123;\&quot;a\&quot;: 1, \&quot;b\&quot;: 2&#125;&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 12</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;[1, 2, 3]&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">    _col0</span><br><span class="line"><span class="comment">-------------</span></span><br><span class="line"> &quot;[1, 2, 3]&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 13</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;&quot;abc&quot;&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">   _col0</span><br><span class="line"><span class="comment">-----------</span></span><br><span class="line"> &quot;\&quot;abc\&quot;&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 14</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;42&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;42&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 15</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;true&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">--------</span></span><br><span class="line"> &quot;true&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 16</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;null&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">--------</span></span><br><span class="line"> &quot;null&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<h2 id="json-size-json-json-path-â†’-bigint"><a href="#json-size-json-json-path-â†’-bigint" class="headerlink" title="json_size(json,Â json_path)Â â†’Â bigint"></a>json_size(<em>json</em>,Â <em>json_path</em>)Â â†’Â bigint</h2><p>ä¸Â <strong><code>json_extract()</code></strong>Â ç±»ä¼¼ï¼Œä½†è¿”å›å€¼çš„å¤§å°ã€‚å¯¹äºå¯¹è±¡æˆ–æ•°ç»„ï¼Œå¤§å°æ˜¯æˆå‘˜çš„æ•°é‡ï¼Œæ ‡é‡å€¼çš„å¤§å°æ˜¯é›¶ã€‚</p>
<p>ç¤ºä¾‹ 1</p>
<p>è¿”å›å¯¹è±¡çš„æˆå‘˜æ•°é‡ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_size(<span class="string">&#x27;&#123;&quot;x&quot;: &#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.x&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line">     <span class="number">2</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2</p>
<p>è¿”å›æ•°ç»„çš„æˆå‘˜æ•°é‡ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_size(<span class="string">&#x27;&#123;&quot;x&quot;: [1, 2, 3]&#125;&#x27;</span>, <span class="string">&#x27;$.x&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line">     <span class="number">3</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3</p>
<p>è¿”å›æ ‡é‡çš„æˆå‘˜æ•°é‡ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> json_size(<span class="string">&#x27;&#123;&quot;x&quot;: &#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.x.a&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line">     <span class="number">0</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | URL ç›¸å…³å‡½æ•°</title>
    <url>/2023/05/02/presto-url-functions/</url>
    <content><![CDATA[<h2 id="æå–ç›¸å…³å‡½æ•°"><a href="#æå–ç›¸å…³å‡½æ•°" class="headerlink" title="æå–ç›¸å…³å‡½æ•°"></a>æå–ç›¸å…³å‡½æ•°</h2><p>URL æå–åŠŸèƒ½å¯ä»¥ä» HTTP URLsï¼ˆæˆ–ä»»ä½•ç¬¦åˆ RFC 2396 çš„æœ‰æ•ˆ URIï¼‰ä¸­æå–å„ç»„æˆéƒ¨åˆ†ã€‚æ”¯æŒä»¥ä¸‹è¯­æ³•:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[protocol:][//host[:port]][path][?query][#fragment]</span><br></pre></td></tr></table></figure>

<p>æ‰€æå–çš„ç»„æˆéƒ¨åˆ†ä¸åŒ…å« URI è¯­æ³•åˆ†éš”ç¬¦ï¼Œä¾‹å¦‚ï¼š<code>:</code> æˆ– <code>?</code> ã€‚</p>
<h3 id="url-extract-fragment-url-â†’-varchar"><a href="#url-extract-fragment-url-â†’-varchar" class="headerlink" title="url_extract_fragment(url)Â â†’Â varchar"></a>url_extract_fragment(<em>url</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨ä»¥è¿”å›Â <code>url</code>Â åœ°å€æ‰€åŒ…å«çš„ï¼Œç”¨ä»¥æŒ‡ç¤ºä¸åŒæ–‡æ¡£ç‰‡æ®µçš„ç‰‡æ®µæ ‡è¯†ç¬¦ã€‚</p>
<p>å³ä¸Šæ–‡æåˆ°çš„ <code>[#fragment]</code> ç»„æˆéƒ¨åˆ†ï¼ŒæŒ‡çš„æ˜¯ <code>#</code> å­—ç¬¦ä¹‹åçš„å†…å®¹ï¼Œä¸åŒ…å« <code>#</code> ç¬¦å·æœ¬èº«ã€‚</p>
<h3 id="url-extract-host-url-â†’-varchar"><a href="#url-extract-host-url-â†’-varchar" class="headerlink" title="url_extract_host(url)Â â†’Â varchar"></a>url_extract_host(<em>url</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨ä»¥è§£æÂ <code>url</code>Â ä¸­åŒ…å«çš„åœ°å€ï¼Œå¹¶è¿”å›å…¶ä¸»æœºåéƒ¨åˆ†ã€‚</p>
<h3 id="url-extract-parameter-url-name-â†’-varchar"><a href="#url-extract-parameter-url-name-â†’-varchar" class="headerlink" title="url_extract_parameter(url,Â name)Â â†’Â varchar"></a>url_extract_parameter(<em>url</em>,Â <em>name</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨ä»¥è§£æÂ <code>url</code>Â ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªåä¸ºÂ <code>name</code>Â çš„å‚æ•°çš„å€¼ã€‚å‚æ•°æå–éµå¾ª RFC 1866 ä¸­è§„å®šçš„æ–¹å¼ã€‚</p>
<h3 id="url-extract-path-url-â†’-varchar"><a href="#url-extract-path-url-â†’-varchar" class="headerlink" title="url_extract_path(url)Â â†’Â varchar"></a>url_extract_path(<em>url</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨äºè§£æÂ <code>url</code>Â ä¸­åŒ…å«çš„åœ°å€ï¼Œå¹¶è¿”å›å…¶è·¯å¾„éƒ¨åˆ†ã€‚</p>
<h3 id="url-extract-port-url-â†’-bigint"><a href="#url-extract-port-url-â†’-bigint" class="headerlink" title="url_extract_port(url)Â â†’Â bigint"></a>url_extract_port(<em>url</em>)Â â†’Â bigint</h3><p>è¯¥å‡½æ•°ç”¨äºè§£æÂ <code>url</code>Â ä¸­åŒ…å«çš„åœ°å€ï¼Œå¹¶è¿”å›å…¶ç«¯å£å·éƒ¨åˆ†ã€‚</p>
<h3 id="url-extract-protocol-url-â†’-varchar"><a href="#url-extract-protocol-url-â†’-varchar" class="headerlink" title="url_extract_protocol(url)Â â†’Â varchar"></a>url_extract_protocol(<em>url</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨äºè§£æÂ <code>url</code>Â ä¸­åŒ…å«çš„åœ°å€ï¼Œå¹¶è¿”å›å…¶æ‰€ä½¿ç”¨çš„åè®®ç±»å‹ã€‚</p>
<h3 id="url-extract-query-url-â†’-varchar"><a href="#url-extract-query-url-â†’-varchar" class="headerlink" title="url_extract_query(url)Â â†’Â varchar"></a>url_extract_query(<em>url</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ç”¨äºè§£æÂ <code>url</code>Â ä¸­åŒ…å«çš„åœ°å€ï¼Œå¹¶è¿”å›å…¶æŸ¥è¯¢å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚</p>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tmp_url <span class="keyword">as</span> (</span><br><span class="line">  <span class="keyword">select</span> <span class="string">&#x27;https://linjiangxiong.com:8080/zh-cn/dotnet/api/system.string.split?view=net-6.0#remarks&#x27;</span> <span class="keyword">as</span> url</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">  url_extract_protocol(url) <span class="keyword">as</span> protocol, </span><br><span class="line">  url_extract_host(url) <span class="keyword">as</span> host,</span><br><span class="line">  url_extract_port(url) <span class="keyword">as</span> port,</span><br><span class="line">  url_extract_path(url) <span class="keyword">as</span> path,</span><br><span class="line">  url_extract_query(url) <span class="keyword">as</span> query, </span><br><span class="line">  url_extract_parameter(url, <span class="string">&#x27;view&#x27;</span>) <span class="keyword">as</span> <span class="keyword">parameter</span>,</span><br><span class="line">  url_extract_fragment(url) <span class="keyword">as</span> fragment</span><br><span class="line"><span class="keyword">from</span> tmp_url</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>protocol</th>
<th>host</th>
<th>port</th>
<th>path</th>
<th>query</th>
<th>parameter</th>
<th>fragment</th>
</tr>
</thead>
<tbody><tr>
<td>https</td>
<td>linjiangxiong.com</td>
<td>8080</td>
<td>/zh-cn/dotnet/api/system.string.split</td>
<td>view=net-6.0</td>
<td>net-6.0</td>
<td>remarks</td>
</tr>
</tbody></table>
<h2 id="ç¼–ç ç›¸å…³å‡½æ•°"><a href="#ç¼–ç ç›¸å…³å‡½æ•°" class="headerlink" title="ç¼–ç ç›¸å…³å‡½æ•°"></a>ç¼–ç ç›¸å…³å‡½æ•°</h2><h3 id="url-encode-value-â†’-varchar"><a href="#url-encode-value-â†’-varchar" class="headerlink" title="url_encode(value)Â â†’Â varchar"></a>url_encode(<em>value</em>)Â â†’Â varchar</h3><p>å¯¹ <code>value</code> è¿›è¡Œç¼–ç ï¼Œä»¥ä½¿å…¶å¯ä»¥å®‰å…¨åœ°åŒ…å«åœ¨ URL æŸ¥è¯¢å‚æ•°åç§°å’Œå€¼ä¸­ï¼š</p>
<ul>
<li>å­—æ¯ã€æ•°å­—å­—ç¬¦ä¸ä¼šè¢«ç¼–ç ï¼›</li>
<li><code>.</code>ã€<code>-</code>ã€<code>*</code>ã€å’Œ <code>_</code> è¿™äº›å­—ç¬¦ä¸ä¼šè¢«ç¼–ç ï¼›</li>
<li>ASCII ç©ºæ ¼å­—ç¬¦è¢«ç¼–ç ä¸º <code>+</code>ï¼›</li>
<li>æ‰€æœ‰å…¶ä»–å­—ç¬¦éƒ½è½¬æ¢ä¸º UTF-8ï¼Œå¹¶å°†å­—èŠ‚ç¼–ç ä¸ºå­—ç¬¦ä¸² <code>%XX</code>ï¼Œå…¶ä¸­ <code>XX</code> æ˜¯ UTF-8 å­—èŠ‚çš„å¤§å†™åå…­è¿›åˆ¶å€¼ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> url_encode(<span class="string">&#x27;a_1*B-C.D LEFTè¯­è¨€&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º a_1*B-C.D+LEFT%E8%AF%AD%E8%A8%80</span></span><br></pre></td></tr></table></figure>

<h3 id="url-decode-value-â†’-varchar"><a href="#url-decode-value-â†’-varchar" class="headerlink" title="url_decode(value)Â â†’Â varchar"></a>url_decode(<em>value</em>)Â â†’Â varchar</h3><p>å¯¹ URL ç¼–ç çš„Â <code>value</code>Â è¿›è¡Œè§£ç ã€‚è¯¥å‡½æ•°æ˜¯Â <strong><code>url_encode()</code></strong>Â å‡½æ•°çš„é€†è¿‡ç¨‹ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> url_decode(<span class="string">&#x27;a_1*B-C.D+LEFT%E8%AF%AD%E8%A8%80&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º a_1*B-C.D LEFTè¯­è¨€</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | TRY å‡½æ•°</title>
    <url>/2023/05/12/presto-try-functions/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>try(<em>expression</em>)</p>
<p>åœ¨è®¡ç®—è¡¨è¾¾å¼ <em>expression</em> æ—¶ï¼Œå¦‚æœå‘ç”ŸæŸäº›ç±»å‹çš„é”™è¯¯ï¼Œåˆ™è¿”å› <code>NULL</code> è€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><p><code>TRY</code> å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœåœ¨è®¡ç®—è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›ç©ºå€¼ <code>NULL</code>ã€‚è¿™åœ¨ä»¥ä¸‹ä¸¤ç§åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨:</p>
<ol>
<li>æŸ¥è¯¢ç»“æœä¸­å«æœ‰éæ³•æˆ–æ— æ•ˆæ•°æ®ï¼Œä½†ä½ å¸Œæœ›è¿”å›ç©ºå€¼è€Œä¸æ˜¯æŠ¥é”™ã€‚</li>
<li>ä¸ºè¡¨è¾¾å¼æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œåœ¨è®¡ç®—å¤±è´¥æ—¶è¿”å›è¿™ä¸ªé»˜è®¤å€¼ã€‚</li>
</ol>
<p>ä¸ºå®ç°ç¬¬äºŒä¸ªç›®çš„ï¼Œå¯ä»¥å°† <code>TRY</code> å‡½æ•°ä¸ <code>COALESCE</code> å‡½æ•°ç»“åˆä½¿ç”¨ã€‚<code>COALESCE</code> å‡½æ•°çš„ä½œç”¨æ˜¯è¿”å›ä¸€ç³»åˆ—å€¼ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºå€¼ã€‚æ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥ä¸º <code>TRY</code> å‡½æ•°æŒ‡å®šé»˜è®¤å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">COALESCE</span>(TRY(expr1), default_value)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>TRY</code> å‡½æ•°æˆåŠŸè®¡ç®— <code>expr1</code> å¹¶è¿”å›ä¸€ä¸ªå€¼ï¼ˆé <code>NULL</code>ï¼‰ï¼Œ<code>COALESCE</code> å‡½æ•°ä¼šè¿”å›è¯¥å€¼ã€‚ä½†å¦‚æœ<code>TRY</code> å‡½æ•°è¿”å›ç©ºå€¼ <code>NULL</code>ï¼Œ<code>COALESCE</code> å‡½æ•°å°±ä¼šè¿”å›æˆ‘ä»¬æŒ‡å®šçš„ <code>default_value</code> é»˜è®¤å€¼ã€‚</p>
<p><code>TRY</code> å‡½æ•°å¯ä»¥å¤„ç†ä»¥ä¸‹é”™è¯¯ï¼š</p>
<ul>
<li>é™¤æ•°ä¸º 0</li>
<li>æ— æ•ˆçš„ç±»å‹è½¬æ¢å‚æ•°æˆ–æ— æ•ˆçš„å‡½æ•°å‚æ•°</li>
<li>æ•°å€¼è¶…å‡ºèŒƒå›´</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TRY(<span class="number">5</span><span class="operator">/</span><span class="number">0</span>) <span class="comment">-- Returns NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COALESCE</span>(TRY(<span class="number">5</span><span class="operator">/</span><span class="number">0</span>), <span class="number">0</span>) <span class="comment">-- Returns 0</span></span><br></pre></td></tr></table></figure>

<p><code>TRY</code> å‡½æ•°ä¼šè®¡ç®—ç¬¬ä¸€ä¸ªå‚æ•°ä¸­çš„è¡¨è¾¾å¼ï¼Œå¦‚æœå‘ç”Ÿä¸Šè¿°æŸäº›é”™è¯¯ï¼Œåˆ™è¿”å› <code>NULL</code> è€Œä¸æ˜¯æŠ¥é”™å¤±è´¥ã€‚ä¸ <code>COALESCE</code> å‡½æ•°ç»“åˆä½¿ç”¨æ—¶ï¼Œ<code>TRY</code> å‡½æ•°å¯ä»¥æŒ‡å®šåœ¨å‘ç”Ÿé”™è¯¯æ—¶è¿”å›çš„é»˜è®¤å€¼ï¼Œè€Œä¸æ˜¯ç®€å•çš„ <code>NULL</code>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>TRY</code> å‡½æ•°å…è®¸åœ¨é”™è¯¯æˆ–æ— æ•ˆçš„æ•°æ®è¾“å…¥æƒ…å†µä¸‹ç»§ç»­æŸ¥è¯¢ï¼Œå¹¶è¿”å›é¢„å®šçš„å€¼æˆ– <code>NULL</code>ï¼Œè€Œä¸æ˜¯ä½¿æŸ¥è¯¢å¤±è´¥â€”â€”è¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æ˜¯æ›´å¯å–çš„æ–¹æ¡ˆã€‚ä½†æ˜¯ä½¿ç”¨ <code>TRY</code> å’Œ <code>COALESCE</code> å‡½æ•°å¹¶ä¸ä¼šä¿®æ­£æˆ–ç§»é™¤é—®é¢˜æ•°æ®ï¼Œåªæ˜¯ç®€å•çš„è§„é¿é”™è¯¯ç»§ç»­è¿è¡ŒæŸ¥è¯¢ã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>æºè¡¨ï¼ˆ<em>shipping</em>ï¼‰ä¸­åŒ…å«ä¸€äº›æ— æ•ˆæ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WITH</span> shipping <span class="keyword">AS</span> (</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="string">&#x27;California&#x27;</span> <span class="keyword">AS</span> origin_state,</span><br><span class="line">		<span class="string">&#x27;94131&#x27;</span> <span class="keyword">AS</span> origin_zip,</span><br><span class="line">		<span class="number">25</span> <span class="keyword">AS</span> packages,</span><br><span class="line">		<span class="number">100</span> <span class="keyword">AS</span> total_cost </span><br><span class="line">	<span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="string">&#x27;California&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;P332a&#x27;</span>,</span><br><span class="line">		<span class="number">5</span>,</span><br><span class="line">		<span class="number">72</span> </span><br><span class="line">	<span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="string">&#x27;California&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;94025&#x27;</span>,</span><br><span class="line">		<span class="number">0</span>,</span><br><span class="line">		<span class="number">155</span> </span><br><span class="line">	<span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="string">&#x27;New Jersey&#x27;</span>,</span><br><span class="line">		<span class="string">&#x27;08544&#x27;</span>,</span><br><span class="line">		<span class="number">225</span>,</span><br><span class="line">	  <span class="number">490</span> </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> shipping</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>origin_state</th>
<th>origin_zip</th>
<th>packages</th>
<th>total_cost</th>
</tr>
</thead>
<tbody><tr>
<td>New Jersey</td>
<td>8544</td>
<td>225</td>
<td>490</td>
</tr>
<tr>
<td>California</td>
<td>P332a</td>
<td>5</td>
<td>72</td>
</tr>
<tr>
<td>California</td>
<td>94025</td>
<td>0</td>
<td>155</td>
</tr>
<tr>
<td>California</td>
<td>94131</td>
<td>25</td>
<td>100</td>
</tr>
</tbody></table>
<p>åœ¨ä¸ä½¿ç”¨ <code>TRY</code> å‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢å¤±è´¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(origin_zip <span class="keyword">AS</span> <span class="type">BIGINT</span>) <span class="keyword">FROM</span> shipping;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Query failed: Can not cast &#x27;P332a&#x27; to BIGINT</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>TRY</code> å‡½æ•°ï¼Œè¿”å› NULL å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TRY(<span class="built_in">CAST</span>(origin_zip <span class="keyword">AS</span> <span class="type">BIGINT</span>)) <span class="keyword">FROM</span> shipping;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">origin_zip</span><br><span class="line">------------</span><br><span class="line">      94131</span><br><span class="line"> NULL</span><br><span class="line">      94025</span><br><span class="line">      08544</span><br><span class="line">(4 rows)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸ä½¿ç”¨ <code>TRY</code> å‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢å¤±è´¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> total_cost <span class="operator">/</span> packages <span class="keyword">AS</span> per_package <span class="keyword">FROM</span> shipping;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Query failed: / by zero</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>TRY</code> å’Œ <code>COALESCE</code> å‡½æ•°æŒ‡å®šé»˜è®¤å€¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COALESCE</span>(TRY(total_cost <span class="operator">/</span> packages), <span class="number">0</span>) <span class="keyword">AS</span> per_package <span class="keyword">FROM</span> shipping;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">per_package</span><br><span class="line">-------------</span><br><span class="line">          4</span><br><span class="line">         14</span><br><span class="line">          0</span><br><span class="line">          2</span><br><span class="line">(4 rows)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | JSON ä¸æ”¯æŒçš„æ•°æ®ç±»å‹ä¹‹é—´ç›¸äº’è½¬æ¢</title>
    <url>/2023/05/26/how-to-convert-between-json-and-presto-data-types/</url>
    <content><![CDATA[<h2 id="Presto-æ”¯æŒçš„å„ç§æ•°æ®ç±»å‹çš„å€¼å¦‚ä½•è½¬æ¢ä¸º-JSON-æ ¼å¼ï¼Ÿ"><a href="#Presto-æ”¯æŒçš„å„ç§æ•°æ®ç±»å‹çš„å€¼å¦‚ä½•è½¬æ¢ä¸º-JSON-æ ¼å¼ï¼Ÿ" class="headerlink" title="Presto æ”¯æŒçš„å„ç§æ•°æ®ç±»å‹çš„å€¼å¦‚ä½•è½¬æ¢ä¸º JSON æ ¼å¼ï¼Ÿ"></a>Presto æ”¯æŒçš„å„ç§æ•°æ®ç±»å‹çš„å€¼å¦‚ä½•è½¬æ¢ä¸º JSON æ ¼å¼ï¼Ÿ</h2><p>Presto æ”¯æŒå°†å¦‚ä¸‹åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼è½¬æ¢ä¸º JSON æ ¼å¼ï¼š</p>
<p><code>BOOLEAN</code>ã€<code>TINYINT</code>ã€<code>SMALLINT</code>ã€<code>INTEGER</code>ã€<code>BIGINT</code>ã€<code>REAL</code>ã€<code>DOUBLE</code>ã€<code>VARCHAR</code>ã€‚</p>
<p>æ­¤å¤–ï¼ŒPresto åŒæ ·æ”¯æŒå°†æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æ•°ç»„ï¼ˆ<code>ARRAY</code>ï¼‰ã€æ˜ å°„ï¼ˆ<code>MAP</code>ï¼‰æˆ–è¡Œï¼ˆ<code>ROW</code>ï¼‰è½¬æ¢ä¸º JSON æ ¼å¼ï¼š</p>
<ul>
<li>æ•°ç»„çš„å…ƒç´ ç±»å‹é¡»ä¸ºä¸Šè¿°æŸä¸€å—æ”¯æŒçš„æ•°æ®ç±»å‹ï¼›</li>
<li>æ˜ å°„çš„é”®ç±»å‹æ˜¯ <code>VARCHAR</code> ä¸”å€¼ç±»å‹é¡»ä¸ºä¸Šè¿°æŸä¸€å—æ”¯æŒçš„æ•°æ®ç±»å‹ï¼›</li>
<li>è¡Œçš„æ¯ä¸ªå­—æ®µç±»å‹å‡é¡»ä¸ºä¸Šè¿°æŸä¸€å—æ”¯æŒçš„æ•°æ®ç±»å‹ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<p><strong>ä¾‹ 1</strong> <code>NULL</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">NULL</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">NULL</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 2</strong> <code>INTEGER</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="number">1</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">1</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 3</strong> <code>BIGINT</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="number">9223372036854775807</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">        _col0</span><br><span class="line"><span class="comment">---------------------</span></span><br><span class="line"> <span class="number">9223372036854775807</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 4</strong> <code>VARCHAR</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="string">&#x27;abc&#x27;</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> &quot;abc&quot;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 5</strong> <code>BOOLEAN</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="literal">true</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 6</strong> <code>DECIMAL</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="number">1.234</span> <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">1.234</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 7</strong> å…ƒç´ ä¸ºæ•´æ•°çš„ <code>ARRAY</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">ARRAY</span>[<span class="number">1</span>, <span class="number">23</span>, <span class="number">456</span>] <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">   _col0</span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="number">23</span>,<span class="number">456</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 8</strong> åŒ…å« NULL å…ƒç´ çš„æ•´æ•° <code>ARRAY</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">ARRAY</span>[<span class="number">1</span>, <span class="keyword">NULL</span>, <span class="number">456</span>] <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">    _col0</span><br><span class="line"><span class="comment">--------------</span></span><br><span class="line"> [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">456</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 9</strong> å…ƒç´ ä¸ºæ•´æ•°æ•°ç»„çš„ <code>ARRAY</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">ARRAY</span>[<span class="keyword">ARRAY</span>[<span class="number">1</span>, <span class="number">23</span>], <span class="keyword">ARRAY</span>[<span class="number">456</span>]] <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">     _col0</span><br><span class="line"><span class="comment">----------------</span></span><br><span class="line"> [[<span class="number">1</span>,<span class="number">23</span>],[<span class="number">456</span>]]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 10</strong> <code>MAP</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(MAP_FROM_ENTRIES(<span class="keyword">ARRAY</span>[(<span class="string">&#x27;k1&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;k2&#x27;</span>, <span class="number">23</span>), (<span class="string">&#x27;k3&#x27;</span>, <span class="number">456</span>)]) <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">           _col0</span><br><span class="line"><span class="comment">---------------------------</span></span><br><span class="line"> &#123;&quot;k1&quot;:<span class="number">1</span>,&quot;k2&quot;:<span class="number">23</span>,&quot;k3&quot;:<span class="number">456</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 11</strong> <code>ROW</code> å°†æ¢ä¸º JSONï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="built_in">CAST</span>(<span class="type">ROW</span>(<span class="number">123</span>, <span class="string">&#x27;abc&#x27;</span>, <span class="literal">true</span>) <span class="keyword">AS</span> <span class="type">ROW</span>(v1 <span class="type">BIGINT</span>, v2 <span class="type">VARCHAR</span>, v3 <span class="type">BOOLEAN</span>)) <span class="keyword">AS</span> JSON);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">      _col0</span><br><span class="line"><span class="comment">------------------</span></span><br><span class="line"> [<span class="number">123</span>,&quot;abc&quot;,<span class="literal">true</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong></p>
<p>åœ¨å°† SQL çš„ NULL å€¼è½¬æ¢æˆ JSON æ ¼å¼æ—¶ï¼Œå¹¶ä¸åªæ˜¯ç®€å•åœ°å°†å…¶è½¬æ¢ä¸º SQL çš„ NULL æˆ– JSON çš„ nullã€‚</p>
<p>å¦‚æœä¸€ä¸ªå­—æ®µçš„å€¼æ°å¥½æ˜¯ NULLï¼Œè½¬æ¢åçš„ JSON ç»“æœä¼šæ˜¯ä¸€ä¸ª SQL NULLï¼Œè€Œä¸æ˜¯ JSON çš„ nullã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåŒ…å« NULL å…ƒç´ çš„æ•°ç»„æˆ–æ˜ å°„è½¬æ¢æˆ JSONï¼Œç»“æœä¸­çš„ NULL ä¼šè¢«ä¿ç•™ä¸º nullã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>åŒ…å« NULL çš„æ•°ç»„ [1, 2, NULL, 4] è½¬æ¢æˆ JSON ç»“æœä¸º [1, 2, null, 4]</li>
<li>ä¸€ä¸ªé”®å¯¹åº”çš„å€¼æ˜¯ NULL çš„æ˜ å°„ {â€œkey1â€: 1, â€œkey2â€: NULL} è½¬æ¢æˆ JSON çš„ç»“æœä¸º {â€œkey1â€: 1, â€œkey2â€: null}</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå•ç‹¬çš„ NULL å­—æ®µè½¬æ¢æˆ JSON æ—¶ï¼Œç»“æœä¼šæ˜¯ä¸€ä¸ª SQL NULLã€‚ä½†å¦‚æœæ˜¯ä¸€ä¸ªç»“æ„ç±»å‹ï¼ˆå¦‚æ•°ç»„æˆ–æ˜ å°„ï¼‰åŒ…å« NULL è½¬æ¢æˆ JSONï¼ŒNULL å€¼ä¼šè¢«ä¿ç•™æˆ nullã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œå½“ä» SQL ROW è½¬æ¢ä¸º JSON æ—¶ï¼Œç»“æœæ˜¯ä¸€ä¸ª JSON æ•°ç»„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ã€‚è¿™æ˜¯å› ä¸ºåœ¨ SQL ä¸­ï¼ŒROW çš„ä½ç½®æ¯”å…¶åç§°æ›´é‡è¦ã€‚</p>
<h2 id="ä»-JSON-è½¬æ¢"><a href="#ä»-JSON-è½¬æ¢" class="headerlink" title="ä» JSON è½¬æ¢"></a>ä» JSON è½¬æ¢</h2><p>Presto æ”¯æŒå°† JSON æ•°æ®è½¬æ¢ä¸ºç»å¤§éƒ¨åˆ†å†…ç½®æ•°æ®ç±»å‹ï¼Œä»¥åŠç”±è¿™äº›ç±»å‹æ„æˆçš„ ARRAYã€MAP å’Œ ROW ç­‰å¤æ‚æ•°æ®ç±»å‹ã€‚è¿™æå¤§åœ°ä¾¿åˆ©äº† JSON æ•°æ®çš„å¤„ç†å’Œåˆ†æã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒPresto æ”¯æŒå°† JSON æ•°æ®è½¬æ¢ä¸ºä»¥ä¸‹åŸºæœ¬ç±»å‹ï¼š</p>
<p><code>BOOLEAN</code>ã€<code>TINYINT</code>ã€<code>SMALLINT</code>ã€<code>INTEGER</code>ã€<code>BIGINT</code>ã€<code>REAL</code>ã€<code>DOUBLE</code>ã€<code>VARCHAR</code>ã€‚</p>
<p>Presto ä¹Ÿæ”¯æŒå°†æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ JSON æ•°ç»„å’Œå¯¹è±¡çš„æ•°æ®è½¬æ¢ä¸º <code>ARRAY</code> å’Œ <code>MAP</code> ç±»å‹ï¼š</p>
<ul>
<li>JSON æ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹ä¸ºä¸Šè¿°åŸºæœ¬ç±»å‹ä¹‹ä¸€ï¼Œè½¬æ¢ä¸º <code>ARRAY</code> ç±»å‹ï¼›</li>
<li>JSON å¯¹è±¡çš„é”®ç±»å‹ä¸º <code>VARCHAR</code> ä¸”å€¼ç±»å‹ä¸ºä¸Šè¿°åŸºæœ¬ç±»å‹ä¹‹ä¸€ï¼Œè½¬æ¢ä¸º <code>MAP</code> ç±»å‹ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<p><strong>ä¾‹ 1</strong> JSON null å€¼è½¬ <code>VARCHAR</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;null&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="keyword">NULL</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 2</strong> JSON å­—ç¬¦ä¸²å€¼è½¬ <code>INTEGER</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;1&#x27;</span> <span class="keyword">AS</span> <span class="type">INTEGER</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line">     <span class="number">1</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 3</strong> JSON é•¿æ•´æ•°å€¼è½¬ <code>BIGINT</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;9223372036854775807&#x27;</span> <span class="keyword">AS</span> <span class="type">BIGINT</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">        _col0</span><br><span class="line"><span class="comment">---------------------</span></span><br><span class="line"> <span class="number">9223372036854775807</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 4</strong> JSON å­—ç¬¦ä¸²å€¼è½¬ <code>VARCHAR</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&quot;abc&quot;&#x27;</span> <span class="keyword">AS</span> <span class="type">VARCHAR</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> abc</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 5</strong> JSON å¸ƒå°”å€¼è½¬ <code>BOOLEAN</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;true&#x27;</span> <span class="keyword">AS</span> <span class="type">BOOLEAN</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="literal">true</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 6</strong> JSON å°æ•°å€¼è½¬ <code>DOUBLE</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;1.234&#x27;</span> <span class="keyword">AS</span> <span class="keyword">DOUBLE</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"> <span class="number">1.234</span></span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 7</strong> JSON æ•´æ•°æ•°ç»„è½¬ <code>ARRAY(INTEGER)</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[1,23,456]&#x27;</span> <span class="keyword">AS</span> <span class="keyword">ARRAY</span>(<span class="type">INTEGER</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">    _col0</span><br><span class="line"><span class="comment">--------------</span></span><br><span class="line"> [<span class="number">1</span>, <span class="number">23</span>, <span class="number">456</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 8</strong> åŒ…å«å…ƒç´ ä¸º <code>null</code> å€¼çš„ JSON æ•´æ•°æ•°ç»„è½¬ <code>ARRAY(INTEGER)</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[1,null,456]&#x27;</span> <span class="keyword">AS</span> <span class="keyword">ARRAY</span>(<span class="type">INTEGER</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">     _col0</span><br><span class="line"><span class="comment">----------------</span></span><br><span class="line"> [<span class="number">1</span>, <span class="keyword">null</span>, <span class="number">456</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 9</strong> å…ƒç´ ä¸ºæ•´æ•°æ•°ç»„çš„ JSON æ•°ç»„è½¬ <code>ARRAY(ARRAY(INTEGER))</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[[1,23],[456]]&#x27;</span> <span class="keyword">AS</span> <span class="keyword">ARRAY</span>(<span class="keyword">ARRAY</span>(<span class="type">INTEGER</span>)));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">      _col0</span><br><span class="line"><span class="comment">------------------</span></span><br><span class="line"> [[<span class="number">1</span>, <span class="number">23</span>], [<span class="number">456</span>]]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 10</strong> JSON å¯¹è±¡è½¬ <code>MAP</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&#123;&quot;k1&quot;:1,&quot;k2&quot;:23,&quot;k3&quot;:456&#125;&#x27;</span> <span class="keyword">AS</span> MAP(<span class="type">VARCHAR</span>, <span class="type">INTEGER</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">         _col0</span><br><span class="line"><span class="comment">-----------------------</span></span><br><span class="line"> &#123;k1<span class="operator">=</span><span class="number">1</span>, k2<span class="operator">=</span><span class="number">23</span>, k3<span class="operator">=</span><span class="number">456</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 11</strong> JSON å¯¹è±¡è½¬ <code>ROW</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&#123;&quot;v1&quot;:123,&quot;v2&quot;:&quot;abc&quot;,&quot;v3&quot;:true&#125;&#x27;</span> <span class="keyword">AS</span> <span class="type">ROW</span>(v1 <span class="type">BIGINT</span>, v2 <span class="type">VARCHAR</span>, v3 <span class="type">BOOLEAN</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">           _col0</span><br><span class="line"><span class="comment">---------------------------</span></span><br><span class="line"> &#123;v1<span class="operator">=</span><span class="number">123</span>, v2<span class="operator">=</span>abc, v3<span class="operator">=</span><span class="literal">true</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 12</strong> JSON æ•°ç»„è½¬ <code>ROW</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[123,&quot;abc&quot;,true]&#x27;</span> <span class="keyword">AS</span> <span class="type">ROW</span>(v1 <span class="type">BIGINT</span>, v2 <span class="type">VARCHAR</span>, v3 <span class="type">BOOLEAN</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">           _col0</span><br><span class="line"><span class="comment">---------------------------</span></span><br><span class="line"> &#123;v1<span class="operator">=</span><span class="number">123</span>, v2<span class="operator">=</span>abc, v3<span class="operator">=</span><span class="literal">true</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong></p>
<p>JSON æ•°ç»„å¯ä»¥åŒ…å«å¤šç§ç±»å‹çš„å…ƒç´ ï¼ŒJSON æ˜ å°„çš„å€¼ä¹Ÿå¯ä»¥æ˜¯å¤šç§ç±»å‹ã€‚è¿™ä½¿å¾—åœ¨æŸäº›æƒ…å†µä¸‹æ— æ³•ç›´æ¥å°†å®ƒä»¬è½¬æ¢ä¸º SQL æ•°ç»„å’Œæ˜ å°„ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPresto æ”¯æŒæ•°ç»„å’Œæ˜ å°„çš„éƒ¨åˆ†è½¬æ¢ã€‚ä¾‹å¦‚ï¼š</p>
<p><strong>ä¾‹ 13</strong> è½¬æˆå…ƒç´ ä¸º JSON çš„æ•°ç»„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[[1, 23], 456]&#x27;</span> <span class="keyword">AS</span> <span class="keyword">ARRAY</span>(JSON));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">     _col0</span><br><span class="line"><span class="comment">---------------</span></span><br><span class="line"> [[<span class="number">1</span>,<span class="number">23</span>], <span class="number">456</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 14</strong> è½¬æˆå€¼ç±»å‹ä¸º JSON çš„æ˜ å°„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&#123;&quot;k1&quot;: [1, 23], &quot;k2&quot;: 456&#125;&#x27;</span> <span class="keyword">AS</span> MAP(<span class="type">VARCHAR</span>, JSON));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">        _col0</span><br><span class="line"><span class="comment">---------------------</span></span><br><span class="line"> &#123;k1<span class="operator">=</span>[<span class="number">1</span>,<span class="number">23</span>], k2<span class="operator">=</span><span class="number">456</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 15</strong> è½¬æˆå…ƒç´ ä¸º JSON çš„æ•°ç»„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[null]&#x27;</span> <span class="keyword">AS</span> <span class="keyword">ARRAY</span>(JSON));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line"><span class="comment">--------</span></span><br><span class="line"> [<span class="keyword">null</span>]</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼ŒPresto ä¹Ÿæ”¯æŒå°† JSON æ•°ç»„å’Œ JSON å¯¹è±¡è½¬æ¢ä¸º <code>ROW</code> ç±»å‹ï¼Œå¦‚ï¼š</p>
<p><strong>ä¾‹ 16</strong> JSON æ•°ç»„è½¬æ¢ä¸º <code>ROW</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;[1, 2, 3]&#x27;</span> <span class="keyword">AS</span> <span class="type">ROW</span>(x <span class="type">int</span>, y <span class="type">int</span>, z <span class="type">int</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">      _col0</span><br><span class="line"><span class="comment">-----------------</span></span><br><span class="line"> &#123;x<span class="operator">=</span><span class="number">1</span>, y<span class="operator">=</span><span class="number">2</span>, z<span class="operator">=</span><span class="number">3</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹ 17</strong> JSON å¯¹è±¡è½¬æ¢ä¸º <code>ROW</code> ç±»å‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(JSON <span class="string">&#x27;&#123;&quot;x&quot;: 1, &quot;y&quot;: 2&#125;&#x27;</span> <span class="keyword">AS</span> <span class="type">ROW</span>(x <span class="type">int</span>, y <span class="type">int</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">   _col0</span><br><span class="line"><span class="comment">------------</span></span><br><span class="line"> &#123;x<span class="operator">=</span><span class="number">1</span>, y<span class="operator">=</span><span class="number">2</span>&#125;</span><br><span class="line">(<span class="number">1</span> <span class="type">row</span>)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | ä¸‰è§’å‡½æ•°</title>
    <url>/2023/05/24/presto-trigonometric-functions/</url>
    <content><![CDATA[<p>Presto æä¾›äº†ä¸€ç»„ä¸‰è§’å‡½æ•°ï¼Œå®ƒä»¬çš„å‚æ•°ç±»å‹ä¸ºå¼§åº¦ï¼Œå‡½æ•°çš„è¿”å›ç±»å‹éƒ½æ˜¯ <code>DOUBLE</code>ã€‚å¦‚æœæƒ³åœ¨å¼§åº¦å’Œåº¦ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œå¯ä»¥ä½¿ç”¨ <code>radians(x)</code> å’Œ <code>degrees(x)</code> è¿™ä¸¤ä¸ªè½¬æ¢å‡½æ•°ã€‚</p>
<p>å…·ä½“çš„ä¸‰è§’å‡½æ•°å¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>sin(x)</td>
<td>x çš„æ­£å¼¦</td>
</tr>
<tr>
<td>cos(x)</td>
<td>x çš„ä½™å¼¦</td>
</tr>
<tr>
<td>tan(x)</td>
<td>x çš„æ­£åˆ‡</td>
</tr>
<tr>
<td>asin(x)</td>
<td>x çš„åæ­£å¼¦</td>
</tr>
<tr>
<td>acos(x)</td>
<td>x çš„åä½™å¼¦</td>
</tr>
<tr>
<td>atan(x)</td>
<td>x çš„åæ­£åˆ‡</td>
</tr>
<tr>
<td>atan2(y,Â x)</td>
<td>y/x çš„åæ­£åˆ‡</td>
</tr>
<tr>
<td>cosh(x)</td>
<td>x çš„åŒæ›²ä½™å¼¦</td>
</tr>
<tr>
<td>tanh(x)</td>
<td>x çš„åŒæ›²æ­£åˆ‡</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>å¼§åº¦åˆ¶</strong>æ˜¯æŒ‡ç”¨å¼§é•¿ä¸åŠå¾„ä¹‹æ¯”åº¦é‡å¯¹åº”åœ†å¿ƒè§’è§’åº¦çš„æ–¹å¼ã€‚ç”¨ç¬¦å· rad è¡¨ç¤ºï¼Œè¯»ä½œå¼§åº¦ã€‚</p>
<p>ç”¨æ¯”è¾ƒé€šä¿—çš„è¯´æ³•ï¼Œå¼§åº¦æ˜¯åº¦çš„å¦ä¸€ç§è¡¨è¾¾æ–¹å¼ã€‚ä¸€æ•´åœ†ç­‰äº 2Ï€ å¼§åº¦ï¼Œä¹Ÿå°±æ˜¯ 360 åº¦ã€‚å¼§åº¦åˆ¶é‡‡ç”¨å¼§é•¿å¯¹åŠå¾„çš„æ¯”ç‡æ¥è¡¨è¾¾è§’åº¦çš„å¤§å°ï¼Œè¿™ä½¿å¾—è®¸å¤šä¸åœ†å’Œè§’æœ‰å…³çš„è®¡ç®—æ›´åŠ ç®€ä¾¿ã€‚<br>æ¯”å¦‚ï¼Œè®¾åŠå¾„ä¸º 1 çš„åœ†ï¼Œè§’ AOB çš„å¤§å°ä¸º 60 åº¦ã€‚è¿™ç›¸å½“äºåœ†å‘¨çš„ 1/6ï¼Œä¹Ÿå°±æ˜¯ Ï€/3 å¼§åº¦ã€‚å› ä¸ºåœ†çš„å‘¨é•¿æ˜¯ 2Ï€rï¼Œè¿™é‡Œ r=1ï¼Œæ‰€ä»¥å‘¨é•¿æ˜¯ 2Ï€ã€‚60 åº¦å¯¹åº”çš„å¼§é•¿æ˜¯å‘¨é•¿çš„ 1/6ï¼Œä¹Ÿå°±æ˜¯ Ï€/3ã€‚<br>æ‰€ä»¥å¯ä»¥è¿™ä¹ˆç†è§£å¼§åº¦ï¼š</p>
<ol>
<li>å¼§åº¦åˆ¶å’Œåº¦åˆ¶éƒ½æ˜¯æµ‹é‡è§’åº¦çš„å•ä½ï¼Œåªæ˜¯è¡¨è¾¾æ–¹å¼ä¸åŒã€‚</li>
<li>å¼§åº¦çš„å¤§å°è¡¨ç¤ºè§’åº¦æ‰€å¯¹åº”çš„åœ†å¼§é•¿åº¦ä¸åŠå¾„çš„æ¯”ç‡ã€‚ä¸€æ•´åœ†æ˜¯ 2Ï€ å¼§åº¦ï¼Œç›¸å½“äº 360 åº¦ã€‚</li>
<li>å¼§åº¦åˆ¶åœ¨è®¸å¤šè®¡ç®—ä¸­æ¯”åº¦åˆ¶æ›´åŠ ç®€ä¾¿ï¼Œå› ä¸ºå®ƒä¸åœ†å‘¨ç‡ Ï€ çš„å…³ç³»æ›´åŠ ç›´æ¥ã€‚</li>
<li>å¯ä»¥é€šè¿‡ç®€å•çš„æ¢ç®—å…¬å¼è¿›è¡Œå¼§åº¦å’Œåº¦çš„è½¬æ¢ï¼š<br>å¼§åº¦ = åº¦æ•° Ã— Ï€ / 180<br>åº¦æ•° = å¼§åº¦ Ã— 180 / Ï€</li>
</ol>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sin</span>(pi()<span class="operator">/</span><span class="number">2</span>) <span class="keyword">as</span> &quot;sin(Ï€/2)&quot;, <span class="built_in">cos</span>(pi()) <span class="keyword">as</span> &quot;cos(Ï€)&quot;, <span class="built_in">tan</span>(pi()<span class="operator">/</span><span class="number">4</span>) <span class="keyword">as</span> &quot;tan(Ï€/4)&quot;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> sin(Ï€/2) | cos(Ï€) |      tan(Ï€/4)</span><br><span class="line">----------+--------+--------------------</span><br><span class="line">      1.0 |   -1.0 | 0.9999999999999999</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | UUID å‡½æ•°</title>
    <url>/2023/05/01/presto-uuid-functions/</url>
    <content><![CDATA[<h2 id="uuid-â†’-uuid"><a href="#uuid-â†’-uuid" class="headerlink" title="uuid() â†’ uuid"></a>uuid() â†’ uuid</h2><p>è¿”å›ä¸€ä¸ªä¼ªéšæœºç”Ÿæˆçš„ UUIDï¼ˆç¬¬å››ç‰ˆæœ¬ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> uuid();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¾“å‡ºç»“æœä¸º 694af1d4-c900-4950-9daf-59f0756df0d1</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | å­—ç¬¦ä¸²è¿ç®—ç¬¦å’Œå‡½æ•°</title>
    <url>/2023/05/09/presto-string-functions/</url>
    <content><![CDATA[<h2 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h2><p><code>||</code> è¿ç®—ç¬¦ï¼Œå­—ç¬¦ä¸²è¿æ¥è¿ç®—ç¬¦ï¼Œå°†è¿ç®—ç¬¦å·¦å³ä¸¤è¾¹çš„å­—ç¬¦ä¸²è¿›è¡Œè¿æ¥ï¼Œä½œç”¨åŒå‡½æ•° <code>concat(string1,Â ...,Â stringN)</code>ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">&#x27;Here I am, &#x27;</span> <span class="operator">||</span> <span class="string">&#x27;here I am How do you do?&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Here I am, here I am How do you do?</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h2><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»¥ä¸‹è¿™äº›å‡½æ•°å‡è®¾è¾“å…¥çš„å­—ç¬¦ä¸²æ‰€åŒ…å«çš„éƒ½æ˜¯æœ‰æ•ˆçš„ UTF-8 ç¼–ç çš„ Unicode ç ç‚¹ã€‚å‡½æ•°å¹¶æ²¡æœ‰å¯¹ UTF-8 çš„æœ‰æ•ˆæ€§è¿›è¡Œæ˜ç¡®çš„æ£€æŸ¥ã€‚å¦‚æœè¾“å…¥äº†æ— æ•ˆçš„ UTF-8ï¼Œè¿™äº›å‡½æ•°å¯èƒ½ä¼šè¿”å›é”™è¯¯çš„ç»“æœã€‚æ— æ•ˆçš„ UTF-8 æ•°æ®å¯ä»¥ä½¿ç”¨ <code>from_utf8()</code> å‡½æ•°è¿›è¡Œä¿®æ­£ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿™äº›å‡½æ•°æ“ä½œçš„éƒ½æ˜¯ Unicode ç ç‚¹ï¼Œè€Œä¸æ˜¯ç”¨æˆ·å¯è§çš„å­—ç¬¦æˆ–å­—æ¯ã€‚æŸäº›è¯­è¨€ä¼šå°†å¤šä¸ªç ç‚¹ç»„åˆæˆå•ä¸ªç”¨æˆ·æ„ŸçŸ¥çš„å­—ç¬¦ï¼Œå³ä¸€ç§è¯­è¨€ä¹¦å†™ç³»ç»Ÿçš„åŸºæœ¬å•ä½ã€‚ä½†è¿™äº›å‡½æ•°ä¼šå°†æ¯ä¸ªç ç‚¹è§†ä¸ºç‹¬ç«‹çš„å•ä½ã€‚</p>
<p><code>lower()</code> å’Œ <code>upper()</code> å‡½æ•°æ— æ³•æ‰§è¡Œç«‹é™¶å®›è¯­ã€åœŸè€³å…¶è¯­å’Œé˜¿å¡æ‹œç–†è¯­ç­‰æŸäº›è¯­è¨€æ‰€éœ€çš„åŒºåŸŸæ•æ„Ÿã€ä¸Šä¸‹æ–‡æ•æ„Ÿæˆ–ä¸€å¯¹å¤šçš„æ˜ å°„ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹è¿™äº›è¯­è¨€ï¼Œ<code>lower()</code> å’Œ <code>upper()</code> å‡½æ•°ä¼šè¿”å›ä¸æ­£ç¡®çš„ç»“æœã€‚</p>
<blockquote>
<p>Unicode ç ç‚¹ï¼ˆcode pointï¼‰æ˜¯æŒ‡ Unicode å­—ç¬¦ç¼–ç æ–¹æ¡ˆä¸­çš„æ¯ä¸ªç‹¬ç«‹çš„å­—ç¬¦ï¼Œæ˜¯æ„æˆ Unicode å­—ç¬¦ä¸²çš„åŸºæœ¬å•ä½ã€‚å®ƒä»£è¡¨ Unicode ä¸ºæ¯ä¸ªå­—ç¬¦æŒ‡å®šçš„æ•´æ•°å€¼ï¼Œç”¨æ¥åœ¨è®¡ç®—æœºå†…å”¯ä¸€åœ°è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´:</p>
<ul>
<li>A çš„ Unicode ç ç‚¹æ˜¯ U+0041ï¼Œå³åå…­è¿›åˆ¶çš„ 0041ï¼Œç›¸å½“äºåè¿›åˆ¶çš„ 65</li>
<li>ä¸­ çš„ Unicode ç ç‚¹æ˜¯ U+4E2Dï¼Œå³åå…­è¿›åˆ¶çš„ 4E2Dï¼Œç›¸å½“äºåè¿›åˆ¶çš„ 20013</li>
<li>ğ ®· çš„ Unicode ç ç‚¹æ˜¯ U+20BB7ï¼Œå³åå…­è¿›åˆ¶çš„ 20BB7ï¼Œç›¸å½“äºåè¿›åˆ¶çš„ 134071</li>
</ul>
<p>é€šè¿‡ Unicode ç ç‚¹ï¼Œè®¡ç®—æœºå¯ä»¥å‡†ç¡®åœ°ç†è§£å’Œå¤„ç†æ‰€æœ‰ä¸–ç•Œå„åœ°çš„æ–‡å­—ï¼ŒåŒ…æ‹¬è¡¨æ„æ–‡å­—å¦‚ä¸­æ–‡æ±‰å­—ï¼Œè¡¨éŸ³æ–‡å­—å¦‚æ‹‰ä¸å­—æ¯ï¼Œä»¥åŠå…¶å®ƒå„ç§ä¹¦å†™ç³»ç»Ÿçš„æ–‡å­—ã€‚äº‹å®ä¸Šï¼Œç»å¤§å¤šæ•°çš„ä¸–ç•Œæ–‡å­—éƒ½å·²ç»ç”± Unicode æ ‡å‡†æ‰€è¦†ç›–ã€‚</p>
<p>Uniocde æ ‡å‡†å®šä¹‰äº†ä¸€ä¸ªç ä½ç©ºé—´ï¼Œè¦†ç›–äº†ç»å¤§å¤šæ•°çš„å­—ä½“å’Œç¬¦å·ã€‚è¿™ä½¿å¾—ä»¥æ•°å­—å½¢å¼å‡†ç¡®è¡¨è¾¾ä¸–ç•Œä¸Šçš„å„ç§è¯­è¨€æˆä¸ºå¯èƒ½ã€‚Unicode ç ç‚¹å®é™…ä¸Šå·²æˆä¸ºåœ¨æ•°å­—ä¸–ç•Œé‡Œè¡¨ç¤ºæ–‡å­—çš„åŸºçŸ³ã€‚<br>ç®€å•æ¥è¯´ï¼ŒUnicode ç ç‚¹å°±æ˜¯ Unicode ç»™æ¯ä¸ªå­—ç¬¦æŒ‡å®šçš„æ•°å­— IDã€‚å®ƒæ˜¯è®¡ç®—æœºå†…è¡¨ç¤ºæ–‡å­—çš„åŸºæœ¬å•å…ƒï¼Œé€šè¿‡è¿™äº›ç ç‚¹ï¼Œè®¡ç®—æœºå¯ä»¥ç²¾ç¡®åœ°å¤„ç†å„ç§è¯­è¨€çš„æ–‡å­—ã€‚</p>
</blockquote>
<h3 id="chr-n-â†’-varchar"><a href="#chr-n-â†’-varchar" class="headerlink" title="chr(n)Â â†’Â varchar"></a>chr(<em>n</em>)Â â†’Â varchar</h3><p>è¿”å› Unicode ç ç‚¹ <code>n</code> å¯¹åº”çš„å­—ç¬¦ï¼Œ<code>n</code> ä¸ºæ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>chr(n)</code> å‡½æ•°è¿”å›å¯¹åº” Unicode ç ç‚¹çš„å­—ç¬¦ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> chr(<span class="number">65</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹è¾“å‡ºç»“æœä¸º Aã€‚</p>
<h3 id="codepoint-string-â†’-integer"><a href="#codepoint-string-â†’-integer" class="headerlink" title="codepoint(string)Â â†’Â integer"></a>codepoint(<em>string</em>)Â â†’Â integer</h3><p>è¿”å›å¯¹åº”å­—ç¬¦çš„ Unicode ç ç‚¹ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>codepoint(string)</code> å‡½æ•°è¿”å›å¯¹åº”å­—ç¬¦çš„ Unicode ç ç‚¹ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> codepoint(<span class="string">&#x27;A&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹è¾“å‡ºç»“æœä¸º 65<em>ã€‚</em></p>
<h3 id="concat-string1-â€¦-stringN-â†’-varchar"><a href="#concat-string1-â€¦-stringN-â†’-varchar" class="headerlink" title="concat(string1,Â â€¦,Â stringN)Â â†’Â varchar"></a>concat(<em>string1</em>,Â <em>â€¦</em>,Â <em>stringN</em>)Â â†’Â varchar</h3><p>è¿”å› <code>string1</code>, <code>...</code>, <code>stringN</code> è¿æ¥åçš„å€¼ã€‚è¿™ä¸ªå‡½æ•°æä¾›çš„åŠŸèƒ½ä¸ SQL æ ‡å‡†çš„è¿æ¥æ“ä½œç¬¦ï¼ˆ<code>||</code>ï¼‰ç›¸åŒã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>concat(string1,Â ...,Â stringN)</code> å‡½æ•°è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;Mommy Finger, &#x27;</span>, <span class="string">&#x27;Mommy Finger, &#x27;</span>, <span class="string">&#x27;where are you?&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹è¾“å‡ºç»“æœä¸º Mommy Finger, Mommy Finger, where are you? ã€‚</p>
<p>æ³¨æ„ï¼šè¯¥æ–¹æ³•ç›´æ¥è¿æ¥ <code>string1</code>ã€<code>...</code>ã€<code>stringN</code>ï¼Œä¸ä¼šæ·»åŠ ä»»ä½•åˆ†éš”ç¬¦ã€‚</p>
<h3 id="hamming-distance-string1-string2-â†’-bigint"><a href="#hamming-distance-string1-string2-â†’-bigint" class="headerlink" title="hamming_distance(string1,Â string2)Â â†’Â bigint"></a>hamming_distance(<em>string1</em>,Â <em>string2</em>)Â â†’Â bigint</h3><p>è¿”å› <code>string1</code> å’Œ <code>string2</code> çš„æ±‰æ˜è·ç¦»ï¼Œå³ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åº”å­—ç¬¦ä¸åŒä½ç½®çš„æ•°ç›®ã€‚æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å¿…é¡»å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>hamming_distance(string1,Â string2)</code> å‡½æ•°è®¡ç®—å­—ç¬¦ä¸² <code>1011101</code> ä¸ <code>1001001</code> ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> hamming_distance(<span class="string">&#x27;1011101&#x27;</span>, <span class="string">&#x27;1001001&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹è¾“å‡ºç»“æœä¸º 2ã€‚</p>
<blockquote>
<p>åœ¨ä¿¡æ¯è®ºä¸­ï¼Œä¸¤ä¸ªç­‰é•¿å­—ç¬¦ä¸²ä¹‹é—´çš„<strong>æ±‰æ˜è·ç¦»</strong>ï¼ˆè‹±è¯­ï¼šHamming distanceï¼‰æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•°ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå°±æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²å˜æ¢æˆå¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æ‰€éœ€è¦æ›¿æ¢çš„å­—ç¬¦ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼š<br>1011101 ä¸ 1001001 ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 2ã€‚<br>2143896 ä¸2233796 ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 3ã€‚<br>â€œtonedâ€ ä¸ â€œrosesâ€ ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ 3ã€‚<br>æ‘˜è‡ªï¼š<a href="https://zh.wikipedia.org/wiki/%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB">https://zh.wikipedia.org/wiki/æ±‰æ˜è·ç¦»</a></p>
</blockquote>
<h3 id="length-string-â†’-bigint"><a href="#length-string-â†’-bigint" class="headerlink" title="length(string)Â â†’Â bigint"></a>length(<em>string</em>)Â â†’Â bigint</h3><p>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä»¥å­—ç¬¦ä¸ºå•ä½ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>length(string)</code> å‡½æ•°è®¡ç®—å­—ç¬¦ä¸² <code>å’ŒA2*</code> çš„å­—ç¬¦æ•°ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> length(<span class="string">&#x27;å’ŒA2*&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹è¾“å‡ºç»“æœä¸º 4ã€‚</p>
<h3 id="levenshtein-distance-string1-string2-â†’-bigint"><a href="#levenshtein-distance-string1-string2-â†’-bigint" class="headerlink" title="levenshtein_distance(string1,Â string2)Â â†’Â bigint"></a>levenshtein_distance(<em>string1</em>,Â <em>string2</em>)Â â†’Â bigint</h3><p>è¿”å› <code>string1</code> å’Œ <code>string2</code> çš„è±æ–‡æ–¯å¦ç¼–è¾‘è·ç¦»ï¼Œå³å°† <code>string1</code> å˜ä¸º <code>string2</code> æ‰€éœ€çš„æœ€å°å•å­—ç¬¦ç¼–è¾‘æ¬¡æ•°ï¼ˆæ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>levenshtein_distance(string1,Â string2)</code> å‡½æ•°è®¡ç®—å­—ç¬¦ä¸² <code>Daddy Finger</code> ä¸ <code>Mommy Finger, where are you?</code> ä¹‹é—´çš„è±æ–‡æ–¯å¦ç¼–è¾‘è·ç¦»ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> levenshtein_distance(<span class="string">&#x27;Daddy Finger&#x27;</span>, <span class="string">&#x27;Mommy Finger, where are you?&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 20ã€‚</p>
<h3 id="lower-string-â†’-varchar"><a href="#lower-string-â†’-varchar" class="headerlink" title="lower(string)Â â†’Â varchar"></a>lower(<em>string</em>)Â â†’Â varchar</h3><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­å°†ä¸€ä¸ªæ··åˆå¤§å°å†™çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(<span class="string">&#x27;Daddy Finger, Daddy Finger, where are you?&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º daddy finger, daddy finger, where are you?ã€‚</p>
<h3 id="upper-string-â†’-varchar"><a href="#upper-string-â†’-varchar" class="headerlink" title="upper(string)Â â†’Â varchar"></a>upper(<em>string</em>)Â â†’Â varchar</h3><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­å°†ä¸€ä¸ªæ··åˆå¤§å°å†™çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;Daddy Finger, Daddy Finger, where are you?&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º DADDY FINGER, DADDY FINGER, WHERE ARE YOU?ã€‚</p>
<h3 id="lpad-string-size-padstring-â†’-varchar"><a href="#lpad-string-size-padstring-â†’-varchar" class="headerlink" title="lpad(string,Â size,Â padstring)Â â†’Â varchar"></a>lpad(<em>string</em>,Â <em>size</em>,Â <em>padstring</em>)Â â†’Â varchar</h3><p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²é€šè¿‡åœ¨ <code>string</code> å·¦ä¾§å¡«å…… <code>padstring</code> æ¥è¾¾åˆ°æŒ‡å®šçš„æ€»é•¿åº¦ <code>size</code>ï¼Œå®ç°å³å¯¹é½ã€‚å¦‚æœ <code>size</code> å°äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç»“æœå°†è¢«æˆªæ–­ä¸º <code>size</code> ä¸ªå­—ç¬¦ã€‚<code>size</code> ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œ<code>padstring</code> å¿…é¡»ä¸ºéç©ºã€‚</p>
<p><strong>å‚æ•°</strong></p>
<p><em><code>string</code></em> éœ€è¦å¡«å……çš„å­—ç¬¦ä¸²</p>
<p><em><code>size</code></em> å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦</p>
<p><em><code>padstring</code></em> ç”¨æ¥å¡«å……çš„å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>lpad(string,Â size,Â padstring)</code> å¡«å……å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> lpad(<span class="string">&#x27;M&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;Z&#x27;</span>), lpad(<span class="string">&#x27;M&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;ZYX&#x27;</span>), lpad(<span class="string">&#x27;ABC&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;$&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º ZZZZMï¼ŒZYXZMï¼ŒABã€‚</p>
<h3 id="rpad-string-size-padstring-â†’-varchar"><a href="#rpad-string-size-padstring-â†’-varchar" class="headerlink" title="rpad(string,Â size,Â padstring)Â â†’Â varchar"></a>rpad(<em>string</em>,Â <em>size</em>,Â <em>padstring</em>)Â â†’Â varchar</h3><p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²é€šè¿‡åœ¨ <code>string</code> å³ä¾§å¡«å…… <code>padstring</code> æ¥è¾¾åˆ°æŒ‡å®šçš„æ€»é•¿åº¦ <code>size</code>ï¼Œå®ç°å·¦å¯¹é½ã€‚å¦‚æœ <code>size</code> å°äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç»“æœå°†è¢«æˆªæ–­ä¸º <code>size</code> ä¸ªå­—ç¬¦ã€‚<code>size</code> ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œ<code>padstring</code> å¿…é¡»ä¸ºéç©ºã€‚</p>
<p><strong>å‚æ•°</strong></p>
<p><em><code>string</code></em> éœ€è¦å¡«å……çš„å­—ç¬¦ä¸²</p>
<p><em><code>size</code></em> ç»“æœå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°</p>
<p><em><code>padstring</code></em> ç”¨æ¥å¡«å……çš„å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>rpad(string,Â size,Â padstring)</code> å¡«å……å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> rpad(<span class="string">&#x27;M&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;Z&#x27;</span>), rpad(<span class="string">&#x27;M&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;ZYX&#x27;</span>), rpad(<span class="string">&#x27;ABC&#x27;</span>, <span class="number">2</span>, <span class="string">&#x27;$&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º MZZZZï¼ŒMZYXZï¼ŒABã€‚</p>
<h3 id="trim-string-â†’-varchar"><a href="#trim-string-â†’-varchar" class="headerlink" title="trim(string)Â â†’Â varchar"></a>trim(<em>string</em>)Â â†’Â varchar</h3><p>åˆ é™¤å­—ç¬¦ä¸² <code>string</code> å¼€å¤´å’Œæœ«å°¾çš„ç©ºç™½å­—ç¬¦ã€‚å¦‚æœå­—ç¬¦ä¸²æ— å¯åˆ é™¤çš„ç©ºç™½å­—ç¬¦ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>trim(string)</code> å‡½æ•°åˆ é™¤å­—ç¬¦ä¸²å¼€å¤´å’Œæœ«å°¾çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27;  $$ $$ &#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º <code>$$ $$</code>ã€‚</p>
<h3 id="ltrim-string-â†’-varchar"><a href="#ltrim-string-â†’-varchar" class="headerlink" title="ltrim(string)Â â†’Â varchar"></a>ltrim(<em>string</em>)Â â†’Â varchar</h3><p>åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å‰å¯¼ç©ºç™½å­—ç¬¦ã€‚</p>
<p>æ­¤æ–¹æ³•è¿”å›åˆ é™¤å­—ç¬¦ä¸²å¼€å¤´æ‰€æœ‰å¯åˆ é™¤çš„ç©ºç™½å­—ç¬¦åçš„å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²æ— ç©ºç™½å­—ç¬¦å¯åˆ é™¤ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº† <code>ltrim(string)</code> æ–¹æ³•çš„åŸºæœ¬åŠŸèƒ½ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> ltrim(<span class="string">&#x27;  $$ $$ &#x27;</span>), ltrim(<span class="string">&#x27;$A&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º <code>$$ $$</code> ï¼Œ<code>$A</code>ã€‚</p>
<h3 id="rtrim-string-â†’-varchar"><a href="#rtrim-string-â†’-varchar" class="headerlink" title="rtrim(string)Â â†’Â varchar"></a>rtrim(<em>string</em>)Â â†’Â varchar</h3><p>åˆ é™¤å­—ç¬¦ä¸²Â <code>string</code>Â æœ«å°¾çš„æ‰€æœ‰ç©ºç™½å­—ç¬¦ã€‚</p>
<p>æ­¤æ–¹æ³•è¿”å›åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾æ‰€æœ‰å¯åˆ é™¤çš„ç©ºç™½å­—ç¬¦åçš„å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²æ— ç©ºç™½å­—ç¬¦å¯åˆ é™¤ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº† <code>rtrim(string)</code> æ–¹æ³•çš„åŸºæœ¬åŠŸèƒ½ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> rtrim(<span class="string">&#x27;  $$ $$ &#x27;</span>), rtrim(<span class="string">&#x27;$A&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º  <code>$$ $$</code>ï¼Œ<code>$A</code>ã€‚</p>
<h3 id="replace-string-search-â†’-varchar"><a href="#replace-string-search-â†’-varchar" class="headerlink" title="replace(string,Â search)Â â†’Â varchar"></a>replace(<em>string</em>,Â <em>search</em>)Â â†’Â varchar</h3><p>æ­¤æ–¹æ³•åˆ é™¤å­—ç¬¦ä¸²ï¼ˆ*<code>string</code><em>ï¼‰ä¸­å‡ºç°çš„æ‰€æœ‰æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆ</em><code>search</code>*ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>replace(string,Â search)</code> ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤æŒ‡å®šå­—ç¬¦ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;Daddy Finger, Daddy Finger, where are you?&#x27;</span>, <span class="string">&#x27;Daddy Finger, &#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º <code>where are you?</code>ã€‚</p>
<h3 id="replace-string-search-replace-â†’-varchar"><a href="#replace-string-search-replace-â†’-varchar" class="headerlink" title="replace(string,Â search,Â replace)Â â†’Â varchar"></a>replace(<em>string</em>,Â <em>search</em>,Â <em>replace</em>)Â â†’Â varchar</h3><p>è¯¥å‡½æ•°ä½¿ç”¨ <code>replace</code> æ›¿æ¢å­—ç¬¦ä¸²ï¼ˆ<code>string</code>ï¼‰ä¸­å‡ºç°çš„æ‰€æœ‰æŒ‡å®šå­—ç¬¦ä¸²ï¼ˆ<code>search</code>ï¼‰ã€‚å¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾ä¸åˆ° *<code>search</code>*ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚</p>
<p><strong>å‚æ•°</strong></p>
<p><em><code>string</code></em> åŸå­—ç¬¦ä¸²</p>
<p><em><code>search</code></em> è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚</p>
<p><em><code>replace</code></em> è¦æ›¿æ¢å‡ºç°çš„æ‰€æœ‰ <code>search</code> çš„å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ä»¥ä¸‹ç¤ºä¾‹é€šè¿‡ç”¨è¿æ¥ç¬¦ï¼ˆ-ï¼‰ä»£æ›¿ä¸€ç³»åˆ—æ•°å­—ä¹‹é—´çš„é€—å·ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;1,2,3,4,5,6,7,8,9&#x27;</span>, <span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;-&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 1-2-3-4-5-6-7-8-9ã€‚</p>
<p>å¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾ä¸åˆ° *<code>search</code>*ï¼Œåˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;$&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 1,2,3ã€‚</p>
<p>å¦‚æœ <code>search</code> ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåœ¨Â <code>string</code>Â çš„æ¯ä¸ªå­—ç¬¦å‰é¢å’Œç»“å°¾æ’å…¥Â <code>replace</code>ã€‚å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> replace(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;$$&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º $$1$$,$$2$$,$$3$$ã€‚</p>
<h3 id="reverse-string-â†’-varchar"><a href="#reverse-string-â†’-varchar" class="headerlink" title="reverse(string)Â â†’Â varchar"></a>reverse(<em>string</em>)Â â†’Â varchar</h3><p>è¿”å›å­—ç¬¦ä¸²Â <code>string</code>Â çš„å­—ç¬¦é¡ºåºåè½¬åçš„å­—ç¬¦ä¸²ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> reverse(<span class="string">&#x27;123456789&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 987654321ã€‚</p>
<h3 id="split-string-delimiter"><a href="#split-string-delimiter" class="headerlink" title="split(string,Â delimiter)"></a>split(<em>string</em>,Â <em>delimiter</em>)</h3><p>æ ¹æ®Â <code>delimiter</code>Â å¯¹å­—ç¬¦ä¸²Â <code>string</code>Â è¿›è¡Œåˆ†å‰²ï¼Œå¹¶è¿”å›å­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;,&#x27;</span>), split(<span class="string">&#x27;1,2,&#x27;</span>, <span class="string">&#x27;,&#x27;</span>), split(<span class="string">&#x27;1,,2,3&#x27;</span>, <span class="string">&#x27;,,&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º [â€˜1â€™,â€™2â€™,â€™3â€™]ï¼Œ[â€˜1â€™,â€™2â€™,â€™â€™]ï¼Œ[â€˜1â€™,â€™2,3â€™]ã€‚</p>
<h3 id="split-string-delimiter-limit"><a href="#split-string-delimiter-limit" class="headerlink" title="split(string,Â delimiter,Â limit)"></a>split(<em>string</em>,Â <em>delimiter</em>,Â <em>limit</em>)</h3><p>æ ¹æ®åˆ†éš”ç¬¦Â <code>delimiter</code>Â å¯¹å­—ç¬¦ä¸²Â <code>string</code>Â è¿›è¡Œåˆ†å‰²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å¤§å°ä¸è¶…è¿‡é™å®šå€¼Â <code>limit</code>ã€‚æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ æ€»åŒ…å«å­—ç¬¦ä¸²Â <code>string</code>Â ä¸­å‰©ä½™çš„æ‰€æœ‰å†…å®¹ã€‚é™å®šå€¼ <code>limit</code> å¿…é¡»æ˜¯æ­£æ•´æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split(<span class="string">&#x27;1$$2$$3$$4$$5&#x27;</span>, <span class="string">&#x27;$$&#x27;</span>), split(<span class="string">&#x27;1$$2$$3$$4$$5&#x27;</span>, <span class="string">&#x27;$$&#x27;</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º [â€˜1â€™,â€™2â€™,â€™3â€™,â€™4â€™,â€™5â€™]ï¼Œ[â€˜1â€™,â€™2â€™,â€™3$$4$$5â€™]ã€‚</p>
<h3 id="split-part-string-delimiter-index-â†’-varchar"><a href="#split-part-string-delimiter-index-â†’-varchar" class="headerlink" title="split_part(string,Â delimiter,Â index)Â â†’Â varchar"></a>split_part(<em>string</em>,Â <em>delimiter</em>,Â <em>index</em>)Â â†’Â varchar</h3><p>æ ¹æ®åˆ†éš”ç¬¦Â <code>delimiter</code>Â å¯¹å­—ç¬¦ä¸²Â <code>string</code>Â è¿›è¡Œåˆ†å‰²ï¼Œå¹¶è¿”å›ç¬¬Â <code>index</code>Â ä¸ªå­—æ®µã€‚å­—æ®µç´¢å¼•ä»Â <code>1</code>Â å¼€å§‹è®¡æ•°ã€‚å¦‚æœç´¢å¼•å€¼è¶…è¿‡å­—æ®µæ€»æ•°ï¼Œåˆ™è¿”å› nullã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split(<span class="string">&#x27;a,b,c,d,e&#x27;</span>, <span class="string">&#x27;,&#x27;</span>), split_part(<span class="string">&#x27;a,b,c,d,e&#x27;</span>, <span class="string">&#x27;,&#x27;</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º [â€˜aâ€™,â€™bâ€™,â€™câ€™,â€™dâ€™,â€™eâ€™]ï¼Œcã€‚</p>
<h3 id="split-to-map-string-entryDelimiter-keyValueDelimiter-â†’-map-lt-varchar-varchar-gt"><a href="#split-to-map-string-entryDelimiter-keyValueDelimiter-â†’-map-lt-varchar-varchar-gt" class="headerlink" title="split_to_map(string,Â entryDelimiter,Â keyValueDelimiter)Â â†’Â map&lt;varchar,Â varchar&gt;"></a>split_to_map(<em>string</em>,Â <em>entryDelimiter</em>,Â <em>keyValueDelimiter</em>)Â â†’Â map&lt;varchar,Â varchar&gt;</h3><p>æ ¹æ®Â <code>entryDelimiter</code>Â å’ŒÂ <code>keyValueDelimiter</code>Â è¿™ä¸¤ä¸ªåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²Â <code>string</code>Â è¿›è¡Œå±‚å±‚åˆ†å‰²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ˜ å°„ï¼ˆMapï¼‰ã€‚<code>entryDelimiter</code> å°†å­—ç¬¦ä¸²Â <code>string</code>Â åˆ’åˆ†ä¸ºå¤šä¸ªé”®å€¼å¯¹ã€‚<code>keyValueDelimiter</code> è¿›ä¸€æ­¥å°†æ¯å¯¹é”®å€¼å¯¹åˆ’åˆ†ä¸ºé”®å’Œå¯¹åº”çš„å€¼ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œ<code>entryDelimiter</code>Â å’ŒÂ <code>keyValueDelimiter</code>Â è¢«æŒ‰åŸä¹‰è§£é‡Šï¼Œå³ä½œä¸ºå®Œæ•´çš„å­—ç¬¦ä¸²åŒ¹é…ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;c:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º {a=1, b=2, c=3}ã€‚</p>
<p>å¦‚æœåœ¨è½¬æ¢æˆæ˜ å°„çš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç° key ç›¸åŒçš„æƒ…å†µåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;b:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å¼‚å¸¸ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>SQL é”™è¯¯ [7]: Query failed (#20230509_102207_03215_xs34i): Duplicate keys (b) are not allowed. Specifying a lambda to resolve conflicts can avoid this error</p>
<h3 id="split-to-map-string-entryDelimiter-keyValueDelimiter-function-K-V1-V2-R-â†’-map-lt-varchar-varchar-gt"><a href="#split-to-map-string-entryDelimiter-keyValueDelimiter-function-K-V1-V2-R-â†’-map-lt-varchar-varchar-gt" class="headerlink" title="split_to_map(string,Â entryDelimiter,Â keyValueDelimiter,Â function(K,Â V1,Â V2,Â R))Â â†’Â map&lt;varchar,Â varchar&gt;"></a>split_to_map(<em>string</em>,Â <em>entryDelimiter</em>,Â <em>keyValueDelimiter</em>,Â <em>function(K</em>,Â <em>V1</em>,Â <em>V2</em>,Â <em>R)</em>)Â â†’Â map&lt;varchar,Â varchar&gt;</h3><p>åŠŸèƒ½åŒ <code>split_to_map(string,Â entryDelimiter,Â keyValueDelimiter)</code>ï¼Œåªæ˜¯åœ¨é”®é‡å¤çš„æƒ…å†µä¸‹ï¼Œä¼šè°ƒç”¨Â <code>function(K,V1,V2,R)</code>Â æ¥ç¡®å®šæ˜ å°„ä¸­åº”è¯¥ä½¿ç”¨çš„å€¼ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;a:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, (k, v1, v2) <span class="operator">-</span><span class="operator">&gt;</span> v1)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º {a=1, b=2}ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;a:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, (k, v1, v2) <span class="operator">-</span><span class="operator">&gt;</span> v2)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º {a=3, b=2}ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_map(<span class="string">&#x27;a:1;b:2;a:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>, (k, v1, v2) <span class="operator">-</span><span class="operator">&gt;</span> concat(v1, v2))</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º **{a=13, b=2}ã€‚</p>
<h3 id="split-to-multimap-string-entryDelimiter-keyValueDelimiter"><a href="#split-to-multimap-string-entryDelimiter-keyValueDelimiter" class="headerlink" title="split_to_multimap(string,Â entryDelimiter,Â keyValueDelimiter)"></a>split_to_multimap(<em>string</em>,Â <em>entryDelimiter</em>,Â <em>keyValueDelimiter</em>)</h3><p>æ ¹æ®Â <code>entryDelimiter</code>Â å’ŒÂ <code>keyValueDelimiter</code>Â è¿™ä¸¤ä¸ªåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²Â <code>string</code>Â è¿›è¡Œå±‚å±‚åˆ†å‰²,å¹¶è¿”å›ä¸€ä¸ªæ˜ å°„ï¼ˆMapï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªå”¯ä¸€é”®å¯¹åº”ä¸€ä¸ªå€¼æ•°ç»„ã€‚<code>entryDelimiter</code> å°†å­—ç¬¦ä¸²Â <code>string</code>Â åˆ’åˆ†ä¸ºå¤šä¸ªé”®å€¼å¯¹ã€‚<code>keyValueDelimiter</code> è¿›ä¸€æ­¥å°†æ¯å¯¹é”®å€¼å¯¹åˆ’åˆ†ä¸ºé”®å’Œå¯¹åº”çš„å€¼ã€‚</p>
<p>æ¯ä¸ªé”®æ‰€å¯¹åº”çš„å€¼æ•°ç»„å†…çš„å€¼çš„é¡ºåºä¸è¿™äº›å€¼åœ¨å­—ç¬¦ä¸² <code>string</code> ä¸­å‡ºç°çš„é¡ºåºç›¸åŒã€‚</p>
<p>è¯·æ³¨æ„ï¼Œ<code>entryDelimiter</code>Â å’ŒÂ <code>keyValueDelimiter</code>Â è¢«æŒ‰åŸä¹‰è§£é‡Šï¼Œå³ä½œä¸ºå®Œæ•´çš„å­—ç¬¦ä¸²åŒ¹é…ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> split_to_multimap(<span class="string">&#x27;a:1;b:2;b:3&#x27;</span>, <span class="string">&#x27;;&#x27;</span>, <span class="string">&#x27;:&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º {a=[1], b=[2, 3]}ã€‚</p>
<h3 id="strpos-string-substring-â†’-bigint"><a href="#strpos-string-substring-â†’-bigint" class="headerlink" title="strpos(string,Â substring)Â â†’Â bigint"></a>strpos(<em>string</em>,Â <em>substring</em>)Â â†’Â bigint</h3><p>è¿”å›å­—ç¬¦ä¸² <code>string</code> ä¸­å­å­—ç¬¦ä¸² <code>substring</code> ç¬¬ä¸€æ¬¡å‡ºç°çš„èµ·å§‹ä½ç½®ç´¢å¼•ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸² <code>substring</code>ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> strpos(<span class="string">&#x27;Mommy Finger, Mommy Finger, where are you?&#x27;</span>, <span class="string">&#x27;Mommy Finger&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 1ã€‚</p>
<h3 id="strpos-string-substring-instance-â†’-bigint"><a href="#strpos-string-substring-instance-â†’-bigint" class="headerlink" title="strpos(string,Â substring,Â instance)Â â†’Â bigint"></a>strpos(<em>string</em>,Â <em>substring</em>,Â <em>instance</em>)Â â†’Â bigint</h3><p>è¿”å›å­—ç¬¦ä¸² <code>string</code> ä¸­å­å­—ç¬¦ä¸² <code>substring</code> ç¬¬ <code>instance</code> ä¸ªå‡ºç°ä½ç½®çš„ç´¢å¼•ã€‚<code>instance</code> å¿…é¡»æ˜¯æ­£æ•´æ•°ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸² <code>substring</code> çš„ç¬¬ <code>instance</code> ä¸ªå‡ºç°ä½ç½®ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> strpos(<span class="string">&#x27;Mommy Finger, Mommy Finger, where are you?&#x27;</span>, <span class="string">&#x27;Mommy Finger&#x27;</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 15ã€‚</p>
<h3 id="strrpos-string-substring-â†’-bigint"><a href="#strrpos-string-substring-â†’-bigint" class="headerlink" title="strrpos(string,Â substring)Â â†’Â bigint"></a>strrpos(<em>string</em>,Â <em>substring</em>)Â â†’Â bigint</h3><p>è¿”å›å­—ç¬¦ä¸² <code>string</code> ä¸­å­å­—ç¬¦ä¸² <code>substring</code> æœ€åä¸€æ¬¡å‡ºç°çš„èµ·å§‹ä½ç½®ç´¢å¼•ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸² <code>substring</code>ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> strrpos(<span class="string">&#x27;Mommy Finger, Mommy Finger, where are you?&#x27;</span>, <span class="string">&#x27;Mommy Finger&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 15ã€‚</p>
<h3 id="strrpos-string-substring-instance-â†’-bigint"><a href="#strrpos-string-substring-instance-â†’-bigint" class="headerlink" title="strrpos(string,Â substring,Â instance)Â â†’Â bigint"></a>strrpos(<em>string</em>,Â <em>substring</em>,Â <em>instance</em>)Â â†’Â bigint</h3><p>ä»å­—ç¬¦ä¸² <code>string</code> çš„æœ«å°¾å¼€å§‹,è¿”å›å­å­—ç¬¦ä¸² <code>substring</code> ç¬¬ <code>instance</code> ä¸ªå‡ºç°ä½ç½®çš„ç´¢å¼•ã€‚<code>instance</code> å¿…é¡»æ˜¯æ­£æ•´æ•°ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸² <code>substring</code> çš„ç¬¬ <code>instance</code> ä¸ªå‡ºç°ä½ç½®ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> strrpos(<span class="string">&#x27;Mommy Finger, Mommy Finger, where are you?&#x27;</span>, <span class="string">&#x27;Mommy Finger&#x27;</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 1ã€‚</p>
<h3 id="position-substring-IN-string-â†’-bigint"><a href="#position-substring-IN-string-â†’-bigint" class="headerlink" title="position(substringÂ INÂ string)Â â†’Â bigint"></a>position(<em>substringÂ INÂ string</em>)Â â†’Â bigint</h3><p>è¿”å›å­—ç¬¦ä¸² <code>string</code> ä¸­å­å­—ç¬¦ä¸² <code>substring</code> ç¬¬ä¸€æ¬¡å‡ºç°çš„èµ·å§‹ä½ç½®ç´¢å¼•ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚å¦‚æœæœªæ‰¾åˆ°å­å­—ç¬¦ä¸² <code>substring</code>ï¼Œåˆ™è¿”å› 0ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">position</span>(<span class="string">&#x27;Mommy Finger&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;Mommy Finger, Mommy Finger, where are you?&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º 1ã€‚</p>
<h3 id="substr-string-start-â†’-varchar"><a href="#substr-string-start-â†’-varchar" class="headerlink" title="substr(string,Â start)Â â†’Â varchar"></a>substr(<em>string</em>,Â <em>start</em>)Â â†’Â varchar</h3><p>ä»èµ·å§‹ä½ç½®ç´¢å¼• <code>start</code> å¼€å§‹è¿”å›å­—ç¬¦ä¸² <code>string</code> çš„å…¶ä½™éƒ¨åˆ†ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚è´Ÿçš„èµ·å§‹ä½ç½®ç´¢å¼•è¢«çœ‹ä½œç›¸å¯¹äºå­—ç¬¦ä¸²æœ«å°¾çš„ä½ç½®ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> substr(<span class="string">&#x27;Mommy Finger&#x27;</span>, <span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º <code>Finger</code>ã€‚</p>
<h3 id="substr-string-start-length-â†’-varchar"><a href="#substr-string-start-length-â†’-varchar" class="headerlink" title="substr(string,Â start,Â length)Â â†’Â varchar"></a>substr(<em>string</em>,Â <em>start</em>,Â <em>length</em>)Â â†’Â varchar</h3><p>ä»èµ·å§‹ä½ç½®ç´¢å¼• <code>start</code> å¼€å§‹ï¼Œè¿”å›å­—ç¬¦ä¸² <code>string</code> é•¿åº¦ä¸º <code>length</code> çš„å­å­—ç¬¦ä¸²ã€‚ä½ç½®ç´¢å¼•ä» 1 å¼€å§‹è®¡æ•°ã€‚è´Ÿçš„èµ·å§‹ä½ç½®ç´¢å¼•è¢«çœ‹ä½œç›¸å¯¹äºå­—ç¬¦ä¸²æœ«å°¾çš„ä½ç½®ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> substr(<span class="string">&#x27;Mommy Finger&#x27;</span>, <span class="number">7</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸º <code>Fi</code>ã€‚</p>
<h3 id="word-stem-word-â†’-varchar"><a href="#word-stem-word-â†’-varchar" class="headerlink" title="word_stem(word)Â â†’Â varchar"></a>word_stem(<em>word</em>)Â â†’Â varchar</h3><p>è¿”å›è‹±è¯­è¯æ±‡Â <code>word</code>Â çš„è¯å¹²ã€‚</p>
<p>è¿”å›è‹±è¯­å•è¯ <code>word</code> çš„è¯æ ¹(è¯å¹²)ã€‚</p>
<h3 id="word-stem-word-lang-â†’-varchar"><a href="#word-stem-word-lang-â†’-varchar" class="headerlink" title="word_stem(word,Â lang)Â â†’Â varchar"></a>word_stem(<em>word</em>,Â <em>lang</em>)Â â†’Â varchar</h3><p>è¿”å›è¯­è¨€ä¸ºÂ <code>lang</code>Â çš„è¯æ±‡Â <code>word</code>Â çš„è¯å¹²ã€‚</p>
<p>è¿”å›è¯­è¨€ lang çš„å•è¯ word çš„è¯æ ¹(è¯å¹²)ã€‚</p>
<h2 id="Unicode-å‡½æ•°"><a href="#Unicode-å‡½æ•°" class="headerlink" title="Unicode å‡½æ•°"></a><strong>Unicode å‡½æ•°</strong></h2><h3 id="normalize-string-â†’-varchar"><a href="#normalize-string-â†’-varchar" class="headerlink" title="normalize(string)Â â†’Â varchar"></a>normalize(<em>string</em>)Â â†’Â varchar</h3><p>ä½¿ç”¨ Unicode æ ‡å‡†åŒ–å½¢å¼ NFCï¼ˆè§„èŒƒç­‰ä»·åˆæˆï¼‰è½¬æ¢å­—ç¬¦ä¸² <code>string</code>ã€‚</p>
<h3 id="normalize-string-form-â†’-varchar"><a href="#normalize-string-form-â†’-varchar" class="headerlink" title="normalize(string,Â form)Â â†’Â varchar"></a>normalize(<em>string</em>,Â <em>form</em>)Â â†’Â varchar</h3><p>ä½¿ç”¨æŒ‡å®šçš„æ­£è§„åŒ–å½¢å¼è½¬æ¢å­—ç¬¦ä¸² <code>string</code>ã€‚<code>form</code> å¿…é¡»æ˜¯ä»¥ä¸‹å…³é”®å­—ä¹‹ä¸€ï¼š</p>
<ul>
<li>NFCï¼šæ ¹æ®â€œè§„èŒƒç­‰ä»·å˜æ¢è¡¨â€å°†å‹ç¼©å˜æ¢ä½œä¸ºå…¶æ­£è§„åŒ–å½¢å¼ä¹‹ä¸€ä½¿ç”¨çš„å­—ç¬¦åºåˆ—è½¬æ¢ä¸ºå…¶è§„èŒƒå˜æ¢ã€‚</li>
<li>NFDï¼šé€šè¿‡åœ¨å…¶æ­£è§„åŒ–å½¢å¼ä¸­è§£æ„å˜æ¢åŸºæœ¬æ±‰å­—å°†å­—ç¬¦åºåˆ—åˆ†è§£ä¸ºç»„æˆåŸºæœ¬æ±‰å­—çš„åˆ†è§£åºåˆ—ã€‚</li>
<li>NFKCï¼šéæ­£è§„åŒ–å½¢å¼é€šè¿‡çœç•¥ç­‰ä»·å˜æ¢ä½¿å­—ç¬¦åºåˆ—æ›´æµç•…åœ°æ˜¾ç¤ºå’Œæ’åºã€‚</li>
<li>NFKDï¼šéè§„èŒƒç­‰ä»·é”®åºåˆ—é€šè¿‡åœ¨å…¶éè§„èŒƒå½¢å¼ä¸­è§£æ„å˜æ¢åŸºæœ¬æ±‰å­—å°†å­—ç¬¦åºåˆ—åˆ†è§£ä¸ºç»„æˆåŸºæœ¬æ±‰å­—çš„åˆ†è§£åºåˆ—,å¹¶ä½¿å…¶æ›´è§„èŒƒã€‚</li>
</ul>
<p>å¦‚æœæŒ‡å®šçš„å½¢å¼æ— æ•ˆï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">normalize</span>(<span class="string">&#x27;ä¸­å›½&#x27;</span>, NFKD)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè¯¥ SQL æ ‡å‡†å‡½æ•°å…·æœ‰ç‰¹æ®Šè¯­æ³•ï¼Œéœ€è¦å°†Â <code>form</code>Â æŒ‡å®šä¸ºå…³é”®å­—ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚ä»¥ä¸‹å†™æ³•å°†æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">normalize</span>(<span class="string">&#x27;ä¸­å›½&#x27;</span>, <span class="string">&#x27;NFKD&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å¼‚å¸¸ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>SQL é”™è¯¯ [1]: Query failed (#20230509_121235_03637_xs34i): line 1:24: mismatched input â€˜â€™NFKDâ€™â€™. Expecting: â€˜NFCâ€™, â€˜NFDâ€™, â€˜NFKCâ€™, â€˜NFKDâ€™</p>
<h3 id="to-utf8-string-â†’-varbinary"><a href="#to-utf8-string-â†’-varbinary" class="headerlink" title="to_utf8(string)Â â†’Â varbinary"></a>to_utf8(<em>string</em>)Â â†’Â varbinary</h3><p>å°†å­—ç¬¦ä¸²Â <code>string</code>Â ç¼–ç ä¸º UTF-8 äºŒè¿›åˆ¶è¡¨ç¤ºã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> to_utf8(<span class="string">&#x27;How are you, todayï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼ˆäºŒè¿›åˆ¶æ˜¾ç¤ºä¸ºä¹±ç ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">How are you, todayÃ¯Â¼ Ã¤Â½ Ã¤Â» Ã¥Â¤Â©Ã¦  Ã¤Â¹ Ã¦ Â·</span><br></pre></td></tr></table></figure>

<h3 id="from-utf8-binary-â†’-varchar"><a href="#from-utf8-binary-â†’-varchar" class="headerlink" title="from_utf8(binary)Â â†’Â varchar"></a>from_utf8(<em>binary</em>)Â â†’Â varchar</h3><p>è§£ç  UTF-8 ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ® <code>binary</code>ã€‚æ— æ•ˆçš„ UTF-8 åºåˆ—å°†è¢« Unicode æ›¿ä»£å­—ç¬¦Â <code>U+FFFD</code>Â æ›¿æ¢ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> from_utf8(to_utf8(<span class="string">&#x27;How are you, todayï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">How are you, todayï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·</span><br></pre></td></tr></table></figure>

<h3 id="from-utf8-binary-replace-â†’-varchar"><a href="#from-utf8-binary-replace-â†’-varchar" class="headerlink" title="from_utf8(binary,Â replace)Â â†’Â varchar"></a>from_utf8(<em>binary</em>,Â <em>replace</em>)Â â†’Â varchar</h3><p>è§£ç  UTF-8 ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ® <code>binary</code>ã€‚æ— æ•ˆçš„ UTF-8 åºåˆ—å°†è¢«æ›¿æ¢å­—ç¬¦ä¸² <code>replace</code> æ›¿æ¢ã€‚æ›¿æ¢å­—ç¬¦ä¸² <code>replace</code> å¿…é¡»æ˜¯ä¸€ä¸ªå•å­—ç¬¦å­—ç¬¦ä¸²æˆ–ç©ºå­—ç¬¦ä¸²ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— æ•ˆå­—ç¬¦å°†è¢«åˆ é™¤ï¼‰ã€‚</p>
<h3 id="key-sampling-percent-varchar-â†’-double"><a href="#key-sampling-percent-varchar-â†’-double" class="headerlink" title="key_sampling_percent(varchar)Â â†’Â double"></a>key_sampling_percent(<em>varchar</em>)Â â†’Â double</h3><p>æ ¹æ®ç»™å®šçš„Â <code>varchar</code>Â çš„å“ˆå¸Œå€¼ç”Ÿæˆ 0.0 åˆ° 1.0 ä¹‹é—´çš„åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚æ­¤å‡½æ•°ç”¨äºç¡®å®šæ€§æ•°æ®æŠ½æ ·ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | æ•°å­¦è¿ç®—ç¬¦å’Œå‡½æ•°</title>
    <url>/2023/05/28/presto-mathematical-operators-and-functions/</url>
    <content><![CDATA[<h2 id="æ•°å­¦è¿ç®—ç¬¦"><a href="#æ•°å­¦è¿ç®—ç¬¦" class="headerlink" title="æ•°å­¦è¿ç®—ç¬¦"></a>æ•°å­¦è¿ç®—ç¬¦</h2><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>ç›¸åŠ </td>
</tr>
<tr>
<td>-</td>
<td>ç›¸å‡</td>
</tr>
<tr>
<td>*</td>
<td>ç›¸ä¹˜</td>
</tr>
<tr>
<td>/</td>
<td>ç›¸é™¤ï¼ˆæ•´æ•°é™¤æ³•æ‰§è¡Œæˆªæ–­è¿ç®—ï¼‰</td>
</tr>
<tr>
<td>%</td>
<td>å–æ¨¡ï¼ˆæ±‚ä½™ï¼‰</td>
</tr>
</tbody></table>
<h2 id="æ•°å­¦å‡½æ•°"><a href="#æ•°å­¦å‡½æ•°" class="headerlink" title="æ•°å­¦å‡½æ•°"></a>æ•°å­¦å‡½æ•°</h2><h3 id="abs-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#abs-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="abs(x)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>abs(<em>x</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>è¿”å› x çš„ç»å¯¹å€¼ã€‚</p>
<h3 id="cbrt-x-â†’-double"><a href="#cbrt-x-â†’-double" class="headerlink" title="cbrt(x)Â â†’Â double"></a>cbrt(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x çš„ç«‹æ–¹æ ¹ã€‚</p>
<h3 id="ceil-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#ceil-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="ceil(x)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>ceil(<em>x</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p><code>ceiling()</code> å‡½æ•°çš„åˆ«åã€‚</p>
<h3 id="cosine-similarity-x-y-â†’-double"><a href="#cosine-similarity-x-y-â†’-double" class="headerlink" title="cosine_similarity(x,Â y)Â â†’Â double"></a>cosine_similarity(<em>x</em>,Â <em>y</em>)Â â†’Â double</h3><p>è¿”å›ç¨€ç–å‘é‡ x å’Œ y ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> cosine_similarity(MAP(<span class="keyword">ARRAY</span>[<span class="string">&#x27;a&#x27;</span>], <span class="keyword">ARRAY</span>[<span class="number">1.0</span>]), MAP(<span class="keyword">ARRAY</span>[<span class="string">&#x27;a&#x27;</span>], <span class="keyword">ARRAY</span>[<span class="number">2.0</span>])); <span class="comment">-- 1.0</span></span><br></pre></td></tr></table></figure>

<h3 id="degrees-x-â†’-double"><a href="#degrees-x-â†’-double" class="headerlink" title="degrees(x)Â â†’Â double"></a>degrees(<em>x</em>)Â â†’Â double</h3><p>å°†ä»¥å¼§åº¦ä¸ºå•ä½çš„è§’åº¦ x è½¬æ¢ä¸ºåº¦ã€‚</p>
<h3 id="e-â†’-double"><a href="#e-â†’-double" class="headerlink" title="e()Â â†’Â double"></a>e()Â â†’Â double</h3><p>è¿”å›æ¬§æ‹‰æ•° <em>e</em>ã€‚</p>
<blockquote>
<p>å¸¸æ•° <em>e</em>ï¼Œä½œä¸ºæ•°å­¦å¸¸æ•°ï¼Œæ˜¯è‡ªç„¶å¯¹æ•°å‡½æ•°çš„åº•æ•°ï¼Œäº¦ç§°è‡ªç„¶å¸¸æ•°ã€è‡ªç„¶åº•æ•°ï¼Œæˆ–æ˜¯æ¬§æ‹‰æ•°ï¼ˆEulerâ€™s numberï¼‰ï¼Œä»¥ç‘å£«æ•°å­¦å®¶æ¬§æ‹‰å‘½åï¼›è¿˜æœ‰ä¸ªè¾ƒå°‘è§çš„åå­—çº³çš®å°”å¸¸æ•°ï¼Œç”¨æ¥çºªå¿µè‹æ ¼å…°æ•°å­¦å®¶çº¦ç¿°Â·çº³çš®å°”å¼•è¿›å¯¹æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ªæ— é™ä¸å¾ªç¯å°æ•°ï¼ˆæ— ç†æ•°ï¼‰ï¼Œæ•°å€¼çº¦æ˜¯ï¼ˆå°æ•°ç‚¹å 20 ä½ï¼‰ï¼š2.71828182845904523536ï¼Œè¿‘ä¼¼å€¼çº¦ä¸º 271801/99990ã€‚</p>
</blockquote>
<h3 id="exp-x-â†’-double"><a href="#exp-x-â†’-double" class="headerlink" title="exp(x)Â â†’Â double"></a>exp(<em>x</em>)Â â†’Â double</h3><p>è¿”å›æ¬§æ‹‰æ•° <em>e</em> çš„ x æ¬¡å¹‚ã€‚</p>
<h3 id="floor-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#floor-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="floor(x)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>floor(<em>x</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>è¿”å›å°äºæˆ–ç­‰äº x çš„æœ€å¤§æ•´æ•°ï¼ˆå³ï¼šå‘ä¸‹èˆå…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•°ï¼‰ã€‚æ³¨æ„ï¼Œè¯¥å‡½æ•°è¿”å›çš„ç±»å‹ä¸å‚æ•° x çš„ç±»å‹ä¸€è‡´ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> typeof(<span class="built_in">floor</span>(<span class="number">3</span>))        <span class="comment">-- integer</span></span><br><span class="line"><span class="keyword">SELECT</span> typeof(<span class="built_in">floor</span>(<span class="number">4.999</span>))    <span class="comment">-- decimal(2,0)</span></span><br><span class="line"><span class="keyword">SELECT</span> typeof(<span class="built_in">floor</span>(<span class="number">123.019</span>))  <span class="comment">-- decimal(4,0)</span></span><br></pre></td></tr></table></figure>

<h3 id="from-base-string-radix-â†’-bigint"><a href="#from-base-string-radix-â†’-bigint" class="headerlink" title="from_base(string,Â radix)Â â†’Â bigint"></a>from_base(<em>string</em>,Â <em>radix</em>)Â â†’Â bigint</h3><p>å°† <code>radix</code> è¿›åˆ¶çš„å­—ç¬¦ä¸² <code>string</code> è½¬æ¢ä¸º bigintã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> from_base(<span class="string">&#x27;100&#x27;</span>, <span class="number">16</span>);  <span class="comment">-- 256</span></span><br><span class="line"><span class="keyword">SELECT</span> from_base(<span class="string">&#x27;100&#x27;</span>, <span class="number">2</span>);   <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> from_base(<span class="string">&#x27;100&#x27;</span>, <span class="number">10</span>);  <span class="comment">-- 100</span></span><br></pre></td></tr></table></figure>

<h3 id="ln-x-â†’-double"><a href="#ln-x-â†’-double" class="headerlink" title="ln(x)Â â†’Â double"></a>ln(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x çš„è‡ªç„¶å¯¹æ•°ã€‚</p>
<blockquote>
<p>è‡ªç„¶å¯¹æ•°æ˜¯ä»¥å¸¸æ•° <em>e</em> ä¸ºåº•æ•°çš„å¯¹æ•°ï¼Œè®°ä½œ lnNï¼ˆN&gt;0ï¼‰ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ln</span>(e());  <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ln</span>(<span class="number">1</span>);    <span class="comment">-- 0</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ln</span>(<span class="number">2</span>);    <span class="comment">-- 0.6931471805599453</span></span><br></pre></td></tr></table></figure>

<h3 id="log2-x-â†’-double"><a href="#log2-x-â†’-double" class="headerlink" title="log2(x)Â â†’Â double"></a>log2(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°ã€‚</p>
<h3 id="log10-x-â†’-double"><a href="#log10-x-â†’-double" class="headerlink" title="log10(x)Â â†’Â double"></a>log10(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ã€‚</p>
<h3 id="mod-n-m-â†’-è¿”å›ç±»å‹ä¸è¾“å…¥ç›¸åŒ"><a href="#mod-n-m-â†’-è¿”å›ç±»å‹ä¸è¾“å…¥ç›¸åŒ" class="headerlink" title="mod(n,Â m)Â â†’Â [è¿”å›ç±»å‹ä¸è¾“å…¥ç›¸åŒ]"></a>mod(<em>n</em>,Â <em>m</em>)Â â†’Â [è¿”å›ç±»å‹ä¸è¾“å…¥ç›¸åŒ]</h3><p>è¿”å› n é™¤ä»¥ m çš„ä½™æ•°ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">mod</span>(<span class="number">4</span>, <span class="number">2</span>);  <span class="comment">-- 0</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">mod</span>(<span class="number">2</span>, <span class="number">4</span>);  <span class="comment">-- 2</span></span><br></pre></td></tr></table></figure>

<h3 id="pi-â†’-double"><a href="#pi-â†’-double" class="headerlink" title="pi()Â â†’Â double"></a>pi()Â â†’Â double</h3><p>è¿”å›å¸¸æ•° <strong><strong>Ï€ã€‚</strong></strong></p>
<h3 id="pow-x-p-â†’-double"><a href="#pow-x-p-â†’-double" class="headerlink" title="pow(x,Â p)Â â†’Â double"></a>pow(<em>x</em>,Â <em>p</em>)Â â†’Â double</h3><p>è¿”å› x çš„ p æ¬¡å¹‚ï¼Œpower() å‡½æ•°çš„åˆ«åã€‚</p>
<h3 id="power-x-p-â†’-double"><a href="#power-x-p-â†’-double" class="headerlink" title="power(x,Â p)Â â†’Â double"></a>power(<em>x</em>,Â <em>p</em>)Â â†’Â double</h3><p>è¿”å› x çš„ p æ¬¡å¹‚ã€‚</p>
<h3 id="radians-x-â†’-double"><a href="#radians-x-â†’-double" class="headerlink" title="radians(x)Â â†’Â double"></a>radians(<em>x</em>)Â â†’Â double</h3><p>å°†åº¦æ•° x è½¬æ¢ä¸ºå¼§åº¦ã€‚</p>
<blockquote>
<p><strong>å¦‚ä½•å°†åº¦æ•°è½¬æ¢ä¸ºå¼§åº¦ï¼Ÿ</strong></p>
<p><strong><strong>Ï€</strong></strong> å¼§åº¦ç­‰äº180åº¦ï¼š<strong><strong>Ï€</strong></strong> å¼§åº¦ = 180Â°</p>
<p>1 åº¦ç­‰äº 0.01745329252 å¼§åº¦ï¼š</p>
<p>1Â°=<strong>Ï€</strong> / 180Â°=0.005555556Ï€= 0.01745329252 å¼§åº¦</p>
<p><strong>å¼§åº¦ = åº¦ Ã— Ï€ / 180Â°</strong></p>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> radians(<span class="number">180</span>)  <span class="comment">-- 3.141592653589793</span></span><br></pre></td></tr></table></figure>

<h3 id="rand-â†’-double"><a href="#rand-â†’-double" class="headerlink" title="rand()Â â†’Â double"></a>rand()Â â†’Â double</h3><p>è¿”å›èŒƒå›´åœ¨ 0.0 &lt;= x &lt; 1.0 ä¹‹é—´çš„ä¼ªéšæœºå€¼ï¼Œrandom() å‡½æ•°çš„åˆ«åã€‚</p>
<h3 id="random-â†’-double"><a href="#random-â†’-double" class="headerlink" title="random() â†’ double"></a>random() â†’ double</h3><p>è¿”å›èŒƒå›´åœ¨ 0.0 &lt;= x &lt; 1.0 ä¹‹é—´çš„ä¼ªéšæœºå€¼ã€‚</p>
<h3 id="secure-rand-â†’-double"><a href="#secure-rand-â†’-double" class="headerlink" title="secure_rand()Â â†’Â double"></a>secure_rand()Â â†’Â double</h3><p>è¿”å›èŒƒå›´åœ¨0.0 &lt;= x &lt; 1.0ä¹‹é—´çš„åŠ å¯†å®‰å…¨éšæœºå€¼ï¼Œ<code>secure_random()</code> å‡½æ•°çš„åˆ«åã€‚</p>
<h3 id="secure-random-â†’-double"><a href="#secure-random-â†’-double" class="headerlink" title="secure_random()Â â†’Â double"></a>secure_random()Â â†’Â double</h3><p>è¿”å›èŒƒå›´åœ¨0.0 &lt;= x &lt; 1.0ä¹‹é—´çš„åŠ å¯†å®‰å…¨éšæœºå€¼ã€‚</p>
<h3 id="secure-random-lower-upper-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#secure-random-lower-upper-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="secure_random(lower,Â upper)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>secure_random(<em>lower</em>,Â <em>upper</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>è¿”å›èŒƒå›´åœ¨lower &lt;= x &lt; upperä¹‹é—´çš„åŠ å¯†å®‰å…¨éšæœºå€¼ï¼Œå…¶ä¸­ lower &lt; upperã€‚</p>
<h3 id="round-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#round-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="round(x)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>round(<em>x</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>è¿”å› x å››èˆäº”å…¥åçš„æ•´æ•°ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.49</span>);  <span class="comment">-- 3</span></span><br><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.52</span>);  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.59</span>);  <span class="comment">-- 4</span></span><br></pre></td></tr></table></figure>

<h3 id="round-x-d-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#round-x-d-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="round(x,Â d)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>round(<em>x</em>,Â <em>d</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>å°† x å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å d ä½ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.49</span>, <span class="number">1</span>);     <span class="comment">-- 3.5</span></span><br><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.5251</span>, <span class="number">2</span>);   <span class="comment">-- 3.53</span></span><br><span class="line"><span class="keyword">SELECT</span> round(<span class="number">3.59491</span>, <span class="number">2</span>);  <span class="comment">-- 3.59</span></span><br></pre></td></tr></table></figure>

<h3 id="sign-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ"><a href="#sign-x-â†’-è¿”å›ç±»å‹ä¸-x-ç›¸åŒ" class="headerlink" title="sign(x)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]"></a>sign(<em>x</em>)Â â†’Â [è¿”å›ç±»å‹ä¸ x ç›¸åŒ]</h3><p>è¿”å› x çš„ç¬¦å·å‡½æ•°ï¼Œå³ï¼š</p>
<ul>
<li>å¦‚æœå‚æ•°ä¸º 0ï¼Œåˆ™è¿”å› 0ï¼›</li>
<li>å¦‚æœå‚æ•°å¤§äº 0ï¼Œåˆ™è¿”å› 1ï¼›</li>
<li>å¦‚æœå‚æ•°å°äº 0ï¼Œåˆ™è¿”å› -1ã€‚</li>
</ul>
<p>å¯¹äº double å‚æ•°ï¼Œè¯¥å‡½æ•°å¦å¤–è¿”å›ï¼š</p>
<ul>
<li>å¦‚æœå‚æ•°ä¸º NaNï¼Œåˆ™è¿”å› NaNï¼›</li>
<li>å¦‚æœå‚æ•°ä¸º +Infinityï¼Œåˆ™è¿”å› 1ï¼›</li>
<li>å¦‚æœå‚æ•°ä¸º -Infinityï¼Œåˆ™è¿”å› -1ã€‚</li>
</ul>
<h3 id="sqrt-x-â†’-double"><a href="#sqrt-x-â†’-double" class="headerlink" title="sqrt(x)Â â†’Â double"></a>sqrt(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x çš„å¹³æ–¹æ ¹ã€‚</p>
<h3 id="to-base-x-radix-â†’-varchar"><a href="#to-base-x-radix-â†’-varchar" class="headerlink" title="to_base(x,Â radix)Â â†’Â varchar"></a>to_base(<em>x</em>,Â <em>radix</em>)Â â†’Â varchar</h3><p>å°† x è½¬æ¢ä¸º radix è¿›åˆ¶å­—ç¬¦ä¸²ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> to_base(<span class="number">256</span>, <span class="number">16</span>); <span class="comment">-- 100</span></span><br><span class="line"><span class="keyword">SELECT</span> to_base(<span class="number">4</span>, <span class="number">2</span>);    <span class="comment">-- 100</span></span><br><span class="line"><span class="keyword">SELECT</span> to_base(<span class="number">100</span>, <span class="number">10</span>); <span class="comment">-- 100</span></span><br></pre></td></tr></table></figure>

<h3 id="truncate-x-â†’-double"><a href="#truncate-x-â†’-double" class="headerlink" title="truncate(x)Â â†’Â double"></a>truncate(<em>x</em>)Â â†’Â double</h3><p>è¿”å› x èˆå¼ƒå°æ•°ä½åå–æ•´çš„æ•´æ•°ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="number">2.5921</span>);    <span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="number">-3.14159</span>);  <span class="comment">-- -3</span></span><br></pre></td></tr></table></figure>

<h3 id="truncate-x-n-â†’-double"><a href="#truncate-x-n-â†’-double" class="headerlink" title="truncate(x,Â n)Â â†’Â double"></a>truncate(<em>x</em>,Â <em>n</em>)Â â†’Â double</h3><p>è¿”å› x æˆªæ–­åˆ°å°æ•°ç‚¹å n ä½ã€‚n å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œä»¥æˆªæ–­å°æ•°ç‚¹å·¦ä¾§çš„ n ä½æ•°ã€‚</p>
<p>ç¤ºä¾‹</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="number">2.5921</span>, <span class="number">1</span>);   <span class="comment">-- 2.5</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="number">-3.14159</span>, <span class="number">3</span>); <span class="comment">-- -3.141</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="type">REAL</span> <span class="string">&#x27;12.333&#x27;</span>, <span class="number">-1</span>); <span class="comment">-- 10.0 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="type">REAL</span> <span class="string">&#x27;12.333&#x27;</span>, <span class="number">0</span>);  <span class="comment">-- 12.0</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">truncate</span>(<span class="type">REAL</span> <span class="string">&#x27;12.333&#x27;</span>, <span class="number">1</span>);  <span class="comment">-- 12.3</span></span><br></pre></td></tr></table></figure>

<h3 id="width-bucket-x-bound1-bound2-n-â†’-bigint"><a href="#width-bucket-x-bound1-bound2-n-â†’-bigint" class="headerlink" title="width_bucket(x,Â bound1,Â bound2,Â n)Â â†’Â bigint"></a>width_bucket(<em>x</em>,Â <em>bound1</em>,Â <em>bound2</em>,Â <em>n</em>)Â â†’Â bigint</h3><p>å°†æŒ‡å®šçš„è¾¹ç•Œ bound1 ~ bound2 å‡åˆ†ä¸º n ç­‰ä»½ï¼ˆå³ n ä¸ªç­‰å€¼åŒºé—´ï¼‰è¿”å› x æ‰€å¤„åŒºé—´ï¼ˆåŒºé—´ç¼–å·ä» 0 å¼€å§‹ï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå°†è¾¹ç•Œ 0 ~ 30 å‡åŒ€åˆ’åˆ†ä¸º 3 ä¸ªç­‰å€¼åŒºé—´ï¼Œå³ [0, 10)ï¼Œ[10, 20)ï¼Œ[20, 30)ï¼ŒåŒºé—´ç¼–å·åˆ†åˆ«ä¸º 1ã€2ã€3ï¼Œå°äº 0 çš„åŒºé—´ç¼–å·ä¸º 0 ï¼Œå¤§äº 30 çš„åŒºé—´ç¼–å·ä¸º 4ã€‚</p>
<p>å½“ x çš„å€¼åˆ†åˆ«ä¸º -1ï¼Œ0ï¼Œ10ï¼Œ20ï¼Œ30ï¼Œ50 æ—¶ï¼Œè¿”å› x æ‰€å±åŒºé—´å·ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">-1</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);  <span class="comment">-- 0</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);   <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">10</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);  <span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">20</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);  <span class="comment">-- 3</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">30</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);  <span class="comment">-- 4</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">50</span>, <span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>);  <span class="comment">-- 4</span></span><br></pre></td></tr></table></figure>

<h3 id="width-bucket-x-bins-â†’-bigint"><a href="#width-bucket-x-bins-â†’-bigint" class="headerlink" title="width_bucket(x,Â bins)Â â†’Â bigint"></a>width_bucket(<em>x</em>,Â <em>bins</em>)Â â†’Â bigint</h3><p>æŒ‡å®šé¢„è®¾è¾¹ç•Œæ•°ç»„ <code>bins</code>ï¼Œè¿”å› x æ‰€å¤„åŒºé—´ï¼ˆåŒºé—´ç¼–å·ä» 0 å¼€å§‹ï¼‰ã€‚<code>bins</code> å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ª <em>double</em> ç±»å‹çš„æ•°ç»„ï¼Œå¹¶ä¸”æ˜¯æŒ‰å‡åºæ’åºçš„ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<p>ç”¨æ•°ç»„ [10, 20, 30] è¡¨ç¤ºè‡ªå®šä¹‰åŒºé—´åˆ†å¸ƒï¼Œå…¶åˆ†å¸ƒå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="number">10</span>    </span><br><span class="line">[<span class="number">10</span>, <span class="number">20</span>)    </span><br><span class="line">[<span class="number">20</span>, <span class="number">30</span>) </span><br><span class="line"><span class="operator">&gt;=</span> <span class="number">30</span>   </span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">1</span>, <span class="keyword">array</span>[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]);   <span class="comment">-- 0</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">10</span>, <span class="keyword">array</span>[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]);  <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">25</span>, <span class="keyword">array</span>[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]);  <span class="comment">-- 2</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">width_bucket</span>(<span class="number">60</span>, <span class="keyword">array</span>[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]);  <span class="comment">-- 3</span></span><br></pre></td></tr></table></figure>

<h2 id="ç»Ÿè®¡å‡½æ•°"><a href="#ç»Ÿè®¡å‡½æ•°" class="headerlink" title="ç»Ÿè®¡å‡½æ•°"></a>ç»Ÿè®¡å‡½æ•°</h2><h3 id="wilson-interval-lower-successes-trials-z-â†’-double"><a href="#wilson-interval-lower-successes-trials-z-â†’-double" class="headerlink" title="wilson_interval_lower(successes,Â trials,Â z)Â â†’Â double"></a>wilson_interval_lower(<em>successes</em>,Â <em>trials</em>,Â <em>z</em>)Â â†’Â double</h3><p>è¿”å›ä¼¯åŠªåˆ©è¯•éªŒè¿‡ç¨‹åœ¨ç”±zåˆ†æ•°<code>z</code>æŒ‡å®šçš„ç½®ä¿¡æ°´å¹³ä¸‹çš„Wilsonåˆ†æ•°åŒºé—´çš„ä¸‹ç•Œã€‚</p>
<h3 id="wilson-interval-upper-successes-trials-z-â†’-double"><a href="#wilson-interval-upper-successes-trials-z-â†’-double" class="headerlink" title="wilson_interval_upper(successes,Â trials,Â z)Â â†’Â double"></a>wilson_interval_upper(<em>successes</em>,Â <em>trials</em>,Â <em>z</em>)Â â†’Â double</h3><p>è¿”å›ä¼¯åŠªåˆ©è¯•éªŒè¿‡ç¨‹åœ¨ç”±zåˆ†æ•°<code>z</code>æŒ‡å®šçš„ç½®ä¿¡æ°´å¹³ä¸‹çš„Wilsonåˆ†æ•°åŒºé—´çš„ä¸Šç•Œã€‚</p>
<h2 id="ä¸‰è§’å‡½æ•°"><a href="#ä¸‰è§’å‡½æ•°" class="headerlink" title="ä¸‰è§’å‡½æ•°"></a>ä¸‰è§’å‡½æ•°</h2><p>æ‰€æœ‰ä¸‰è§’å‡½æ•°çš„å‚æ•°å‡ä»¥å¼§åº¦è¡¨ç¤ºã€‚å‚è§å•ä½è½¬æ¢å‡½æ•° <em>degrees()</em> å’Œ *radians()*ã€‚</p>
<h3 id="acos-x-â†’-double"><a href="#acos-x-â†’-double" class="headerlink" title="acos(x)Â â†’Â double"></a>acos(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„åä½™å¼¦ã€‚</p>
<h3 id="asin-x-â†’-double"><a href="#asin-x-â†’-double" class="headerlink" title="asin(x)Â â†’Â double"></a>asin(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„åæ­£å¼¦ã€‚</p>
<h3 id="atan-x-â†’-double"><a href="#atan-x-â†’-double" class="headerlink" title="atan(x)Â â†’Â double"></a>atan(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„åæ­£åˆ‡ã€‚</p>
<h3 id="atan2-y-x-â†’-double"><a href="#atan2-y-x-â†’-double" class="headerlink" title="atan2(y,Â x)Â â†’Â double"></a>atan2(<em>y</em>,Â <em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>y / x</code>çš„åæ­£åˆ‡ã€‚</p>
<h3 id="cos-x-â†’-double"><a href="#cos-x-â†’-double" class="headerlink" title="cos(x)Â â†’Â double"></a>cos(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„ä½™å¼¦ã€‚</p>
<h3 id="cosh-x-â†’-double"><a href="#cosh-x-â†’-double" class="headerlink" title="cosh(x)Â â†’Â double"></a>cosh(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„åŒæ›²ä½™å¼¦ã€‚</p>
<h3 id="sin-x-â†’-double"><a href="#sin-x-â†’-double" class="headerlink" title="sin(x)Â â†’Â double"></a>sin(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„æ­£å¼¦ã€‚</p>
<h3 id="tan-x-â†’-double"><a href="#tan-x-â†’-double" class="headerlink" title="tan(x)Â â†’Â double"></a>tan(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„æ­£åˆ‡ã€‚</p>
<h3 id="tanh-x-â†’-double"><a href="#tanh-x-â†’-double" class="headerlink" title="tanh(x)Â â†’Â double"></a>tanh(<em>x</em>)Â â†’Â double</h3><p>è¿”å›<code>x</code>çš„åŒæ›²æ­£åˆ‡ã€‚</p>
<h2 id="æµ®ç‚¹æ•°å‡½æ•°"><a href="#æµ®ç‚¹æ•°å‡½æ•°" class="headerlink" title="æµ®ç‚¹æ•°å‡½æ•°"></a>æµ®ç‚¹æ•°å‡½æ•°</h2><h3 id="infinity-â†’-double"><a href="#infinity-â†’-double" class="headerlink" title="infinity()Â â†’Â double"></a>infinity()Â â†’Â double</h3><p>è¿”å›ä»£è¡¨æ­£æ— ç©·å¤§çš„å¸¸é‡ã€‚</p>
<h3 id="is-finite-x-â†’-boolean"><a href="#is-finite-x-â†’-boolean" class="headerlink" title="is_finite(x)Â â†’Â boolean"></a>is_finite(<em>x</em>)Â â†’Â boolean</h3><p>åˆ¤æ–­<code>x</code>æ˜¯å¦æ˜¯æœ‰é™çš„ã€‚</p>
<h3 id="is-infinite-x-â†’-boolean"><a href="#is-infinite-x-â†’-boolean" class="headerlink" title="is_infinite(x)Â â†’Â boolean"></a>is_infinite(<em>x</em>)Â â†’Â boolean</h3><p>åˆ¤æ–­<code>x</code>æ˜¯å¦æ˜¯æ— ç©·å¤§çš„ã€‚</p>
<h3 id="is-nan-x-â†’-boolean"><a href="#is-nan-x-â†’-boolean" class="headerlink" title="is_nan(x)Â â†’Â boolean"></a>is_nan(<em>x</em>)Â â†’Â boolean</h3><p>åˆ¤æ–­<code>x</code>æ˜¯å¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—(éæ•°å­—)ã€‚</p>
<h3 id="nan-â†’-double"><a href="#nan-â†’-double" class="headerlink" title="nan()Â â†’Â double"></a>nan()Â â†’Â double</h3><p>è¿”å›ä»£è¡¨ä¸æ˜¯æ•°å­—çš„å¸¸é‡ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | æ¦‚è¿°</title>
    <url>/2023/05/19/presto-overview/</url>
    <content><![CDATA[<p>Presto æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ SQL æŸ¥è¯¢å¼•æ“ï¼Œä¸“ä¸ºæŸ¥è¯¢å¤§æ•°æ®è€Œè®¾è®¡ã€‚å®ƒå¯ä»¥åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªå¼‚æ„çš„æ•°æ®æºä¸ŠæŸ¥è¯¢å¤§æ•°æ®é›†ã€‚</p>
<h2 id="åˆ«è¯¯è§£ï¼ŒPresto-ä¸æ˜¯æ•°æ®åº“"><a href="#åˆ«è¯¯è§£ï¼ŒPresto-ä¸æ˜¯æ•°æ®åº“" class="headerlink" title="åˆ«è¯¯è§£ï¼ŒPresto ä¸æ˜¯æ•°æ®åº“"></a>åˆ«è¯¯è§£ï¼ŒPresto ä¸æ˜¯æ•°æ®åº“</h2><p>å°½ç®¡ Presto è¢«è®¸å¤šç¤¾åŒºæˆå‘˜ç§°ä¸ºæ•°æ®åº“ï¼Œä½†æˆ‘ä»¬å¿…é¡»æ˜ç¡® Presto çš„å®šä½ã€‚</p>
<ul>
<li>Presto ç†è§£ SQLï¼Œä½†å¹¶ä¸æä¾›æ ‡å‡†æ•°æ®åº“çš„å…¨éƒ¨åŠŸèƒ½ã€‚</li>
<li>Presto ä¸æ˜¯é€šç”¨çš„å…³ç³»å‹æ•°æ®åº“ï¼Œä¹Ÿä¸æ˜¯ MySQLã€PostgreSQL æˆ– Oracle ç­‰æ•°æ®åº“çš„æ›¿ä»£å“ã€‚</li>
<li>Presto çš„è®¾è®¡ç›®çš„ä¹Ÿä¸æ˜¯åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOLTPï¼‰ã€‚è¿™ä¸€ç‚¹ä¹Ÿé€‚ç”¨äºè®¸å¤šå…¶ä»–ä¸ºæ•°æ®ä»“åº“æˆ–åˆ†æä¼˜åŒ–çš„æ•°æ®åº“ã€‚</li>
</ul>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒPresto çš„é‡ç‚¹åœ¨äºä½¿ç”¨å¤§æ•°æ®ç¯å¢ƒæä¾›å¿«é€Ÿçš„äº¤äº’å¼æ•°æ®åˆ†æå’ŒæŠ¥å‘Šã€‚å¦‚æœä½ éœ€è¦äº‹åŠ¡æ”¯æŒã€æŒä¹…åŒ–å­˜å‚¨æˆ– OLTP å·¥ä½œè´Ÿè½½çš„æ”¯æŒï¼ŒPresto å¯èƒ½ä¸æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚</p>
<h2 id="Presto-è§’è‰²"><a href="#Presto-è§’è‰²" class="headerlink" title="Presto è§’è‰²"></a>Presto è§’è‰²</h2><p>Presto æä¾›ä¸€ç§åˆ†å¸ƒå¼æŸ¥è¯¢æ–¹å¼æ¥é«˜æ•ˆæŸ¥è¯¢å’Œåˆ†æå¤§æ•°æ®ã€‚å®ƒä¸“æ³¨äºä½å»¶è¿Ÿçš„äº¤äº’å¼åˆ†ææŸ¥è¯¢è€Œéäº‹åŠ¡å¤„ç†ã€‚</p>
<p>Presto æ˜¯ä¸€æ¬¾åˆ©ç”¨åˆ†å¸ƒå¼æŸ¥è¯¢é«˜æ•ˆæŸ¥è¯¢å¤§æ•°æ®çš„å·¥å…·ã€‚å¦‚æœä½ å¤„ç† TB çº§æˆ– PB çº§çš„æ•°æ®ï¼Œæ‚¨å¾ˆå¯èƒ½ä½¿ç”¨ä¸ Hadoop å’Œ HDFS äº¤äº’çš„å·¥å…·ã€‚Presto çš„è®¾è®¡ç›®çš„å°±æ˜¯ä¸ºæ›¿ä»£ä½¿ç”¨ MapReduce ä½œä¸šç®¡é“ï¼ˆå¦‚ Hive æˆ– Pigï¼‰æŸ¥è¯¢ HDFS çš„å·¥å…·ï¼Œä½† Presto ä¸é™äºè®¿é—® HDFSã€‚Presto å·²ç»æ‰©å±•åˆ°å¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ä¼ ç»Ÿå…³ç³»æ•°æ®åº“å’Œå…¶ä»–æ•°æ®æºå¦‚ Cassandraã€‚</p>
<p>Presto æ˜¯ä¸ºæ•°æ®ä»“åº“å’Œåˆ†æè€Œè®¾è®¡çš„ï¼Œç”¨äºæ•°æ®åˆ†æã€èšåˆå¤§é‡æ•°æ®å’Œç”ŸæˆæŠ¥å‘Šã€‚è¿™äº›å·¥ä½œè´Ÿè½½é€šå¸¸å½’ç±»ä¸ºè”æœºåˆ†æå¤„ç†ï¼ˆOLAPï¼‰ã€‚</p>
<h2 id="è°åœ¨ç»´æŠ¤-Presto"><a href="#è°åœ¨ç»´æŠ¤-Presto" class="headerlink" title="è°åœ¨ç»´æŠ¤ Presto"></a>è°åœ¨ç»´æŠ¤ Presto</h2><p>Presto æœ€åˆç”± Facebook çš„å·¥ç¨‹å¸ˆç ”å‘ï¼Œç°å·²ä½œä¸ºå¼€æºé¡¹ç›®ï¼Œä¸ä»…æœ‰ Facebook å†…éƒ¨å›¢é˜Ÿåœ¨æ¨è¿›ï¼Œä¹Ÿæœ‰è®¸å¤šç¤¾åŒºå¼€å‘è€…åœ¨å‚ä¸ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | æ¡ä»¶è¡¨è¾¾å¼</title>
    <url>/2023/05/11/presto-conditional-expressions/</url>
    <content><![CDATA[<h2 id="CASE"><a href="#CASE" class="headerlink" title="CASE"></a><strong>CASE</strong></h2><p>æ ‡å‡† SQL çš„ CASE è¡¨è¾¾å¼æœ‰ä¸¤ç§å½¢å¼ã€‚</p>
<p>â€œç®€å•â€ CASE è¡¨è¾¾å¼çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CASE</span> expression</span><br><span class="line">    <span class="keyword">WHEN</span> <span class="keyword">value</span> <span class="keyword">THEN</span> <span class="keyword">result</span></span><br><span class="line">    [ <span class="keyword">WHEN</span> ... ]</span><br><span class="line">    [ <span class="keyword">ELSE</span> <span class="keyword">result</span> ]</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>å®ƒä¼šä»å·¦åˆ°å³é€ä¸ªæ£€æŸ¥æ¯ä¸ªå€¼è¡¨è¾¾å¼ <code>value</code>ï¼Œç›´åˆ°æ‰¾åˆ°ä¸æ¡ä»¶è¡¨è¾¾å¼Â <code>expression</code>Â ç›¸ç­‰çš„è¡¨è¾¾å¼ä¸ºæ­¢ã€‚ç„¶åè¿”å›ç›¸åº”çš„ <code>result</code> è¡¨è¾¾å¼ã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…çš„è¡¨è¾¾å¼ï¼Œåˆ™è¿”å› <code>ELSE</code> å­å¥ä¸­çš„ <code>result</code> è¡¨è¾¾å¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¦åˆ™è¿”å› nullã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a,</span><br><span class="line">       <span class="keyword">CASE</span> a</span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;one&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">&#x27;two&#x27;</span></span><br><span class="line">           <span class="keyword">ELSE</span> <span class="string">&#x27;many&#x27;</span></span><br><span class="line">       <span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>â€œæœç´¢â€å½¢å¼çš„ CASE è¡¨è¾¾å¼å…è®¸ä½¿ç”¨ä»»æ„å¸ƒå°”æ¡ä»¶åˆ¤æ–­ç»“æœè¡¨è¾¾å¼ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CASE</span></span><br><span class="line">    <span class="keyword">WHEN</span> <span class="keyword">condition</span> <span class="keyword">THEN</span> <span class="keyword">result</span></span><br><span class="line">    [ <span class="keyword">WHEN</span> ... ]</span><br><span class="line">    [ <span class="keyword">ELSE</span> <span class="keyword">result</span> ]</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>å®ƒä¼šä»å·¦åˆ°å³è®¡ç®—æ¯ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º <code>True</code>ï¼Œç„¶åè¿”å›ç›¸åº”çš„ <code>result</code> è¡¨è¾¾å¼ã€‚å¦‚æœæ‰€æœ‰æ¡ä»¶è¡¨è¾¾å¼å‡ä¸º <code>FALSE</code>ï¼Œåˆ™è¿”å› <code>ELSE</code> å­å¥ä¸­çš„ <code>result</code> è¡¨è¾¾å¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¦åˆ™è¿”å› nullã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a, b,</span><br><span class="line">       <span class="keyword">CASE</span></span><br><span class="line">           <span class="keyword">WHEN</span> a <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line">           <span class="keyword">WHEN</span> b <span class="operator">=</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">&#x27;bbb&#x27;</span></span><br><span class="line">           <span class="keyword">ELSE</span> <span class="string">&#x27;ccc&#x27;</span></span><br><span class="line">       <span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<h2 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h2><p><code>IF</code> å‡½æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ªç¼–ç¨‹è¯­è¨€ç»“æ„ï¼Œç›¸å½“äºä»¥ä¸‹çš„ <code>CASE</code> è¡¨è¾¾å¼ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CASE</span></span><br><span class="line">    <span class="keyword">WHEN</span> <span class="keyword">condition</span> <span class="keyword">THEN</span> true_value</span><br><span class="line">    [ <span class="keyword">ELSE</span> false_value ]</span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure>

<p>if(<em>condition</em>,Â <em>true_value</em>)</p>
<p>å¦‚æœ <em>condition</em> ä¸º trueï¼Œåˆ™è®¡ç®— <em>true_value</em> è¡¨è¾¾å¼å¹¶è¿”å›è®¡ç®—ç»“æœï¼Œå¦åˆ™è¿”å› null ä¸”ä¸è®¡ç®— <em>true_value</em> è¡¨è¾¾å¼ã€‚</p>
<p>if(<em>condition</em>,Â <em>true_value</em>,Â <em>false_value</em>)</p>
<p>å¦‚æœ <em>condition</em> ä¸º trueï¼Œåˆ™è®¡ç®— <em>true_value</em> è¡¨è¾¾å¼å¹¶è¿”å›è®¡ç®—ç»“æœï¼Œå¦åˆ™è®¡ç®— <em>false_value</em> è¡¨è¾¾å¼å¹¶è¿”å›è®¡ç®—ç»“æœã€‚</p>
<h2 id="COALESCE"><a href="#COALESCE" class="headerlink" title="COALESCE"></a><strong>COALESCE</strong></h2><p>coalesce(<em>value1</em>,Â <em>value2</em>[,Â <em>â€¦</em>])</p>
<p>ä»å‚æ•°åˆ—è¡¨ä¸­è¿”å›ç¬¬ä¸€ä¸ªéç©ºçš„å€¼ã€‚å’Œ <code>CASE</code> è¡¨è¾¾å¼ä¸€æ ·ï¼Œå‚æ•°åªåœ¨å¿…è¦æ—¶æ‰ä¼šè¢«è®¡ç®—ã€‚</p>
<h2 id="NULLIF"><a href="#NULLIF" class="headerlink" title="NULLIF"></a><strong>NULLIF</strong></h2><p>nullif(<em>value1</em>,Â <em>value2</em>)</p>
<p>å¦‚æœ <code>value1</code> ç­‰äº <code>value2</code> ï¼Œåˆ™è¿”å› nullï¼Œå¦åˆ™è¿”å› <code>value1</code>ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | æ¯”è¾ƒè¿ç®—ç¬¦å’Œå‡½æ•°</title>
    <url>/2023/05/14/presto-comparison-functions-and-operators/</url>
    <content><![CDATA[<h2 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h2><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;</td>
<td>å°äº</td>
</tr>
<tr>
<td>&gt;</td>
<td>å¤§äº</td>
</tr>
<tr>
<td>&lt;=</td>
<td>å°äºç­‰äº</td>
</tr>
<tr>
<td>&gt;=</td>
<td>å¤§äºç­‰äº</td>
</tr>
<tr>
<td>=</td>
<td>ç­‰äº</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>!=</td>
<td>ä¸ç­‰äºï¼ˆéæ ‡å‡†ä½†å¸¸ç”¨çš„è¯­æ³•ï¼‰</td>
</tr>
</tbody></table>
<h2 id="èŒƒå›´è¿ç®—ç¬¦ï¼šBETWEEN"><a href="#èŒƒå›´è¿ç®—ç¬¦ï¼šBETWEEN" class="headerlink" title="èŒƒå›´è¿ç®—ç¬¦ï¼šBETWEEN"></a>èŒƒå›´è¿ç®—ç¬¦ï¼š<strong>BETWEEN</strong></h2><p><code>BETWEEN</code> è¿ç®—ç¬¦ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦åœ¨æŒ‡å®šèŒƒå›´å†…ã€‚å®ƒä½¿ç”¨å¦‚ä¸‹è¯­æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">value</span> <span class="keyword">BETWEEN</span> min <span class="keyword">AND</span> max</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">BETWEEN</span> <span class="number">2</span> <span class="keyword">AND</span> <span class="number">6</span>;  <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šçš„è¯­å¥ç­‰æ•ˆäºï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3</span> <span class="operator">&gt;=</span> <span class="number">2</span> <span class="keyword">AND</span> <span class="number">3</span> <span class="operator">&lt;=</span> <span class="number">6</span>;  <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>è¦åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œåˆ™ä½¿ç”¨Â <code>NOT BETWEEN</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3</span> <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">2</span> <span class="keyword">AND</span> <span class="number">6</span>;  <span class="comment">-- false</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°è¯­å¥ä¸ä»¥ä¸‹è¯­å¥ç­‰æ•ˆï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3</span> <span class="operator">&lt;</span> <span class="number">2</span> <span class="keyword">OR</span> <span class="number">3</span> <span class="operator">&gt;</span> <span class="number">6</span>;  <span class="comment">-- false</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>BETWEEN</code> æˆ–Â <code>NOT BETWEEN</code>Â è¯­å¥ä¸­å‡ºç° NULL å°†å¯¼è‡´è¯­å¥è®¡ç®—ç»“æœä¸º NULL:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NULL</span> <span class="keyword">BETWEEN</span> <span class="number">2</span> <span class="keyword">AND</span> <span class="number">4</span>; <span class="comment">-- null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">2</span> <span class="keyword">BETWEEN</span> <span class="keyword">NULL</span> <span class="keyword">AND</span> <span class="number">6</span>; <span class="comment">-- null</span></span><br></pre></td></tr></table></figure>

<p><code>BETWEEN</code> å’Œ <code>NOT BETWEEN</code> è¿ç®—ç¬¦ä¹Ÿå¯ä»¥ç”¨äºæ¯”è¾ƒå­—ç¬¦ä¸²å‚æ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;Paul&#x27;</span> <span class="keyword">BETWEEN</span> <span class="string">&#x27;John&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;Ringo&#x27;</span>; <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œ<code>BETWEEN</code>Â å’ŒÂ <code>NOT BETWEEN</code>Â çš„ valueã€min å’Œ max å‚æ•°å¿…é¡»æ˜¯åŒä¸€ç±»å‹ã€‚ä¾‹å¦‚ï¼Œåˆ¤æ–­å­—ç¬¦ä¸² Presto John æ˜¯å¦åœ¨ 2.3 å’Œ 35.2 ä¹‹é—´ï¼Œå°†ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;Presto John&#x27;</span> <span class="keyword">BETWEEN</span> <span class="number">2.3</span> <span class="keyword">AND</span> <span class="number">35.2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cannot check if varchar(11) is BETWEEN decimal(2,1) and decimal(3,1)</span><br></pre></td></tr></table></figure>

<h2 id="IS-NULL-å’Œ-IS-NOT-NULL"><a href="#IS-NULL-å’Œ-IS-NOT-NULL" class="headerlink" title="IS NULL å’Œ IS NOT NULL"></a>I<strong>S NULL å’Œ IS NOT NULL</strong></h2><p><code>IS NULL</code> å’Œ <code>IS NOT NULL</code> è¿ç®—ç¬¦ç”¨äºåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º NULLã€‚ä¸¤ä¸ªè¿ç®—ç¬¦é€‚ç”¨äºæ‰€æœ‰æ•°æ®ç±»å‹ã€‚<br>å°† NULL ä¸ IS NULL ä¸€èµ·ä½¿ç”¨ä¼šè¿”å› trueï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">NULL</span> <span class="keyword">IS</span> <span class="keyword">NULL</span>; <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>ä½†ä»»ä½•å…¶ä»–å¸¸é‡ä¸ä¼šï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3.0</span> <span class="keyword">IS</span> <span class="keyword">NULL</span>; <span class="comment">-- false</span></span><br></pre></td></tr></table></figure>

<h2 id="IS-DISTINCT-FROM-å’Œ-IS-NOT-DISTINCT-FROM"><a href="#IS-DISTINCT-FROM-å’Œ-IS-NOT-DISTINCT-FROM" class="headerlink" title="IS DISTINCT FROM å’Œ IS NOT DISTINCT FROM"></a><strong>IS DISTINCT FROM å’Œ IS NOT DISTINCT FROM</strong></h2><p>åœ¨ SQL ä¸­ï¼Œ<code>NULL</code>Â å€¼è¡¨ç¤ºæœªçŸ¥å€¼ï¼Œå› æ­¤æ¶‰åŠÂ <code>NULL</code>Â çš„ä»»ä½•æ¯”è¾ƒéƒ½ä¼šäº§ç”ŸÂ <code>NULL</code>ã€‚<code>IS DISTINCT FROM</code>  å’ŒÂ <code>IS NOT DISTINCT FROM</code>Â è¿ç®—ç¬¦å°†Â <code>NULL</code>Â è§†ä¸ºå·²çŸ¥å€¼ï¼Œä¸”è¿™ä¸¤ä¸ªè¿ç®—ç¬¦å³ä½¿åœ¨å­˜åœ¨Â <code>NULL</code>Â è¾“å…¥çš„æƒ…å†µä¸‹ä¹Ÿä¿è¯ä¼šäº§ç”ŸçœŸæˆ–å‡ç»“æœï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NULL</span> <span class="keyword">IS</span> <span class="keyword">DISTINCT</span> <span class="keyword">FROM</span> <span class="keyword">NULL</span>; <span class="comment">-- false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NULL</span> <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">DISTINCT</span> <span class="keyword">FROM</span> <span class="keyword">NULL</span>; <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼ŒNULL å€¼ä¸è¢«è§†ä¸ºä¸ NULL ä¸åŒã€‚å½“æ¯”è¾ƒå¯èƒ½åŒ…å« NULL çš„å€¼æ—¶ï¼Œä½¿ç”¨è¿™äº›è¿ç®—ç¬¦ä»¥ä¿è¯å¾—åˆ° TRUE æˆ– FALSE ç»“æœã€‚</p>
<p>ä»¥ä¸‹çœŸå€¼è¡¨æ¼”ç¤ºäº† IS DISTINCT FROM å’Œ IS NOT DISTINCT FROM ä¸­çš„ NULL å¤„ç†ï¼š</p>
<table>
<thead>
<tr>
<th>a</th>
<th>b</th>
<th>a = b</th>
<th>a &lt;&gt; b</th>
<th>a DISTINCT b</th>
<th>a NOT DISTINCT b</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>TRUE</td>
<td>FALSE</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>FALSE</td>
<td>TRUE</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr>
<td>1</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
</tbody></table>
<h2 id="GREATEST-å’Œ-LEAST"><a href="#GREATEST-å’Œ-LEAST" class="headerlink" title="GREATEST å’Œ LEAST"></a><strong>GREATEST å’Œ LEAST</strong></h2><p>è¿™ä¸¤ä¸ªå‡½æ•°ä¸åœ¨ SQL æ ‡å‡†ä¸­ï¼Œä½†æ˜¯ä¸€ç§å¸¸è§çš„æ‰©å±•ã€‚ä¸ Presto ä¸­çš„å¤§å¤šæ•°å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œå¦‚æœä»»ä½•å‚æ•°ä¸º nullï¼Œå®ƒä»¬å°†è¿”å› nullã€‚è¯·æ³¨æ„ï¼Œåœ¨æŸäº›å…¶ä»–æ•°æ®åº“ï¼ˆå¦‚ PostgreSQLï¼‰ä¸­ï¼Œåªæœ‰å½“æ‰€æœ‰å‚æ•°éƒ½ä¸º null æ—¶ï¼Œå®ƒä»¬æ‰ä¼šè¿”å› nullã€‚</p>
<p>æ”¯æŒä»¥ä¸‹ç±»å‹:</p>
<p><code>DOUBLE</code>ã€<code>BIGINT</code>ã€<code>VARCHAR</code>ã€<code>TIMESTAMP</code>ã€<code>TIMESTAMP WITH TIME ZONE</code>ã€<code>DATE</code></p>
<p>greatest(<em>value1</em>,Â <em>value2</em>,Â <em>â€¦</em>,Â <em>valueN</em>)Â â†’Â [ä¸è¾“å…¥ç±»å‹ç›¸åŒ]</p>
<p>è¿”å›æä¾›çš„å€¼ä¸­æœ€å¤§çš„å€¼ã€‚</p>
<p>least(<em>value1</em>,Â <em>value2</em>,Â <em>â€¦</em>,Â <em>valueN</em>)Â â†’Â [åŒè¾“å…¥]</p>
<p>è¿”å›æä¾›çš„å€¼ä¸­æœ€å°çš„å€¼ã€‚</p>
<h2 id="é‡åŒ–æ¯”è¾ƒè°“è¯ï¼š-ALL-ANY-å’Œ-SOME"><a href="#é‡åŒ–æ¯”è¾ƒè°“è¯ï¼š-ALL-ANY-å’Œ-SOME" class="headerlink" title="é‡åŒ–æ¯”è¾ƒè°“è¯ï¼š ALL, ANY å’Œ SOME"></a>é‡åŒ–æ¯”è¾ƒè°“è¯ï¼š ALL, ANY å’Œ SOME</h2><p><code>ALL</code>ã€<code>ANY</code> å’ŒÂ <code>SOME</code>Â é‡è¯å¯ä»¥ä¸æ¯”è¾ƒè¿ç®—ç¬¦ç»“åˆä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">expression operator quantifier ( subquery )</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;hello&#x27;</span> <span class="operator">=</span> <span class="keyword">ANY</span> (<span class="keyword">VALUES</span> <span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>); <span class="comment">-- true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">21</span> <span class="operator">&lt;</span> <span class="keyword">ALL</span> (<span class="keyword">VALUES</span> <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>); <span class="comment">-- false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">42</span> <span class="operator">&gt;=</span> <span class="keyword">SOME</span> (<span class="keyword">SELECT</span> <span class="number">41</span> <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> <span class="number">42</span> <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> <span class="number">43</span>); <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>è¿™äº›é‡è¯å’Œæ¯”è¾ƒè¿ç®—ç¬¦çš„ç»„åˆå«ä¹‰å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>AÂ =Â ALLÂ (â€¦)</td>
<td>å½“ A ç­‰äºæ‰€æœ‰çš„å€¼æ—¶ï¼Œç»“æœä¸º trueã€‚</td>
</tr>
<tr>
<td>AÂ &lt;&gt;Â ALLÂ (â€¦)</td>
<td>å½“ A ä¸åŒ¹é…ä»»ä½•å€¼æ—¶ï¼Œç»“æœä¸º trueã€‚</td>
</tr>
<tr>
<td>AÂ &lt;Â ALLÂ (â€¦)</td>
<td>å½“ A å°äºæœ€å°å€¼æ—¶ï¼Œç»“æœä¸º trueã€‚</td>
</tr>
<tr>
<td>AÂ =Â ANYÂ (â€¦)</td>
<td>å½“ A ç­‰äºå…¶ä¸­ä»»æ„å€¼æ—¶ï¼Œç»“æœä¸º trueã€‚è¿™ç§å½¢å¼ç­‰ä»·äº A IN (â€¦)ã€‚</td>
</tr>
<tr>
<td>AÂ &lt;&gt;Â ANYÂ (â€¦)</td>
<td>å½“ A ä¸åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ªå€¼æ—¶ï¼Œç»“æœä¸º trueã€‚</td>
</tr>
<tr>
<td>AÂ &lt;Â ANYÂ (â€¦)</td>
<td>å½“ A å°äºæœ€å¤§å€¼æ—¶ï¼Œç»“æœä¸º trueã€‚</td>
</tr>
</tbody></table>
<p><code>ANY</code>Â å’ŒÂ <code>SOME</code>Â çš„æ„æ€ç›¸åŒï¼Œå¯ä»¥äº’æ¢ä½¿ç”¨ã€‚</p>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products</span><br><span class="line"><span class="keyword">WHERE</span> price <span class="operator">&gt;</span> <span class="keyword">ALL</span> (<span class="keyword">SELECT</span> price <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> category <span class="operator">=</span> <span class="string">&#x27;Toys&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæŸ¥è¯¢å°†è¿”å›ä»·æ ¼é«˜äºæ‰€æœ‰ç©å…·å•†å“ä»·æ ¼çš„å•†å“ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products</span><br><span class="line"><span class="keyword">WHERE</span> price <span class="operator">&gt;</span> <span class="keyword">ANY</span> (<span class="keyword">SELECT</span> price <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> category <span class="operator">=</span> <span class="string">&#x27;Toys&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæŸ¥è¯¢å°†è¿”å›ä»·æ ¼é«˜äºä»»ä¸€ç©å…·å•†å“ä»·æ ¼çš„å•†å“ã€‚</p>
<h2 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a><strong>LIKE</strong></h2><p>LIKE è¿ç®—ç¬¦ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šå­—ç¬¦æ¨¡å¼ã€‚æ¨¡å¼å¯ä»¥åŒ…å«æ™®é€šå­—ç¬¦å’Œé€šé…ç¬¦ã€‚é€šé…ç¬¦å¯ä»¥ä½¿ç”¨ ESCAPE å‚æ•°æŒ‡å®šçš„å•ä¸ªå­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚åŒ¹é…åŒºåˆ†å¤§å°å†™ã€‚<br>è¯­æ³•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">expression <span class="keyword">LIKE</span> <span class="keyword">pattern</span> [ <span class="keyword">ESCAPE</span> <span class="string">&#x27;escape_character&#x27;</span> ]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœÂ <code>pattern</code>Â æˆ–Â <code>escape_character</code>Â ä¸º nullï¼Œåˆ™è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸º nullã€‚</p>
<table>
<thead>
<tr>
<th>é€šé…ç¬¦</th>
<th>è¡¨ç¤º</th>
</tr>
</thead>
<tbody><tr>
<td>%</td>
<td>ç™¾åˆ†å·è¡¨ç¤ºé›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>_</td>
<td>ä¸‹åˆ’çº¿è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦</td>
</tr>
</tbody></table>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;abc&#x27;</span>), (<span class="string">&#x27;bcd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%b%&#x27;</span></span><br><span class="line"><span class="comment">--returns &#x27;abc&#x27; and  &#x27;bcd&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;abc&#x27;</span>), (<span class="string">&#x27;bcd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;_b%&#x27;</span></span><br><span class="line"><span class="comment">--returns &#x27;abc&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;abc&#x27;</span>), (<span class="string">&#x27;bcd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;b%&#x27;</span></span><br><span class="line"><span class="comment">--returns &#x27;bcd&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;abc&#x27;</span>), (<span class="string">&#x27;bcd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;B%&#x27;</span></span><br><span class="line"><span class="comment">--returns nothing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;a_c&#x27;</span>), (<span class="string">&#x27;_cd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%#_%&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;#&#x27;</span></span><br><span class="line"><span class="comment">--returns &#x27;a_c&#x27; and  &#x27;_cd&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (<span class="string">&#x27;a%c&#x27;</span>), (<span class="string">&#x27;%cd&#x27;</span>), (<span class="string">&#x27;cde&#x27;</span>)) <span class="keyword">AS</span> t (name)</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%#%%&#x27;</span> <span class="keyword">ESCAPE</span> <span class="string">&#x27;#&#x27;</span></span><br><span class="line"><span class="comment">--returns &#x27;a%c&#x27; and  &#x27;%cd&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLè¡¨æ·»åŠ å­—æ®µæ—¶æŠ¥é”™ï¼š1062 - Duplicate entry &#39;xxxx&#39; for key &#39;idx_unique&#39;</title>
    <url>/2023/07/05/mysql-add-column-error-duplicate-entry-xxx-for-key-idx-unique/</url>
    <content><![CDATA[<p>å½“æˆ‘ä»¬å‘ä¸€ä¸ªå·²å­˜åœ¨çš„ MySQL è¡¨ä¸­æ·»åŠ æ–°å­—æ®µæ—¶ï¼Œæœ‰æ—¶ä¼šé‡åˆ° 1062 é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1062 - Duplicate entry &#x27;xxxx&#x27; for key &#x27;idx_unique&#x27;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæŠ¥é”™çš„å«ä¹‰æ˜¯åœ¨ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼ˆunique indexï¼‰ä¸‹æœ‰é‡å¤çš„å€¼ã€‚</p>
<p>MySQL å®˜æ–¹æ–‡æ¡£<a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-online-ddl-limitations.html">ã€ŠInnoDB åœ¨çº¿ DDL é™åˆ¶ã€‹</a>æœ‰ä¸€æ®µå…³äºè¯¥é”™è¯¯çš„è¯´æ˜ï¼ŒåŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>When running an online DDL operation, the thread that runs theÂ <code>[ALTER TABLE](https://dev.mysql.com/doc/refman/5.7/en/alter-table.html)</code>Â statement applies an online log of DML operations that were run concurrently on the same table from other connection threads. When the DML operations are applied, it is possible to encounter a duplicate key entry error (ERROR 1062 (23000): Duplicate entry), even if the duplicate entry is only temporary and would be reverted by a later entry in the online log. This is similar to the idea of a foreign key constraint check inÂ <code>InnoDB</code>Â in which constraints must hold during a transaction.</p>
</blockquote>
<p>ä¸­æ–‡å¤§æ¦‚æ„æ€æ˜¯ï¼š</p>
<p>å½“æ‰§è¡Œåƒ <code>ALTER TABLE</code> ç­‰ DDL è¯­å¥æ—¶ï¼Œä¼šè®°å½•åŒæ—¶æœŸå¯¹è¯¥è¡¨çš„ DML æ“ä½œã€‚æ‰§è¡Œ DDL è¯­å¥æ—¶ï¼Œä¼šåº”ç”¨è¿™äº› DML æ“ä½œã€‚å¦‚æœå…¶ä¸­çš„æŸä¸ª DML æ“ä½œå¯¼è‡´äº†é‡å¤é”®é”™è¯¯ï¼ˆå³ ERROR 1062 (23000): Duplicate entryï¼‰ï¼Œé‚£ä¹ˆ DDL è¯­å¥ä¹Ÿä¼šå¤±è´¥ï¼Œå³ä½¿è¯¥é‡å¤é”®åªæ˜¯æš‚æ—¶çš„ï¼Œæœ€ç»ˆä¼šè¢«åç»­ DML æ“ä½œæ’¤æ¶ˆã€‚è¿™ç±»ä¼¼äº InnoDB æ•°æ®åº“çš„å¤–é”®çº¦æŸæ£€æŸ¥ï¼Œä¸€ä¸ªäº‹åŠ¡å†…éƒ¨ï¼Œå¤–é”®çº¦æŸå¿…é¡»è¢«æ»¡è¶³ã€‚</p>
<p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘çš„ç”Ÿäº§ç¯å¢ƒ MySQL ç‰ˆæœ¬æ˜¯ 5.7.31ï¼Œè¡¨ <code>tb_post</code> çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œä¸»é”®æ˜¯ <code>id</code>ï¼Œå”¯ä¸€ç´¢å¼•ç”± <code>post_id</code>ã€<code>channel</code>ã€<code>dt</code> ä¸‰ä¸ªå­—æ®µç»„æˆï¼Œå…·ä½“å»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `tb_post` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `post_id` <span class="type">varchar</span>(<span class="number">127</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;POST ID&#x27;</span>,</span><br><span class="line">  `channel` <span class="type">varchar</span>(<span class="number">20</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ¸ é“&#x27;</span>,</span><br><span class="line">  `dt` <span class="type">varchar</span>(<span class="number">20</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;æ—¥æœŸ&#x27;</span>,</span><br><span class="line">  `pv_tt` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä»Šæ—¥pv&#x27;</span>,</span><br><span class="line">  `uv_tt` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ä»Šæ—¥è®¿é—®uv&#x27;</span>,</span><br><span class="line">  `gmt_create` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">  `gmt_modified` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="string">&#x27;æ›´æ–°æ—¶é—´&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  <span class="keyword">UNIQUE</span> KEY `idx_unique` (`post_id`,`channel`,`dt`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">1</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;POSTæ¯æ—¥æŒ‡æ ‡&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¯¥è¡¨çš„æ•°æ®æŒ‡æ ‡â€”â€”ä»Šæ—¥ uvã€pv ç”± Flink è®¡ç®—åå†™å…¥ï¼Œå†™æ“ä½œé¢‘ç¹ã€‚</p>
<p>ç°åœ¨è¯¥è¡¨éœ€è¦æ–°å¢ç”¨æˆ·ç‚¹èµæ•°é‡çš„å­—æ®µ <code>like_tt</code>ï¼Œæ‰§è¡Œ SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tb_post </span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">COLUMN</span> like_tt <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä»Šæ—¥ç‚¹èµæ•°é‡&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç»“æœæŠ¥é”™ï¼Œé”™è¯¯ä¿¡æ¯æç¤ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1062</span> <span class="operator">-</span> Duplicate entry <span class="string">&#x27;poeG8yefW3XwxK6zvNy-APP-2023-07-05&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;idx_unique&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç½‘ä¸Šçš„è§£å†³æ–¹æ³•æœ‰å¤šç§ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸´æ—¶åˆ é™¤è¯¥å”¯ä¸€ç´¢å¼•ï¼Œæ·»åŠ å­—æ®µåï¼Œå†æ¢å¤å”¯ä¸€ç´¢å¼•ã€‚</li>
<li>ç»™è¡¨åŠ è¡¨é”ã€‚</li>
</ul>
<p>è™½ç„¶é€šè¿‡ä»¥ä¸Šæ–¹æ³•èƒ½åšåˆ°ç»™è¡¨æ–°å¢å­—æ®µï¼Œä½†æˆ–å¤šæˆ–å°‘éƒ½ä¼šç»™ç°æœ‰ä¸šåŠ¡é€ æˆå½±å“ï¼Œå¦‚å‡ºç°é‡å¤æ•°æ®è®°å½•ã€æ•°æ®å†™ä¸è¿›ç­‰ã€‚</p>
<p>ä¸ºå°½é‡å°‘åœ°å½±å“ä¸šåŠ¡ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯é€šè¿‡åœ¨ SQL çš„æœ«å°¾åŠ ä¸Š <code>ALGORITHM=COPY</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tb_post </span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">COLUMN</span> like_tt <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">0</span> COMMENT <span class="string">&#x27;ä»Šæ—¥ç‚¹èµæ•°é‡&#x27;</span>, ALGORITHM<span class="operator">=</span><span class="keyword">COPY</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | é€»è¾‘è¿ç®—ç¬¦</title>
    <url>/2023/05/13/presto-logical-operators/</url>
    <content><![CDATA[<h2 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h2><table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>AND</td>
<td>å½“è¿ç®—ç¬¦ AND ä¸¤è¾¹çš„è¡¨è¾¾å¼çš„ç»“æœéƒ½ä¸º true æ—¶ï¼Œæ•´ä¸ªè¿ç®—ç»“æœæ‰ä¸º trueï¼Œå¦åˆ™ï¼Œåªè¦æœ‰ä¸€æ–¹ä¸º falseï¼Œåˆ™ç»“æœä¸º falseã€‚</td>
<td>a AND b</td>
</tr>
<tr>
<td>OR</td>
<td>å½“è¿ç®—ç¬¦ OR ä¸¤è¾¹çš„è¡¨è¾¾å¼çš„ç»“æœåªè¦æœ‰ä¸€ä¸ªä¸º true æ—¶ï¼Œæ•´ä¸ªè¿ç®—ç»“æœä¸º trueï¼›ä¸¤è¾¹çš„è¡¨è¾¾å¼çš„ç»“æœå‡ä¸º falseï¼Œåˆ™ç»“æœä¸º falseã€‚</td>
<td>a OR b</td>
</tr>
<tr>
<td>NOT</td>
<td>å¦‚æœå¸ƒå°”å€¼ä¸ºÂ falseÂ è¿”å›Â trueï¼›å¦‚æœå¸ƒå°”å€¼ä¸ºÂ true è¿”å›Â falseã€‚</td>
<td>NOT a</td>
</tr>
</tbody></table>
<h2 id="NULL-å€¼å¯¹é€»è¾‘è¿ç®—ç¬¦çš„å½±å“"><a href="#NULL-å€¼å¯¹é€»è¾‘è¿ç®—ç¬¦çš„å½±å“" class="headerlink" title="NULL å€¼å¯¹é€»è¾‘è¿ç®—ç¬¦çš„å½±å“"></a>NULL å€¼å¯¹é€»è¾‘è¿ç®—ç¬¦çš„å½±å“</h2><p>å¦‚æœè¡¨è¾¾å¼çš„ä¸€è¾¹æˆ–ä¸¤è¾¹æ˜¯ <em>NULL</em>ï¼Œé‚£ä¹ˆ <code>AND</code> è¿ç®—ç¬¦çš„ç»“æœå¯èƒ½æ˜¯ <em>NULL</em>ã€‚å¦‚æœ <code>AND</code> è¿ç®—ç¬¦è‡³å°‘æœ‰ä¸€è¾¹æ˜¯ <code>FALSE</code>ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼çš„ç»“æœä¸º <code>FALSE</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">AND</span> <span class="literal">true</span>; <span class="comment">-- null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">AND</span> <span class="literal">false</span>; <span class="comment">-- false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">AND</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>); <span class="comment">-- null</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¡¨è¾¾å¼çš„ä¸€è¾¹æˆ–ä¸¤è¾¹æ˜¯ <em>NULL</em>ï¼Œé‚£ä¹ˆ <code>OR</code> è¿ç®—ç¬¦è¾ƒçš„ç»“æœå¯èƒ½æ˜¯ <em>NULL</em>ã€‚å¦‚æœä¸€ä¸ª <code>OR</code> è¿ç®—ç¬¦çš„è‡³å°‘ä¸€è¾¹æ˜¯ <code>TRUE</code>ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼çš„ç»“æœä¸º <code>TRUE</code>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">OR</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>); <span class="comment">-- null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">OR</span> <span class="literal">false</span>; <span class="comment">-- null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>) <span class="keyword">OR</span> <span class="literal">true</span>; <span class="comment">-- true</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„çœŸå€¼è¡¨å±•ç¤ºäº†åœ¨ <code>AND</code> å’Œ <code>OR</code> ä¸­å¯¹ <em>NULL</em> çš„å¤„ç†ï¼š</p>
<table>
<thead>
<tr>
<th>a</th>
<th>b</th>
<th>a AND b</th>
<th>a OR b</th>
</tr>
</thead>
<tbody><tr>
<td>TRUE</td>
<td>TRUE</td>
<td>TRUE</td>
<td>TRUE</td>
</tr>
<tr>
<td>TRUE</td>
<td>FALSE</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr>
<td>TRUE</td>
<td>NULL</td>
<td>NULL</td>
<td>TRUE</td>
</tr>
<tr>
<td>FALSE</td>
<td>TRUE</td>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr>
<td>FALSE</td>
<td>FALSE</td>
<td>FALSE</td>
<td>FALSE</td>
</tr>
<tr>
<td>FALSE</td>
<td>NULL</td>
<td>FALSE</td>
<td>NULL</td>
</tr>
<tr>
<td>NULL</td>
<td>TRUE</td>
<td>NULL</td>
<td>TRUE</td>
</tr>
<tr>
<td>NULL</td>
<td>FALSE</td>
<td>FALSE</td>
<td>NULL</td>
</tr>
<tr>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody></table>
<p>å¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼Œ<em>NULL</em> çš„é€»è¾‘éæ˜¯ <em>NULL</em>ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NOT</span> <span class="built_in">CAST</span>(<span class="keyword">null</span> <span class="keyword">AS</span> <span class="type">boolean</span>); <span class="comment">-- null</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„çœŸå€¼è¡¨æ¼”ç¤ºäº† <code>NOT</code> ä¸­å¯¹ <em>NULL</em> çš„å¤„ç†ï¼š</p>
<table>
<thead>
<tr>
<th>a</th>
<th>NOT a</th>
</tr>
</thead>
<tbody><tr>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr>
<td>FALSE</td>
<td>TRUE</td>
</tr>
<tr>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody></table>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | æ•°æ®ç±»å‹</title>
    <url>/2023/05/23/presto-data-types/</url>
    <content><![CDATA[<p>Presto æœ‰ä¸€å¥—å†…ç½®çš„æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚å…¶ä»–ç±»å‹å¯ä»¥ç”±æ’ä»¶æä¾›ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šè¿æ¥å™¨ä¸éœ€è¦æ”¯æŒæ‰€æœ‰ç±»å‹ã€‚æœ‰å…³æ”¯æŒç±»å‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…è¿æ¥å™¨æ–‡æ¡£ã€‚</p>
</blockquote>
<h2 id="Boolean-å¸ƒå°”å‹"><a href="#Boolean-å¸ƒå°”å‹" class="headerlink" title="Boolean å¸ƒå°”å‹"></a><strong>Boolean å¸ƒå°”å‹</strong></h2><p><code>BOOLEAN</code></p>
<p>æ­¤ç±»å‹è¡¨ç¤ºå¸ƒå°”å€¼ true å’Œ falseã€‚</p>
<h2 id="Integer-æ•´æ•°"><a href="#Integer-æ•´æ•°" class="headerlink" title="Integer æ•´æ•°"></a><strong>Integer æ•´æ•°</strong></h2><p><strong><code>TINYINT</code></strong></p>
<p>å­˜å‚¨ç©ºé—´ä¸º 8 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä» $-2^{(8-1)}$ åˆ° $2^{(8-1)}-1$ï¼Œå³æœ€å°å€¼ä¸º -128ï¼Œæœ€å¤§å€¼ä¸º 127ã€‚</p>
<p><strong><code>SMALLINT</code></strong></p>
<p>å­˜å‚¨ç©ºé—´ä¸º 16 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä» $-2^{(16-1)}$ åˆ° $2^{(16-1)}-1$ï¼Œå³æœ€å°å€¼ä¸º -32768ï¼Œæœ€å¤§å€¼ä¸º 32767ã€‚</p>
<p><strong><code>INTEGER</code></strong></p>
<p>å­˜å‚¨ç©ºé—´ä¸º 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä» $-2^{(32-1)}$ åˆ° $2^{(32-1)}-1$ï¼Œå³æœ€å°å€¼ä¸º -2147483648ï¼Œæœ€å¤§å€¼ä¸º2147483647ã€‚</p>
<p>INT åç§°ä¹Ÿå¯ç”¨äºæ­¤ç±»å‹ã€‚</p>
<p><strong><code>BIGINT</code></strong></p>
<p>å­˜å‚¨ç©ºé—´ä¸º 64 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œå¯ä»¥å­˜å‚¨çš„å€¼çš„èŒƒå›´ä» $-2^{(64-1)}$ åˆ° $2^{(64-1)}-1$ï¼Œå³æœ€å°å€¼ä¸º -9223372036854775808ï¼Œæœ€å¤§å€¼ä¸º9223372036854775807ã€‚</p>
<h2 id="Floating-Point-æµ®ç‚¹æ•°"><a href="#Floating-Point-æµ®ç‚¹æ•°" class="headerlink" title="Floating-Point æµ®ç‚¹æ•°"></a><strong>Floating-Point æµ®ç‚¹æ•°</strong></h2><p><strong><code>REAL</code></strong></p>
<p>32 ä½ä¸ç²¾ç¡®çš„ã€å¯å˜ç²¾åº¦çš„ IEEE 754 æ ‡å‡†åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</p>
<p><strong><code>DOUBLE</code></strong></p>
<p>Double æ˜¯ä¸€ç§64ä½ä¸ç²¾ç¡®ã€å¯å˜ç²¾åº¦çš„äºŒè¿›åˆ¶æµ®ç‚¹è¿ç®—å®ç° IEEE æ ‡å‡†754ã€‚</p>
<p>64 ä½ä¸ç²¾ç¡®çš„ã€å¯å˜ç²¾åº¦çš„ IEEE 754 æ ‡å‡†åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</p>
<h2 id="Fixed-Precision-å›ºå®šç²¾åº¦"><a href="#Fixed-Precision-å›ºå®šç²¾åº¦" class="headerlink" title="Fixed-Precision å›ºå®šç²¾åº¦"></a><strong>Fixed-Precision å›ºå®šç²¾åº¦</strong></h2><p><strong><code>DECIMAL</code></strong></p>
<p>å›ºå®šç²¾åº¦çš„åè¿›åˆ¶æ•°ã€‚æ”¯æŒæœ€å¤š 38 ä½çš„ç²¾åº¦ï¼Œä½†æ€§èƒ½æœ€é«˜å¯è¾¾ 18 ä½ã€‚</p>
<p>åè¿›åˆ¶ç±»å‹æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<p>ç²¾åº¦ - è¡¨ç¤ºæœ‰æ•ˆæ•°å­—æ•°çš„ç²¾åº¦ï¼›</p>
<p>å°æ•°ä½æ•° - å°æ•°éƒ¨åˆ†çš„ä½æ•°ï¼Œå³å°æ•°ç‚¹åçš„ä½æ•°ã€‚å°æ•°ä½æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º0ã€‚</p>
<p>ç±»å‹å®šä¹‰ç¤ºä¾‹ï¼š<code>DECIMAL (10,3)</code>ï¼Œ <code>DECIMAL (20)</code></p>
<p>å€¼ç¤ºä¾‹ï¼š<code>DECIMAL &#39;10.3&#39;</code>ï¼Œ<code>DECIMAL &#39;1234567890&#39;</code>ï¼Œ<code>1.1</code></p>
<blockquote>
<p>æ³¨æ„ï¼šç”±äºå…¼å®¹æ€§çš„åŸå› ï¼Œåœ¨ 0.198 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ²¡æœ‰æ˜ç¡®ç±»å‹æŒ‡å®šçš„åè¿›åˆ¶å­—è¯ï¼ˆä¾‹å¦‚1.2ï¼‰é»˜è®¤è¢«è§†ä¸º DOUBLE ç±»å‹çš„å€¼ã€‚0.198 ä¹‹åï¼Œå®ƒä»¬è¢«è§£æä¸º DECIMALã€‚</p>
</blockquote>
<ul>
<li>ç³»ç»ŸèŒƒå›´å†…çš„å±æ€§ï¼š<code>parse-decal-Literals-as-double</code></li>
<li>ä¼šè¯èŒƒå›´å†…çš„å±æ€§ï¼š<code>parse_decal_Literals_as_double</code><blockquote>
</blockquote>
</li>
</ul>
<h2 id="String-å­—ç¬¦ä¸²"><a href="#String-å­—ç¬¦ä¸²" class="headerlink" title="String å­—ç¬¦ä¸²"></a><strong>String å­—ç¬¦ä¸²</strong></h2><p><strong><code>VARCHAR</code></strong></p>
<p>å…·æœ‰å¯é€‰æœ€å¤§é•¿åº¦çš„å¯å˜é•¿åº¦å­—ç¬¦ä¸²ã€‚</p>
<p>ç±»å‹å®šä¹‰ç¤ºä¾‹ï¼š<code>varchar</code>ï¼Œ<code>varchar(20)</code></p>
<p><strong><code>CHAR</code></strong></p>
<p>å›ºå®šé•¿åº¦å­—ç¬¦ä¸²ã€‚æ²¡æœ‰æŒ‡å®šé•¿åº¦çš„ CHAR ç±»å‹çš„é»˜è®¤é•¿åº¦ä¸º 1ã€‚CHAR(x) å€¼æ€»æ˜¯æœ‰ x å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œåœ¨ CHAR(7) ä¸­åŠ å…¥äº† 4 ä¸ªéšå¼çš„å°¾éšç©ºæ ¼ã€‚åœ¨ CHAR å€¼çš„æ¯”è¾ƒä¸­åŒ…æ‹¬å‰å¯¼ç©ºæ ¼å’Œå°¾éšç©ºæ ¼ã€‚å› æ­¤ï¼Œä¸¤ä¸ªé•¿åº¦ä¸åŒçš„å­—ç¬¦å€¼ CHAR(x) å’Œ CHAR(y)ï¼Œå…¶ä¸­ x != yï¼Œæ°¸è¿œä¸ä¼šç›¸ç­‰ã€‚</p>
<p>ç±»å‹å®šä¹‰ç¤ºä¾‹ï¼š<code>char</code>ï¼Œ<code>char(20)</code></p>
<p><strong><code>VARBINARY</code></strong></p>
<p>å¯å˜é•¿åº¦äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸æ”¯æŒå…·æœ‰é•¿åº¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼š<code>varinary(n)</code></p>
</blockquote>
<p><strong><code>JSON</code></strong></p>
<p>JSON å€¼ç±»å‹ï¼Œå¯ä»¥æ˜¯ JSON å¯¹è±¡ã€ JSON æ•°ç»„ã€ JSON æ•°å­—ã€ JSON å­—ç¬¦ä¸²ã€ trueã€ false æˆ– nullã€‚</p>
<h2 id="Date-and-Time-æ—¥æœŸåŠæ—¶é—´"><a href="#Date-and-Time-æ—¥æœŸåŠæ—¶é—´" class="headerlink" title="Date and Time æ—¥æœŸåŠæ—¶é—´"></a><strong>Date and Time æ—¥æœŸåŠæ—¶é—´</strong></h2><p><strong><code>DATE</code></strong></p>
<p>æ—¥å†æ—¥æœŸï¼ˆå¹´ã€æœˆã€æ—¥ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>DATE &#39;2001-08-22&#39;</code></p>
<p><strong><code>TIME</code></strong></p>
<p>ä¸€å¤©ä¸­æ²¡æœ‰æ—¶åŒºçš„æ—¶é—´ï¼ˆå°æ—¶ã€åˆ†é’Ÿã€ç§’ã€æ¯«ç§’ï¼‰ã€‚æ­¤ç±»å‹çš„å€¼å°†åœ¨ä¼šè¯æ—¶åŒºä¸­è¿›è¡Œè§£æå’Œå‘ˆç°ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>TIME &#39;01:02:03.456&#39;</code></p>
<p><strong><code>TIMEÂ WITHÂ TIMEÂ ZONE</code></strong></p>
<p>å¸¦æ—¶åŒºçš„ä¸€å¤©ä¸­çš„æ—¶é—´ï¼ˆå°æ—¶ã€åˆ†é’Ÿã€ç§’ã€æ¯«ç§’ï¼‰ã€‚æ­¤ç±»å‹çš„å€¼ä½¿ç”¨è¯¥å€¼çš„æ—¶åŒºå‘ˆç°ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>TIME &#39;01:02:03.456 America/Los_Angeles&#39;</code></p>
<p><strong><code>TIMESTAMP</code></strong></p>
<p>å³æ—¶æ—¶é—´ï¼ŒåŒ…æ‹¬ä¸€å¤©ä¸­æ²¡æœ‰æ—¶åŒºçš„æ—¥æœŸå’Œæ—¶é—´ã€‚æ­¤ç±»å‹çš„å€¼å°†åœ¨ä¼šè¯æ—¶åŒºä¸­è¿›è¡Œè§£æå’Œå‘ˆç°ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>TIMESTAMP &#39;2001-08-2203:04:05.321&#39;</code></p>
<p><strong><code>TIMESTAMPÂ WITHÂ TIMEÂ ZONE</code></strong></p>
<p>å³æ—¶æ—¶é—´ï¼ŒåŒ…æ‹¬ä¸€å¤©ä¸­çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œå¸¦æœ‰æ—¶åŒºã€‚æ­¤ç±»å‹çš„å€¼ä¼šæ ¹æ®æ‰€åœ¨çš„æ—¶åŒºæ¥æ˜¾ç¤ºå…·ä½“çš„æ—¶é—´ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>TIMESTAMP &#39;2001-08-22 03:04:05.321 America/Los_Angeles&#39;</code></p>
<p><strong><code>INTERVALÂ YEARÂ TOÂ MONTH</code></strong></p>
<p>è¡¨ç¤ºå¹´æœˆä¹‹é—´è·¨åº¦ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>INTERVAL &#39;3&#39; MONTH</code> è¡¨ç¤º 3 ä¸ªæœˆçš„è·¨åº¦ã€‚</p>
<p><strong><code>INTERVALÂ DAYÂ TOÂ SECOND</code></strong></p>
<p>å¤©ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’å’Œæ¯«ç§’ä¹‹é—´çš„è·¨åº¦ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>INTERVALÂ &#39;2&#39;Â DAY</code> è¡¨ç¤ºä¸¤å¤©çš„è·¨åº¦ã€‚</p>
<h2 id="Structural-ç»“æ„"><a href="#Structural-ç»“æ„" class="headerlink" title="Structural ç»“æ„"></a><strong>Structural ç»“æ„</strong></h2><p><strong><code>ARRAY</code></strong></p>
<p>è¡¨ç¤ºç»™å®šç±»å‹çš„æ•°ç»„ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>ARRAY[1,Â 2,Â 3]</code> æ˜¯ä¸€ä¸ªæ•´å‹æ•°ç»„ã€‚</p>
<p><strong><code>MAP</code></strong></p>
<p>è¡¨ç¤ºä¸€ä¸ªé”®å€¼å¯¹æ˜ å°„ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>MAP(ARRAY[&#39;foo&#39;,Â &#39;bar&#39;],Â ARRAY[1,Â 2])</code></p>
<p><strong><code>ROW</code></strong></p>
<p>è¡¨ç¤ºä¸€ä¸ªç”±å‘½åå­—æ®µç»„æˆçš„ç»“æ„ä½“ã€‚è¿™äº›å­—æ®µå¯ä»¥æ˜¯ä»»ä½• SQL ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å­—æ®µå¼•ç”¨è¿ç®—ç¬¦è®¿é—®ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>CAST(ROW(1,Â 2.0)Â ASÂ ROW(xÂ BIGINT,Â yÂ DOUBLE))</code> å°†ä¸€ä¸ªåŒ¿å ROW ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªå‘½åå­—æ®µ ROW ç±»å‹ã€‚</p>
<h2 id="Network-Address-ç½‘ç»œåœ°å€"><a href="#Network-Address-ç½‘ç»œåœ°å€" class="headerlink" title="Network Address ç½‘ç»œåœ°å€"></a><strong>Network Address ç½‘ç»œåœ°å€</strong></h2><p><strong><code>IPADDRESS</code></strong></p>
<p>è¡¨ç¤º IPv4 æˆ– IPv6 åœ°å€ã€‚</p>
<p>åœ¨å†…éƒ¨ï¼Œå®ƒä½¿ç”¨ IPv6 åœ°å€æ ¼å¼æ¥å­˜å‚¨ï¼Œè€Œ IPv4 åœ°å€ä¼šè¢«æ˜ å°„åˆ° IPv4 æ˜ å°„çš„ IPv6 åœ°å€èŒƒå›´ï¼ˆRFC 4291#section-2.5.5.2ï¼‰ã€‚<br>åˆ›å»º IPADDRESS ç±»å‹å€¼æ—¶ï¼ŒIPv4 åœ°å€ä¼šè¢«æ˜ å°„åˆ°è¿™ä¸ªèŒƒå›´ã€‚<br>æ˜¾ç¤º IPADDRESS ç±»å‹å€¼æ—¶ï¼Œå¦‚æœåœ°å€å±äºè¿™ä¸ªæ˜ å°„èŒƒå›´ï¼Œä¼šä»¥ IPv4 çš„æ ¼å¼æ˜¾ç¤ºï¼Œå¦åˆ™ä¼šä»¥ RFC 5952 ä¸­å®šä¹‰çš„ IPv6 æ ‡å‡†æ ¼å¼æ˜¾ç¤ºã€‚<br>ä¾‹å¦‚ï¼š<br><code>IPADDRESS &#39;10.0.0.1&#39;</code> å­˜å‚¨ä¸º IPv6 æ˜ å°„åœ°å€ï¼Œæ˜¾ç¤ºä¸º IPv4 åœ°å€ <code>&#39;10.0.0.1&#39;</code></p>
<p><code>IPADDRESS &#39;2001:db8::1&#39;</code> å­˜å‚¨å¹¶æ˜¾ç¤ºä¸º IPv6 åœ°å€ <code>&#39;2001:db8::1&#39;</code></p>
<h2 id="UUID"><a href="#UUID" class="headerlink" title="UUID"></a><strong>UUID</strong></h2><p><strong><code>UUID</code></strong></p>
<p>è¡¨ç¤º UUID (å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦) ï¼Œä¹Ÿç§°ä¸º GUIDã€‚</p>
<p>å®ƒä½¿ç”¨ RFC4122 æ ‡å‡†å®šä¹‰çš„æ ¼å¼ã€‚</p>
<p>ä¾‹å¦‚ï¼š<code>UUIDÂ &#39;12151fd2-7586-11e9-8f9e-2a86e4085a59&#39;</code></p>
<p><strong><code>IPPREFIX</code></strong></p>
<p>è¡¨ç¤º IPv4 æˆ– IPv6 åœ°å€çš„å‰ç¼€ã€‚</p>
<p>åœ¨å†…éƒ¨ï¼Œå®ƒä½¿ç”¨ IPv6 åœ°å€æ ¼å¼å­˜å‚¨ï¼ŒIPv4 åœ°å€ä¼šè¢«æ˜ å°„åˆ° IPv4 æ˜ å°„çš„ IPv6 åœ°å€èŒƒå›´ï¼ˆRFC 4291#section-2.5.5.2ï¼‰ã€‚<br>åˆ›å»º IPPREFIX å€¼æ—¶ï¼ŒIPv4 åœ°å€ä¼šè¢«æ˜ å°„å¹¶æˆªæ–­åˆ°ç½‘ç»œå‰ç¼€ã€‚<br>æ˜¾ç¤º IPPREFIX å€¼æ—¶ï¼Œå¦‚æœåœ°å€å±äº IPv4 æ˜ å°„èŒƒå›´ï¼Œä¼šä»¥ IPv4 CIDR æ ¼å¼æ˜¾ç¤ºï¼Œå¦åˆ™ä¼šä»¥ IPv6 CIDR æ ¼å¼æ˜¾ç¤ºã€‚<br>ä¾‹å¦‚ï¼š</p>
<p><code>IPPREFIX &#39;10.0.1.0/24&#39;</code>  å­˜å‚¨ä¸º IPv6 å‰ç¼€ï¼Œæ˜¾ç¤ºä¸º IPv4 CIDR â€˜10.0.1.0/24â€™</p>
<p><code>IPPREFIX &#39;2001:db8::/48&#39;</code> å­˜å‚¨å¹¶æ˜¾ç¤ºä¸º IPv6 CIDR â€˜2001:db8::/48â€™</p>
<h2 id="HyperLogLog"><a href="#HyperLogLog" class="headerlink" title="HyperLogLog"></a><strong>HyperLogLog</strong></h2><p>HyperLogLog ç®—æ³•æ˜¯ä¸€ç§è¿‘ä¼¼è®¡ç®—ä¸åŒè®¡æ•°çš„ç®—æ³•ï¼Œæ¯”ç²¾ç¡®è®¡æ•°çš„ç®—æ³•æ›´é«˜æ•ˆã€‚</p>
<p><strong><code>HyperLogLog</code></strong></p>
<p>å®ç°äº† HyperLogLog ç®—æ³•ã€‚å®ƒå¼€å§‹é‡‡ç”¨ç¨€ç–è¡¨ç¤ºï¼Œå½“å˜å¾—æ›´åŠ ç´§å‡‘æ—¶ä¼šè½¬æ¢ä¸ºå¯†é›†è¡¨ç¤ºã€‚</p>
<p><strong><code>P4HyperLogLog</code></strong></p>
<p>ä¹Ÿå®ç°äº† HyperLogLog ç®—æ³•ï¼Œä½†æ˜¯å®ƒä¸€å¼€å§‹å’Œåç»­éƒ½é‡‡ç”¨å¯†é›†è¡¨ç¤ºã€‚</p>
<p><strong><code>HyperLogLog</code> VS <code>P4HyperLogLog</code></strong></p>
<p>HyperLogLog ç®—æ³•å’Œç›¸å…³çš„æ•°æ®ç±»å‹è¢«ç”¨æ¥é«˜æ•ˆåœ°è®¡ç®—æ•°æ®é›†ä¸­çš„ä¸åŒå…ƒç´ æ•°é‡ã€‚ç›¸æ¯”äºç²¾ç¡®è®¡æ•°ï¼Œå®ƒå¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ç©ºé—´ã€‚</p>
<p><code>HyperLogLog</code> å’Œ <code>P4HyperLogLog</code> ç±»å‹å®ç°äº† HyperLogLog ç®—æ³•ï¼Œä½†æ˜¯é‡‡ç”¨äº†ä¸åŒçš„è¡¨ç¤ºæ–¹æ³•ã€‚<code>HyperLogLog</code> ç±»å‹åœ¨ç©ºé—´ä¸Šæ›´åŠ é«˜æ•ˆï¼Œä¼šæ ¹æ®æ•°æ®è½¬æ¢è¡¨ç¤ºæ–¹æ³•ã€‚<code>P4HyperLogLog</code> ç±»å‹å§‹ç»ˆé‡‡ç”¨å¯†é›†è¡¨ç¤ºï¼Œç©ºé—´æ¶ˆè€—ç¨å¤§ä½†æ˜¯è®¡ç®—æ•ˆç‡é«˜ä¸€ç‚¹ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™äº› HyperLogLog ç›¸å…³çš„æ•°æ®ç±»å‹ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§éå¸¸é«˜æ•ˆçš„æ–¹å¼æ¥è®¡ç®—è¿‘ä¼¼çš„ä¸åŒè®¡æ•°ã€‚ç›¸æ¯”ç²¾ç¡®ç®—æ³•ï¼Œå®ƒä»¬å¯ä»¥æå¤§åœ°èŠ‚çœå†…å­˜ç©ºé—´å’Œè®¡ç®—èµ„æºã€‚è¿™ä½¿å…¶éå¸¸é€‚åˆåœ¨è¶…å¤§æ•°æ®é›†ä¸Šè¿›è¡Œç›¸åº”çš„è¿ç®—å’Œåˆ†æã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒHyperLogLog ç®—æ³•åŠå…¶ç›¸å…³æ•°æ®ç±»å‹åˆ©ç”¨è¿‘ä¼¼ç®—æ³•å®ç°ä¸åŒè®¡æ•°çš„é«˜æ•ˆè®¡ç®—ï¼Œè¿™åœ¨è¶…å¤§æ•°æ®é›†åœºæ™¯ä¸‹å…·æœ‰éå¸¸é«˜çš„åº”ç”¨ä»·å€¼ã€‚</p>
<h2 id="KHyperLogLog"><a href="#KHyperLogLog" class="headerlink" title="KHyperLogLog"></a>KHyperLogLog</h2><p><strong><code>KHyperLogLog</code></strong></p>
<p>å®ç°äº†ä¸€ç§ç”¨äºç´§å‡‘åœ°è¡¨ç¤ºä¸¤åˆ—å…³è”çš„æ•°æ®ç»“æ„ã€‚</p>
<h2 id="Quantile-Digest-åˆ†ä½æ•°æ‘˜è¦"><a href="#Quantile-Digest-åˆ†ä½æ•°æ‘˜è¦" class="headerlink" title="Quantile Digest åˆ†ä½æ•°æ‘˜è¦"></a><strong>Quantile Digest åˆ†ä½æ•°æ‘˜è¦</strong></h2><p><strong><code>QDigest</code></strong></p>
<p>åˆ†ä½æ•°æ‘˜è¦ï¼ˆqdigestï¼‰æ˜¯ä¸€ç§æ‘˜è¦ç»“æ„ï¼Œç”¨äºæ•è·ç»™å®šè¾“å…¥æ•°æ®é›†çš„è¿‘ä¼¼åˆ†å¸ƒï¼Œå¹¶å¯é€šè¿‡æŸ¥è¯¢ä»åˆ†å¸ƒä¸­æ£€ç´¢è¿‘ä¼¼åˆ†ä½æ•°å€¼ã€‚qdigest çš„ç²¾åº¦æ˜¯å¯é…ç½®çš„ï¼Œå…è®¸ä»¥ç‰ºç‰²ç©ºé—´ä¸ºä»£ä»·è·å¾—æ›´ç²¾ç¡®çš„ç»“æœã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ qdigest æ¥è¿‘ä¼¼åœ°æŸ¥è¯¢æŸä¸ªåˆ†ä½æ•°çš„å€¼ã€‚qdigest çš„ä¸€ä¸ªæœ‰ç”¨ç‰¹æ€§æ˜¯å®ƒä»¬æ˜¯å¯åŠ çš„ï¼Œè¿™æ„å‘³ç€å¤šä¸ª qdigest å¯ä»¥åˆå¹¶åœ¨ä¸€èµ·è€Œä¸ä¼šå¤±å»ç²¾åº¦</p>
<p>qdigest å¯ç”¨äºå¯¹è¯¢é—®æŸä¸ªåˆ†ä½æ•°çš„å€¼çš„æŸ¥è¯¢ç»™å‡ºè¿‘ä¼¼ç­”æ¡ˆã€‚Qdigestçš„ä¸€ä¸ªæœ‰ç”¨ç‰¹æ€§æ˜¯å®ƒä»¬æ˜¯å¯åŠ çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥åˆå¹¶åœ¨ä¸€èµ·è€Œä¸ä¼šä¸¢å¤±ç²¾åº¦ã€‚</p>
<p>åªè¦è¿‘ä¼¼çš„åˆ†ä½æ•°ç»“æœå¯ä»¥é‡ç”¨ï¼Œåˆ†ä½æ•°æ‘˜è¦å°±å¾ˆæœ‰å¸®åŠ©ã€‚ä¾‹å¦‚ï¼ŒæŸäººå¯èƒ½å¯¹è¿‡å»ä¸€å‘¨æ¯å¤©ç¬¬ 99 ä¸ªåˆ†ä½æ•°æ„Ÿå…´è¶£ã€‚ä¸éœ€è¦è®¡ç®—æ•´å‘¨çš„æ•°æ®çš„ç¬¬ 99 ä¸ªåˆ†ä½æ•°ï¼Œå¯ä»¥æ¯å¤©å­˜å‚¨ä¸€ä¸ªåˆ†ä½æ•°æ‘˜è¦ï¼Œå¹¶å¿«é€Ÿåˆå¹¶æ¥æŸ¥è¯¢ç¬¬ 99 ä¸ªåˆ†ä½æ•°ã€‚</p>
<h2 id="T-Digest"><a href="#T-Digest" class="headerlink" title="T-Digest"></a><strong>T-Digest</strong></h2><p><strong><code>TDigest</code></strong></p>
<p>T-Digest ç±»ä¼¼äº Q-Digestï¼Œä½†å®ƒä½¿ç”¨ä¸åŒçš„ç®—æ³•æ¥è¡¨ç¤ºä¸€ç»„æ•°å­—çš„è¿‘ä¼¼åˆ†å¸ƒã€‚T-Digest æ¯” Q-Digest å…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œä½†æ˜¯åªæ”¯æŒ DOUBLE ç±»å‹ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | ä½¿ç”¨ with å…³é”®å­—</title>
    <url>/2023/04/22/python-with-keyword/</url>
    <content><![CDATA[<p>Python with è¯­å¥çš„ä½œç”¨æ˜¯åœ¨è¯­å¥å—æ‰§è¡Œå®Œæ¯•åï¼Œè‡ªåŠ¨è°ƒç”¨ with åé¢è¡¨è¾¾å¼çš„ <code>__exit__</code> æ–¹æ³•ã€‚è¿™å…è®¸æˆ‘ä»¬ä¸å¿…æ˜¾å¼åœ°è°ƒç”¨ close æ–¹æ³•ï¼Œå°±å¯ä»¥ç¡®ä¿èµ„æºæ€»ä¼šè¢«é‡Šæ”¾ã€‚with è¯­å¥å¯ä»¥ä½¿ä»£ç æ›´æ¸…æ™°ã€æ›´å…·å¯è¯»æ€§ï¼Œç®€åŒ–äº†æ–‡ä»¶æµã€æ•°æ®åº“è¿æ¥ç­‰å…¬å…±èµ„æºçš„ç®¡ç†ã€‚</p>
<h2 id="ä½¿ç”¨-with-ç¤ºä¾‹"><a href="#ä½¿ç”¨-with-ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ with ç¤ºä¾‹"></a>ä½¿ç”¨ with ç¤ºä¾‹</h2><p>ä¸€ä¸ªæœ€å¸¸è§çš„ä¾‹å­æ˜¯æ‰“å¼€æ–‡ä»¶ï¼Œä½¿ç”¨ with å…³é”®å­—ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    read_data = f.read()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ with å…³é”®å­—ï¼Œæˆ‘ä»¬ä¸å¿…æ˜¾å¼è°ƒç”¨ <code>f.close()</code> æ¥å…³é—­æ–‡ä»¶ã€‚with è¯­å¥ä¼šåœ¨è¯»å–æ–‡ä»¶åè‡ªåŠ¨å…³é—­è¯¥æ–‡ä»¶ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ with å…³é”®å­—ï¼Œä¸ºäº†é¿å…åœ¨è¯»å–æ–‡ä»¶çš„è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œä½¿æ–‡ä»¶ä¸èƒ½è¢«æ­£å¸¸å…³é—­ï¼Œå¯¼è‡´æ–‡ä»¶èµ„æºä¸€ç›´è¢«è¯¥ç¨‹åºå ç”¨è€Œæ— æ³•è¢«é‡Šæ”¾ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>tryâ€¦exceptâ€¦finally</code> ç¼–ç èŒƒå¼ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">		f = <span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>)</span><br><span class="line">    read_data = f.read()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> err:</span><br><span class="line">		<span class="built_in">print</span>(err)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯¹å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„ä»£ç å¤„ä½¿ç”¨ try å…³é”®å­—è¿›è¡Œæ•è·ï¼Œå‘ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œ except ä»£ç å—ï¼Œè€Œ finally ä»£ç å—æ˜¯æ— è®ºä»€ä¹ˆæƒ…å†µéƒ½ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æ–‡ä»¶ä¼šè¢«å…³é—­ï¼Œä¸ä¼šå› ä¸ºæ‰§è¡Œå¼‚å¸¸è€Œå¯¼è‡´è¯¥æ–‡ä»¶èµ„æºä¸€ç›´è¢«å ç”¨ã€‚</p>
<p>é€šè¿‡å¯¹æ¯”è¿™ä¸¤ä¸ªç¤ºä¾‹å¯ä»¥å‘ç°ï¼Œä½¿ç”¨ with å…³é”®å­—çš„ä»£ç ä¼šæ›´åŠ ç®€æ´ã€‚</p>
<h2 id="with-è¯­å¥å®ç°åŸç†"><a href="#with-è¯­å¥å®ç°åŸç†" class="headerlink" title="with è¯­å¥å®ç°åŸç†"></a>with è¯­å¥å®ç°åŸç†</h2><p>with è¯­å¥å¯¹äºä»»ä½•å®ç°äº†ä¸Šä¸‹æ–‡ç®¡ç†åè®®ï¼ˆcontext management protocolï¼‰çš„å¯¹è±¡éƒ½èµ·ä½œç”¨ã€‚è¿™ä¸ªåè®®åŒ…å« <code>__enter__</code> å’Œ <code>__exit__</code> ä¸¤ä¸ªæ–¹æ³•ã€‚<code>__enter__</code> æ–¹æ³•åœ¨ with å—å¼€å§‹æ—¶è¢«è°ƒç”¨ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªç”¨äºè¯¥å—çš„èµ„æºã€‚<code>__exit__</code> æ–¹æ³•åœ¨ç¦»å¼€ with å—æ—¶ï¼Œæ— è®ºæ˜¯æ­£å¸¸é€€å‡ºè¿˜æ˜¯ç”±äºå¼‚å¸¸ï¼Œéƒ½ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ¥å®ç°ä¸€ä¸ªç®€å•çš„è®¡æ—¶å™¨ï¼ˆå³ with è¯­å¥æ¥è®°å½•ä»£ç å—çš„æ‰§è¡Œæ—¶é—´ï¼‰ï¼Œè§‚å¯Ÿ with è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Timer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__enter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.start = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;__enter__: current_timestamp -&quot;</span>, <span class="variable language_">self</span>.start)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__exit__</span>(<span class="params">self, exc_type, exc_val, exc_tb</span>):</span><br><span class="line">        <span class="variable language_">self</span>.end = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.end - <span class="variable language_">self</span>.start)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;__exit__: current_timestamp -&quot;</span>, <span class="variable language_">self</span>.end)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> Timer() <span class="keyword">as</span> t:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;with block, do something...&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		Output:</span></span><br><span class="line"><span class="string">		__enter__: current_timestamp - 1682600690.6863067</span></span><br><span class="line"><span class="string">		with block, do something...</span></span><br><span class="line"><span class="string">		0.0004775524139404297</span></span><br><span class="line"><span class="string">		__exit__: current_timestamp - 1682600690.6867843</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä»£ç æ‰§è¡Œé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ª Timer ç±»ï¼Œå®ƒå®ç°äº† <code>__enter__</code> å’Œ <code>__exit__</code> æ–¹æ³•ï¼Œè¿™ä½¿å®ƒå¯ä»¥ä½œä¸ºä¸Šä¸‹æ–‡ç®¡ç†å™¨ä½¿ç”¨ã€‚</p>
</li>
<li><p><code>__enter__</code> æ–¹æ³•åœ¨ with è¯­å¥å¼€å§‹æ—¶è¢«è°ƒç”¨ã€‚å®ƒè®°å½•äº†å½“å‰æ—¶é—´ï¼Œç”¨äºå¼€å§‹è®¡æ—¶ã€‚</p>
</li>
<li><p>with è¯­å¥å—è¿è¡Œï¼Œæ‰§è¡Œéœ€è¦è®¡æ—¶çš„ä»£ç ã€‚</p>
</li>
<li><p><code>__exit__</code> æ–¹æ³•åœ¨ with è¯­å¥ç»“æŸæ—¶è¢«è°ƒç”¨ã€‚å®ƒå†æ¬¡è®°å½•å½“å‰æ—¶é—´ï¼Œå¹¶è®¡ç®—æ‰§è¡Œæ—¶é—´(end - start)ï¼Œç„¶åæ‰“å°å‡ºæ¥ã€‚</p>
</li>
</ol>
<p>æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ª Timer ç±»é€šè¿‡ <code>__enter__</code> å’Œ <code>__exit__</code> ä¸¤ä¸ªæ–¹æ³•æ¥è®¡ç®— with ä»£ç å—çš„æ‰§è¡Œæ—¶é—´ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | è½¬æ¢å‡½æ•°</title>
    <url>/2023/05/15/presto-conversion-functions/</url>
    <content><![CDATA[<p>Presto å¯ä»¥éšå¼åœ°å°†æ•°å­—å’Œå­—ç¬¦å€¼è½¬æ¢ä¸ºé€‚å½“çš„æ•°æ®ç±»å‹,å‰ææ˜¯è¿™ç§è½¬æ¢æ˜¯å¯è¡Œçš„ã€‚ç„¶è€Œï¼ŒPresto ä¸ä¼šåœ¨å­—ç¬¦ç±»å‹å’Œæ•°å­—ç±»å‹é—´éšå¼è½¬æ¢ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæœŸæœ›è·å¾— <code>varchar</code> ç±»å‹ç»“æœçš„æŸ¥è¯¢ä¸ä¼šè‡ªåŠ¨å°† <code>bigint</code> ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¯¹åº”çš„ <code>varchar</code> ç±»å‹ã€‚</p>
<p>å¦‚æœæœ‰éœ€è¦ï¼Œå€¼å¯ä»¥é€šè¿‡æ˜¾å¼è½¬æ¢æ¥å˜æ¢ä¸ºç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚</p>
<h2 id="è½¬æ¢å‡½æ•°"><a href="#è½¬æ¢å‡½æ•°" class="headerlink" title="è½¬æ¢å‡½æ•°"></a>è½¬æ¢å‡½æ•°</h2><p>cast(<em>valueÂ ASÂ type</em>)Â â†’Â type</p>
<p>å¯ä»¥é€šè¿‡æ˜¾å¼è½¬æ¢å°†ä¸€ä¸ªå€¼å˜æ¢ä¸ºç‰¹å®šçš„æ•°æ®ç±»å‹ã€‚è¿™å¯ä»¥ç”¨äºå°† <code>varchar</code> ç±»å‹çš„å€¼è½¬æ¢ä¸ºæ•°å­—ç±»å‹ï¼Œåä¹‹ä¹Ÿå¯ä»¥ã€‚</p>
<p>try_cast(<em>valueÂ ASÂ type</em>)Â â†’Â type</p>
<p>ä¸Â <code>cast()</code>Â å‡½æ•°ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå¦‚æœè½¬æ¢å¤±è´¥ï¼Œå®ƒä¼šè¿”å› null å€¼ã€‚</p>
<h2 id="æ•°æ®å¤§å°"><a href="#æ•°æ®å¤§å°" class="headerlink" title="æ•°æ®å¤§å°"></a>æ•°æ®å¤§å°</h2><p>parse_presto_data_size(<em>string</em>)</p>
<p>å¯ä»¥å°†æ ¼å¼ä¸º <code>value unit</code> çš„å­—ç¬¦ä¸²è§£æä¸ºä¸€ä¸ªæ•°å­—ï¼Œå…¶ä¸­ï¼š</p>
<p><code>value</code> ä¸ºå°æ•°ï¼Œè¡¨ç¤º <code>unit</code> å€¼çš„æ•°å€¼éƒ¨åˆ†ï¼›</p>
<p><code>unit</code> ä¸ºæ•°æ®å¤§å°çš„å•ä½ï¼Œå¦‚Bã€KBã€MBã€GBç­‰ã€‚</p>
<p><code>parse_presto_data_size</code> å‡½æ•°æ”¯æŒä»¥ä¸‹æ•°æ®å¤§å°å•ä½ï¼š</p>
<table>
<thead>
<tr>
<th>å•ä½</th>
<th>æè¿°</th>
<th>å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>B</td>
<td>Bytes</td>
<td>1</td>
</tr>
<tr>
<td>kB</td>
<td>Kilobytes</td>
<td>1024</td>
</tr>
<tr>
<td>MB</td>
<td>Megabytes</td>
<td>1024^2</td>
</tr>
<tr>
<td>GB</td>
<td>Gigabytes</td>
<td>1024^3</td>
</tr>
<tr>
<td>TB</td>
<td>Terabytes</td>
<td>1024^4</td>
</tr>
<tr>
<td>PB</td>
<td>Petabytes</td>
<td>10245^</td>
</tr>
<tr>
<td>EB</td>
<td>Exabytes</td>
<td>1024^6</td>
</tr>
<tr>
<td>ZB</td>
<td>Zettabytes</td>
<td>1024^7</td>
</tr>
<tr>
<td>YB</td>
<td>Yottabytes</td>
<td>1024^8</td>
</tr>
</tbody></table>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> parse_presto_data_size(<span class="string">&#x27;1B&#x27;</span>); <span class="comment">-- 1</span></span><br><span class="line"><span class="keyword">SELECT</span> parse_presto_data_size(<span class="string">&#x27;1kB&#x27;</span>); <span class="comment">-- 1024</span></span><br><span class="line"><span class="keyword">SELECT</span> parse_presto_data_size(<span class="string">&#x27;1MB&#x27;</span>); <span class="comment">-- 1048576</span></span><br><span class="line"><span class="keyword">SELECT</span> parse_presto_data_size(<span class="string">&#x27;2.3MB&#x27;</span>); <span class="comment">-- 2411724</span></span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>typeof(<em>expr</em>)Â â†’Â varchar</p>
<p>æ ¹æ®æä¾›çš„è¡¨è¾¾å¼ï¼Œæ¨æ–­å¹¶è¿”å›è¡¨è¾¾å¼ä¸­çš„æ•°æ®ç±»å‹åç§°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> typeof(<span class="number">123</span>); <span class="comment">-- integer</span></span><br><span class="line"><span class="keyword">SELECT</span> typeof(<span class="string">&#x27;cat&#x27;</span>); <span class="comment">-- varchar(3)</span></span><br><span class="line"><span class="keyword">SELECT</span> typeof(<span class="built_in">cos</span>(<span class="number">2</span>) <span class="operator">+</span> <span class="number">1.5</span>); <span class="comment">-- double</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Python AES è§£å¯†å‡ºé”™ï¼šTypeError: &#39;iv&#39; is an invalid keyword argument for this function</title>
    <url>/2023/04/16/python-type-error-iv-is-an-invalid-keyword-argument-for-this-function/</url>
    <content><![CDATA[<p>ä½¿ç”¨ AES ç®—æ³•å¯¹å­—ç¬¦ä¸²è¿›è¡Œè§£å¯†ï¼ŒPython ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aes_decrypt</span>(<span class="params">encrypted_str</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä½¿ç”¨AESåŠ å¯†ç®—æ³•å¯¹encrypted_strè¿›è¡Œè§£å¯†&quot;&quot;&quot;</span></span><br><span class="line">    bt = encrypted_str.encode()</span><br><span class="line">    base64_code = base64.b64decode(bt)</span><br><span class="line">    aes = AES.new(key=encoding_aes_key.encode(), mode=AES.MODE_CBC, iv=iv.encode())</span><br><span class="line">    decrypted = aes.decrypt(base64_code)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç§»é™¤paddingå¹¶è§£ç </span></span><br><span class="line">    padding_length = decrypted[-<span class="number">1</span>]</span><br><span class="line">    removed_padding = decrypted[:-padding_length]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å›æ˜æ–‡å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> removed_padding.decode()</span><br></pre></td></tr></table></figure>

<p>åœ¨æœ¬åœ°è¿è¡Œæ²¡æœ‰å¼‚å¸¸ï¼Œåœ¨æµ‹è¯•æœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶å‡ºç° <em>TypeError: â€˜ivâ€™ is an invalid keyword argument for this function</em> å¼‚å¸¸ï¼Œå…·ä½“æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;app.py&quot;</span>, line <span class="number">7</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">import</span> ynservice</span><br><span class="line">  File <span class="string">&quot;/data/wechat-api/ynservice.py&quot;</span>, line <span class="number">153</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    process(t_d)</span><br><span class="line">  File <span class="string">&quot;/data/wechat-api/ynservice.py&quot;</span>, line <span class="number">89</span>, <span class="keyword">in</span> process</span><br><span class="line">    decrypted_str = aes_decrypt(encoding_content)</span><br><span class="line">  File <span class="string">&quot;/data/wechat-api/ynservice.py&quot;</span>, line <span class="number">54</span>, <span class="keyword">in</span> aes_decrypt</span><br><span class="line">    aes = AES.new(key=encoding_aes_key.encode(), mode=AES.MODE_CBC, iv=iv.encode())</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib64/python3.6/site-packages/Crypto/Cipher/AES.py&quot;</span>, line <span class="number">95</span>, <span class="keyword">in</span> new</span><br><span class="line">    <span class="keyword">return</span> AESCipher(key, *args, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib64/python3.6/site-packages/Crypto/Cipher/AES.py&quot;</span>, line <span class="number">59</span>, <span class="keyword">in</span> __init__</span><br><span class="line">    blockalgo.BlockAlgo.__init__(<span class="variable language_">self</span>, _AES, key, *args, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib64/python3.6/site-packages/Crypto/Cipher/blockalgo.py&quot;</span>, line <span class="number">141</span>, <span class="keyword">in</span> __init__</span><br><span class="line">    <span class="variable language_">self</span>._cipher = factory.new(key, *args, **kwargs)</span><br><span class="line">TypeError: <span class="string">&#x27;iv&#x27;</span> <span class="keyword">is</span> an invalid keyword argument <span class="keyword">for</span> this function</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸ï¼Œè¯¥é—®é¢˜ä¸€èˆ¬éƒ½æ˜¯ä¸ <code>pycrypto</code> çš„è½¯ä»¶åŒ…å†²çªæœ‰å…³ã€‚</p>
<p>è¿™é‡Œå…ˆå°è¯•å¸è½½ <code>pycrypto</code> åŒ…ï¼Œå†å®‰è£… <code>pycryptodome</code> åŒ…å³å¯ï¼Œç›¸å…³å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¼·è½½pycryptoåŒ…</span></span><br><span class="line">pip3 uninstall pycrypto</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…pycryptodomeåŒ…</span></span><br><span class="line">pip3 install pycryptodome</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | åœ¨ JSON åºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•ä¿è¯å¯¹è±¡å±æ€§ä¸­çš„ Unicode æˆ–é ASCII å­—ç¬¦ä¸²èƒ½å¤ŸåŸæ ·è¾“å‡º</title>
    <url>/2023/04/17/python-encode-unicode-or-non-ascii-characters-into-json-string/</url>
    <content><![CDATA[<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å¯¹è±¡å±æ€§åŒ…æ‹¬ Unicode æˆ–é ASCII å­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨ Python çš„ JSON æ¨¡å—è¿›è¡Œ JSON åºåˆ—åŒ–ï¼Œä¼šå°†è¿™äº›å­—ç¬¦ä¸²è½¬æ¢ä¸º <code>\u</code> è½¬ä¹‰åºåˆ—ã€‚è¿™ä¸ªè½¬ä¹‰åºåˆ—ç”±ä¸€ä¸ªåæ–œæ ï¼ˆ<code>\</code>ï¼‰å’Œä¸€ä¸ª <code>u</code> ä»¥åŠå››ä¸ªåå…­è¿›åˆ¶æ•°å­—ç»„æˆï¼Œä»£è¡¨è¯¥å­—ç¬¦çš„ Unicode ç ä½ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢ç¤ºä¾‹ä»£ç ä¸­ï¼Œå°†å­—å…¸å¯¹è±¡ my_dict åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²åï¼Œ<code>zh</code> å­—æ®µçš„å€¼å˜ä¸º <code>\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528Python\u3002</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå­—å…¸å¯¹è±¡</span></span><br><span class="line">my_dict = &#123;</span><br><span class="line">    <span class="string">&quot;zh&quot;</span>: <span class="string">&quot;äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€‚&quot;</span>,</span><br><span class="line">    <span class="string">&quot;en&quot;</span>: <span class="string">&quot;Life is short, use Python.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ json.dumps() æ–¹æ³•å°†å­—å…¸å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">json_str = json.dumps(my_dict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å° JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">print</span>(json_str)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">    &#123;&quot;zh&quot;: &quot;\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528Python\u3002&quot;, &quot;en&quot;: &quot;Life is short, use Python.&quot;&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦ä¿ç•™å­—ç¬¦ä¸²åŸæ ·è¾“å‡ºï¼Œä½¿ç”¨ <code>json.dumps()</code> æ–¹æ³•æ—¶éœ€è¦ä¼ å…¥ <strong>ensure_ascii=False</strong> å‚æ•°æ¥ä¿ç•™ Unicode å­—ç¬¦ã€‚</p>
<p>å…·ä½“ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå­—å…¸å¯¹è±¡</span></span><br><span class="line">my_dict = &#123;</span><br><span class="line">    <span class="string">&quot;zh&quot;</span>: <span class="string">&quot;äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€‚&quot;</span>,</span><br><span class="line">    <span class="string">&quot;en&quot;</span>: <span class="string">&quot;Life is short, use Python.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ json.dumps() æ–¹æ³•å°†å­—å…¸å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">json_str = json.dumps(my_dict, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å° JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">print</span>(json_str)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">    &#123;&quot;zh&quot;: &quot;äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonã€‚&quot;, &quot;en&quot;: &quot;Life is short, use Python.&quot;&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºç©º</title>
    <url>/2023/04/23/python-check-if-set-is-empty/</url>
    <content><![CDATA[<p>åœ¨ Python ä¸­ï¼Œé›†åˆæ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æ— åºä¸”å”¯ä¸€çš„å…ƒç´ ã€‚åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºç©ºæ˜¯å¾ˆå¸¸è§çš„æ“ä½œï¼Œæœ¬æ–‡ä»‹ç»äº†å‡ ç§åˆ¤æ–­ Python é›†åˆæ˜¯å¦ä¸ºç©ºçš„æ–¹æ³•ã€‚ç†è§£è¿™äº›æ–¹æ³•æœ‰åŠ©äºæˆ‘ä»¬æ›´é«˜æ•ˆåœ°æ“ä½œå’Œåˆ©ç”¨é›†åˆè¿™ä¸ªæ•°æ®ç»“æ„ã€‚</p>
<h2 id="ä½¿ç”¨-len-æ–¹æ³•"><a href="#ä½¿ç”¨-len-æ–¹æ³•" class="headerlink" title="ä½¿ç”¨Â len()Â æ–¹æ³•"></a>ä½¿ç”¨Â <code>len()</code>Â æ–¹æ³•</h2><p>ä½¿ç”¨ <code>len()</code> æ–¹æ³•è¿”å›é›†åˆçš„å…ƒç´ æ•°é‡ï¼Œå¦‚æœä¸ºé›¶ï¼Œåˆ™è¡¨ç¤ºè¯¥é›†åˆä¸ºç©ºï¼Œå¦åˆ™ä¸ä¸ºç©ºã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(s) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line">not_empty_set = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`empty_set` is empty?&quot;</span>, is_empty(empty_set))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`not_empty_set` is empty?&quot;</span>, is_empty(not_empty_set))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">    `empty_set` is empty? True</span></span><br><span class="line"><span class="string">    `not_empty_set` is empty? False</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-not-å…³é”®å­—"><a href="#ä½¿ç”¨-not-å…³é”®å­—" class="headerlink" title="ä½¿ç”¨ not å…³é”®å­—"></a>ä½¿ç”¨ not å…³é”®å­—</h2><p>Python çš„ not å…³é”®å­—æ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œç”¨äºè®¡ç®—å‡ºæ“ä½œæ•°çš„å¦å®šæˆ–ç›¸åçš„å¸ƒå°”å€¼ï¼š<em>not True</em> ä¸º <em>False</em>ï¼Œ<em>not False</em> ä¸º <em>True</em>ã€‚</p>
<p>è‹¥é›†åˆ <em>S</em> ä¸ºç©ºï¼Œåˆ™ <em>not</em> <em>S</em> ä¸º <em>True</em>ï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™ <em>not</em> <em>S</em> ä¸º <em>Flase</em>ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>): </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> s</span><br><span class="line"></span><br><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line">not_empty_set = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`empty_set` is empty?&quot;</span>, is_empty(empty_set))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`not_empty_set` is empty?&quot;</span>, is_empty(not_empty_set))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">    `empty_set` is empty? True</span></span><br><span class="line"><span class="string">    `not_empty_set` is empty? False</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span> </span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-bool-æ–¹æ³•"><a href="#ä½¿ç”¨-bool-æ–¹æ³•" class="headerlink" title="ä½¿ç”¨ bool() æ–¹æ³•"></a>ä½¿ç”¨ <code>bool()</code> æ–¹æ³•</h2><p>Python çš„ <code>bool()</code> æ–¹æ³•å¯ä»¥å°†ä»»æ„ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚</p>
<p>è½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»¥ä¸‹å€¼è½¬æ¢ä¸º False:<ul>
<li>False</li>
<li>None</li>
<li>0</li>
<li>ç©ºå­—ç¬¦ä¸² â€˜â€™</li>
<li>ç©ºåˆ—è¡¨ []</li>
<li>ç©ºå…ƒç»„ ()</li>
<li>ç©ºå­—å…¸ {}</li>
</ul>
</li>
<li>å…¶ä»–å€¼è½¬æ¢ä¸º True</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ© <code>bool()</code> æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºç©ºï¼Œç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bool</span>(s) == <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line">not_empty_set = <span class="built_in">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`empty_set` is empty?&quot;</span>, is_empty(empty_set))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;`not_empty_set` is empty?&quot;</span>, is_empty(not_empty_set))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Output:</span></span><br><span class="line"><span class="string">    `empty_set` is empty? True</span></span><br><span class="line"><span class="string">    `not_empty_set` is empty? False</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>NOTEï¼šè¿™é‡Œçš„ <code>bool(s) == False</code> å¯ä»¥å†™æˆ <code>not bool(s)</code>ï¼Œæœ€ç»ˆå¯ç®€å†™ä¸º <code>not s</code>ã€‚</p>
</blockquote>
<h2 id="ä¸ç©ºé›†åˆæ¯”è¾ƒ"><a href="#ä¸ç©ºé›†åˆæ¯”è¾ƒ" class="headerlink" title="ä¸ç©ºé›†åˆæ¯”è¾ƒ"></a>ä¸ç©ºé›†åˆæ¯”è¾ƒ</h2><p>å¦‚æœä¸€ä¸ªé›†åˆ <em>S</em> ä¸ç©ºé›†åˆç›¸ç­‰ï¼Œåˆ™è¯´æ˜è¯¥é›†åˆä¹Ÿæ˜¯ä¸€ä¸ªç©ºé›†åˆã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="operator">!</span><span class="operator">/</span>usr<span class="operator">/</span>bin<span class="operator">/</span>env python3</span><br><span class="line"># <span class="operator">-</span><span class="operator">*</span><span class="operator">-</span> coding: utf<span class="number">-8</span> <span class="operator">-</span><span class="operator">*</span><span class="operator">-</span></span><br><span class="line"></span><br><span class="line">def is_empty(s):</span><br><span class="line">    <span class="keyword">return</span> s <span class="operator">=</span><span class="operator">=</span> <span class="keyword">set</span>()</span><br><span class="line"></span><br><span class="line">empty_set <span class="operator">=</span> <span class="keyword">set</span>()</span><br><span class="line">not_empty_set <span class="operator">=</span> <span class="keyword">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">print(&quot;`empty_set` is empty?&quot;, is_empty(empty_set))</span><br><span class="line">print(&quot;`not_empty_set` is empty?&quot;, is_empty(not_empty_set))</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    Output:</span><br><span class="line">    `empty_set` is empty? True</span><br><span class="line">    `not_empty_set` is empty? False</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>åˆ¤æ–­ Python é›†åˆæ˜¯å¦ä¸ºç©ºæœ‰ä»¥ä¸‹å››ç§æ–¹æ³•:</p>
<ol>
<li>ä½¿ç”¨ <code>len()</code> æ–¹æ³•</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(s) == <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>len(s)</code> è¿”å› 0ï¼Œåˆ™è¡¨ç¤ºé›†åˆä¸ºç©ºã€‚</p>
<ol start="2">
<li>ä½¿ç”¨ not å…³é”®å­—</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> s</span><br></pre></td></tr></table></figure>

<p>å¦‚æœé›†åˆä¸ºç©ºï¼Œnot s è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</p>
<ol start="3">
<li>ä½¿ç”¨ <code>bool()</code> æ–¹æ³•</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bool</span>(s) == <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p><code>bool(s)</code> å°†é›†åˆè½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œå¦‚æœä¸ºç©ºé›†åˆï¼Œè¿”å› Falseï¼Œå¦åˆ™è¿”å› Trueã€‚</p>
<ol start="4">
<li>ä¸ç©ºé›†åˆè¿›è¡Œæ¯”è¾ƒ</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">is_empty</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> s == <span class="built_in">set</span>()</span><br></pre></td></tr></table></figure>

<p>å¦‚æœé›†åˆ s ä¸ç©ºé›†åˆç›¸ç­‰ï¼Œåˆ™ s ä¹Ÿä¸ºç©ºé›†åˆã€‚</p>
<p>æ€»ä¹‹ï¼Œåˆ¤æ–­ä¸€ä¸ª Python é›†åˆæ˜¯å¦ä¸ºç©ºæœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œé€‰æ‹©ä¸€ä¸ªç®€å•æ˜äº†çš„æ–¹æ³•å³å¯ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Presto | ä¿ç•™å…³é”®å­—</title>
    <url>/2023/05/22/presto-reserved-keywords/</url>
    <content><![CDATA[<p>Presto ä¿ç•™äº†ä¸€äº›å…³é”®è¯ã€‚å¦‚æœä½ æƒ³å°†è¿™äº›å…³é”®è¯ç›´æ¥ç”¨ä½œå­—æ®µåï¼Œè¯·ä½¿ç”¨åŒå¼•å· <code>&quot;</code> å°†å…¶åŒ…è£¹ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&quot;VALUES&quot;</span><br><span class="line">&quot;GROUP&quot;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æ˜¯ Presto ä¿ç•™å…³é”®è¯å®Œæ•´åˆ—è¡¨ï¼š</p>
<h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><p>ALTER</p>
<p>AND</p>
<p>AS</p>
<h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><p>BETWEEN</p>
<p>BY</p>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><p>CASE</p>
<p>CAST</p>
<p>CONSTRAINT</p>
<p>CREATE</p>
<p>CROSS</p>
<p>CUBE</p>
<p>CURRENT_DATE</p>
<p>CURRENT_TIME</p>
<p>CURRENT_TIMESTAMP</p>
<p>CURRENT_USER</p>
<h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><p>DEALLOCATE</p>
<p>DELETE</p>
<p>DESCRIBE</p>
<p>DISTINCT</p>
<p>DROP</p>
<h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><p>ELSE</p>
<p>END</p>
<p>ESCAPE</p>
<p>EXCEPT</p>
<p>EXECUTE</p>
<p>EXISTS</p>
<p>EXTRACT</p>
<h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><p>FALSE</p>
<p>FOR</p>
<p>FROM</p>
<p>FULL</p>
<h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><p>GROUP</p>
<p>GROUPING</p>
<h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><p>HAVING</p>
<h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>IN</p>
<p>INNER</p>
<p>INSERT</p>
<p>INTERSECT</p>
<p>INTO</p>
<p>IS</p>
<h2 id="J"><a href="#J" class="headerlink" title="J"></a>J</h2><p>JOIN</p>
<h2 id="L"><a href="#L" class="headerlink" title="L"></a>L</h2><p>LEFT</p>
<p>LIKE</p>
<p>LOCALTIME</p>
<p>LOCALTIMESTAMP</p>
<h2 id="N"><a href="#N" class="headerlink" title="N"></a>N</h2><p>NATURAL</p>
<p>NORMALIZE</p>
<p>NOT</p>
<p>NULL</p>
<h2 id="O"><a href="#O" class="headerlink" title="O"></a>O</h2><p>ON</p>
<p>OR</p>
<p>ORDER</p>
<p>OUTER</p>
<h2 id="P"><a href="#P" class="headerlink" title="P"></a>P</h2><p>PREPARE</p>
<h2 id="R"><a href="#R" class="headerlink" title="R"></a>R</h2><p>RECURSIVE</p>
<p>RIGHT</p>
<p>ROLLUP</p>
<h2 id="S"><a href="#S" class="headerlink" title="S"></a>S</h2><p>SELECT</p>
<h2 id="T"><a href="#T" class="headerlink" title="T"></a>T</h2><p>TABLE</p>
<p>THEN</p>
<p>TRUE</p>
<h2 id="U"><a href="#U" class="headerlink" title="U"></a>U</h2><p>UESCAPE</p>
<p>UNION</p>
<p>UNNEST</p>
<p>USING</p>
<h2 id="V"><a href="#V" class="headerlink" title="V"></a>V</h2><p>VALUES</p>
<h2 id="W"><a href="#W" class="headerlink" title="W"></a>W</h2><p>WHEN</p>
<p>WHERE</p>
<p>WITH</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Prestoå…³é”®å­—EXCEPTè¯¦è§£</title>
    <url>/2023/09/07/presto-keywords-except/</url>
    <content><![CDATA[<p>EXCEPT æ˜¯ Presto ä¸­ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºæ‰§è¡Œä¸¤ä¸ªæŸ¥è¯¢çš„å·®é›†æ“ä½œã€‚å®ƒåœ¨ Presto ä¸­èµ·åˆ°äº†éå¸¸é‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°å¤„ç†å’Œåˆ†ææ•°æ®ã€‚</p>
<h2 id="EXCEPTåŸºæœ¬ç”¨æ³•"><a href="#EXCEPTåŸºæœ¬ç”¨æ³•" class="headerlink" title="EXCEPTåŸºæœ¬ç”¨æ³•"></a>EXCEPTåŸºæœ¬ç”¨æ³•</h2><p>åœ¨ Presto ä¸­ï¼Œä½¿ç”¨ EXCEPT å…³é”®å­—è¿›è¡Œä¸¤ä¸ªæŸ¥è¯¢ä¹‹é—´çš„å·®é›†æ“ä½œæ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>æŸ¥è¯¢çš„ç»“æœé›†å¿…é¡»å…·æœ‰ç›¸åŒçš„åˆ—æ•°å’Œç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚</li>
<li>æŸ¥è¯¢çš„ç»“æœé›†ä¸­çš„åˆ—åç§°å¿…é¡»ç›¸åŒæˆ–å…·æœ‰ç›¸ä¼¼çš„åˆ«åã€‚</li>
<li>EXCEPT å…³é”®å­—åªè¿”å›ç¬¬ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœé›†ä¸­å­˜åœ¨ï¼Œä½†åœ¨ç¬¬äºŒä¸ªæŸ¥è¯¢çš„ç»“æœé›†ä¸­ä¸å­˜åœ¨çš„è¡Œã€‚</li>
<li>ç»“æœé›†ä¸­çš„è¡Œå°†æŒ‰ç…§ç¬¬ä¸€ä¸ªæŸ¥è¯¢çš„é¡ºåºè¿›è¡Œæ’åˆ—ã€‚</li>
</ol>
<h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ EXCEPT å­å¥ç¤ºä¾‹ã€‚ç¬¬ä¸€ä¸ªæŸ¥è¯¢ç»“æœé›†ä¸º 13 å’Œ 42ï¼Œç¬¬äºŒä¸ªæŸ¥è¯¢ç»“æœé›†ä¸º 13ã€‚å› ä¸º 13 ä¹Ÿåœ¨ç¬¬äºŒä¸ªæŸ¥è¯¢çš„ç»“æœé›†ä¸­ï¼Œå› æ­¤å®ƒä¸ä¼šè¢«åŒ…å«åœ¨æœ€ç»ˆç»“æœé›†ä¸­ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> <span class="number">13</span>, <span class="number">42</span>)</span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">13</span>;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> _col0</span><br><span class="line">-------</span><br><span class="line">    42</span><br><span class="line">(1 row)</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥è¯´æ˜ EXCEPT çš„ç”¨æ³•ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªæ˜¯ <code>employees</code>ï¼ŒåŒ…å«å‘˜å·¥çš„å§“åå’Œ IDï¼Œå¦ä¸€ä¸ªæ˜¯ <code>managers</code>ï¼ŒåŒ…å«ç»ç†çš„å§“åå’Œ IDã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ EXCEPT æ¥æ‰¾å‡ºæ˜¯å‘˜å·¥ä½†ä¸æ˜¯ç»ç†çš„äººå‘˜ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢å‘˜å·¥è¡¨ä¸­æ‰€æœ‰äººå‘˜</span></span><br><span class="line"><span class="keyword">SELECT</span> name, id <span class="keyword">FROM</span> employees</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXCEPT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢ç»ç†è¡¨ä¸­æ‰€æœ‰äººå‘˜</span></span><br><span class="line"><span class="keyword">SELECT</span> name, id <span class="keyword">FROM</span> managers;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé€‰æ‹©äº† <code>employees</code> è¡¨ä¸­çš„äººå‘˜ï¼Œç„¶åä½¿ç”¨ EXCEPT å…³é”®å­—æ’é™¤äº† <code>managers</code> è¡¨ä¸­çš„äººå‘˜ã€‚ç»“æœå°†è¿”å›ä¸æ˜¯ç»ç†çš„å‘˜å·¥ã€‚</p>
<p>ä½¿ç”¨ EXCEPT å…³é”®å­—å¯ä»¥è®©æˆ‘ä»¬æ›´è½»æ¾åœ°è¿›è¡Œæ•°æ®åˆ†æå’Œå¤„ç†ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€æ´è€Œé«˜æ•ˆçš„æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªæŸ¥è¯¢çš„ç»“æœé›†å¹¶æ‰¾å‡ºå·®å¼‚ã€‚æ— è®ºæ˜¯åœ¨æ•°æ®æ¸…æ´—ã€æ•°æ®ç­›é€‰è¿˜æ˜¯æ•°æ®å¯¹æ¯”ç­‰æ–¹é¢ï¼ŒEXCEPT éƒ½èƒ½å‘æŒ¥å…¶é‡è¦ä½œç”¨ï¼Œå…·æœ‰å¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥åœ¨ Hive ä¸­æ ¡éªŒä¸¤å¼ è¡¨ä¸­çš„æ•°æ®æ˜¯å¦ç›¸åŒã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ EXCEPT åœ¨ Presto ä¸­éå¸¸æœ‰ç”¨ï¼Œä½†æˆ‘ä»¬åº”è¯¥è°¨æ…ä½¿ç”¨å®ƒï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†æ—¶ã€‚EXCEPT æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œå› ä¸ºå®ƒéœ€è¦å¯¹ç»“æœé›†è¿›è¡Œæ’åºå’Œæ¯”è¾ƒã€‚å› æ­¤ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œæƒè¡¡ï¼Œé€‰æ‹©åˆé€‚çš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>EXCEPT æ˜¯ Presto ä¸­ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å…³é”®å­—ï¼Œç”¨äºæ‰§è¡Œä¸¤ä¸ªæŸ¥è¯¢çš„å·®é›†æ“ä½œã€‚é€šè¿‡çµæ´»è¿ç”¨ EXCEPT å…³é”®å­—ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ é«˜æ•ˆåœ°å¤„ç†å’Œåˆ†ææ•°æ®ï¼Œä¸ºæ•°æ®åˆ†æå¸¦æ¥ä¾¿åˆ©ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>Superseté…ç½®â€”â€”è¿æ¥Prestoå‡ºç°ERROR: Could not load database driver: PrestoEngineSpec</title>
    <url>/2023/01/13/superset-presto-error-prestoenginespec/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å®‰è£…å¥½ supersetï¼Œç‰ˆæœ¬ 2.0.1ï¼Œé€šè¿‡å‘½ä»¤Â <code>superset run -p 8088 --with-threads --reload --debugger</code> å¯åŠ¨ debug æ¨¡å¼ï¼Œåœ¨ç•Œé¢é…ç½® presto æ•°æ®åº“è¿æ¥ï¼Œç‚¹å‡» TEST CONNECTIONï¼Œå³ä¸‹è§’å¼¹å‡ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR: Could not load database driver: PrestoEngineSpec</span><br></pre></td></tr></table></figure>

<p>åœ¨å¯åŠ¨ superset ä¹‹å‰ï¼ŒæœåŠ¡å™¨ä¸Šå·²æŒ‰ç…§<a href="https://superset.apache.org/docs/databases/installing-database-drivers/">å®˜æ–¹æ–‡æ¡£</a>å®‰è£…äº†é©±åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install pyhive</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ä»é”™è¯¯ä¿¡æ¯å¯ä»¥çœ‹å‡ºè¿™æ˜¯é©±åŠ¨é—®é¢˜å¯¼è‡´çš„ã€‚è™½ç„¶å®‰è£…äº†æ­£ç¡®çš„é©±åŠ¨ï¼Œä½†æ˜¯å¦‚æœé©±åŠ¨çš„ç‰ˆæœ¬å¤ªä½ï¼ŒåŒæ ·ä¹Ÿä¼šæœ‰é—®é¢˜ã€‚é€šè¿‡ pip å®‰è£…é»˜è®¤éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæˆªè‡³å½“å‰ï¼Œpyhive çš„æœ€æ–°ç‰ˆæœ¬ä¸º 0.6.5ã€‚</p>
<p>é¦–å…ˆæ£€æŸ¥æœåŠ¡å™¨ä¸Šå®‰è£…çš„ pyhive çš„ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°çš„ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 list</span><br></pre></td></tr></table></figure>

<p>æˆ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip3 list |grep PyHive</span><br><span class="line">PyHive                 0.6.5</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° PyHive ä¸ºæœ€æ–°ç‰ˆæœ¬ 0.6.5ã€‚</p>
<p>å¦‚æœä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pyhive==0.6.5</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬åï¼Œè¿æ¥æ—¶è¿˜å‡ºç°é”™è¯¯ï¼Œè¯´æ˜ç‰ˆæœ¬è¿˜ä¸é€‚é…ï¼Œè¿˜éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install <span class="string">&#x27;pyhive[presto]&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œé‡å¯ supersetï¼Œå†é‡æ–°è¿æ¥ Prestoï¼Œç‚¹å‡» TEST CONNECTION æŒ‰é’®æç¤º Connection looks good! ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºè¿æ¥æˆåŠŸã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Superset</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 apt upgrade Error: Could not read response to hello message from hook</title>
    <url>/2023/04/26/ubuntu-20-04-apt-upgrade-error-could-not-read-response-to-hello-message-from-hook/</url>
    <content><![CDATA[<p>å½“æˆ‘è¿è¡Œ <code>sudo apt upgrade</code> å‘½ä»¤ä»¥æ›´æ–° Ubuntu å­ç³»ç»Ÿ(WSL)ä¸­çš„è½¯ä»¶åŒ…æ—¶ï¼Œå‡ºç°äº†ä»¥ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt upgrade</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree</span><br><span class="line">Reading state information... Done</span><br><span class="line">Calculating upgrade... Done</span><br><span class="line">The following packages were automatically installed and are no longer required:</span><br><span class="line">  ant ant-optional gdisk gir1.2-packagekitglib-1.0 jruby-openssl junit4 libappstream4 libasm-java libatasmart4 libbcpkix-java libbcprov-java libblockdev-crypto2</span><br><span class="line">  libblockdev-fs2 libblockdev-loop2 libblockdev-part-err2 libblockdev-part2 libblockdev-swap2 libblockdev-utils2 libblockdev2 libbsf-java libbytelist-java</span><br><span class="line">  libdirgra-java libglib2.0-bin libhamcrest-java libhawtjni-runtime-java libheadius-options-java libinvokebinder-java libjansi-java libjansi-native-java</span><br><span class="line">  libjcodings-java libjffi-java libjffi-jni libjitescript-java libjna-java libjna-jni libjna-platform-java libjnr-constants-java libjnr-enxio-java libjnr-ffi-java</span><br><span class="line">  libjnr-netdb-java libjnr-posix-java libjnr-unixsocket-java libjnr-x86asm-java libjoda-time-java libjruby-joni-java libjzlib-java libmodulator-java</span><br><span class="line">  libosgi-annotation-java libosgi-core-java libpackagekit-glib2-18 libparted-fs-resize0 libplymouth5 libpsych-java libstemmer0d libudisks2-0 libunsafe-fences-java</span><br><span class="line">  libunsafe-mock-java libvolume-key1 libyaml-snake-java nailgun python-apt-common python3-apt python3-certifi python3-chardet python3-distro-info python3-idna</span><br><span class="line">  python3-requests python3-requests-unixsocket python3-six python3-software-properties python3-urllib3 ruby-diff-lcs ruby-jar-dependencies ruby-rspec ruby-rspec-core</span><br><span class="line">  ruby-rspec-expectations ruby-rspec-mocks ruby-rspec-support unattended-upgrades</span><br><span class="line">Use <span class="string">&#x27;apt autoremove&#x27;</span> to remove them.</span><br><span class="line">E: Could not <span class="built_in">read</span> response to hello message from hook [ ! -f /usr/lib/ubuntu-advantage/apt-esm-json-hook ] || /usr/lib/ubuntu-advantage/apt-esm-json-hook || <span class="literal">true</span>: Success</span><br><span class="line">E: Could not <span class="built_in">read</span> response to hello message from hook [ ! -f /usr/lib/ubuntu-advantage/apt-esm-json-hook ] || /usr/lib/ubuntu-advantage/apt-esm-json-hook || <span class="literal">true</span>: Success</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ ¹æ®é”™è¯¯æç¤ºï¼ˆ<em>apt-esm-json-hook</em>ï¼‰å°† <em>/etc/apt/apt.conf.d</em> ç›®å½•ä¸‹åä¸º <em>20apt-esm-hook.conf</em> çš„æ–‡ä»¶å…ˆç§»åŠ¨åˆ°å…¶ä»–ç›®å½•ï¼ˆåœ¨æœ¬ä¾‹ä¸­æ˜¯ <em>/home/johnson</em> ç›®å½•ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mv</span> /etc/apt/apt.conf.d/20apt-esm-hook.conf /home/johnson</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†è¿è¡Œ <code>sudo apt upgrade</code> å‘½ä»¤ï¼Œè¿™æ¬¡æˆåŠŸäº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt upgrade</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree</span><br><span class="line">Reading state information... Done</span><br><span class="line">Calculating upgrade... Done</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  libnss-systemd libpam-systemd libpolkit-agent-1-0 libxmlb2 policykit-1 systemd-sysv</span><br><span class="line">The following packages have been kept back:</span><br><span class="line">  mysql-client mysql-server</span><br><span class="line">The following packages will be upgraded:</span><br><span class="line">  alsa-ucm-conf apt apt-utils base-files bash bind9-dnsutils bind9-host bind9-libs binutils binutils-common binutils-x86-64-linux-gnu bolt ca-certificates</span><br><span class="line">  curl dirmngr distro-info-data dpkg dpkg-dev e2fsprogs fwupd fwupd-signed git git-man gnupg gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client</span><br><span class="line">  gpg-wks-server gpgconf gpgsm gpgv gzip isc-dhcp-client isc-dhcp-common klibc-utils kmod kpartx krb5-locales libapparmor1 libapt-pkg6.0 libarchive13</span><br><span class="line">  libasn1-8-heimdal libbinutils libc-ares2 libc-bin libcom-err2 libctf-nobfd0 libctf0 libcurl3-gnutls libcurl4 libdpkg-perl libext2fs2 libflac8</span><br><span class="line">  libfreetype6 libfribidi0 libfwupd2 libfwupdplugin5 libgnutls30 libgs9 libgs9-common libgssapi-krb5-2 libgssapi3-heimdal libhcrypto4-heimdal</span><br><span class="line">  libheimbase1-heimdal libheimntlm0-heimdal libhttp-daemon-perl libhx509-5-heimdal libjavascriptcoregtk-4.0-18 libk5crypto3 libkeyutils1 libklibc libkmod2</span><br><span class="line">  libkrb5-26-heimdal libkrb5-3 libkrb5support0 libksba8 libldap-common liblzma5 libmbim-glib4 libmbim-proxy libmm-glib0 libnss3 libntfs-3g883</span><br><span class="line">  libpam-modules libpam-modules-bin libpam-runtime libpam0g libpcre2-8-0 libpcre3 libperl5.30 libpython2.7-minimal libpython2.7-stdlib libpython3.8</span><br><span class="line">  libpython3.8-dev libpython3.8-minimal libpython3.8-stdlib libqmi-glib5 libqmi-proxy libroken18-heimdal libsensors-config libsensors5 libsepol1</span><br><span class="line">  libsqlite3-0 libss2 libssl-dev libssl1.1 libtdb1 libtiff5 libtss2-esys0 libudev1 libunwind8 libwayland-client0 libwebkit2gtk-4.0-37 libwind0-heimdal</span><br><span class="line">  libxml2 libxpm4 linux-libc-dev locales login logsave logstash modemmanager motd-news-config multipath-tools mysql-common ntfs-3g openssh-client</span><br><span class="line">  openssh-server openssh-sftp-server openssl passwd perl perl-base perl-modules-5.30 python-pip-whl python-pkg-resources python2.7 python2.7-minimal</span><br><span class="line">  python3-pip python3-pkg-resources python3-setuptools python3-wheel python3.8 python3.8-dev python3.8-minimal rsync rsyslog sbsigntool <span class="built_in">sudo</span> tar tcpdump</span><br><span class="line">  tmux tzdata udev unzip vim vim-common vim-runtime vim-tiny xxd xz-utils</span><br><span class="line">163 upgraded, 6 newly installed, 0 to remove and 2 not upgraded.</span><br><span class="line">Need to get 435 MB of archives.</span><br><span class="line">After this operation, 4070 kB of additional disk space will be used.</span><br><span class="line">Do you want to <span class="built_in">continue</span>? [Y/n] </span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ Y åç³»ç»Ÿå°±ä¼šå¼€å§‹ä¸‹è½½æœ€æ–°çš„è½¯ä»¶åŒ…å¹¶å®‰è£…ã€‚</p>
<blockquote>
<p>æ³¨ï¼šæˆ‘æ˜¯åœ¨ Windows Subsystem for Linux çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬(WSL1)æ¨¡å¼ä¸‹è¿è¡Œ Ubuntu WSL å®ä¾‹ã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°äº†ç±»ä¼¼çš„é—®é¢˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ è§£å†³åœ¨ apt å‘½ä»¤ä¸‹å‡çº§è½¯ä»¶åŒ…çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶</title>
    <url>/2023/06/08/python-convert-string-to-binary/</url>
    <content><![CDATA[<p>åœ¨ç¼–ç¨‹å¼€å‘å·¥ä½œä¸­ï¼Œæ•°æ®æ ¼å¼è½¬æ¢æ˜¯å¸¸è§æ“ä½œä¹‹ä¸€ã€‚å…¶ä¸­ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼çš„è½¬æ¢ä¹Ÿç»å¸¸å‡ºç°ã€‚æœ¬æ–‡å°†æ¢è®¨å®ç°è¿™ä¸€è½¬æ¢çš„å‡ ç§æ–¹æ³•ã€‚</p>
<h2 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨-join-ord-format"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨-join-ord-format" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨ join() + ord() + format()"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ <code>join()</code> + <code>ord()</code> + <code>format()</code></h2><p>ä¸Šè¿°å‡½æ•°çš„ç»“åˆå¯ä»¥ç”¨æ¥å®Œæˆè¿™ä¸ªç‰¹å®šä»»åŠ¡ã€‚<code>ord()</code> å‡½æ•°å°†å­—ç¬¦è½¬æ¢ä¸º ASCII ç å¯¹åº”çš„æ•´æ•°ï¼Œ<code>format()</code> å‡½æ•°å°†æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼Œ<code>join()</code> å‡½æ•°ç”¨äºå°†æ¯ä¸ªè½¬æ¢å¾—åˆ°çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line">test_str = <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;</span> + test_str)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ join() + ord() + format()ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line">res = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">format</span>(<span class="built_in">ord</span>(i), <span class="string">&#x27;08b&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> test_str)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š&quot;</span> + res)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŸå§‹å­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br><span class="line">äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š0100101001001111010010000100111001010011010011110100111000100000010011000100100101001110</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äºŒï¼šä½¿ç”¨-join-bytearray-format"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨-join-bytearray-format" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨ join() + bytearray() + format()"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨ <code>join()</code> + <code>bytearray()</code> + <code>format()</code></h2><p>è¿™ä¸ªæ–¹æ³•ä¸ä¸Šè¿°æ–¹æ³•å¤§è‡´ç›¸ä¼¼ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸æ˜¯ä½¿ç”¨ <code>ord()</code> å‡½æ•°å°†æ¯ä¸ªå­—ç¬¦è½¬æ¢ä¸º ASCII ç ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>binarray()</code> å‡½æ•°ä¸€æ¬¡æ€§å°†æ•´ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line">test_str = <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;</span> + test_str)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ join() + bytearray() + format()ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line">res = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">format</span>(i, <span class="string">&#x27;08b&#x27;</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">bytearray</span>(test_str, encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š&quot;</span> + res)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŸå§‹å­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br><span class="line">äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š0100101001001111010010000100111001010011010011110100111000100000010011000100100101001110</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨-join-bin-zfill"><a href="#æ–¹æ³•ä¸‰ï¼šä½¿ç”¨-join-bin-zfill" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ join() + bin() + zfill()"></a><strong>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ <code>join()</code> + <code>bin()</code> + <code>zfill()</code></strong></h2><p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° <code>str_to_binary(string)</code>ï¼Œå®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ã€‚</p>
<p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º <code>binary_list</code> çš„ç©ºåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨è¾“å…¥å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å½¢å¼ã€‚</p>
<p>ç„¶åä½¿ç”¨ <code>for</code> å¾ªç¯éå†è¾“å…¥å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ã€‚å¯¹äºæ¯ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>ord()</code> å‡½æ•°å°†å…¶è½¬æ¢ä¸º ASCII ç å¯¹åº”çš„æ•´æ•°ï¼Œç„¶åä½¿ç”¨ <code>bin()</code> å‡½æ•°å°†è¯¥æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚<code>bin()</code> å‡½æ•°è¿”å›ä¸€ä¸ªå¸¦æœ‰ <code>&#39;0b&#39;</code> å‰ç¼€çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨åˆ—è¡¨åˆ‡ç‰‡çš„æ–¹å¼åˆ é™¤è¿™ä¸ªå‰ç¼€ã€‚</p>
<p>ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>zfill(8)</code> æ–¹æ³•ç”¨å‰å¯¼é›¶åœ¨äºŒè¿›åˆ¶å½¢å¼å·¦ä¾§å¡«å……ï¼Œç›´åˆ°é•¿åº¦è¾¾åˆ° 8ã€‚<code>zfill()</code> æ–¹æ³•ç”¨æŒ‡å®šçš„å­—ç¬¦ï¼ˆæœ¬ä¾‹ä¸­ä¸º <code>&#39;0&#39;</code>ï¼‰å¡«å……å­—ç¬¦ä¸²å·¦ä¾§ï¼Œç›´åˆ°è¾¾åˆ°æ‰€éœ€é•¿åº¦ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬å°†äºŒè¿›åˆ¶å½¢å¼è¿½åŠ åˆ° <code>binary_list</code> ä¸­ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†åˆ—è¡¨ä¸­çš„æ‰€æœ‰äºŒè¿›åˆ¶å€¼è¿æ¥èµ·æ¥ï¼Œä½¿ç”¨ <code>join()</code> æ–¹æ³•ä»¥å•ä¸ªå­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ä»¥ â€œJOHNSON LIN â€œå­—ç¬¦ä¸²ä¸ºä¾‹æµ‹è¯•è¯¥å‡½æ•°ã€‚è¯¥å‡½æ•°è¿”å›è¾“å…¥å­—ç¬¦ä¸²çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str_to_binary</span>(<span class="params">string</span>):</span><br><span class="line">    binary_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> string:</span><br><span class="line">        binary_list.append(<span class="built_in">bin</span>(<span class="built_in">ord</span>(char))[<span class="number">2</span>:].zfill(<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(binary_list)</span><br><span class="line"></span><br><span class="line">test_str = <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;</span> + test_str)</span><br><span class="line"></span><br><span class="line">res = str_to_binary(test_str)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š&quot;</span> + res)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">åŸå§‹å­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br><span class="line">äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š<span class="number">0</span>100101001001111010010000100111001010011010011110100111000100000010011000100100101001110</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•å››ï¼šä½¿ç”¨-binascii-æ¨¡å—"><a href="#æ–¹æ³•å››ï¼šä½¿ç”¨-binascii-æ¨¡å—" class="headerlink" title="æ–¹æ³•å››ï¼šä½¿ç”¨ binascii æ¨¡å—"></a><strong>æ–¹æ³•å››ï¼šä½¿ç”¨ <code>binascii</code> æ¨¡å—</strong></h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"></span><br><span class="line">test_str = <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;</span> + test_str)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ binascii å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line">hex_str = binascii.hexlify(test_str.encode())</span><br><span class="line">bin_str = <span class="built_in">bin</span>(<span class="built_in">int</span>(hex_str, <span class="number">16</span>))[<span class="number">2</span>:].zfill(<span class="number">8</span> * ((<span class="built_in">len</span>(hex_str) + <span class="number">1</span>) // <span class="number">2</span>))</span><br><span class="line">res = bin_str</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š&quot;</span> + res)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">åŸå§‹å­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br><span class="line">äºŒè¿›åˆ¶è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼š<span class="number">0</span>100101001001111010010000100111001010011010011110100111000100000010011000100100101001110</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | å¦‚ä½•åœ¨åŸå§‹å­—ç¬¦ä¸²ä¸äºŒè¿›åˆ¶å­—ç¬¦ä¸²ä¹‹é—´ç›¸äº’è½¬æ¢</title>
    <url>/2023/06/09/python-how-to-convert-between-binary-strings-and-strings/</url>
    <content><![CDATA[<h2 id="å°†å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²"><a href="#å°†å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²" class="headerlink" title="å°†å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²"></a>å°†<strong><strong>å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²</strong></strong></h2><p>å¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•å°†å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼š</p>
<p>é€ä¸ªéå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œé€šè¿‡ <code>bin()</code> å‡½æ•°å°†å­—ç¬¦çš„ ASCII ç è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œç„¶åç”¨ <code>zfill()</code> å‡½æ•°åœ¨å·¦è¾¹è¡¥ 0ï¼Œä¿è¯æ¯ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å½¢å¼éƒ½æ˜¯ 8 ä½çš„ï¼Œæœ€åé€šè¿‡ <code>join()</code> å‡½æ•°å°†æ‰€æœ‰çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str_to_binary</span>(<span class="params">string</span>):</span><br><span class="line">    binary_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> string:</span><br><span class="line">        binary_list.append(<span class="built_in">bin</span>(<span class="built_in">ord</span>(char))[<span class="number">2</span>:].zfill(<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(binary_list)</span><br></pre></td></tr></table></figure>

<h2 id="å°†äºŒè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢æˆæ­£å¸¸å­—ç¬¦ä¸²"><a href="#å°†äºŒè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢æˆæ­£å¸¸å­—ç¬¦ä¸²" class="headerlink" title="å°†äºŒè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢æˆæ­£å¸¸å­—ç¬¦ä¸²"></a>å°†<strong><strong>äºŒè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢æˆæ­£å¸¸å­—ç¬¦ä¸²</strong></strong></h2><p>å®ç°é€»è¾‘æ˜¯:</p>
<ol>
<li>å°†äºŒè¿›åˆ¶å­—ç¬¦ä¸²æŒ‰ 8 ä½åˆ‡ç‰‡ï¼Œå¾—åˆ°ä¸€ç³»åˆ—é•¿åº¦ä¸º 8 çš„äºŒè¿›åˆ¶å­ä¸²ï¼›</li>
<li>å°†æ¯ä¸ªäºŒè¿›åˆ¶å­ä¸²è½¬æ¢æˆåè¿›åˆ¶æ•´æ•°ï¼Œå­˜å…¥ <code>list_int</code> åˆ—è¡¨ï¼›</li>
<li>ä½¿ç”¨ <code>bytes()</code> å‡½æ•°å°† <code>list_int</code> åˆ—è¡¨è½¬æ¢æˆ <code>bytes</code> å¯¹è±¡ï¼›</li>
<li>æœ€åä½¿ç”¨ <code>decode()</code> æ–¹æ³•å°† <code>bytes</code> å¯¹è±¡è§£ç æˆå­—ç¬¦ä¸²ã€‚</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">binary_to_str</span>(<span class="params">bin_str</span>):</span><br><span class="line">    list_bin = [bin_str[i:i + <span class="number">8</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(bin_str), <span class="number">8</span>)]</span><br><span class="line">    list_int = []</span><br><span class="line">    <span class="keyword">for</span> bin_s <span class="keyword">in</span> list_bin:</span><br><span class="line">        list_int.append(<span class="built_in">int</span>(bin_s, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bytes</span>(list_int).decode()</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºå°†å­—ç¬¦ä¸² <code>JOHNSON LIN</code> è½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œç„¶åå†è½¬æ¢å›æ­£å¸¸å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str_to_binary</span>(<span class="params">string</span>):</span><br><span class="line">    binary_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> char <span class="keyword">in</span> string:</span><br><span class="line">        binary_list.append(<span class="built_in">bin</span>(<span class="built_in">ord</span>(char))[<span class="number">2</span>:].zfill(<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(binary_list)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">binary_to_str</span>(<span class="params">bin_str</span>):</span><br><span class="line">    list_bin = [bin_str[i:i + <span class="number">8</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(bin_str), <span class="number">8</span>)]</span><br><span class="line">    list_int = []</span><br><span class="line">    <span class="keyword">for</span> bin_s <span class="keyword">in</span> list_bin:</span><br><span class="line">        list_int.append(<span class="built_in">int</span>(bin_s, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bytes</span>(list_int).decode()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    test_str = <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;åŸå§‹å­—ç¬¦ä¸²ï¼š&quot;</span> + test_str)</span><br><span class="line"></span><br><span class="line">    bin_str = str_to_binary(test_str)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼š&quot;</span> + bin_str)</span><br><span class="line"></span><br><span class="line">    o_str = binary_to_str(bin_str)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è½¬æ¢æˆå­—ç¬¦ä¸²ï¼š&quot;</span> + o_str)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">åŸå§‹å­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br><span class="line">äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼š0100101001001111010010000100111001010011010011110100111000100000010011000100100101001110</span><br><span class="line">è½¬æ¢æˆå­—ç¬¦ä¸²ï¼šJOHNSON LIN</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ç¼–ç¨‹æŒ‡å— | å¦‚ä½•åˆ¤æ–­å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®</title>
    <url>/2023/05/18/python-check-if-dictionary-item-exists/</url>
    <content><![CDATA[<p>ä¸ºç¡®è®¤å­—å…¸ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šé”®ï¼Œå¯ä»¥åˆ©ç”¨Â <code>in</code>Â å…³é”®å­—è¿›è¡Œæ£€æŸ¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line">info_dict = &#123;</span><br><span class="line">    <span class="string">&quot;tag_id&quot;</span>: <span class="string">&quot;wweFrrBgAAxQzRImZoVcxBqc9YEqkEsg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;user_id&quot;</span>: <span class="string">&quot;etvFrrBgAAKNCEAA4cEGXQFeo_vGyI2Q&quot;</span>,</span><br><span class="line">    <span class="string">&quot;year&quot;</span>: <span class="number">2023</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;tag_id&quot;</span> <span class="keyword">in</span> info_dict:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;é”® &#x27;tag_id&#x27; å­˜åœ¨äº info_dict å­—å…¸ä¸­ã€‚&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å­—å…¸ info_dict ä¸­ä¸å­˜åœ¨é”® &#x27;tag_id&#x27;ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment"># é”® &#x27;tag_id&#x27; å­˜åœ¨äº info_dict å­—å…¸ä¸­ã€‚</span></span><br></pre></td></tr></table></figure>

<p>æ­¤ä»£ç æ£€æµ‹Â <code>info_dict</code>Â å­—å…¸æ˜¯å¦åŒ…å«Â <code>tag_id</code>Â é”®ã€‚å¦‚æœåŒ…å«ï¼Œåˆ™æ‰“å°ç¡®è®¤æ¶ˆæ¯:<code>é”® &#39;tag_id&#39; å­˜åœ¨äº info_dict å­—å…¸ä¸­ã€‚</code>ï¼›å¦åˆ™æ‰“å°ï¼š<code>å­—å…¸ info_dict ä¸­ä¸å­˜åœ¨é”® &#39;tag_id&#39;ã€‚</code>ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 systemctl é”™è¯¯ï¼šSystem has not been booted with systemd as init system (PID 1). Can&#39;t operate.</title>
    <url>/2023/04/21/ubuntu-20-04-systemctl-system-has-not-been-booted-with-systemd-as-init-system/</url>
    <content><![CDATA[<p>åœ¨ Ubuntu 20.04 ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ <code>systemctl</code> å‘½ä»¤å¯åŠ¨ logstashï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ systemctl start logstash</span><br><span class="line">System has not been booted with systemd as init system (PID 1). Can<span class="string">&#x27;t operate.</span></span><br><span class="line"><span class="string">Failed to connect to bus: Host is down</span></span><br></pre></td></tr></table></figure>

<p> è¿™æ˜¯å› ä¸º <code>systemctl</code> ä¸æ˜¯ Ubuntu ç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ <code>apt</code> å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install systemctl</span><br></pre></td></tr></table></figure>

<p> å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šæç¤ºä½ è¾“å…¥ <em>Yes, do as I say!</em> ä»¥ç»§ç»­å®‰è£…ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 ä¸Šå®‰è£… pip3.7 é”™è¯¯ï¼šModuleNotFoundError: No module named &#39;distutils.cmd&#39;</title>
    <url>/2023/04/24/ubuntu-20-04-pip37-module-not-found-error-no-module-named-distutils-cmd/</url>
    <content><![CDATA[<p>æˆ‘åœ¨ Ubuntu 20.04 ç³»ç»Ÿä¸Šå·²ç»å®‰è£…å¥½ python3.7ï¼Œç„¶åæ‰‹åŠ¨å®‰è£… pipï¼š</p>
<p>é¦–å…ˆï¼Œä¸‹è½½ <em>get-pip.py</em> æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br></pre></td></tr></table></figure>

<p> ç„¶åç­‰è¯¥æ–‡ä»¶ä¸‹è½½å®Œåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… pipï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3.7 get-pip.py</span><br></pre></td></tr></table></figure>

<p> ç»“æœå‡ºç°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ python3.7 get-pip.py</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;get-pip.py&quot;</span>, line 32321, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    main()</span><br><span class="line">  File <span class="string">&quot;get-pip.py&quot;</span>, line 135, <span class="keyword">in</span> main</span><br><span class="line">    bootstrap(tmpdir=tmpdir)</span><br><span class="line">  File <span class="string">&quot;get-pip.py&quot;</span>, line 111, <span class="keyword">in</span> bootstrap</span><br><span class="line">    monkeypatch_for_cert(tmpdir)</span><br><span class="line">  File <span class="string">&quot;get-pip.py&quot;</span>, line 92, <span class="keyword">in</span> monkeypatch_for_cert</span><br><span class="line">    from pip._internal.commands.install import InstallCommand</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/commands/__init__.py&quot;</span>, line 9, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/cli/base_command.py&quot;</span>, line 15, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/cli/cmdoptions.py&quot;</span>, line 24, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/cli/parser.py&quot;</span>, line 12, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/configuration.py&quot;</span>, line 26, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/utils/logging.py&quot;</span>, line 29, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/utils/misc.py&quot;</span>, line 44, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/locations/__init__.py&quot;</span>, line 66, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/tmp/tmpk9odbp_y/pip.zip/pip/_internal/locations/_distutils.py&quot;</span>, line 20, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;distutils.cmd&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä»é”™è¯¯ä¿¡æ¯ ModuleNotFoundError: No module named â€˜distutils.cmdâ€™ çœ‹æ˜¯ç¼ºå°‘ distutils æ¨¡å—ï¼Œä¾¿ä½¿ç”¨ apt-get å‘½ä»¤æ¥å®‰è£…è¯¥æ¨¡å—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt-get install python3-distutils</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree</span><br><span class="line">Reading state information... Done</span><br><span class="line">python3-distutils is already the newest version (3.8.10-0ubuntu1~20.04).</span><br><span class="line">python3-distutils <span class="built_in">set</span> to manually installed.</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œç»§ç»­æ‰§è¡Œ <code>python3.7 get-pip.py</code> å‘½ä»¤æ¥å®‰è£… pipï¼Œç»“æœæŠ¥åŒæ ·çš„é”™è¯¯ä¿¡æ¯ã€‚æˆ‘è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p>
<hr>
<p>è¿™ä¸ªé”™è¯¯è¡¨ç¤ºä½ çš„ Python ç¯å¢ƒä¸­ç¼ºå°‘ distutils æ¨¡å—ï¼Œå¯¼è‡´ import å¤±è´¥ã€‚<br>è¦è§£å†³è¿™ä¸ªé”™è¯¯ï¼Œä½ éœ€è¦å®‰è£… distutils æ¨¡å—ï¼Œä¸€èˆ¬å¯ä»¥ç›´æ¥é€šè¿‡ apt-get å‘½ä»¤å®‰è£… <code>python3-distutils</code> åŒ…æ¥è§£å†³ç¼ºå¤±é—®é¢˜ã€‚ä»ä½ å®‰è£…è¯¥æ¨¡å—çš„ä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œä½ å·²ç»å®‰è£…äº†è¯¥åŒ…ï¼Œåªä¸è¿‡è¯¥åŒ…çš„ç‰ˆæœ¬å¹¶æ²¡æœ‰è·Ÿä½ ç°åœ¨ Python çš„ç‰ˆæœ¬å¯¹åº”ä¸Šã€‚</p>
<p>ä½ å®‰è£…çš„ <code>python3-distutils</code> åŒ…å¯¹åº”çš„ Python ç‰ˆæœ¬ä¸º 3.8.10ï¼Œè€Œä½ çš„ Python ç‰ˆæœ¬ä¸º 3.7ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸ª Python ç‰ˆæœ¬é—®é¢˜ï¼Œä½ åº”è¯¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get install python3.7-distutil </span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu ä¸Šè¿è¡Œ sudo add-apt-repository å‘½ä»¤æ—¶å‡ºç° command not found é”™è¯¯</title>
    <url>/2023/04/25/ubuntu-sudo-add-apt-repository-command-not-found/</url>
    <content><![CDATA[<p>å¦‚æœåœ¨ Ubuntu ä¸Šè¿è¡ŒÂ <code>sudo add-apt-repository</code>Â å‘½ä»¤æ—¶å‡ºç°Â <code>command not found</code>Â é”™è¯¯ï¼Œè¯´æ˜ä½ çš„ç³»ç»Ÿä¸­ç¼ºå°‘Â <code>software-properties-common</code>Â åŒ…ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install software-properties-common</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼Œ<code>sudo add-apt-repository</code>Â å‘½ä»¤å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>
<p>è¯¥åŒ…æä¾›äº†ä¸€äº›ç®¡ç† apt æºçš„å®ç”¨å·¥å…·ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>add-apt-repository</code>Â - ç”¨äºæ·»åŠ  apt æº</li>
<li><code>remove-apt-repository</code>Â - ç”¨äºåˆ é™¤ apt æº</li>
<li><code>apt-add-repository</code>Â - åŒä¸Šï¼Œåˆ«å</li>
<li><code>apt-key</code>Â - ç”¨äºç®¡ç† apt key</li>
<li><code>apt-cache gencaches</code>Â - ç”¨äºç”Ÿæˆ apt ç¼“å­˜</li>
</ul>
<p>è®¸å¤šç¬¬ä¸‰æ–¹å·¥å…·éƒ½éœ€è¦ä½¿ç”¨åˆ°è¿™ä¸ªåŒ…æä¾›çš„å·¥å…·æ¥æ·»åŠ å®ƒä»¬è‡ªå·±çš„ apt æºã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æŒç»­æ›´æ–°ã€‘iPhone è®¾å¤‡å‹å·å¯¹åº”å‹å·åç§°ã€æ‰‹æœºå‹å·å¯¹åº”å±å¹•å°ºå¯¸åŠåˆ†è¾¨ç‡åˆ—è¡¨</title>
    <url>/2023/04/02/iphone-model-name-identifier-size-display/</url>
    <content><![CDATA[<p>å½“å‰å·²æ›´æ–°è‡³ iPhone 14 Pro Maxã€‚</p>
<h2 id="iPhone-è®¾å¤‡å‹å·å¯¹åº”æ‰‹æœºå‹å·åç§°"><a href="#iPhone-è®¾å¤‡å‹å·å¯¹åº”æ‰‹æœºå‹å·åç§°" class="headerlink" title="iPhone è®¾å¤‡å‹å·å¯¹åº”æ‰‹æœºå‹å·åç§°"></a><strong><strong>iPhone è®¾å¤‡å‹å·å¯¹åº”æ‰‹æœºå‹å·åç§°</strong></strong></h2><table>
<thead>
<tr>
<th>è®¾å¤‡å‹å·ï¼ˆå›ºä»¶æ ‡è¯†ç¬¦ï¼‰</th>
<th>æ‰‹æœºå‹å·åç§°</th>
</tr>
</thead>
<tbody><tr>
<td>iPhone1,1</td>
<td>iPhone</td>
</tr>
<tr>
<td>iPhone1,2</td>
<td>iPhone 3G</td>
</tr>
<tr>
<td>iPhone2,1</td>
<td>iPhone 3Gs</td>
</tr>
<tr>
<td>iPhone3,1</td>
<td>iPhone 4</td>
</tr>
<tr>
<td>iPhone3,2</td>
<td>iPhone 4</td>
</tr>
<tr>
<td>iPhone3,3</td>
<td>iPhone 4</td>
</tr>
<tr>
<td>iPhone4,1</td>
<td>iPhone 4s</td>
</tr>
<tr>
<td>iPhone5,1</td>
<td>iPhone 5</td>
</tr>
<tr>
<td>iPhone5,2</td>
<td>iPhone 5</td>
</tr>
<tr>
<td>iPhone5,3</td>
<td>iPhone 5c</td>
</tr>
<tr>
<td>iPhone5,4</td>
<td>iPhone 5c</td>
</tr>
<tr>
<td>iPhone6,1</td>
<td>iPhone 5s</td>
</tr>
<tr>
<td>iPhone6,2</td>
<td>iPhone 5s</td>
</tr>
<tr>
<td>iPhone7,2</td>
<td>iPhone 6</td>
</tr>
<tr>
<td>iPhone7,1</td>
<td>iPhone 6 Plus</td>
</tr>
<tr>
<td>iPhone8,1</td>
<td>iPhone 6s</td>
</tr>
<tr>
<td>iPhone8,2</td>
<td>iPhone 6s Plus</td>
</tr>
<tr>
<td>iPhone8,4</td>
<td>iPhone SE (ç¬¬ä¸€ä»£)</td>
</tr>
<tr>
<td>iPhone9,1</td>
<td>iPhone 7</td>
</tr>
<tr>
<td>iPhone9,3</td>
<td>iPhone 7</td>
</tr>
<tr>
<td>iPhone9,2</td>
<td>iPhone 7 Plus</td>
</tr>
<tr>
<td>iPhone9,4</td>
<td>iPhone 7 Plus</td>
</tr>
<tr>
<td>iPhone10,1</td>
<td>iPhone 8</td>
</tr>
<tr>
<td>iPhone10,4</td>
<td>iPhone 8</td>
</tr>
<tr>
<td>iPhone10,2</td>
<td>iPhone 8 Plus</td>
</tr>
<tr>
<td>iPhone10,5</td>
<td>iPhone 8 Plus</td>
</tr>
<tr>
<td>iPhone10,3</td>
<td>iPhone X</td>
</tr>
<tr>
<td>iPhone10,6</td>
<td>iPhone X</td>
</tr>
<tr>
<td>iPhone11,8</td>
<td>iPhone XR</td>
</tr>
<tr>
<td>iPhone11,2</td>
<td>iPhone XS</td>
</tr>
<tr>
<td>iPhone11,6</td>
<td>iPhone XS Max</td>
</tr>
<tr>
<td>iPhone11,4</td>
<td>iPhone XS Max</td>
</tr>
<tr>
<td>iPhone12,1</td>
<td>iPhone 11</td>
</tr>
<tr>
<td>iPhone12,3</td>
<td>iPhone 11 Pro</td>
</tr>
<tr>
<td>iPhone12,5</td>
<td>iPhone 11 Pro Max</td>
</tr>
<tr>
<td>iPhone12,8</td>
<td>iPhone SE (ç¬¬äºŒä»£)</td>
</tr>
<tr>
<td>iPhone13,1</td>
<td>iPhone 12 mini</td>
</tr>
<tr>
<td>iPhone13,2</td>
<td>iPhone 12</td>
</tr>
<tr>
<td>iPhone13,3</td>
<td>iPhone 12 Pro</td>
</tr>
<tr>
<td>iPhone13,4</td>
<td>iPhone 12 Pro Max</td>
</tr>
<tr>
<td>iPhone14,4</td>
<td>iPhone 13 mini</td>
</tr>
<tr>
<td>iPhone14,5</td>
<td>iPhone 13</td>
</tr>
<tr>
<td>iPhone14,2</td>
<td>iPhone 13 Pro</td>
</tr>
<tr>
<td>iPhone14,3</td>
<td>iPhone 13 Pro Max</td>
</tr>
<tr>
<td>iPhone14,6</td>
<td>iPhone SE (ç¬¬ä¸‰ä»£)</td>
</tr>
<tr>
<td>iPhone14,7</td>
<td>iPhone 14</td>
</tr>
<tr>
<td>iPhone14,8</td>
<td>iPhone 14 Plus</td>
</tr>
<tr>
<td>iPhone15,2</td>
<td>iPhone 14 Pro</td>
</tr>
<tr>
<td>iPhone15,3</td>
<td>iPhone 14 Pro Max</td>
</tr>
</tbody></table>
<h2 id="iPhone-å…¨æœºå‹åˆ†è¾¨ç‡å’Œå°ºå¯¸"><a href="#iPhone-å…¨æœºå‹åˆ†è¾¨ç‡å’Œå°ºå¯¸" class="headerlink" title="iPhone å…¨æœºå‹åˆ†è¾¨ç‡å’Œå°ºå¯¸"></a><strong>iPhone å…¨æœºå‹åˆ†è¾¨ç‡å’Œå°ºå¯¸</strong></h2><table>
<thead>
<tr>
<th>æ‰‹æœºå‹å·</th>
<th>å±å¹•å°ºå¯¸(inch)</th>
<th>å±å¹•å®½é«˜(pt)</th>
<th>å±å¹•åˆ†è¾¨ç‡(px)</th>
<th>å€å›¾</th>
<th>å±å¹•å¯†åº¦</th>
<th>å±å¹•æ¯”ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>2G/3G/3Gs</td>
<td>3.5</td>
<td>320 Ã— 480</td>
<td>320 Ã— 480</td>
<td>@1x</td>
<td>-</td>
<td>3:2</td>
</tr>
<tr>
<td>4/4s</td>
<td>3.5</td>
<td>320 Ã— 480</td>
<td>640 Ã— 960</td>
<td>@2x</td>
<td>326 ppi</td>
<td>3:2</td>
</tr>
<tr>
<td>5/5c/5s/se(ç¬¬ä¸€ä»£)</td>
<td>4.0</td>
<td>320 Ã— 568</td>
<td>640 Ã— 1136</td>
<td>@2x</td>
<td>326 ppi</td>
<td>16:9</td>
</tr>
<tr>
<td>6/6s/7/8/se(ç¬¬äºŒä»£)</td>
<td>4.7</td>
<td>375 Ã— 667</td>
<td>750 Ã— 1334</td>
<td>@2x</td>
<td>326 ppi</td>
<td>16:9</td>
</tr>
<tr>
<td>6+/6s+/7+/8+</td>
<td>5.5</td>
<td>414 Ã— 736</td>
<td>1242 Ã— 2208</td>
<td>@3x</td>
<td>401 ppi</td>
<td>16:9</td>
</tr>
<tr>
<td>X/XS/11Pro</td>
<td>5.8</td>
<td>375 Ã— 812</td>
<td>1125 Ã— 2436</td>
<td>@3x</td>
<td>458 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>XR/11</td>
<td>6.1</td>
<td>414 Ã— 896</td>
<td>828 Ã— 1792</td>
<td>@2x</td>
<td>326 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>Xs Max/11Pro Max</td>
<td>6.5</td>
<td>414 Ã— 896</td>
<td>1242 Ã— 2688</td>
<td>@3x</td>
<td>458 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>iPhone12 mini/13 mini</td>
<td>5.4</td>
<td>360 Ã— 780</td>
<td>1080 Ã— 2340</td>
<td>@3x</td>
<td>476 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>iPhone12/12Pro/13/13Pro/14</td>
<td>6.1</td>
<td>390 Ã— 844</td>
<td>1170 Ã— 2532</td>
<td>@3x</td>
<td>460 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>12 Pro Max /13 Pro Max/14 Plus</td>
<td>6.7</td>
<td>428 Ã— 926</td>
<td>1284 Ã— 2778</td>
<td>@3x</td>
<td>458 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>14 Pro</td>
<td>6.1ï¼ˆ6.12ï¼‰</td>
<td>393 Ã— 852</td>
<td>1179 Ã— 2556</td>
<td>@3x</td>
<td>460 ppi</td>
<td>19.5:9</td>
</tr>
<tr>
<td>14Pro Max</td>
<td>6.7ï¼ˆ6.69ï¼‰</td>
<td>430 Ã— 932</td>
<td>1290 Ã— 2796</td>
<td>@3x</td>
<td>460 ppi</td>
<td>19.5:9</td>
</tr>
</tbody></table>
<blockquote>
<p>æ•°æ®æ¥æºï¼š<br><a href="https://www.theiphonewiki.com/wiki/Models">https://www.theiphonewiki.com/wiki/Models</a></p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
  </entry>
  <entry>
    <title>äº†è§£Filebeatï¼šé‡‡é›†ã€è½¬å‘å’Œæ±‡æ€»æ—¥å¿—çš„è½»é‡å‹è§£å†³æ–¹æ¡ˆ</title>
    <url>/2023/02/20/filebeat-introduction/</url>
    <content><![CDATA[<h2 id="Filebeat-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Filebeat-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Filebeat æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Filebeat æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Filebeat æ˜¯åŸºäº libbeat æ¡†æ¶å¼€å‘çš„ä¸€æ¬¾å¼€æºçš„è½»é‡å‹æ—¥å¿—é‡‡é›†å™¨ï¼Œä¸“ä¸ºå¿«é€Ÿæ”¶é›†å’Œä¼ è¾“å¤šç§æ¥æºçš„æ—¥å¿—æ•°æ®è€Œè®¾è®¡ã€‚å®ƒå¯ä»¥ä»å®‰å…¨è®¾å¤‡ã€äº‘ã€å®¹å™¨ã€ä¸»æœºæˆ– OT ç­‰å¤šç§æ•°æ®æºé‡‡é›†æ—¥å¿—ï¼Œå¹¶æä¾›ä¸€ç§è½»é‡å‹çš„æ–¹æ³•ï¼Œç”¨äºè½¬å‘å’Œæ±‡æ€»æ—¥å¿—ä¸æ–‡ä»¶ã€‚</p>
<h2 id="Filebeat-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#Filebeat-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="Filebeat æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>Filebeat æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h2><p>1ã€Filebeat æ”¯æŒä»å¤šç§æ•°æ®æºæ”¶é›†æ•°æ®ï¼Œä¾‹å¦‚å®‰å…¨è®¾å¤‡ã€äº‘æœåŠ¡ã€å®¹å™¨ã€ä¸»æœºæˆ– OTç­‰ã€‚</p>
<p>2ã€Filebeat å…·æœ‰æ€§èƒ½ç¨³å®šã€æ”¯æŒå®¹é”™æœºåˆ¶çš„ç‰¹ç‚¹ã€‚å¦‚æœåœ¨æœªæ¥æŸä¸ªæ—¶åˆ» Filebeat å› ä¸ºæŸç§åŸå› ä¸­æ–­ï¼Œæ¢å¤æ­£å¸¸åï¼Œå®ƒå¯ä»¥ä»ä¸­æ–­å‰åœæ­¢çš„ä½ç½®ç»§ç»­è¯»å–å¹¶è½¬å‘æ—¥å¿—è¡Œã€‚</p>
<p>3ã€Filebeat æ”¯æŒèƒŒå‹æœºåˆ¶ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœ Filebeat å‘é€æ—¥å¿—æ•°æ®çš„é€Ÿç‡è¶…è¿‡æ¥æ”¶ç«¯ï¼ˆä¾‹å¦‚ Logstashã€Elasticsearchç­‰ï¼‰å¤„ç†æ•°æ®çš„é€Ÿç‡ï¼Œæ¥æ”¶ç«¯ä¼šå‘ Filebeat å‘å‡ºä¿¡å·ï¼Œè¦æ±‚ Filebeat å‡æ…¢å‘é€é€Ÿåº¦ï¼Œä»¥é¿å… Filebeat æ”¶é›†çš„æ•°æ®å› å†…å­˜ä¸è¶³è€Œè¢«ä¸¢å¼ƒã€‚ä¸€æ—¦æ¥æ”¶ç«¯å¤„ç†æ•°æ®çš„é€Ÿç‡è·Ÿä¸Šï¼ŒFilebeat å°±ä¼šæ¢å¤åˆ°åŸæ¥çš„æ­¥ä¼å¹¶ç»§ç»­ä¼ è¾“æ•°æ®ã€‚</p>
<p>4ã€Filebeat æä¾›äº†ä¸€ç»„é¢„å…ˆæ„å»ºçš„æ¨¡å—ï¼Œç”¨äºç®€åŒ–å¸¸è§æ ¼å¼çš„æ—¥å¿—çš„æ”¶é›†ã€è§£æå’Œå¯è§†åŒ–ï¼Œæ¯”å¦‚ Nginx Web æœåŠ¡å™¨çš„è®¿é—®æ—¥å¿—ç­‰ã€‚</p>
<p>5ã€Filebeat æ˜¯ Elastic Stack çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ä¸ Logstashã€Elasticsearch å’Œ Kibana æ— ç¼åä½œã€‚æ— è®ºæ˜¯æƒ³è¦ä½¿ç”¨ Logstash å¯¹æ—¥å¿—å’Œæ–‡ä»¶è¿›è¡Œè½¬æ¢æˆ–å¢å¼ºï¼Œè¿˜æ˜¯æƒ³åœ¨ Elasticsearch ä¸­è¿›è¡Œä¸€äº›åˆ†æï¼Œæˆ–è€…æ˜¯åœ¨ Kibana ä¸­æ„å»ºå’Œå…±äº«ä»ªè¡¨æ¿ï¼ŒFilebeat éƒ½èƒ½è½»æ¾åœ°å°†æ•°æ®å‘é€è‡³æœ€å…³é”®çš„åœ°æ–¹ã€‚</p>
<h2 id="Filebeat-å¦‚ä½•å·¥ä½œï¼Ÿ"><a href="#Filebeat-å¦‚ä½•å·¥ä½œï¼Ÿ" class="headerlink" title="Filebeat å¦‚ä½•å·¥ä½œï¼Ÿ"></a>Filebeat å¦‚ä½•å·¥ä½œï¼Ÿ</h2><p>Filebeat ä½œä¸ºä»£ç†å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šï¼Œå®ƒä¼šç›‘æ§æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶æˆ–ä½ç½®ï¼Œæ”¶é›†æ—¥å¿—äº‹ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬å‘åˆ°æŒ‡å®šçš„è¾“å‡ºä¸Šã€‚</p>
<p>å½“æˆ‘ä»¬å¯åŠ¨ Filebeat è¿›ç¨‹æ—¶ï¼Œå®ƒä¼šæ ¹æ®æˆ‘ä»¬çš„é…ç½®ä¿¡æ¯ï¼Œå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œå»æŸ¥æ‰¾æŒ‡å®šä½ç½®ä¸‹çš„æ—¥å¿—æ–‡ä»¶ã€‚å¯¹äºæ¯ä¸ªæŸ¥æ‰¾åˆ°çš„æ—¥å¿—æ–‡ä»¶ï¼ŒFilebeat éƒ½ä¼šå¯åŠ¨ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„é‡‡é›†å™¨ï¼Œè¯»å–æ–‡ä»¶ä¸­çš„æ–°å¢æ—¥å¿—æ•°æ®ï¼Œå¹¶å°†å®ƒä»¬å‘é€ç»™ libbeatã€‚libbeat ä¼šå…ˆèšåˆè¿™äº›æ—¥å¿—æ•°æ®ï¼Œç„¶åå†å°†èšåˆåçš„æ•°æ®å‘é€åˆ°æˆ‘ä»¬æŒ‡å®šçš„è¾“å‡ºä¸Šï¼Œä¾‹å¦‚ Elasticsearchã€Logstashã€Kafka æˆ– Redis ç­‰ã€‚</p>
<p><img src="/image/2023/20230220.png" alt="Filebeat"></p>
<p>ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œæˆ‘ä»¬é…ç½® Filebeat ä»ä¸¤ä¸ªä½ç½®é‡‡é›†æ—¥å¿—æ•°æ®ï¼š</p>
<ul>
<li>ä» <em>/var/log</em> ç›®å½•ä¸‹é‡‡é›†æ–‡ä»¶æ‰©å±•åä¸º <em>log</em> çš„æ–‡ä»¶ï¼›</li>
<li>ä» <em>/var/log/apache2</em> ç›®å½•ä¸‹é‡‡é›†æ‰€æœ‰æ–‡ä»¶ã€‚</li>
</ul>
<p>æ¥ç€ï¼Œå¯åŠ¨ Filebeat è¿›ç¨‹ï¼ŒFilebeat ä¼šå¯åŠ¨ä¸¤ä¸ªè¾“å…¥æ¥æŸ¥æ‰¾æ—¥å¿—æ–‡ä»¶ï¼š</p>
<ul>
<li>è¾“å…¥ 1ï¼ˆInput 1ï¼‰æŸ¥æ‰¾ <em>/var/log</em> ç›®å½•ä¸‹æ–‡ä»¶æ‰©å±•åä¸º <em>log</em> çš„æ–‡ä»¶ï¼›</li>
<li>è¾“å…¥ 2ï¼ˆInput 2ï¼‰æŸ¥æ‰¾ <em>/var/log/apache2</em> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ã€‚</li>
</ul>
<p>å…¶ä¸­ï¼Œåœ¨ <em>/var/log</em> å½“å‰ç›®å½•ä¸‹æ‰¾åˆ°äº†ä¸¤ä¸ªç¬¦åˆæ¡ä»¶çš„æ—¥å¿—æ–‡ä»¶â€”â€”system.log å’Œ wifi.logã€‚Filebeat ä¼šå¯åŠ¨ä¸¤ä¸ªé‡‡é›†å™¨ï¼Œåˆ†åˆ«é‡‡é›†è¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶çš„æ–°å¢æ—¥å¿—æ•°æ®ã€‚åœ¨ <em>/var/log/apache2</em> ç›®å½•ä¸‹åªæœ‰ä¸€ä¸ª error.log æ—¥å¿—æ–‡ä»¶ï¼ŒFilebeat åŒæ ·ä¹Ÿä¼šå¯åŠ¨ä¸€ä¸ªé‡‡é›†å™¨æ¥é‡‡é›†è¯¥æ–‡ä»¶æ–°å¢çš„æ•°æ®ã€‚è¿™ä¸‰ä¸ªé‡‡é›†å™¨ä¼šæŠŠé‡‡é›†åˆ°çš„æ—¥å¿—æ•°æ®å‘é€ç»™ libbeatã€‚libbeat ä¼šå¯¹æ”¶åˆ°çš„æ—¥å¿—æ•°æ®è¿›è¡Œèšåˆï¼Œç„¶åå†æ ¹æ®æˆ‘ä»¬çš„é…ç½®ä¿¡æ¯ï¼Œå°†èšåˆåçš„æ—¥å¿—æ•°æ®å‘é€åˆ° Elasticsearchã€Logstashã€Kafka æˆ– Redis ç­‰è¾“å‡ºä¸Šã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
      </tags>
  </entry>
  <entry>
    <title>äº†è§£Flinkä¸­çš„History Serverï¼šè®°å½•å’Œå±•ç¤ºä½œä¸šå†å²ä¿¡æ¯çš„é‡è¦å·¥å…·</title>
    <url>/2023/09/10/apache-flink-history-server/</url>
    <content><![CDATA[<p>Flink ä¸­çš„ History Server æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç»„ä»¶ï¼Œå¯ä»¥åœ¨ç›¸åº”çš„ Flink é›†ç¾¤å…³é—­ä¹‹åæŸ¥è¯¢å·²å®Œæˆä½œä¸šçš„ç»Ÿè®¡ä¿¡æ¯ã€‚å¹¶ä¸”ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ä¸ª REST APIï¼Œå¯æ¥å— HTTP è¯·æ±‚å¹¶ä»¥ JSON æ•°æ®ä½œä¸ºå“åº”ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Flink History Server çš„å·¥ä½œåŸç†å’Œä¸»è¦åŠŸèƒ½ã€‚</p>
<h2 id="ä¸€ã€History-Serverå·¥ä½œåŸç†"><a href="#ä¸€ã€History-Serverå·¥ä½œåŸç†" class="headerlink" title="ä¸€ã€History Serverå·¥ä½œåŸç†"></a>ä¸€ã€History Serverå·¥ä½œåŸç†</h2><p>Apache Flink è‡ªå¸¦äº†ä¸€ä¸ª HistoryServer è¿›ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Web æœåŠ¡å™¨ã€‚HistoryServer ä¸å‚ä¸ Flink ä½œä¸šæ‰§è¡Œï¼Œä»…ç”¨äºå±•ç¤ºä½œä¸šçš„å†å²ä¿¡æ¯ã€‚å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p>
<ol>
<li>JobManager ä¼šå°†å·²å®Œæˆçš„ä½œä¸šçš„ä¿¡æ¯ä»¥å­˜æ¡£æ–‡ä»¶çš„å½¢å¼å†™å…¥ HDFS æˆ–è€…å…¶ä»–æŒä¹…å­˜å‚¨ä¸­ã€‚</li>
<li>HistoryServer è¯»å–è¿™äº›å­˜æ¡£æ–‡ä»¶ï¼Œå¹¶æä¾› Web ç•Œé¢å±•ç¤ºå…¶ä¿¡æ¯å†…å®¹ã€‚</li>
<li>ç”¨æˆ·é€šè¿‡ HistoryServer çš„ Web UI æŸ¥çœ‹ä½œä¸šè®°å½•å’Œè¿è¡Œæ•°æ®ã€‚</li>
</ol>
<p>æ¯ä¸ªä½œä¸šå®Œæˆåï¼ŒJobManager ä¼šæŠŠè¯¥ä½œä¸šçš„ä¿¡æ¯æ‰“åŒ…æˆä¸€ä¸ªä¸ª JSON æ ¼å¼çš„å½’æ¡£æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä½œä¸šé…ç½®ä¿¡æ¯ã€ä½œä¸šæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ Checkpoint ä¿¡æ¯ã€å·²å®Œæˆä½œä¸šçš„ç»Ÿè®¡æ•°æ®ç­‰ï¼Œå¹¶å­˜å‚¨åœ¨ HDFS æˆ–è€…å…¶ä»–æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚HistoryServer ä¼šå®šæœŸè½®è¯¢è¿™äº›å½’æ¡£æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œæ‰€åŒ…å«çš„å­˜æ¡£ä¼šè¢«ä¸‹è½½ç¼“å­˜åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä»¥ä¾¿åœ¨ Web UI å±•ç¤ºã€‚</p>
<h2 id="äºŒã€History-Serverçš„ä¸»è¦åŠŸèƒ½"><a href="#äºŒã€History-Serverçš„ä¸»è¦åŠŸèƒ½" class="headerlink" title="äºŒã€History Serverçš„ä¸»è¦åŠŸèƒ½"></a>äºŒã€History Serverçš„ä¸»è¦åŠŸèƒ½</h2><p>é€šè¿‡ History Server Web UIï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹ Flink å·²å®Œæˆä½œä¸šçš„å„ç§å†å²ä¿¡æ¯ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ–¹é¢ï¼š</p>
<ol>
<li>æŸ¥çœ‹æ‰€æœ‰å·²å®Œæˆä½œä¸šåˆ—è¡¨ï¼Œä»¥åˆ—è¡¨çš„å½¢å¼å±•ç¤ºäº†æ¯ä¸€æ¬¡ä½œä¸šæ‰§è¡Œçš„æ¦‚è§ˆä¿¡æ¯ã€‚</li>
<li>ä½œä¸šé…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¹¶è¡Œåº¦è®¾ç½®ã€ç³»ç»Ÿå‚æ•°ç­‰ã€‚</li>
<li>ä½œä¸šè®¡åˆ’ï¼ˆExecution Graphï¼‰ï¼Œä»¥å›¾çš„å½¢å¼å±•ç¤ºä½œä¸šçš„æ‹“æ‰‘ç»“æ„ã€‚</li>
<li>ä½œä¸šå†…æ‰€æœ‰ä»»åŠ¡ï¼ˆVertexï¼‰çš„ç»Ÿè®¡æ•°æ®ï¼Œå¦‚æ¯ä¸ªä»»åŠ¡çš„è¿è¡Œæ—¶é•¿ã€å‘é€è®°å½•æ•°ç­‰ã€‚</li>
<li>ä½œä¸šå¤±è´¥æˆ–å¼‚å¸¸ä¿¡æ¯ï¼Œå¯ä»¥æŒ‡å¯¼å®šä½æ•…éšœã€‚</li>
<li>ä½œä¸šæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ Checkpoint ä¿¡æ¯ï¼Œå¦‚ Checkpoint å¤±è´¥æ¬¡æ•°ã€Checkpoint ç»Ÿè®¡ä¿¡æ¯ç­‰ã€‚</li>
<li>æ”¯æŒä»¥å›¾è¡¨çš„å½¢å¼æŸ¥çœ‹ä½œä¸šæ—¶é—´çº¿ï¼ˆTimelineï¼‰ï¼Œå¯ä»¥å¾ˆç›´è§‚åœ°è§‚å¯Ÿä½œä¸šçš„æ‰§è¡Œè¿‡ç¨‹ã€‚</li>
</ol>
<h2 id="ä¸‰ã€History-Serveré…ç½®"><a href="#ä¸‰ã€History-Serveré…ç½®" class="headerlink" title="ä¸‰ã€History Serveré…ç½®"></a>ä¸‰ã€History Serveré…ç½®</h2><h3 id="JobManager"><a href="#JobManager" class="headerlink" title="JobManager"></a>JobManager</h3><p>æ ¹æ® History Server çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬çŸ¥é“ JobManager è´Ÿè´£å·²å®Œæˆä½œä¸šçš„å½’æ¡£å·¥ä½œï¼Œå³å°†å·²å®Œæˆçš„ä½œä¸šçš„ä¿¡æ¯å†™å…¥åˆ° HDFS æˆ–è€…å…¶ä»–æŒä¹…å­˜å‚¨ä¸­ï¼Œä»¥ä¾› History Server æŸ¥è¯¢å±•ç¤ºã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ <em>flink-conf.yaml</em> æ–‡ä»¶ä¸­é…ç½®å·²å®Œæˆä½œä¸šçš„å­˜æ¡£ç›®å½•ï¼ˆé€šè¿‡ <code>jobmanager.archive.fs.dir</code> è®¾ç½®ï¼‰ï¼Œå¦‚ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å·²å®Œæˆä½œä¸šä¿¡æ¯çš„å­˜æ¡£ç›®å½•</span></span><br><span class="line"><span class="attr">jobmanager.archive.fs.dir:</span> <span class="string">hdfs:///completed-jobs</span></span><br></pre></td></tr></table></figure>

<h3 id="HistoryServer"><a href="#HistoryServer" class="headerlink" title="HistoryServer"></a>HistoryServer</h3><p>å·²å®Œæˆä½œä¸šçš„å­˜æ¡£ç›®å½•é…ç½®å¥½åï¼Œæ¥ä¸‹æ¥å°±æ˜¯é…ç½® HistoryServerã€‚é€šè¿‡è®¾ç½® <code>historyserver.archive.fs.dir</code> å‘Šè¯‰ HistoryServer éœ€è¦ä»å“ªäº›ç›®å½•è¯»å–å·²å®Œæˆä½œä¸šçš„ä¿¡æ¯ã€‚è¯¥é…ç½®é¡¹é€šå¸¸ä¸ <code>jobmanager.archive.fs.dir</code> ä¸€è‡´ï¼Œå³ JobManager å°†å·²å®Œæˆçš„ä½œä¸šä¿¡æ¯å­˜æ”¾åœ¨å“ªé‡Œï¼ŒHistoryServer å°±å»å“ªé‡Œè¯»ã€‚å¦‚æœç›®å½•æœ‰å¤šä¸ªï¼Œå¯ä»¥ä½¿ç”¨è‹±æ–‡é€—å·åˆ†éš”ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç›‘è§†ä»¥ä¸‹ç›®å½•ä¸­å·²å®Œæˆçš„ä½œä¸š</span></span><br><span class="line"><span class="attr">historyserver.archive.fs.dir:</span> <span class="string">hdfs:///completed-jobs</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡é…ç½®é¡¹ <code>historyserver.archive.fs.refresh-interval</code> è®¾ç½® HistoryServer å®šæœŸè¯»å–ç›®å½•çš„æ—¶é—´é—´éš”ï¼ˆå•ä½ä¸ºæ¯«ç§’ï¼‰ï¼Œå¦‚è®¾ç½®æ¯ 10 ç§’åˆ·æ–°ä¸€æ¬¡ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¯ 10 ç§’åˆ·æ–°ä¸€æ¬¡</span></span><br><span class="line"><span class="attr">historyserver.archive.fs.refresh-interval:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<p>HistoryServer ä¼šå°†ç›®å½•æ‰€åŒ…å«çš„å­˜æ¡£ä¸‹è½½å¹¶ç¼“å­˜åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæœ¬åœ°ç›®å½•å¯ä»¥é€šè¿‡ <code>historyserver.web.tmpdir</code> é…ç½®ã€‚</p>
<p>HistoryServer çš„ WebUI ç›‘å¬çš„åœ°å€å’Œç«¯å£ï¼Œå¯é€šè¿‡ä»¥ä¸‹é…ç½®é¡¹ <code>historyserver.web.address</code> å’Œ <code>historyserver.web.port</code> è®¾ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># HistoryServer çš„ç›‘å¬åœ°å€</span></span><br><span class="line"><span class="attr">historyserver.web.address:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># HistoryServer çš„ç›‘å¬ç«¯å£</span></span><br><span class="line"><span class="attr">historyserver.web.port:</span> <span class="number">8082</span></span><br></pre></td></tr></table></figure>

<h3 id="é…ç½®å‚æ•°"><a href="#é…ç½®å‚æ•°" class="headerlink" title="é…ç½®å‚æ•°"></a>é…ç½®å‚æ•°</h3><table>
<thead>
<tr>
<th>é…ç½®é¡¹</th>
<th>é»˜è®¤å€¼</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>historyserver.archive.clean-expired-jobs</td>
<td>false</td>
<td>Boolean</td>
<td>æ˜¯å¦åº”æ¸…ç†ä¸å†å­˜åœ¨äº <code>historyserver.archive.fs.dir</code> çš„ä½œä¸šã€‚</td>
</tr>
<tr>
<td>historyserver.archive.fs.dir</td>
<td>(none)</td>
<td>String</td>
<td>ä»¥é€—å·åˆ†éš”çš„ç›®å½•åˆ—è¡¨ï¼Œç”¨äºè·å–å­˜æ¡£ä½œä¸šã€‚HistoryServer å°†ç›‘æ§è¿™äº›ç›®å½•ä¸­çš„å­˜æ¡£ä½œä¸šã€‚</td>
</tr>
<tr>
<td>historyserver.archive.fs.refresh-interval</td>
<td>10000</td>
<td>Long</td>
<td>åˆ·æ–°å­˜æ¡£å·¥ä½œç›®å½•çš„é—´éš”ï¼ˆæ¯«ç§’ï¼‰ã€‚</td>
</tr>
<tr>
<td>historyserver.archive.retained-jobs</td>
<td>-1</td>
<td>Integer</td>
<td><code>historyserver.archive.fs.dir</code> å®šä¹‰çš„æ¯ä¸ªå­˜æ¡£ç›®å½•ä¸­è¦ä¿ç•™çš„ä½œä¸šçš„æœ€å¤§æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º -1ï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™å­˜æ¡£æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚å¦‚æœè®¾ç½®ä¸º 0 æˆ–å°äº -1ï¼ŒHistoryServer å°†æŠ›å‡º IllegalConfigurationExceptionã€‚</td>
</tr>
<tr>
<td>historyserver.log.jobmanager.url-pattern</td>
<td>(none)</td>
<td>String</td>
<td>JobManager çš„æ—¥å¿— URL æ¨¡å¼ã€‚HistoryServer å°†ä»ä¸­ç”Ÿæˆå®é™… URLï¼Œå¹¶å°†ç‰¹æ®Šå ä½ç¬¦ <jobid> æ›¿æ¢ä¸ºä½œä¸š IDã€‚ä»…æ”¯æŒ http / https æ–¹æ¡ˆã€‚</td>
</tr>
<tr>
<td>historyserver.log.taskmanager.url-pattern</td>
<td>(none)</td>
<td>String</td>
<td>ä»»åŠ¡ç®¡ç†å™¨æ—¥å¿— URL çš„æ¨¡å¼ã€‚HistoryServer å°†ä»ä¸­ç”Ÿæˆå®é™… URLï¼Œå¹¶å°†ç‰¹æ®Šå ä½ç¬¦ <jobid> å’Œ <tmid> åˆ†åˆ«æ›¿æ¢ä¸º job å’Œ TaskManager çš„ idã€‚ä»…æ”¯æŒ http / https æ–¹æ¡ˆã€‚</td>
</tr>
<tr>
<td>historyserver.web.address</td>
<td>(none)</td>
<td>String</td>
<td>HistoryServer WebUI åœ°å€ã€‚</td>
</tr>
<tr>
<td>historyserver.web.port</td>
<td>8082</td>
<td>Integer</td>
<td>HistoryServer WebUI ç«¯å£ã€‚</td>
</tr>
<tr>
<td>historyserver.web.refresh-interval</td>
<td>10000</td>
<td>Long</td>
<td>HistoryServer ç½‘ç»œå‰ç«¯çš„åˆ·æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰ã€‚</td>
</tr>
<tr>
<td>historyserver.web.ssl.enabled</td>
<td>false</td>
<td>Boolean</td>
<td>å¯ç”¨ HTTP è®¿é—® HistoryServer ç½‘ç»œå‰ç«¯ã€‚åªæœ‰å½“å…¨å±€ SSL æ ‡å¿— security.ssl.enabled è®¾ä¸º true æ—¶æ‰é€‚ç”¨ã€‚</td>
</tr>
<tr>
<td>historyserver.web.tmpdir</td>
<td>(none)</td>
<td>String</td>
<td>HistoryServer REST API ç”¨äºä¸´æ—¶æ–‡ä»¶çš„æœ¬åœ°ç›®å½•ã€‚</td>
</tr>
</tbody></table>
<h2 id="å››ã€å¯åŠ¨History-Server"><a href="#å››ã€å¯åŠ¨History-Server" class="headerlink" title="å››ã€å¯åŠ¨History Server"></a>å››ã€å¯åŠ¨History Server</h2><p>åœ¨é…ç½®å¥½ HistoryServer å’Œ JobManager ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„è„šæœ¬æ¥å¯åŠ¨å’Œåœæ­¢ HistoryServerï¼š</p>
<p>å¯åŠ¨ HistoryServer</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨ HistoryServer</span></span><br><span class="line">bin/historyserver.sh start</span><br></pre></td></tr></table></figure>

<p>åœæ­¢ HistoryServer</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœæ­¢ HistoryServer</span></span><br><span class="line">bin/historyserver.sh stop</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šHistoryServer ç›®å‰åªèƒ½ä½œä¸ºç‹¬ç«‹çš„è¿›ç¨‹è¿è¡Œã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Flink ä¸­çš„ History Server æ˜¯ä¸€æ¬¾éå¸¸å®ç”¨ä¸”å¼ºå¤§çš„ç»„ä»¶ï¼Œå®ƒé€šè¿‡è®°å½•å’Œå±•ç¤º Flink ä½œä¸šçš„å†å²è¿è¡Œä¿¡æ¯ï¼Œä¸ºå®¡è®¡å’Œè°ƒè¯•ä½œä¸šæä¾›äº†é‡è¦çš„æ‰‹æ®µã€‚è¯¥å·¥å…·é‡‡ç”¨ç‹¬ç«‹çš„ Web æœåŠ¡å™¨ï¼Œä¸å‚ä¸ä½œä¸šæ‰§è¡Œï¼Œä»…ç”¨äºå±•ç¤ºä½œä¸šçš„å†å²ä¿¡æ¯ã€‚History Server çš„å·¥ä½œåŸç†æ˜¯ JobManager å°†å®Œæˆä½œä¸šçš„ä¿¡æ¯å­˜æ¡£åˆ° HDFS æˆ–å…¶ä»–æŒä¹…å­˜å‚¨ï¼Œç„¶å History Server è¯»å–å¹¶ä¸‹è½½ç¼“å­˜åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä»¥æä¾› Web ç•Œé¢å±•ç¤ºã€‚</p>
<p>é€šè¿‡ History Server çš„ Web UIï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æŸ¥çœ‹å·²å®Œæˆä½œä¸šåˆ—è¡¨ã€ä»»åŠ¡ç»Ÿè®¡æ•°æ®ã€ä½œä¸šå¤±è´¥å¼‚å¸¸ä¿¡æ¯ã€Checkpoint ä¿¡æ¯ç­‰ã€‚å€ŸåŠ© History Serverï¼Œæˆ‘ä»¬å¯ä»¥å®¡è®¡å·²å®Œæˆçš„ä½œä¸šï¼Œåˆ†æå’Œä¼˜åŒ–ä½œä¸šæ€§èƒ½ï¼Œå®šä½æ•…éšœåŸå› ï¼Œæ˜¯éå¸¸å¿…è¦çš„è¾…åŠ©å·¥å…·ã€‚</p>
<p>ä»¥ä¸Šæ˜¯ Apache Flink History Server çš„ç®€è¦ä»‹ç»ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 å®‰è£… Python3.7</title>
    <url>/2023/04/27/how-to-install-python-3-7-on-ubuntu-linux/</url>
    <content><![CDATA[<p>å¯¹äº Ubuntu ç”¨æˆ·æ¥è¯´ï¼Œå®‰è£… Python 3.7 çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ deadsnakes PPAã€‚å®ƒæä¾›äº†å¯¹ Python çš„æœ€æ–°æ›´æ–°å’Œä»»ä½•å…¶ä»–æ‰€éœ€è½¯ä»¶åŒ…çš„è®¿é—®ã€‚</p>
<h2 id="å®‰è£…-Python3-7"><a href="#å®‰è£…-Python3-7" class="headerlink" title="å®‰è£… Python3.7"></a>å®‰è£… Python3.7</h2><p>æ·»åŠ  PPA æºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository ppa:deadsnakes/ppa -y</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å®Œ PPA æºåï¼Œéœ€è¦è¿è¡Œ apt æ›´æ–°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br></pre></td></tr></table></figure>

<p>å®‰è£… Python3.7ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install python3.7</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ Python ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3.7 --version</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œå°±å·²ç»æˆåŠŸå®‰è£…äº† Python 3.7ã€‚</p>
<p>å¦‚æœè¿˜æƒ³ä¸º Python 3.7 å®‰è£…é¢å¤–çš„å·¥å…·ï¼Œä¾‹å¦‚è°ƒè¯•æ¨¡å—ã€å¼€å‘è€…æ¨¡å—ã€è™šæ‹Ÿç¯å¢ƒæ¨¡å—ã€Distutils æ¨¡å—ã€lib2to3 å·¥å…·æ¨¡å—ã€DBM.GNU æ¨¡å—å’Œ Tkinter æ¨¡å—ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install python3.7-dbg python3.7-dev python3.7-venv python3.7-distutils python3.7-lib2to3 python3.7-gdbm python3.7-tk</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…-Pip"><a href="#å®‰è£…-Pip" class="headerlink" title="å®‰è£… Pip"></a>å®‰è£… Pip</h2><p>æ‰‹åŠ¨é‡æ–°å®‰è£… Pipï¼Œä½¿ç”¨ <code>wget</code> å‘½ä»¤ä¸‹è½½ get-pip.pyï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½è¯¥æ–‡ä»¶åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Pipï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3.7 get-pip.py</span><br></pre></td></tr></table></figure>

<p>å¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼Œè¯´æ˜ Pip å·²ç»æˆåŠŸå®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Installing collected packages: pip</span><br><span class="line">  Attempting uninstall: pip</span><br><span class="line">    Found existing installation: pip 20.0.2</span><br><span class="line">    Uninstalling pip-20.0.2:</span><br><span class="line">      Successfully uninstalled pip-20.0.2</span><br><span class="line">Successfully installed pip-23.1.2</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯æ‰€å®‰è£…çš„ Pip çš„ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3.7 --version</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip 23.1.2 from /usr/local/lib/python3.7/dist-packages/pip (python 3.7)</span><br></pre></td></tr></table></figure>

<h2 id="å…³äº-deadsnakes-ppa"><a href="#å…³äº-deadsnakes-ppa" class="headerlink" title="å…³äº deadsnakes/ppa"></a>å…³äº deadsnakes/ppa</h2><p>ppa:deadsnakes/ppa æ˜¯ä¸€ä¸ªéå®˜æ–¹çš„ PPAï¼ˆPersonal Package Archiveï¼‰æºï¼Œå®ƒæä¾›äº† Python çš„å¤šä¸ªç‰ˆæœ¬ã€‚</p>
<p>ä¸»è¦ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æä¾› Python 2.3ã€2.6ã€3.1ã€3.5ã€3.7ã€3.9ã€3.11 ç­‰å¤šä¸ªç‰ˆæœ¬ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ Ubuntu ä¸Šå®‰è£…å’Œåˆ‡æ¢ Python ä¸åŒç‰ˆæœ¬ã€‚</li>
<li>ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œèƒ½å¤Ÿç¬¬ä¸€æ—¶é—´è·å– Python æ–°çš„ patch ç‰ˆæœ¬å’Œ bug ä¿®å¤ç‰ˆæœ¬ã€‚è¿™ä¸ª PPA é€šå¸¸èƒ½æä¾›æœ€æ–°çš„ Python ç¨³å®šç‰ˆæœ¬å’Œ Release Candidate ç‰ˆæœ¬ã€‚</li>
<li>å®‰è£…è¿‡ç¨‹ç®€å•ã€‚åªéœ€è¦æ·»åŠ  PPAï¼Œç„¶åç”¨ apt å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ Python å°±å¯ä»¥ã€‚å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å‡çº§å’Œåˆ‡æ¢ Python ç‰ˆæœ¬ã€‚</li>
<li>ä¸ä¼šå½±å“ç³»ç»Ÿé»˜è®¤çš„ Python ç‰ˆæœ¬ã€‚ä¸åŒç‰ˆæœ¬çš„ Python ä¼šå¹¶è¡Œå®‰è£…,ä¸ä¼šç›¸äº’å½±å“ã€‚</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ª PPA ä¸º Ubuntu æä¾›äº†éå¸¸æ–¹ä¾¿å’Œå…¨é¢åœ°å¤šç‰ˆæœ¬ Python æ”¯æŒï¼Œæ˜¯ Ubuntu ä¸Šå®‰è£…å’Œç®¡ç† Python ä¸åŒç‰ˆæœ¬çš„å¾ˆå¥½é€”å¾„ï¼Œç‰¹åˆ«é€‚åˆ Python å¼€å‘è€…ä½¿ç”¨ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Gsonåº“åœ¨Javaä¸­å®ç°ä¸‹åˆ’çº¿ä¸é©¼å³°æ ¼å¼çš„è½¬æ¢</title>
    <url>/2023/07/25/java-gson-camel-cased-underscore/</url>
    <content><![CDATA[<p>å½“æˆ‘ä»¬å¤„ç† JSON æ•°æ®æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸‹åˆ’çº¿æ ¼å¼ä¸é©¼å³°æ ¼å¼ä¹‹é—´çš„è½¬æ¢ã€‚ä¸ºäº†ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Gson åº“è¿›è¡Œæ•°æ®çš„ç›¸äº’è½¬æ¢ã€‚åœ¨æœ¬ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Gson å®ç°ä¸‹åˆ’çº¿ä¸é©¼å³°æ ¼å¼çš„è½¬æ¢ã€‚</p>
<p>Gson æ˜¯ä¸€ä¸ªæµè¡Œçš„ Java åº“ï¼Œç”¨äºå°† JSON æ•°æ®ä¸ Java å¯¹è±¡è¿›è¡Œç›¸äº’è½¬æ¢ã€‚å®ƒæä¾›äº†çµæ´»çš„é…ç½®é€‰é¡¹ï¼Œä»¥æ»¡è¶³å„ç§éœ€æ±‚ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸‹åˆ’çº¿ä¸é©¼å³°æ ¼å¼çš„è½¬æ¢ã€‚</p>
<h2 id="æ·»åŠ Mavenä¾èµ–"><a href="#æ·»åŠ Mavenä¾èµ–" class="headerlink" title="æ·»åŠ Mavenä¾èµ–"></a>æ·»åŠ Mavenä¾èµ–</h2><p>é¦–å…ˆï¼Œåœ¨Â <em>pom.xml</em>Â æ–‡ä»¶ä¸­é…ç½®Â <em>gson</em>Â ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>gson</em>Â ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§Â <a href="https://search.maven.org/search?q=g:com.google.code.gson%20AND%20a:gson&core=gav">Maven Central</a>Â ï¼‰ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯Â <em>2.10.1</em>Â ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚</p>
<h2 id="å°†ä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„Javaå¯¹è±¡"><a href="#å°†ä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„Javaå¯¹è±¡" class="headerlink" title="å°†ä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„Javaå¯¹è±¡"></a>å°†ä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„Javaå¯¹è±¡</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•å°†ä¸‹åˆ’çº¿æ ¼å¼çš„ JSON è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„ Java å¯¹è±¡ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹çš„ä¸‹åˆ’çº¿æ ¼å¼çš„ JSON å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;first_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;last_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Lin&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>User</code> ç±»ï¼Œè¯¥ç±»å¯¹åº”äºä¸Šè¿° JSON å­—ç¬¦ä¸²çš„ç»“æ„ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">public class User <span class="punctuation">&#123;</span></span><br><span class="line">    private String firstName;</span><br><span class="line">    private String lastName;</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    public User() <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public User(String firstName<span class="punctuation">,</span> String lastName<span class="punctuation">,</span> int age) <span class="punctuation">&#123;</span></span><br><span class="line">        this.firstName = firstName;</span><br><span class="line">        this.lastName = lastName;</span><br><span class="line">        this.age = age;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public String getFirstName() <span class="punctuation">&#123;</span></span><br><span class="line">        return firstName;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public void setFirstName(String firstName) <span class="punctuation">&#123;</span></span><br><span class="line">        this.firstName = firstName;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public String getLastName() <span class="punctuation">&#123;</span></span><br><span class="line">        return lastName;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public void setLastName(String lastName) <span class="punctuation">&#123;</span></span><br><span class="line">        this.lastName = lastName;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public int getAge() <span class="punctuation">&#123;</span></span><br><span class="line">        return age;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    public void setAge(int age) <span class="punctuation">&#123;</span></span><br><span class="line">        this.age = age;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() <span class="punctuation">&#123;</span></span><br><span class="line">        return <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;firstName=&#x27;&quot;</span> + firstName + &#x27;\&#x27;&#x27; +</span><br><span class="line">                <span class="string">&quot;, lastName=&#x27;&quot;</span> + lastName + &#x27;\&#x27;&#x27; +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                &#x27;<span class="punctuation">&#125;</span>&#x27;;</span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Gson çš„ <code>setFieldNamingStrategy()</code> æ–¹æ³•æ¥è®¾ç½®å­—æ®µåç§°çš„è½¬æ¢ç­–ç•¥ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨å‘½åç­–ç•¥ <code>FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES</code> æ¥å®ç°è‡ªå®šä¹‰çš„è½¬æ¢é€»è¾‘ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>()</span><br><span class="line">            .setFieldNamingStrategy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)</span><br><span class="line">            .create();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;first_name\&quot;:\&quot;Johnson\&quot;,\&quot;last_name\&quot;:\&quot;Lin\&quot;,\&quot;age\&quot;:28&#125;&quot;</span>;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> gson.fromJson(json, User.class);</span><br><span class="line"></span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">User&#123;firstName=&#x27;Johnson&#x27;, lastName=&#x27;Lin&#x27;, age=28&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Gson å¯¹è±¡å¹¶æŒ‡å®šäº†å­—æ®µå‘½åç­–ç•¥ã€‚åœ¨è¿™ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>setFieldNamingStrategy()</code> æ–¹æ³•æ¥å¤„ç†å­—æ®µåç§°ã€‚åœ¨ Gson ä¸­ä½¿ç”¨ <code>FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES</code> å‘½åç­–ç•¥ï¼ŒæŠŠå­—æ®µåä»ä¸‹åˆ’çº¿æ ¼å¼ä¿®æ”¹ä¸ºé©¼å³°å¼ã€‚ç„¶åï¼Œå†ä½¿ç”¨ <code>fromJson()</code> æ–¹æ³•å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°æ ¼å¼çš„ <code>User</code> å¯¹è±¡ã€‚</p>
<h2 id="å°†é©¼å³°æ ¼å¼çš„Javaå¯¹è±¡è½¬æ¢ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²"><a href="#å°†é©¼å³°æ ¼å¼çš„Javaå¯¹è±¡è½¬æ¢ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²" class="headerlink" title="å°†é©¼å³°æ ¼å¼çš„Javaå¯¹è±¡è½¬æ¢ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²"></a>å°†é©¼å³°æ ¼å¼çš„Javaå¯¹è±¡è½¬æ¢ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„JSONå­—ç¬¦ä¸²</h2><p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹çš„ <code>User</code> å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;Lin&quot;</span>, <span class="number">28</span>);</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Gson çš„ <code>setFieldNamingStrategy()</code> æ–¹æ³•æ¥è®¾ç½®å­—æ®µåç§°çš„è½¬æ¢ç­–ç•¥ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>()</span><br><span class="line">            .setFieldNamingStrategy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)</span><br><span class="line">            .create();</span><br><span class="line"></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;Lin&quot;</span>, <span class="number">28</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(user);</span><br><span class="line"></span><br><span class="line">    System.out.println(json);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">&#123;&quot;first_name&quot;:&quot;Johnson&quot;,&quot;last_name&quot;:&quot;Lin&quot;,&quot;age&quot;:28&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª Gson å¯¹è±¡å¹¶æŒ‡å®šäº†å­—æ®µå‘½åç­–ç•¥ã€‚åœ¨ Gson ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES</code> å‘½åç­–ç•¥å°†æŠŠ Java å­—æ®µåä»é©¼å³°å¼ä¿®æ”¹ä¸ºå°å†™å­—æ®µåï¼Œå…¶ä¸­æ¯ä¸ªå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿ (_) åˆ†éš”ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>toJson()</code> æ–¹æ³•å°†é©¼å³°æ ¼å¼çš„ <code>User</code> å¯¹è±¡è½¬æ¢ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„ JSON å­—ç¬¦ä¸²ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>é€šè¿‡ä½¿ç”¨ Gson åº“ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å®ç°ä¸‹åˆ’çº¿ä¸é©¼å³°æ ¼å¼ä¹‹é—´çš„è½¬æ¢ã€‚æ— è®ºæ˜¯ä»ä¸‹åˆ’çº¿æ ¼å¼çš„ JSON è½¬ä¸ºé©¼å³°æ ¼å¼çš„ Java å¯¹è±¡ï¼Œè¿˜æ˜¯ä»é©¼å³°æ ¼å¼çš„ Java å¯¹è±¡è½¬ä¸ºä¸‹åˆ’çº¿æ ¼å¼çš„ JSONï¼ŒGson æä¾›äº†çµæ´»çš„é…ç½®é€‰é¡¹æ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p>å¸Œæœ›æœ¬ç¯‡åšæ–‡èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£å¹¶åº”ç”¨ Gson è¿›è¡Œæ•°æ®æ ¼å¼è½¬æ¢ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxå¸¸ç”¨å‘½ä»¤ã€‘headâ€”â€”æŠŠä¸€ä¸ªæ–‡ä»¶çš„å‰nè¡Œæ‹·è´åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸Š</title>
    <url>/2023/03/22/how-to-copy-top-n-lines-from-one-file-to-another/</url>
    <content><![CDATA[<p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­å¶å°”éœ€è¦æŸ¥çœ‹æ–‡ä»¶å‰ n è¡Œçš„å†…å®¹ï¼Œå¦‚æœæ–‡ä»¶çš„å¤§å°ä¸ºå‡ ä¸ª GB æ—¶ï¼Œç›´æ¥æ‰“å¼€æ–‡ä»¶ä¼šå¾ˆæ…¢ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤åˆ¶æ–‡ä»¶çš„å‰ n è¡Œåˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸Šè¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<p>åœ¨ Linux ç¯å¢ƒä¸­å¯ä»¥ä½¿ç”¨ <code>head</code> å‘½ä»¤æ¥å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶çš„å‰ n è¡Œåˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸Šã€‚å¦‚ä»¥ä¸‹å‘½ä»¤è¡¨ç¤ºå¤åˆ¶æ–‡ä»¶ <em>nginx_app_log_20230320.log</em> ä¸­å‰ 10 ä¸‡è¡Œå†…å®¹åˆ° <em>/tmp</em> ç›®å½•ä¸‹çš„ <em>app0320_top10w.log</em> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 100000 nginx_app_log_20230320.log &gt; /tmp/app0320_top10w.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸è¦æµªè´¹ä½ çš„ä¸­å¹´å±æœº</title>
    <url>/2023/08/31/never-waste-a-midlife-crisis/</url>
    <content><![CDATA[<p>æˆ‘ä¸Šä¸ªæœˆåˆšæ»¡40å²ï¼ŒèŠ±äº†ä¸‰å‘¨æ—¶é—´é˜…è¯»ã€Šå ‚å‰è¯ƒå¾·ã€‹ï¼Œå› æ­¤ä¸­å¹´å±æœºä¸€ç›´åœ¨æˆ‘çš„è„‘æµ·ä¸­æŒ¥ä¹‹ä¸å»ã€‚</p>
<p>â€œåƒä¸‡ä¸è¦æµªè´¹ä½ çš„ä¸­å¹´å±æœºã€‚â€</p>
<p>è¿™æ˜¯æˆ‘åœ¨æ”¶å¬æ’­å®¢é‡‡è®¿ã€Šå¨å»‰ãƒ»å¸ƒè±å…‹ä¸ä¸–ç•Œã€‹ï¼ˆWilliam Blake vs. The Worldï¼‰çš„ä½œè€…çº¦ç¿°ãƒ»å¸Œæ ¼æ–¯ï¼ˆJohn Higgsï¼‰æ—¶å¬åˆ°çš„å»ºè®®ã€‚(2022å¹´æˆ‘æœ€å–œæ¬¢çš„è¯»ç‰©ä¹‹ä¸€ï¼‰ã€‚</p>
<p>å¸Œæ ¼æ–¯è¯´ï¼Œä»–é’¦ä½©çš„è‰ºæœ¯å®¶éƒ½æ˜¯åƒå¤§å«ãƒ»æ—å¥‡ï¼ˆDavid Lynchï¼‰è¿™æ ·çš„äººï¼Œâ€œä½ ä¸ä¼šè§‰å¾—ä»–ä»¬åœ¨è¿™ä¸ªä¸–ç•Œä¸Šæœ‰ä»€ä¹ˆæ˜æ˜¾çš„ä½ç½®ï¼Œä½†ä»–ä»¬å°±æ˜¯ä¸é¡¾ä¸€åˆ‡åœ°åšè‡ªå·±çš„äº‹æƒ…ï¼Œäºæ˜¯ä¸€ä¸ªä½ç½®å°±åœ¨ä»–ä»¬å‘¨å›´å»ºç«‹èµ·æ¥äº†â€ã€‚</p>
<p>ä»–ç»§ç»­è¯´é“ï¼š</p>
<p>â€œç”Ÿæ€å­¦ä¸­æœ‰ä¸€ä¸ªæ¦‚å¿µå«â€˜ç”Ÿæ€ä½åˆ›é€ â€™ï¼ˆniche creationï¼‰ã€‚å®ƒçš„æ„æ€æ˜¯ï¼šä¸€ä¸ªç‰©ç§æ¥åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œä¸æ˜¯å› ä¸ºâ€˜å“¦ï¼Œè¿™é‡Œæœ‰å……è¶³çš„é£Ÿç‰©ï¼Œæˆ‘å¯ä»¥åœ¨è¿™é‡Œç”Ÿå­˜å¾—å¾ˆå¥½â€™ã€‚è€Œæ˜¯è¿™ä¸ªç‰©ç§æœ¬èƒ½åœ°åšå®ƒè¯¥åšçš„äº‹ï¼Œé€šè¿‡å’Œç¯å¢ƒçš„äº’åŠ¨ï¼Œå®ƒåˆ›é€ äº†ä¸€ä¸ªæœ‰åˆ©äºè‡ªå·±ç”Ÿå­˜çš„ç¯å¢ƒã€‚</p>
<p>å½“æˆ‘å†³å®šå°è¯•æˆä¸ºä¸€åå…¨èŒä½œå®¶æ—¶â€”â€”å°½ç®¡è€ƒè™‘åˆ°å†™ä½œè¿™ä¸ªè¡Œä¸šçš„ç›ˆåˆ©æ¨¡å¼çš„è’è°¬æ€§â€”â€”æˆ‘æœ‰ä¸€ç§ä¿¡ä»°ï¼Œé‚£å°±æ˜¯åªè¦æˆ‘å»åšäº†ï¼Œé‚£äº›è¯»æˆ‘çš„ä¹¦çš„äººå°±ä¼šå¼€å§‹å‡ºç°ã€‚æ…¢æ…¢åœ°ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä¼šé€æ¸å»ºç«‹èµ·ä¸€äº›è¯»è€…ç¾¤ä½“ï¼Œä»–ä»¬ä¼šè¯´ï¼šâ€˜å“¦ï¼Œè¿™ä¸ªäººå¾ˆæœ‰æ„æ€ï¼Œæˆ‘ä¼šè¯»ä»–çš„ä¸‹ä¸€æœ¬ä¹¦ã€‚â€™è¿™äº›è¯»è€…è¶³ä»¥æ”¯æŒæˆ‘ã€‚</p>
<p>ä½ ä¼šåˆ›é€ å‡ºä½ æ‰€éœ€è¦çš„é‚£ä¸ªç”Ÿæ€ä½ã€‚å¹¶ä¸æ˜¯ä¸–ç•Œä¸Šæœ‰äººä¸€ç›´åœ¨è¯´ï¼šâ€˜å“¦ï¼Œæˆ‘ä»¬çœŸçš„éœ€è¦çº¦ç¿°ãƒ»å¸Œæ ¼æ–¯çš„ä¹¦ï¼Œå®ƒä»¬åœ¨å“ªé‡Œï¼Ÿâ€™ä½†å¦‚æœä½ å†™äº†è¿™äº›ä¹¦ï¼Œä¸–ç•Œå°±ä¼šå›´ç»•ç€å®ƒä»¬åšå‡ºååº”ã€‚â€</p>
<p>ä»–æ‰¿è®¤ï¼šâ€œè¿™æ€»æ˜¯åœ¨ä¸€ä¸ªå‡ ä¹æ— æ³•é¡ºåˆ©å®ç°çš„è¾¹ç¼˜ä¸Šâ€ï¼Œä½†ç›®å‰ä¸ºæ­¢ï¼Œå®ƒè¿˜æ˜¯å¥æ•ˆçš„ï¼Œè€Œè¿™ä¸€åˆ‡å§‹äºä»–å››åå²çš„æ—¶å€™åšå‡ºçš„å†³å®šï¼š</p>
<p>â€œä½ ä¸åº”è¯¥æµªè´¹ä½ çš„ä¸­å¹´å±æœºã€‚ä¸­å¹´å±æœºå¯ä»¥æˆå°±å¤§äº‹ã€‚å¦‚æœä½ åªæŠŠå®ƒæµªè´¹åœ¨ä¹°ä¸€è¾†è½¦ä¹‹ç±»çš„äº‹æƒ…ä¸Šï¼Œé‚£åªæ˜¯ç¼ºä¹æƒ³è±¡åŠ›ã€‚æˆ‘çš„ä¸­å¹´å±æœºå°±æ˜¯å†³å®šå†™ä¹¦ï¼Œå¹¶è¯•å›¾ä»¥æ­¤è°‹ç”Ÿã€‚  </p>
<p>å½“æ—¶çš„é€‰æ‹©ä¼¼ä¹æ˜¯è¿™æ ·çš„ï¼šå¦‚æœæˆ‘é€‰æ‹©å°è¯•ï¼Œæˆ‘å°±ä¼šèº«æ— åˆ†æ–‡ï¼Œå¦‚æœæˆ‘ä¸å°è¯•ï¼Œæˆ‘ä¼šå¾ˆç—›è‹¦ï¼Œä»¥åä¹Ÿä¼šä¸€ç›´ç—›è‹¦ä¸‹å»ã€‚èº«æ— åˆ†æ–‡æ¯”èµ·å¿ƒå­˜æ€¨æ¨è‚¯å®šæ›´å¥½ã€‚æ‰€ä»¥æˆ‘åšå‡ºäº†è¿™ä¸ªå†³å®šã€‚é‚£æ˜¯åå¹´å‰çš„äº‹æƒ…äº†ï¼ç°åœ¨æˆ‘è¿˜åœ¨åšæŒä¸‹å»ã€‚â€</p>
<p>å¾ˆå–œæ¬¢è¿™å¥è¯ã€‚ä¸è¦æµªè´¹ä½ çš„ä¸­å¹´å±æœºã€‚</p>
<p>(æˆ‘ç°åœ¨ä¸€è¾¹ç©å¡å°”è¾¾ï¼Œä¸€è¾¹å¬ä»–å†™çš„ã€Šçˆ±ä¸æ­»ï¼šè©¹å§†æ–¯-é‚¦å¾·ã€æŠ«å¤´å£«å’Œè‹±å›½äººçš„å¿ƒç†ã€‹ï¼ˆLove and Let Die: James Bond, The Beatles, and the British Psycheï¼‰ã€‚ä»–æŒ‡å‡ºï¼Œè©¹å§†æ–¯-é‚¦å¾·åŸºæœ¬ä¸Šå°±æ˜¯ä¼Šæ©-å¼—è±æ˜çš„ä¸­å¹´å±æœºï¼‰ã€‚</p>
<p>åŸæ–‡åœ°å€ï¼š<a href="https://austinkleon.com/2023/07/10/never-waste-a-midlife-crisis/">https://austinkleon.com/2023/07/10/never-waste-a-midlife-crisis/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Logstash çš„ geoip æ’ä»¶è§£æ IP åœ°å€çš„å½’å±åœ°</title>
    <url>/2023/04/11/logstash-filter-geoip-demo/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ geoip æ’ä»¶è§£æ IP åœ°å€çš„å½’å±åœ°ã€‚</p>
<hr>
<p>1ã€å¯åŠ¨ Logstash</p>
<p>æ–°å»ºé…ç½®æ–‡ä»¶ <em>geoip-demo.conf</em>ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input &#123; </span><br><span class="line">    stdin &#123; </span><br><span class="line">        codec =&gt; &#x27;json&#x27; </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line">filter &#123; </span><br><span class="line">    geoip &#123; </span><br><span class="line">        source =&gt; &#x27;[ip]&#x27;  </span><br><span class="line">        target =&gt; source</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line">output&#123; </span><br><span class="line">    stdout&#123;&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>-f</code> å‚æ•°æŒ‡å®šåˆ°é…ç½®æ–‡ä»¶ <em>geoip-demo.conf</em> å¯åŠ¨ Logstashï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/share/logstash/bin/logstash -f /mnt/d/src/yaybyc/geoip-demo.conf</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªæ˜¯ä¸ºäº†æµ‹è¯•ï¼Œä¹Ÿå¯ä»¥ä¸åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨ <code>-e</code> å‚æ•°æŒ‡å®šé…ç½®çš„æ–¹å¼å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/share/logstash/bin/logstash -e <span class="string">&quot;input &#123; stdin &#123; codec =&gt; &#x27;json&#x27; &#125;&#125; filter &#123; geoip &#123; source =&gt; &#x27;[ip]&#x27;  target =&gt; source&#125;&#125; output&#123; stdout&#123;&#125; &#125;&quot;</span></span><br></pre></td></tr></table></figure>

<p>2ã€è¾“å…¥ä»¥ä¸‹ IP åœ°å€</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;ip&quot;</span>:<span class="string">&quot;222.209.9.72&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>3ã€è§£æç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;@timestamp&quot;</span> =&gt; 2023-04-11T00:11:22.478684100Z,</span><br><span class="line">        <span class="string">&quot;source&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;geo&quot;</span> =&gt; &#123;</span><br><span class="line">                    <span class="string">&quot;timezone&quot;</span> =&gt; <span class="string">&quot;Asia/Shanghai&quot;</span>,</span><br><span class="line">             <span class="string">&quot;region_iso_code&quot;</span> =&gt; <span class="string">&quot;CN-SC&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;region_name&quot;</span> =&gt; <span class="string">&quot;Sichuan&quot;</span>,</span><br><span class="line">              <span class="string">&quot;continent_code&quot;</span> =&gt; <span class="string">&quot;AS&quot;</span>,</span><br><span class="line">                   <span class="string">&quot;city_name&quot;</span> =&gt; <span class="string">&quot;Chengdu&quot;</span>,</span><br><span class="line">                <span class="string">&quot;country_name&quot;</span> =&gt; <span class="string">&quot;China&quot;</span>,</span><br><span class="line">            <span class="string">&quot;country_iso_code&quot;</span> =&gt; <span class="string">&quot;CN&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;location&quot;</span> =&gt; &#123;</span><br><span class="line">                <span class="string">&quot;lat&quot;</span> =&gt; 30.6498,</span><br><span class="line">                <span class="string">&quot;lon&quot;</span> =&gt; 104.0555</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">         <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;222.209.9.72&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">         <span class="string">&quot;event&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;original&quot;</span> =&gt; <span class="string">&quot;&#123;\&quot;ip\&quot;:\&quot;222.209.9.72\&quot;&#125;\n&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">          <span class="string">&quot;host&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;hostname&quot;</span> =&gt; <span class="string">&quot;beenee9N&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">      <span class="string">&quot;@version&quot;</span> =&gt; <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;222.209.9.72&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>geo</code> å„å­—æ®µè¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>country_name</td>
<td>å›½å®¶åç§°</td>
<td>China</td>
</tr>
<tr>
<td>region_name</td>
<td>åœ°åŸŸåç§°ï¼Œçœä»½</td>
<td>Sichuan</td>
</tr>
<tr>
<td>city_name</td>
<td>åŸå¸‚</td>
<td>Chengdu</td>
</tr>
<tr>
<td>timezone</td>
<td>æ—¶åŒº</td>
<td>Asia/Shanghai</td>
</tr>
<tr>
<td>continent_code</td>
<td>å¤§æ´²ä»£ç </td>
<td>AS</td>
</tr>
<tr>
<td>country_iso_code</td>
<td>ISOå›½å®¶ä»£ç </td>
<td>CN</td>
</tr>
<tr>
<td>region_iso_code</td>
<td>ISOåœ°åŸŸä»£ç </td>
<td>CN-SC</td>
</tr>
<tr>
<td>location</td>
<td>ä½ç½®ï¼Œç»çº¬åº¦åæ ‡</td>
<td></td>
</tr>
<tr>
<td>lat</td>
<td>çº¬åº¦</td>
<td>30.6498</td>
</tr>
<tr>
<td>lon</td>
<td>ç»åº¦</td>
<td>104.0555</td>
</tr>
</tbody></table>
<p><code>continent_code</code> å®šä¹‰ï¼š</p>
<table>
<thead>
<tr>
<th>å¤§æ´²ä»£ç </th>
<th>å¤§æ´²åç§°ï¼ˆè‹±æ–‡ï¼‰</th>
<th>å¤§æ´²åç§°ï¼ˆä¸­æ–‡ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>NA</td>
<td>North America</td>
<td>åŒ—ç¾æ´²</td>
</tr>
<tr>
<td>SA</td>
<td>South America</td>
<td>å—ç¾æ´²</td>
</tr>
<tr>
<td>AS</td>
<td>Asia</td>
<td>äºšæ´²</td>
</tr>
<tr>
<td>OC</td>
<td>Oceania</td>
<td>å¤§æ´‹æ´²</td>
</tr>
<tr>
<td>AF</td>
<td>Africa</td>
<td>éæ´²</td>
</tr>
<tr>
<td>EU</td>
<td>Europe</td>
<td>æ¬§æ´²</td>
</tr>
</tbody></table>
<blockquote>
<p>TIPSï¼š<strong>äº”å¤§æ´²</strong>ï¼ˆFive continentsï¼‰æŒ‡åœ°çƒé™†åœ°åˆ†æˆçš„äº”å¤§ç‰ˆå—ï¼Œå³äºšæ´²ï¼ˆAsiaï¼‰ã€æ¬§æ´²ï¼ˆEuropeï¼‰ã€éæ´²ï¼ˆAfricaï¼‰ã€ç¾æ´²ï¼ˆAmericaï¼‰å’Œå¤§æ´‹æ´²ï¼ˆOceaniaï¼‰ã€‚åœ°ç†å­¦åˆå°†ç¾æ´²åˆ†ä¸ºåŒ—ç¾æ´²å’Œå—ç¾æ´²ï¼Œå—ææ´²æ— äººå±…ä½ï¼Œæ•…ä¹Ÿå¯ç§°ä¸º<strong>ä¸ƒå¤§æ´²</strong>ã€‚</p>
</blockquote>
<blockquote>
<p>å¥¥è¿äº”ç¯çš„äº”ç¯åˆ†åˆ«ä»£è¡¨äº”å¤§æ´²ã€‚äº”å¤§æ´²ä¸­é¢ç§¯æœ€å¤§çš„æ˜¯äºšæ´²ï¼Œç¬¬äºŒå¤§çš„æ˜¯ç¾æ´²ï¼Œç¬¬ä¸‰å¤§çš„æ˜¯éæ´²ï¼Œç¬¬å››å¤§çš„æ˜¯æ¬§æ´²ï¼Œæœ€å°çš„æ˜¯å¤§æ´‹æ´²ã€‚<br/>äºšæ´²ä»£è¡¨æ€§å›½å®¶ï¼šä¸­å›½ï¼Œæ—¥æœ¬ï¼ŒéŸ©å›½ï¼Œæ³°å›½ï¼Œæ–°åŠ å¡ã€‚<br/>æ¬§æ´²ä»£è¡¨æ€§å›½å®¶ï¼šè‹±å›½ï¼Œæ³•å›½ï¼Œå¾·å›½ï¼Œå¸Œè…Šï¼Œæ„å¤§åˆ©ã€‚<br/>ç¾æ´²ä»£è¡¨æ€§å›½å®¶ï¼šç¾å›½ï¼ŒåŠ æ‹¿å¤§ï¼Œå·´è¥¿ï¼Œé˜¿æ ¹å»·ã€‚<br/>éæ´²ä»£è¡¨æ€§å›½å®¶ï¼šåŸƒåŠï¼Œå—éï¼Œåˆ©æ¯”äºšï¼Œè‚¯å°¼äºšã€‚<br/>å¤§æ´‹æ´²ä»£è¡¨æ€§å›½å®¶ï¼šæ¾³å¤§åˆ©äºšï¼Œæ–°è¥¿å…°ã€‚<br/><br/>å‚è€ƒæ¥æºï¼š<a href="https://baike.baidu.com/item/%E4%BA%94%E5%A4%A7%E6%B4%B2/19920227">https://baike.baidu.com/item/äº”å¤§æ´²/19920227</a></p>
</blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„ geoip æ’ä»¶æ¥è§£æ IP åœ°å€çš„å½’å±åœ°ï¼Œä¼šæœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>è§£æå‡ºæ¥çš„å½’å±åœ°åç§°æ˜¯è‹±æ–‡çš„ï¼›</li>
<li>å›½å†…å¾ˆå¤š IP åœ°å€è§£æä¸å‡ºæ¥å¯¹åº”çš„å½’å±åœ°ï¼Œæˆ–å½’å±åœ°çš„ç»“æœå¹¶ä¸å‡†ç¡®ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼ŒIP åœ°å€ 60.253.155.38 æ²¡æœ‰æ‰¾åˆ°æ‰€å±çš„çœã€å¸‚ï¼ˆæœªè¿”å› <code>region_name</code>ã€<code>city_name</code>ã€<code>region_iso_code</code> å­—æ®µï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;ip&quot;</span>:<span class="string">&quot;60.253.155.38&quot;</span>&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;@timestamp&quot;</span> =&gt; 2023-04-11T00:09:08.647833700Z,</span><br><span class="line">        <span class="string">&quot;source&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;geo&quot;</span> =&gt; &#123;</span><br><span class="line">                <span class="string">&quot;country_name&quot;</span> =&gt; <span class="string">&quot;China&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;timezone&quot;</span> =&gt; <span class="string">&quot;Asia/Shanghai&quot;</span>,</span><br><span class="line">            <span class="string">&quot;country_iso_code&quot;</span> =&gt; <span class="string">&quot;CN&quot;</span>,</span><br><span class="line">              <span class="string">&quot;continent_code&quot;</span> =&gt; <span class="string">&quot;AS&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;location&quot;</span> =&gt; &#123;</span><br><span class="line">                <span class="string">&quot;lat&quot;</span> =&gt; 34.7732,</span><br><span class="line">                <span class="string">&quot;lon&quot;</span> =&gt; 113.722</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">         <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;60.253.155.38&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">         <span class="string">&quot;event&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;original&quot;</span> =&gt; <span class="string">&quot;&#123;\&quot;ip\&quot;:\&quot;60.253.155.38\&quot;&#125;\n&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">          <span class="string">&quot;host&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;hostname&quot;</span> =&gt; <span class="string">&quot;airoo1Oi&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">      <span class="string">&quot;@version&quot;</span> =&gt; <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;60.253.155.38&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>IP åœ°å€ 39.144.27.121 è§£æå‡ºæ¥çš„å½’å±åœ°ä¸ºä¸­å›½-æ²³å—-å‘¨å£ï¼Œå®é™…ä¸Šé€šè¿‡ <a href="https://www.cz88.net/">https://www.cz88.net/</a>ã€<a href="https://www.ipplus360.com/">https://www.ipplus360.com/</a> æˆ– <a href="https://ip138.com/">https://ip138.com/</a> æŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ˜¯ä¸­å›½-æ²³å—-éƒ‘å·ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;ip&quot;</span>:<span class="string">&quot;39.144.27.121&quot;</span>&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;@timestamp&quot;</span> =&gt; 2023-04-11T00:13:47.729754800Z,</span><br><span class="line">        <span class="string">&quot;source&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;geo&quot;</span> =&gt; &#123;</span><br><span class="line">                    <span class="string">&quot;timezone&quot;</span> =&gt; <span class="string">&quot;Asia/Shanghai&quot;</span>,</span><br><span class="line">             <span class="string">&quot;region_iso_code&quot;</span> =&gt; <span class="string">&quot;CN-HA&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;region_name&quot;</span> =&gt; <span class="string">&quot;Henan&quot;</span>,</span><br><span class="line">              <span class="string">&quot;continent_code&quot;</span> =&gt; <span class="string">&quot;AS&quot;</span>,</span><br><span class="line">                   <span class="string">&quot;city_name&quot;</span> =&gt; <span class="string">&quot;Zhoukou&quot;</span>,</span><br><span class="line">                <span class="string">&quot;country_name&quot;</span> =&gt; <span class="string">&quot;China&quot;</span>,</span><br><span class="line">            <span class="string">&quot;country_iso_code&quot;</span> =&gt; <span class="string">&quot;CN&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;location&quot;</span> =&gt; &#123;</span><br><span class="line">                <span class="string">&quot;lat&quot;</span> =&gt; 33.63,</span><br><span class="line">                <span class="string">&quot;lon&quot;</span> =&gt; 114.6353</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">         <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;39.144.27.121&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">         <span class="string">&quot;event&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;original&quot;</span> =&gt; <span class="string">&quot;&#123;\&quot;ip\&quot;:\&quot;39.144.27.121\&quot;&#125;\n&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">          <span class="string">&quot;host&quot;</span> =&gt; &#123;</span><br><span class="line">        <span class="string">&quot;hostname&quot;</span> =&gt; <span class="string">&quot;airoo1Oi&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">      <span class="string">&quot;@version&quot;</span> =&gt; <span class="string">&quot;1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ip&quot;</span> =&gt; <span class="string">&quot;39.144.27.121&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ELK</tag>
        <tag>Logstash</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æŸ¥çœ‹é€šè¿‡ systemctl å‘½ä»¤å¯åŠ¨çš„æœåŠ¡çš„æ—¥å¿—</title>
    <url>/2023/04/20/systemctl-service-log/</url>
    <content><![CDATA[<p><code>systemctl</code> æ˜¯ Linux ç³»ç»ŸæœåŠ¡ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥ç”¨æ¥å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€å¯ç”¨æˆ–ç¦ç”¨ç³»ç»ŸæœåŠ¡ã€‚å½“æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªæœåŠ¡æ—¶ï¼Œ<code>systemctl</code> ä¼šè®°å½•æœåŠ¡çš„å¯åŠ¨æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹è¿™äº›æ—¥å¿—æ¥æ’æŸ¥æœåŠ¡å¯åŠ¨æ—¶çš„é—®é¢˜ã€‚</p>
<p>æŸ¥çœ‹ <code>systemctl</code> æœåŠ¡æ—¥å¿—çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>æ‰¾åˆ°æœåŠ¡çš„å®Œæ•´åç§°ã€‚ç³»ç»ŸæœåŠ¡çš„åç§°é€šå¸¸ä»¥ .service ç»“å°¾ï¼Œä¾‹å¦‚ httpd.serviceã€mysql.service ç­‰ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>journalctl</code> å‘½ä»¤æŸ¥çœ‹æœåŠ¡çš„æ—¥å¿—ã€‚å‘½ä»¤æ ¼å¼ä¸º:</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">journalctl -u &lt;æœåŠ¡åç§°&gt;</span><br></pre></td></tr></table></figure>

<p>å°† &lt;æœåŠ¡åç§°&gt; æ›¿æ¢ä¸ºæœåŠ¡çš„å®Œæ•´åç§°ã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹ httpd æœåŠ¡çš„æ—¥å¿—ï¼Œè¿è¡Œ:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">journalctl -u httpd.service</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><code>journalctl</code> ä¼šè¾“å‡ºæœåŠ¡çš„å¯åŠ¨æ—¥å¿—ã€è¿è¡Œæ—¥å¿—å’Œåœæ­¢æ—¥å¿—ã€‚</li>
</ol>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä¿®å¤PyCharmä¸­çš„â€œShadows name from outer scopeâ€è­¦å‘Š</title>
    <url>/2023/06/07/fix-shadows-name-from-outer-scope-in-pycharm/</url>
    <content><![CDATA[<p>PyCharm æ˜¯ä¸€æ¬¾ç”± JetBrains å¼€å‘çš„å—æ¬¢è¿çš„ Python é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ã€‚ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„ IDEï¼ŒPyCharm å‡ ä¹æ”¯æŒæ‰€æœ‰ä½ èƒ½æƒ³åˆ°çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç è°ƒè¯•ã€è¯­æ³•é«˜äº®ã€é¡¹ç›®ç®¡ç†ã€æ™ºèƒ½æç¤ºã€è‡ªåŠ¨è¡¥å…¨ã€å•å…ƒæµ‹è¯•ä»¥åŠç‰ˆæœ¬æ§åˆ¶ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPyCharm è¿˜æä¾› Django çš„é«˜çº§ Web å¼€å‘å·¥å…·ï¼Œå¹¶ä¸”æ”¯æŒ Anaconda å’Œ IronPython è¿›è¡Œæ•°æ®ç§‘å­¦å¼€å‘ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨ä½¿ç”¨ PyCharm å·¥ä½œæ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›è­¦å‘Šä¿¡æ¯ï¼Œå…¶ä¸­éƒ¨åˆ†ä¸æ˜¯ Python æœ¬èº«çš„é”™è¯¯ä¿¡æ¯ã€‚â€œShadows name from outer scopeâ€å°±æ˜¯å…¶ä¸­æœ€å¸¸è§çš„è­¦å‘Šä¿¡æ¯ä¹‹ä¸€ï¼Œè¿™ä¼šç»™æ–°ç”¨æˆ·å¸¦æ¥ä¸€å®šçš„å›°æ‰°ã€‚æœ¬æ–‡å°†è§£é‡Šä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¥è­¦å‘Šï¼Œä»¥åŠä½ å¯ä»¥é‡‡å–ä»€ä¹ˆæªæ–½æ¥é¿å…å‡ºç°è¯¥è­¦å‘Šã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œShadows-name-from-outer-scopeâ€è­¦å‘Š"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œShadows-name-from-outer-scopeâ€è­¦å‘Š" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œShadows name from outer scopeâ€è­¦å‘Š"></a><strong><strong>ä¸ºä»€ä¹ˆä¼šå‡ºç°</strong></strong>â€œ<strong><strong>Shadows name from outer scope</strong></strong>â€è­¦å‘Š</h2><p>è®©æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä»£ç ç‰‡æ®µä½œä¸ºç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">access_token = <span class="string">&quot;HCbhQHCuG05WdVm506BE&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œåœ¨ç¬¬ä¸€è¡Œæˆ‘ä»¬åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰äº† <code>access_token</code>ï¼Œè€Œåœ¨ <code>list_tag</code> å‡½æ•°ä¸­æˆ‘ä»¬é‡å¤ä½¿ç”¨äº†è¯¥åå­—ã€‚åœ¨ PyCharm ä¸­ï¼Œåœ¨å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨é‡å¤ä½¿ç”¨åŒä¸€åå­—è¢«ç§°ä¸ºâ€œShadows nameâ€ï¼Œå› æ­¤ä¼šå¯¼è‡´â€œShadows name â€˜access_tokenâ€™ from outer scopeâ€çš„è­¦å‘Šã€‚è¿™åªæ˜¯ä¸€æ¡è­¦å‘Šï¼Œä¸ä¼šå½±å“ä»£ç çš„è¿è¡Œã€‚</p>
<p>å°½ç®¡è¿™ä¸ªç¤ºä¾‹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œè¿è¡Œä¹Ÿæ²¡é—®é¢˜ï¼Œä½†å¦‚æœä½ ç»§ç»­å¿½ç•¥è¯¥è­¦å‘Šä¿¡æ¯ï¼Œå®ƒå¯èƒ½å¯¼è‡´æœªæ¥å‡ºç°å¥‡æ€ªçš„è¡Œä¸ºã€‚</p>
<p>å‡è®¾ <code>list_tag</code> å‡½æ•°çš„å‚æ•°ä¸å†æ˜¯å•ä¸ªå‚æ•°ï¼Œè€Œæ˜¯å¤šä¸ªå‚æ•°ï¼Œå…¶å†…éƒ¨é€»è¾‘ä¹Ÿå˜å¾—æ›´åŠ å¤æ‚ã€‚ä½ å†³å®šæ‰‹åŠ¨å°† <code>access_token</code> é‡å‘½åä¸º <code>token</code>ï¼Œä½†åœ¨æŸäº›åœ°æ–¹é—æ¼äº†ä¿®æ”¹ã€‚</p>
<p>å¦‚æœä½ å†æ¬¡è¿è¡Œè¿™æ®µä»£ç ï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥è¿è¡Œæ­£å¸¸ï¼Œä½†æœ€ç»ˆç»“æœè‚¯å®šä¼šå¾ˆå¥‡æ€ªã€‚è¿™æ˜¯å› ä¸ºç°åœ¨ <code>access_token</code> æŒ‡çš„æ˜¯å…¨å±€å¯¹è±¡ï¼Œ<code>token</code> æŒ‡çš„æ˜¯å±€éƒ¨å¯¹è±¡ï¼Œä¸¤è€…æ˜¯ä¸åŒçš„ï¼Œä½†åœ¨å‡½æ•°ä¸­ä½ æŠŠå®ƒä»¬æ¥å›æ··ç”¨ã€‚</p>
<h2 id="å¦‚ä½•è§„é¿â€œShadows-name-from-outer-scopeâ€è­¦å‘Š"><a href="#å¦‚ä½•è§„é¿â€œShadows-name-from-outer-scopeâ€è­¦å‘Š" class="headerlink" title="å¦‚ä½•è§„é¿â€œShadows name from outer scopeâ€è­¦å‘Š"></a>å¦‚ä½•è§„é¿â€œ<strong><strong>Shadows name from outer scope</strong></strong>â€è­¦å‘Š</h2><p>ç°åœ¨æˆ‘ä»¬æ˜ç™½äº†è¯¥è­¦å‘ŠèƒŒåçš„åŸå› ï¼Œè§£å†³æ–¹æ¡ˆå…¶å®å¾ˆç®€å•ï¼šä½ éœ€è¦é¿å…åœ¨ä»£ç ä¸­é‡å¤ä½¿ç”¨ç›¸åŒçš„åå­—ã€‚</p>
<p>è¿™æ ·åšä¸ä»…å¯ä»¥å‡å°‘ä»£ç ä¸­å‡ºç°å¥‡æ€ªè¡Œä¸ºçš„å¯èƒ½æ€§ï¼Œè€Œä¸”å¯ä»¥ä½¿è°ƒè¯•å˜å¾—æ›´åŠ ç®€å•ï¼Œå› ä¸ºå¦‚æœ Python æ— æ³•æ‰¾åˆ°å…¨å±€åç§°æˆ–å±€éƒ¨åç§°ï¼Œä¼šç›´æ¥æŠ›å‡º <code>NameError</code> é”™è¯¯ã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹è¦è®°ä½ï¼Œä½ ä¸åº”è¯¥ä½¿ç”¨éšå°„çš„æ–¹å¼æ¥â€œéšå°„â€æ¨¡å—ã€ç±»å’Œå‡½æ•°ã€‚</p>
<p>æ›´æ–°åçš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹:ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">access_token = <span class="string">&quot;HCbhQHCuG05WdVm506BE&quot;</span>  </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">token</span>):  </span><br><span class="line">    <span class="built_in">print</span>(token)   </span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·å°†å…¨å±€å˜é‡ç§»å…¥å¦ä¸€ä¸ªå‡½æ•°ä¸­ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>):</span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    access_token = <span class="string">&quot;HCbhQHCuG05WdVm506BE&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">		main()</span><br></pre></td></tr></table></figure>

<p>è¯·<strong>æ³¨æ„ï¼Œ</strong>å¦‚æœä»£ç çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    access_token = <span class="string">&quot;HCbhQHCuG05WdVm506BE&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>ä»ä¼šå‡ºç°â€œShadows name â€˜access_tokenâ€™ from outer scopeâ€çš„è­¦å‘Šã€‚</p>
<p>è¿™æ˜¯å› ä¸ºåœ¨ <code>if</code> æ¡ä»¶å†…ï¼Œ<code>access_token</code> æ˜¯è¢«å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œ<code>if __name__ == &#39;__main__&#39;:</code> æ˜¯ä¸€ä¸ª Python æƒ¯ç”¨æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªæ¨¡å—æ˜¯å¦ä½œä¸ºè„šæœ¬ç›´æ¥æ‰§è¡Œï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ </p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…Filebeat</title>
    <url>/2023/02/23/filebeat-installationn/</url>
    <content><![CDATA[<p>Filebeat åœ¨ Linuxã€Unixã€Mac å’Œ Windows ä¸Šå‡å¯æ­£å¸¸è¿è¡Œã€‚æ ¹æ®æˆ‘ä»¬å½“å‰ä½¿ç”¨çš„æœåŠ¡å™¨çš„ç³»ç»Ÿç±»å‹ï¼Œé€‰æ‹©é€‚ç”¨äºè¯¥ç³»ç»Ÿçš„å‘½ä»¤æ¥ä¸‹è½½å’Œå®‰è£… Filebeatã€‚</p>
<h3 id="åœ¨-Linux-ä¸Šå®‰è£…-Filebeat"><a href="#åœ¨-Linux-ä¸Šå®‰è£…-Filebeat" class="headerlink" title="åœ¨ Linux ä¸Šå®‰è£… Filebeat"></a>åœ¨ Linux ä¸Šå®‰è£… Filebeat</h3><p>é¦–å…ˆï¼Œä½ å¯ä»¥è¯•ç€è¾“å…¥ <code>filebeat version</code>ï¼Œçœ‹çœ‹ç³»ç»Ÿæœ‰æ²¡æœ‰å®‰è£… Filebeatï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ filebeat version</span><br><span class="line">filebeat: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä½¿ç”¨ <code>whereis</code> å‘½ä»¤æŸ¥çœ‹ï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ whereis filebeat</span><br><span class="line">filebeat:</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼ä¸Šé¢çš„å‘½ä»¤çš„è¾“å‡ºç»“æœï¼Œè¯´æ˜å½“å‰ç³»ç»Ÿå¹¶æ²¡æœ‰å®‰è£… Filebeatã€‚</p>
<p>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½ Filebeat å‹ç¼©åŒ…æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.6.2-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>

<p>è§£å‹æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xzf filebeat-8.6.2-linux-x86_64.tar.gz</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†æ–¹ä¾¿åç»­ä½¿ç”¨ï¼Œå»ºè®®å°†è§£å‹åçš„ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚å¦‚è§£å‹åçš„ç›®å½•ä¸º <em>/usr/local/filebeat</em>ï¼Œåˆ™å¯ä»¥å°†ä»¥ä¸‹å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶Â <code>/etc/profile</code>Â æœ«å°¾ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> FILEBEAT_HOME=/usr/local/filebeat</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$FILEBEAT_HOME</span>:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå‘½ä»¤Â <code>source /etc/profile</code>Â ä½¿åˆšåˆšæ–°åŠ çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚</p>
<p>æœ€åå†ä½¿ç”¨ <code>filebeat version</code> æˆ– <code>whereis</code> å‘½ä»¤æ¥éªŒè¯æ˜¯å¦æˆåŠŸå®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ filebeat version</span><br><span class="line">filebeat version 8.6.2 (amd64), libbeat 8.6.2 [9b77c2c135c228c2eedc310f6e975bb1a76169b1 built 2023-02-12 04:37:19 +0000 UTC]</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨-Mac-OS-ä¸Šå®‰è£…-Filebeat"><a href="#åœ¨-Mac-OS-ä¸Šå®‰è£…-Filebeat" class="headerlink" title="åœ¨ Mac OS ä¸Šå®‰è£… Filebeat"></a>åœ¨ Mac OS ä¸Šå®‰è£… Filebeat</h3><p>åœ¨ Mac OS ä¸Šå®‰è£… Filebeat æ­¥éª¤ä¸åœ¨ Linux ç³»ç»Ÿä¸­çš„æ­¥éª¤ç±»ä¼¼ã€‚åªæ˜¯éœ€è¦ä¸‹è½½é€‚ç”¨äº Mac ç³»ç»Ÿçš„ Filebeat ç‰ˆæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.6.2-darwin-x86_64.tar.gz</span><br></pre></td></tr></table></figure>

<p>è§£å‹ç¼©æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xzvf filebeat-8.6.2-darwin-x86_64.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨-Windows-ä¸Šå®‰è£…-Filebeat"><a href="#åœ¨-Windows-ä¸Šå®‰è£…-Filebeat" class="headerlink" title="åœ¨ Windows ä¸Šå®‰è£… Filebeat"></a>åœ¨ Windows ä¸Šå®‰è£… Filebeat</h3><p>å¦‚æœæƒ³åœ¨ Windows å¹³å°ä½¿ç”¨ Filebeatï¼Œæœ‰ä¸¤ç§å®‰è£…æ–¹æ³•ã€‚</p>
<p>ä¸€æ˜¯é€šè¿‡ä¸‹è½½ msi æ–‡ä»¶ç›´æ¥å®‰è£…ï¼ˆ<a href="https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.6.2-windows-x86_64.msi">filebeat-8.6.2-windows-x86_64.msi</a>ï¼‰ï¼Œä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯å½“å‰æ–¹æ³•ä»æ˜¯ beta ç‰ˆæœ¬ã€‚</p>
<p>äºŒæ˜¯é€šè¿‡ä¸‹è½½ Filebeat Windows zip æ–‡ä»¶è¿›è¡Œå®‰è£…ï¼ˆ<a href="https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.6.2-windows-x86_64.zip">filebeat-8.6.2-windows-x86_64.zip</a>ï¼‰ã€‚å°†ä¸‹è½½åçš„æ–‡ä»¶è§£å‹åˆ°ç›®å½• C:\Program Filesï¼Œå°†æ–‡ä»¶å¤¹ filebeat-<version>-windows é‡å‘½åä¸º Filebeatï¼Œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€PowerShellæç¤ºï¼ˆå³å‡»PowerShellå›¾æ ‡ï¼Œé€‰æ‹©ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰ã€‚ä»PowerShellæç¤ºç¬¦ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†Filebeatå®‰è£…ä¸ºä¸€ä¸ªWindowsæœåŠ¡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PS &gt; <span class="built_in">cd</span> <span class="string">&#x27;C:\Program Files\Filebeat&#x27;</span></span><br><span class="line">PS C:\Program Files\Filebeat&gt; .\install-service-filebeat.ps1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœä½ çš„ç³»ç»Ÿç¦ç”¨äº†è„šæœ¬çš„æ‰§è¡Œï¼Œä½ éœ€è¦ä¸ºå½“å‰ä¼šè¯è®¾ç½®æ‰§è¡Œç­–ç•¥ä»¥å…è®¸è„šæœ¬çš„è¿è¡Œã€‚æ¯”å¦‚è¯´ PowerShell.exe -ExecutionPolicy UnRestricted -File .\install-service-filebeat.ps1ã€‚</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸ¹å…»ä½ å¯¹æ•°å­¦çš„ç›´è§‰</title>
    <url>/2023/08/29/developing-your-intuition-for-math/</url>
    <content><![CDATA[<p>æˆ‘ä»¬å¯¹ä¸€ä¸ªæ–°æ¦‚å¿µçš„é¦–æ¬¡æ¥è§¦ï¼Œå¾€å¾€ä¼šå½¢æˆæˆ‘ä»¬å¿ƒä¸­å¯¹å…¶çš„ç¬¬ä¸€å°è±¡æˆ–ç›´è§‰è®¤çŸ¥ã€‚è€Œè¿™ä¸€ç›´è§‰ï¼Œä¹Ÿä¼šåè¿‡æ¥å½±å“æˆ‘ä»¬åœ¨å¤šå¤§ç¨‹åº¦ä¸Šå–œæ¬¢æˆ–è€…è®¤åŒè¿™ä¸ªæ¦‚å¿µã€‚</p>
<p>ä»¥â€œçŒ«â€ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºä¸åŒè§’åº¦çš„å®šä¹‰ï¼š</p>
<ul>
<li>å±±é¡¶æ´äººè§†è§’ï¼šä¸€ç§æ¯›èŒ¸èŒ¸çš„åŠ¨ç‰©ï¼Œå…·æœ‰å°–çˆªã€é”‹åˆ©ç‰™é½¿ã€çµæ´»å°¾å·´ä¸å››æ¡è…¿ï¼Œå¿ƒæƒ…æ„‰æ‚¦æ—¶ä¼šå‘å‡ºå’•å™œå£°ï¼Œç”Ÿæ°”æ—¶ä¼šå‘å‡ºå¨èƒçš„å˜¶å˜¶å£°â€¦â€¦</li>
<li>è¿›åŒ–è®ºè§†è§’ï¼šä½œä¸ºçŒ«ç§‘åŠ¨ç‰©çš„ä¸€å‘˜ï¼ŒçŒ«æ˜¯å“ºä¹³ç±»åŠ¨ç‰©çš„ä¸€ä¸ªç‰©ç§ï¼Œæ‹¥æœ‰æŸäº›å…±åŒé—ä¼ ç‰¹å¾â€¦â€¦</li>
<li>ç°ä»£åŸºå› è§†è§’ï¼šçŒ«ä¸è¿‡æ˜¯æ‹¥æœ‰ä»¥ä¸‹DNAåºåˆ—çš„åŠ¨ç‰©ï¼šACATACATACATACATâ€¦â€¦</li>
</ul>
<p><img src="/image/2023/cat-analogy-20121004-170549.png.webp" alt="cat-analogy-20121004-170549.png.webp"><br>(æ’å›¾æ¥æºï¼š<a href="http://www.commoncraft.com/kalids-cat-why-initial-understanding-matters">Common Craft</a>ï¼‰</p>
<p>æ¯«æ— ç–‘é—®ï¼Œç°ä»£åŸºå› è§†è§’æä¾›äº†æœ€å‡†ç¡®çš„å®šä¹‰ã€‚ä½†æ˜¯ï¼Œè¿™å°±è¶³ä»¥æˆä¸ºè§£é‡Šâ€œçŒ«â€çš„æœ€ä½³èµ·ç‚¹å—ï¼Ÿå¦‚æœè¦è®©ä¸€ä¸ªå­©å­ç†è§£â€œçŒ«â€çš„å«ä¹‰ï¼Œæˆ‘ä»¬ä¼šåªç»™å‡ºè¿™ç§å®šä¹‰å—ï¼Ÿå®ƒèƒ½è®©æˆ‘ä»¬æ·±å…¥ç†è§£çŒ«çš„æœ¬è´¨å—ï¼Ÿç­”æ¡ˆä¼¼ä¹æ˜¯å¦å®šçš„ã€‚ç°ä»£å®šä¹‰å›ºç„¶å‡†ç¡®å®ç”¨ï¼Œä½†åº”å»ºç«‹åœ¨å¯¹â€œçŒ«â€æœ‰ä¸€å®šè®¤è¯†çš„åŸºç¡€ä¸Šï¼Œè€Œéæ¦‚å¿µå­¦ä¹ çš„èµ·ç‚¹ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œæ•°å­¦ç†è§£å¾€å¾€ä¹Ÿéµå¾ªç±»ä¼¼çš„æ¨¡å¼ã€‚æˆ‘ä»¬è¢«æ•™æˆç°ä»£ä¸¥è°¨çš„å®šä¹‰ï¼Œè€Œä¸æ˜¯äº§ç”Ÿè¿™äº›å®šä¹‰çš„é€»è¾‘è¿‡ç¨‹ã€‚æˆ‘ä»¬åªæŒæ¡äº†æ™¦æ¶©éš¾æ‡‚çš„å…¬å¼ï¼Œè€Œå¯¹å…¶èƒŒåçš„æ•°å­¦æ€æƒ³çŸ¥ä¹‹ç”šå°‘ã€‚</p>
<p>æˆ‘ä»¬ä¸å¦¨æ¢ä¸ªè§’åº¦æ€è€ƒã€‚æƒ³è±¡ä¸€ä¸ªåœ†åœˆï¼šä¸­å¿ƒæ˜¯ä½ æ­£åœ¨å­¦ä¹ çš„æ¦‚å¿µï¼Œåœ†å‘¨ä¸Šæ˜¯æè¿°è¯¥æ¦‚å¿µçš„äº‹å®ã€‚æˆ‘ä»¬å¯ä»¥ä»ä¸€ä¸ªå°çš„åˆ‡å…¥ç‚¹å¼€å§‹ï¼Œä¸€ä¸ªäº‹å®æˆ–è§è§£ï¼Œç„¶åé€æ­¥æ‹“å±•æˆ‘ä»¬çš„æ€è·¯ã€‚ä»â€œçŒ«æœ‰å…±åŒçš„èº«ä½“ç‰¹å¾â€å¼•å‡ºâ€œçŒ«æœ‰å…±åŒçš„ç¥–å…ˆâ€ï¼Œå†å¼•å‡ºâ€œä¸€ä¸ªç‰©ç§å¯ä»¥é€šè¿‡ DNA æŸäº›éƒ¨åˆ†æ¥è¯†åˆ«â€ã€‚ è¿™æ ·æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç°ä»£åŸºå› å®šä¹‰æ˜¯ä»æ—©æœŸå®šä¹‰é€æ­¥æ¨å¯¼å‡ºæ¥çš„ã€‚</p>
<p>ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„èµ·ç‚¹éƒ½ä¸€æ ·ã€‚æ­£ç¡®çš„è§†è§’èƒ½è®©æ•°å­¦æ›´å®¹æ˜“ç†è§£â€”â€”æœ€å…ˆå‘ç°è¿™äº›æ¦‚å¿µçš„â€œæ•°å­¦åŸäººâ€å¾€å¾€æ‹¥æœ‰å¯å‘æ€§çš„è§†è§’ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ•°å­¦ä¾‹å­ï¼Œè®¨è®ºä¸€ä¸‹åœ†çš„å®šä¹‰ã€‚å¹¶ä»ä¸­å­¦ä¹ å¦‚ä½•å»ºç«‹ç›´è§‰ï¼Œé‡æ‹¾æ•°å­¦çš„åŸåˆé€»è¾‘ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯â€œåœ†â€ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯â€œåœ†â€ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯â€œåœ†â€ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯â€œåœ†â€ï¼Ÿ</h2><p><img src="/image/2023/circle-definitions.png.webp" alt="circle-definitions.png.webp"><br>åœ†æœ‰è®¸å¤šä¸åŒçš„å®šä¹‰ï¼Œä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€äº›ï¼š</p>
<ul>
<li>åœ†æ˜¯æœ€å¯¹ç§°çš„äºŒç»´å¹³é¢å›¾å½¢ã€‚</li>
<li>åœ¨ç›¸åŒå‘¨é•¿çš„æƒ…å†µä¸‹ï¼Œé¢ç§¯æœ€å¤§çš„å›¾å½¢å°±æ˜¯åœ†ã€‚</li>
<li>åœ†æ˜¯å¹³é¢ä¸Šä¸ç»™å®šç‚¹è·ç¦»ç›¸ç­‰çš„æ‰€æœ‰ç‚¹çš„é›†åˆï¼ˆç”¨åœ†è§„æˆ–é“…ç¬”åœ¨ç»³å­ä¸Šç”»å‡ºçš„ç‚¹ï¼‰ã€‚</li>
<li>åœ†æ˜¯æ»¡è¶³å…¬å¼ xÂ²+yÂ²=rÂ²ï¼ˆå…¶ä¸­ r ä¸ºå¤§äº 0 çš„å·²çŸ¥å®æ•°ï¼‰çš„æ‰€æœ‰ç‚¹ï¼ˆx,yï¼‰çš„é›†åˆã€‚ï¼ˆä¸Šè¿°å‡ ä½•å®šä¹‰çš„è§£æç‰ˆæœ¬ï¼‰ã€‚</li>
<li>åœ†æ˜¯æ»¡è¶³æ–¹ç¨‹ x=r<em>sin(t) å’Œ y=r</em>cos(t)ï¼ˆå…¶ä¸­ r ä¸ºå¤§äº  0çš„å·²çŸ¥å®æ•°ï¼Œt ä¸ºä»»æ„å®æ•°ï¼‰çš„æ‰€æœ‰ç‚¹ï¼ˆx,yï¼‰çš„é›†åˆï¼ˆè¿™æ˜¯çœŸæ­£çš„è§£æç‰ˆæœ¬ï¼‰ã€‚</li>
<li>ä»»æ„ä¸€æ¡åˆ‡çº¿éƒ½å‚ç›´äºâ€œåˆ‡ç‚¹çš„ä½ç½®å‘é‡â€çš„å›¾åƒå°±æ˜¯åœ†ï¼ˆè¿™æ˜¯ç‰©ç†è§£é‡Šï¼‰ã€‚</li>
</ul>
<p>è¿™æ ·çš„å®šä¹‰ä¸¾ä¸èƒœä¸¾ï¼Œä½†å®ƒä»¬éƒ½æè¿°çš„æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼å°±åƒè¯´ 1ã€oneã€unoã€einsã€â€œ2x + 3 = 5 çš„è§£â€æˆ–â€œä½ è„¸ä¸Šé¼»å­çš„æ•°é‡â€ï¼Œå®ƒä»¬åªæ˜¯ç”¨ä¸åŒçš„åç§°æ¥è¡¨è¾¾åŒä¸€ä¸ªæ¦‚å¿µã€‚</p>
<p>ç„¶è€Œï¼Œè¿™äº›æœ€åˆçš„æè¿°éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬å¡‘é€ äº†æˆ‘ä»¬çš„ç›´è§‰ã€‚å› ä¸ºåœ¨æˆ‘ä»¬ä¸Šè¯¾ä¹‹å‰ï¼Œåœ¨ç°å®ä¸–ç•Œä¸­æˆ‘ä»¬å°±çœ‹åˆ°è¿‡åœ†ï¼Œæ‰€ä»¥æˆ‘ä»¬çŸ¥é“ä»€ä¹ˆæ˜¯åœ†ã€‚æ— è®ºæˆ‘ä»¬çœ‹åˆ°å¤šä¹ˆå¤æ‚çš„ç­‰å¼ï¼ˆå¦‚ xÂ² + yÂ² = rÂ²ï¼‰ï¼Œæˆ‘ä»¬å†…å¿ƒæ·±å¤„éƒ½çŸ¥é“åœ†æ˜¯â€œåœ†â€çš„ã€‚å¦‚æœæˆ‘ä»¬å°†è¿™ä¸ªç­‰å¼ç”»æˆå›¾å½¢ï¼Œä½†å®ƒçœ‹èµ·æ¥æ˜¯æ–¹çš„æˆ–è€…æ˜¯æ‰çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çŸ¥é“è¿™æ˜¯é”™è¯¯çš„ã€‚</p>
<p>åœ¨æˆ‘ä»¬å­©ææ—¶ä»£ï¼Œæˆ‘ä»¬å­¦ä¹ äº†â€œå±±é¡¶æ´äººâ€å¯¹åœ†çš„å®šä¹‰ï¼ˆä¸€ä¸ªçœŸæ­£çš„åœ†å½¢ç‰©ä½“ï¼‰ï¼Œè¿™ç»™äº†æˆ‘ä»¬ä¸€ç§èˆ’é€‚çš„ç›´è§‰ã€‚æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼Œåœ¨åœ†ä¸Šçš„æ¯ä¸€ä¸ªç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»éƒ½æ˜¯ç›¸ç­‰çš„ã€‚è€Œè¡¨è¾¾è¿™ä¸ªäº‹å®çš„è§£æå¼å°±æ˜¯ xÂ² + yÂ² = rÂ²ï¼Œå®ƒåˆ©ç”¨äº†å‹¾è‚¡å®šç†æ¥è¡¨ç¤ºè·ç¦»ã€‚æˆ‘ä»¬ä»è¿™ç§ç›´è§‰å‡ºå‘ï¼Œé€æ­¥æ¼”ç»å‡ºäº†æ­£å¼çš„å®šä¹‰ã€‚</p>
<p>ç„¶è€Œï¼Œå¯¹äºå…¶ä»–æ¦‚å¿µæ¥è¯´ï¼Œæƒ…å†µå¯èƒ½æ²¡æœ‰åœ†é‚£ä¹ˆå¹¸è¿ã€‚æˆ‘ä»¬æ˜¯å¦æœ¬èƒ½åœ°ç†è§£è‡ªç„¶å¸¸æ•° e çš„å¢é•¿ï¼Œæˆ–è€…å®ƒåªæ˜¯ä¸€ä¸ªæŠ½è±¡çš„å®šä¹‰ï¼Ÿæˆ‘ä»¬æ˜¯å¦æ„è¯†åˆ°è™šæ•°å•ä½ i çš„æ—‹è½¬ï¼Œæˆ–è€…å®ƒåªæ˜¯ä¸€ä¸ªäººä¸ºçš„ã€æ— ç”¨çš„æ¦‚å¿µï¼Ÿ</p>
<h2 id="åŸ¹å…»æ´å¯ŸåŠ›çš„ç­–ç•¥"><a href="#åŸ¹å…»æ´å¯ŸåŠ›çš„ç­–ç•¥" class="headerlink" title="åŸ¹å…»æ´å¯ŸåŠ›çš„ç­–ç•¥"></a>åŸ¹å…»æ´å¯ŸåŠ›çš„ç­–ç•¥</h2><p>æˆ‘ä»ç„¶ä¸å¾—ä¸æ—¶åˆ»æé†’è‡ªå·±å»ç†è§£ e å’Œ  i çš„æ·±å±‚å«ä¹‰ï¼Œè¿™çœ‹èµ·æ¥ä¼¼ä¹å¾ˆè’è°¬ï¼Œå°±åƒè¦â€œè®°ä½â€åœ†æ˜¯ä»€ä¹ˆå½¢çŠ¶ï¼ŒçŒ«æ˜¯ä»€ä¹ˆæ ·å­ä¸€æ ·ã€‚è¿™æœ¬åº”è¯¥æ˜¯æˆ‘ä»¬ä¸ç”Ÿä¿±æ¥çš„ç›´è§‚è®¤çŸ¥ã€‚</p>
<p>ç¼ºä¹å…¨å±€è§‚è®©æˆ‘æ„Ÿåˆ°æ²®ä¸§ï¼šæ•°å­¦çš„æœ¬è´¨æ˜¯æ€æƒ³ï¼Œå…¬å¼åªæ˜¯è¡¨è¾¾æ€æƒ³çš„ä¸€ç§æ–¹å¼ã€‚ä¸€æ—¦ä¸­å¿ƒæ¦‚å¿µæ˜ç¡®äº†ï¼Œç›¸å…³çš„æ–¹ç¨‹å¼ä¹Ÿå°±è¿åˆƒè€Œè§£ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯¹æˆ‘å¾ˆæœ‰å¸®åŠ©çš„ç­–ç•¥ï¼š</p>
<p><strong>æ­¥éª¤ 1ï¼šæ‰¾åˆ°æ•°å­¦æ¦‚å¿µçš„ä¸­å¿ƒä¸»é¢˜ã€‚</strong>å°è¯•ä»å†å²çš„è§’åº¦å…¥æ‰‹ã€‚è¿™ä¸ªæ¦‚å¿µæœ€æ—©æ˜¯åœ¨å“ªé‡Œä½¿ç”¨çš„ï¼Ÿå®ƒçš„å‘ç°è€…å½“æ—¶åœ¨è¿½æ±‚ä»€ä¹ˆç›®æ ‡ï¼Ÿè¿™ç§æ—©æœŸä½¿ç”¨å¯èƒ½ä¸æˆ‘ä»¬ç°ä»£çš„è§£é‡Šå’Œåº”ç”¨æœ‰æ‰€ä¸åŒã€‚</p>
<p><strong>æ­¥éª¤ 2ï¼šåˆ©ç”¨ä¸»é¢˜æ¥è§£é‡Šä¸€ä¸ªå±æ€§æˆ–äº‹å®ã€‚</strong>å°†å…¶ä¸æ­£å¼å®šä¹‰è¿›è¡Œç±»æ¯”ã€‚å¦‚æœå¹¸è¿çš„è¯ï¼Œä½ å¯ä»¥å°†æ•°å­¦å…¬å¼ï¼ˆå¦‚xÂ² + yÂ² = rÂ²ï¼‰è½¬åŒ–ä¸ºé€šä¿—æ˜“æ‡‚çš„è¯­è¨€é™ˆè¿°ï¼ˆâ€œæ‰€æœ‰ç‚¹åˆ°ä¸­å¿ƒçš„è·ç¦»ç›¸åŒâ€ï¼‰ã€‚</p>
<p><strong>æ­¥éª¤ 3ï¼šåˆ©ç”¨ç›¸åŒçš„ä¸»é¢˜æ¥æ¢ç´¢å…¶ä»–ç›¸å…³å±æ€§ã€‚</strong>ä¸€æ—¦ä½ æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„ç±»æ¯”æˆ–è§£é‡Šï¼Œçœ‹çœ‹å®ƒæ˜¯å¦é€‚ç”¨äºå…¶ä»–å±æ€§ã€‚æœ‰æ—¶å€™ï¼Œè¿™ä¸ªç±»æ¯”æ˜¯æœ‰ç”¨çš„ï¼Œæœ‰æ—¶å€™å¯èƒ½ä¸å¤Ÿé€‚ç”¨ï¼ˆè¿™æ—¶ä½ éœ€è¦å¯»æ‰¾æ–°çš„è§è§£ï¼‰ï¼Œä½†ä½ ä¼šæƒŠå–œåœ°å‘ç°è®¸å¤šæ„æƒ³ä¸åˆ°çš„å‘ç°ã€‚</p>
<p>æˆ‘ä»¬æ¥è¯•è¯•çœ‹ã€‚</p>
<h2 id="ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š-ç†è§£è‡ªç„¶å¸¸æ•°-e"><a href="#ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š-ç†è§£è‡ªç„¶å¸¸æ•°-e" class="headerlink" title="ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š ç†è§£è‡ªç„¶å¸¸æ•° e"></a>ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š ç†è§£è‡ªç„¶å¸¸æ•° e</h2><p>è‡ªç„¶å¸¸æ•° e å‡ºç°åœ¨ç§‘å­¦çš„å„ä¸ªé¢†åŸŸï¼Œæœ‰è®¸å¤šå®šä¹‰ï¼Œä½†å¾ˆå°‘èƒ½ä»¥ä¸€ç§è‡ªç„¶çš„æ–¹å¼è¢«ç†è§£ã€‚è®©æˆ‘ä»¬å›´ç»•è¿™ä¸ªæ¦‚å¿µå±•å¼€æ·±å…¥æ¢è®¨ã€‚ä¸‹æ–‡å°†åˆ—å‡ºå‡ ä¸ªç­‰å¼ï¼Œè¿™äº›ç­‰å¼éƒ½æ˜¯ä¸€äº›ç®€å•çš„æè¿°æ¦‚å¿µçš„æ–¹æ³•ã€‚å³ä½¿ç­‰å¼æœ¬èº«å¯èƒ½å¬èµ·æ¥ä¸å¯æ€è®®ï¼Œå®ƒä»¬èƒŒåä¹Ÿæœ‰ä¸€ä¸ªæµ…æ˜¾æ˜“æ‡‚çš„æ¦‚å¿µã€‚</p>
<p>ä»¥ä¸‹æ˜¯å‡ ä¸ªæµè¡Œçš„ e çš„å®šä¹‰ï¼š </p>
<p><img src="/image/2023/e-definitions.png.webp" alt="e-definitions.png.webp"></p>
<p>é¦–å…ˆè¦åšçš„æ˜¯ç¡®å®šä¸€ä¸ªä¸»é¢˜ã€‚ä» e çš„å†å²æ¥çœ‹ï¼Œå®ƒä¼¼ä¹ä¸å¢é•¿æˆ–åˆ©ç‡æœ‰å…³ã€‚å®é™…ä¸Šï¼Œe çš„å‘ç°å¹¶éæ¥è‡ªæŠ½è±¡çš„æ•°å­¦çŒœæƒ³ï¼Œè€Œæ˜¯åœ¨å•†ä¸šè®¡ç®—ä¸­è¢«åº”ç”¨ï¼Œå› æ­¤â€œåˆ©æ¯â€ï¼ˆå¢é•¿ï¼‰å¯èƒ½æ˜¯ä¸€ä¸ªç›¸å…³çš„ä¸»é¢˜ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å·¦ä¸Šè§’çš„ç¬¬ä¸€ä¸ªå®šä¹‰ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå…³é”®çš„ä¸€æ­¥æ˜¯æ„è¯†åˆ°è¿™ä¸ªç­‰å¼çœ‹èµ·æ¥éå¸¸åƒå¤åˆ©çš„è®¡ç®—å…¬å¼ã€‚äº‹å®ä¸Šï¼Œå®ƒå°±æ˜¯å¤åˆ©è®¡ç®—å…¬å¼ï¼Œå³åœ¨ä¸€ä¸ªå•ä½çš„æ—¶é—´å†…ï¼Œä»¥æœ€å¿«çš„é€Ÿåº¦å¤åˆè®¡ç®— 100% çš„åˆ©æ¯ã€‚</p>
<p>å®šä¹‰ 1ï¼šå°† e å®šä¹‰ä¸ºä»¥æœ€å°å¢é‡å®ç° 100% çš„å¤åˆ©å¤åˆå¢é•¿ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ç¬¬äºŒä¸ªå®šä¹‰ï¼šä¸€ä¸ªè¶‹å‘äºé›¶çš„æ— é™é¡¹çº§æ•°ã€‚è¿™ä»£è¡¨ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>åœ¨ä»¥â€œåˆ©æ¯â€ä¸ºä¸»é¢˜è¿›è¡Œæ€è€ƒä¹‹åï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªå®šä¹‰å±•ç¤ºäº†å¤åˆ©çš„ç»„æˆéƒ¨åˆ†ã€‚ç„¶è€Œï¼Œè·å¾—è¿™æ ·çš„æ´å¯ŸåŠ›å¹¶ä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè¿™ç§æ´å¯ŸåŠ›å¯èƒ½æ˜¯åœ¨å¤´è„‘é£æš´ä¸­æƒ³è±¡â€œå½“è®¨è®ºå¢é•¿æ—¶ï¼Œ1 + 1 + 1/2 + 1/6 + â€¦â€¦ â€ä»£è¡¨ç€ä»€ä¹ˆã€‚</p>
<p>è®©æˆ‘ä»¬é€é¡¹è§£é‡Šè¿™ä¸ªåºåˆ—ã€‚ç¬¬ä¸€é¡¹ï¼ˆ1 = 1/0!ï¼Œè®°ä½ 0 çš„é˜¶ä¹˜ç­‰äº 1ï¼‰ä»£è¡¨çš„æ˜¯ä½ çš„æœ¬é‡‘ï¼Œå³åŸå§‹é‡‘é¢ã€‚ä¸‹ä¸€ä¸ªé¡¹ï¼ˆ1 = 1/1!ï¼‰æ˜¯ä½ èµšå–çš„â€œç›´æ¥â€åˆ©æ¯â€”â€”ç›¸å½“äºæœ¬é‡‘çš„ 100%ã€‚å†ä¸‹ä¸€ä¸ªé¡¹ï¼ˆ0.5 = 1/2!ï¼‰æ˜¯ä½ èµšå–çš„â€œç¬¬äºŒçº§åˆ©æ¯â€çš„é‡‘é¢ã€‚å†ä¸‹ä¸€ä¸ªé¡¹ï¼ˆ0.1666 = 1/3!ï¼‰æ˜¯ä½ çš„â€œç¬¬ä¸‰çº§åˆ©æ¯â€â€”â€”ä¹Ÿå°±æ˜¯ä½ çš„åˆ©æ¯æ‰€èµšå–çš„é‡‘é¢ã€‚</p>
<p>è¿™ä¸ªåºåˆ—å±•ç¤ºäº†é’±ç”Ÿé’±çš„è¿‡ç¨‹ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯¹åº”çš„è´¡çŒ®ï¼Œå°†è¿™äº›è´¡çŒ®é€æ­¥åˆ†å¼€ã€‚è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹é¢å¯ä»¥æ¢è®¨ï¼Œä½†è¿™å°±æ˜¯ä»¥â€œå¢é•¿â€ä¸ºæ ¸å¿ƒæ¥ç†è§£è¿™ä¸ªæ¦‚å¿µçš„è¦ç‚¹ã€‚</p>
<p>å› æ­¤ï¼Œç¬¬äºŒä¸ªå®šä¹‰å¯ä»¥è¡¨è¿°ä¸ºï¼š æ ¹æ®æ¯ä¸ªåˆ©æ¯å¢é•¿å¯¹æ€»çš„èµ„é‡‘çš„è´¡çŒ®æ¥å®šä¹‰  eã€‚</p>
<p>ç°åœ¨æ¥çœ‹çœ‹ç¬¬ä¸‰ä¸ªï¼Œä¹Ÿæ˜¯æœ€ç®€çŸ­çš„å®šä¹‰ã€‚å®ƒåˆ°åº•æ„å‘³ç€ä»€ä¹ˆå‘¢ï¼Ÿä¸è¦é™·å…¥è®¡ç®—æ–¹ç¨‹å¼çš„æ€ç»´æ¨¡å¼ï¼Œä¸è¦å»æƒ³â€œå¯¼æ•°â€ï¼Œè¯•ç€ç†è§£ç­‰å¼çš„æ„Ÿè§‰ï¼Œè®©å®ƒæˆä¸ºä½ çš„æœ‹å‹ã€‚</p>
<p><img src="/image/2023/f7490bdbc503e32a350c6e977082b01a.png" alt="f7490bdbc503e32a350c6e977082b01a.png"></p>
<p>è¿™ä¸ªå®šä¹‰å‘Šè¯‰æˆ‘ä»¬ï¼ŒæŒ‰ç…§å¾®ç§¯åˆ†çš„è¯´æ³•ï¼Œâ€œä½ çš„å¢é•¿ç‡ç­‰äºä½ å½“å‰çš„é‡‘é¢â€ã€‚é‚£ä¹ˆï¼Œä»¥å½“å‰é‡‘é¢å¢é•¿å°±æ˜¯ 100% çš„åˆ©ç‡ï¼Œå¯¹å—ï¼ŸæŒç»­å¢é•¿æ„å‘³ç€ä¸æ–­è®¡ç®—åˆ©æ¯â€”â€”è¿™æ˜¯å¦ä¸€ç§è¿ç»­å¤åˆ©çš„æè¿°æ–¹å¼ï¼</p>
<p>å› æ­¤ï¼Œç¬¬ä¸‰ä¸ªå®šä¹‰å¯ä»¥è¡¨è¿°ä¸ºï¼šå°† e å®šä¹‰ä¸ºå§‹ç»ˆä»¥å½“å‰å€¼çš„ 100% å¢é•¿çš„å‡½æ•°ã€‚</p>
<p>æ²¡é”™ï¼Œe æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåœ¨è¿™ä¸ªæ•°å­—ä¸Šï¼Œä½ æ€»æ˜¯ä»¥å½“å‰é‡‘é¢ï¼ˆ100%ï¼‰å¢é•¿ï¼Œè€Œä¸æ˜¯ 1% æˆ–è€… 200%ã€‚</p>
<p>ç°åœ¨æ¥åˆ°äº†æœ€åä¸€ä¸ªå®šä¹‰çš„æ—¶é—´â€”â€”è¿™æ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ã€‚æˆ‘è¿™æ ·æ¥è§£é‡Šå®ƒï¼šä¸å…¶æè¿°ä½ æˆé•¿äº†å¤šå°‘ï¼Œä¸ºä»€ä¹ˆä¸è¯´ä½ èŠ±äº†å¤šé•¿æ—¶é—´å‘¢ï¼Ÿ</p>
<p>å‡è®¾ä½ çš„é€Ÿåº¦æ˜¯ 1ï¼Œå¹¶ä¸”ä»¥ 100% çš„é€Ÿç‡å¢é•¿ï¼Œé‚£ä¹ˆä» 1 å¢é•¿åˆ° 2 éœ€è¦ä¸€ä¸ªå•ä½çš„æ—¶é—´ï¼ä» 3 å¢é•¿åˆ° 4 åªéœ€è¦ 1/3 ä¸ªå•ä½çš„æ—¶é—´ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä» 1 å¢é•¿åˆ° A æ‰€éœ€çš„æ—¶é—´å°±æ˜¯ä» 1 åˆ° 2ï¼Œä» 2 åˆ° 3ï¼Œä» 3 åˆ° 4â€¦â€¦ä¸€ç›´æŒç»­ä¸‹å»ï¼Œç›´åˆ°è¾¾åˆ° Aã€‚</p>
<p>ç®€å•åœ°è¯´ï¼Œln(a) è¡¨ç¤ºä» 1 å¢é•¿åˆ° a æ‰€éœ€çš„æ—¶é—´ã€‚æˆ‘ä»¬å¯ä»¥è¯´ï¼Œe æ˜¯åˆšå¥½éœ€è¦ 1 ä¸ªå•ä½çš„æ—¶é—´æ‰èƒ½å¢é•¿åˆ°çš„æ•°å­—ã€‚æ¢å¥è¯è¯´ï¼Œe å°±æ˜¯åœ¨ç­‰å¾… 1 ä¸ªå•ä½æ—¶é—´åçš„å¢é•¿é‡ï¼</p>
<p>å› æ­¤ï¼Œç¬¬å››ä¸ªå®šä¹‰å¯ä»¥è¡¨è¿°ä¸ºï¼šå°†ä» 1 æŒç»­å¢é•¿åˆ° a æ‰€éœ€çš„æ—¶é—´å®šä¹‰ä¸º ln(a)ã€‚</p>
<p>æ€ä¹ˆæ ·ï¼Ÿä¸€æ—¦æˆ‘ä»¬æŒæ¡äº†æ ¸å¿ƒç†å¿µï¼ˆâ€œe æ˜¯ 100% çš„è¿ç»­å¢é•¿â€ï¼‰ï¼Œé‚£äº›å¤æ‚çš„æ–¹ç¨‹å¼å°±èƒ½å¤Ÿè½»æ˜“æ¨å¯¼å‡ºæ¥â€”â€”å¾®ç§¯åˆ†å¯ä»¥è¢«ç”¨è‹±è¯­æ¥è¡¨è¿°ã€‚æ•°å­¦æ˜¯å…³äºæ€æƒ³çš„ï¼</p>
<h2 id="å¯“æ„ä½•åœ¨ï¼Ÿ"><a href="#å¯“æ„ä½•åœ¨ï¼Ÿ" class="headerlink" title="å¯“æ„ä½•åœ¨ï¼Ÿ"></a>å¯“æ„ä½•åœ¨ï¼Ÿ</h2><p>åœ¨æ•°å­¦è¯¾ä¸Šï¼Œæˆ‘ä»¬å¸¸å¸¸ä»æœ€åä¸€ä¸ªæœ€å¤æ‚æ™¦æ¶©çš„æ¦‚å¿µå¼€å§‹è®²è§£ã€‚è¿™ä¹Ÿéš¾æ€ªæˆ‘ä»¬ä¼šæ„Ÿåˆ°å›°æƒ‘â€”â€”æˆ‘ä»¬æ‹¿ç€ DNA çš„ç¤ºæ„å›¾ï¼Œå´æœŸæœ›å­¦ç”Ÿçœ‹åˆ°ä¸€åªçŒ«ã€‚</p>
<p>æˆ‘ä»è¿™ç§æ–¹æ³•ä¸­å­¦åˆ°äº†ä¸€äº›ç»éªŒï¼Œå®ƒæ˜¯æˆ‘ç†è§£å’Œè§£é‡Šæ•°å­¦çš„åŸºç¡€ï¼š</p>
<ul>
<li>å¯»æ‰¾æ´å¯ŸåŠ›å¹¶åŠ ä»¥åº”ç”¨ã€‚ç¬¬ä¸€ä¸ªç›´è§‚çš„æ´å¯ŸåŠ›å¯ä»¥å¸®åŠ©å…¶ä»–æ‰€æœ‰çš„äº‹æƒ…éƒ½æ°´åˆ°æ¸ æˆã€‚ä»ä¸€ä¸ªæœ‰æ„ä¹‰çš„å®šä¹‰å¼€å§‹ï¼Œâ€œç»•ç€åœˆå­èµ°â€ï¼Œæ‰¾åˆ°å…¶ä»–çš„å®šä¹‰ã€‚</li>
<li>åŸ¹å…»å¿ƒç†éŸ§æ€§ã€‚ç”¨ä½ å¤§è„‘å’Œä¸€ä¸ªæ–°æ¦‚å¿µè¾ƒåŠ²å¹¶ä¸å¥½ç©ã€‚å¦‚æœä¸ç†è§£ï¼Œå¯ä»¥æ¢ä¸ªè§’åº¦æ€è€ƒã€‚å…¶ä»–ä¹¦ç±ã€æ–‡ç« ã€äººçš„è§£é‡Šå¯èƒ½å¯¹ä½ æ›´æœ‰æ„ä¹‰ã€‚</li>
<li>è§†è§‰åŒ–ä¹Ÿæ˜¯è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ã€‚è™½ç„¶æˆ‘ä»¬é€šå¸¸è®¤ä¸ºæ•°å­¦æ˜¯æ­»æ¿çš„ã€åˆ†ææ€§çš„ï¼Œä½†æ˜¯é€šè¿‡è§†è§‰è§£é‡Šä¹Ÿèƒ½å¤Ÿæ·±å…¥ç†è§£ã€‚å°è¯•è¿›è¡Œèƒ½å¤ŸåŠ æ·±ç†è§£çš„å®è·µæ´»åŠ¨ã€‚å°±æ‹¿è™šæ•°æ¥è¯´ï¼Œå‡ åå¹´åäººä»¬æ‰å‘ç°å®ƒä¸å‡ ä½•çš„å…³è”ã€‚æ•´å¤©ç›¯ç€æ–¹ç¨‹å¼çœ‹å¹¶ä¸èƒ½å¸®åŠ©æ•°å­¦å®¶çœŸæ­£ â€œç†è§£â€ å…¶å«ä¹‰ã€‚</li>
</ul>
<p>å½“æˆ‘ä»¬è¿‡åˆ†å¼ºè°ƒå®šä¹‰è€Œå¿½ç•¥ç†è§£æ—¶ï¼Œæ•°å­¦å°±ä¼šå˜å¾—å›°éš¾ã€‚è¦è®°ä½ï¼Œç°ä»£çš„å®šä¹‰åªæ˜¯æœ€å…ˆè¿›çš„æ€ç»´æ­¥éª¤ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯èµ·ç‚¹ã€‚ä¸è¦å®³æ€•ä»ä¸€ä¸ªæœ‰è¶£çš„è§’åº¦å»ç†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œè¯•ç€æ‰¾å‡ºé‚£äº›èƒ½ç”¨é€šä¿—æ˜“æ‡‚çš„å¥å­æ¥æè¿°ç­‰å¼èƒŒåå«ä¹‰çš„æ–¹æ³•ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://betterexplained.com/articles/developing-your-intuition-for-math/">https://betterexplained.com/articles/developing-your-intuition-for-math/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>æ•°å­¦</category>
      </categories>
      <tags>
        <tag>æ•°å­¦</tag>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¢ç©¶Apache Flinkæ”¯æŒçš„ä¸‰ç§æµå¤„ç†åœºæ™¯</title>
    <url>/2023/09/01/apache-flink-use-cases/</url>
    <content><![CDATA[<p>Apache Flink æ˜¯ä¸€ä¸ªé›†ä¼—å¤šå…·æœ‰ç«äº‰åŠ›çš„ç‰¹æ€§äºä¸€èº«çš„æµå¤„ç†å¼•æ“ï¼Œæ˜¯å¼€å‘å’Œè¿è¡Œå¤šç§ä¸åŒç±»å‹åº”ç”¨ç¨‹åºçš„ç»ä½³é€‰æ‹©ã€‚Flink æä¾›äº†æµå¤„ç†å’Œæ‰¹å¤„ç†æ”¯æŒã€å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€äº‹ä»¶æ—¶é—´å¤„ç†è¯­ä¹‰ä»¥åŠçŠ¶æ€çš„ç²¾ç¡®ä¸€æ¬¡ä¸€è‡´æ€§ä¿è¯ç­‰åŠŸèƒ½ã€‚æ­¤å¤–ï¼ŒFlink å¯ä»¥åœ¨å¤šç§èµ„æºç®¡ç†æ¡†æ¶ä¸Šéƒ¨ç½²ï¼Œæ¯”å¦‚ YARN å’Œ Kubernetesï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç‹¬ç«‹é›†ç¾¤éƒ¨ç½²åœ¨è£¸æœºç¡¬ä»¶ä¸Šã€‚Flink çš„é«˜å¯ç”¨é…ç½®ç¡®ä¿äº†ç³»ç»Ÿæ²¡æœ‰å•ç‚¹æ•…éšœã€‚å®é™…ä¸Šï¼ŒFlink èƒ½å¤Ÿæ‰©å±•åˆ°æ•°åƒä¸ªå†…æ ¸å’Œ TB çº§çš„åº”ç”¨çŠ¶æ€ï¼Œæä¾›é«˜ååé‡å’Œä½å»¶è¿Ÿï¼Œå¹¶ä¸ºä¸–ç•Œä¸Šä¸€äº›è¦æ±‚æœ€è‹›åˆ»çš„æµå¤„ç†åº”ç”¨æä¾›æ”¯æŒã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç» Flink æ”¯æŒçš„ä¸‰ç±»å¸¸è§çš„æœ‰çŠ¶æ€çš„æµå¤„ç†åº”ç”¨ï¼Œåˆ†åˆ«ä¸ºäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ã€æ•°æ®ç®¡é“åº”ç”¨å’Œæ•°æ®åˆ†æåº”ç”¨ã€‚</p>
<blockquote>
<p>æ³¨ï¼šè¿™é‡Œä¸ºäº†çªå‡ºæœ‰çŠ¶æ€çš„æµå¤„ç†çš„ç”¨é€”ä¹‹å¤šï¼Œå°†ä¸åŒåº”ç”¨çš„ç±»åˆ«åŒºåˆ†åœ°å¾ˆæ˜æ˜¾ï¼Œè€Œäº‹å®ä¸Šå¤§å¤šæ•°çœŸå®åº”ç”¨éƒ½ä¼šåŒæ—¶å…·æœ‰å¤šç§ç±»åˆ«çš„ç‰¹æ€§ã€‚</p>
</blockquote>
<h2 id="äº‹ä»¶é©±åŠ¨å‹åº”ç”¨"><a href="#äº‹ä»¶é©±åŠ¨å‹åº”ç”¨" class="headerlink" title="äº‹ä»¶é©±åŠ¨å‹åº”ç”¨"></a>äº‹ä»¶é©±åŠ¨å‹åº”ç”¨</h2><p>ç¬¬ä¸€ç§åº”ç”¨ç±»å‹æ˜¯äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ã€‚äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºæ˜¯æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºï¼Œå®ƒä»ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶æµä¸­æ‘„å–äº‹ä»¶ï¼Œå¹¶é€šè¿‡è§¦å‘è®¡ç®—ã€çŠ¶æ€æ›´æ–°æˆ–æ‰§è¡Œå¤–éƒ¨æ“ä½œæ¥å“åº”è¿™äº›äº‹ä»¶ã€‚äº‹ä»¶é©±åŠ¨å‹åº”ç”¨æœ¬è´¨ä¸Šæ˜¯ä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„æ¼”å˜ã€‚ä¼ ç»Ÿçš„åº”ç”¨ç¨‹åºå°†è®¡ç®—å±‚å’Œæ•°æ®å­˜å‚¨å±‚åˆ†ç¦»ï¼Œåœ¨è¿™ç§æ¶æ„ä¸­ï¼Œåº”ç”¨ç¨‹åºä»è¿œç¨‹äº‹åŠ¡æ•°æ®åº“è¯»å–æ•°æ®å¹¶å°†å…¶æŒä¹…åŒ–ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºæ˜¯åŸºäºæœ‰çŠ¶æ€çš„æµå¤„ç†åº”ç”¨çš„è®¾è®¡ã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œæ•°æ®å’Œè®¡ç®—å­˜å‚¨åœ¨åŒä¸€ä½ç½®ï¼Œå› æ­¤å¯ä»¥è¿›è¡Œæœ¬åœ°ï¼ˆå†…å­˜æˆ–ç£ç›˜ï¼‰æ•°æ®è®¿é—®ã€‚å®¹é”™æ€§é€šè¿‡å®šæœŸå°†æ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰å†™å…¥è¿œç¨‹æŒä¹…åŒ–å­˜å‚¨æ¥å®ç°ã€‚ä¸‹å›¾å±•ç¤ºäº†ä¼ ç»Ÿåº”ç”¨ç¨‹åºæ¶æ„å’Œäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºä¹‹é—´çš„åŒºåˆ«ã€‚</p>
<p><img src="/image/2023/20230901-image1.png" alt="image.png"><br>äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºæœ‰å¾ˆå¤šä¼˜åŠ¿ã€‚å®ƒä»¬ä¸éœ€è¦æŸ¥è¯¢è¿œç¨‹æ•°æ®åº“ï¼Œè€Œæ˜¯é€šè¿‡æœ¬åœ°è®¿é—®æ•°æ®æ¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œä¸è®ºæ˜¯åœ¨ååé‡è¿˜æ˜¯å»¶è¿Ÿæ–¹é¢ã€‚æ£€æŸ¥ç‚¹å¯¹å¸¸è§„äº‹ä»¶å¤„ç†çš„å½±å“éå¸¸å°ï¼Œå› ä¸ºå®ƒä»¬æ˜¯å¼‚æ­¥å’Œå¢é‡æ–¹å¼è¿›è¡Œçš„ã€‚æ­¤å¤–ï¼Œåœ¨ä¼ ç»Ÿåˆ†å±‚æ¶æ„ä¸­ï¼Œå¤šä¸ªåº”ç”¨ç¨‹åºå…±äº«åŒä¸€ä¸ªæ•°æ®åº“æ˜¯å¾ˆå¸¸è§çš„ã€‚æ‰€ä»¥ï¼Œå½“æ•°æ®åº“å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¾‹å¦‚å› åº”ç”¨ç¨‹åºæ›´æ–°æˆ–æœåŠ¡æ‰©å±•è€Œæ”¹å˜äº†æ•°æ®å¸ƒå±€ï¼Œä¼ ç»Ÿçš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦è¿›è¡Œè°¨æ…åè°ƒã€‚åè§‚äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ï¼Œç”±äºåªéœ€è€ƒè™‘è‡ªèº«æ•°æ®ï¼Œå› æ­¤åœ¨æ›´æ”¹æ•°æ®è¡¨ç¤ºæˆ–æœåŠ¡æ‰©å®¹æ—¶æ‰€éœ€çš„åè°ƒå·¥ä½œå°†å¤§å¤§å‡å°‘ã€‚</p>
<p>é‚£ä¹ˆï¼ŒFlink å¦‚ä½•æ”¯æŒäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºå‘¢ï¼Ÿäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºçš„èƒ½åŠ›å–å†³äºæµå¤„ç†å¼•æ“å¤„ç†æ—¶é—´å’ŒçŠ¶æ€çš„èƒ½åŠ›ã€‚Flink æä¾›äº†è®¸å¤šå‡ºè‰²çš„åŠŸèƒ½æ¥æ”¯æŒè¿™äº›æ¦‚å¿µã€‚å®ƒæä¾›äº†ä¸€å¥—ä¸°å¯Œçš„çŠ¶æ€æ“ä½œåŸè¯­ï¼Œå…è®¸ä»¥ç²¾ç¡®ä¸€æ¬¡çš„ä¸€è‡´æ€§è¯­ä¹‰åˆå¹¶æµ·é‡è§„æ¨¡ï¼ˆTB çº§åˆ«ï¼‰çš„çŠ¶æ€æ•°æ®ã€‚æ­¤å¤–ï¼ŒFlink æ”¯æŒäº‹ä»¶æ—¶é—´å¤„ç†ã€é«˜åº¦å¯å®šåˆ¶çš„çª—å£é€»è¾‘ä»¥åŠ ProcessFunction æä¾›çš„å¯¹æ—¶é—´çš„ç»†ç²’åº¦æ§åˆ¶ï¼Œä½¿å¾—å®ç°é«˜çº§ä¸šåŠ¡é€»è¾‘æˆä¸ºå¯èƒ½ã€‚å¦å¤–ï¼ŒFlink è¿˜æä¾›äº†ä¸€ä¸ªå¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰åº“ã€‚</p>
<p>ä¸è¿‡ï¼ŒFlink åœ¨æ”¯æŒäº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºæ–¹é¢çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯ä¿å­˜ç‚¹ï¼ˆsavepointï¼‰ã€‚ä¿å­˜ç‚¹æ˜¯ä¸€ä¸ªä¸€è‡´æ€§çš„çŠ¶æ€å¿«ç…§ï¼Œå¯ä»¥ç”¨æ¥åˆå§‹åŒ–ä»»æ„çŠ¶æ€å…¼å®¹çš„åº”ç”¨ã€‚é€šè¿‡ä¿å­˜ç‚¹ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å¯¹åº”ç”¨è¿›è¡Œå‡çº§æˆ–æ‰©å®¹/ç¼©å®¹ï¼Œè¿˜å¯ä»¥å¯åŠ¨å¤šä¸ªç‰ˆæœ¬çš„åº”ç”¨ç¨‹åºæ¥è¿›è¡Œ A/B æµ‹è¯•ã€‚</p>
<p>å…¸å‹çš„äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ç¨‹åºåŒ…æ‹¬æ¬ºè¯ˆæ£€æµ‹ã€å¼‚å¸¸æ£€æµ‹ã€åŸºäºè§„åˆ™çš„è­¦æŠ¥ã€ä¸šåŠ¡æµç¨‹ç›‘æ§å’Œç½‘ç»œåº”ç”¨ï¼ˆå¦‚ç¤¾äº¤ç½‘ç»œï¼‰ç­‰ã€‚</p>
<h2 id="æ•°æ®åˆ†æåº”ç”¨"><a href="#æ•°æ®åˆ†æåº”ç”¨" class="headerlink" title="æ•°æ®åˆ†æåº”ç”¨"></a>æ•°æ®åˆ†æåº”ç”¨</h2><p>ç¬¬äºŒç§åº”ç”¨ç±»å‹æ˜¯æ•°æ®åˆ†æåº”ç”¨ã€‚æ•°æ®åˆ†æåº”ç”¨æ˜¯æŒ‡ä»åŸå§‹æ•°æ®ä¸­æå–ä¿¡æ¯å’Œæ´å¯ŸåŠ›çš„åˆ†æå·¥ä½œã€‚ä¼ ç»Ÿçš„åˆ†ææ–¹å¼æ˜¯åœ¨è®°å½•äº‹ä»¶çš„æœ‰ç•Œæ•°æ®é›†ä¸Šè¿›è¡Œæ‰¹é‡æŸ¥è¯¢æˆ–æ„å»ºåº”ç”¨ç¨‹åºçš„å½¢å¼è¿›è¡Œçš„ã€‚ä¸ºäº†å¾—åˆ°æœ€æ–°æ•°æ®çš„åˆ†æç»“æœï¼Œå¿…é¡»å…ˆå°†æœ€æ–°æ•°æ®æ·»åŠ åˆ°åŸæ¥çš„åˆ†ææ•°æ®é›†ä¸­ï¼Œå¹¶é‡æ–°æ‰§è¡ŒæŸ¥è¯¢æˆ–è¿è¡Œåº”ç”¨ç¨‹åºã€‚åˆ†æç»“æœä¼šå†™å…¥å­˜å‚¨ç³»ç»Ÿæˆ–ä½œä¸ºæŠ¥å‘Šå‘å¸ƒã€‚</p>
<p>å€ŸåŠ©å…ˆè¿›çš„æµå¤„ç†å¼•æ“ï¼Œæˆ‘ä»¬å¯ä»¥å®æ—¶åœ°è¿›è¡Œæ•°æ®åˆ†æã€‚æµå¼æŸ¥è¯¢æˆ–åº”ç”¨ç¨‹åºä¸å†è¯»å–æœ‰ç•Œçš„æ•°æ®é›†ï¼Œè€Œæ˜¯æ¥æ”¶å®æ—¶çš„äº‹ä»¶æµï¼Œå¹¶åœ¨å¤„ç†äº‹ä»¶æ—¶ä¸æ–­ç”Ÿæˆå’Œæ›´æ–°ç»“æœã€‚ç»“æœå¯èƒ½å†™å…¥å¤–éƒ¨æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥ä¿å­˜ä¸ºå†…éƒ¨çŠ¶æ€ã€‚ä»ªè¡¨ç›˜åº”ç”¨ç¨‹åºå¯ä»¥ä»å¤–éƒ¨æ•°æ®åº“è¯»å–æœ€æ–°ç»“æœï¼Œæˆ–ç›´æ¥æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„å†…éƒ¨çŠ¶æ€ã€‚</p>
<p>Apache Flink æ”¯æŒæµå¼å’Œæ‰¹é‡æ•°æ®åˆ†æåº”ç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="/image/2023/20230901-image2.png" alt="image.png"></p>
<p>ä¸æ‰¹é‡åˆ†æç›¸æ¯”ï¼Œæµå¼åˆ†æåº”ç”¨æœ‰è®¸å¤šä¼˜åŠ¿ã€‚é¦–å…ˆï¼Œæµå¼åˆ†ææ¶ˆé™¤äº†å‘¨æœŸæ€§å¯¼å…¥å’ŒæŸ¥è¯¢æ‰§è¡Œæ‰€å¸¦æ¥çš„å»¶è¿Ÿï¼Œèƒ½å¤Ÿå®ç°æ›´ä½çš„å»¶è¿Ÿã€‚å…¶æ¬¡ï¼Œä¸æ‰¹é‡æŸ¥è¯¢ç›¸æ¯”ï¼Œæµå¼æŸ¥è¯¢ä¸éœ€è¦å¤„ç†è¾“å…¥æ•°æ®ä¸­çš„äººä¸ºè¾¹ç•Œï¼Œè¿™äº›è¾¹ç•Œæ˜¯ç”±å‘¨æœŸæ€§å¯¼å…¥å’Œæœ‰ç•Œè¾“å…¥é€ æˆçš„ã€‚</p>
<p>æµå¼åˆ†æçš„å¦ä¸€ä¸ªä¼˜åŠ¿æ˜¯ç®€åŒ–çš„åº”ç”¨æ¶æ„ã€‚æ‰¹é‡åˆ†æç®¡é“é€šå¸¸åŒ…å«å¤šä¸ªç‹¬ç«‹ç»„ä»¶ï¼Œéœ€è¦å®šæœŸè°ƒåº¦æ•°æ®æ‘„å–å’ŒæŸ¥è¯¢æ‰§è¡Œã€‚å¯é åœ°è¿è¡Œæ­¤ç±»ç®¡é“å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºä¸€æ—¦å‡ºç°æ•…éšœï¼Œä¼šå½±å“åç»­æ­¥éª¤çš„æ‰§è¡Œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåœ¨å…ˆè¿›çš„æµå¤„ç†å™¨ï¼ˆå¦‚ Flinkï¼‰ä¸Šè¿è¡Œçš„æµå¼åˆ†æåº”ç”¨ç¨‹åºåŒ…å«ä»æ•°æ®æ‘„å–åˆ°è¿ç»­ç»“æœè®¡ç®—çš„æ‰€æœ‰æ­¥éª¤ã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥ä¾èµ–åº•å±‚å¼•æ“æä¾›çš„æ•…éšœæ¢å¤æœºåˆ¶ã€‚</p>
<p>Flink å¦‚ä½•æ”¯æŒæ•°æ®åˆ†æç±»åº”ç”¨ï¼ŸFlink ä¸ºæŒç»­æµå¼åˆ†æå’Œæ‰¹é‡åˆ†æéƒ½æä¾›äº†å…¨é¢çš„æ”¯æŒã€‚å…·ä½“è€Œè¨€ï¼Œå®ƒå†…ç½®äº†ä¸€ä¸ªç¬¦åˆ ANSI æ ‡å‡†çš„ SQL æ¥å£ï¼Œå°†æ‰¹ã€æµæŸ¥è¯¢çš„è¯­ä¹‰ç»Ÿä¸€èµ·æ¥ã€‚æ— è®ºæ˜¯åœ¨è®°å½•äº‹ä»¶çš„é™æ€æ•°æ®é›†ä¸Šè¿˜æ˜¯å®æ—¶äº‹ä»¶æµä¸Šï¼Œç›¸åŒ SQL æŸ¥è¯¢éƒ½ä¼šå¾—åˆ°ä¸€è‡´çš„ç»“æœã€‚åŒæ—¶ï¼ŒFlink è¿˜æ”¯æŒä¸°å¯Œçš„ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œå…è®¸åœ¨ SQL ä¸­æ‰§è¡Œè‡ªå®šä¹‰ä»£ç ã€‚å¦‚æœè¿˜éœ€è¿›ä¸€æ­¥è‡ªå®šä¹‰é€»è¾‘ï¼ŒFlink çš„ DataStream API å’Œ DataSet API å¯ä»¥æä¾›æ›´å¤šåº•å±‚æ§åˆ¶ã€‚</p>
<p>å…¸å‹çš„æ•°æ®åˆ†æåº”ç”¨åŒ…æ‹¬ç”µä¿¡ç½‘ç»œè´¨é‡ç›‘æ§ã€ç§»åŠ¨åº”ç”¨ä¸­çš„äº§å“æ›´æ–°åˆ†æåŠå®éªŒè¯„ä¼°ã€æ¶ˆè´¹è€…æŠ€æœ¯ä¸­çš„å®æ—¶æ•°æ®å³æ—¶åˆ†æå’Œå¤§è§„æ¨¡å›¾åˆ†æç­‰ã€‚</p>
<h2 id="æ•°æ®ç®¡é“åº”ç”¨"><a href="#æ•°æ®ç®¡é“åº”ç”¨" class="headerlink" title="æ•°æ®ç®¡é“åº”ç”¨"></a>æ•°æ®ç®¡é“åº”ç”¨</h2><p>ç¬¬ä¸‰ç§åº”ç”¨ç±»å‹æ˜¯æ•°æ®ç®¡é“åº”ç”¨ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæå–-è½¬æ¢-åŠ è½½ï¼ˆETLï¼ŒExtract-Transform-Loadï¼‰æ˜¯åœ¨å­˜å‚¨ç³»ç»Ÿä¹‹é—´è¿›è¡Œæ•°æ®è½¬æ¢å’Œæ•°æ®è¿ç§»çš„å¸¸ç”¨æ–¹æ³•ã€‚ETL ä½œä¸šé€šå¸¸ä¼šå®šæœŸæ€§åœ°è§¦å‘ï¼Œå°†æ•°æ®ä»äº‹åŠ¡å‹æ•°æ®åº“ç³»ç»Ÿæ‹·è´åˆ°åˆ†æå‹æ•°æ®åº“æˆ–æ•°æ®ä»“åº“ã€‚</p>
<p>æ•°æ®ç®¡é“çš„ä½œç”¨ä¸ ETL ä½œä¸šç±»ä¼¼ã€‚å®ƒä»¬å¯ä»¥è½¬æ¢å’Œä¸°å¯Œæ•°æ®ï¼Œå¹¶å°†æ•°æ®ä»ä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿç§»åŠ¨åˆ°å¦ä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿã€‚ä¸è¿‡ï¼Œå®ƒä»¬ä»¥æŒç»­æµæ¨¡å¼è¿è¡Œï¼Œè€Œä¸æ˜¯å®šæœŸè§¦å‘ã€‚å› æ­¤ï¼Œå®ƒä»¬èƒ½å¤Ÿä»æŒç»­äº§ç”Ÿæ•°æ®çš„æºä¸­è¯»å–è®°å½•ï¼Œå¹¶ä»¥è¾ƒä½çš„å»¶è¿Ÿå°†å…¶ç§»åŠ¨åˆ°ç›®çš„åœ°ã€‚ä¾‹å¦‚ï¼Œæ•°æ®ç®¡é“å¯ä»¥ç›‘æ§æ–‡ä»¶ç³»ç»Ÿç›®å½•ä¸­çš„æ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶æ•°æ®å†™å…¥äº‹ä»¶æ—¥å¿—ã€‚å¦ä¸€ä¸ªåº”ç”¨å¯èƒ½ä¼šå°†äº‹ä»¶æµç‰©åŒ–åˆ°æ•°æ®åº“ä¸­ï¼Œæˆ–è€…å¢é‡æ„å»ºå’Œä¼˜åŒ–æŸ¥è¯¢ç´¢å¼•ã€‚</p>
<p>ä¸‹å›¾æè¿°äº†å®šæœŸ ETL ä½œä¸šå’ŒæŒç»­æ•°æ®ç®¡é“ä¹‹é—´çš„åŒºåˆ«ã€‚</p>
<p><img src="/image/2023/20230901-image3.png" alt="image.png"></p>
<p>ä¸å‘¨æœŸæ€§ ETL ä½œä¸šç›¸æ¯”ï¼ŒæŒç»­æ•°æ®ç®¡é“çš„æ˜æ˜¾ä¼˜åŠ¿åœ¨äºå‡å°‘äº†å°†æ•°æ®ä¼ è¾“åˆ°ç›®çš„åœ°çš„å»¶è¿Ÿã€‚æ­¤å¤–ï¼Œæ•°æ®ç®¡é“çš„ç”¨é€”æ›´å¹¿ï¼Œæ”¯æŒçš„ç”¨ä¾‹æ›´å¤šï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤ŸæŒç»­æ¶ˆè´¹å’Œå‘é€æ•°æ®ã€‚</p>
<p>é‚£ Flink æ˜¯å¦‚ä½•æ”¯æŒæ•°æ®ç®¡é“åº”ç”¨å‘¢ï¼ŸFlink çš„ SQL æ¥å£ï¼ˆæˆ– Table APIï¼‰åŠå…¶å¯¹ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°çš„æ”¯æŒå¯ä»¥è§£å†³è®¸å¤šå¸¸è§çš„æ•°æ®è½¬æ¢æˆ–ä¸°å¯Œä»»åŠ¡ã€‚å…·æœ‰æ›´é«˜çº§è¦æ±‚çš„æ•°æ®ç®¡é“å¯é€šè¿‡ä½¿ç”¨æ›´é€šç”¨çš„ DataStream API æ¥å®ç°ã€‚Flink ä¸º Kafkaã€Kinesisã€Elasticsearch å’Œ JDBC æ•°æ®åº“ç³»ç»Ÿç­‰å„ç§å­˜å‚¨ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„è¿æ¥å™¨ã€‚åŒæ—¶ï¼Œå®ƒè¿˜æä¾›äº†æ–‡ä»¶ç³»ç»Ÿçš„è¿ç»­å‹æ•°æ®æºåŠæ•°æ®æ±‡ï¼Œå¯ç”¨æ¥ç›‘æ§ç›®å½•å˜åŒ–å’Œä»¥æ—¶é—´åˆ†åŒºçš„æ–¹å¼å†™å…¥æ–‡ä»¶ã€‚</p>
<p>å…¸å‹çš„æ•°æ®ç®¡é“åº”ç”¨åŒ…æ‹¬ç”µå­å•†åŠ¡ä¸­çš„å®æ—¶æœç´¢ç´¢å¼•æ„å»ºå’Œç”µå­å•†åŠ¡ä¸­çš„æŒç»­ ETLã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Flink ä½œä¸ºæµè¡Œçš„å¼€æºæµå¤„ç†æ¡†æ¶ï¼Œæ”¯æŒä¸‰ç±»å¸¸è§çš„æœ‰çŠ¶æ€çš„æµå¤„ç†åº”ç”¨ï¼ŒåŒ…æ‹¬äº‹ä»¶é©±åŠ¨å‹åº”ç”¨ã€æ•°æ®ç®¡é“åº”ç”¨å’Œæ•°æ®åˆ†æåº”ç”¨ã€‚é€šè¿‡ä½¿ç”¨ Flinkï¼Œå¯ä»¥é«˜æ•ˆåœ°å¤„ç†æœ‰çŠ¶æ€çš„æ•°æ®æµï¼Œå®ç°å„ç§å¤æ‚çš„å®æ—¶æ•°æ®å¤„ç†ä»»åŠ¡ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘æ”¶åˆ°çš„æœ€å¥½çš„èŒä¸šå»ºè®®</title>
    <url>/2023/09/04/the-best-career-advice-ive-received/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡ª Nicholas C. Zakas çš„åŸåˆ›è‹±æ–‡æ–‡ç« <a href="https://humanwhocodes.com/blog/2013/10/15/the-best-career-advice-ive-received/">ã€ŠThe best career advice Iâ€™ve receivedã€‹</a>ï¼Œå¸Œæœ›èƒ½å¤Ÿä»¥ä¸­æ–‡çš„å½¢å¼æŠŠè¿™äº›è§‚ç‚¹ä¼ æ’­å¼€æ¥ï¼Œåœ¨è¿™é‡Œå¯¹åŸä½œè€…è¡¨ç¤ºè‡´æ•¬ã€‚</p>
<blockquote>
<p>Nicholas C. Zakas æ˜¯å‰ç«¯å¤§ç‰›å·¥ç¨‹å¸ˆï¼Œå…¨ä¸–ç•Œæœ€è‘—åçš„ JavaScript ç¨‹åºå‘˜ä¹‹ä¸€ã€‚ç›®å‰åœ¨ Box å…¬å¸ä»»èŒï¼Œä¹‹å‰æ˜¯åœ¨é›…è™å°†è¿‘å·¥ä½œ 5 å¹´ã€‚åœ¨é›…è™æœŸé—´ï¼Œä»–æ˜¯é›…è™é¦–é¡µçš„å‰ç«¯æŠ€æœ¯ä¸»ç®¡ï¼Œå¹¶ä¸”æ˜¯ YUI åº“çš„è´¡çŒ®è€…ã€‚ Nicholas ç¼–å†™çš„æŠ€æœ¯ä¹¦æœ‰ï¼šã€ŠMaintainable JavaScript | ç¼–å†™å¯ç»´æŠ¤çš„ JavaScriptã€‹ã€ã€ŠProfessional JavaScript for Web Developers | JavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ã€ã€ŠHigh Performance JavaScript | é«˜æ€§èƒ½JavaScriptã€‹ã€ã€ŠProfessional Ajaxã€‹ã€‚</p>
</blockquote>
<p><img src="/image/2023/me-150x150.0969500a-1.jpg" alt="me-150x150.0969500a-1.jpg"></p>
<hr>
<p>æˆ‘æœ€è¿‘å’Œä¸€ä½åŒäº‹æœ‰è¿‡ä¸€ä¸ªæœ‰è¶£çš„è®¨è®ºã€‚æˆ‘ä»¬å›é¡¾äº†è‡ªå·±çš„å·¥ä½œç»å†ï¼Œä»¥åŠæˆ‘ä»¬å¯ä»¥è¯´æ˜¯å¤šå§¿å¤šå½©çš„ä¸ªæ€§ï¼Œå¦‚ä½•å¯¹æˆ‘ä»¬çš„é•¿æœŸå‘å±•äº§ç”Ÿè´Ÿé¢å½±å“ã€‚è¯´å®è¯ï¼Œæˆ‘ä»å¤§å­¦æ¯•ä¸šæ—¶æœ‰ç‚¹æ··è›‹ï¼ˆæœ‰äººå¯èƒ½ä¼šè¯´æˆ‘ç°åœ¨è¿˜æ˜¯æœ‰ç‚¹æ··è›‹ï¼Œä½†è¿™ä¸æ˜¯é‡ç‚¹ï¼‰ã€‚æˆ‘å‚²æ…¢è‡ªå¤§ï¼Œå°–é…¸åˆ»è–„ï¼Œæ€»ä¹‹æ˜¯ä¸ªä¸è‹Ÿè¨€ç¬‘çš„äººã€‚æˆ‘è®¤ä¸ºæˆ‘ä»€ä¹ˆéƒ½çŸ¥é“ï¼Œå¹¶ä¸ºæ­¤æ„Ÿåˆ°ç›¸å½“è‡ªè±ªã€‚</p>
<p>æˆ‘ä¹ æƒ¯äºå‘Šè¯‰ç»éªŒä¸°å¯Œçš„å·¥ç¨‹å¸ˆä»–ä»¬çš„åšæ³•æ˜¯é”™è¯¯çš„ï¼Œå°½ç®¡å¤§å¤šæ•°æ—¶å€™æˆ‘éƒ½æ˜¯å¯¹çš„ï¼Œä½†æˆ‘çš„ä¸ªæ€§å¹¶æ²¡æœ‰è®©æˆ‘çš„åšæ³•å¥æ•ˆã€‚åœ¨ä¸€æ¬¡ç‰¹åˆ«ä»¤äººéš¾å¿˜çš„è°ˆè¯ä¸­ï¼Œä¸€ä½èµ„æ·±å·¥ç¨‹å¸ˆåœä¸‹æ¥ï¼Œç”¨åŸè¯è¯´ï¼šâ€œå¦‚æœä½ å†ä¸é—­å˜´ï¼Œæˆ‘å°±æŠŠä½ æ‰“å¾—å±æ»šå°¿æµâ€ã€‚æˆ‘ä¸€ç¬‘äº†ä¹‹ï¼Œå› ä¸ºæˆ‘çŸ¥é“ä»–ä¸æ•¢ï¼Œå¤šå¹´åæˆ‘æ‰æ„è¯†åˆ°è¿™å¥è¯çš„æ„ä¹‰ï¼šè¿™å…¶å®æ˜¯ä»–æƒ³åšçš„äº‹ã€‚</p>
<p>ä»é‚£æ—¶èµ·ï¼Œæˆ‘æˆé•¿äº†å¾ˆå¤šï¼Œå­¦ä¼šäº†æ³¨æ„è‡ªå·±çš„è¨€è¡Œï¼Œå¹¶å­¦ä¼šäº†å°Šé‡ä»–äººï¼Œæ— è®ºä»–ä»¬æœ‰ä»€ä¹ˆç‰¹å¾ã€‚åœ¨èŒä¸šç¯å¢ƒä¸­ï¼Œæˆ‘ä¼šå…‹åˆ¶è‡ªå·±çš„å˜²è®½ï¼›å’Œå¥½æœ‹å‹åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘å°±ä¼šè®©è‡ªå·±çš„å˜²è®½å°½æƒ…å‘æŒ¥ã€‚è¿™ç§è‡ªåˆ¶åŠ›ä»¥åŠå…¶ä»–è®¸å¤šå®è´µçš„ç»éªŒï¼Œå¹¶ä¸æ˜¯æˆ‘è‡ªå·±ä¸»åŠ¨å½¢æˆçš„ï¼Œè€Œæ˜¯åœ¨æˆ‘ä¸€è·¯èµ°æ¥çš„è‰¯å¸ˆç›Šå‹çš„æ‚‰å¿ƒæŒ‡å¯¼ä¸‹å½¢æˆçš„ã€‚å¦‚æœæ²¡æœ‰ä»–ä»¬ï¼Œè°çŸ¥é“æˆ‘çš„äººé™…å…³ç³»ä¼šä¸ä¼šè®©æˆ‘çš„äº‹ä¸šçŸ­è·¯ã€‚</p>
<p>äº‹å®ä¸Šï¼Œåœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¾—åˆ°äº†å¾ˆå¤šäººçš„å¸®åŠ©ã€‚ä¸€è·¯èµ°æ¥ï¼Œæˆ‘çš„ç»ç†ä»¬å°†æˆ‘è¿™ä¸ªæ€§æ ¼ç²—çŠ·çš„äººå¡‘é€ æˆäº†æˆ‘å¼•ä»¥ä¸ºè±ªçš„äººã€‚ä¸ä»…å¦‚æ­¤ï¼Œåœ¨ä»–ä»¬çš„å½±å“ä¸‹ï¼Œæˆ‘ä¸ä»…æˆä¸ºäº†ä¸€åä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œè¿˜æˆä¸ºäº†ä¸€åä¼˜ç§€çš„é˜Ÿå‹å’Œä¸€ä¸ªå¥½äººã€‚è¿™äº›äººå¯¹æˆ‘çš„äººç”Ÿå½±å“å¦‚æ­¤ä¹‹å¤§ï¼Œä»¥è‡³äºæˆ‘ç»å¸¸å‘æˆ‘ç°åœ¨æŒ‡å¯¼çš„åŒäº‹è®²è¿°ä»–ä»¬çš„å»ºè®®ã€‚</p>
<p>æˆ‘è¿˜å‘ç°ä»–ä»¬çš„å»ºè®®æ”¾ä¹‹å››æµ·è€Œçš†å‡†ï¼Œå› æ­¤æˆ‘æƒ³åˆ†äº«ä¸€ä¸‹ä»–ä»¬å‘Šè¯‰æˆ‘çš„é‚£äº›å¯¹æˆ‘çš„æˆé•¿æœ‰å¸®åŠ©çš„äº‹æƒ…ã€‚å½“ç„¶ï¼Œå…¶ä¸­æœ‰äº›æ˜¯è½¬è¿°çš„ï¼Œå› ä¸ºæˆ‘å¯¹å‡†ç¡®è¯­å¥çš„è®°å¿†ä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘ç›¸ä¿¡æˆ‘å·²ç»æ­£ç¡®åœ°æŠ“ä½äº†é‡è¦éƒ¨åˆ†ã€‚</p>
<h2 id="ä¸è¦åšä¸€ä¸ªå¿«é¤å¨å¸ˆ"><a href="#ä¸è¦åšä¸€ä¸ªå¿«é¤å¨å¸ˆ" class="headerlink" title="ä¸è¦åšä¸€ä¸ªå¿«é¤å¨å¸ˆ"></a>ä¸è¦åšä¸€ä¸ªå¿«é¤å¨å¸ˆ</h2><p>æˆ‘çš„ç¬¬ä¸€ä»½å·¥ä½œåªæŒç»­äº† 8 ä¸ªæœˆï¼Œå› ä¸ºå…¬å¸å€’é—­äº†ã€‚å½“æˆ‘å’Œç»ç†è°ˆè®ºä¸‹ä¸€æ­¥è¯¥æ€ä¹ˆåŠæ—¶ï¼Œä»–ç»™äº†æˆ‘è¿™æ ·çš„å»ºè®®ï¼š</p>
<blockquote>
<p>å°¼å¤æ‹‰æ–¯ï¼Œä½ çš„ä»·å€¼ä¸ä»…ä»…åœ¨äºä½ çš„ä»£ç ã€‚æ— è®ºä½ çš„ä¸‹ä¸€ä»½å·¥ä½œæ˜¯ä»€ä¹ˆï¼Œéƒ½è¦ç¡®ä¿è‡ªå·±ä¸è¦æˆä¸ºä¸€ä¸ªå¿«é¤å¨å¸ˆã€‚ä¸è¦æ¥å—ä¸€ä»½åªè®©ä½ åšä»€ä¹ˆå’Œæ€ä¹ˆåšçš„å·¥ä½œã€‚ä½ éœ€è¦æ‰¾ä¸€ä»½èƒ½å¤Ÿæ¬£èµä½ å¯¹äº§å“çš„è§è§£ä»¥åŠä½ çš„å¼€å‘èƒ½åŠ›çš„å·¥ä½œã€‚</p>
</blockquote>
<p>åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘ä¸€ç›´ç‰¢è®°è¿™ä¸€ç‚¹ã€‚ä»…ä»…æˆä¸ºä¸€åæ‰§è¡Œè€…æ˜¯ä¸å¤Ÿçš„â€”â€”ä½ éœ€è¦å‚ä¸åˆ°å®æ–½ä¹‹å‰çš„è¿‡ç¨‹ä¸­ã€‚ä¼˜ç§€çš„å·¥ç¨‹å¸ˆä¸ä»…æœä»å‘½ä»¤ï¼Œè¿˜ä¼šå‘äº§å“è´Ÿè´£äººæä¾›åé¦ˆæ„è§ï¼Œå¹¶ä¸ä»–ä»¬åˆä½œä»¥ä½¿äº§å“å˜å¾—æ›´å¥½ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘æ˜æ™ºåœ°é€‰æ‹©äº†è‡ªå·±çš„å·¥ä½œï¼Œä»æœªé‡åˆ°è¿‡äººä»¬ä¸å°Šé‡æˆ–ä¸é‡è§†æˆ‘çš„è§è§£çš„æƒ…å†µã€‚</p>
<h2 id="è‡ªæˆ‘æ¨é”€"><a href="#è‡ªæˆ‘æ¨é”€" class="headerlink" title="è‡ªæˆ‘æ¨é”€"></a>è‡ªæˆ‘æ¨é”€</h2><p>æœ‰ä¸€å¤©ï¼Œæˆ‘åœ¨é›…è™çš„ç¬¬äºŒä»»ç»ç†æŠŠæˆ‘æ‹‰åˆ°ä¸€è¾¹ï¼Œç»™äº†æˆ‘ä¸€äº›å»ºè®®ã€‚ä»–ä¸€ç›´åœ¨å…³æ³¨æˆ‘çš„å·¥ä½œï¼Œæ„Ÿè§‰æˆ‘æœ‰ç‚¹èº²èº²è—è—çš„ï¼š</p>
<blockquote>
<p>ä½ çš„å·¥ä½œåšå¾—å¾ˆå¥½ã€‚æˆ‘æ˜¯è¯´çœŸçš„éå¸¸å¥½ã€‚æˆ‘å–œæ¬¢ä½ çš„ä»£ç é£æ ¼ï¼Œè€Œä¸”å®ƒå¾ˆå°‘å‡ºé”™ã€‚é—®é¢˜æ˜¯å…¶ä»–äººçœ‹ä¸åˆ°è¿™ä¸€ç‚¹ã€‚ä¸ºäº†è®©ä½ è·å¾—åº”æœ‰çš„è®¤å¯ï¼Œä½ éœ€è¦è®©å…¶ä»–äººçŸ¥é“ä½ çš„å·¥ä½œã€‚ä½ éœ€è¦åšä¸€äº›è‡ªæˆ‘æ¨é”€æ¥å¼•èµ·æ³¨æ„ã€‚</p>
</blockquote>
<p>æˆ‘èŠ±äº†ä¸€ç‚¹æ—¶é—´æ¥æ¶ˆåŒ–ä»–è¯´çš„è¯ï¼Œä½†æˆ‘æœ€ç»ˆæ˜ç™½äº†ã€‚å¦‚æœä½ åšå¾—å¾ˆå¥½ï¼Œä½†æ²¡æœ‰äººçŸ¥é“ä½ åšå¾—å¾ˆå¥½ï¼Œé‚£ä¹ˆè¿™å¯¹ä½ å¹¶æ²¡æœ‰ä»€ä¹ˆå¸®åŠ©ã€‚ä½ çš„ç»ç†å¯ä»¥æ”¯æŒä½ ï¼Œä½†ä¸èƒ½ä»£æ›¿ä½ è¯æ˜è‡ªå·±ã€‚ç»„ç»‡å†…éƒ¨çš„äººéœ€è¦äº†è§£ä½ çš„ä»·å€¼ï¼Œè€Œåšåˆ°è¿™ä¸€ç‚¹çš„æœ€å¥½åŠæ³•å°±æ˜¯å‘Šè¯‰åˆ«äººä½ åšäº†ä»€ä¹ˆã€‚</p>
<p>è¿™æ˜¯æˆ‘ç°åœ¨ç»™å¾ˆå¤šåŒäº‹çš„å»ºè®®ã€‚è‡ªæˆ‘æ¨é”€å¹¶ä¸æ„å‘³ç€â€œçœ‹çœ‹æˆ‘ï¼Œæˆ‘çœŸæ£’â€ã€‚è€Œæ˜¯æ„å‘³ç€åœ¨ä½ å®ç°é‡å¤§é‡Œç¨‹ç¢‘æ—¶ï¼Œæˆ–è€…å­¦åˆ°æ–°çŸ¥è¯†æ—¶ï¼Œè¦è®©äººä»¬çŸ¥é“ã€‚è¿™æ„å‘³ç€å‘äººä»¬å±•ç¤ºä½ å¼•ä»¥ä¸ºè±ªçš„å·¥ä½œæˆæœã€‚è¿™æ„å‘³ç€åº†ç¥è‡ªå·±å’Œä»–äººçš„æˆå°±ã€‚è¿™æ„å‘³ç€è¦åœ¨ç»„ç»‡å†…éƒ¨å¼•äººæ³¨ç›®ã€‚é‚£äº›å®‰é™åœ°ååœ¨è§’è½é‡Œæ•²ä»£ç çš„å·¥ç¨‹å¸ˆæ€»æ˜¯æœ‰ç‚¹ç¥ç§˜â€”â€”ä¸è¦å­¦ä»–ä»¬ã€‚å‘é€ä¸€å°ç®€å•ç”µå­é‚®ä»¶è¯´ï¼šâ€œå˜¿ï¼Œæˆ‘å®Œæˆäº†æ–°çš„ç”µå­é‚®ä»¶å¸ƒå±€ã€‚è®©æˆ‘çŸ¥é“ä½ çš„æƒ³æ³•â€å°±èƒ½èµ·åˆ°å¾ˆå¤§çš„ä½œç”¨ã€‚</p>
<h2 id="ä»¥äººä¸ºæœ¬"><a href="#ä»¥äººä¸ºæœ¬" class="headerlink" title="ä»¥äººä¸ºæœ¬"></a>ä»¥äººä¸ºæœ¬</h2><p>åœ¨æˆ‘èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸï¼Œæˆ‘éå¸¸æ³¨é‡å¤´è¡”ã€‚æˆ‘æ€»æ˜¯æƒ³çŸ¥é“æˆ‘å¿…é¡»åšäº›ä»€ä¹ˆæ‰èƒ½å¾—åˆ°æ™‹å‡ã€‚åœ¨å’Œé›…è™é¦–é¡µæ–°çš„ç»ç†è¿›è¡Œç¬¬ä¸€æ¬¡ä¸€å¯¹ä¸€è°ˆè¯ä¸­ï¼Œæˆ‘é—®ä»–æˆ‘è¦æ€æ ·æ‰èƒ½å‡èŒã€‚ä»–çš„è¯è¨€çŠ¹åœ¨è€³ï¼š</p>
<blockquote>
<p>åˆ°äº†ä¸€å®šç¨‹åº¦ï¼Œäººä»¬å°±ä¸ä¼šå†ä»¥æŠ€æœ¯çŸ¥è¯†æ¥è¯„åˆ¤ä½ ï¼Œè€Œæ˜¯å¼€å§‹ä»¥ä½ ä¸äººäº¤å¾€çš„æ–¹å¼æ¥è¯„åˆ¤ä½ ã€‚</p>
</blockquote>
<p>ä»é‚£æ—¶èµ·ï¼Œæˆ‘å¯¹è½¯ä»¶å·¥ç¨‹è¡Œä¸šæœ‰äº†æ›´æ·±åˆ»çš„è®¤è¯†ã€‚ä»–è¯´å¾—ä¸€ç‚¹æ²¡é”™ã€‚å½“æ—¶ï¼Œæ²¡æœ‰äººè´¨ç–‘æˆ‘çš„æŠ€æœ¯èƒ½åŠ›ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘å†™å‡ºçš„ä»£ç è´¨é‡ä¸Šä¹˜ï¼Œå¾ˆå°‘å‡ºç°é”™è¯¯ã€‚æˆ‘ç¼ºä¹çš„æ˜¯é¢†å¯¼èƒ½åŠ›ã€‚</p>
<p>ä»é‚£ä»¥åï¼Œæˆ‘ç›®ç¹äº†æ— æ•°å·¥ç¨‹å¸ˆåœ¨èŒä¸šç”Ÿæ¶¯ä¸­é™·å…¥å›°å¢ƒã€‚èªæ˜çš„äººï¼Œä¼˜ç§€çš„ä»£ç ï¼Œä½†ç”±äºæ— æ³•ä¸ä»–äººæœ‰æ•ˆåˆä½œï¼Œä»–ä»¬åªèƒ½åœç•™åœ¨åŸåœ°ã€‚æ¯å½“æœ‰äººåœ¨è½¯ä»¶å·¥ç¨‹èŒä¸šç”Ÿæ¶¯ä¸­æ„Ÿåˆ°å›°é¡¿æ—¶ï¼Œæˆ‘éƒ½ä¼šé‡æè¿™æ¡å»ºè®®ï¼Œå®ƒæ€»æ˜¯ä¸€é’ˆè§è¡€ã€‚</p>
<h2 id="è¿™äº›éƒ½ä¸é‡è¦"><a href="#è¿™äº›éƒ½ä¸é‡è¦" class="headerlink" title="è¿™äº›éƒ½ä¸é‡è¦"></a>è¿™äº›éƒ½ä¸é‡è¦</h2><p>æˆ‘åœ¨é›…è™æœ‰ä¸€ä¸ªæ—¶æœŸéå¸¸æ²®ä¸§ã€‚ä¹Ÿè®¸ç”¨â€œæ²®ä¸§â€è¿™ä¸ªè¯å¹¶ä¸æ°å½“ï¼Œæ›´åƒæ˜¯â€œæ„¤æ€’â€ã€‚æˆ‘æ€’ç«ä¸­çƒ§ï¼Œä¸æ–­ä¸äººäº‰åµã€‚äº‹æƒ…æ€»æ˜¯å‡ºé”™ï¼Œæˆ‘ä¸å–œæ¬¢è¿™æ ·ã€‚åœ¨ä¸€ä¸ªç‰¹åˆ«è‰°éš¾çš„æ—¥å­é‡Œï¼Œæˆ‘é—®æˆ‘çš„ä¸€ä½å¯¼å¸ˆï¼Œåœ¨è¿™ä¹ˆå¤šäº‹æƒ…å‡ºé”™çš„æ—¶å€™ï¼Œä»–æ˜¯å¦‚ä½•ä¿æŒå†·é™çš„ã€‚ä»–çš„å›ç­”æ˜¯ï¼š</p>
<blockquote>
<p>è¿™å¾ˆç®€å•ã€‚ä½ çœ‹ï¼Œè¿™äº›éƒ½ä¸é‡è¦ã€‚ä¸€äº›è¹©è„šçš„ä»£ç è¢«æäº¤äº†ï¼Œç½‘ç«™ç˜«ç—ªäº†ã€‚é‚£åˆæ€æ ·ï¼Ÿå·¥ä½œä¸å¯èƒ½æ˜¯ä½ ç”Ÿæ´»çš„å…¨éƒ¨ã€‚è¿™äº›éƒ½ä¸æ˜¯çœŸæ­£çš„é—®é¢˜ï¼Œåªæ˜¯å·¥ä½œä¸Šçš„é—®é¢˜ã€‚çœŸæ­£é‡è¦çš„æ˜¯å·¥ä½œä¹‹å¤–çš„ç”Ÿæ´»ã€‚æˆ‘ä¸‹ç­å›åˆ°å®¶ï¼Œå¦»å­æ­£åœ¨ç­‰æˆ‘ã€‚è¿™å¤šç¾å¥½å•Šã€‚</p>
</blockquote>
<p>æˆ‘ä»é©¬è¨è¯¸å¡å·æ¬åˆ°åŠ åˆ©ç¦å°¼äºšå·ï¼Œå¾ˆéš¾äº¤åˆ°æœ‹å‹ã€‚å·¥ä½œå°±æ˜¯æˆ‘çš„ç”Ÿæ´»ï¼Œæ˜¯å®ƒè®©æˆ‘ä¿æŒæ¸…é†’ï¼Œæ‰€ä»¥å½“å·¥ä½œä¸é¡ºåˆ©æ—¶ï¼Œå°±æ„å‘³ç€æˆ‘çš„ç”Ÿæ´»ä¹Ÿä¸é¡ºåˆ©ã€‚è¿™æ¬¡è°ˆè¯è®©æˆ‘æ„è¯†åˆ°ï¼Œæˆ‘çš„ç”Ÿæ´»ä¸­å¿…é¡»è¦æœ‰ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ï¼Œä¸€äº›æˆ‘å¯ä»¥å›å»å¿˜è®°å·¥ä½œä¸­çš„çƒ¦æ¼çš„ä¸œè¥¿ã€‚</p>
<p>ä»–æ˜¯å¯¹çš„ï¼Œä¸€æ—¦æˆ‘è½¬å˜äº†å¿ƒæ€ï¼ŒæŠŠå·¥ä½œä¸­æ¼äººçš„äº‹æƒ…é‡æ–°å½’ç±»ä¸ºâ€œå·¥ä½œä¸Šçš„äº‹æƒ…â€ï¼Œæˆ‘å°±èƒ½æƒ³å¾—æ›´æ¸…æ¥šäº†ã€‚åœ¨å·¥ä½œä¸­ï¼Œæˆ‘èƒ½å¤Ÿå†·é™ä¸‹æ¥ï¼Œä¸äººçš„äº¤æµä¹Ÿæ›´åŠ æ„‰å¿«ã€‚</p>
<h2 id="æƒåŠ›ï¼Œä½ çš„æ–¹å¼"><a href="#æƒåŠ›ï¼Œä½ çš„æ–¹å¼" class="headerlink" title="æƒåŠ›ï¼Œä½ çš„æ–¹å¼"></a>æƒåŠ›ï¼Œä½ çš„æ–¹å¼</h2><p>å½“æˆ‘ç¬¬ä¸€æ¬¡æ™‹å‡ä¸ºé›…è™çš„é¦–å¸­å·¥ç¨‹å¸ˆæ—¶ï¼Œæˆ‘å’Œæˆ‘çš„ä¸»ç®¡ååœ¨ä¸€èµ·ï¼Œå¸Œæœ›æ›´å¥½åœ°äº†è§£è¿™ä¸ªè§’è‰²çš„å†…æ¶µã€‚æˆ‘çŸ¥é“æˆ‘å¿…é¡»æ›´åƒä¸€ä¸ªé¢†å¯¼è€…ï¼Œä½†æˆ‘å¾ˆéš¾åšåˆ°æœ‰æƒå¨ã€‚æˆ‘å‘ä»–å¯»æ±‚å¸®åŠ©ã€‚ä»–æ˜¯è¿™ä¹ˆè¯´çš„</p>
<blockquote>
<p>æˆ‘æ— æ³•å‘Šè¯‰ä½ å¦‚ä½•æˆä¸ºæƒå¨ï¼Œè¿™æ˜¯éœ€è¦ä½ è‡ªå·±å»æ‘¸ç´¢çš„äº‹æƒ…ã€‚ä¸åŒçš„äººæœ‰ä¸åŒçš„é£æ ¼ã€‚ä½ éœ€è¦åšçš„æ˜¯æ‰¾åˆ°ä¸€ç§ä½ èƒ½æ¥å—çš„ã€è®©ä½ æ„Ÿåˆ°èˆ’æœçš„é£æ ¼ã€‚æˆ‘æ— æ³•å‘Šè¯‰ä½ é‚£ç§é£æ ¼æ˜¯ä»€ä¹ˆï¼Œä½†ä½ ç¡®å®éœ€è¦ä¸ºè¿™ä¸ªèŒä½æ‰¾åˆ°é€‚åˆè‡ªå·±çš„é£æ ¼ã€‚</p>
</blockquote>
<p>é‚£ä¸€å¹´ï¼Œæˆ‘èŠ±äº†å¾ˆå¤šæ—¶é—´è§‚å¯Ÿæœ‰æƒåŠ¿çš„äººä»¥åŠä»–ä»¬å¦‚ä½•ä¸ä»–äººäº¤å¾€ã€‚æˆ‘æ³¨æ„åˆ°ä»–ä»¬å¦‚ä½•èµ°è·¯ã€å¦‚ä½•è¯´è¯ã€å¦‚ä½•å¤„ç†é—®é¢˜ã€‚æˆ‘å°è¯•äº†ä¸åŒçš„é£æ ¼ï¼Œæœ€åç»ˆäºæ‰¾åˆ°äº†ä¸€ç§é€‚åˆæˆ‘çš„é£æ ¼ã€‚æˆ‘çš„é£æ ¼æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä»»ä½•äººåœ¨å­¦ä¹ æ‹…ä»»é¢†å¯¼èŒåŠ¡æ—¶éƒ½å¿…é¡»ç»å†åŒæ ·çš„æˆé•¿ç—›è‹¦ã€‚æˆ‘çš„ä¼˜åŠ¿åœ¨äºï¼Œæˆ‘çš„å¯¼å¸ˆæå‰å‘æˆ‘ä»‹ç»äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<h2 id="ä»â€œæ€ä¹ˆåšï¼Ÿâ€åˆ°â€œåšä»€ä¹ˆï¼Ÿâ€"><a href="#ä»â€œæ€ä¹ˆåšï¼Ÿâ€åˆ°â€œåšä»€ä¹ˆï¼Ÿâ€" class="headerlink" title="ä»â€œæ€ä¹ˆåšï¼Ÿâ€åˆ°â€œåšä»€ä¹ˆï¼Ÿâ€"></a>ä»â€œæ€ä¹ˆåšï¼Ÿâ€åˆ°â€œåšä»€ä¹ˆï¼Ÿâ€</h2><p>åœ¨ä¸é›…è™çš„ç»ç†äº¤è°ˆæ—¶ï¼Œæˆ‘é—®ä»–å¯¹æˆ‘çš„æ–°èŒä½æœ‰ä»€ä¹ˆæœŸæœ›ã€‚ä»–å›ç­”è¯´ï¼š</p>
<blockquote>
<p>åœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œä½ å·²ç»å›ç­”äº†â€œæ€ä¹ˆåšï¼Ÿâ€è¿™ä¸ªé—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å‘Šè¯‰ä½ éœ€è¦åšä»€ä¹ˆï¼Œä½ è‡ªå·±æƒ³åŠæ³•å»åšã€‚ä½†ç°åœ¨ï¼Œä½ éœ€è¦å›ç­”â€œåšä»€ä¹ˆï¼Ÿâ€è¿™ä¸ªé—®é¢˜ã€‚æˆ‘å¸Œæœ›ä½ ä»¬æ¥å‘Šè¯‰æˆ‘éœ€è¦åšä»€ä¹ˆã€‚</p>
</blockquote>
<p>è¿™æ˜¯æˆ‘çœ‹åˆ°å¾ˆå¤šå·¥ç¨‹å¸ˆå®¹æ˜“è·Œå€’çš„åœ°æ–¹ï¼Œå¦‚æœæ²¡æœ‰è¿™æ¡å»ºè®®ï¼Œæˆ‘ä¹Ÿä¼šç¢°åˆ°åŒæ ·çš„é—®é¢˜ã€‚ä»â€œæ€ä¹ˆåšï¼Ÿâ€è½¬æ¢åˆ°â€œåšä»€ä¹ˆï¼Ÿâ€æ˜¯éå¸¸å›°éš¾çš„ï¼Œéœ€è¦æ—¶é—´æ¥åŸ¹å…»ã€‚æ­¤å¤–ï¼Œè¿™ä¹Ÿéœ€è¦ä¸€å®šçš„æˆç†Ÿåº¦ï¼Œæ‰èƒ½æ‰¿æ‹…èµ·æ ¹æ®è‡ªå·±çš„æƒ³æ³•æ¥å†³å®šå·¥ä½œé‡ç‚¹çš„è´£ä»»ã€‚æ¯•ç«Ÿï¼Œå¦‚æœä½ å¯ä»¥æŠŠæ—¶é—´èŠ±åœ¨ä»»ä½•ä½ æƒ³åšçš„äº‹æƒ…ä¸Šï¼Œé‚£ä¹ˆä½ ä¹Ÿå°†å®Œå…¨å¯¹ä½ çš„äº§å‡ºè´Ÿè´£ã€‚</p>
<p>åœ¨ Boxï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæ¦‚å¿µç§°ä¸ºâ€œå¼€ç¯è¿è¡Œâ€ï¼Œæ„æ€æ˜¯ä½ åªéœ€è¦å¾ˆå°‘çš„ç›‘ç£å°±å¯ä»¥è‡ªå·±åšå¥½å·¥ä½œï¼ŒåŒæ—¶ç»§ç»­å¯¹å·¥ç¨‹ç»„ç»‡å’Œæ•´ä¸ªå…¬å¸äº§ç”Ÿé‡å¤§çš„ç§¯æå½±å“ã€‚è¿™æ˜¯è®¸å¤šå·¥ç¨‹å¸ˆæ— æ³•å®ç°è·¨è¶Šçš„ä¸€æ­¥ï¼Œæˆ‘è‡³ä»Šè¿˜åœ¨ç»™æ‰€æœ‰æƒ³è·å¾—æå‡çš„äººæä¾›è¿™ä¸ªå»ºè®®ã€‚</p>
<h2 id="è¡¨ç°å¾—åƒä½ æ˜¯è´Ÿè´£äºº"><a href="#è¡¨ç°å¾—åƒä½ æ˜¯è´Ÿè´£äºº" class="headerlink" title="è¡¨ç°å¾—åƒä½ æ˜¯è´Ÿè´£äºº"></a>è¡¨ç°å¾—åƒä½ æ˜¯è´Ÿè´£äºº</h2><p>æˆ‘åˆšåˆšå‚åŠ äº†ä¸€ä¸ªä¼šè®®ï¼Œåœ¨æ•´ä¸ªä¼šè®®è¿‡ç¨‹ä¸­æˆ‘éƒ½æ²¡æœ‰è¯´è¯ã€‚åœ¨ä¸æˆ‘çš„ä¸»ç®¡è¿›è¡Œä¸€å¯¹ä¸€è°ˆè¯æ—¶ï¼Œæˆ‘æåˆ°æˆ‘åˆšåˆšå‚åŠ äº†ä¸€ä¸ªä¼šè®®ï¼Œæˆ‘ä¸çŸ¥é“è‡ªå·±ä¸ºä»€ä¹ˆè¦å‚åŠ ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¯ä»¥è´¡çŒ®çš„ã€‚ä»–è¯´ï¼š</p>
<blockquote>
<p>å†ä¹Ÿä¸è¦è¿™æ ·åšäº†ã€‚å¦‚æœä½ å‚åŠ ä¼šè®®ï¼Œé‚£æ˜¯å› ä¸ºä½ è¦å‚ä¸è¿›æ¥ã€‚å¦‚æœä½ ä¸æ¸…æ¥šè‡ªå·±ä¸ºä»€ä¹ˆåœ¨é‚£é‡Œï¼Œå°±åœä¸‹æ¥é—®é—®ã€‚å¦‚æœä¸éœ€è¦ä½ ï¼Œå°±ç¦»å¼€ã€‚ä½ èº«å±…é¢†å¯¼å²—ä½ï¼Œå°±è¦æœ‰é¢†å¯¼çš„æ ·å­ã€‚ä¸è¦æ‚„æ— å£°æ¯åœ°èµ°è¿›æˆ¿é—´ã€‚åªè¦è¡¨ç°å‡ºä½ æ˜¯è´Ÿè´£äººçš„æ ·å­ï¼Œäººä»¬å°±ä¼šç›¸ä¿¡ã€‚</p>
</blockquote>
<h2 id="è®©ä»–ä»¬èµ¢"><a href="#è®©ä»–ä»¬èµ¢" class="headerlink" title="è®©ä»–ä»¬èµ¢"></a>è®©ä»–ä»¬èµ¢</h2><p>æˆ‘æ›¾ç»å†è¿‡ä¸€æ®µå›¢é˜Ÿä¸­äº‰åµä¸æ–­çš„ç‰¹æ®Šæ—¶æœŸã€‚æˆ‘ä¸ºè‡ªå·±èƒ½ä»¥æƒå¨ç»“æŸè¿™äº›äº‰è®ºè€Œè‡ªè±ªã€‚æˆ‘æœ‰ä¸€ç§â€œæˆ‘çš„å†³å®šå°±æ˜¯æœ€ç»ˆå†³å®šâ€çš„å¿ƒæ€ï¼Œæˆ‘çš„ç»ç†æ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ç»™äº†æˆ‘è¿™æ ·ä¸€ä¸ªå»ºè®®ï¼š</p>
<blockquote>
<p>æˆ‘æ³¨æ„åˆ°ä½ ä»¬ä¹‹é—´ç»å¸¸å‘ç”Ÿäº‰è®ºï¼Œè€Œä½ ä¹Ÿæ€»æ˜¯åŠªåŠ›äº‰å–èµ¢å¾—æ¯ä¸ªäº‰è®ºã€‚æˆ‘çŸ¥é“å¤§å¤šæ•°æ—¶å€™ä½ çš„ç«‹åœºæ˜¯æ­£ç¡®çš„ï¼Œä½†å¶å°”ä¹Ÿåº”è¯¥è®©æ­¥è®©åˆ«äººèµ¢ä¸€äº›ã€‚é€‰æ‹©é‚£äº›å¯¹ä½ çœŸæ­£é‡è¦çš„äº‹æƒ…æ¥åšæŒï¼Œå…¶ä»–çš„åˆ™è®©å®ƒä»¬è¿‡å»å§ã€‚å¹¶ä¸éœ€è¦èµ¢å¾—æ¯ä¸€ä¸ªäº‰è®ºã€‚</p>
</blockquote>
<p>è¿™èµ·åˆæ˜¯æˆ‘æ¯”è¾ƒæŠµè§¦çš„ä¸€ä¸ªå»ºè®®ã€‚æˆ‘å‡ ä¹æ¯æ¬¡éƒ½æ˜¯æ­£ç¡®çš„ï¼Œä¸ºä»€ä¹ˆè¦è®©åˆ«äººèµ¢å‘¢ï¼Ÿç„¶è€Œï¼Œéšç€æˆ‘è¶Šæ¥è¶Šç›¸ä¿¡ä»–çš„ç›´è§‰ï¼Œæˆ‘è¿˜æ˜¯è¯•äº†ä¸€ä¸‹ã€‚ç»“æœæ˜¯ï¼šäº‰è®ºå˜å°‘äº†ã€‚äººä»¬ä¸å†è§‰å¾—ä»–ä»¬éå¾—èµ¢æˆ‘ä¸å¯ï¼Œåè¿‡æ¥ï¼Œæˆ‘ä¹Ÿå˜å¾—æ›´å–„äºè¾¨åˆ«é‚£äº›æˆ‘å…¶å®å¹¶ä¸å¤ªåœ¨ä¹çš„äº‹ã€‚åœ¨é‡è¦çš„é—®é¢˜ä¸Šï¼Œæˆ‘åšæŒè‡ªå·±çš„ç«‹åœºï¼Œå…¶ä»–ä¸å¤ªé‡è¦çš„äº‹å°±è®©å¯¹æ–¹è¯´äº†ç®—ã€‚æ‰€æœ‰å¯¹è¯çš„å¼ºåº¦éƒ½é™ä½äº†å¾ˆå¤šã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å›é¡¾å¤§å­¦æ¯•ä¸šæ—¶çš„æˆ‘ï¼Œæˆ‘çš„èŒä¸šç”Ÿæ¶¯å¯èƒ½ä¼šæœ‰æˆªç„¶ä¸åŒçš„ç»“å±€ã€‚åœ¨åˆ«äººçœ¼ä¸­ï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ€¨å¤©å°¤äººçš„äººï¼Œä¸€ä¸ªèªæ˜ä½†éš¾ä»¥ç›¸å¤„çš„äººï¼Œäººä»¬ä¸å¾—ä¸å’Œæˆ‘æ‰“äº¤é“ã€‚è¦ä¸æ˜¯ä¸€è·¯ä¸Šæœ‰è‰¯å¸ˆç›Šå‹ï¼Œè¦ä¸æ˜¯åœ¨èŒä¸šç”Ÿæ¶¯æ—©æœŸç»å†äº†ä¸€äº›ä»¤äººæƒ­æ„§çš„å¤±è´¥ï¼Œæˆ‘çš„äººé™…äº¤å¾€èƒ½åŠ›ï¼ˆæˆ–ç¼ºä¹äººé™…äº¤å¾€èƒ½åŠ›ï¼‰å¾ˆå¯èƒ½ä¼šè®©æˆ‘ä¸€è´¥æ¶‚åœ°ã€‚å¦‚ä»Šï¼Œæˆ‘ç»å¸¸å‘æ¯”æˆ‘æ›´æœ‰ç»éªŒçš„äººè¯·æ•™ã€‚æˆ‘å¯èƒ½ä¸ä¼šå†çŠ¯æ˜æ˜¾çš„å¤§é”™è¯¯ï¼Œä½†æˆ‘ä¹Ÿä¸æƒ³ç­‰åˆ°é”™è¯¯å‘ç”Ÿæ—¶æ‰å»å¯»æ±‚æˆ‘ä¿¡ä»»çš„äººçš„ç»éªŒè§è§£ã€‚</p>
<p>æˆ‘åœ¨é›…è™å·¥ä½œçš„è¿‘äº”å¹´æ—¶é—´ï¼Œæ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯ä¸­è½¬å˜æœ€å¤§çš„äº”å¹´ã€‚æˆ‘å¯ä»¥å¤§è§„æ¨¡åœ°è§£å†³ä¸€äº›æœ‰è¶£çš„é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘æœ‰å¹¸åœ¨å…¬å¸é‡Œé‡åˆ°äº†ä¸€ç³»åˆ—å‡ºè‰²çš„ç»ç†å’Œå…¶ä»–å¯¼å¸ˆã€‚æ— è®ºæ˜¯åœ¨å·¥ä½œä¸­è¿˜æ˜¯åœ¨å¤–é¢çš„â€œç°å®ç”Ÿæ´»â€ä¸­ï¼Œæˆ‘éƒ½å°†è¿™äº›å¯¹è¯å½’åŠŸäºä»–ä»¬ï¼Œæ˜¯ä»–ä»¬æŠŠæˆ‘åŸ¹å…»æˆäº†ä»Šå¤©è®©æˆ‘å¼•ä»¥ä¸ºè±ªçš„äººã€‚</p>
<p>å¦‚æœæˆ‘èƒ½ç»™ä½ ç•™ä¸‹ä¸€æ¡å‹å€’ä¸€åˆ‡çš„èŒä¸šå»ºè®®ï¼Œé‚£å°±æ˜¯ï¼šåœ¨ä½ çš„å·¥ä½œä¸­æ‰¾å‡ºä¸€ä¸ªåœ¨æŸäº›æ–¹é¢ï¼ˆæŠ€æœ¯ã€ç»„ç»‡ç­‰æ–¹é¢ï¼‰æ¯”ä½ èªæ˜çš„äººï¼Œå¹¶æŠŠè‡ªå·±ä¸ä»–ä»¬è”ç³»åœ¨ä¸€èµ·ã€‚çœ‹çœ‹èƒ½å¦å®šæœŸä¸ä»–ä»¬å…±è¿›åˆé¤æˆ–å–å’–å•¡ï¼Œä»ä»–ä»¬çš„å¤§è„‘ä¸­æ±²å–å¤§é‡çŸ¥è¯†ã€‚è¿™æ ·åšå¯èƒ½ä¼šå¤§å¤§æ”¹å–„ä½ çš„èŒä¸šç”Ÿæ¶¯ï¼Œç”šè‡³ä½ çš„ç”Ÿæ´»ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<br><a href="https://humanwhocodes.com/blog/2013/10/15/the-best-career-advice-ive-received/">https://humanwhocodes.com/blog/2013/10/15/the-best-career-advice-ive-received/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¢ç´¢æµå¼åº”ç”¨çš„æ€§èƒ½æŒ‡æ ‡ï¼šå»¶è¿Ÿå’Œååé‡è§£æ</title>
    <url>/2023/09/02/apache-flink-performance-high-throughput-low-latency/</url>
    <content><![CDATA[<p>æ‰¹å¤„ç†åº”ç”¨å’Œæµå¼åº”ç”¨åœ¨æ€§èƒ½éœ€æ±‚ä¸Šæœ‰æ‰€åŒºåˆ«ã€‚å¯¹äºæ‰¹å¤„ç†åº”ç”¨è€Œè¨€ï¼Œæˆ‘ä»¬é€šå¸¸å…³å¿ƒä½œä¸šçš„æ€»æ‰§è¡Œæ—¶é—´ï¼Œå³ä»å¤„ç†å¼•æ“è¯»å–è¾“å…¥ã€æ‰§è¡Œè®¡ç®—ã€å†™å›ç»“æœæ‰€éœ€çš„æ—¶é—´ã€‚ä½†åœ¨æ•°æ®æµå¤„ç†ä¸­ï¼Œç”±äºæµå¼åº”ç”¨ä¼šæŒç»­æ‰§è¡Œä¸”è¾“å…¥å¯èƒ½æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æ€»æ‰§è¡Œæ—¶é—´çš„æ¦‚å¿µã€‚ç›¸åï¼Œæµå¼åº”ç”¨éœ€è¦å°½å¯èƒ½å¿«åœ°è®¡ç®—ç»“æœï¼Œå¹¶èƒ½å¤„ç†é«˜é€Ÿçš„äº‹ä»¶æ¥å…¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨å»¶è¿Ÿå’Œååæ¥è¡¨ç¤ºè¿™ä¸¤æ–¹é¢çš„æ€§èƒ½éœ€æ±‚ã€‚</p>
<h2 id="å»¶è¿Ÿ"><a href="#å»¶è¿Ÿ" class="headerlink" title="å»¶è¿Ÿ"></a>å»¶è¿Ÿ</h2><p>å»¶è¿Ÿæ˜¯æŒ‡å¤„ç†ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„æ—¶é—´ï¼Œä»æ¥æ”¶äº‹ä»¶åˆ°åœ¨è¾“å‡ºä¸­è§‚å¯Ÿåˆ°äº‹ä»¶å¤„ç†æ•ˆæœçš„æ—¶é—´é—´éš”ã€‚ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£å»¶è¿Ÿï¼Œæˆ‘ä»¬å¯ä»¥ä»¥å»å’–å•¡åº—å–å’–å•¡ä¸ºä¾‹ã€‚å½“ä½ è¿›é—¨æ—¶ï¼Œå¯èƒ½å·²ç»æœ‰å…¶ä»–é¡¾å®¢åœ¨é‡Œé¢äº†ï¼Œéœ€è¦æ’é˜Ÿç­‰å€™ã€‚æ”¶é“¶å‘˜æ”¶åˆ°ä½ çš„ä»˜æ¬¾åï¼Œå°†è®¢å•äº¤ç»™å’–å•¡å¸ˆå‡†å¤‡é¥®å“ã€‚é¥®å“åˆ¶ä½œå®Œæˆåï¼Œå’–å•¡å¸ˆä¼šå«ä½ çš„åå­—ï¼Œä½ æ‰èƒ½ä»å§å°å–èµ°å’–å•¡ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ åœ¨åº—å†…ä¹°å’–å•¡çš„æ—¶é—´å°±æ˜¯æœåŠ¡å»¶è¿Ÿï¼Œå³ä»è¿›é—¨åˆ°å–åˆ°ç¬¬ä¸€å£å’–å•¡çš„æ—¶é—´ã€‚</p>
<p>åœ¨æµå¤„ç†ä¸­ï¼Œæˆ‘ä»¬ç”¨æ—¶é—´ç‰‡ï¼ˆå¦‚æ¯«ç§’ï¼‰æ¥æµ‹é‡å»¶è¿Ÿã€‚æ ¹æ®åº”ç”¨çš„ä¸åŒï¼Œæˆ‘ä»¬å¯èƒ½å…³æ³¨å¹³å‡å»¶è¿Ÿã€æœ€å¤§å»¶è¿Ÿæˆ–ç‰¹å®šç™¾åˆ†ä½æ•°çš„å»¶è¿Ÿã€‚ä¾‹å¦‚ï¼Œå¹³å‡å»¶è¿Ÿä¸º 10 æ¯«ç§’è¡¨ç¤ºå¹³å‡æ¯æ¡æ•°æ®åœ¨ 10 æ¯«ç§’å†…å¤„ç†å®Œæ¯•ï¼Œè€Œç¬¬ 95 ç™¾åˆ†ä½å»¶è¿Ÿåœ¨ 10 æ¯«ç§’å†…å¤„ç†å®Œæ¯•æ„å‘³ç€ 95% çš„äº‹ä»¶éƒ½åœ¨ 10 æ¯«ç§’å†…å¤„ç†ã€‚å¹³å‡å»¶è¿Ÿå¯èƒ½æ©ç›–äº†å»¶è¿Ÿåˆ†å¸ƒçš„çœŸå®æƒ…å†µï¼Œä½¿é—®é¢˜éš¾ä»¥å‘ç°ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœå’–å•¡å¸ˆåœ¨ç»™ä½ å‡†å¤‡å¡å¸ƒå¥‡è¯ºå‰ç”¨å…‰äº†ç‰›å¥¶ï¼Œä½ å°±å¿…é¡»ç­‰å¾…ä»–å†å»è¡¥å……ã€‚è™½ç„¶è¿™å¯èƒ½è®©ä½ ä¸å¤ªé«˜å…´ï¼Œä½†å¯¹å¤§å¤šæ•°é¡¾å®¢æ¥è¯´å¹¶ä¸ä¼šæœ‰å¤ªå¤§å½±å“ã€‚</p>
<p>å¯¹äºè®¸å¤šæµå¼åº”ç”¨ï¼ˆå¦‚è¯ˆéª—è¯†åˆ«ã€ç³»ç»Ÿå‘Šè­¦ã€ç½‘ç»œç›‘æµ‹ç­‰ï¼‰æ¥è¯´ï¼Œä¿è¯ä½å»¶è¿Ÿè‡³å…³é‡è¦ã€‚ä½å»¶è¿Ÿæ˜¯æµå¤„ç†çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§ï¼Œå®ƒè¡ç”Ÿå‡ºäº†æ‰€è°“çš„å®æ—¶åº”ç”¨ã€‚ç°ä»£æµå¤„ç†å¼•æ“å¦‚ Apache Flink å¯ä»¥æä¾›ä½è‡³å‡ æ¯«ç§’çš„å»¶è¿Ÿã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¼ ç»Ÿæ‰¹å¤„ç†çš„å»¶è¿Ÿå¯èƒ½ä»å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ä¸ç­‰ã€‚åœ¨æ‰¹å¤„ç†ä¸­ï¼Œéœ€è¦å…ˆæ‰¹é‡æ”¶é›†äº‹ä»¶ï¼Œç„¶åæ‰èƒ½å¤„ç†å®ƒä»¬ï¼Œå› æ­¤å¤„ç†å»¶è¿Ÿå—åˆ¶äºæ¯ä¸ªæ‰¹æ¬¡ä¸­æœ€è¿Ÿäº‹ä»¶çš„æ—¶é—´ï¼Œå¹¶å—åˆ°æ‰¹æ¬¡å¤§å°çš„å½±å“ã€‚çœŸæ­£çš„æµå¤„ç†ä¸ä¼šå¼•å…¥äººä¸ºå»¶è¿Ÿç­‰å› ç´ ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½å°†å»¶è¿Ÿé™è‡³æä½ï¼Œæ¯ä¸ªäº‹ä»¶å³æ—¶è¿›å…¥ç³»ç»Ÿè¿›è¡Œå¤„ç†ï¼Œå»¶è¿Ÿæ›´åŠ çœŸå®åœ°åæ˜ äº†å®é™…å¤„ç†å·¥ä½œã€‚</p>
<p>ååæ˜¯è¡¡é‡ç³»ç»Ÿå¤„ç†èƒ½åŠ›ï¼ˆå¤„ç†é€Ÿç‡ï¼‰çš„æŒ‡æ ‡ï¼Œå®ƒå‘Šè¯‰æˆ‘ä»¬ç³»ç»Ÿæ¯å•ä½æ—¶é—´å¯ä»¥å¤„ç†å¤šå°‘äº‹ä»¶ã€‚å›åˆ°å’–å•¡åº—çš„ä¾‹å­ï¼Œå¦‚æœè¥ä¸šæ—¶é—´æ˜¯æ—©ä¸Š 10 ç‚¹åˆ°æ™šä¸Š 10 ç‚¹ï¼Œä¸€å¤©æœåŠ¡äº† 600 åé¡¾å®¢ï¼Œé‚£ä¹ˆå¹³å‡ååé‡å°±æ˜¯ 50äºº/å°æ—¶ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å»¶è¿Ÿå°½å¯èƒ½ä½ï¼Œè€Œååé‡åˆ™å°½å¯èƒ½é«˜ã€‚</p>
<h2 id="ååé‡"><a href="#ååé‡" class="headerlink" title="ååé‡"></a>ååé‡</h2><p>ååé‡æ˜¯è®¡ç®—æ¯ä¸ªå•ä½æ—¶é—´çš„äº‹ä»¶æˆ–æ“ä½œæ•°ã€‚ä½†è¦æ³¨æ„ï¼Œå¤„ç†é€Ÿç‡å–å†³äºæ•°æ®åˆ°è¾¾é€Ÿç‡ï¼Œå› æ­¤ååé‡ä½ä¸ä¸€å®šæ„å‘³ç€æ€§èƒ½å·®ã€‚åœ¨æµå¤„ç†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›ç³»ç»Ÿæœ‰èƒ½åŠ›å¤„ç†ä»¥æœ€å¤§æœŸæœ›é€Ÿç‡åˆ°è¾¾çš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯å…³æ³¨å³°å€¼ååé‡ï¼Œå³ç³»ç»Ÿè´Ÿè½½æ—¶çš„æ€§èƒ½ä¸Šé™ã€‚ä¸ºäº†æ›´å¥½åœ°ç†è§£å³°å€¼ååé‡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªæµå¤„ç†åº”ç”¨æ²¡æœ‰æ¥æ”¶ä»»ä½•æ•°æ®æ—¶ï¼Œä¹Ÿä¸å ç”¨ç³»ç»Ÿèµ„æºã€‚å½“ç¬¬ä¸€ä¸ªäº‹ä»¶è¿›å…¥æ—¶ï¼Œç³»ç»Ÿä¼šç«‹å³ä»¥å°½å¯èƒ½ä½çš„å»¶è¿Ÿè¿›è¡Œå¤„ç†ï¼Œå°±åƒæ—©æ™¨å’–å•¡åº—å¼€é—¨åçš„ç¬¬ä¸€ä½é¡¾å®¢ç«‹å³äº«å—æœåŠ¡ä¸€æ ·ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å»¶è¿Ÿä¿æŒå¹³ç¨³ï¼Œä¸å—äº‹ä»¶åˆ°è¾¾é€Ÿç‡çš„å½±å“ã€‚ä½†ç°å®ä¸­ï¼Œä¸€æ—¦äº‹ä»¶åˆ°è¾¾é€Ÿç‡è¿‡é«˜ï¼Œä½¿ç³»ç»Ÿæ²¡æœ‰ç©ºé—²èµ„æºï¼Œç³»ç»Ÿå°±ä¼šå¼€å§‹ç¼“å†²äº‹ä»¶ã€‚ä»¥å’–å•¡åº—ä¸ºä¾‹ï¼Œä½ å¾ˆå¯èƒ½åœ¨åˆé¤æ—¶é—´çœ‹åˆ°è¿™ç§æƒ…å†µï¼šçªç„¶æ¶Œå…¥å¤§é‡é¡¾å®¢ï¼Œå¯¼è‡´æ’é˜Ÿç‚¹å•ã€‚æ­¤æ—¶ç³»ç»Ÿçš„ååé‡å·²ç»è¾¾åˆ°æé™ï¼Œæé«˜äº‹ä»¶åˆ°è¾¾é€Ÿç‡åªä¼šä½¿å»¶è¿Ÿæ›´ç³Ÿã€‚å¦‚æœç³»ç»ŸæŒç»­ä»¥è¿‡é«˜é€Ÿç‡æ¥æ”¶æ•°æ®ï¼Œç¼“å†²åŒºå¯èƒ½ä¼šè€—å°½ï¼Œç”šè‡³é€ æˆæ•°æ®ä¸¢å¤±ã€‚è¿™ç§æƒ…å†µé€šå¸¸è¢«ç§°ä¸ºèƒŒå‹ï¼ˆbackpressureï¼‰ï¼Œæˆ‘ä»¬æœ‰å¤šç§ç­–ç•¥æ¥å¤„ç†å®ƒã€‚</p>
<p>å»¶è¿Ÿå’Œååé‡å¹¶ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„æŒ‡æ ‡ã€‚å¦‚æœäº‹ä»¶åœ¨æ•°æ®å¤„ç†ç®¡é“ä¸­ä¼ è¾“æ—¶é—´è¿‡é•¿ï¼Œå¾ˆéš¾ç¡®ä¿é«˜ååé‡ï¼›åŒæ ·ï¼Œå¦‚æœç³»ç»Ÿæ€§èƒ½ä¸è¶³ï¼Œäº‹ä»¶å®¹æ˜“ç§¯å‹ç¼“å†²åŒºï¼Œéœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½å¤„ç†ã€‚æˆ‘ä»¬å†é€šè¿‡å’–å•¡åº—çš„ä¾‹å­æ¥è§£é‡Šå»¶è¿Ÿå’Œååé‡å¦‚ä½•ç›¸äº’å½±å“ã€‚é¦–å…ˆï¼Œéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œåœ¨æ— è´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œå»¶è¿Ÿä¼šè¾¾åˆ°æœ€ä¼˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå’–å•¡åº—åªæœ‰ä½ ä¸€ä¸ªé¡¾å®¢ï¼Œä½ ä¼šå¾—åˆ°æœ€å¿«çš„æœåŠ¡ã€‚ç„¶è€Œï¼Œåœ¨é«˜å³°æ—¶æ®µï¼Œé¡¾å®¢å¿…é¡»æ’é˜Ÿç­‰å€™ï¼Œè¿™å°±å¢åŠ äº†å»¶è¿Ÿã€‚å¦ä¸€ä¸ªå½±å“å»¶è¿Ÿå’Œååé‡çš„å› ç´ æ˜¯å¤„ç†å•ä¸ªäº‹ä»¶çš„æ—¶é—´ï¼Œå³æ¯ä½é¡¾å®¢åœ¨åº—é‡ŒèŠ±è´¹çš„æ—¶é—´ã€‚å‡è®¾ç°åœ¨æ˜¯åœ£è¯å‡æœŸï¼Œå’–å•¡å¸ˆè¦åœ¨æ¯æ¯å’–å•¡ä¸Šç”»åœ£è¯è€äººï¼Œè¿™ä¼šå»¶é•¿åˆ¶ä½œå•æ¯å’–å•¡çš„æ—¶é—´ï¼Œå¯¼è‡´æ¯ä½é¡¾å®¢åœ¨åº—é‡Œçš„æ—¶é—´å¢åŠ ï¼Œæ•´ä½“ååé‡ä¼šé™ä½ã€‚</p>
<p>é‚£ä¹ˆï¼Œèƒ½å¦ä»¥æŸç§æ–¹å¼åŒæ—¶è·å¾—ä½å»¶è¿Ÿå’Œé«˜ååé‡å‘¢ï¼Ÿæˆ–è®¸è¿™å¬èµ·æ¥ä¸åˆ‡å®é™…ï¼Œä½†åœ¨å’–å•¡åº—çš„ä¾‹å­ä¸­ï¼Œä¸ºäº†é™ä½å»¶è¿Ÿï¼Œåº—ä¸»å¯ä»¥é›‡ä½£æ›´ç†Ÿç»ƒçš„å’–å•¡å¸ˆï¼Œä»–ä»¬ä¼šæ›´å¿«åœ°åˆ¶ä½œå’–å•¡ã€‚è¿™æ ·åœ¨é«˜å³°æ—¶æ®µï¼Œåº—é“ºå¯ä»¥æœåŠ¡æ›´å¤šçš„é¡¾å®¢ï¼Œè‡ªç„¶ååé‡ä¹Ÿä¼šæé«˜ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯é›‡ä½£æ›´å¤šçš„å’–å•¡å¸ˆï¼Œåˆ©ç”¨å¹¶è¡ŒåŒ–è§£å†³é—®é¢˜ã€‚å…³é”®åœ¨äºé™ä½å»¶è¿Ÿå®é™…ä¸Šå¯ä»¥æé«˜ååé‡ã€‚äº‹å®ä¸Šï¼Œåœ¨æµå¤„ç†ç®¡é“ä¸­ä½¿ç”¨å¹¶è¡ŒåŒ–å°±æ˜¯è¿™ç§æ•ˆæœã€‚é€šè¿‡å¹¶è¡Œå¤„ç†å¤šä¸ªæ•°æ®æµï¼Œå¯ä»¥é™ä½å»¶è¿ŸåŒæ—¶å¤„ç†æ›´å¤šçš„äº‹ä»¶ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä¸»è¦è®¨è®ºäº†æ‰¹å¤„ç†åº”ç”¨å’Œæµå¼åº”ç”¨åœ¨æ€§èƒ½éœ€æ±‚ä¸Šçš„åŒºåˆ«ï¼Œä»¥åŠå»¶è¿Ÿå’Œååé‡åœ¨æµå¤„ç†ä¸­çš„é‡è¦æ€§ã€‚å»¶è¿Ÿè¡¨ç¤ºå¤„ç†ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„æ—¶é—´ï¼Œè€Œååé‡åˆ™æ˜¯ç³»ç»Ÿæ¯å•ä½æ—¶é—´å†…èƒ½å¤„ç†çš„äº‹ä»¶æ•°é‡ã€‚å¯¹äºæµå¤„ç†åº”ç”¨æ¥è¯´ï¼Œä½å»¶è¿Ÿæ˜¯è‡³å…³é‡è¦çš„ç‰¹æ€§ï¼Œèƒ½å¤Ÿå®ç°å®æ—¶å¤„ç†ã€‚åŒæ—¶ï¼Œé«˜ååé‡ä¹Ÿæ˜¯æµå¤„ç†ç³»ç»Ÿçš„ç›®æ ‡ï¼Œä»£è¡¨ç€ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€‚å»¶è¿Ÿå’Œååé‡æ˜¯ç›¸äº’å½±å“çš„ï¼Œé€šè¿‡é™ä½å»¶è¿Ÿå¯ä»¥æé«˜ååé‡ï¼Œè€Œå¹¶è¡ŒåŒ–æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®æ–¹æ³•ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>æŸ¥çœ‹filebeatç‰ˆæœ¬</title>
    <url>/2023/01/11/how-to-check-filebeat-version/</url>
    <content><![CDATA[<p>å¯¹äº Linux æœåŠ¡å™¨ä¸Šå·²å®‰è£…å¥½çš„ filebeatï¼Œè¯¥å¦‚ä½•æŸ¥çœ‹ filebeat ç‰ˆæœ¬ï¼Ÿ</p>
<hr>
<p>æ‰§è¡Œå‘½ä»¤ <code>filebeat version</code> å³å¯è¾“å‡º filebeat çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œfilebeat çš„ç‰ˆæœ¬å·ä¸º 7.13.4ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ filebeat version</span><br><span class="line">filebeat version 7.13.4 (amd64), libbeat 7.13.4 [1907c246c8b0d23ae4027699c44bf3fbef57f4a4 built 2021-07-14 18:42:41 +0000 UTC] </span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Gsonå¯¹åµŒå¥—ç±»è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</title>
    <url>/2023/08/28/gson-serializing-and-deserializing-nested-classes/</url>
    <content><![CDATA[<p>æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¦‚ä½•ä½¿ç”¨ Gson åºåˆ—åŒ–åµŒå¥—ç±»ï¼ŒåŒ…æ‹¬å†…éƒ¨ç±»ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯åµŒå¥—ç±»ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åµŒå¥—ç±»ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åµŒå¥—ç±»ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åµŒå¥—ç±»ï¼Ÿ</h2><p>åœ¨ Java ä¸­ï¼ŒåµŒå¥—ç±»æ˜¯æŒ‡åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰çš„å¦ä¸€ä¸ªç±»ã€‚åµŒå¥—ç±»å¯ä»¥åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šé™æ€åµŒå¥—ç±»ï¼ˆä¹Ÿç§°ä¸ºé™æ€å†…éƒ¨ç±»ï¼‰å’Œéé™æ€åµŒå¥—ç±»ï¼ˆä¹Ÿç§°ä¸ºæˆå‘˜å†…éƒ¨ç±»ï¼‰ã€‚é™æ€åµŒå¥—ç±»ä¸å¤–éƒ¨ç±»ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„å¼•ç”¨å…³ç³»ï¼Œè€Œéé™æ€åµŒå¥—ç±»åˆ™ä¸å¤–éƒ¨ç±»å®ä¾‹ç›¸å…³è”ã€‚</p>
<h2 id="Gsonåºåˆ—åŒ–åµŒå¥—ç±»çš„åŸºæœ¬ç”¨æ³•"><a href="#Gsonåºåˆ—åŒ–åµŒå¥—ç±»çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="Gsonåºåˆ—åŒ–åµŒå¥—ç±»çš„åŸºæœ¬ç”¨æ³•"></a>Gsonåºåˆ—åŒ–åµŒå¥—ç±»çš„åŸºæœ¬ç”¨æ³•</h2><p>GsonÂ å¯ä»¥å¾ˆå®¹æ˜“åœ°åºåˆ—åŒ–å’Œååºåˆ—åŒ–é™æ€åµŒå¥—ç±»ã€‚</p>
<p>è¦ä½¿ç”¨ Gson åºåˆ—åŒ–åµŒå¥—ç±»ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®ä¿ Gson åº“å·²æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚å¯ä»¥é€šè¿‡ Mavenã€Gradle æˆ–æ‰‹åŠ¨ä¸‹è½½ jar åŒ…çš„æ–¹å¼å¯¼å…¥ Gson åº“ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ Mavenï¼Œåœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Gson åºåˆ—åŒ–å’Œååºåˆ—åŒ–åµŒå¥—ç±»ï¼š</p>
<p><code>OuterClass</code> ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 06:27</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OuterClass</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String outerField;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getOuterField</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> outerField;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setOuterField</span><span class="params">(String outerField)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.outerField = outerField;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StaticNestedClass</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String staticNestedClassField;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getStaticNestedClassField</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> staticNestedClassField;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStaticNestedClassField</span><span class="params">(String staticNestedClassField)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.staticNestedClassField = staticNestedClassField;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InnerClass</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>OuterClassExample</code> ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 06:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OuterClassExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–é™æ€åµŒå¥—ç±»</span></span><br><span class="line">        OuterClass.<span class="type">StaticNestedClass</span> <span class="variable">staticNestedClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OuterClass</span>.StaticNestedClass();</span><br><span class="line">        staticNestedClass.setStaticNestedClassField(<span class="string">&quot;John and Jack&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">json1</span> <span class="operator">=</span> gson.toJson(staticNestedClass);</span><br><span class="line">        System.out.println(json1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–é™æ€åµŒå¥—ç±»</span></span><br><span class="line">        OuterClass.<span class="type">StaticNestedClass</span> <span class="variable">deserializedStaticNestedClass</span> <span class="operator">=</span> gson.fromJson(json1, OuterClass.StaticNestedClass.class);</span><br><span class="line">        System.out.println(deserializedStaticNestedClass.getStaticNestedClassField());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–éé™æ€åµŒå¥—ç±»</span></span><br><span class="line">        OuterClass.<span class="type">InnerClass</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OuterClass</span>().<span class="keyword">new</span> <span class="title class_">InnerClass</span>();</span><br><span class="line">        t.setValue(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">json2</span> <span class="operator">=</span> gson.toJson(t);</span><br><span class="line">        System.out.println(json2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–éé™æ€åµŒå¥—ç±»</span></span><br><span class="line">        OuterClass.<span class="type">InnerClass</span> <span class="variable">deserializedInnerClass</span> <span class="operator">=</span> gson.fromJson(json2, OuterClass.InnerClass.class);</span><br><span class="line">        System.out.println(deserializedInnerClass.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&quot;staticNestedClassField&quot;:&quot;John and Jack&quot;&#125;</span></span><br><span class="line"><span class="comment">John and Jack</span></span><br><span class="line"><span class="comment">&#123;&quot;value&quot;:8080&#125;</span></span><br><span class="line"><span class="comment">8080</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªé™æ€åµŒå¥—ç±» <code>StaticNestedClass</code> å’Œä¸€ä¸ªéé™æ€åµŒå¥—ç±» <code>InnerClass</code>ï¼Œå®ƒä»¬åˆ†åˆ«åŒ…å«äº†ä¸åŒçš„æˆå‘˜å˜é‡ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ Gson åº“å°†è¿™ä¸¤ä¸ªç±»åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶æ‰“å°å‡ºæ¥ã€‚æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨ Gson åº“å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–å›åŸå§‹å¯¹è±¡ï¼Œå¹¶å°†å…¶ä¸­çš„æˆå‘˜å˜é‡å€¼æ‰“å°å‡ºæ¥ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>é€šè¿‡ä½¿ç”¨ Gson åº“ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å°†åµŒå¥—ç±»ï¼ˆåŒ…æ‹¬é™æ€åµŒå¥—ç±»å’Œéé™æ€åµŒå¥—ç±»ï¼‰åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨éœ€è¦æ—¶ååºåˆ—åŒ–å›åŸå§‹å¯¹è±¡ã€‚è¿™ä¸ºæˆ‘ä»¬åœ¨ Java åº”ç”¨ç¨‹åºä¸­å¤„ç†å¤æ‚å¯¹è±¡ç»“æ„æä¾›äº†ä¾¿åˆ©ã€‚</p>
<p>ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿ Gson å¯ä»¥å¤„ç†åµŒå¥—ç±»çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç”±äºå†…éƒ¨ç±»ä¸å¤–éƒ¨ç±»çš„å¼•ç”¨å…³ç³»ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ½œåœ¨çš„é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»”ç»†è€ƒè™‘åµŒå¥—ç±»çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶ç¡®ä¿å®ƒä»¬ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨äº†è§£å¦‚ä½•ä½¿ç”¨ Gson åºåˆ—åŒ–åµŒå¥—ç±»æä¾›äº†ä¸€äº›å¸®åŠ©ã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li>Gsonå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://github.com/google/gson">https://github.com/google/gson</a></li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Gsonè¿›è¡Œæ•°ç»„ã€é›†åˆå’Œæ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <url>/2023/08/27/gson-serializing-and-deserializing-array-set-map/</url>
    <content><![CDATA[<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å°†æ•°æ®è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚åºåˆ—åŒ–æ˜¯å°†å¯¹è±¡è½¬æ¢ä¸ºå¯ä¼ è¾“æˆ–å¯å­˜å‚¨çš„æ ¼å¼ï¼Œè€Œååºåˆ—åŒ–åˆ™æ˜¯å°†åºåˆ—åŒ–åçš„æ•°æ®é‡æ–°è¿˜åŸæˆå¯¹è±¡ã€‚é’ˆå¯¹æ•°ç»„ã€é›†åˆå’Œæ˜ å°„è¿™äº›å¸¸è§çš„æ•°æ®ç»“æ„ï¼ŒGoogle æä¾›äº†ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ Java åº“â€”â€”Gsonã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Gson è¿›è¡Œæ•°ç»„ã€é›†åˆå’Œæ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚</p>
<h2 id="å¼•å…¥Gsonåº“"><a href="#å¼•å…¥Gsonåº“" class="headerlink" title="å¼•å…¥Gsonåº“"></a>å¼•å…¥Gsonåº“</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥ Gson åº“ã€‚å¯ä»¥é€šè¿‡ Maven æˆ– Gradle é…ç½®æ–‡ä»¶æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ï¼š</p>
<p>Maven</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  Gson: Java to JSON conversion --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Gradle</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">&#x27;com.google.code.gson:gson:2.10.1&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>gson</em>Â ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§Â <a href="https://search.maven.org/search?q=g:com.google.code.gson%20AND%20a:gson&core=gav">Maven Central</a>Â ï¼‰ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯Â <em>2.10.1</em>Â ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚</p>
<h2 id="æ•°ç»„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#æ•°ç»„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="æ•°ç»„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>æ•°ç»„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2><p>å¯¹äºæ•°ç»„ï¼ŒGson æä¾›äº†ç®€å•è€Œæ–¹ä¾¿çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 00:05</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraySerializationExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] numbers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(numbers);</span><br><span class="line">        System.out.println(json); <span class="comment">// è¾“å‡ºï¼š[1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">int</span>[] deserializedNumbers = gson.fromJson(json, <span class="type">int</span>[].class);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> number : deserializedNumbers) &#123;</span><br><span class="line">            System.out.print(number + <span class="string">&quot; &quot;</span>); <span class="comment">// è¾“å‡ºï¼š1 2 3 4 5</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[1,2,3,4,5]</span></span><br><span class="line"><span class="comment">1 2 3 4 5</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>Gson è¿˜æ”¯æŒå…·æœ‰ä»»æ„å¤æ‚å…ƒç´ ç±»å‹çš„å¤šç»´æ•°ç»„ï¼Œå¦‚å¯¹äºŒç»´æ•´å‹æ•°ç»„è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 00:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MultiDimensionalArrayExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] numbers = &#123;</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(numbers);</span><br><span class="line">        System.out.println(json); <span class="comment">// è¾“å‡ºï¼š[[1,2,3],[8,9,0]]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">int</span>[][] deserializedNumbers = gson.fromJson(json, <span class="type">int</span>[][].class);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] number : deserializedNumbers) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i : number) &#123;</span><br><span class="line">                System.out.print(i + <span class="string">&quot; &quot;</span>); <span class="comment">// è¾“å‡ºï¼š1 2 3 8 9 0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[[1,2,3],[8,9,0]]</span></span><br><span class="line"><span class="comment">1 2 3 8 9 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="é›†åˆçš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#é›†åˆçš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="é›†åˆçš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>é›†åˆçš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2><p>å¯¹äºé›†åˆï¼ŒGson åŒæ ·æä¾›äº†ä¾¿æ·çš„æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 00:08</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionSerializationExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        names.add(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line">        names.add(<span class="string">&quot;Bob&quot;</span>);</span><br><span class="line">        names.add(<span class="string">&quot;Johnson&quot;</span>);</span><br><span class="line">        names.add(<span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(names);</span><br><span class="line">        System.out.println(json); <span class="comment">// è¾“å‡ºï¼š[&quot;Alice&quot;,&quot;Bob&quot;,&quot;Johnson&quot;,&quot;Charlie&quot;]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        List&lt;String&gt; deserializedNames = gson.fromJson(json, List.class);</span><br><span class="line">        <span class="keyword">for</span> (String name : deserializedNames) &#123;</span><br><span class="line">            System.out.print(name + <span class="string">&quot; &quot;</span>); <span class="comment">// è¾“å‡ºï¼šAlice Bob Johnson Charlie</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">[&quot;Alice&quot;,&quot;Bob&quot;,&quot;Johnson&quot;,&quot;Charlie&quot;]</span></span><br><span class="line"><span class="comment">Alice Bob Johnson Charlie</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>é›†åˆé™åˆ¶ï¼šGson å¯ä»¥å°†ä»»æ„ç±»å‹çš„å¯¹è±¡é›†åˆè¿›è¡Œåºåˆ—åŒ–ï¼Œä½†æ— æ³•ä»ä¸­è¿›è¡Œååºåˆ—åŒ–ï¼Œå› ä¸ºç”¨æˆ·æ— æ³•æŒ‡å‡ºç”Ÿæˆå¯¹è±¡çš„ç±»å‹ã€‚ç›¸åï¼Œåœ¨ååºåˆ—åŒ–æ—¶ï¼Œé›†åˆå¿…é¡»æ˜¯ç‰¹å®šçš„é€šç”¨ç±»å‹ã€‚è¿™æ˜¯æœ‰é“ç†çš„ï¼Œåªè¦éµå¾ªè‰¯å¥½çš„ Java ç¼–ç å®è·µï¼Œå°±å¾ˆå°‘ä¼šå‡ºç°é—®é¢˜ã€‚</p>
</blockquote>
<h2 id="æ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#æ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="æ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>æ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGson å°†ä»»ä½• <code>java.util.Map</code> å®ç°ï¼ˆå¦‚ <code>HashMap</code>ã€<code>LinkedHashMap</code> ç­‰ï¼‰åºåˆ—åŒ–ä¸º JSON å¯¹è±¡ã€‚ç”±äº JSON å¯¹è±¡ä»…æ”¯æŒå­—ç¬¦ä¸²ä½œä¸ºæˆå‘˜åç§°ï¼Œå› æ­¤ Gson é€šè¿‡è°ƒç”¨ <code>toString()</code> å°† Map é”®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å¯¹ <code>null</code> é”®ä½¿ç”¨ <code>&quot;null&quot;</code>ã€‚</p>
<p>å¯¹äºååºåˆ—åŒ–ï¼ŒGson ä½¿ç”¨æ³¨å†Œä¸º Map é”®ç±»å‹çš„ <code>TypeAdapter</code> çš„ <code>read</code> æ–¹æ³•ã€‚ä¸ºäº†è¿›è¡Œååºåˆ—åŒ–ï¼Œå¿…é¡»ä½¿ç”¨ <code>TypeToken</code> æ¥å‘Šè¯‰ Gson Map é”®å’Œå€¼çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹åŒ…å« <code>null</code> é”®çš„ Map è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.reflect.TypeToken;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 01:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapSerializationExample02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"></span><br><span class="line">        Map&lt;String, String&gt; stringMap = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">        stringMap.put(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">        stringMap.put(<span class="literal">null</span>, <span class="string">&quot;null-entry&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, Integer&gt; intMap = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">        intMap.put(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        intMap.put(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">json1</span> <span class="operator">=</span> gson.toJson(stringMap);</span><br><span class="line">        System.out.println(json1); <span class="comment">// è¾“å‡ºï¼š&#123;&quot;key&quot;:&quot;value&quot;,&quot;null&quot;:&quot;null-entry&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">json2</span> <span class="operator">=</span> gson.toJson(intMap);</span><br><span class="line">        System.out.println(json2); <span class="comment">// è¾“å‡ºï¼š&#123;&quot;1&quot;:1,&quot;3&quot;:3&#125;</span></span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        TypeToken&lt;Map&lt;String, String&gt;&gt; strMapType = <span class="keyword">new</span> <span class="title class_">TypeToken</span>&lt;Map&lt;String, String&gt;&gt;()&#123;&#125;;</span><br><span class="line">        Map&lt;String, String&gt; deserializedString = gson.fromJson(json1, strMapType);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : deserializedString.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line">        <span class="comment">// key: value</span></span><br><span class="line">        <span class="comment">// null: null-entry</span></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        TypeToken&lt;Map&lt;Integer, Integer&gt;&gt; intMapType = <span class="keyword">new</span> <span class="title class_">TypeToken</span>&lt;Map&lt;Integer, Integer&gt;&gt;()&#123;&#125;;</span><br><span class="line">        Map&lt;Integer, Integer&gt; deserializedInteger = gson.fromJson(json2, intMapType);</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : deserializedInteger.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line">        <span class="comment">// 1: 1</span></span><br><span class="line">        <span class="comment">// 3: 3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&quot;key&quot;:&quot;value&quot;,&quot;null&quot;:&quot;null-entry&quot;&#125;</span></span><br><span class="line"><span class="comment">&#123;&quot;1&quot;:1,&quot;3&quot;:3&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">key: value</span></span><br><span class="line"><span class="comment">null: null-entry</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1: 1</span></span><br><span class="line"><span class="comment">3: 3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯·æ³¨æ„ï¼šä¸Šè¿°ç¤ºä¾‹ä»£ç ä¸­ï¼Œåœ¨ååºåˆ—åŒ–æ—¶æˆ‘ä»¬æ˜¯å¦‚ä½•å®šä¹‰æ˜ å°„ç±»å‹çš„ã€‚ä»£ç çœ‹èµ·æ¥ç›¸å½“ä¸‘é™‹ï¼Œä½†é—æ†¾çš„æ˜¯ï¼Œåœ¨ Java ä¸­æ— æ³•ç»•è¿‡è¿™ä¸€ç‚¹ã€‚</p>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨ Gson å°† <code>Map&lt;String, Integer&gt;</code> è½¬æ¢æˆ JSON å­—ç¬¦ä¸²ï¼Œç„¶åå†ååºåˆ—åŒ–æˆç›¸åº”çš„æ˜ å°„å¯¹è±¡çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.reflect.TypeToken;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 00:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapSerializationExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;String, Integer&gt; scores = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        scores.put(<span class="string">&quot;Alice&quot;</span>, <span class="number">90</span>);</span><br><span class="line">        scores.put(<span class="string">&quot;Bob&quot;</span>, <span class="number">80</span>);</span><br><span class="line">        scores.put(<span class="string">&quot;Johnson&quot;</span>, <span class="number">99</span>);</span><br><span class="line">        scores.put(<span class="string">&quot;Charlie&quot;</span>, <span class="number">95</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(scores);</span><br><span class="line">        System.out.println(json); <span class="comment">// è¾“å‡ºï¼š&#123;&quot;Johnson&quot;:99,&quot;Bob&quot;:80,&quot;Alice&quot;:90,&quot;Charlie&quot;:95&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">        Map&lt;String, Integer&gt; deserializedScores = gson.fromJson(json, <span class="keyword">new</span> <span class="title class_">TypeToken</span>&lt;Map&lt;String, Integer&gt;&gt;()&#123;&#125;);</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : deserializedScores.entrySet()) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¾“å‡ºï¼š</span></span><br><span class="line">        <span class="comment">// Johnson: 99</span></span><br><span class="line">        <span class="comment">// Bob: 80</span></span><br><span class="line">        <span class="comment">// Alice: 90</span></span><br><span class="line">        <span class="comment">// Charlie: 95</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;&quot;Johnson&quot;:99,&quot;Bob&quot;:80,&quot;Alice&quot;:90,&quot;Charlie&quot;:95&#125;</span></span><br><span class="line"><span class="comment">Johnson: 99</span></span><br><span class="line"><span class="comment">Bob: 80</span></span><br><span class="line"><span class="comment">Alice: 90</span></span><br><span class="line"><span class="comment">Charlie: 95</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Gson åº“å¯¹æ•°ç»„ã€é›†åˆå’Œæ˜ å°„è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚é€šè¿‡ Gson æä¾›çš„ç®€å•è€Œå¼ºå¤§çš„ APIï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†è¿™äº›å¸¸è§çš„æ•°æ®ç»“æ„è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ–¹ä¾¿åœ°å°† JSON å­—ç¬¦ä¸²è¿˜åŸæˆåŸå§‹çš„æ•°æ®ç»“æ„ã€‚ä½¿ç”¨ Gson åº“ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ é«˜æ•ˆåœ°å¤„ç†å’Œä¼ è¾“æ•°æ®ï¼Œä¸ºæˆ‘ä»¬å¤„ç†å¤æ‚çš„æ•°æ®ç»“æ„æä¾›äº†å¾ˆå¤§çš„çµæ´»æ€§å’Œä¾¿åˆ©æ€§ï¼Œåœ¨ Java å¼€å‘ä¸­èµ·åˆ°äº†å¾ˆå¤§çš„ä½œç”¨ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥è§£æGsonï¼šä¸€ä¸ªå¼ºå¤§çš„Java JSONåº“</title>
    <url>/2023/09/03/gson-overview/</url>
    <content><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨ç°ä»£çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œå¤„ç† JSON æ•°æ®æ˜¯éå¸¸å¸¸è§çš„ä»»åŠ¡ã€‚è€Œä¸ºäº†ç®€åŒ– JSON æ•°æ®çš„è§£æå’Œç”Ÿæˆè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ Java åº“â€”â€”Gsonã€‚ä½œä¸ºä¸€ä¸ªéå¸¸æµè¡Œçš„å¼€æº Java åº“ï¼Œå®ƒçš„ä¸»è¦ç”¨é€”æ˜¯å°† Java å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œæˆ–è€…å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º Java å¯¹è±¡ã€‚å®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„ APIï¼Œä½¿å¾—å¤„ç† JSON æ•°æ®å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚æœ¬ç¯‡åšæ–‡å°†è¯¦ç»†ä»‹ç» Gson åº“çš„ç‰¹æ€§å’Œä½¿ç”¨æ–¹æ³•ï¼Œå¹¶é€šè¿‡ç¤ºä¾‹ä»£ç å±•ç¤ºå…¶åœ¨å®é™…åœºæ™¯ä¸­çš„åº”ç”¨ã€‚</p>
<blockquote>
<p>Gson ç»å†äº†å¤šä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼Œç›®å‰å·²ç»æˆç†Ÿè€Œç¨³å®šï¼Œå¤„äºç»´æŠ¤æ¨¡å¼ã€‚è¿™æ„å‘³ç€å®ƒä¼šç»§ç»­ä¿®å¤ç°æœ‰çš„é”™è¯¯ï¼Œä½†å¯èƒ½ä¸ä¼šæ·»åŠ å¤§å‹çš„æ–°åŠŸèƒ½ã€‚</p>
</blockquote>
<h2 id="Gsonçš„ç‰¹æ€§"><a href="#Gsonçš„ç‰¹æ€§" class="headerlink" title="Gsonçš„ç‰¹æ€§"></a>Gsonçš„ç‰¹æ€§</h2><ol>
<li>ç®€å•æ˜“ç”¨ï¼šGson æä¾›äº†ç®€æ´çš„ APIï¼Œä½¿å¾—å°† Java å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æˆ–å°† JSON ååºåˆ—åŒ–ä¸º Java å¯¹è±¡å˜å¾—éå¸¸ç®€å•ã€‚</li>
<li>é«˜åº¦çµæ´»ï¼šGson æ”¯æŒè‡ªå®šä¹‰åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è§„åˆ™ï¼Œå¯ä»¥æ»¡è¶³å„ç§å¤æ‚çš„æ•°æ®ç»“æ„å’Œä¸šåŠ¡éœ€æ±‚ï¼ˆå…·æœ‰æ·±åº¦ç»§æ‰¿å±‚æ¬¡ç»“æ„å¹¶å¹¿æ³›ä½¿ç”¨æ³›å‹ç±»å‹ï¼‰ã€‚</li>
<li>é…ç½®çµæ´»ï¼šé€šè¿‡è®¾ç½®ä¸åŒçš„é…ç½®é€‰é¡¹ï¼Œå¦‚æ—¥æœŸæ ¼å¼ã€å­—æ®µæ’é™¤ç­–ç•¥ç­‰ï¼Œå¯ä»¥çµæ´»åœ°æ§åˆ¶ Gson çš„è¡Œä¸ºã€‚</li>
<li>å®Œå–„çš„å¼‚å¸¸å¤„ç†ï¼šå½“é‡åˆ°æ— æ³•åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–çš„æƒ…å†µæ—¶ï¼ŒGson ä¼šæŠ›å‡ºæ˜ç¡®çš„å¼‚å¸¸ä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘è€…è¿›è¡Œé”™è¯¯å¤„ç†ã€‚</li>
<li>å…è®¸å·²å­˜åœ¨çš„ä¸å¯ä¿®æ”¹å¯¹è±¡ä¸ JSON ç›¸äº’è½¬æ¢ï¼›  </li>
<li>å¹¿æ³›æ”¯æŒ Java æ³›å‹ã€‚  </li>
</ol>
<h2 id="Gsonçš„ä½¿ç”¨æ–¹æ³•"><a href="#Gsonçš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="Gsonçš„ä½¿ç”¨æ–¹æ³•"></a>Gsonçš„ä½¿ç”¨æ–¹æ³•</h2><ol>
<li> å¯¼å…¥ Gson åº“ï¼šåœ¨é¡¹ç›®ä¸­æ·»åŠ  Gson åº“çš„ä¾èµ–ï¼Œå¯ä»¥é€šè¿‡ Maven æˆ– Gradle ç­‰æ„å»ºå·¥å…·è¿›è¡Œå¯¼å…¥ã€‚</li>
</ol>
<p>Mavenï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> <em>gson</em> ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§ <a href="https://search.maven.org/search?q=g:com.google.code.gson%20AND%20a:gson&core=gav">Maven Central</a> ï¼‰ã€‚</p>
<ol start="2">
<li> åºåˆ—åŒ–ï¼š<br>ï¼ˆ1ï¼‰å°† Java å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼š <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(object);</span><br></pre></td></tr></table></figure></li>
</ol>
<p>è¿™é‡Œçš„<code>object</code>æ˜¯è¦è½¬æ¢çš„ Java å¯¹è±¡ã€‚<br>      ï¼ˆ2ï¼‰ä½¿ç”¨ Gson çš„é…ç½®é€‰é¡¹ï¼š </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>()</span><br><span class="line">                .setDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                .excludeFieldsWithoutExposeAnnotation()</span><br><span class="line">                .create();</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡<code>GsonBuilder</code>å¯ä»¥è®¾ç½®ä¸åŒçš„é…ç½®é€‰é¡¹ï¼Œä¾‹å¦‚æ—¥æœŸæ ¼å¼åŒ–ã€å­—æ®µæ’é™¤ç­–ç•¥ç­‰ã€‚ </p>
<ol start="3">
<li> ååºåˆ—åŒ–ï¼š<br>ï¼ˆ1ï¼‰å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º Java å¯¹è±¡ï¼š <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"><span class="type">MyClass</span> <span class="variable">object</span> <span class="operator">=</span> gson.fromJson(json, MyClass.class);</span><br></pre></td></tr></table></figure></li>
</ol>
<p>è¿™é‡Œçš„<code>MyClass</code>æ˜¯ç›®æ ‡ Java å¯¹è±¡çš„ç±»ã€‚<br>ï¼ˆ2ï¼‰å¤„ç†å¤æ‚æ•°æ®ç»“æ„ï¼š<br>Gson å¯ä»¥æ­£ç¡®åœ°è§£æåŒ…å«åµŒå¥—å¯¹è±¡ã€é›†åˆã€æ³›å‹ç­‰å¤æ‚æ•°æ®ç»“æ„çš„ JSON æ•°æ®ã€‚ </p>
<h2 id="Gsonç”¨æˆ·"><a href="#Gsonç”¨æˆ·" class="headerlink" title="Gsonç”¨æˆ·"></a>Gsonç”¨æˆ·</h2><p>Gson æœ€åˆæ˜¯ä¸ºè°·æ­Œå†…éƒ¨ä½¿ç”¨è€Œåˆ›å»ºçš„ï¼Œå¹¶ä¸”ç›®å‰åœ¨è°·æ­Œçš„å¤šä¸ªé¡¹ç›®ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ç”±äºå…¶å‡ºè‰²çš„åŠŸèƒ½å’Œæ˜“ç”¨æ€§ï¼Œè®¸å¤šå…¬å…±é¡¹ç›®å’Œå…¬å¸ä¹Ÿé€‰æ‹©åœ¨å®ƒä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨ Gsonã€‚å®ƒå·²ç»æˆä¸º Java å¼€å‘ç¤¾åŒºä¸­æœ€å—æ¬¢è¿å’Œå¹¿æ³›é‡‡ç”¨çš„ JSON å¤„ç†åº“ä¹‹ä¸€ã€‚Gson æä¾›äº†ç®€å•è€Œå¼ºå¤§çš„ APIï¼Œèƒ½å¤Ÿè½»æ¾åœ°å°† Java å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼ï¼Œå¹¶æ”¯æŒåå‘æ“ä½œã€‚åŒæ—¶ï¼Œå®ƒè¿˜å…·å¤‡å¤„ç†å¤æ‚å¯¹è±¡ç»“æ„ã€æ”¯æŒæ³›å‹å’Œè‡ªå®šä¹‰å¯¹è±¡è¡¨ç¤ºç­‰é«˜çº§åŠŸèƒ½ã€‚è¿™äº›ç‰¹ç‚¹ä½¿å¾— Gson æˆä¸ºè®¸å¤šå¼€å‘è€…é¦–é€‰çš„ JSON å¤„ç†å·¥å…·ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ Gson æœ€åˆæ˜¯ç”±è°·æ­Œå¼€å‘å’Œä½¿ç”¨çš„ï¼Œä½†ç›®å‰ç”±ä¸€ä¸ªå¼€æºç¤¾åŒºç»´æŠ¤å’Œæ”¯æŒï¼Œå¹¶éè°·æ­Œå®˜æ–¹æ”¯æŒçš„äº§å“ã€‚</p>
<h2 id="Gsonæ€§èƒ½"><a href="#Gsonæ€§èƒ½" class="headerlink" title="Gsonæ€§èƒ½"></a>Gsonæ€§èƒ½</h2><p>ä»¥ä¸‹æ˜¯åœ¨é…å¤‡åŒ Opteron å¤„ç†å™¨ã€8GB å†…å­˜å’Œ 64 ä½ Ubuntu æ“ä½œç³»ç»Ÿçš„å°å¼æœºä¸Šè¿›è¡Œçš„ä¸€äº›æµ‹è¯•ï¼Œå¹¶å¾—åˆ°äº†å¦‚ä¸‹ç»“æœã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Gson æºç ä¸­çš„ <code>PerformanceTest</code> ç±»é‡æ–°è¿è¡Œè¿™äº›æµ‹è¯•ã€‚</p>
<ul>
<li>å­—ç¬¦ä¸²ï¼šååºåˆ—åŒ–è¶…è¿‡ 25MB çš„å­—ç¬¦ä¸²æ—¶æ²¡æœ‰å‡ºç°ä»»ä½•é—®é¢˜ï¼ˆè¯·å‚é˜… <code>PerformanceTest</code> ä¸­çš„ <code>disabled_testStringDeserializationPerformance</code> æ–¹æ³•ï¼‰ã€‚</li>
<li>å¤§å‹é›†åˆï¼š <ul>
<li>åºåˆ—åŒ–ä¸€ä¸ªåŒ…å« 140 ä¸‡ä¸ªå¯¹è±¡çš„é›†åˆï¼ˆè¯·å‚é˜… <code>PerformanceTest</code> ä¸­çš„ <code>disabled_testLargeCollectionSerialization</code> æ–¹æ³•ï¼‰ã€‚</li>
<li>ååºåˆ—åŒ–ä¸€ä¸ªåŒ…å« 87,000 ä¸ªå¯¹è±¡çš„é›†åˆï¼ˆè¯·å‚é˜… <code>PerformanceTest</code> ä¸­çš„<code>disabled_testLargeCollectionDeserialization</code> æ–¹æ³•ï¼‰ã€‚</li>
</ul>
</li>
<li>Gson 1.4 å°†å­—èŠ‚æ•°ç»„å’Œé›†åˆçš„ååºåˆ—åŒ–é™åˆ¶ä» 80KB æé«˜åˆ° 11MB ä»¥ä¸Šã€‚</li>
</ul>
<p>æ³¨æ„ï¼šè¦è¿è¡Œè¿™äº›æµ‹è¯•ï¼Œè¯·åˆ é™¤ <code>disabled_</code> å‰ç¼€ã€‚æˆ‘ä»¬ä½¿ç”¨è¯¥å‰ç¼€æ˜¯ä¸ºäº†é˜²æ­¢æ¯æ¬¡è¿è¡Œ JUnit æµ‹è¯•æ—¶éƒ½è¿è¡Œè¿™äº›æµ‹è¯•ã€‚</p>
<h2 id="Gsonå¼€æºè®¸å¯è¯"><a href="#Gsonå¼€æºè®¸å¯è¯" class="headerlink" title="Gsonå¼€æºè®¸å¯è¯"></a>Gsonå¼€æºè®¸å¯è¯</h2><p>Gson æ ¹æ® Apache 2.0 è®¸å¯è¯å‘å¸ƒã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Copyright 2008 Google Inc.</span><br><span class="line"></span><br><span class="line">Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="line">you may not use this file except in compliance with the License.</span><br><span class="line">You may obtain a copy of the License at</span><br><span class="line"></span><br><span class="line">http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line"></span><br><span class="line">Unless required by applicable law or agreed to in writing, software</span><br><span class="line">distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line">See the License for the specific language governing permissions and</span><br><span class="line">limitations under the License.</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹åº”ç”¨"><a href="#ç¤ºä¾‹åº”ç”¨" class="headerlink" title="ç¤ºä¾‹åº”ç”¨"></a>ç¤ºä¾‹åº”ç”¨</h2><p>ç°åœ¨æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥ä»‹ç» Gson åœ¨å®é™…åœºæ™¯ä¸­çš„åº”ç”¨ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Person ç±»ï¼ŒåŒ…å«å§“åå’Œå¹´é¾„ä¸¤ä¸ªå­—æ®µã€‚æˆ‘ä»¬å¸Œæœ›å°† Person å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Johnson&quot;</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(person);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ï¼š&#123;&quot;name&quot;:&quot;Johnson&quot;,&quot;age&quot;:25&#125;</span></span><br><span class="line">        System.out.println(json);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†JSONå­—ç¬¦ä¸²ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;person.json&quot;</span>)) &#123;</span><br><span class="line">            writer.write(json);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å°† Person å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°åä¸º person.json çš„æ–‡ä»¶ä¸­ã€‚</p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>Gson ä½œä¸ºä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„ Java JSON åº“ï¼Œæå¤§åœ°ç®€åŒ–äº†å¤„ç† JSON æ•°æ®çš„è¿‡ç¨‹ã€‚æœ¬æ–‡ä»‹ç»äº† Gson çš„ç‰¹æ€§ã€ä½¿ç”¨æ–¹æ³•ä»¥åŠç¤ºä¾‹åº”ç”¨ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ Gson åº“ã€‚æ— è®ºæ˜¯åœ¨ Web å¼€å‘ã€ç§»åŠ¨åº”ç”¨è¿˜æ˜¯å…¶ä»–é¢†åŸŸï¼ŒGson éƒ½æ˜¯å¤„ç† JSON æ•°æ®çš„ç»ä½³é€‰æ‹©ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åˆ†æçš„çŸ¥è¯†ä½“ç³»</title>
    <url>/2023/09/05/data-analysis-knowledge-map/</url>
    <content><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>æ•°æ®åˆ†æä½œä¸ºä¸€ç§å°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºæœ‰ä»·å€¼ä¿¡æ¯çš„è¿‡ç¨‹ï¼Œåœ¨å½“ä»Šæ•°æ®é©±åŠ¨çš„ç¤¾ä¼šä¸­å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚æœ¬æ–‡å°†ä»æ•°æ®é‡‡é›†ã€æ•°æ®æŒ–æ˜å’Œæ•°æ®å¯è§†åŒ–ä¸‰ä¸ªç¯èŠ‚ï¼Œä»‹ç»æ•°æ®åˆ†ææ‰€æ¶‰åŠçš„ä¸»è¦çŸ¥è¯†ç‚¹ï¼Œä»¥å¸®åŠ©è¯»è€…å…¨é¢äº†è§£æ•°æ®åˆ†æçš„çŸ¥è¯†ä½“ç³»ã€‚</p>
<h2 id="ä¸€ã€æ•°æ®é‡‡é›†"><a href="#ä¸€ã€æ•°æ®é‡‡é›†" class="headerlink" title="ä¸€ã€æ•°æ®é‡‡é›†"></a>ä¸€ã€æ•°æ®é‡‡é›†</h2><p>æ•°æ®é‡‡é›†æ˜¯æ•°æ®åˆ†æçš„ç¬¬ä¸€æ­¥ï¼Œå†³å®šäº†åç»­åˆ†æçš„è´¨é‡å’Œå‡†ç¡®æ€§ã€‚åœ¨æ•°æ®é‡‡é›†é˜¶æ®µï¼Œéœ€è¦å…³æ³¨ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>æ•°æ®æ¥æºï¼šäº†è§£æ•°æ®çš„æ¥æºæ¸ é“ï¼Œå¦‚æ•°æ®åº“ã€æ–‡ä»¶ã€ä¼ æ„Ÿå™¨ç­‰ï¼Œä»¥ä¾¿è¿›è¡Œç›¸åº”çš„æ•°æ®è·å–æ–¹æ³•é€‰æ‹©ã€‚ </li>
<li>æ•°æ®è·å–ï¼šé€‰æ‹©é€‚å½“çš„æ•°æ®è·å–æ–¹æ³•ï¼Œå¦‚ API æ¥å£ã€ç½‘é¡µçˆ¬è™«ç­‰ï¼Œç¡®ä¿èƒ½å¤Ÿé«˜æ•ˆã€å‡†ç¡®åœ°è·å–åˆ°æ‰€éœ€æ•°æ®ã€‚ å­¦ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å¦‚å…«çˆªé±¼ã€ç«è½¦é‡‡é›†å™¨ã€æœé›†å®¢é‡‡é›†æ•°æ®ï¼Œæœ€å¥½èƒ½ç¼–å†™ Pythonï¼ˆScrapyã€Seleniumã€PhantomJSã€lxmlï¼‰çˆ¬è™«ã€‚ </li>
<li>æ•°æ®å­˜å‚¨ï¼šé€‰æ‹©åˆé€‚çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œå¦‚å…³ç³»å‹æ•°æ®åº“ã€éå…³ç³»å‹æ•°æ®åº“ã€äº‘å­˜å‚¨ã€åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿç­‰ï¼Œä»¥æ–¹ä¾¿åç»­çš„æ•°æ®æŒ–æ˜å’Œåˆ†æã€‚ </li>
</ol>
<h2 id="äºŒã€æ•°æ®æŒ–æ˜"><a href="#äºŒã€æ•°æ®æŒ–æ˜" class="headerlink" title="äºŒã€æ•°æ®æŒ–æ˜"></a>äºŒã€æ•°æ®æŒ–æ˜</h2><p>æ•°æ®æŒ–æ˜æ˜¯åˆ©ç”¨ç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ ç®—æ³•ä»å¤§é‡æ•°æ®ä¸­æå–æ¨¡å¼ã€å…³ç³»å’Œè§„å¾‹çš„è¿‡ç¨‹ã€‚è¯¥è¿‡ç¨‹åŒ…å«ä»¥ä¸‹å…­ä¸ªæ­¥éª¤ï¼šå•†ä¸šç†è§£ã€æ•°æ®ç†è§£ã€æ•°æ®å‡†å¤‡ã€æ¨¡å‹å»ºç«‹ã€æ¨¡å‹è¯„ä¼°å’Œä¸Šçº¿å‘å¸ƒã€‚</p>
<p>å•†ä¸šç†è§£æ˜¯é¦–è¦æ­¥éª¤ï¼Œæˆ‘ä»¬éœ€è¦ä»å•†ä¸šè§’åº¦ç†è§£é¡¹ç›®éœ€æ±‚ï¼Œå¹¶æ®æ­¤å®šä¹‰æ•°æ®æŒ–æ˜çš„ç›®æ ‡ã€‚æ•°æ®æŒ–æ˜å¹¶éç»ˆæç›®çš„ï¼Œè€Œæ˜¯ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©ä¸šåŠ¡å‘å±•ã€‚</p>
<p>æ•°æ®ç†è§£é˜¶æ®µæ¶‰åŠæ”¶é›†éƒ¨åˆ†æ•°æ®è¿›è¡Œæ¢ç´¢æ€§åˆ†æï¼ŒåŒ…æ‹¬æ•°æ®æè¿°å’Œæ•°æ®è´¨é‡éªŒè¯ï¼Œä»¥åˆæ­¥äº†è§£æ•°æ®çš„ç‰¹ç‚¹ã€‚</p>
<p>æ•°æ®å‡†å¤‡æ˜¯ä¸ºæ•°æ®æŒ–æ˜åšå¥½å‰æœŸå‡†å¤‡å·¥ä½œï¼ŒåŒ…æ‹¬æ•°æ®æ”¶é›†ã€æ¸…æ´—å’Œé›†æˆç­‰æ“ä½œï¼Œç¡®ä¿æ•°æ®çš„è´¨é‡å’Œä¸€è‡´æ€§ã€‚</p>
<p>æ¨¡å‹å»ºç«‹é˜¶æ®µé€‰æ‹©ä¸åŒçš„æ•°æ®æŒ–æ˜æ¨¡å‹ï¼Œè®­ç»ƒå’Œä¼˜åŒ–æ¨¡å‹ï¼Œä»¥ä¾¿å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚</p>
<p>æ¨¡å‹è¯„ä¼°é˜¶æ®µå¯¹æ¨¡å‹è¿›è¡Œè¯„ä»·ï¼Œæ£€æŸ¥æ¯ä¸ªæ„å»ºæ¨¡å‹çš„æ­¥éª¤ï¼Œå¹¶ç¡®è®¤æ¨¡å‹æ˜¯å¦å®ç°äº†é¢„å®šçš„å•†ä¸šç›®æ ‡ã€‚</p>
<p>ä¸Šçº¿å‘å¸ƒé˜¶æ®µå°†æ•°æ®æŒ–æ˜çš„ç»“æœè½¬åŒ–ä¸ºå¯ä½¿ç”¨çš„çŸ¥è¯†ï¼Œå¹¶ä»¥é€‚å½“çš„å½¢å¼å‘ˆç°ç»™ç”¨æˆ·ï¼Œå¯èƒ½æ˜¯æŠ¥å‘Šå½¢å¼æˆ–è€…æ˜¯ç³»ç»Ÿçš„å½¢å¼ã€‚å¹¶åœ¨æ•°æ®æŒ–æ˜æˆæœæŠ•å…¥ä½¿ç”¨åï¼ˆæ•°æ®æŒ–æ˜ç»“æœä¸ºæ—¥å¸¸è¿è¥çš„ä¸€éƒ¨åˆ†ï¼‰ï¼ŒæŒç»­ç›‘æ§å’Œç»´æŠ¤ã€‚</p>
<p>åœ¨æ•°æ®æŒ–æ˜é˜¶æ®µï¼Œéœ€è¦æŒæ¡ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>æ•°æ®é¢„å¤„ç†ï¼šå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—ã€å˜æ¢ã€æ ‡å‡†åŒ–ç­‰é¢„å¤„ç†æ“ä½œï¼ŒåŒ…æ‹¬å¤„ç†ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼ã€é‡å¤å€¼ç­‰é—®é¢˜ï¼Œé€šè¿‡å¡«å……ã€å‰”é™¤æˆ–æ›¿æ¢ç­‰æ‰‹æ®µï¼Œç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ï¼Œä»¥æé«˜æ•°æ®è´¨é‡å’Œæ¨¡å‹æ•ˆæœã€‚ </li>
<li>ç‰¹å¾é€‰æ‹©ï¼šä»ä¼—å¤šç‰¹å¾ä¸­é€‰å–æœ€ç›¸å…³çš„ç‰¹å¾ï¼Œé™ä½ç»´åº¦å¹¶æé«˜æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚ </li>
<li>æ¨¡å‹å»ºç«‹ï¼šé€‰æ‹©é€‚å½“çš„ç®—æ³•ï¼Œç”¨äºæ¨¡å‹çš„æ„å»ºå’Œè®­ç»ƒã€‚ å¸¸ç”¨çš„ç®—æ³•å¦‚ä¸‹ï¼š<ol>
<li><em>åˆ†ç±»ç®—æ³•ï¼šC4.5ï¼Œæœ´ç´ è´å¶æ–¯ï¼ˆNaive Bayesï¼‰ï¼ŒSVMï¼ŒKNNï¼ŒAdaboostï¼ŒCARTã€‚</em></li>
<li><em>èšç±»ç®—æ³•ï¼šK-Meansï¼ŒEMã€‚</em></li>
<li><em>å…³è”åˆ†æï¼šAprioriã€‚</em></li>
<li><em>è¿æ¥åˆ†æï¼šPageRankã€‚</em></li>
</ol>
</li>
<li>æ¨¡å‹è¯„ä¼°ï¼šé€šè¿‡äº¤å‰éªŒè¯ã€æ··æ·†çŸ©é˜µç­‰æ–¹æ³•è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½å’Œå‡†ç¡®åº¦ï¼Œä¼˜åŒ–å‚æ•°ä»¥æé«˜æ¨¡å‹çš„è¡¨ç°ã€‚ </li>
</ol>
<p>å¦‚æœæƒ³æ›´æ·±å…¥åœ°ç†è§£æ•°æ®æŒ–æ˜æ–¹æ³•èƒŒåçš„åŸç†ï¼Œäº†è§£å‡ é—¨æ•°å­¦çŸ¥è¯†æ˜¯éå¸¸å¿…è¦çš„ï¼ŒåŒ…æ‹¬<strong>æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€çº¿æ€§ä»£æ•°ã€å›¾è®ºä»¥åŠæœ€ä¼˜åŒ–æ–¹æ³•</strong>ç­‰ã€‚è¿™äº›æ•°å­¦çŸ¥è¯†æ„æˆäº†æ•°æ®æŒ–æ˜æ–¹æ³•çš„ç†è®ºåŸºç¡€ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ·±åˆ»ç†è§£å„ç§æ•°æ®æŒ–æ˜ç®—æ³•çš„å·¥ä½œåŸç†åŠå…¶é€‚ç”¨æ¡ä»¶å’Œå±€é™æ€§ï¼Œå¹¶æœ‰åŠ©äºè®¾è®¡æ›´ä¼˜åŒ–çš„æ•°æ®æŒ–æ˜æ–¹æ¡ˆã€‚å……åˆ†æŒæ¡è¿™äº›å…³é”®æ•°å­¦çŸ¥è¯†ï¼Œå°†å¤§å¤§æé«˜æˆ‘ä»¬è¿ç”¨æ•°æ®æŒ–æ˜æŠ€æœ¯è§£å†³å®é™…é—®é¢˜çš„èƒ½åŠ›ã€‚</p>
<h2 id="ä¸‰ã€æ•°æ®å¯è§†åŒ–"><a href="#ä¸‰ã€æ•°æ®å¯è§†åŒ–" class="headerlink" title="ä¸‰ã€æ•°æ®å¯è§†åŒ–"></a>ä¸‰ã€æ•°æ®å¯è§†åŒ–</h2><p>æ•°æ®å¯è§†åŒ–æ˜¯å°†åˆ†æç»“æœä»¥å›¾è¡¨ã€å›¾å½¢ç­‰å½¢å¼ç›´è§‚å‘ˆç°ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œä¼ è¾¾æ•°æ®çš„å«ä¹‰ã€‚åœ¨æ•°æ®å¯è§†åŒ–é˜¶æ®µï¼Œéœ€è¦äº†è§£ä»¥ä¸‹çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>å¯è§†åŒ–å·¥å…·ï¼šæŒæ¡å¸¸è§çš„æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œå¦‚ Tableauã€Power BIã€DataVã€Data GIF Makerã€å¾®å›¾ç­‰ï¼Œç”¨äºåˆ›å»ºå„ç§å›¾è¡¨å’Œå›¾å½¢ã€‚</li>
<li>Python å¯è§†åŒ–ï¼š Matplotlibã€Seabornã€‚</li>
<li>å›¾è¡¨ç±»å‹ï¼šæŒæ¡ä¸åŒåœºæ™¯ä¸‹é€‚ç”¨çš„å›¾è¡¨ç±»å‹ï¼Œå¦‚æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ã€çƒ­åŠ›å›¾ç­‰ï¼Œä»¥å±•ç¤ºæ•°æ®çš„å…³ç³»å’Œè¶‹åŠ¿ã€‚ </li>
<li>æ•°æ®æ•…äº‹åŒ–ï¼šé€šè¿‡å°†æ•°æ®ä»¥æ•…äº‹çš„å½¢å¼å‘ˆç°ï¼Œçªå‡ºæ•°æ®çš„å…³é”®ä¿¡æ¯å’Œè¶‹åŠ¿ï¼Œæå‡æ•°æ®çš„å¯ç†è§£æ€§å’Œå½±å“åŠ›ã€‚ </li>
<li>å¯è§†åŒ–è®¾è®¡åŸåˆ™ï¼šäº†è§£æ•°æ®å¯è§†åŒ–çš„è®¾è®¡åŸåˆ™ï¼Œå¦‚ç®€æ´æ€§ã€ä¸€è‡´æ€§ã€æ¸…æ™°æ€§ç­‰ï¼Œä»¥åˆ›å»ºç¾è§‚ã€æ˜“æ‡‚çš„å¯è§†åŒ–å›¾è¡¨ã€‚ </li>
</ol>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹åŒ…æ‹¬æ•°æ®é‡‡é›†ã€æ•°æ®æŒ–æ˜å’Œæ•°æ®å¯è§†åŒ–ä¸‰ä¸ªç¯èŠ‚ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½æœ‰å…¶å…³é”®çš„çŸ¥è¯†ç‚¹éœ€è¦æŒæ¡ã€‚é€šè¿‡åˆç†çš„æ•°æ®é‡‡é›†ã€æœ‰æ•ˆçš„æ•°æ®æŒ–æ˜å’Œç›´è§‚çš„æ•°æ®å¯è§†åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä»æµ·é‡æ•°æ®ä¸­æŒ–æ˜å‡ºæœ‰ä»·å€¼çš„ä¿¡æ¯å’Œè§è§£ï¼Œä¸ºå†³ç­–å’Œåˆ›æ–°æä¾›æœ‰åŠ›æ”¯æŒã€‚éšç€æ•°æ®åˆ†ææŠ€æœ¯çš„ä¸æ–­å‘å±•å’Œåº”ç”¨ï¼Œæ•°æ®åˆ†æå°†åœ¨å„ä¸ªé¢†åŸŸå‘æŒ¥è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>æ•°æ®åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡Flink WebUIä»ªè¡¨ç›˜ä¸Šä¼ çš„jaråŒ…é»˜è®¤å­˜å‚¨åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Ÿ</title>
    <url>/2023/01/01/flink-webui-jar-dir/</url>
    <content><![CDATA[<p>åœ¨ Flink WebUI ä¸Šæ˜¯å¯ä»¥æŸ¥çœ‹ä¸Šä¼  jar åŒ…çš„å­˜æ”¾ç›®å½•çš„ã€‚æ‰“å¼€ Flink WebUIï¼Œç‚¹å‡» Job Managerï¼Œå†ç‚¹å‡» Configuration æ ‡ç­¾é¡µï¼Œé…ç½®é¡¹ web.tmpdir å¯¹åº”çš„å€¼å³ä¸ºä¸Šä¼ åçš„ jar åŒ…çš„å­˜æ”¾ç›®å½•ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/image/2023/20230101001.jpeg" alt="Untitled"></p>
<p>ç™»å½•æœåŠ¡å™¨ï¼Œä½¿ç”¨ <code>ll</code> å‘½ä»¤æŸ¥çœ‹ç›®å½•å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ll /tmp/flink-web-cc812fd4-effb-48f0-8ef2-d67f0700f1b4/flink-web-upload/</span><br><span class="line">total 159364</span><br><span class="line">-rw------- 1 hadoop hadoop 163186973 Jan  1 10:03 2a08ffd6-34bf-4abb-9735-2c46587fef23_flink-connectors-1.0-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­˜æ”¾åœ¨é»˜è®¤è·¯å¾„ä¸‹çš„ jar åŒ…ï¼Œä¼šåœ¨ Job Manager é‡å¯åè¢«åˆ é™¤ã€‚å¦‚æœé‡å¯ Job Manager åè¿˜æƒ³ä¿ç•™ä¹‹å‰ä¸Šä¼ çš„ jar åŒ…ï¼Œå¯ä»¥åœ¨ Flink çš„é…ç½®æ–‡ä»¶ flink-conf.yaml æ·»åŠ  web.upload.dir é…ç½®ï¼Œå°†ä¸Šä¼ çš„ jar åŒ…å­˜æ”¾åˆ°æŒ‡å®šçš„è·¯å¾„ä¸Šã€‚å¦‚ä»¥ä¸‹é…ç½®ä¼šå°†ä¸Šä¼ çš„ jar åŒ…å­˜æ”¾åœ¨ç›®å½• /opt/flink-web-upload ä¸‹ï¼Œå…¶ä¸­å­ç›®å½• flink-web-upload æ˜¯ Flink ç¨‹åºè‡ªåŠ¨åˆ›å»ºçš„ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">web.upload.dir:</span> <span class="string">/opt</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨ Flink WebUI ä¸Šä¼ å¥½ jar åŒ…åï¼Œç™»å½•æœåŠ¡å™¨ï¼ŒæŸ¥è¯¢ /opt/flink-web-upload ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ll /opt/flink-web-upload</span></span><br><span class="line">total 24K</span><br><span class="line">-rw------- 1 root root 8.1K Jan  1 18:55 27854b52-b274-4f49-9c7b-daed5924eef8_flink-tutorial-1.0-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œé‡å¯ Job Managerï¼Œä¹‹å‰å·²ç»ä¸Šä¼ çš„ jar åŒ…ä¼šç»§ç»­ä¿ç•™ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥æ¢ç´¢Gsonçš„æ³›å‹åºåˆ—åŒ–å’Œååºåˆ—åŒ–èƒ½åŠ›</title>
    <url>/2023/08/30/gson-serializing-and-deserializing-generic-types/</url>
    <content><![CDATA[<p>åœ¨ Java å¼€å‘é¢†åŸŸï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ˜¯å¸¸è§çš„æ“ä½œï¼Œç”¨äºå°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµä»¥ä¾¿åœ¨ç½‘ç»œä¼ è¾“æˆ–å­˜å‚¨ä¸­ä½¿ç”¨ã€‚Gson æ˜¯ Google æä¾›çš„ä¸€ä¸ªä¼˜ç§€çš„ Json åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº“ï¼Œæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½å’Œçµæ´»æ€§ã€‚æœ¬æ–‡å°†é‡ç‚¹ä»‹ç» Gson åœ¨å¤„ç†æ³›å‹ç±»å‹æ—¶çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–èƒ½åŠ›ã€‚</p>
<h2 id="Gson-çš„æ³›å‹æ”¯æŒ"><a href="#Gson-çš„æ³›å‹æ”¯æŒ" class="headerlink" title="Gson çš„æ³›å‹æ”¯æŒ"></a>Gson çš„æ³›å‹æ”¯æŒ</h2><p>Gson é€šè¿‡ä½¿ç”¨ <code>TypeToken</code> ç±»æ¥æ”¯æŒæ³›å‹ã€‚<code>TypeToken</code> æä¾›äº†ä¸€ç§è¡¨ç¤ºæ³›å‹ç±»å‹çš„æ–¹å¼ã€‚é€šè¿‡åˆ›å»º <code>TypeToken</code> çš„å­ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·æ³›å‹çš„å…·ä½“ç±»å‹ä¿¡æ¯ï¼Œä»è€Œå®ç°æ›´ç²¾ç¡®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚</p>
<h2 id="æ³›å‹å¯¹è±¡çš„åºåˆ—åŒ–"><a href="#æ³›å‹å¯¹è±¡çš„åºåˆ—åŒ–" class="headerlink" title="æ³›å‹å¯¹è±¡çš„åºåˆ—åŒ–"></a>æ³›å‹å¯¹è±¡çš„åºåˆ—åŒ–</h2><p>åœ¨è¿›è¡Œæ³›å‹åºåˆ—åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ª <code>TypeToken</code> å¯¹è±¡æ¥è¡¨ç¤ºç‰¹å®šçš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äº <code>List&lt;String&gt;</code> ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼è¿›è¡Œåºåˆ—åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line"><span class="type">Type</span> <span class="variable">listType</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TypeToken</span>&lt;List&lt;String&gt;&gt;()&#123;&#125;.getType();</span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(list, listType);</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œé€šè¿‡è°ƒç”¨ <code>new TypeToken&lt;List&lt;String&gt;&gt;()&#123;&#125;.getType()</code> æ–¹æ³•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤ºListç±»å‹çš„TypeTokenå¯¹è±¡ï¼Œç„¶åå¯ä»¥å°†è¯¥å¯¹è±¡ä¼ é€’ç»™gson.toJson()æ–¹æ³•è¿›è¡Œåºåˆ—åŒ–ã€‚</p>
<ul>
<li>æ³›å‹å¯¹è±¡çš„ååºåˆ—åŒ–</li>
</ul>
<p>å¯¹äºæ³›å‹å¯¹è±¡çš„ååºåˆ—åŒ–ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦ä½¿ç”¨TypeTokenæ¥æ•è·å…·ä½“çš„æ³›å‹ç±»å‹ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type listType = new TypeToken&lt;List&lt;String&gt;&gt;()&#123;&#125;.getType();</span><br><span class="line">String json = &quot;[\\&quot;item1\\&quot;, \\&quot;item2\\&quot;, \\&quot;item3\\&quot;]&quot;;</span><br><span class="line">List&lt;String&gt; list = gson.fromJson(json, listType);</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡TypeTokenåˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤ºListç±»å‹çš„å¯¹è±¡listTypeï¼Œå¹¶å°†å…¶ä¼ é€’ç»™gson.fromJson()æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚æ­¤æ—¶ï¼ŒGsonä¼šè‡ªåŠ¨è§£æjsonå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºç›¸åº”çš„Listå¯¹è±¡ã€‚</p>
<ul>
<li>åµŒå¥—æ³›å‹ç±»å‹çš„å¤„ç†</li>
</ul>
<p>Gsonä¹Ÿæ”¯æŒå¤„ç†åµŒå¥—æ³›å‹ç±»å‹ï¼Œä¾‹å¦‚Map&lt;String, List&gt;ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨TypeTokençš„åµŒå¥—æ–¹å¼æ¥è¡¨ç¤ºå…·ä½“ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Type mapType = new TypeToken&lt;Map&lt;String, List&lt;Integer&gt;&gt;&gt;()&#123;&#125;.getType();</span><br><span class="line">String json = &quot;&#123;\\&quot;key1\\&quot;:[1,2,3], \\&quot;key2\\&quot;:[4,5,6]&#125;&quot;;</span><br><span class="line">Map&lt;String, List&lt;Integer&gt;&gt; map = gson.fromJson(json, mapType);</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨TypeTokenåˆ›å»ºäº†ä¸€ä¸ªè¡¨ç¤ºMap&lt;String, List&gt;ç±»å‹çš„å¯¹è±¡mapTypeï¼Œå¹¶å°†å…¶ä¼ é€’ç»™gson.fromJson()æ–¹æ³•è¿›è¡Œååºåˆ—åŒ–ã€‚Gsonå°†æ ¹æ®æä¾›çš„æ³›å‹ä¿¡æ¯ï¼Œæ­£ç¡®åœ°å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºMap&lt;String, List&gt;å¯¹è±¡ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>Gson ä½œä¸ºä¸€æ¬¾å¼ºå¤§çš„ Json åºåˆ—åŒ–å’Œååºåˆ—åŒ–åº“ï¼Œæä¾›äº†ä¸°å¯Œçš„æ³›å‹æ”¯æŒã€‚é€šè¿‡åˆ©ç”¨ <code>TypeToken</code> æ¥è¡¨ç¤ºå…·ä½“çš„æ³›å‹ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç²¾ç¡®åœ°è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œï¼ŒåŒ…æ‹¬åµŒå¥—æ³›å‹ç±»å‹çš„å¤„ç†ã€‚å€ŸåŠ© Gson çš„å¼ºå¤§èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥æ›´ä¾¿æ·åœ°åœ¨ Java é¡¹ç›®ä¸­å¤„ç†å¤æ‚çš„æ³›å‹æ•°æ®ç»“æ„ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flink 1.13.6 å‘ç‰ˆå…¬å‘Š</title>
    <url>/2022/02/20/apache-flink-release-1_13_6/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡ª Apache Flink ç¤¾åŒºåšæ–‡â€”â€”<a href="https://flink.apache.org/news/2022/02/18/release-1.13.6.html">ã€ŠApache Flink 1.13.6 Release Announcementã€‹</a><br>ã€‚</p>
<hr>
<p>Apache Flink ç¤¾åŒºå¾ˆè£å¹¸åœ°å®£å¸ƒ Flink 1.13 çš„å¦ä¸€ä¸ªé”™è¯¯ä¿®å¤ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚</p>
<p>æ­¤ç‰ˆæœ¬åŒ…æ‹¬ 99 ä¸ªé”™è¯¯å’Œæ¼æ´ä¿®å¤ä»¥åŠ Flink 1.13 çš„å°æ”¹è¿›ï¼ŒåŒ…æ‹¬å‡çº§ Apache Log4j ç‰ˆæœ¬è‡³ 2.17.1ã€‚æ‚¨å¯åœ¨ä¸‹é¢æŸ¥çœ‹æ‰€æœ‰é”™è¯¯ä¿®å¤å’Œæ”¹è¿›çš„åˆ—è¡¨ï¼ˆä¸åŒ…æ‹¬å¯¹æ„å»ºåŸºç¡€æ¶æ„å’Œæ„å»ºç¨³å®šæ€§çš„æ”¹è¿›ï¼‰ã€‚æœ‰å…³æ‰€æœ‰æ›´æ”¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…ï¼š<a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12315522&version=12351074">JIRA åˆ—è¡¨</a>ã€‚</p>
<p>æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‰€æœ‰ç”¨æˆ·å‡çº§åˆ° Flink 1.13.6 ç‰ˆæœ¬ã€‚</p>
<h2 id="å‘è¡Œå·¥ä»¶ï¼ˆRelease-Artifactsï¼‰"><a href="#å‘è¡Œå·¥ä»¶ï¼ˆRelease-Artifactsï¼‰" class="headerlink" title="å‘è¡Œå·¥ä»¶ï¼ˆRelease Artifactsï¼‰"></a>å‘è¡Œå·¥ä»¶ï¼ˆ<strong>Release Artifactsï¼‰</strong></h2><h3 id="Maven-ä¾èµ–ï¼ˆMaven-Dependenciesï¼‰"><a href="#Maven-ä¾èµ–ï¼ˆMaven-Dependenciesï¼‰" class="headerlink" title="Maven ä¾èµ–ï¼ˆMaven Dependenciesï¼‰"></a><strong>Maven ä¾èµ–ï¼ˆMaven Dependenciesï¼‰</strong></h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-streaming-java_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-clients_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰"></a>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ<strong>Binariesï¼‰</strong></h3><p>æ‚¨å¯ä»¥åœ¨æ›´æ–°è¿‡çš„<a href="https://flink.apache.org/downloads.html">ä¸‹è½½é¡µé¢</a>ä¸Šæ‰¾åˆ°è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<h3 id="Docker-é•œåƒï¼ˆDocker-Imagesï¼‰"><a href="#Docker-é•œåƒï¼ˆDocker-Imagesï¼‰" class="headerlink" title="Docker é•œåƒï¼ˆDocker Imagesï¼‰"></a><strong>Docker é•œåƒï¼ˆDocker Imagesï¼‰</strong></h3><ul>
<li><a href="https://hub.docker.com/_/flink?tab=tags&page=1&name=1.13.6">library/flink</a>Â (å®˜æ–¹é•œåƒï¼Œofficial images)</li>
<li><a href="https://hub.docker.com/r/apache/flink/tags?page=1&name=1.13.6">apache/flink</a>Â (ASF ä»“åº“ï¼ŒASF repository)</li>
</ul>
<h3 id="PyPi"><a href="#PyPi" class="headerlink" title="PyPi"></a><strong>PyPi</strong></h3><ul>
<li><a href="https://pypi.org/project/apache-flink/1.13.6/">apache-flink==1.13.6</a></li>
</ul>
<h2 id="å‘è¡Œè¯´æ˜ï¼ˆRelease-Notesï¼‰"><a href="#å‘è¡Œè¯´æ˜ï¼ˆRelease-Notesï¼‰" class="headerlink" title="å‘è¡Œè¯´æ˜ï¼ˆRelease Notesï¼‰"></a>å‘è¡Œè¯´æ˜ï¼ˆ<strong>Release Notesï¼‰</strong></h2><h3 id="Bug-ä¿®å¤"><a href="#Bug-ä¿®å¤" class="headerlink" title="Bug ä¿®å¤"></a><strong>Bug ä¿®å¤</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-15987">FLINK-15987</a>] - SELECT 1.0e0 / 0.0e0 æŠ›å‡º NumberFormatException å¼‚å¸¸</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-17914">FLINK-17914</a>] - HistoryServer deletes cached archives if archive listing fails</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-20195">FLINK-20195</a>] - Jobs endpoint returns duplicated jobs</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-20370">FLINK-20370</a>] - Result is wrong when sink primary key is not the same with query</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-21289">FLINK-21289</a>] - Application mode ignores the pipeline.classpaths configuration</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-23919">FLINK-23919</a>] - PullUpWindowTableFunctionIntoWindowAggregateRule generates invalid Calc for Window TVF</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24232">FLINK-24232</a>] - Archiving of suspended jobs prevents breaks subsequent archive attempts</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24255">FLINK-24255</a>] - Test Environment / Mini Cluster do not forward configuration.</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24310">FLINK-24310</a>] - A bug in the BufferingSink example in the doc</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24318">FLINK-24318</a>] - Casting a number to boolean has different results between â€˜selectâ€™ fields and â€˜whereâ€™ condition</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24334">FLINK-24334</a>] - Configuration kubernetes.flink.log.dir not working</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24366">FLINK-24366</a>] - Unnecessary/misleading error message about failing restores when tasks are already canceled.</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24401">FLINK-24401</a>] - Metaspace å‘ç”Ÿ OOM åï¼ŒTM æ— æ³•é€€å‡º</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24465">FLINK-24465</a>] - Wrong javadoc and documentation for buffer timeout</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24492">FLINK-24492</a>] - incorrect implicit type conversion between numeric and (var)char</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24506">FLINK-24506</a>] - checkpoint directory is not configurable through the Flink configuration passed into the StreamExecutionEnvironment</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24509">FLINK-24509</a>] - FlinkKafkaProducer example is not compiling due to incorrect constructer signature used</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24540">FLINK-24540</a>] - Fix Resource leak due to Files.list</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24543">FLINK-24543</a>] - Zookeeper connection issue causes inconsistent state in Flink</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24563">FLINK-24563</a>] - Comparing timstamp_ltz with random string throws NullPointerException</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24597">FLINK-24597</a>] - RocksdbStateBackend getKeysAndNamespaces would return duplicate data when using MapState</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24621">FLINK-24621</a>] - JobManager fails to recover 1.13.1 checkpoint due to InflightDataRescalingDescriptor</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24662">FLINK-24662</a>] - PyFlink sphinx check failed with â€œnode class â€˜metaâ€™ is already registered, its visitors will be overriddenâ€</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24667">FLINK-24667</a>] - Channel state writer would fail the task directly if meeting exception previously</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24676">FLINK-24676</a>] - Schema does not match if explain insert statement with partial column</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24678">FLINK-24678</a>] - Correct the metric name of map state contains latency</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24708">FLINK-24708</a>] - <code>ConvertToNotInOrInRule</code> has a bug which leads to wrong result</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24728">FLINK-24728</a>] - Batch SQL file sink forgets to close the output stream</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24761">FLINK-24761</a>] - Fix PartitionPruner code gen compile fail</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24846">FLINK-24846</a>] - AsyncWaitOperator fails during stop-with-savepoint</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24860">FLINK-24860</a>] - Fix the wrong position mappings in the Python UDTF</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24885">FLINK-24885</a>] - ProcessElement Interface parameter Collector : java.lang.NullPointerException</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24922">FLINK-24922</a>] - Fix spelling errors in the word â€œparallismâ€</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25022">FLINK-25022</a>] - ClassLoader leak with ThreadLocals on the JM when submitting a job through the REST API</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25067">FLINK-25067</a>] - Correct the description of RocksDBâ€™s background threads</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25084">FLINK-25084</a>] - Field names must be unique. Found duplicates</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25091">FLINK-25091</a>] - Official website document FileSink orc compression attribute reference error</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25096">FLINK-25096</a>] - Issue in exceptions API(/jobs/:jobid/exceptions) in flink 1.13.2</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25199">FLINK-25199</a>] - StreamEdges are not unique in self-union, which blocks propagation of watermarks</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25362">FLINK-25362</a>] - Incorrect dependencies in Table Confluent/Avro docs</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25468">FLINK-25468</a>] - Local recovery fails if local state storage and RocksDB working directory are not on the same volume</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25486">FLINK-25486</a>] - Perjob can not recover from checkpoint when zookeeper leader changes</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25494">FLINK-25494</a>] - Duplicate element serializer during DefaultOperatorStateBackendSnapshotStrategy#syncPrepareResources</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25513">FLINK-25513</a>] - CoFlatMapFunction requires both two flat_maps to yield something</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25559">FLINK-25559</a>] - SQL JOIN causes data loss</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25683">FLINK-25683</a>] - wrong result if table transfrom to DataStream then window process in batch mode</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25728">FLINK-25728</a>] - Potential memory leaks in StreamMultipleInputProcessor</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25732">FLINK-25732</a>] - Dispatcher#requestMultipleJobDetails returns non-serialiable collection</li>
</ul>
<h3 id="ä¼˜åŒ–ï¼ˆImprovementï¼‰"><a href="#ä¼˜åŒ–ï¼ˆImprovementï¼‰" class="headerlink" title="ä¼˜åŒ–ï¼ˆImprovementï¼‰"></a>ä¼˜åŒ–ï¼ˆ<strong>Improvementï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-21407">FLINK-21407</a>] - æ˜ç¡®å“ªäº›æºå’Œ API æ”¯æŒå“ªäº›æ ¼å¼</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-20443">FLINK-20443</a>] - ContinuousProcessingTimeTrigger åœ¨çª—å£ç»“æŸæ—¶ä¸ä¼šè§¦å‘</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-21467">FLINK-21467</a>] - Document possible recommended usage of Bounded{One/Multi}Input.endInput and emphasize that they could be called multiple times</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-23842">FLINK-23842</a>] - Add log messages for reader registrations and split requests.</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24631">FLINK-24631</a>] - Avoiding directly use the labels as selector for deployment and service</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24739">FLINK-24739</a>] - State requirements for Flinkâ€™s application mode in the documentation</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24987">FLINK-24987</a>] - Enhance ExternalizedCheckpointCleanup enum</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25160">FLINK-25160</a>] - Make doc clear: tolerable-failed-checkpoints counts consecutive failures</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25415">FLINK-25415</a>] - implement retrial on connections to Cassandra container</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25611">FLINK-25611</a>] - Remove CoordinatorExecutorThreadFactory thread creation guards</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25818">FLINK-25818</a>] - Add explanation how Kafka Source deals with idleness when parallelism is higher then the number of partitions</li>
</ul>
<h3 id="æŠ€æœ¯å€ºï¼ˆTechnical-Debtï¼‰"><a href="#æŠ€æœ¯å€ºï¼ˆTechnical-Debtï¼‰" class="headerlink" title="æŠ€æœ¯å€ºï¼ˆTechnical Debtï¼‰"></a>æŠ€æœ¯å€ºï¼ˆ<strong>Technical Debtï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24740">FLINK-24740</a>] - æ›´æ–° testcontainers ä¾èµ–è‡³ v1.16.2</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24796">FLINK-24796</a>] - ä» CI ç¼–è¯‘å·¥ä»¶ä¸­æ’é™¤ javadocs / node[_modules] ç›®å½•</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25472">FLINK-25472</a>] - æ›´æ–° Log4j è‡³ 2.17.1 ç‰ˆæœ¬</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25375">FLINK-25375</a>] - æ›´æ–° Log4j è‡³ 2.17.0 ç‰ˆæœ¬</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25576">FLINK-25576</a>] - æ›´æ–° com.h2database:h2 è‡³ 2.0.206 ç‰ˆæœ¬</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flink 1.14.5 å‘ç‰ˆå…¬å‘Š</title>
    <url>/2022/06/23/apache-flink-release-1_14_5/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡ª Apache Flink ç¤¾åŒºåšæ–‡â€”â€”<a href="https://flink.apache.org/news/2022/06/22/release-1.14.5.html">ã€ŠApache Flink 1.14.5 Release Announcementã€‹</a><br>ã€‚</p>
<hr>
<p>Apache Flink ç¤¾åŒºå¾ˆè£å¹¸åœ°å®£å¸ƒ Flink 1.14 çš„å¦ä¸€ä¸ªé”™è¯¯ä¿®å¤ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚</p>
<p>æ­¤ç‰ˆæœ¬åŒ…æ‹¬ 67 ä¸ªé”™è¯¯å’Œæ¼æ´ä¿®å¤ä»¥åŠ Flink 1.14 çš„å°æ”¹è¿›ã€‚æ‚¨å¯åœ¨ä¸‹é¢æ‰¾åˆ°æ‰€æœ‰é”™è¯¯ä¿®å¤å’Œæ”¹è¿›çš„åˆ—è¡¨ï¼ˆä¸åŒ…æ‹¬å¯¹æ„å»ºåŸºç¡€æ¶æ„å’Œæ„å»ºç¨³å®šæ€§çš„æ”¹è¿›ï¼‰ã€‚æœ‰å…³æ‰€æœ‰æ›´æ”¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜…ï¼š<a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12315522&version=12351388">JIRA åˆ—è¡¨</a>ã€‚</p>
<p>æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‰€æœ‰ç”¨æˆ·å‡çº§åˆ° Flink 1.14.5 ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p>åŸæ–‡ï¼š<br>The Apache Flink Community is pleased to announce another bug fix release for Flink 1.14.<br>This release includes 67 bugs, vulnerability fixes and minor improvements for Flink 1.14. Below you will find a list of all bugfixes and improvements (excluding improvements to the build infrastructure and build stability). For a complete list of all changes see:Â <a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12315522&version=12351388">JIRA</a>.<br>We highly recommend all users to upgrade to Flink 1.14.5.</p>
</blockquote>
<h2 id="å‘è¡Œå·¥ä»¶ï¼ˆRelease-Artifactsï¼‰"><a href="#å‘è¡Œå·¥ä»¶ï¼ˆRelease-Artifactsï¼‰" class="headerlink" title="å‘è¡Œå·¥ä»¶ï¼ˆRelease Artifactsï¼‰"></a>å‘è¡Œå·¥ä»¶ï¼ˆ<strong>Release Artifactsï¼‰</strong></h2><h3 id="Maven-ä¾èµ–ï¼ˆMaven-Dependenciesï¼‰"><a href="#Maven-ä¾èµ–ï¼ˆMaven-Dependenciesï¼‰" class="headerlink" title="Maven ä¾èµ–ï¼ˆMaven Dependenciesï¼‰"></a><strong>Maven ä¾èµ–ï¼ˆMaven Dependenciesï¼‰</strong></h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.14.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-streaming-java_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.14.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-clients_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.14.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinariesï¼‰"></a>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ<strong>Binariesï¼‰</strong></h3><p>æ‚¨å¯ä»¥åœ¨æ›´æ–°è¿‡çš„<a href="https://flink.apache.org/downloads.html">ä¸‹è½½é¡µé¢</a>ä¸Šæ‰¾åˆ°è¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>You can find the binaries on the updatedÂ <a href="https://flink.apache.org/downloads.html">Downloads page</a>.</p>
<h3 id="Docker-é•œåƒï¼ˆDocker-Imagesï¼‰"><a href="#Docker-é•œåƒï¼ˆDocker-Imagesï¼‰" class="headerlink" title="Docker é•œåƒï¼ˆDocker Imagesï¼‰"></a><strong>Docker é•œåƒï¼ˆDocker Imagesï¼‰</strong></h3><ul>
<li><a href="https://hub.docker.com/_/flink?tab=tags&page=1&name=1.14.5">library/flink</a>Â (å®˜æ–¹é•œåƒï¼Œofficial images)</li>
<li><a href="https://hub.docker.com/r/apache/flink/tags?page=1&name=1.14.5">apache/flink</a>Â (ASF ä»“åº“ï¼ŒASF repository)</li>
</ul>
<h3 id="PyPi"><a href="#PyPi" class="headerlink" title="PyPi"></a><strong>PyPi</strong></h3><ul>
<li><a href="https://pypi.org/project/apache-flink/1.14.5/">apache-flink==1.14.5</a></li>
</ul>
<h2 id="å‘è¡Œè¯´æ˜ï¼ˆRelease-Notesï¼‰"><a href="#å‘è¡Œè¯´æ˜ï¼ˆRelease-Notesï¼‰" class="headerlink" title="å‘è¡Œè¯´æ˜ï¼ˆRelease Notesï¼‰"></a>å‘è¡Œè¯´æ˜ï¼ˆ<strong>Release Notesï¼‰</strong></h2><h3 id="å­ä»»åŠ¡ï¼ˆSub-taskï¼‰"><a href="#å­ä»»åŠ¡ï¼ˆSub-taskï¼‰" class="headerlink" title="å­ä»»åŠ¡ï¼ˆSub-taskï¼‰"></a>å­ä»»åŠ¡ï¼ˆ<strong>Sub-taskï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25800">FLINK-25800</a>] - Update wrong links in the datastream/execution_mode.md page.</li>
</ul>
<h3 id="Bug-ä¿®å¤"><a href="#Bug-ä¿®å¤" class="headerlink" title="Bug ä¿®å¤"></a><strong>Bug ä¿®å¤</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-22984">FLINK-22984</a>] - UnsupportedOperationException when using Python UDF to generate watermark</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24491">FLINK-24491</a>] - ExecutionGraphInfo may not be archived when the dispatcher terminates</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25227">FLINK-25227</a>] - Comparing the equality of the same (boxed) numeric values returns false</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25440">FLINK-25440</a>] - Apache Pulsar Connector Document description error about â€˜Starting Positionâ€™.</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25904">FLINK-25904</a>] - NullArgumentException when accessing checkpoint stats on standby JobManager</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26016">FLINK-26016</a>] - FileSystemLookupFunction does not produce correct results when hive table uses columnar storage</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26018">FLINK-26018</a>] - Unnecessary late events when using the new KafkaSource</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26049">FLINK-26049</a>] - The tolerable-failed-checkpoints logic is invalid when checkpoint trigger failed</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26285">FLINK-26285</a>] - ZooKeeperStateHandleStore does not handle not existing nodes properly in getAllAndLock</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26334">FLINK-26334</a>] - When timestamp - offset + windowSize &lt; 0, elements cannot be assigned to the correct window</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26381">FLINK-26381</a>] - Wrong document order of Chinese version</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26395">FLINK-26395</a>] - The description of RAND_INTEGER is wrong in SQL function documents</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26504">FLINK-26504</a>] - Fix the incorrect type error in unbounded Python UDAF</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26536">FLINK-26536</a>] - PyFlink RemoteKeyedStateBackend#merge_namespaces bug</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26543">FLINK-26543</a>] - Fix the issue that exceptions generated in startup are missed in Python loopback mode</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26550">FLINK-26550</a>] - Correct the information of checkpoint failure</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26607">FLINK-26607</a>] - There are multiple MAX_LONG_VALUE value errors in pyflink code</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26629">FLINK-26629</a>] - Error in code comment for SubtaskStateMapper.RANGE</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26645">FLINK-26645</a>] - Pulsar Source subscribe to a single topic partition will consume all partitions from that topic</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26708">FLINK-26708</a>] - TimestampsAndWatermarksOperator should not propagate WatermarkStatus</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26738">FLINK-26738</a>] - Default value of StateDescriptor is valid when enable state ttl config</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26775">FLINK-26775</a>] - PyFlink WindowOperator#process_element register wrong cleanup timer</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26846">FLINK-26846</a>] - Gauge metrics doesnâ€™t work in PyFlink</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26855">FLINK-26855</a>] - ImportError: cannot import name â€˜environmentfilterâ€™ from â€˜jinja2â€™</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26920">FLINK-26920</a>] - Job executes failed with â€œThe configured managed memory fraction for Python worker process must be within (0, 1], was: %s.â€</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27108">FLINK-27108</a>] - State cache clean up doesnâ€™t work as expected</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27174">FLINK-27174</a>] - Non-null check for bootstrapServers field is incorrect in KafkaSink</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27223">FLINK-27223</a>] - State access doesnâ€™t work as expected when cache size is set to 0</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27255">FLINK-27255</a>] - Flink-avro does not support serialization and deserialization of avro schema longer than 65535 characters</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27315">FLINK-27315</a>] - Fix the demo of MemoryStateBackendMigration</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27409">FLINK-27409</a>] - Cleanup stale slot allocation record when the resource requirement of a job is empty</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27442">FLINK-27442</a>] - Module flink-sql-avro-confluent-registry does not configure Confluent repo</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27545">FLINK-27545</a>] - Update examples in PyFlink shell</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27676">FLINK-27676</a>] - Output records from on_timer are behind the triggering watermark in PyFlink</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27733">FLINK-27733</a>] - Rework on_timer output behind watermark bug fix</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27751">FLINK-27751</a>] - Dependency resolution from repository.jboss.org fails on CI</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27760">FLINK-27760</a>] - NPE is thrown when executing PyFlink jobs in batch mode</li>
</ul>
<h3 id="æ–°ç‰¹æ€§ï¼ˆNew-Featureï¼‰"><a href="#æ–°ç‰¹æ€§ï¼ˆNew-Featureï¼‰" class="headerlink" title="æ–°ç‰¹æ€§ï¼ˆNew Featureï¼‰"></a>æ–°ç‰¹æ€§ï¼ˆ<strong>New Featureï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26382">FLINK-26382</a>] - Add Chinese documents for flink-training exercises</li>
</ul>
<h3 id="ä¼˜åŒ–ï¼ˆImprovementï¼‰"><a href="#ä¼˜åŒ–ï¼ˆImprovementï¼‰" class="headerlink" title="ä¼˜åŒ–ï¼ˆImprovementï¼‰"></a>ä¼˜åŒ–ï¼ˆ<strong>Improvementï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-5151">FLINK-5151</a>] - Add discussion about object mutations to heap-based state backend docs.</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-23843">FLINK-23843</a>] - Exceptions during â€œSplitEnumeratorContext.runInCoordinatorThread()â€ should cause Global Failure instead of Process Kill</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24274">FLINK-24274</a>] - Wrong parameter order in documentation of State Processor API</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-24384">FLINK-24384</a>] - Count checkpoints failed in trigger phase into numberOfFailedCheckpoints</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26130">FLINK-26130</a>] - Document why and when user would like to increase network buffer size</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26575">FLINK-26575</a>] - Improve the info message when restoring keyed state backend</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26650">FLINK-26650</a>] - Avoid to print stack trace for checkpoint trigger failure if not all tasks are started</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26788">FLINK-26788</a>] - AbstractDeserializationSchema should add cause when thow a FlinkRuntimeException</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27088">FLINK-27088</a>] - The example of using StringDeserializer for deserializing Kafka message value as string has an error</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27480">FLINK-27480</a>] - KafkaSources sharing the groupId might lead to InstanceAlreadyExistException warning</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-27776">FLINK-27776</a>] - Throws exception when udaf used in sliding window does not implement merge method in PyFlink</li>
</ul>
<h3 id="æŠ€æœ¯å€ºï¼ˆTechnical-Debtï¼‰"><a href="#æŠ€æœ¯å€ºï¼ˆTechnical-Debtï¼‰" class="headerlink" title="æŠ€æœ¯å€ºï¼ˆTechnical Debtï¼‰"></a>æŠ€æœ¯å€ºï¼ˆ<strong>Technical Debtï¼‰</strong></h3><ul>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-25694">FLINK-25694</a>] - Upgrade Presto to resolve GSON/Alluxio Vulnerability</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26352">FLINK-26352</a>] - Missing license header in WebUI source files</li>
<li>[<a href="https://issues.apache.org/jira/browse/FLINK-26961">FLINK-26961</a>] - Update multiple Jackson dependencies to v2.13.2 and v2.13.2.1</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flink Table Storeâ€”â€”æµæ‰¹ä¸€ä½“å­˜å‚¨</title>
    <url>/2022/09/15/apache-flink-table-store-intro/</url>
    <content><![CDATA[<blockquote>
<p>Flink Table Store é¢å‘æ›´æ–°åœºæ™¯çš„ OLAP åº”ç”¨ã€‚ä½œä¸ºæµæ‰¹ç»Ÿä¸€å­˜å‚¨ï¼Œåœ¨ Flink ä¸­ä¸ºæµå¼å¤„ç†å’Œæ‰¹å¤„ç†æ„å»ºåŠ¨æ€è¡¨ï¼Œæ”¯æŒå®æ—¶æµå¼æ›´æ–°/åˆ é™¤å˜æ›´æ—¥å¿—æ‘„å–ã€å®æ—¶æµæ¶ˆè´¹å’Œé«˜æ€§èƒ½æ•°æ®æŸ¥è¯¢ã€‚å½“å¤§é‡æ›´æ–°æ•°æ®ï¼ˆå¦‚ MySQL çš„ binlog æ—¥å¿—ï¼‰å†™å…¥ Flink Table Store åï¼ŒFlink Table Store åå°ä¼šæ ¹æ®ä¸»é”®æ¥åˆå¹¶æ•°æ®ï¼Œé»˜è®¤ä¿ç•™æœ€æ–°å˜æ›´åçš„æ•°æ®ã€‚<br><strong>Flink Table Store ç›®å‰ä»å¤„äº beta çŠ¶æ€ï¼Œæ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œä¸å»ºè®®ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</strong></p>
</blockquote>
<h2 id="å‡ºç°èƒŒæ™¯"><a href="#å‡ºç°èƒŒæ™¯" class="headerlink" title="å‡ºç°èƒŒæ™¯"></a>å‡ºç°èƒŒæ™¯</h2><p>åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼Œå¾—ç›Šäºä¼—å¤šçš„è´¡çŒ®è€…å’Œç”¨æˆ·ï¼ŒApache Flink å·²ç»æˆä¸ºæœ€å¥½çš„åˆ†å¸ƒå¼è®¡ç®—å¼•æ“ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯åœ¨å¤§è§„æ¨¡æœ‰çŠ¶æ€æµå¤„ç†æ–¹é¢ã€‚ç„¶è€Œï¼Œå½“è¯•å›¾æ·±å…¥äº†è§£å®æ—¶æ•°æ®æ—¶ï¼Œä»ç„¶é¢ä¸´ç€ä¸€äº›æŒ‘æˆ˜ã€‚åœ¨è¿™äº›æŒ‘æˆ˜ä¸­ï¼Œä¸€ä¸ªçªå‡ºçš„é—®é¢˜æ˜¯ç¼ºä¹æ»¡è¶³æ‰€æœ‰è®¡ç®—æ¨¡å¼çš„å­˜å‚¨ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸ºäº†ä¸åŒç›®çš„éƒ¨ç½²å‡ ä¸ªå­˜å‚¨ç³»ç»Ÿæ¥ä½¿ç”¨ Flink æ˜¯å¾ˆå¸¸è§çš„ã€‚ä¸€ä¸ªå…¸å‹çš„éƒ¨ç½²æ˜¯ç”¨äºæµå¤„ç†çš„æ¶ˆæ¯é˜Ÿåˆ—ã€ç”¨äºæ‰¹å¤„ç†å’Œå³å¸­æŸ¥è¯¢çš„å¯æ‰«ææ–‡ä»¶ç³»ç»Ÿ/å¯¹è±¡å­˜å‚¨ã€ä»¥åŠç”¨äºæŸ¥æ‰¾çš„ K-V å­˜å‚¨ã€‚ä½†è¿™ç§æ¶æ„ç”±äºå¤æ‚æ€§å’Œå¼‚æ„æ€§ï¼Œåœ¨æ•°æ®è´¨é‡å’Œç³»ç»Ÿç»´æŠ¤æ–¹é¢éƒ½æå‡ºäº†æŒ‘æˆ˜ã€‚æ­£æˆä¸ºå½±å“ Apache Flink æµæ‰¹ç»Ÿä¸€ç«¯åˆ°ç«¯ç”¨æˆ·ä½“éªŒçš„ä¸€å¤§é—®é¢˜ã€‚</p>
<p>è€Œ Flink Table Store çš„ç›®æ ‡å°±æ˜¯è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå°† Flink çš„èƒ½åŠ›ä»è®¡ç®—æ‰©å±•åˆ°å­˜å‚¨é¢†åŸŸï¼Œä»¥ä¾¿ä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ç«¯åˆ°ç«¯ä½“éªŒã€‚</p>
<h2 id="æ ¸å¿ƒèƒ½åŠ›"><a href="#æ ¸å¿ƒèƒ½åŠ›" class="headerlink" title="æ ¸å¿ƒèƒ½åŠ›"></a>æ ¸å¿ƒèƒ½åŠ›</h2><p>Flink Table Store æ—¨åœ¨æä¾›ç»Ÿä¸€çš„å­˜å‚¨æŠ½è±¡ï¼Œè®©ç”¨æˆ·ä¸å¿…è‡ªå·±æ„å»ºæ··åˆå­˜å‚¨ã€‚å…·ä½“æ¥è¯´ï¼ŒFlink Table Store æä¾›ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li>æ”¯æŒå¤§å‹æ•°æ®é›†çš„å­˜å‚¨ï¼Œå¹¶å…è®¸åœ¨æ‰¹å¤„ç†å’Œæµæ¨¡å¼ä¸‹è¿›è¡Œè¯»/å†™ï¼›</li>
<li>æ”¯æŒæ¯«ç§’çº§å»¶è¿Ÿçš„æµå¼æŸ¥è¯¢ï¼›</li>
<li>æ”¯æŒç§’çº§å»¶è¿Ÿ Batch/OLAP æŸ¥è¯¢ï¼›</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµæ¶ˆè´¹æ”¯æŒå¢é‡å¿«ç…§ã€‚æ‰€ä»¥ç”¨æˆ·ä¸éœ€è¦è‡ªå·±è§£å†³ç»„åˆä¸åŒå­˜å‚¨å¸¦æ¥çš„é—®é¢˜ã€‚</li>
</ul>
<h2 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h2><p>ä½œä¸ºä¸€ç§æ–°å‹çš„å¯æ›´æ–°æ•°æ®æ¹–ï¼ŒFlink Table Store å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¤§ååé‡æ•°æ®æ‘„å–ï¼ŒåŒæ—¶æä¾›è‰¯å¥½çš„æŸ¥è¯¢æ€§èƒ½ã€‚</li>
<li>å…·æœ‰ä¸»é”®è¿‡æ»¤å™¨çš„é«˜æ€§èƒ½æŸ¥è¯¢ï¼Œæœ€å¿« 100 æ¯«ç§’ã€‚</li>
<li>Lake Storage ä¸Šæä¾›æµå¼è¯»å–ï¼ŒLake Storage ä¹Ÿå¯ä»¥ä¸ Kafka é›†æˆï¼Œæä¾›ç§’çº§æµå¼è¯»å–ã€‚</li>
</ul>
<h2 id="æ¼”è¿›è¿‡ç¨‹"><a href="#æ¼”è¿›è¿‡ç¨‹" class="headerlink" title="æ¼”è¿›è¿‡ç¨‹"></a>æ¼”è¿›è¿‡ç¨‹</h2><p>åœ¨æ—©å…ˆå‘å¸ƒçš„ 0.1.0 é¢„è§ˆç‰ˆï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Flink å°†æ•°æ®å†™å…¥åˆ° Flink Table Store ä¸­ï¼Œæ—¢å¯ä»¥é€šè¿‡æµå¼ä¼ è¾“ä»æ•°æ®åº“ä¸­æ•è·çš„æ›´æ–°æ—¥å¿—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä»æ•°æ®ä»“åº“ç­‰å…¶ä»–å­˜å‚¨ä¸­æ‰¹é‡åŠ è½½æ•°æ®ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Flink ä»¥ä¸åŒçš„æ–¹å¼æŸ¥è¯¢ Flink Table Storeï¼ŒåŒ…æ‹¬æµå¼æŸ¥è¯¢å’Œ Batch/OLAP æŸ¥è¯¢ã€‚è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å¼•æ“ï¼ˆä¾‹å¦‚ Apache Hiveï¼‰ä» Flink Table Store ä¸­æŸ¥è¯¢ã€‚</p>
<p>åœ¨åº•å±‚ï¼ŒFlink Table Store ä½¿ç”¨æ··åˆå­˜å‚¨æ¶æ„ï¼Œä½¿ç”¨ Lake Store å­˜å‚¨å†å²æ•°æ®ï¼Œä½¿ç”¨ Queue ç³»ç»Ÿï¼ˆç›®å‰æ”¯æŒ Apache Kafka é›†æˆï¼‰å­˜å‚¨å¢é‡æ•°æ®ã€‚å®ƒä¸ºæ··åˆæµå¼è¯»å–æä¾›å¢é‡å¿«ç…§ã€‚</p>
<p> Flink Table Store çš„ Lake Store å°†æ•°æ®ä½œä¸ºåˆ—æ–‡ä»¶å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿ/å¯¹è±¡å­˜å‚¨ä¸Šï¼Œå¹¶ä½¿ç”¨ LSM ç»“æ„æ¥æ”¯æŒå¤§é‡çš„æ•°æ®æ›´æ–°å’Œé«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<p><img src="/image/2022/20220915234511-flink-table-store-architecture.png" alt="Flink Table Store æ¶æ„å›¾"></p>
<p>ç›®å‰ï¼ŒFlink Table Store å‘å¸ƒäº† 0.2.0 ç‰ˆæœ¬ã€‚è¯¥ç‰ˆæœ¬ä¸»è¦åŒ…å«ä»¥ä¸‹å››ä¸ªå€¼å¾—å…³æ³¨çš„æ–°ç‰¹æ€§ï¼š</p>
<ol>
<li>å¼•å…¥è‡ªå·±çš„ç›®å½•ï¼ˆCatalogï¼‰ï¼Œå¹¶æ”¯æŒè‡ªåŠ¨åŒæ­¥åˆ° Hive Metastoreï¼›</li>
<li>å¢åŠ å¯¹ Flink 1.14 çš„æ”¯æŒï¼Œå¹¶æ”¯æŒå¤šä¸ªè®¡ç®—å¼•æ“ï¼ˆSparkã€Hiveã€Trinoï¼‰çš„è¯»å–æ“ä½œï¼›</li>
<li>æ”¯æŒ append-only è¡¨ç‰¹æ€§ï¼›</li>
<li>æ”¯æŒå¯è°ƒæ•´å­˜å‚¨æ¡¶æ•°é‡ã€‚</li>
</ol>
<p>åœ¨å³å°†å‘å¸ƒçš„ 0.3.0 ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥æœŸå¾…ï¼ˆè‡³å°‘ï¼‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”¯æŒæµå¼å˜æ›´æ—¥å¿—å¹¶å‘å†™å…¥ï¼ŒCompaction éš”ç¦»ï¼›</li>
<li>Aggregation Tableï¼Œç”¨äºæ„å»ºç‰©åŒ–è§†å›¾ï¼›</li>
<li>ä¸ºéƒ¨åˆ†æ›´æ–°/èšåˆè¡¨ç”Ÿæˆå˜æ›´æ—¥å¿—ï¼›</li>
<li>Full Schema Evolution æ”¯æŒåˆ é™¤åˆ—å’Œé‡å‘½ååˆ—ï¼›</li>
<li>æŸ¥æ‰¾æ”¯æŒ Flink ç»´åº¦è¿æ¥ã€‚</li>
</ul>
<p>å†…å®¹æ¥æº</p>
<p><a href="https://flink.apache.org/news/2022/08/29/release-table-store-0.2.0.html">https://flink.apache.org/news/2022/08/29/release-table-store-0.2.0.html</a><br><a href="https://flink.apache.org/news/2022/05/11/release-table-store-0.1.0.html">https://flink.apache.org/news/2022/05/11/release-table-store-0.1.0.html</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
        <tag>Flink Table Store</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Flink Table Store å¿«é€Ÿå…¥é—¨</title>
    <url>/2022/09/16/apache-flink-table-store-quick-start/</url>
    <content><![CDATA[<p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç¤ºä¾‹æ¥ç®€è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ Apache Flink Table Storeã€‚</p>
<h2 id="æ­¥éª¤ä¸€ï¼šä¸‹è½½-Flink"><a href="#æ­¥éª¤ä¸€ï¼šä¸‹è½½-Flink" class="headerlink" title="æ­¥éª¤ä¸€ï¼šä¸‹è½½ Flink"></a>æ­¥éª¤ä¸€ï¼šä¸‹è½½ Flink</h2><blockquote>
<p>æ³¨æ„ï¼šFlink Table Store ä»…ä» Flink 1.14 å¼€å§‹æ”¯æŒã€‚</p>
</blockquote>
<p>æœ¬ç¤ºä¾‹ä½¿ç”¨çš„æ˜¯ Flink 1.15.2 ç‰ˆæœ¬ï¼Œä½¿ç”¨ <code>wget</code> ä¸‹è½½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dlcdn.apache.org/flink/flink-1.15.2/flink-1.15.2-bin-scala_2.12.tgz</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½å®Œæˆä¹‹åï¼Œè§£å‹æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzf flink-1.15.2-bin-scala_2.12.tgz</span><br></pre></td></tr></table></figure>

<p>æœ¬ç¤ºä¾‹ä¸­ï¼Œflink çš„å®‰è£…ç›®å½•ä¸º <em>/mnt/d/flink-1.15.2</em> ã€‚ä¸ºä¾¿äºæœ¬æ–‡çš„åç»­è¯´æ˜ï¼Œè¿™é‡Œä½¿ç”¨ ${FLINK_HOME} ä»£æŒ‡ flink çš„å®‰è£…ç›®å½•ã€‚</p>
<p>è§£å‹åçš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  flink-1.15.2 ll</span><br><span class="line">total 616K</span><br><span class="line">-rwxrwxrwx 1 root root  12K Aug 17 20:10 LICENSE</span><br><span class="line">-rwxrwxrwx 1 root root 600K Aug 18 00:42 NOTICE</span><br><span class="line">-rwxrwxrwx 1 root root 1.3K Aug 17 20:10 README.txt</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 bin</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 conf</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 examples</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 lib</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 licenses</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 17 20:10 <span class="built_in">log</span></span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 opt</span><br><span class="line">drwxrwxrwx 1 root root 4.0K Aug 18 00:42 plugins</span><br></pre></td></tr></table></figure>

<h2 id="æ­¥éª¤äºŒï¼šä¸‹è½½-flink-table-store-dist-0-2-0-jar"><a href="#æ­¥éª¤äºŒï¼šä¸‹è½½-flink-table-store-dist-0-2-0-jar" class="headerlink" title="æ­¥éª¤äºŒï¼šä¸‹è½½ flink-table-store-dist-0.2.0.jar"></a>æ­¥éª¤äºŒï¼šä¸‹è½½ flink-table-store-dist-0.2.0.jar</h2><p>ä¸‹è½½ flink-table-store-dist-0.2.0.jarï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dlcdn.apache.org/flink/flink-table-store-0.2.0/flink-table-store-dist-0.2.0.jar</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½å®Œæˆåï¼ŒæŠŠ flink-table-store-dist-0.2.0.jar å¤åˆ¶åˆ° <em>${FLINK_HOME}/lib</em> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> flink-table-store-dist-0.2.0.jar <span class="variable">$&#123;FLINK_HOME&#125;</span>/lib</span><br></pre></td></tr></table></figure>

<h2 id="æ­¥éª¤ä¸‰ï¼šä¸‹è½½-flink-shaded-hadoop-jar"><a href="#æ­¥éª¤ä¸‰ï¼šä¸‹è½½-flink-shaded-hadoop-jar" class="headerlink" title="æ­¥éª¤ä¸‰ï¼šä¸‹è½½ flink-shaded-hadoop-*.jar"></a>æ­¥éª¤ä¸‰ï¼šä¸‹è½½ flink-shaded-hadoop-*.jar</h2><p>è¿™é‡Œä¸‹è½½çš„æ˜¯ flink-shaded-hadoop-2-uber-2.7.5-10.0.jarï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://repo.maven.apache.org/maven2/org/apache/flink/flink-shaded-hadoop-2-uber/2.7.5-10.0/flink-shaded-hadoop-2-uber-2.7.5-10.0.jar</span><br></pre></td></tr></table></figure>

<p>å°†ä¸‹è½½å¥½çš„æ–‡ä»¶å¤åˆ¶åˆ° <em>${FLINK_HOME}/lib</em> ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> flink-shaded-hadoop-2-uber-2.7.5-10.0.jar <span class="variable">$&#123;FLINK_HOME&#125;</span>/lib</span><br></pre></td></tr></table></figure>

<h2 id="æ­¥éª¤å››ï¼šå¯åŠ¨-Flink-æœ¬åœ°é›†ç¾¤"><a href="#æ­¥éª¤å››ï¼šå¯åŠ¨-Flink-æœ¬åœ°é›†ç¾¤" class="headerlink" title="æ­¥éª¤å››ï¼šå¯åŠ¨ Flink æœ¬åœ°é›†ç¾¤"></a>æ­¥éª¤å››ï¼šå¯åŠ¨ Flink æœ¬åœ°é›†ç¾¤</h2><p>è¿›å…¥ Flink å®‰è£…ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;FLINK_HOME&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è¿è¡Œå¤šä¸ªä½œä¸šï¼Œåœ¨å¯åŠ¨ Flink æœ¬åœ°é›†ç¾¤ä¹‹å‰éœ€è¦å…ˆä¿®æ”¹é›†ç¾¤é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi ./conf/flink-conf.yaml</span><br></pre></td></tr></table></figure>

<p>å°†é…ç½®é¡¹ taskmanager.numberOfTaskSlots ç”± 1 æ”¹ä¸º 2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">taskmanager.numberOfTaskSlots: 2</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨æœ¬åœ°é›†ç¾¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/start-cluster.sh</span><br></pre></td></tr></table></figure>

<p>åœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥ <a href="http://localhost:8081/">http://localhost:8081/</a> æŸ¥çœ‹ Flink ä»ªè¡¨ç›˜ï¼Œå¯ä»¥çœ‹åˆ°é›†ç¾¤å·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œï¼š</p>
<p><img src="/image/2022/20220916001.png" alt="Untitled"></p>
<p>å¯åŠ¨ SQL Client CLIï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/sql-client.sh embedded</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  flink-1.15.2 ./bin/sql-client.sh embedded</span><br><span class="line"></span><br><span class="line">                                   â–’â–“â–ˆâ–ˆâ–“â–ˆâ–ˆâ–’</span><br><span class="line">                               â–“â–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–ˆâ–“â–’â–“â–ˆâ–ˆâ–ˆâ–“â–’</span><br><span class="line">                            â–“â–ˆâ–ˆâ–ˆâ–“â–‘â–‘        â–’â–’â–’â–“â–ˆâ–ˆâ–’  â–’</span><br><span class="line">                          â–‘â–ˆâ–ˆâ–’   â–’â–’â–“â–“â–ˆâ–“â–“â–’â–‘      â–’â–ˆâ–ˆâ–ˆâ–ˆ</span><br><span class="line">                          â–ˆâ–ˆâ–’         â–‘â–’â–“â–ˆâ–ˆâ–ˆâ–’    â–’â–ˆâ–’â–ˆâ–’</span><br><span class="line">                            â–‘â–“â–ˆ            â–ˆâ–ˆâ–ˆ   â–“â–‘â–’â–ˆâ–ˆ</span><br><span class="line">                              â–“â–ˆ       â–’â–’â–’â–’â–’â–“â–ˆâ–ˆâ–“â–‘â–’â–‘â–“â–“â–ˆ</span><br><span class="line">                            â–ˆâ–‘ â–ˆ   â–’â–’â–‘       â–ˆâ–ˆâ–ˆâ–“â–“â–ˆ â–’â–ˆâ–’â–’â–’</span><br><span class="line">                            â–ˆâ–ˆâ–ˆâ–ˆâ–‘   â–’â–“â–ˆâ–“      â–ˆâ–ˆâ–’â–’â–’ â–“â–ˆâ–ˆâ–ˆâ–’</span><br><span class="line">                         â–‘â–’â–ˆâ–“â–“â–ˆâ–ˆ       â–“â–ˆâ–’    â–“â–ˆâ–’â–“â–ˆâ–ˆâ–“ â–‘â–ˆâ–‘</span><br><span class="line">                   â–“â–‘â–’â–“â–ˆâ–ˆâ–ˆâ–ˆâ–’ â–ˆâ–ˆ         â–’â–ˆ    â–ˆâ–“â–‘â–’â–ˆâ–’â–‘â–’â–ˆâ–’</span><br><span class="line">                  â–ˆâ–ˆâ–ˆâ–“â–‘â–ˆâ–ˆâ–“  â–“â–ˆ           â–ˆ   â–ˆâ–“ â–’â–“â–ˆâ–“â–“â–ˆâ–’</span><br><span class="line">                â–‘â–ˆâ–ˆâ–“  â–‘â–ˆâ–‘            â–ˆ  â–ˆâ–’ â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’ â–ˆâ–ˆâ–“â–‘â–’</span><br><span class="line">               â–ˆâ–ˆâ–ˆâ–‘ â–‘ â–ˆâ–‘          â–“ â–‘â–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–‘â–‘    â–‘â–ˆâ–‘â–“  â–“â–‘</span><br><span class="line">              â–ˆâ–ˆâ–“â–ˆ â–’â–’â–“â–’          â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘       â–’â–ˆâ–’ â–’â–“ â–“â–ˆâ–ˆâ–“</span><br><span class="line">           â–’â–ˆâ–ˆâ–“ â–“â–ˆ â–ˆâ–“â–ˆ       â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–’â–‘         â–ˆâ–ˆâ–’â–’  â–ˆ â–’  â–“â–ˆâ–’</span><br><span class="line">           â–“â–ˆâ–“  â–“â–ˆ â–ˆâ–ˆâ–“ â–‘â–“â–“â–“â–“â–“â–“â–“â–’              â–’â–ˆâ–ˆâ–“           â–‘â–ˆâ–’</span><br><span class="line">           â–“â–ˆ    â–ˆ â–“â–ˆâ–ˆâ–ˆâ–“â–’â–‘              â–‘â–“â–“â–“â–ˆâ–ˆâ–ˆâ–“          â–‘â–’â–‘ â–“â–ˆ</span><br><span class="line">           â–ˆâ–ˆâ–“    â–ˆâ–ˆâ–’    â–‘â–’â–“â–“â–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–’            â–“â–ˆâ–ˆâ–ˆ  â–ˆ</span><br><span class="line">          â–“â–ˆâ–ˆâ–ˆâ–’ â–ˆâ–ˆâ–ˆ   â–‘â–“â–“â–’â–‘â–‘   â–‘â–“â–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘                  â–‘â–’â–“â–’  â–ˆâ–“</span><br><span class="line">          â–ˆâ–“â–’â–’â–“â–“â–ˆâ–ˆ  â–‘â–’â–’â–‘â–‘â–‘â–’â–’â–’â–’â–“â–ˆâ–ˆâ–“â–‘                            â–ˆâ–“</span><br><span class="line">          â–ˆâ–ˆ â–“â–‘â–’â–ˆ   â–“â–“â–“â–“â–’â–‘â–‘  â–’â–ˆâ–“       â–’â–“â–“â–ˆâ–ˆâ–“    â–“â–’          â–’â–’â–“</span><br><span class="line">          â–“â–ˆâ–“ â–“â–’â–ˆ  â–ˆâ–“â–‘  â–‘â–’â–“â–“â–ˆâ–ˆâ–’            â–‘â–“â–ˆâ–’   â–’â–’â–’â–‘â–’â–’â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’</span><br><span class="line">           â–ˆâ–ˆâ–‘ â–“â–ˆâ–’â–ˆâ–’  â–’â–“â–“â–’  â–“â–ˆ                â–ˆâ–‘      â–‘â–‘â–‘â–‘   â–‘â–ˆâ–’</span><br><span class="line">           â–“â–ˆ   â–’â–ˆâ–“   â–‘     â–ˆâ–‘                â–’â–ˆ              â–ˆâ–“</span><br><span class="line">            â–ˆâ–“   â–ˆâ–ˆ         â–ˆâ–‘                 â–“â–“        â–’â–ˆâ–“â–“â–“â–’â–ˆâ–‘</span><br><span class="line">             â–ˆâ–“ â–‘â–“â–ˆâ–ˆâ–‘       â–“â–’                  â–“â–ˆâ–“â–’â–‘â–‘â–‘â–’â–“â–ˆâ–‘    â–’â–ˆ</span><br><span class="line">              â–ˆâ–ˆ   â–“â–ˆâ–“â–‘      â–’                    â–‘â–’â–ˆâ–’â–ˆâ–ˆâ–’      â–“â–“</span><br><span class="line">               â–“â–ˆâ–’   â–’â–ˆâ–“â–’â–‘                         â–’â–’ â–ˆâ–’â–ˆâ–“â–’â–’â–‘â–‘â–’â–ˆâ–ˆ</span><br><span class="line">                â–‘â–ˆâ–ˆâ–’    â–’â–“â–“â–’                     â–“â–ˆâ–ˆâ–“â–’â–ˆâ–’ â–‘â–“â–“â–“â–“â–’â–ˆâ–“</span><br><span class="line">                  â–‘â–“â–ˆâ–ˆâ–’                          â–“â–‘  â–’â–ˆâ–“â–ˆ  â–‘â–‘â–’â–’â–’</span><br><span class="line">                      â–’â–“â–“â–“â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–‘â–‘â–“â–“  â–“â–‘â–’â–ˆâ–‘</span><br><span class="line"></span><br><span class="line">    ______ _ _       _       _____  ____  _         _____ _ _            _  BETA</span><br><span class="line">   |  ____| (_)     | |     / ____|/ __ \| |       / ____| (_)          | |</span><br><span class="line">   | |__  | |_ _ __ | | __ | (___ | |  | | |      | |    | |_  ___ _ __ | |_</span><br><span class="line">   |  __| | | | <span class="string">&#x27;_ \| |/ /  \___ \| |  | | |      | |    | | |/ _ \ &#x27;</span>_ \| __|</span><br><span class="line">   | |    | | | | | |   &lt;   ____) | |__| | |____  | |____| | |  __/ | | | |_</span><br><span class="line">   |_|    |_|_|_| |_|_|\_\ |_____/ \___\_\______|  \_____|_|_|\___|_| |_|\__|</span><br><span class="line"></span><br><span class="line">        Welcome! Enter <span class="string">&#x27;HELP;&#x27;</span> to list all available commands. <span class="string">&#x27;QUIT;&#x27;</span> to <span class="built_in">exit</span>.</span><br><span class="line"></span><br><span class="line">Command <span class="built_in">history</span> file path: /root/.flink-sql-history</span><br><span class="line"></span><br><span class="line">Flink SQL&gt;</span><br></pre></td></tr></table></figure>

<h2 id="æ­¥éª¤äº”ï¼šåˆ›å»ºè¡¨"><a href="#æ­¥éª¤äº”ï¼šåˆ›å»ºè¡¨" class="headerlink" title="æ­¥éª¤äº”ï¼šåˆ›å»ºè¡¨"></a>æ­¥éª¤äº”ï¼šåˆ›å»ºè¡¨</h2><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸‰æ¡ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> CATALOG my_catalog <span class="keyword">WITH</span> (</span><br><span class="line">  <span class="string">&#x27;type&#x27;</span><span class="operator">=</span><span class="string">&#x27;table-store&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;warehouse&#x27;</span><span class="operator">=</span><span class="string">&#x27;file:/tmp/table_store&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">USE CATALOG my_catalog;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- create a word count table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> word_count (</span><br><span class="line">    word STRING <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> ENFORCED,</span><br><span class="line">    cnt <span class="type">BIGINT</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="æ­¥éª¤å…­ï¼šå†™å…¥æ•°æ®"><a href="#æ­¥éª¤å…­ï¼šå†™å…¥æ•°æ®" class="headerlink" title="æ­¥éª¤å…­ï¼šå†™å…¥æ•°æ®"></a>æ­¥éª¤å…­ï¼šå†™å…¥æ•°æ®</h2><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- create a word data generator table</span></span><br><span class="line"><span class="keyword">CREATE</span> TEMPORARY <span class="keyword">TABLE</span> word_table (</span><br><span class="line">    word STRING</span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;connector&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;datagen&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;fields.word.length&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- table store requires checkpoint interval in streaming mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.checkpointing.interval&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;10 s&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- write streaming data to dynamic table</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> word_count <span class="keyword">SELECT</span> word, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> word_table <span class="keyword">GROUP</span> <span class="keyword">BY</span> word;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨ Flink ä»ªè¡¨ç›˜çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„ä½œä¸šï¼š</p>
<p><img src="/image/2022/20220916002.png" alt="Untitled"></p>
<h2 id="æ­¥éª¤ä¸ƒï¼šOLAP-æŸ¥è¯¢"><a href="#æ­¥éª¤ä¸ƒï¼šOLAP-æŸ¥è¯¢" class="headerlink" title="æ­¥éª¤ä¸ƒï¼šOLAP æŸ¥è¯¢"></a>æ­¥éª¤ä¸ƒï¼š<strong><strong>OLAP æŸ¥è¯¢</strong></strong></h2><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- use tableau result mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;sql-client.execution.result-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;tableau&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- switch to batch mode</span></span><br><span class="line">RESET <span class="string">&#x27;execution.checkpointing.interval&#x27;</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.runtime-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;batch&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- olap query the table</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> word_count;</span><br></pre></td></tr></table></figure>

<p>OLAP çš„æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Flink <span class="keyword">SQL</span><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> word_count;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span> word <span class="operator">|</span>    cnt <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span> <span class="number">167846</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="number">167779</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="number">167708</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> <span class="number">168591</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> <span class="number">168384</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="number">168587</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">6</span> <span class="operator">|</span> <span class="number">168275</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">7</span> <span class="operator">|</span> <span class="number">167705</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">8</span> <span class="operator">|</span> <span class="number">169200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">9</span> <span class="operator">|</span> <span class="number">168222</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    a <span class="operator">|</span> <span class="number">167486</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    b <span class="operator">|</span> <span class="number">167603</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    c <span class="operator">|</span> <span class="number">168221</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    d <span class="operator">|</span> <span class="number">167459</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    e <span class="operator">|</span> <span class="number">168599</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    f <span class="operator">|</span> <span class="number">168335</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="number">16</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¤šæ‰§è¡Œå‡ æ¬¡ä¸Šé¢çš„æŸ¥è¯¢ SQL è¯­å¥ï¼Œå¹¶è§‚å¯Ÿç»“æœçš„å˜åŒ–ã€‚</p>
<p>åœ¨ Flink ä»ªè¡¨ç›˜çš„å·²å®Œæˆä½œä¸šåˆ—è¡¨ï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšå®Œæˆæ‰§è¡Œ OLAP æŸ¥è¯¢çš„ä½œä¸šï¼š</p>
<p><img src="/image/2022/20220916003.png" alt="Untitled"></p>
<h2 id="æ­¥éª¤å…«ï¼šæµå¼æŸ¥è¯¢"><a href="#æ­¥éª¤å…«ï¼šæµå¼æŸ¥è¯¢" class="headerlink" title="æ­¥éª¤å…«ï¼šæµå¼æŸ¥è¯¢"></a>æ­¥éª¤å…«ï¼šæµå¼æŸ¥è¯¢</h2><p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- switch to streaming mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.runtime-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;streaming&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- track the changes of table and calculate the count interval statistics</span></span><br><span class="line"><span class="keyword">SELECT</span> `<span class="type">interval</span>`, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> interval_cnt <span class="keyword">FROM</span></span><br><span class="line">  (<span class="keyword">SELECT</span> cnt <span class="operator">/</span> <span class="number">10000</span> <span class="keyword">AS</span> `<span class="type">interval</span>` <span class="keyword">FROM</span> word_count) <span class="keyword">GROUP</span> <span class="keyword">BY</span> `<span class="type">interval</span>`;</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">Flink <span class="keyword">SQL</span><span class="operator">&gt;</span> <span class="keyword">SELECT</span> `<span class="type">interval</span>`, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> interval_cnt <span class="keyword">FROM</span></span><br><span class="line"><span class="operator">&gt;</span>   (<span class="keyword">SELECT</span> cnt <span class="operator">/</span> <span class="number">10000</span> <span class="keyword">AS</span> `<span class="type">interval</span>` <span class="keyword">FROM</span> word_count) <span class="keyword">GROUP</span> <span class="keyword">BY</span> `<span class="type">interval</span>`;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------+----------------------+</span></span><br><span class="line"><span class="operator">|</span> op <span class="operator">|</span>             <span class="type">interval</span> <span class="operator">|</span>         interval_cnt <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+----------------------+----------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>I <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">8</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">8</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">9</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                    <span class="number">9</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">11</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">11</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">12</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">12</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">13</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">14</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">14</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">15</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">-</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">15</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="operator">+</span>U <span class="operator">|</span>                   <span class="number">53</span> <span class="operator">|</span>                   <span class="number">16</span> <span class="operator">|</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æµæ¨¡å¼ï¼Œå¯ä»¥è·å–åŠ¨æ€è¡¨çš„æ›´æ”¹æ—¥å¿—ï¼Œå¹¶æ‰§è¡Œæ–°çš„æµè®¡ç®—ã€‚</p>
<p>åœ¨ Flink ä»ªè¡¨ç›˜çš„æ­£åœ¨è¿è¡Œä½œä¸šåˆ—è¡¨ä¸Šï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšå¯åŠ¨çš„æ­£åœ¨è¿è¡Œçš„ä½œä¸šï¼ˆä½œä¸šåï¼šcollectï¼‰ï¼š</p>
<p><img src="/image/2022/20220916005.png" alt="Untitled"></p>
<h2 id="æ­¥éª¤ä¹ï¼šé€€å‡º"><a href="#æ­¥éª¤ä¹ï¼šé€€å‡º" class="headerlink" title="æ­¥éª¤ä¹ï¼šé€€å‡º"></a>æ­¥éª¤ä¹ï¼šé€€å‡º</h2><p>ä¾æ¬¡æ‰“å¼€ Flink ä»ªè¡¨ç›˜ä¸Šæ­£åœ¨è¿è¡Œä½œä¸šåˆ—è¡¨ä¸Šçš„ä½œä¸šï¼Œè¿›å…¥ä½œä¸šè¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡» Cancel Job æŒ‰é’®ï¼Œå–æ¶ˆä½œä¸šã€‚</p>
<p>åœ¨ SQL Client ä¸Šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- drop the dynamic table, clear the files</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> word_count;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- exit sql-client</span></span><br><span class="line">EXIT;</span><br></pre></td></tr></table></figure>

<p>åœæ­¢ Flink æœ¬åœ°é›†ç¾¤ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">.<span class="operator">/</span>bin<span class="operator">/</span>stop<span class="operator">-</span>cluster.sh</span><br></pre></td></tr></table></figure>

<h2 id="ç¥è´º"><a href="#ç¥è´º" class="headerlink" title="ç¥è´º"></a>ç¥è´º</h2><p>æ­å–œä½ å®Œæˆ Flink Table Store çš„å¿«é€Ÿå…¥é—¨ã€‚ç›¸ä¿¡ä½ å¯¹ Flink Table Store å·²ç»æœ‰äº†åˆæ­¥çš„äº†è§£ã€‚</p>
<p>å†…å®¹æ¥æºï¼š</p>
<p><a href="https://nightlies.apache.org/flink/flink-table-store-docs-release-0.2/docs/try-table-store/quick-start/">https://nightlies.apache.org/flink/flink-table-store-docs-release-0.2/docs/try-table-store/quick-start/</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
        <tag>Flink Table Store</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³ Logstash åœ¨å‡ºç°è§£æå¼‚å¸¸æ—¶ logstash-plain.log æ—¥å¿—æ–‡ä»¶æ²¡æœ‰è®°å½•åŸå§‹æ•°æ®é—®é¢˜</title>
    <url>/2023/03/31/logstash-plain-log-did-not-record-the-original-data-when-a-parsing-exception-occurs/</url>
    <content><![CDATA[<p>æˆ‘åœ¨ä½¿ç”¨ Logstah å¤„ç†æ•°æ®æ—¶ï¼Œåœ¨ logstash-plain.log æ–‡ä»¶ä¸­å‘ç°äº†ä»¥ä¸‹çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[2023-03-31T00:10:28,949][ERROR][logstash.filters.ruby    ][main][d6838068510d1ed4e2d1025930d8680ca59bdef970aaa32f4e2d8d28a09ee6d3] Ruby exception occurred: unexpected token at &#x27;&#x27; &#123;:class=&gt;&quot;JSON::ParserError&quot;, :backtrace=&gt;[&quot;json/ext/Parser.java:238:in `parse&#x27;&quot;, &quot;/usr/share/logstash/vendor/bundle/jruby/2.6.0/gems/json-2.6.3-java/lib/json/common.rb:216:in `parse&#x27;&quot;, &quot;(ruby filter code):3:in `block in filter_method&#x27;&quot;, &quot;/usr/share/logstash/vendor/bundle/jruby/2.6.0/gems/logstash-filter-ruby-3.1.8/lib/logstash/filters/ruby.rb:96:in `inline_script&#x27;&quot;, &quot;/usr/share/logstash/vendor/bundle/jruby/2.6.0/gems/logstash-filter-ruby-3.1.8/lib/logstash/filters/ruby.rb:89:in `filter&#x27;&quot;, &quot;/usr/share/logstash/logstash-core/lib/logstash/filters/base.rb:159:in `do_filter&#x27;&quot;, &quot;/usr/share/logstash/logstash-core/lib/logstash/filters/base.rb:178:in `block in multi_filter&#x27;&quot;, &quot;org/jruby/RubyArray.java:1865:in `each&#x27;&quot;, &quot;/usr/share/logstash/logstash-core/lib/logstash/filters/base.rb:175:in `multi_filter&#x27;&quot;, &quot;org/logstash/config/ir/compiler/AbstractFilterDelegatorExt.java:134:in `multi_filter&#x27;&quot;, &quot;/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:301:in `block in start_workers&#x27;&quot;]&#125;</span><br><span class="line">[2023-03-31T00:10:28,981][WARN ][logstash.filters.split   ][main][22c40e0aa24b6a13b219d12e11012938eec3bbf9da6d4f2672324181399c74af] Only String and Array types are splittable. field:data_arr is of type = NilClass</span><br><span class="line">[2023-03-31T00:10:29,008][WARN ][logstash.filters.json    ][main][b38819c35002a46187eeb47979e43d989d40afd9c95cdea1b6ac74cfc08927e6] Error parsing json &#123;:source=&gt;&quot;@tmp&quot;, :raw=&gt;&quot;%&#123;data_arr&#125;&quot;, :exception=&gt;#&lt;LogStash::Json::ParserError: Unexpected character (&#x27;%&#x27; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#x27;null&#x27;, &#x27;true&#x27; or &#x27;false&#x27;)</span><br><span class="line"> at [Source: (byte[])&quot;%&#123;data_arr&#125;&quot;; line: 1, column: 2]&gt;&#125;</span><br></pre></td></tr></table></figure>

<p>ä»è¯¥å¼‚å¸¸ä¿¡æ¯å¯ä»¥çŸ¥é“æ˜¯ filter çš„ ruby è¿™é‡Œå‡ºé”™äº†â€”â€”JSON è½¬æ¢é”™è¯¯ï¼Œä½†æ˜¯å¹¶æ²¡å‘Šè¯‰æˆ‘å‡ºé”™çš„å†…å®¹æ˜¯ä»€ä¹ˆã€‚å› ä¸ºè¿™é‡Œå¤„ç†çš„æ˜¯ APP ç”¨æˆ·è¡Œä¸ºçš„åŸ‹ç‚¹æ—¥å¿—ï¼Œæ•°æ®é‡å¾ˆå¤§ï¼Œæˆ‘æ— æ³•å¿«é€Ÿç¡®å®š APP ç«¯åˆ°åº•ä¸ŠæŠ¥äº†ä»€ä¹ˆå†…å®¹å¯¼è‡´å‡ºç°è¯¥å¼‚å¸¸ï¼Œä»è€Œæ— æ³•å¿«é€Ÿé€šçŸ¥ç›¸å…³äººå‘˜åŠæ—¶æ’æŸ¥å’Œä¿®æ”¹ã€‚æˆ‘éœ€è¦è°ƒæ•´ Logstash å“ªäº›é…ç½®ä»¥ä¾¿åœ¨å‡ºç°è§£æå¤±è´¥æ—¶å¯ä»¥è®°å½•åŸå§‹æ•°æ®ï¼Ÿ</p>
<p>æˆ‘çš„ Logstash é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    beats &#123;</span><br><span class="line">        port =&gt; &quot;8085&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter &#123;</span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;message&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ruby &#123;</span><br><span class="line">        code =&gt; &quot;</span><br><span class="line">            event.set(&#x27;data_arr&#x27;, JSON.parse(event.get(&#x27;data&#x27;)))</span><br><span class="line">            event.set(&#x27;logstash_time&#x27;, Time.now.to_i)</span><br><span class="line">            &quot;</span><br><span class="line">        remove_field =&gt; [&quot;data&quot;]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    split &#123;</span><br><span class="line">        field =&gt; &quot;data_arr&quot;</span><br><span class="line">        remove_field =&gt; &quot;tags&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mutate &#123;</span><br><span class="line">        add_field =&gt; &#123;&quot;@tmp&quot; =&gt; &quot;%&#123;data_arr&#125;&quot;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;@tmp&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output &#123;</span><br><span class="line">    kafka &#123;</span><br><span class="line">        codec =&gt; json</span><br><span class="line">        topic_id =&gt; &quot;behavior-log&quot;</span><br><span class="line">        bootstrap_servers =&gt; &quot;kafka1:9092,kafka2:9092,kafka3:9092&quot;</span><br><span class="line">        client_id =&gt; &quot;logstash-behavior-log-01&quot;</span><br><span class="line">        acks =&gt; &quot;all&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>ä½ å¯ä»¥åœ¨å‡ºç°å¼‚å¸¸æ—¶ï¼ŒæŠŠåŸå§‹æ•°æ®è®°å½•è¾“å‡ºåˆ°æ–‡ä»¶ä¸Šã€‚fiter çš„ ruby ä»£ç å‡ºé”™æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæŠŠ <code>_rubyexception</code> æ·»åŠ åˆ°äº‹ä»¶çš„ tags å­—æ®µä¸Šã€‚ä¾‹å¦‚åœ¨ ruby ä»£ç ä¸­å°†ç©ºå­—ç¬¦ä¸²ä¼ ç»™ <code>JSON.parse()</code> æ–¹æ³•ï¼Œäº‹ä»¶ tags å­—æ®µä¸­ä¼šæœ‰ä»¥ä¸‹çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;tags&quot;:[</span><br><span class="line">    &quot;_rubyexception: unexpected token at &#x27;&#x27;&quot;,</span><br><span class="line">    &quot;_rubyexception&quot;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­ tags æ•°ç»„ä¸­æ˜¯å¦æœ‰ <code>_rubyexception</code> å€¼ï¼Œå¦‚æœæœ‰ï¼Œè¯´æ˜ ruby ä»£ç æœ‰å¼‚å¸¸ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨è¾“å‡ºçš„æ—¶å€™æŠŠè¯¥æ•°æ®å†™åˆ°æ–‡ä»¶ä¸Šï¼ˆä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–å­˜å‚¨ï¼Œå¦‚ Elasticsearchï¼‰ã€‚</p>
<p>æ ¹æ®ä½ çš„é…ç½®ï¼Œæˆ‘æ·»åŠ äº†ä»¥ä¸‹ä¿®æ”¹ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µå†åšä¿®æ”¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    beats &#123;</span><br><span class="line">        port =&gt; &quot;8085&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">filter &#123;</span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;message&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ruby &#123;</span><br><span class="line">        code =&gt; &quot;</span><br><span class="line">            event.set(&#x27;data_arr&#x27;, JSON.parse(event.get(&#x27;data&#x27;)))</span><br><span class="line">            event.set(&#x27;logstash_time&#x27;, Time.now.to_i)</span><br><span class="line">            &quot;</span><br><span class="line">        remove_field =&gt; [&quot;data&quot;]</span><br><span class="line">        tag_with_exception_message =&gt; true</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    split &#123;</span><br><span class="line">        field =&gt; &quot;data_arr&quot;</span><br><span class="line">        remove_field =&gt; &quot;tags&quot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mutate &#123;</span><br><span class="line">        add_field =&gt; &#123;&quot;@tmp&quot; =&gt; &quot;%&#123;data_arr&#125;&quot;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    json &#123;</span><br><span class="line">        source =&gt; &quot;@tmp&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output &#123;</span><br><span class="line">    kafka &#123;</span><br><span class="line">        codec =&gt; json</span><br><span class="line">        topic_id =&gt; &quot;behavior-log&quot;</span><br><span class="line">        bootstrap_servers =&gt; &quot;kafka1:9092,kafka2:9092,kafka3:9092&quot;</span><br><span class="line">        client_id =&gt; &quot;logstash-behavior-log-01&quot;</span><br><span class="line">        acks =&gt; &quot;all&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    if &quot;_rubyexception&quot; in [tags] &#123;</span><br><span class="line">        file &#123;</span><br><span class="line">            path =&gt; &quot;/var/log/logstash/error.log&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>ELK</tag>
        <tag>Logstash</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥äº†è§£Gsonï¼šJavaå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</title>
    <url>/2023/08/26/gson-serializing-and-deserializing-objects/</url>
    <content><![CDATA[<p>æœ¬æ–‡å°†ä»‹ç»ä¸€äº›ä½¿ç”¨ Gson åº“è¿›è¡Œå¯¹è±¡åºåˆ—åŒ–æ—¶éœ€è¦æ³¨æ„çš„ç»†èŠ‚ï¼Œå¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨è¯¥åº“ã€‚</p>
<h2 id="å¼•å…¥Gsonåº“"><a href="#å¼•å…¥Gsonåº“" class="headerlink" title="å¼•å…¥Gsonåº“"></a>å¼•å…¥Gsonåº“</h2><p>é¦–å…ˆï¼Œéœ€è¦ç¡®ä¿é¡¹ç›®ä¸­å·²ç»æ­£ç¡®å¼•å…¥äº† Gson åº“ã€‚å¯ä»¥é€šè¿‡ Mavenã€Gradle æˆ–æ‰‹åŠ¨ä¸‹è½½ jar åŒ…çš„æ–¹å¼å¯¼å…¥ Gson åº“ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨ Mavenï¼Œåœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºGsonå¯¹è±¡"><a href="#åˆ›å»ºGsonå¯¹è±¡" class="headerlink" title="åˆ›å»ºGsonå¯¹è±¡"></a>åˆ›å»ºGsonå¯¹è±¡</h2><p>åœ¨ä½¿ç”¨ Gson åº“ä¹‹å‰ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª Gson å¯¹è±¡ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤çš„ Gson æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ª Gson å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦é…ç½®ä¸€äº›å‚æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœå¸Œæœ›å°† JSON å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ Gson å¯¹è±¡çš„ <code>setPrettyPrinting</code> æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>()</span><br><span class="line">                .setPrettyPrinting()</span><br><span class="line">                .create();</span><br></pre></td></tr></table></figure>

<h2 id="åºåˆ—åŒ–å¯¹è±¡"><a href="#åºåˆ—åŒ–å¯¹è±¡" class="headerlink" title="åºåˆ—åŒ–å¯¹è±¡"></a>åºåˆ—åŒ–å¯¹è±¡</h2><p>è¦å°† Java å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æ ¼å¼ï¼Œåªéœ€è¦è°ƒç”¨ Gson å¯¹è±¡çš„ <code>toJson</code> æ–¹æ³•ï¼Œå¹¶ä¼ å…¥å¾…åºåˆ—åŒ–çš„ Java å¯¹è±¡å³å¯ã€‚Gson åº“ä¼šæ ¹æ®å¯¹è±¡çš„å­—æ®µå’Œå…¶å¯¹åº”çš„ <code>getter</code> æ–¹æ³•è‡ªåŠ¨å°†å…¶è½¬æ¢ä¸º JSON æ ¼å¼ã€‚</p>
<p>ä»¥ <code>BagOfPrimitives</code> å®ä½“ç±»ä¸ºä¾‹ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 07:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BagOfPrimitives</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">value1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">value2</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">int</span> <span class="variable">value3</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    BagOfPrimitives() &#123;</span><br><span class="line">        <span class="comment">// no-args constructor</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue1</span><span class="params">(<span class="type">int</span> value1)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.value1 = value1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getValue2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue2</span><span class="params">(String value2)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.value2 = value2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getValue3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue3</span><span class="params">(<span class="type">int</span> value3)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.value3 = value3;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ– <code>BagOfPrimitives</code> å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ Gson è¿›è¡Œåºåˆ—åŒ–ï¼Œæœ€ååœ¨æ§åˆ¶å°è¿›è¡Œæ‰“å°è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">BagOfPrimitives</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BagOfPrimitives</span>();</span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(obj);</span><br><span class="line"></span><br><span class="line">System.out.println(json);</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;value1&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;value2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;abc&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ <code>main()</code> å‡½æ•°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.gson;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.GsonBuilder;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/1 07:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectExample02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>()</span><br><span class="line">                .setPrettyPrinting()</span><br><span class="line">                .create();</span><br><span class="line"></span><br><span class="line">        <span class="type">BagOfPrimitives</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BagOfPrimitives</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(obj);</span><br><span class="line"></span><br><span class="line">        System.out.println(json);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  &quot;value1&quot;: 1,</span></span><br><span class="line"><span class="comment">  &quot;value2&quot;: &quot;abc&quot;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯·æ³¨æ„ï¼Œä¸èƒ½åºåˆ—åŒ–å…·æœ‰å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´æ— é™é€’å½’ã€‚</p>
</blockquote>
<h2 id="ååºåˆ—åŒ–å¯¹è±¡"><a href="#ååºåˆ—åŒ–å¯¹è±¡" class="headerlink" title="ååºåˆ—åŒ–å¯¹è±¡"></a>ååºåˆ—åŒ–å¯¹è±¡</h2><p>è¦å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º Java å¯¹è±¡ï¼Œåªéœ€è°ƒç”¨ Gson å¯¹è±¡çš„ <code>fromJson</code> æ–¹æ³•ï¼Œå¹¶ä¼ å…¥å¾…ååºåˆ—åŒ–çš„ JSON å­—ç¬¦ä¸²å’Œç›®æ ‡ Java å¯¹è±¡çš„ç±»ç±»å‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯¹ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­è·å–çš„ JSON å­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ååºåˆ—åŒ–ï¼Œobj2ä¸objéå¸¸ç±»ä¼¼</span></span><br><span class="line"><span class="type">BagOfPrimitives</span> <span class="variable">obj2</span> <span class="operator">=</span> gson.fromJson(json, BagOfPrimitives.class);</span><br></pre></td></tr></table></figure>

<h2 id="å…³äºå¯¹è±¡çš„ä¸€äº›ç»†èŠ‚"><a href="#å…³äºå¯¹è±¡çš„ä¸€äº›ç»†èŠ‚" class="headerlink" title="å…³äºå¯¹è±¡çš„ä¸€äº›ç»†èŠ‚"></a>å…³äºå¯¹è±¡çš„ä¸€äº›ç»†èŠ‚</h2><ul>
<li>åœ¨ä½¿ç”¨ç§æœ‰å­—æ®µæ–¹é¢æ˜¯å®Œå…¨å¯ä»¥çš„ï¼ˆä¸”å»ºè®®å¦‚æ­¤ï¼‰ã€‚</li>
<li>æ²¡æœ‰å¿…è¦ä½¿ç”¨ä»»ä½•æ³¨è§£æ¥æŒ‡ç¤ºä¸€ä¸ªå­—æ®µéœ€è¦è¢«åŒ…æ‹¬åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¸­ã€‚æ‰€æœ‰å½“å‰ç±»åŠå…¶çˆ¶ç±»çš„å­—æ®µé»˜è®¤éƒ½ä¼šè¢«åŒ…æ‹¬è¿›å»ã€‚</li>
<li>å¦‚æœä¸€ä¸ªå­—æ®µè¢«æ ‡è®°ä¸º <code>transient</code>ï¼Œé»˜è®¤æƒ…å†µå®ƒä¼šè¢«å¿½ç•¥ï¼Œä¸ä¼šåŒ…æ‹¬åœ¨ JSON åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–ä¸­ã€‚</li>
<li>Gson çš„å®ç°å¯æ­£ç¡®å¤„ç† null å­—æ®µï¼š <ul>
<li>åœ¨åºåˆ—åŒ–æ—¶ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µä¸ºç©ºå€¼ï¼ˆnullï¼‰ï¼Œåˆ™ä¸ä¼šåŒ…æ‹¬åœ¨è¾“å‡ºç»“æœä¸­ã€‚</li>
<li>åœ¨ååºåˆ—åŒ–æ—¶ï¼Œå¦‚æœ JSON ä¸­ç¼ºå°‘æŸä¸ªå­—æ®µï¼Œåˆ™ä¼šå°†å¯¹è±¡ä¸­å¯¹åº”çš„å­—æ®µè®¾ç½®ä¸ºå…¶é»˜è®¤å€¼ï¼šå¯¹è±¡ç±»å‹ä¸º nullï¼Œæ•°å€¼ç±»å‹ä¸º 0ï¼Œå¸ƒå°”ç±»å‹ä¸º falseã€‚</li>
</ul>
</li>
<li>å¦‚æœä¸€ä¸ªå­—æ®µæ˜¯åˆæˆçš„ï¼ˆsyntheticï¼‰ï¼Œåˆ™ä¼šè¢«å¿½ç•¥ï¼Œä¸ä¼šåŒ…å«åœ¨ JSON åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–ä¸­ã€‚</li>
<li>å†…éƒ¨ç±»ä¸­å¯¹åº”å¤–éƒ¨ç±»çš„å­—æ®µä¼šè¢«å¿½ç•¥ï¼Œä¹Ÿä¸ä¼šåŒ…æ‹¬åœ¨åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–ä¸­ã€‚</li>
<li>åŒ¿åç±»å’Œå±€éƒ¨ç±»ä¼šè¢«æ’é™¤åœ¨å¤–ã€‚å®ƒä»¬ä¼šè¢«åºåˆ—åŒ–ä¸º JSON çš„ nullï¼Œåœ¨ååºåˆ—åŒ–æ—¶å®ƒä»¬çš„ JSON å€¼ä¼šè¢«å¿½ç•¥ï¼Œè¿”å› nullã€‚å°†è¿™äº›ç±»è½¬æ¢ä¸ºé™æ€åµŒå¥—ç±»ï¼ˆ<code>static</code>ï¼‰å¯ä»¥ä½¿å®ƒä»¬èƒ½å¤Ÿè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Elasticsearchä½¿ç”¨Query DSLæ‰¹é‡å†™æ•°æ®è‡³ç´¢å¼•æŠ¥json_e_o_f_exceptionå¼‚å¸¸</title>
    <url>/2022/10/13/how-to-solve-json-e-o-f-exception-on-bulk-index/</url>
    <content><![CDATA[<p>æˆ‘åœ¨ Kibana çš„å¼€å‘å·¥å…·é¡µé¢ä¸­ä½¿ç”¨ Query DSL ç»™ç´¢å¼•æ‰¹é‡æ·»åŠ æ•°æ®æ—¶ï¼Œå‡ºç°äº† json_e_o_f_exception å¼‚å¸¸ã€‚</p>
<p>é‡ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>åˆ›å»ºç´¢å¼• DSLï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT user_info_v202210120517219 </span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;refresh_interval&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1s&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number_of_replicas&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;user_type_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;user_type_name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ‰¹é‡æ·»åŠ æ•°æ® DSLï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT user_info_v202210120517219/_bulk</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022001&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">2022001</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;17612345678&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022-08-12 22:54:09&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;user_type_id&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;user_type_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SVIP&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022002&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span> <span class="number">2022002</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span> <span class="string">&quot;17712345678&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022-08-13 09:14:10&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;user_type_id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;user_type_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;VIP&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½†ç»“æœè¿”å›äº† 500 é”™è¯¯ï¼Œå…·ä½“è¿”å›å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;error&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;root_cause&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json_e_o_f_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Unexpected end-of-input: expected close marker for Object (start marker at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@2501da6e; line: 1, column: 1])\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@2501da6e; line: 2, column: 3]&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json_e_o_f_exception&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Unexpected end-of-input: expected close marker for Object (start marker at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@2501da6e; line: 1, column: 1])\n at [Source: org.elasticsearch.transport.netty4.ByteBufStreamInput@2501da6e; line: 2, column: 3]&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="number">500</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ‰¹é‡æ·»åŠ æ•°æ® DSL æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</p>
<hr>
<p>æ‰¹é‡æ·»åŠ æ•°æ® DSL é‡Œæ•°æ®æ ¼å¼æœ‰é—®é¢˜, <code>_bulk</code> ç”Ÿæˆæ–‡æ¡£éœ€è¦ JSON æ ¼å¼ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰æ¢è¡Œç¬¦ã€‚æ”¹æˆå¦‚ä¸‹å°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT user_info_v202210120517219/_bulk</span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022001&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span><span class="number">2022001</span><span class="punctuation">,</span><span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="string">&quot;17612345678&quot;</span><span class="punctuation">,</span><span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span><span class="string">&quot;2022-08-12 22:54:09&quot;</span><span class="punctuation">,</span><span class="attr">&quot;user_type_id&quot;</span><span class="punctuation">:</span><span class="number">2</span><span class="punctuation">,</span><span class="attr">&quot;user_type_name&quot;</span><span class="punctuation">:</span><span class="string">&quot;SVIP&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022002&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;user_id&quot;</span><span class="punctuation">:</span><span class="number">2022002</span><span class="punctuation">,</span><span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="string">&quot;17712345678&quot;</span><span class="punctuation">,</span><span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span><span class="string">&quot;2022-08-13 09:14:10&quot;</span><span class="punctuation">,</span><span class="attr">&quot;user_type_id&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;user_type_name&quot;</span><span class="punctuation">:</span><span class="string">&quot;VIP&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;took&quot;</span> <span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;errors&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;items&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;_index&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;user_info_v202210120517219&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_type&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;_doc&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_id&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2022001&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_version&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;result&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;created&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_shards&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;total&quot;</span> <span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;successful&quot;</span> <span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;failed&quot;</span> <span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_seq_no&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_primary_term&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;status&quot;</span> <span class="punctuation">:</span> <span class="number">201</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;_index&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;user_info_v202210120517219&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_type&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;_doc&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_id&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2022002&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_version&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;result&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;created&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_shards&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;total&quot;</span> <span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;successful&quot;</span> <span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;failed&quot;</span> <span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_seq_no&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_primary_term&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;status&quot;</span> <span class="punctuation">:</span> <span class="number">201</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>HiveSQLå†…ç½®å‡½æ•°â€”â€”COALESCEå‡½æ•°</title>
    <url>/2022/08/15/hive-sql-built-in-functions-coalesce/</url>
    <content><![CDATA[<h2 id="COALESCE-T-v1-T-v2-â€¦"><a href="#COALESCE-T-v1-T-v2-â€¦" class="headerlink" title="COALESCE(T v1, T v2, â€¦)"></a><em>COALESCE(T v1, T v2, â€¦)</em></h2><p>COALESCEï¼Œè¯»ä½œ /ËŒkÉ™ÊŠÉ™Ëˆles/ï¼Œè¯¥å‡½æ•°ç”¨äºè¿”å›ç¬¬ä¸€ä¸ªä¸ä¸º <em>NULL</em> çš„ <em>v</em>ï¼Œå¦‚æœæ‰€æœ‰ <em>v</em> éƒ½ä¸º <em>NULL</em>ï¼Œåˆ™è¿”å› <em>NULL</em>ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p><em>SELECT COALESCE(A, B, C) FROM TABLE_NAME</em></p>
<p>è¯¥ SQL çš„è¿”å›å€¼åˆ¤æ–­è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p>å¦‚æœ <em>A</em> ä¸ä¸º <em>NULL</em>ï¼Œåˆ™è¿”å› <em>A</em>ï¼Œå¦åˆ™åˆ¤æ–­ <em>B</em> æ˜¯å¦ä¸º <em>NULL</em>ï¼Œè‹¥ <em>B</em> ä¸ä¸º <em>NULL</em>ï¼Œåˆ™è¿”å› <em>B</em>ï¼Œå¦åˆ™ç»§ç»­åˆ¤æ–­ <em>C</em> æ˜¯å¦ä¸º <em>NULL</em>ï¼Œè‹¥ <em>C</em> ä¸ä¸º <em>NULL</em>ï¼Œåˆ™è¿”å› <em>C</em>ï¼Œå¦åˆ™è¿”å› <em>NULL</em>ã€‚</p>
<h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p>ä¸€ä¸ªå¸¸ç”¨çš„åœºæ™¯æ˜¯åœ¨ä¸€å¼ è¡¨ä¸­çš„æŸä¸ªå­—æ®µçš„é»˜è®¤å€¼ä¸º <em>NULL</em>ï¼Œåœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœè¯¥å­—æ®µä¸º <em>NULL</em>ï¼Œæˆ‘ä»¬å¸Œæœ›è¿”å›å…¶ä»–æœ‰æ„ä¹‰çš„å€¼è€Œä¸æ˜¯ <em>NULL</em> å€¼ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ <em>COALESCE</em> å‡½æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç”¨æˆ·è¡¨ï¼ˆ<em>dwd_user</em>ï¼‰ä¸­çš„å¸¸é©»åŸå¸‚å­—æ®µï¼ˆ<em>city</em>ï¼‰ï¼Œå¦‚æœä¸º <em>NULL</em> æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è¿”å›ç»™æœ€ç»ˆç”¨æˆ·æ—¶å¯ä»¥æ˜¾ç¤ºâ€œ<em>æœªçŸ¥</em>â€ï¼Œè€Œä¸æ˜¯ <em>NULL</em> å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COALESCE</span>(city, â€˜æœªçŸ¥â€™) <span class="keyword">FROM</span> dwd_user</span><br></pre></td></tr></table></figure>

<p>å¦ä¸€ä¸ªå¸¸ç”¨åœºæ™¯æ˜¯ä¸¤å¼ è¡¨åš <em>FULL JOIN</em> æ—¶ï¼Œå–å­—æ®µä¸ä¸º <em>NULL</em> çš„å­—æ®µå€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¡¨ <em>A(COL1, COL2, COL3)</em> å’Œè¡¨ <em>B(COL1, COL2, COL3)</em> åš <em>FULL JOIN</em> å…³è”ï¼Œå¦‚æœè¡¨ <em>A</em> çš„å­—æ®µå€¼ä¸ä¸º <em>NULL</em>ï¼Œåˆ™å–è¡¨ <em>A</em> çš„å­—æ®µï¼Œå¦åˆ™å–è¡¨ <em>B</em> çš„å­—æ®µï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">		<span class="built_in">COALESCE</span>(t1.COL1, t2.COL1),</span><br><span class="line">		<span class="built_in">COALESCE</span>(t1.COL2, t2.COL2),</span><br><span class="line">		<span class="built_in">COALESCE</span>(t1.COL3, t2.COL3)</span><br><span class="line"><span class="keyword">FROM</span> A t1</span><br><span class="line"><span class="keyword">FULL</span> <span class="keyword">JOIN</span> B t2 <span class="keyword">ON</span> t1.COL1 <span class="operator">=</span> t2.COL2</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOSå®‰è£…MySQL 5.7å¤±è´¥ï¼šGPG KeyéªŒè¯ä¸é€šè¿‡</title>
    <url>/2022/04/13/centos-install-mysql-gpg-key-error/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ CentOS ç³»ç»Ÿï¼Œé€šè¿‡ yum å‘½ä»¤å®‰è£… MySQL 5.7 æ—¶ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Public key <span class="keyword">for</span> mysql-community-server-5.7.37-1.el7.x86_64.rpm is not installed</span><br><span class="line"></span><br><span class="line"> Failing package is: mysql-community-server-5.7.37-1.el7.x86_64</span><br><span class="line"> GPG Keys are configured as: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br></pre></td></tr></table></figure>

<p>yum å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install mysql-server</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ä»é”™è¯¯ä¿¡æ¯å¯ä»¥ç¡®è®¤è¿™æ˜¯ç”± GPG Key éªŒè¯æ²¡æœ‰é€šè¿‡å¼•èµ·çš„ã€‚è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼š</p>
<p>yum å®‰è£…å‘½ä»¤åŠ ä¸Šå‚æ•° <code>--nogpgcheck</code>ï¼Œå³ç»•è¿‡ GPG Key éªŒè¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install mysql-server --nogpgcheck</span><br></pre></td></tr></table></figure>

<p>æ–¹æ³•äºŒ<em><strong>ï¼ˆæ¨èï¼‰</strong></em>ï¼š</p>
<p>å¯¼å…¥ GPG KEYï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥æˆåŠŸåï¼Œå†æ‰§è¡Œ yum å®‰è£…å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install mysql-server</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Centos7å®‰è£…MySQL 5.7 æ­¥éª¤ï¼ˆyumå®‰è£…ï¼‰</title>
    <url>/2022/04/05/how-to-install-mysql57-on-centos7/</url>
    <content><![CDATA[<h2 id="ä¸€ã€æ·»åŠ -yum-æº"><a href="#ä¸€ã€æ·»åŠ -yum-æº" class="headerlink" title="ä¸€ã€æ·»åŠ  yum æº"></a>ä¸€ã€æ·»åŠ  yum æº</h2><p>ä¸‹è½½ MySQL 5.7 rpm åŒ…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>å®‰è£… rpm åŒ…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> rpm -ivh mysql57-community-release-el7-9.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>å®Œæˆåä¼šåœ¨ /etc/yum.repos.d/ ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªrepoæ–‡ä»¶ï¼š</p>
<p>mysql-community.repoã€</p>
<p>mysql-community-source.repo</p>
<h2 id="äºŒã€å®‰è£…-MySQL"><a href="#äºŒã€å®‰è£…-MySQL" class="headerlink" title="äºŒã€å®‰è£… MySQL"></a>äºŒã€å®‰è£… MySQL</h2><p>è¿›å…¥ /etc/yum.repos.d ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d/</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ yum å®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install mysql-server</span><br></pre></td></tr></table></figure>

<p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šæœ‰æç¤ºç¡®è®¤ä¿¡æ¯ï¼Œä¸€èˆ¬ä¸€è·¯è¾“å…¥ <code>y</code> å³å¯ã€‚</p>
<p>å¦‚æœæ˜¾ç¤ºä»¥ä¸‹è¾“å‡ºï¼Œåˆ™è¡¨æ˜å®‰è£…å·²æˆåŠŸã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Installed:</span><br><span class="line">  mysql-community-server.x86_64 0:5.7.37-1.el7</span><br><span class="line"></span><br><span class="line">Dependency Installed:</span><br><span class="line">  mysql-community-client.x86_64 0:5.7.37-1.el7                          mysql-community-common.x86_64 0:5.7.37-1.el7                          mysql-community-libs.x86_64 0:5.7.37-1.el7</span><br><span class="line"></span><br><span class="line">Complete!</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å¯åŠ¨-MySQL"><a href="#ä¸‰ã€å¯åŠ¨-MySQL" class="headerlink" title="ä¸‰ã€å¯åŠ¨ MySQL"></a>ä¸‰ã€å¯åŠ¨ MySQL</h2><p>å¯åŠ¨ MySQLï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ MySQL çŠ¶æ€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure>

<p>é‡å¯ MySQLï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<p>åœæ­¢ MySQLï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl stop mysqld</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å¼€æœºå¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mysqld</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€ç™»å½•-MySQL"><a href="#å››ã€ç™»å½•-MySQL" class="headerlink" title="å››ã€ç™»å½• MySQL"></a>å››ã€ç™»å½• MySQL</h2><p>è·å– root ç”¨æˆ·é¦–æ¬¡ï¼ˆä¸´æ—¶ï¼‰ç™»å½•å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºä»¥ä¸‹è¾“å‡ºï¼Œroot ç”¨æˆ·é¦–æ¬¡ç™»å½•å¯†ç ä¸º 5XetjH9sk9*J ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Note] A temporary password is generated <span class="keyword">for</span> root@localhost: 5XetjH9sk9*J</span><br></pre></td></tr></table></figure>

<p>ç™»å½• MySQLï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ MySQL åï¼Œéœ€è¦ä¿®æ”¹ç”¨æˆ·ä¸´æ—¶å¯†ç ï¼Œå¦åˆ™æ‰§è¡Œå‘½ä»¤æ—¶ä¼šæç¤ºé”™è¯¯ï¼Œå¦‚æ‰§è¡Œ <code>show databases</code>ï¼Œä¼šæ˜¾ç¤ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;è¿™é‡Œè¾“å…¥æ–°å¯†ç ï¼Œå¦‚2020Super_Star&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ MySQL å¯†ç ç­–ç•¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SHOW VARIABLES LIKE <span class="string">&#x27;validate_password%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+--------------------------------------+--------+</span><br><span class="line">| Variable_name                        | Value  |</span><br><span class="line">+--------------------------------------+--------+</span><br><span class="line">| validate_password_check_user_name    | OFF    |</span><br><span class="line">| validate_password_dictionary_file    |        |</span><br><span class="line">| validate_password_length             | 8      |</span><br><span class="line">| validate_password_mixed_case_count   | 1      |</span><br><span class="line">| validate_password_number_count       | 1      |</span><br><span class="line">| validate_password_policy             | MEDIUM |</span><br><span class="line">| validate_password_special_char_count | 1      |</span><br><span class="line">+--------------------------------------+--------+</span><br><span class="line">7 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯†ç è¦æ±‚é•¿åº¦è¦å¤§äº8ä½ï¼ŒåŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€‚å¦‚ï¼š<code>2020Super_Star</code> ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>HiveSQLå†…ç½®å‡½æ•°â€”â€”DATEDIFFå‡½æ•°</title>
    <url>/2022/08/16/hive-sql-built-in-functions-datediff/</url>
    <content><![CDATA[<h2 id="DATEDIFF-string-enddate-string-startdate"><a href="#DATEDIFF-string-enddate-string-startdate" class="headerlink" title="DATEDIFF(string enddate, string startdate)"></a><em>DATEDIFF(string enddate, string startdate)</em></h2><p>è¿”å›ä» <em>startdate</em> åˆ° <em>enddate</em> çš„å¤©æ•°ã€‚</p>
<p>å¦‚æŸ¥è¯¢ä» 2022-08-01 åˆ° 2022-08-16 çš„å¤©æ•°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- è¯¥æŸ¥è¯¢è¿”å›ç»“æœä¸º 15</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2022-08-16&#x27;</span>,<span class="string">&#x27;2022-08-01&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨ç¤ºä¾‹"></a>ä½¿ç”¨ç¤ºä¾‹</h2><p>ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯è®¡ç®—ç”¨æˆ·æœªæ´»è·ƒæ—¶é•¿ï¼ˆå¤©ï¼‰ï¼Œè¯¥æŒ‡æ ‡çš„å®šä¹‰ï¼šç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´è·ç¦»æŸå¤©ï¼ˆä¸€èˆ¬æ˜¯æ˜¨æ—¥ï¼‰çš„å¤©æ•°ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- å‚æ•°dtï¼š20220815</span></span><br><span class="line"><span class="keyword">SELECT</span>  user_id, </span><br><span class="line">        DATEDIFF(FROM_UNIXTIME(UNIX_tIMESTAMP(<span class="string">&#x27;$&#123;dt&#125;&#x27;</span>,<span class="string">&#x27;yyyyMMdd&#x27;</span>)), last_login_time) </span><br><span class="line"><span class="keyword">FROM</span> mydw.dwd_user</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> user_id    <span class="operator">|</span> _c1       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1595225121</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1595224632</span> <span class="operator">|</span>         <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+-----------+</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Hive</tag>
      </tags>
  </entry>
  <entry>
    <title>Elasticsearchç´¢å¼•æ·»åŠ å­—æ®µ</title>
    <url>/2022/08/25/adding-new-fields-in-an-existing-index-elasticsearch/</url>
    <content><![CDATA[<p>æœ¬æ–‡åŸºäº 7.1.0 ç‰ˆæœ¬çš„ Elasticsearch æ¼”ç¤ºå¦‚ä½•ç»™å·²æœ‰çš„ç´¢å¼•æ·»åŠ æ–°å­—æ®µï¼Œå¹¶å¯¹æ¯”æ·»åŠ æ–°å­—æ®µå‰åçš„æ•°æ®æƒ…å†µã€‚ï¼ˆä»¥ä¸‹ API è°ƒç”¨å‡åœ¨ Kibana å¼€å‘å·¥å…·ä¸Šæ“ä½œï¼‰</p>
<p><strong>åˆ›å»ºç´¢å¼• user_info_v220101ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PUT user_info_v220101 </span><br><span class="line">&#123;</span><br><span class="line">  &quot;mappings&quot;: &#123;</span><br><span class="line">    &quot;properties&quot;: &#123;</span><br><span class="line">      &quot;user_id&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;integer&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;phone&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;keyword&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;create_time&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;date&quot;,</span><br><span class="line">        &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ’å…¥ä¸€æ¡æ•°æ®ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PUT user_info_v220101/_doc/2022001</span><br><span class="line">&#123;</span><br><span class="line">  &quot;user_id&quot;: 2022001,</span><br><span class="line">  &quot;phone&quot;: &quot;17700009999&quot;,</span><br><span class="line">  &quot;create_time&quot;: &quot;2022-08-12 12:21:32&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥è¯¢ç´¢å¼•æ•°æ®ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_search</span><br><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match_all&quot;: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥æŸ¥è¯¢è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 0,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 3,</span><br><span class="line">    &quot;successful&quot; : 3,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : &#123;</span><br><span class="line">      &quot;value&quot; : 1,</span><br><span class="line">      &quot;relation&quot; : &quot;eq&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;user_info_v220101&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;_doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2022001&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;user_id&quot; : 2022001,</span><br><span class="line">          &quot;phone&quot; : &quot;17700009999&quot;,</span><br><span class="line">          &quot;create_time&quot; : &quot;2022-08-12 12:21:32&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥è¯¢è¯¥ç´¢å¼• Mappingï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_mapping</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;user_info_v220101&quot; : &#123;</span><br><span class="line">    &quot;mappings&quot; : &#123;</span><br><span class="line">      &quot;properties&quot; : &#123;</span><br><span class="line">        &quot;create_time&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;date&quot;,</span><br><span class="line">          &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;phone&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;keyword&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;user_id&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;integer&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥è¯¢ç´¢å¼• settingsï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_settings</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;user_info_v220101&quot; : &#123;</span><br><span class="line">    &quot;settings&quot; : &#123;</span><br><span class="line">      &quot;index&quot; : &#123;</span><br><span class="line">        &quot;refresh_interval&quot; : &quot;60s&quot;,</span><br><span class="line">        &quot;number_of_shards&quot; : &quot;3&quot;,</span><br><span class="line">        &quot;translog&quot; : &#123;</span><br><span class="line">          &quot;flush_threshold_size&quot; : &quot;2gb&quot;,</span><br><span class="line">          &quot;sync_interval&quot; : &quot;100s&quot;,</span><br><span class="line">          &quot;durability&quot; : &quot;async&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;provided_name&quot; : &quot;user_info_v220101&quot;,</span><br><span class="line">        &quot;merge&quot; : &#123;</span><br><span class="line">          &quot;policy&quot; : &#123;</span><br><span class="line">            &quot;max_merged_segment&quot; : &quot;1000mb&quot;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;creation_date&quot; : &quot;1661421690275&quot;,</span><br><span class="line">        &quot;number_of_replicas&quot; : &quot;1&quot;,</span><br><span class="line">        &quot;uuid&quot; : &quot;UMFTwtCqTPaFJPacH6zSRg&quot;,</span><br><span class="line">        &quot;version&quot; : &#123;</span><br><span class="line">          &quot;created&quot; : &quot;7010099&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»™ç´¢å¼•æ·»åŠ å­—æ®µï¼ˆ<em>user_type_id, user_type_name</em>ï¼‰ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_mapping</span><br><span class="line">&#123;</span><br><span class="line">  &quot;properties&quot;: &#123;</span><br><span class="line">      &quot;user_type_id&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;integer&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;user_type_name&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;keyword&quot;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é‡æ–°æŸ¥è¯¢ç´¢å¼• Mappingï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_mapping</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;user_info_v220101&quot; : &#123;</span><br><span class="line">    &quot;mappings&quot; : &#123;</span><br><span class="line">      &quot;properties&quot; : &#123;</span><br><span class="line">        &quot;create_time&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;date&quot;,</span><br><span class="line">          &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;phone&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;keyword&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;user_id&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;integer&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;user_type_id&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;integer&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;user_type_name&quot; : &#123;</span><br><span class="line">          &quot;type&quot; : &quot;keyword&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œå­—æ®µ <em>user_type_id, user_type_name</em> å·²æˆåŠŸæ·»åŠ ã€‚</p>
<p><strong>é‡æ–°æŸ¥è¯¢ç´¢å¼•æ•°æ®ï¼Œè¿”å›ç»“æœå¦‚ä¸‹ï¼Œå·²æœ‰çš„æ–‡æ¡£æ²¡æœ‰æ–°å¢çš„å­—æ®µï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 0,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 3,</span><br><span class="line">    &quot;successful&quot; : 3,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : &#123;</span><br><span class="line">      &quot;value&quot; : 1,</span><br><span class="line">      &quot;relation&quot; : &quot;eq&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;user_info_v220101&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;_doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2022001&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;user_id&quot; : 2022001,</span><br><span class="line">          &quot;phone&quot; : &quot;17700009999&quot;,</span><br><span class="line">          &quot;create_time&quot; : &quot;2022-08-12 12:21:32&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ’å…¥ä¸€æ¡æ–°æ•°æ®ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">PUT user_info_v220101/_doc/2022002</span><br><span class="line">&#123;</span><br><span class="line">  &quot;user_id&quot;: 2022002,</span><br><span class="line">  &quot;phone&quot;: &quot;17612345678&quot;,</span><br><span class="line">  &quot;create_time&quot;: &quot;2022-08-13 22:54:09&quot;,</span><br><span class="line">  &quot;user_type_id&quot;: 2,</span><br><span class="line">  &quot;user_type_name&quot;: &quot;SVIP&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥è¯¢ç´¢å¼•æ•°æ®ï¼Œç»“æœå¦‚ä¸‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 1,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 3,</span><br><span class="line">    &quot;successful&quot; : 3,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : &#123;</span><br><span class="line">      &quot;value&quot; : 2,</span><br><span class="line">      &quot;relation&quot; : &quot;eq&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;user_info_v220101&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;_doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2022002&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;user_id&quot; : 2022002,</span><br><span class="line">          &quot;phone&quot; : &quot;17612345678&quot;,</span><br><span class="line">          &quot;create_time&quot; : &quot;2022-08-13 22:54:09&quot;,</span><br><span class="line">          &quot;user_type_id&quot; : 2,</span><br><span class="line">          &quot;user_type_name&quot; : &quot;SVIP&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;user_info_v220101&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;_doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2022001&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;user_id&quot; : 2022001,</span><br><span class="line">          &quot;phone&quot; : &quot;17700009999&quot;,</span><br><span class="line">          &quot;create_time&quot; : &quot;2022-08-12 12:21:32&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»™ç´¢å¼•æ·»åŠ å·²ç»å­˜åœ¨å­—æ®µï¼ˆ<em>user_type_id, user_type_name</em>ï¼‰ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET user_info_v220101/_mapping</span><br><span class="line">&#123;</span><br><span class="line">  &quot;properties&quot;: &#123;</span><br><span class="line">      &quot;user_type_id&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;integer&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;user_type_name&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;keyword&quot;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœä»ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;acknowledged&quot; : true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸ä¼šæç¤ºé”™è¯¯ã€‚</p>
<p>å°ç»“</p>
<ul>
<li>ç»™ç´¢å¼•æ·»åŠ æ–°å­—æ®µï¼ŒåŸæ¥çš„æ–‡æ¡£è®°å½•ä¸ä¼šè‡ªåŠ¨åŠ ä¸Šæ–°å¢çš„å­—æ®µï¼›</li>
<li>ç»™ç´¢å¼•æ·»åŠ å·²ç»å­˜åœ¨çš„å­—æ®µæ—¶ï¼Œå¹¶ä¸ä¼šå‡ºé”™ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>Java17æ–°ç‰¹æ€§ï¼šå¯†å°ç±»(Sealed Classes)</title>
    <url>/2022/03/27/java17-new-features-sealed-class/</url>
    <content><![CDATA[<h2 id="å¯†å°ç±»-Sealed-Classes"><a href="#å¯†å°ç±»-Sealed-Classes" class="headerlink" title="å¯†å°ç±»(Sealed Classes)"></a>å¯†å°ç±»(Sealed Classes)</h2><p>é€šè¿‡åœ¨ç±»å®šä¹‰å‰é¢æ”¾ç½®å…³é”®å­—Â <code>sealed</code>ï¼Œå¯ä»¥å°†ç±»å£°æ˜ä¸ºå¯†å°ç±»ã€‚åŒæ—¶ä½¿ç”¨å…³é”®å­— <code>permits</code> æ¥é™åˆ¶å“ªäº›ç±»å¯ä»¥ç»§æ‰¿æˆ–å®ç°è¯¥å¯†å°ç±»ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå£°æ˜äº†å¯†å°ç±» <code>BasePosition</code>ï¼Œå¹¶ä¸”åªå…è®¸ç±» <code>PointGuard</code> å’Œç±» <code>ShootingGuard</code> å¯ä»¥ç»§æ‰¿è¯¥å¯†å°ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">BasePosition</span> <span class="keyword">permits</span> PointGuard, ShootingGuard &#123;</span><br><span class="line">	<span class="comment">// Class members here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…³é”®å­—Â <code>sealed</code> é™¤äº†å¯ä»¥ä¿®é¥°ç±»å¤–ï¼Œè¿˜å¯ä»¥ç”¨æ¥ä¿®é¥°æ¥å£ï¼Œåªå…è®¸å“ªäº›ç±»å¯ä»¥å®ç°è¯¥æ¥å£ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">permits</span> UserServiceImpl &#123;</span><br><span class="line">    <span class="comment">// Some methods here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå®šä¹‰çš„å¯†å°ç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼Œæˆ–å®ç°äº†å…¶ä»–æ¥å£ï¼Œé‚£ä¹ˆå…³é”®å­— <code>permits</code> éœ€è¦æ”¾åœ¨å…³é”®å­— <code>extends</code>ã€<code>implements</code> çš„åé¢ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œå¯†å°ç±» <code>Felidae</code> ç»§æ‰¿äº†æŠ½è±¡ç±» <code>Animal</code>ï¼Œå¹¶å®ç°äº† <code>BaseAction</code> æ¥å£ï¼Œåªå…è®¸ç±» <code>Lion</code> å¯ä»¥ç»§æ‰¿è¯¥å¯†å°ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">Felidae</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> <span class="keyword">implements</span> <span class="title class_">BaseAction</span> <span class="keyword">permits</span> Lion &#123;</span><br><span class="line">    <span class="comment">// Some methods here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¯†å°ç±»çš„å­ç±»"><a href="#å¯†å°ç±»çš„å­ç±»" class="headerlink" title="å¯†å°ç±»çš„å­ç±»"></a>å¯†å°ç±»çš„å­ç±»</h2><p>æ ¹æ®å¯†å°æ€§çš„ä¼ é€’è¦æ±‚ï¼Œå¯†å°ç±»çš„å­ç±»å¿…é¡»è¢«å…³é”®å­— <code>sealed</code>ã€<code>non-sealed</code>ã€<code>final</code> ä¸­çš„ä¸€ä¸ªæ‰€ä¿®é¥°ï¼š</p>
<ul>
<li><code>sealed</code>ï¼šç»§ç»­å»¶ç»­å¯†å°ç±»ç‰¹æ€§ï¼Œç»§ç»­æŒ‡å®šç»§æ‰¿çš„ç±»ï¼›</li>
<li><code>non-sealed</code>ï¼šå£°æ˜è¿™ä¸ªç±»ä¸ºéå¯†å°ç±»ï¼Œå¯ä»¥è¢«ä»»æ„ç»§æ‰¿ï¼›</li>
<li><code>final</code>ï¼šä¸å…è®¸ç»§æ‰¿ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå°†å­ç±» <code>Lion</code> ç»§ç»­å£°æ˜ä¸ºå¯†å°ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">Lion</span> <span class="keyword">extends</span> <span class="title class_">Felidae</span> <span class="keyword">permits</span> LionBaby &#123;</span><br><span class="line">    <span class="comment">// Class members here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†å­ç±» <code>Lion</code> å£°æ˜ä¸ºéå¯†å°ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">non-sealed</span> <span class="keyword">class</span> <span class="title class_">Lion</span> <span class="keyword">extends</span> <span class="title class_">Felidae</span> &#123;</span><br><span class="line">    <span class="comment">// Class members here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†å­ç±» <code>Lion</code> å®šä¹‰ä¸ºä¸å…è®¸è¢«å…¶ä»–ç±»ç»§æ‰¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Lion</span> <span class="keyword">extends</span> <span class="title class_">Felidae</span> &#123;</span><br><span class="line">	  <span class="comment">// Class members here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>å¯†å°ç±»(Sealed Classes)è¿™ä¸€ç‰¹æ€§é¦–æ¬¡å‡ºç°æ˜¯åœ¨ Java15 çš„ JEP 360 ä¸­ï¼Œå¹¶åœ¨ Java 16 çš„ JEP 397 ä¸­è¿›è¡Œäº†å¢å¼ºï¼Œæœ€ç»ˆåœ¨ Java 17 è¿™ä¸ªé•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬ä¸­æˆä¸ºæ­£å¼çš„æ–°ç‰¹æ€§ï¼ˆJEP 409ï¼‰ã€‚å¯†å°ç±»çš„ä½œç”¨æ˜¯é™åˆ¶ç±»çš„ç»§æ‰¿æˆ–æ¥å£çš„å®ç°ï¼Œåªå…è®¸ç‰¹å®šçš„ç±»å¯ä»¥ç»§æ‰¿æˆ–å®ç°ã€‚</p>
<p>ä¸å¯†å°ç±»ç›¸å…³çš„ä¸»è¦å…³é”®å­—æœ‰ <code>sealed</code>ã€<code>non-sealed</code> å’Œ <code>permits</code>ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>sealed</code>ï¼šä¿®é¥°ç±»/æ¥å£ï¼Œç”¨æ¥æè¿°è¿™ä¸ªç±»/æ¥å£ä¸ºå¯†å°ç±»/æ¥å£</li>
<li><code>non-sealed</code>ï¼šä¿®é¥°ç±»/æ¥å£ï¼Œç”¨æ¥æè¿°è¿™ä¸ªç±»/æ¥å£ä¸ºéå¯†å°ç±»/æ¥å£</li>
<li><code>permits</code>ï¼šç”¨åœ¨<code>extends</code>å’Œ<code>implements</code>ä¹‹åï¼ŒæŒ‡å®šå¯ä»¥ç»§æ‰¿æˆ–å®ç°çš„ç±»</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä½¿ç”¨Gsonåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºJSONæ ¼å¼</title>
    <url>/2022/12/30/java-gson-validate-json-string/</url>
    <content><![CDATA[<h2 id="é…ç½®Mavenä¾èµ–"><a href="#é…ç½®Mavenä¾èµ–" class="headerlink" title="é…ç½®Mavenä¾èµ–"></a>é…ç½®Mavenä¾èµ–</h2><p>é¦–å…ˆï¼Œåœ¨Â <em>pom.xml</em>Â æ–‡ä»¶ä¸­é…ç½®Â <em>gson</em>Â ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>gson</em>Â ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§Â <a href="https://search.maven.org/search?q=g:com.google.code.gson%20AND%20a:gson&core=gav">Maven Central</a>Â ï¼‰ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯Â <em>2.10</em>Â ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚</p>
<h2 id="éä¸¥æ ¼éªŒè¯"><a href="#éä¸¥æ ¼éªŒè¯" class="headerlink" title="éä¸¥æ ¼éªŒè¯"></a>éä¸¥æ ¼éªŒè¯</h2><p>Gson åº“çš„ JsonParser ç±»æä¾›äº† <code>parseString()</code> æ–¹æ³•ï¼Œç”¨äºå°†æŒ‡å®šçš„ JSON å­—ç¬¦ä¸²è§£ææˆ JsonElements å¯¹è±¡ã€‚å¦‚æœæŒ‡å®šçš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼Œåˆ™åœ¨è§£æçš„è¿‡ç¨‹ä¸­ä¼šæŠ›å‡º JsonSyntaxException ç±»å‹å¼‚å¸¸ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸º JSON æ ¼å¼ï¼Œå¦‚æœåœ¨è§£æè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯´æ˜æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String json)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        JsonParser.parseString(json);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (JsonSyntaxException e) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;id\&quot;:20990981,\&quot;name\&quot;:\&quot;Johnson\&quot;,\&quot;tag\&quot;:\&quot;Javaer,Student\&quot;,\&quot;platform\&quot;:\&quot;AL\&quot;&#125;&quot;</span>;</span><br><span class="line">	System.out.println(isValid(json));</span><br><span class="line"></span><br><span class="line">	json = <span class="string">&quot;[&#123;\&quot;id\&quot;:20990981,\&quot;name\&quot;:\&quot;Johnson\&quot;,\&quot;tag\&quot;:\&quot;Javaer,Student\&quot;,\&quot;platform\&quot;:\&quot;AL\&quot;&#125;]&quot;</span>;</span><br><span class="line">	System.out.println(isValid(json));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•çš„é»˜è®¤ç­–ç•¥è®¤ä¸ºå•ç‹¬çš„å­—ç¬¦ä¸²ã€æ•°å­—å€¼ä½œä¸º JsonElement èŠ‚ç‚¹çš„ä¸€éƒ¨åˆ†æ˜¯æœ‰æ•ˆçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒè®¤ä¸ºå•ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—æ˜¯æœ‰æ•ˆçš„ JSON æ ¼å¼ã€‚</p>
<p>ä»¥ä¸‹ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†è¯¥æ–¹æ³•ä¼šæŠŠå•ç‹¬çš„å­—ç¬¦ä¸²è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JSON æ ¼å¼å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;Johnson&quot;</span>;</span><br><span class="line">	System.out.println(isValid(json));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³æŠŠè¿™ç§æƒ…å†µçœ‹ä½œæ˜¯æ— æ•ˆçš„ JSON å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•è¿›è¡Œä¸¥æ ¼éªŒè¯ã€‚</p>
<h2 id="ä¸¥æ ¼éªŒè¯"><a href="#ä¸¥æ ¼éªŒè¯" class="headerlink" title="ä¸¥æ ¼éªŒè¯"></a>ä¸¥æ ¼éªŒè¯</h2><p>ä¸ºå®ç°ä¸¥æ ¼çš„éªŒè¯ç­–ç•¥ï¼Œéœ€è¦å…ˆåˆ›å»ºäº†ä¸€ä¸ª TypeAdapter å¯¹è±¡ï¼Œå¹¶å°† JsonElement ç±»å®šä¹‰ä¸ºä¸€ä¸ªå¿…è¦çš„ç±»å‹åŒ¹é…ã€‚ç„¶åè°ƒç”¨ TypeAdapter å¯¹è±¡çš„ <code>fromJson()</code> æ–¹æ³•ï¼Œå¦‚æœæŒ‡å®šçš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ JSON å¯¹è±¡æˆ–æ•°ç»„ï¼Œåˆ™ä¼šæŠ›å‡º JsonSyntaxException å¼‚å¸¸ã€‚</p>
<p>æ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isValidStrictly</span><span class="params">(String json)</span> &#123;</span><br><span class="line">    TypeAdapter&lt;JsonElement&gt; strictAdapter = <span class="keyword">new</span> <span class="title class_">Gson</span>().getAdapter(JsonElement.class);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        strictAdapter.fromJson(json);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (JsonSyntaxException | IOException e) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨è¯¥æ–¹æ³•ï¼Œæ ¡éªŒä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆçš„ JSON æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;Johnson&quot;</span>;</span><br><span class="line">  System.out.println(isValidStrictly(json));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">false</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>P.S. æœ¬æ–‡ç¤ºä¾‹ä»£ç æ‰˜ç®¡åœ¨ GitHub ä¸Šã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaæ–¹æ³•å¦‚ä½•è¿”å›å¤šä¸ªå€¼</title>
    <url>/2022/08/22/how-to-return-many-value-in-java-method/</url>
    <content><![CDATA[<p>æˆ‘ä»¬çŸ¥é“ï¼Œ<strong>Java æ–¹æ³•ä¸æ”¯æŒæœ‰å¤šä¸ªè¿”å›å€¼ã€‚</strong>å¦‚æœè¦åœ¨ä¸€ä¸ª Java æ–¹æ³•ä¸­è¿”å›å¤šä¸ªå¤„ç†ç»“æœï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p>
<h2 id="ä½¿ç”¨æ•°ç»„"><a href="#ä½¿ç”¨æ•°ç»„" class="headerlink" title="ä½¿ç”¨æ•°ç»„"></a>ä½¿ç”¨æ•°ç»„</h2><p>æ•°ç»„å…ƒç´ è¦æ±‚ç±»å‹ç›¸åŒï¼Œå¦‚æœæ–¹æ³•çš„å¤„ç†ç»“æœç±»å‹ä¸åŒï¼Œæ¯”å¦‚æœ‰æ•°å€¼ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹ç­‰ï¼Œå¯ä»¥ä½¿ç”¨åƒ <code>List&lt;Object&gt;</code> æ¥å­˜æ”¾ã€‚æ­¤ç§æ–¹æ³•æœ€å¤§çš„å¼Šç«¯æ˜¯è°ƒç”¨æ–¹éœ€è¦çŸ¥é“åˆ—è¡¨ä¸­æ¯ä¸€ä¸ª Object çš„å®é™…ç±»å‹å¹¶åšå¼ºåˆ¶è½¬æ¢ï¼Œä¸å¤Ÿä¼˜é›…ï¼Œç»´æŠ¤ã€ä½¿ç”¨æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ã€‚å®é™…å¼€å‘ä¸­ä¸æ¨èä½¿ç”¨ã€‚</p>
<h2 id="ä½¿ç”¨æ˜ å°„"><a href="#ä½¿ç”¨æ˜ å°„" class="headerlink" title="ä½¿ç”¨æ˜ å°„"></a>ä½¿ç”¨æ˜ å°„</h2><p>å¦‚ <code>Map&lt;String, Object&gt;</code>ï¼Œä½¿ç”¨ Object ç±»å‹å­˜æ”¾ç»“æœï¼Œè°ƒç”¨æ–¹éœ€è¦çŸ¥é“æ¯ä¸ª key å€¼ï¼Œä»¥åŠæ¯ä¸ª key å€¼å¯¹åº”çš„ Object å®é™…ç±»å‹ã€‚æ­¤ç§æ–¹æ³•åŒæ ·ä¸å¤Ÿä¼˜é›…ï¼Œç»´æŠ¤ã€ä½¿ç”¨æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ã€‚å®é™…å¼€å‘ä¸­ä¸æ¨èä½¿ç”¨ã€‚</p>
<h2 id="è‡ªå®šä¹‰ç±»"><a href="#è‡ªå®šä¹‰ç±»" class="headerlink" title="è‡ªå®šä¹‰ç±»"></a><strong>è‡ªå®šä¹‰ç±»</strong></h2><p>å°†æ–¹æ³•çš„å¤šä¸ªå¤„ç†ç»“æœå°è£…æˆä¸€ä¸ªç±»è¿›è¡Œè¿”å›ï¼Œæ¯”å¦‚æ–¹æ³•ä¸­éœ€è¦è¿”å›çš„å¤„ç†ç»“æœæœ‰æ•´æ•°ç±»å‹ã€æµ®ç‚¹æ•°ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªè¿™æ ·çš„ç±»æ¥æ¥æ”¶è¿”å›å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProcessResult</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> intVal;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> floatVal;</span><br><span class="line">    <span class="keyword">private</span> String stringVal;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProcessResult</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ProcessResult</span><span class="params">(<span class="type">int</span> intVal, <span class="type">float</span> floatVal, String stringVal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.intVal = intVal;</span><br><span class="line">        <span class="built_in">this</span>.floatVal = floatVal;</span><br><span class="line">        <span class="built_in">this</span>.stringVal = stringVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getIntVal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> intVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIntVal</span><span class="params">(<span class="type">int</span> intVal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.intVal = intVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">getFloatVal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> floatVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFloatVal</span><span class="params">(<span class="type">float</span> floatVal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.floatVal = floatVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStringVal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stringVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStringVal</span><span class="params">(String stringVal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stringVal = stringVal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤„ç†æ–¹æ³•è¿”å›ç»“æœç±»å‹ä¸º <code>ProcessResult</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> ProcessResult <span class="title function_">process</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// ... æ­¤å¤„çœç•¥ä¸šåŠ¡é€»è¾‘å¤„ç†ä»£ç </span></span><br><span class="line">    <span class="comment">// ä»¥ä¸‹ä¸ºå¤„ç†ç»“æœ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">intVal</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">float</span> <span class="variable">floatVal</span> <span class="operator">=</span> <span class="number">2F</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">stringVal</span> <span class="operator">=</span> <span class="string">&quot;test code&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å¤„ç†ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProcessResult</span>(intVal, floatVal, stringVal);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤ç§æ–¹å¼çš„ä¸€ä¸ªå¼Šç«¯æ˜¯å¯èƒ½éœ€è¦å°è£…å¤šä¸ªç±»æ¥å¤„ç†ä¸åŒæ–¹æ³•çš„è¿”å›ç»“æœã€‚</p>
<h2 id="ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å°è£…çš„ç±»"><a href="#ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å°è£…çš„ç±»" class="headerlink" title="ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å°è£…çš„ç±»"></a>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å°è£…çš„ç±»</h2><p>å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“å°è£…å¥½çš„ç±»æ¥è¿”å›æ–¹æ³•çš„å¤„ç†ç»“æœçš„å¥½å¤„æ˜¯ï¼Œä¸ç”¨è‡ªå·±é’ˆå¯¹æ¯ä¸€ä¸ªæ–¹æ³•éƒ½æ–°å»ºä¸€ä¸ªç±»æ¥æ¥æ”¶å¤„ç†ç»“æœã€‚</p>
<p>è¿™é‡Œä»¥ç¬¬ä¸‰æ–¹åŒ… <code>commons-lang3</code> ä¸ºä¾‹ã€‚</p>
<p>æ¯”å¦‚éœ€è¦è¿”å›çš„å€¼æœ‰ä¸¤ä¸ªï¼Œå¯ä»¥ä½¿ç”¨çš„ <code>org.apache.commons.lang3.tuple.Pair&lt;L, R&gt;</code> ç±»æ¥æ¥æ”¶ã€‚</p>
<p>é¦–å…ˆåœ¨ pom.xml æ·»åŠ ä¾èµ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;!-- commons-lang3 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">3.11</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå°†æ–¹æ³•çš„è¿”å›ç±»å‹å®šä¹‰ä¸º <code>Pair</code>ï¼Œæ¯”å¦‚éœ€è¦è¿”å›çš„ä¸¤ä¸ªç»“æœæœ‰æ•´æ•°ã€å­—ç¬¦ä¸²ç±»å‹ï¼Œè¿”å›ç±»å‹å®šä¹‰ä¸º <code>Pair&lt;Integer, String&gt;</code>ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Pair&lt;Integer, String&gt; <span class="title function_">process</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// ... æ­¤å¤„çœç•¥ä¸šåŠ¡é€»è¾‘å¤„ç†ä»£ç </span></span><br><span class="line">    <span class="comment">// ä»¥ä¸‹ä¸ºå¤„ç†ç»“æœ</span></span><br><span class="line">    Pair&lt;Integer, String&gt; pair = Pair.of(<span class="number">23</span>, <span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    <span class="comment">// è¿”å›å¤„ç†ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> pair;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œè°ƒç”¨æ–¹è·å–ç»“æœçš„æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Pair&lt;Integer, String&gt; pair = process();</span><br><span class="line"><span class="type">Integer</span> <span class="variable">intVal</span> <span class="operator">=</span> pair.getLeft();</span><br><span class="line"><span class="type">String</span> <span class="variable">strVal</span> <span class="operator">=</span> pair.getRight();</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œå¦‚æœéœ€è¦åœ¨æ–¹æ³•ä¸­è¿”å›ä¸‰ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨ <code>org.apache.commons.lang3.tuple.Triple&lt;L, M, R&gt;</code>ç±»ã€‚å…¶åˆå§‹åŒ–è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Triple.of(L left, M middle, R right)</span><br></pre></td></tr></table></figure>

<p>è·å–ç»“æœï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">triple.getLeft();</span><br><span class="line">triple.getMiddle();</span><br><span class="line">triple.getRight();</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰é€šç”¨ç±»"><a href="#è‡ªå®šä¹‰é€šç”¨ç±»" class="headerlink" title="è‡ªå®šä¹‰é€šç”¨ç±»"></a>è‡ªå®šä¹‰é€šç”¨ç±»</h2><p>å€ŸåŠ©ç¬¬ä¸‰æ–¹åŒ…ï¼Œè¿”å›å€¼çš„æ•°é‡å–å†³äºç¬¬ä¸‰æ–¹åŒ…å°è£…çš„ç±»å¯¹åº”èƒ½æ¥æ”¶çš„ä¸ªæ•°ã€‚æ¯”å¦‚ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ… <code>commons-lang3</code>ï¼Œç±» Pair å’Œ Triple èƒ½æ¥æ”¶çš„ä¸ªæ•°åˆ†åˆ«ä¸ºä¸¤ä¸ªå’Œä¸‰ä¸ªã€‚å¦‚æœè¿”å›å€¼çš„æ•°é‡è¶…è¿‡ä¸‰ä¸ªï¼Œåˆ™éœ€è¦è‡ªå·±å°è£…ç±»æ¥å¤„ç†ã€‚ä½†å¦‚æœé’ˆå¯¹ä¸åŒæ–¹æ³•çš„è¿”å›ç»“æœéƒ½å°è£…ä¸€ä¸ªè¿”å›ç±»å‹ï¼Œåˆ™æœ‰å¯èƒ½å¯¼è‡´è¿™æ ·çš„ç±»è¿‡å¤šã€‚</p>
<p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å°è£…é€šç”¨ç±»ã€‚æ¯”å¦‚æå‰å°è£…æ¥æ”¶ä¸¤ä¸ªè¿”å›å€¼çš„ç±»ã€ä¸‰ä¸ªä¸ªè¿”å›å€¼çš„ç±»ã€å››ä¸ªè¿”å›å€¼çš„ç±»â€¦â€¦ä½†ä¸é™å®šè¿”å›å€¼çš„ç±»å‹ã€‚</p>
<p>å¦‚åœ¨ Flink é¡¹ç›®ä¸­ï¼Œ<em>org.apache.flink.api.java.tuple</em> åŒ…ä¸‹é¢å°±æå‰å°è£…äº†å¤šä¸ªå…ƒç»„ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥å‚è€ƒè¯¥åŒ…ä¸‹çš„å…ƒç»„ç±»å®šä¹‰ï¼Œå°è£…è‡ªå·±çš„é€šç”¨ç±»ã€‚</p>
<p>ä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸€ä¸ªå¯ä»¥æ¥æ”¶å››ä¸ªè¿”å›å€¼çš„ç±» <code>Tuple4&lt;T0, T1, T2, T3&gt;</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class="line"><span class="comment"> * or more contributor license agreements.  See the NOTICE file</span></span><br><span class="line"><span class="comment"> * distributed with this work for additional information</span></span><br><span class="line"><span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span></span><br><span class="line"><span class="comment"> * to you under the Apache License, Version 2.0 (the</span></span><br><span class="line"><span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span></span><br><span class="line"><span class="comment"> * with the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment"> * See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment"> * limitations under the License.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//  THIS IS A GENERATED SOURCE FILE. DO NOT EDIT!</span></span><br><span class="line"><span class="comment">//  GENERATED FROM org.apache.flink.api.java.tuple.TupleGenerator.</span></span><br><span class="line"><span class="comment">// --------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> org.apache.flink.api.java.tuple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.flink.annotation.Public;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A tuple with 4 fields. Tuples are strongly typed; each field may be of a separate type. The</span></span><br><span class="line"><span class="comment"> * fields of the tuple can be accessed directly as public fields (f0, f1, ...) or via their position</span></span><br><span class="line"><span class="comment"> * through the &#123;<span class="doctag">@link</span> #getField(int)&#125; method. The tuple field positions start at zero.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Tuples are mutable types, meaning that their fields can be re-assigned. This allows functions</span></span><br><span class="line"><span class="comment"> * that work with Tuples to reuse objects in order to reduce pressure on the garbage collector.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Warning: If you subclass Tuple4, then be sure to either</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;ul&gt;</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;not add any new fields, or</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;make it a POJO, and always declare the element type of your DataStreams/DataSets to your</span></span><br><span class="line"><span class="comment"> *       descendant type. (That is, if you have a &quot;class Foo extends Tuple4&quot;, then don&#x27;t use</span></span><br><span class="line"><span class="comment"> *       instances of Foo in a DataStream&amp;lt;Tuple4&amp;gt; / DataSet&amp;lt;Tuple4&amp;gt;, but declare it as</span></span><br><span class="line"><span class="comment"> *       DataStream&amp;lt;Foo&amp;gt; / DataSet&amp;lt;Foo&amp;gt;.)</span></span><br><span class="line"><span class="comment"> * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> Tuple</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T0&gt; The type of field 0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T1&gt; The type of field 1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T2&gt; The type of field 2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T3&gt; The type of field 3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Public</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tuple4</span>&lt;T0, T1, T2, T3&gt; <span class="keyword">extends</span> <span class="title class_">Tuple</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Field 0 of the tuple. */</span></span><br><span class="line">    <span class="keyword">public</span> T0 f0;</span><br><span class="line">    <span class="comment">/** Field 1 of the tuple. */</span></span><br><span class="line">    <span class="keyword">public</span> T1 f1;</span><br><span class="line">    <span class="comment">/** Field 2 of the tuple. */</span></span><br><span class="line">    <span class="keyword">public</span> T2 f2;</span><br><span class="line">    <span class="comment">/** Field 3 of the tuple. */</span></span><br><span class="line">    <span class="keyword">public</span> T3 f3;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Creates a new tuple where all fields are null. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tuple4</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a new tuple and assigns the given values to the tuple&#x27;s fields.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f0 The value for field 0</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f1 The value for field 1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f2 The value for field 2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f3 The value for field 3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Tuple4</span><span class="params">(T0 f0, T1 f1, T2 f2, T3 f3)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.f0 = f0;</span><br><span class="line">        <span class="built_in">this</span>.f1 = f1;</span><br><span class="line">        <span class="built_in">this</span>.f2 = f2;</span><br><span class="line">        <span class="built_in">this</span>.f3 = f3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getArity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getField</span><span class="params">(<span class="type">int</span> pos)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (pos) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> (T) <span class="built_in">this</span>.f0;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> (T) <span class="built_in">this</span>.f1;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> (T) <span class="built_in">this</span>.f2;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">return</span> (T) <span class="built_in">this</span>.f3;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IndexOutOfBoundsException</span>(String.valueOf(pos));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">setField</span><span class="params">(T value, <span class="type">int</span> pos)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (pos) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">this</span>.f0 = (T0) value;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="built_in">this</span>.f1 = (T1) value;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="built_in">this</span>.f2 = (T2) value;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="built_in">this</span>.f3 = (T3) value;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IndexOutOfBoundsException</span>(String.valueOf(pos));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Sets new values to all fields of the tuple.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f0 The value for field 0</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f1 The value for field 1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f2 The value for field 2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> f3 The value for field 3</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFields</span><span class="params">(T0 f0, T1 f1, T2 f2, T3 f3)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.f0 = f0;</span><br><span class="line">        <span class="built_in">this</span>.f1 = f1;</span><br><span class="line">        <span class="built_in">this</span>.f2 = f2;</span><br><span class="line">        <span class="built_in">this</span>.f3 = f3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// -------------------------------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">// standard utilities</span></span><br><span class="line">    <span class="comment">// -------------------------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a string representation of the tuple in the form (f0, f1, f2, f3), where the</span></span><br><span class="line"><span class="comment">     * individual fields are the value returned by calling &#123;<span class="doctag">@link</span> Object#toString&#125; on that field.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> The string representation of the tuple.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;(&quot;</span></span><br><span class="line">                + StringUtils.arrayAwareToString(<span class="built_in">this</span>.f0)</span><br><span class="line">                + <span class="string">&quot;,&quot;</span></span><br><span class="line">                + StringUtils.arrayAwareToString(<span class="built_in">this</span>.f1)</span><br><span class="line">                + <span class="string">&quot;,&quot;</span></span><br><span class="line">                + StringUtils.arrayAwareToString(<span class="built_in">this</span>.f2)</span><br><span class="line">                + <span class="string">&quot;,&quot;</span></span><br><span class="line">                + StringUtils.arrayAwareToString(<span class="built_in">this</span>.f3)</span><br><span class="line">                + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Deep equality for tuples by calling equals() on the tuple members.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> o the object checked for equality</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> true if this is equal to o.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Tuple4)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;rawtypes&quot;)</span></span><br><span class="line">        <span class="type">Tuple4</span> <span class="variable">tuple</span> <span class="operator">=</span> (Tuple4) o;</span><br><span class="line">        <span class="keyword">if</span> (f0 != <span class="literal">null</span> ? !f0.equals(tuple.f0) : tuple.f0 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (f1 != <span class="literal">null</span> ? !f1.equals(tuple.f1) : tuple.f1 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (f2 != <span class="literal">null</span> ? !f2.equals(tuple.f2) : tuple.f2 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (f3 != <span class="literal">null</span> ? !f3.equals(tuple.f3) : tuple.f3 != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> f0 != <span class="literal">null</span> ? f0.hashCode() : <span class="number">0</span>;</span><br><span class="line">        result = <span class="number">31</span> * result + (f1 != <span class="literal">null</span> ? f1.hashCode() : <span class="number">0</span>);</span><br><span class="line">        result = <span class="number">31</span> * result + (f2 != <span class="literal">null</span> ? f2.hashCode() : <span class="number">0</span>);</span><br><span class="line">        result = <span class="number">31</span> * result + (f3 != <span class="literal">null</span> ? f3.hashCode() : <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Shallow tuple copy.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> A new Tuple with the same fields as this.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Tuple4&lt;T0, T1, T2, T3&gt; <span class="title function_">copy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Tuple4</span>&lt;&gt;(<span class="built_in">this</span>.f0, <span class="built_in">this</span>.f1, <span class="built_in">this</span>.f2, <span class="built_in">this</span>.f3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates a new tuple and assigns the given values to the tuple&#x27;s fields. This is more</span></span><br><span class="line"><span class="comment">     * convenient than using the constructor, because the compiler can infer the generic type</span></span><br><span class="line"><span class="comment">     * arguments implicitly. For example: &#123;<span class="doctag">@code</span> Tuple3.of(n, x, s)&#125; instead of &#123;<span class="doctag">@code</span> new</span></span><br><span class="line"><span class="comment">     * Tuple3&lt;Integer, Double, String&gt;(n, x, s)&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T0, T1, T2, T3&gt; Tuple4&lt;T0, T1, T2, T3&gt; <span class="title function_">of</span><span class="params">(T0 f0, T1 f1, T2 f2, T3 f3)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Tuple4</span>&lt;&gt;(f0, f1, f2, f3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 20.04 å®‰è£… MySQL 5.7</title>
    <url>/2022/06/10/how-to-install-mysql57-on-ubuntu_20_04/</url>
    <content><![CDATA[<p>Ubuntu 20.04 å¯¹åº”çš„ MySQL ç‰ˆæœ¬æ˜¯ 8.0ï¼Œå¦‚æœè¦å®‰è£… 5.7 ç‰ˆæœ¬ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§å®‰è£…æ–¹å¼ï¼š</p>
<ul>
<li>ä¸‹è½½ MySQL äºŒè¿›åˆ¶å‹ç¼©åŒ…ï¼Œè§£å‹å¹¶è®¾ç½®ç›¸å…³çš„å‚æ•°å³å¯è¿è¡Œã€‚</li>
<li>é€šè¿‡å‘½ä»¤ <code>apt install</code> è¿›è¡Œå®‰è£…ï¼Œå…ˆä¸‹è½½ MySQL 5.7 å¯¹åº”çš„æºï¼Œç„¶åæ‰§è¡Œå®‰è£…å‘½ä»¤ <code>apt install mysql-server=5.7.37-1ubuntu18.04</code> ã€‚</li>
<li>é€šè¿‡å‘½ä»¤ <code>dpkg -i</code> çš„æ–¹å¼å®‰è£…ï¼Œä¸‹è½½ MySQL 5.7 å¯¹åº”çš„ deb æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œå®‰è£…å‘½ä»¤å³å¯ã€‚</li>
</ul>
<p>è¿™é‡Œåªè¯´æ˜ç¬¬ä¸‰ç§æ–¹å¼çš„å®‰è£…è¿‡ç¨‹ï¼Œå³é€šè¿‡å‘½ä»¤ <code>dpkg -i</code> çš„æ–¹å¼ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>ä»  <a href="https://downloads.mysql.com/archives/community">MySQL å®˜ç½‘</a> ä¸‹è½½æ–‡ä»¶ <em><strong>mysql-server_5.7.37-1ubuntu18.04_amd64.deb-bundle.tar</strong></em> ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://cdn.mysql.com/archives/mysql-5.7/mysql-server_5.7.37-1ubuntu18.04_amd64.deb-bundle.tar</span><br></pre></td></tr></table></figure>

<h2 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h2><p>å°†ä¸‹è½½å¥½çš„æ–‡ä»¶è§£å‹åˆ°ç›¸åº”çš„ç›®å½•ï¼Œè¿™é‡Œæ˜¯è§£å‹åˆ°ç›®å½• <em>/mnt/d/opt/mysql-deb</em> ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xvf mysql-server_5.7.37-1ubuntu18.04_amd64.deb-bundle.tar -C /mnt/d/opt/mysql-deb</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥è§£å‹åçš„ç›®å½• <code>cd /mnt/d/opt/mysql-deb</code>ï¼Œè§£å‹åçš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mysql-deb ll</span><br><span class="line">total 153M</span><br><span class="line">-rwxrwxrwx 1 root root 2.1M Nov 30  2021 libmysqlclient-dev_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root 1.6M Nov 30  2021 libmysqlclient20_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  19M Nov 30  2021 libmysqld-dev_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  69K Nov 30  2021 mysql-client_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  72K Nov 30  2021 mysql-common_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  14M Nov 30  2021 mysql-community-client_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  35M Nov 30  2021 mysql-community-server_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  51M Nov 30  2021 mysql-community-source_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  32M Nov 30  2021 mysql-community-test_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  69K Nov 30  2021 mysql-server_5.7.37-1ubuntu18.04_amd64.deb</span><br><span class="line">-rwxrwxrwx 1 root root  69K Nov 30  2021 mysql-testsuite_5.7.37-1ubuntu18.04_amd64.deb</span><br></pre></td></tr></table></figure>

<p><strong>NOTEï¼š</strong>å¦‚æœä¸éœ€è¦å®‰è£…æµ‹è¯•ç›¸å…³çš„åŒ…ï¼Œå¯ä»¥åˆ é™¤å…¶ä¸­ä¸¤ä¸ªå¸¦ <em>test</em> åç§°çš„ <em>deb</em> æ–‡ä»¶ï¼š</p>
<ul>
<li>mysql-community-test_5.7.37-1ubuntu18.04_amd64.deb</li>
<li>mysql-testsuite_5.7.37-1ubuntu18.04_amd64.deb</li>
</ul>
<p>åˆ é™¤å‘½ä»¤ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">rm <span class="operator">-</span>f mysql<span class="operator">-</span>community<span class="operator">-</span>test_5<span class="number">.7</span><span class="number">.37</span><span class="number">-1</span>ubuntu18<span class="number">.04</span>_amd64.deb mysql<span class="operator">-</span>testsuite_5<span class="number">.7</span><span class="number">.37</span><span class="number">-1</span>ubuntu18<span class="number">.04</span>_amd64.deb</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>è¿›å…¥ç›®å½• <em>/mnt/d/opt/mysql-deb</em> ï¼Œæ‰§è¡Œ <code>dpkg -i mysql-*.deb</code> å‘½ä»¤ï¼Œå¼€å§‹å®‰è£… MySQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">dpkg <span class="operator">-</span>i mysql<span class="operator">-</span><span class="operator">*</span>.deb</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå®‰è£…è¿‡ç¨‹ä¸­ï¼Œç¼ºå°‘ç›¸å…³ä¾èµ–åŒ…ï¼Œä¼šå¯¼è‡´å®‰è£…å¤±è´¥ã€‚</p>
<p>å¦‚ä»¥ä¸‹æç¤ºæœªå®‰è£…ä¾èµ–åŒ… <em><strong>libtinfo5</strong></em> ï¼Œ<em><strong>libmecab2</strong></em>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  mysql-deb dpkg -i mysql-*.deb</span><br><span class="line">Selecting previously unselected package mysql-client.</span><br><span class="line">(Reading database ... 49086 files and directories currently installed.)</span><br><span class="line">Preparing to unpack mysql-client_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-client (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Selecting previously unselected package mysql-common.</span><br><span class="line">Preparing to unpack mysql-common_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-common (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Selecting previously unselected package mysql-community-client.</span><br><span class="line">Preparing to unpack mysql-community-client_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-community-client (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Selecting previously unselected package mysql-community-server.</span><br><span class="line">Preparing to unpack mysql-community-server_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-community-server (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Selecting previously unselected package mysql-community-source.</span><br><span class="line">Preparing to unpack mysql-community-source_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-community-source (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Selecting previously unselected package mysql-server.</span><br><span class="line">Preparing to unpack mysql-server_5.7.37-1ubuntu18.04_amd64.deb ...</span><br><span class="line">Unpacking mysql-server (5.7.37-1ubuntu18.04) ...</span><br><span class="line">Setting up mysql-common (5.7.37-1ubuntu18.04) ...</span><br><span class="line">update-alternatives: using /etc/mysql/my.cnf.fallback to provide /etc/mysql/my.cnf (my.cnf) in auto mode</span><br><span class="line">dpkg: dependency problems prevent configuration of mysql-community-client:</span><br><span class="line"> mysql-community-client depends on libtinfo5 (&gt;= 6); however:</span><br><span class="line">  **Package libtinfo5 is not installed.**</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mysql-community-client (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">dpkg: dependency problems prevent configuration of mysql-community-server:</span><br><span class="line"> mysql-community-server depends on libmecab2; however:</span><br><span class="line">  **Package libmecab2 is not installed.**</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mysql-community-server (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Setting up mysql-community-source (5.7.37-1ubuntu18.04) ...</span><br><span class="line">dpkg: dependency problems prevent configuration of mysql-server:</span><br><span class="line"> mysql-server depends on mysql-community-server (= 5.7.37-1ubuntu18.04); however:</span><br><span class="line">  Package mysql-community-server is not configured yet.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mysql-server (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">dpkg: dependency problems prevent configuration of mysql-client:</span><br><span class="line"> mysql-client depends on mysql-community-client (= 5.7.37-1ubuntu18.04); however:</span><br><span class="line">  Package mysql-community-client is not configured yet.</span><br><span class="line"></span><br><span class="line">dpkg: error processing package mysql-client (--install):</span><br><span class="line"> dependency problems - leaving unconfigured</span><br><span class="line">Processing triggers for man-db (2.9.1-1) ...</span><br><span class="line">Processing triggers for systemd (245.4-4ubuntu3.15) ...</span><br><span class="line">Errors were encountered while processing:</span><br><span class="line"> mysql-community-client</span><br><span class="line"> mysql-community-server</span><br><span class="line"> mysql-server</span><br><span class="line"> mysql-client</span><br></pre></td></tr></table></figure>

<p>è§£å†³åŠæ³•æ˜¯é€šè¿‡å‘½ä»¤ <code>apt install</code> æŠŠç›¸å…³ç¼ºå¤±çš„åŒ…è£…ä¸Šå³å¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt install libtinfo5 libmecab2</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå†é‡æ–°æ‰§è¡Œ <code>dpkg -i mysql-*.deb</code> å‘½ä»¤ï¼Œå®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šæç¤ºè®©ä½ è¾“å…¥ root ç”¨æˆ·å¯†ç ã€‚</p>
<h2 id="å¯åŠ¨-MySQL"><a href="#å¯åŠ¨-MySQL" class="headerlink" title="å¯åŠ¨ MySQL"></a>å¯åŠ¨ MySQL</h2><p>1ã€ä½¿ç”¨ <code>service</code> å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service mysql start</span><br></pre></td></tr></table></figure>

<p>2ã€ä½¿ç”¨ <code>mysqld</code> è„šæœ¬å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/etc/init.d/mysql start</span><br></pre></td></tr></table></figure>

<p>3ã€ä½¿ç”¨ safe_mysqld å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">safe_mysql&amp;</span><br></pre></td></tr></table></figure>

<h2 id="åœæ­¢-MySQL"><a href="#åœæ­¢-MySQL" class="headerlink" title="åœæ­¢ MySQL"></a><strong>åœæ­¢ MySQL</strong></h2><p>1ã€ä½¿ç”¨ <code>service</code> å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service mysql stop</span><br></pre></td></tr></table></figure>

<p>2ã€ä½¿ç”¨ <code>mysqld</code> è„šæœ¬å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/etc/init.d/mysql stop</span><br></pre></td></tr></table></figure>

<h2 id="é‡å¯-MySQL"><a href="#é‡å¯-MySQL" class="headerlink" title="é‡å¯ MySQL"></a><strong>é‡å¯ MySQL</strong></h2><p>ä½¿ç”¨ <code>service</code> å¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu20.04 LTSæ‰§è¡ŒShellè„šæœ¬å‡ºç°Bad substitutioné”™è¯¯</title>
    <url>/2022/01/15/ubuntu-shell-bad-substitution/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ Windows 10 è‡ªå¸¦çš„ Ubuntu 20.04 å­ç³»ç»Ÿç»ˆç«¯ï¼Œæ‰§è¡Œ Shell è„šæœ¬æ—¶å‡ºç° Bad substitution é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ sh +x tt.sh</span><br><span class="line">tt.sh: 11: Bad substitution</span><br></pre></td></tr></table></figure>

<p>Shell è„šæœ¬æ˜¯ä»æœåŠ¡å™¨ä¸Šä¸‹è½½ä¸‹æ¥çš„ï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ˜¯å¯ä»¥æ­£ç¡®æ‰§è¡Œçš„ï¼ŒæœåŠ¡å™¨ç³»ç»Ÿä¸º CentOS 7ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ç¬¬ä¸€æ„Ÿè§‰åº”è¯¥æ˜¯è¯¥ Shell è„šæœ¬åœ¨ Ubuntuã€CentOS ä¸¤ä¸ªç³»ç»Ÿä¸å…¼å®¹çš„å…³ç³»ã€‚</p>
<p>æ‰“å¼€è„šæœ¬æ–‡ä»¶ï¼Œè·Ÿè¸ªå‡ºé”™ä½ç½®ï¼ˆç¬¬ 11 è¡Œï¼‰ï¼Œå®šä½åˆ°è¿™è¡Œä»£ç  <code>day=$&#123;dt:6&#125;</code>ã€‚</p>
<p>æŸ¥äº† Ubuntu å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°ä» Ubuntu 6.10 å¼€å§‹ï¼Œç³»ç»Ÿé»˜è®¤ Shell (/bin/sh) ç”± bash shell æ›´æ”¹ä¸º dash shell äº†ï¼ŒåŸå› æ˜¯ dash shell æ›´è½»é‡ï¼Œè¿è¡Œæ›´å¿«ã€‚</p>
<p>æŸ¥çœ‹ /bin/sh åœ¨ Ubuntu ç³»ç»Ÿçš„é“¾æ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ ll /usr/bin/</span><br><span class="line">lrwxrwxrwx 1 root   root       4 Feb 25  2020  sh -&gt; dash</span><br></pre></td></tr></table></figure>

<p>è€Œåœ¨æœåŠ¡å™¨ CentOS ç³»ç»Ÿï¼Œé“¾æ¥çš„æ˜¯ bashï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@bigdata ~]$ ll /usr/bin/</span><br><span class="line">lrwxrwxrwx  1 root root         4 Mar  9  2020 sh -&gt; bash</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†åœ¨æœ¬åœ°å¼€å‘æœºå™¨èƒ½å¤Ÿå…¼å®¹åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼Œè¿™é‡Œéœ€è¦å°† Ubuntu çš„ /bin/sh çš„é»˜è®¤é“¾æ¥æ›´æ¢ä¸º bashï¼Œæ–‡æ¡£ç»™å‡ºçš„æ–¹æ¡ˆæ˜¯åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç„¶åé€‰æ‹© &lt; No &gt; å³å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  ~ <span class="built_in">sudo</span> dpkg-reconfigure dash</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åé¢å¦‚æœéœ€è¦å°† /bin/sh çš„é»˜è®¤é“¾æ¥æ¢å› dashï¼ŒåŒæ ·æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œå¹¶é€‰æ‹© &lt; Yes &gt;ã€‚</p>
</blockquote>
<p>å¦‚æœæƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹ç»´åŸºï¼š<a href="https://wiki.ubuntu.com/DashAsBinSh">https://wiki.ubuntu.com/DashAsBinSh</a></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title>Superseté…ç½®â€”â€”è¿æ¥Hiveå‡ºç°TTransportExceptionå¼‚å¸¸</title>
    <url>/2022/01/17/superset-hive-ttransport-exception/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å®‰è£…å¥½ supersetï¼Œé€šè¿‡å‘½ä»¤ <code>superset run -p 8088 -h 0.0.0.0</code> å¯åŠ¨ï¼Œåœ¨ç•Œé¢é…ç½® hive æ•°æ®åº“è¿æ¥æ—¶å‡ºç°é”™è¯¯ã€‚åœ¨æœåŠ¡å™¨ä¸Šçœ‹åˆ°æ—¥å¿—ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Unexpected error TTransportException</span><br><span class="line">WARNING:superset.views.core:Unexpected error TTransportException</span><br><span class="line">INFO:werkzeug:10.10.17.34 - - [11/Jan/2022 12:07:37] &quot;POST /superset/testconn HTTP/1.1&quot; 400 -</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ° TTransportExceptionï¼Œç¬¬ä¸€æ„Ÿè§‰æ˜¯ç¼ºå°‘ä¾èµ–åŒ…ï¼ˆPythonã€ç³»ç»Ÿï¼‰ï¼Œä¸è¿‡æ—¥å¿—å¹¶æ²¡æœ‰è®°å½•å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥å®šä½åˆ°åº•æ˜¯ç¼ºå°‘å“ªä¸ªä¾èµ–åŒ…ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>çœ‹åˆ° TTransportExceptionï¼Œç¬¬ä¸€æ„Ÿè§‰æ˜¯ç¼ºå°‘ä¾èµ–åŒ…ï¼ˆPythonã€ç³»ç»Ÿï¼‰ï¼Œä¸è¿‡æ—¥å¿—å¹¶æ²¡æœ‰è®°å½•å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥å®šä½åˆ°åº•æ˜¯ç¼ºå°‘å“ªä¸ªä¾èµ–åŒ…ã€‚</p>
<p>ä»ç½‘ä¸Šæœç´¢çš„ç»“æœæ¥çœ‹ï¼Œå¯èƒ½æ˜¯ç¼ºå°‘ä»¥ä¸‹äº›åŒ…å¯¼è‡´çš„ï¼š</p>
<ul>
<li>sasl</li>
<li>thrift</li>
<li>thrift-sasl</li>
<li>pythrifthiveapi</li>
<li>pure-sasl</li>
<li>â€¦â€¦</li>
</ul>
<p>ä¹Ÿæœ‰å¯èƒ½æ˜¯ Hive é©±åŠ¨ç‰ˆæœ¬ä¸ä¸€è‡´å¼•èµ·çš„ï¼Œå¦‚ pyhiveã€pyhive[presto]ã€pyhive==0.6.0 ç­‰ã€‚</p>
<p>æˆ–è€…ä¹Ÿå¯èƒ½æ˜¯ç›¸å…³ Hive è¿æ¥å‚æ•°æ²¡æœ‰é…ç½®æ­£ç¡®ï¼Œå¦‚ kerberos è®¤è¯ç­‰ã€‚</p>
<p>ä½†æœ€åæ˜¯ç¼ºå°‘å“ªä¸€ä¸ªä¾èµ–æˆ–æ˜¯å“ªå‡ ä¸ªä¾èµ–ã€å“ªäº›å‚æ•°æ²¡æœ‰é…ç½®æ­£ç¡®ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æŠŠä»¥ä¸Šçš„ä¾èµ–åŒ…æˆ–æŒ‡å®šä¾èµ–åŒ…ç‰ˆæœ¬éƒ½ä¸€ä¸€å®‰è£…æµ‹è¯•ä¸€éï¼Œå°±æ˜¯æ¯”è¾ƒè´¹æ—¶å’Œä½æ•ˆã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦ä¸€ç§â€œæ›²çº¿æ•‘å›½â€æ–¹æ³•ã€‚å…·ä½“å¦‚ä¸‹ï¼š</p>
<p>å› ä¸º superset æ˜¯ç”¨ pyhive è¿æ¥æ•°æ®åº“çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå†™è„šæœ¬æµ‹è¯•ç”¨ pyhive æ˜¯å¦å¯ä»¥è¿æ¥åˆ° hive æ•°æ®åº“ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> pyhive <span class="keyword">import</span> hive</span><br><span class="line"></span><br><span class="line">conn = hive.connect(</span><br><span class="line">    host=<span class="string">&quot;10.10.17.61&quot;</span>, </span><br><span class="line">		port=<span class="number">10000</span>,  <span class="comment"># æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">    <span class="comment"># auth=&quot;KERBEROS&quot;, </span></span><br><span class="line">		<span class="comment"># kerberos_service_name=&quot;sql_prc&quot;,  #éªŒè¯æ–¹å¼</span></span><br><span class="line">    configuration=&#123;</span><br><span class="line">        <span class="string">&#x27;mapreduce.map.memory.mb&#x27;</span>:<span class="string">&#x27;4096&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;mapreduce.reduce.memory.mb&#x27;</span>:<span class="string">&#x27;4096&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;mapreduce.map.java.opts&#x27;</span>:<span class="string">&#x27;-Xmx3072m&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;mapreduce.reduce.java.opts&#x27;</span>:<span class="string">&#x27;-Xmx3072m&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;hive.input.format&#x27;</span>:<span class="string">&#x27;org.apache.hadoop.hive.ql.io.HiveInputFormat&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;hive.limit.optimize.enable&#x27;</span>:<span class="string">&#x27;false&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;mapreduce.job.queuename&#x27;</span>:<span class="string">&#x27;root.default&#x27;</span>  <span class="comment"># é˜Ÿåˆ—</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥è¯¢æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">sql = <span class="string">&quot;SHOW PARTITIONS dw.dm_user_info&quot;</span></span><br><span class="line">df = pd.read_sql(sql, conn)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥ Python æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python3 test.py</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;test.py&quot;</span>, line <span class="number">15</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="string">&#x27;mapreduce.job.queuename&#x27;</span>:<span class="string">&#x27;root.production.miot_group.test.data&#x27;</span>  <span class="comment"># é˜Ÿåˆ—</span></span><br><span class="line">  File <span class="string">&quot;/home/hadoop/.local/lib/python3.6/site-packages/pyhive/hive.py&quot;</span>, line <span class="number">104</span>, <span class="keyword">in</span> connect</span><br><span class="line">    <span class="keyword">return</span> Connection(*args, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/home/hadoop/.local/lib/python3.6/site-packages/pyhive/hive.py&quot;</span>, line <span class="number">243</span>, <span class="keyword">in</span> __init__</span><br><span class="line">    <span class="variable language_">self</span>._transport.<span class="built_in">open</span>()</span><br><span class="line">  File <span class="string">&quot;/home/hadoop/.local/lib/python3.6/site-packages/thrift_sasl/__init__.py&quot;</span>, line <span class="number">85</span>, <span class="keyword">in</span> <span class="built_in">open</span></span><br><span class="line">    message=(<span class="string">&quot;Could not start SASL: %s&quot;</span> % <span class="variable language_">self</span>.sasl.getError()))</span><br><span class="line">thrift.transport.TTransport.TTransportException: Could <span class="keyword">not</span> start SASL: <span class="string">b&#x27;Error in sasl_client_start (-4) SASL(-4): no mechanism available: No worthy mechs found&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œå¯¼è‡´è¿æ¥ Hive å¤±è´¥çš„å…·ä½“é”™è¯¯ä¿¡æ¯æˆ–åŸå› ï¼ˆè‹¥æç¤ºç¼ºå°‘ Python ä¾èµ–åŒ…ï¼Œåˆ™ç”¨ pip install å®‰è£…ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">thrift.transport.TTransport.TTransportException: Could <span class="keyword">not</span> start SASL: <span class="string">b&#x27;Error in sasl_client_start (-4) SASL(-4): no mechanism available: No worthy mechs found&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºç¼ºå°‘ <code>cyrus-sasl-plain  cyrus-sasl-devel  cyrus-sasl-gssapi</code> ä¸‰ä¸ªç³»ç»Ÿä¾èµ–åŒ…ï¼Œä½¿ç”¨ <code>yum install</code> å®‰è£…å³å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install cyrus-sasl-plain  cyrus-sasl-devel  cyrus-sasl-gssapi</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡æ‰§è¡Œ <code>python3 test.py</code> å¯ä»¥çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    partition</span><br><span class="line">0   dt=20211203</span><br><span class="line">1   dt=20211226</span><br><span class="line">2   dt=20211227</span><br><span class="line">3   dt=20211228</span><br><span class="line">4   dt=20211229</span><br><span class="line">5   dt=20211230</span><br><span class="line">6   dt=20211231</span><br><span class="line">7   dt=20220101</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ pyhive å¯ä»¥æ­£ç¡®è¿æ¥ hiveï¼Œæœ€ååœ¨ superset ç•Œé¢é‡æ–°é…ç½® Hive æ•°æ®åº“ï¼Œç‚¹å‡» TEST CONNECTION æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ° Seems OK! çš„æç¤ºï¼Œè¡¨æ˜è¿æ¥ Hive æˆåŠŸã€‚</p>
<p>Hive è¿æ¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hive://hive@10.10.17.61:10000/mydw</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Superset</tag>
      </tags>
  </entry>
  <entry>
    <title>mavenç¼–è¯‘æ‰“åŒ…æ—¶è·³è¿‡æµ‹è¯•ä»£ç </title>
    <url>/2022/07/28/maven-package-skip-tests/</url>
    <content><![CDATA[<p>ä½¿ç”¨ Maven æ„å»º Java é¡¹ç›®æ—¶ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼Œå¯ä»¥åœ¨æ‰“åŒ…ç¼–è¯‘æ—¶è·³è¿‡é¡¹ç›®ä¸­çš„æµ‹è¯•éƒ¨åˆ†ä»£ç ã€‚</p>
<h2 id="Dmaven-test-skip-true"><a href="#Dmaven-test-skip-true" class="headerlink" title="-Dmaven.test.skip=true"></a><code>-Dmaven.test.skip=true</code></h2><p>åœ¨ Maven çš„å‘½ä»¤ä¸­ï¼Œä½¿ç”¨å‚æ•° <code>-Dmaven.test.skip=true</code> æ¥è·³è¿‡å•å…ƒæµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn clean package -Dmaven.test.skip=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="DskipTests"><a href="#DskipTests" class="headerlink" title="-DskipTests"></a><code>-DskipTests</code></h2><p>åœ¨ Maven çš„å‘½ä»¤ä¸­ï¼Œä½¿ç”¨å‚æ•° <code>-DskipTests</code> æ¥è·³è¿‡å•å…ƒæµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn clean package -DskipTests</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-Dmaven-test-skip-true-è¿˜æ˜¯-DskipTests"><a href="#ä½¿ç”¨-Dmaven-test-skip-true-è¿˜æ˜¯-DskipTests" class="headerlink" title="ä½¿ç”¨ -Dmaven.test.skip=true è¿˜æ˜¯ -DskipTests"></a>ä½¿ç”¨ <code>-Dmaven.test.skip=true</code> è¿˜æ˜¯ <code>-DskipTests</code></h2><p>ä½¿ç”¨ <code>-Dmaven.test.skip=true</code> å‚æ•°è¿›è¡Œæ‰“åŒ…ç¼–è¯‘æ—¶ï¼ŒMaven ä¼šå®Œå…¨å¿½ç•¥å•å…ƒæµ‹è¯•ä»£ç ï¼Œæ—¢ä¸æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ç±»ï¼Œä¹Ÿä¸ç¼–è¯‘æµ‹è¯•ç”¨ä¾‹ç±»ã€‚</p>
<p>è€Œä½¿ç”¨ <code>-DskipTests</code> å‚æ•°è¿›è¡Œæ‰“åŒ…ç¼–è¯‘ï¼ŒMaven ä¼šç¼–è¯‘æµ‹è¯•éƒ¨åˆ†çš„ç±»ï¼Œç”Ÿæˆç›¸åº”çš„ class æ–‡ä»¶åˆ° target/test-classes ç›®å½•ä¸‹ï¼Œä½†ä¸ä¼šæ‰§è¡Œæµ‹è¯•ç±»ã€‚</p>
<p>ä¸€èˆ¬æ²¡æœ‰ç‰¹æ®Šè¦æ±‚çš„æƒ…å†µï¼Œæµ‹è¯•ç±»æœ€å¥½è¿˜æ˜¯è¿›è¡Œç¼–è¯‘ã€‚å› æ­¤æ¨èä½¿ç”¨ <code>-DskipTests</code> å‚æ•°ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxåˆ›å»º/åˆ é™¤è½¯é“¾æ¥</title>
    <url>/2022/05/07/how-to-create-or-delete-symbolic-link-on-linux-os/</url>
    <content><![CDATA[<h2 id="åˆ›å»ºè½¯è¿æ¥"><a href="#åˆ›å»ºè½¯è¿æ¥" class="headerlink" title="åˆ›å»ºè½¯è¿æ¥"></a>åˆ›å»ºè½¯è¿æ¥</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ln</span> -s TARGET LINK_NAME</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºè½¯è¿æ¥å‰çš„ç›®å½•</span></span><br><span class="line">âœ  opt ll</span><br><span class="line">total 2.4M</span><br><span class="line">drwxrwxrwx 1 hadoop hadoop 4.0K May  7 13:58 redis-6.2.6</span><br><span class="line">-rwxrwxrwx 1 hadoop hadoop 2.4M May  7 10:43 redis-6.2.6.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè½¯è¿æ¥ï¼šä¸ºæ–‡ä»¶å¤¹ redis-6.2.6 åˆ›å»ºè½¯è¿æ¥ redis</span></span><br><span class="line">âœ  opt <span class="built_in">ln</span> -s redis-6.2.6 ./redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ›å»ºè½¯è¿æ¥åçš„ç›®å½•</span></span><br><span class="line">âœ  opt ll</span><br><span class="line">total 2.4M</span><br><span class="line">lrwxrwxrwx 1 hadoop hadoop   11 May  7 13:59 redis -&gt; redis-6.2.6</span><br><span class="line">drwxrwxrwx 1 hadoop hadoop 4.0K May  7 13:58 redis-6.2.6</span><br><span class="line">-rwxrwxrwx 1 hadoop hadoop 2.4M May  7 10:43 redis-6.2.6.tar.gz</span><br></pre></td></tr></table></figure>

<h2 id="åˆ é™¤è½¯è¿æ¥"><a href="#åˆ é™¤è½¯è¿æ¥" class="headerlink" title="åˆ é™¤è½¯è¿æ¥"></a>åˆ é™¤è½¯è¿æ¥</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf file_name</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤è½¯è¿æ¥å‰çš„ç›®å½•</span></span><br><span class="line">âœ  opt ll</span><br><span class="line">total 2.4M</span><br><span class="line">lrwxrwxrwx 1 hadoop hadoop   11 May  7 10:45 redis -&gt; redis-6.2.6</span><br><span class="line">drwxrwxrwx 1 hadoop hadoop 4.0K May  7 10:43 redis-6.2.6</span><br><span class="line">-rwxrwxrwx 1 hadoop hadoop 2.4M May  7 10:43 redis-6.2.6.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è½¯è¿æ¥</span></span><br><span class="line"><span class="built_in">rm</span> -rf redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ é™¤è½¯è¿æ¥åçš„ç›®å½•</span></span><br><span class="line">âœ  opt ll</span><br><span class="line">total 2.4M</span><br><span class="line">drwxrwxrwx 1 hadoop hadoop 4.0K May  7 10:43 redis-6.2.6</span><br><span class="line">-rwxrwxrwx 1 hadoop hadoop 2.4M May  7 10:43 redis-6.2.6.tar.gz</span><br></pre></td></tr></table></figure>

<p><strong>NOTEï¼š</strong></p>
<p>ç‰¹åˆ«æ³¨æ„ <code>rm -rf redis</code> ä¸ <code>rm -rf redis/</code> å‘½ä»¤ä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<ul>
<li><code>rm -rf redis</code> æ˜¯ä»…åˆ é™¤è½¯è¿æ¥ï¼›</li>
<li>è€Œ <code>rm -rf redis/</code> æ˜¯åˆ é™¤ <code>redis</code> ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç›¸å½“äºåˆ é™¤ç›®æ ‡æ–‡ä»¶å¤¹ <code>redis-6.2.6</code> ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œè°¨æ…æ“ä½œã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Flinkä½œä¸šè¿è¡Œå‡ºé”™ã€‘beyond the &#39;PHYSICAL&#39; memory limit. Killing container</title>
    <url>/2022/08/24/physical-memory-exceeded-causing-being-killed-by-yarn/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>Flink ç‰ˆæœ¬ï¼š1.13.6</p>
<p>éƒ¨ç½²æ¨¡å¼ï¼šFlink On YARN Application Mode</p>
<p>å½“ Flink ä½œä¸šåœ¨ YARN ä¸Šè¿è¡Œäº†å‡ å¤©ä¹‹åï¼Œå®¹å™¨ä¼šå› ä¸ºç‰©ç†å†…å­˜ä½¿ç”¨è¶…å‡ºç‰©ç†å†…å­˜é™åˆ¶è€Œè¢«æ€æ­»ï¼Œå¹¶æŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2022-08-12 12:36:04,168 WARN  akka.remote.ReliableDeliverySupervisor                       [] - Association with remote system [akka.tcp://flink@flink-node-06:42477] has failed, address is now gated for [50] ms. Reason: [Association failed with [akka.tcp://flink@flink-node-06:42477]] Caused by: [java.net.ConnectException: Connection refused: flink-node-06/10.10.17.255:42477]</span><br><span class="line">2022-08-12 12:36:04,844 INFO  org.apache.flink.runtime.resourcemanager.active.ActiveResourceManager [] - Worker container_e48_1655606936581_0285_01_000006 is terminated. Diagnostics: [2022-08-12 12:36:02.281]Container [pid=30100,containerID=container_e48_1655606936581_0285_01_000006] is running 65536B beyond the &#x27;PHYSICAL&#x27; memory limit. Current usage: 2.0 GB of 2 GB physical memory used; 3.8 GB of 8 GB virtual memory used. Killing container.</span><br><span class="line">Dump of the process-tree for container_e48_1655606936581_0285_01_000006 :</span><br><span class="line">	|- PID PPID PGRPID SESSID CMD_NAME USER_MODE_TIME(MILLIS) SYSTEM_TIME(MILLIS) VMEM_USAGE(BYTES) RSSMEM_USAGE(PAGES) FULL_CMD_LINE</span><br><span class="line">	|- 30100 30094 30100 30100 (bash) 0 0 118177792 369 /bin/bash -c /usr/java/jdk1.8.0_211-amd64/bin/java -Xmx697932173 -Xms697932173 -XX:MaxDirectMemorySize=300647712 -XX:MaxMetaspaceSize=268435456 -Dlog.file=/data/hadoop/yarn/log/application_1655606936581_0285/container_e48_1655606936581_0285_01_000006/taskmanager.log -Dlog4j.configuration=file:./log4j.properties -Dlog4j.configurationFile=file:./log4j.properties org.apache.flink.yarn.YarnTaskExecutorRunner -D taskmanager.memory.network.min=166429984b -D taskmanager.cpu.cores=1.0 -D taskmanager.memory.task.off-heap.size=0b -D taskmanager.memory.jvm-metaspace.size=268435456b -D external-resources=none -D taskmanager.memory.jvm-overhead.min=214748368b -D taskmanager.memory.framework.off-heap.size=134217728b -D taskmanager.memory.network.max=166429984b -D taskmanager.memory.framework.heap.size=134217728b -D taskmanager.memory.managed.size=665719939b -D taskmanager.memory.task.heap.size=563714445b -D taskmanager.numberOfTaskSlots=1 -D taskmanager.memory.jvm-overhead.max=214748368b --configDir . -Djobmanager.rpc.address=&#x27;flink-node-02&#x27; -Dpipeline.classpaths=&#x27;&#x27; -Dweb.port=&#x27;0&#x27; -Djobmanager.memory.off-heap.size=&#x27;134217728b&#x27; -Dweb.tmpdir=&#x27;/tmp/flink-web-5deb359d-87fb-49e3-bf4a-a9214dc667e8&#x27; -Djobmanager.rpc.port=&#x27;44848&#x27; -Drest.address=&#x27;flink-node-02&#x27; -Djobmanager.memory.jvm-overhead.max=&#x27;201326592b&#x27; -Djobmanager.memory.jvm-overhead.min=&#x27;201326592b&#x27; -Dtaskmanager.resource-id=&#x27;container_e48_1655606936581_0285_01_000006&#x27; -Dexecution.target=&#x27;embedded&#x27; -Dinternal.taskmanager.resource-id.metadata=&#x27;flink-node-06:45454&#x27; -Dpipeline.jars=&#x27;file:/data/hadoop/yarn/local/usercache/hadoop/appcache/application_1655606936581_0285/container_e48_1655606936581_0285_01_000001/flink_dw_prod.jar&#x27; -Djobmanager.memory.jvm-metaspace.size=&#x27;268435456b&#x27; -Djobmanager.memory.heap.size=&#x27;469762048b&#x27; 1&gt; /data/hadoop/yarn/log/application_1655606936581_0285/container_e48_1655606936581_0285_01_000006/taskmanager.out 2&gt; /data/hadoop/yarn/log/application_1655606936581_0285/container_e48_1655606936581_0285_01_000006/taskmanager.err </span><br><span class="line">	|- 30175 30100 30100 30100 (java) 1236701 120868 3967287296 523935 /usr/java/jdk1.8.0_211-amd64/bin/java -Xmx697932173 -Xms697932173 -XX:MaxDirectMemorySize=300647712 -XX:MaxMetaspaceSize=268435456 -Dlog.file=/data/hadoop/yarn/log/application_1655606936581_0285/container_e48_1655606936581_0285_01_000006/taskmanager.log -Dlog4j.configuration=file:./log4j.properties -Dlog4j.configurationFile=file:./log4j.properties org.apache.flink.yarn.YarnTaskExecutorRunner -D taskmanager.memory.network.min=166429984b -D taskmanager.cpu.cores=1.0 -D taskmanager.memory.task.off-heap.size=0b -D taskmanager.memory.jvm-metaspace.size=268435456b -D external-resources=none -D taskmanager.memory.jvm-overhead.min=214748368b -D taskmanager.memory.framework.off-heap.size=134217728b -D taskmanager.memory.network.max=166429984b -D taskmanager.memory.framework.heap.size=134217728b -D taskmanager.memory.managed.size=665719939b -D taskmanager.memory.task.heap.size=563714445b -D taskmanager.numberOfTaskSlots=1 -D taskmanager.memory.jvm-overhead.max=214748368b --configDir . -Djobmanager.rpc.address=flink-node-02 -Dpipeline.classpaths= -Dweb.port=0 -Djobmanager.memory.off-heap.size=134217728b -Dweb.tmpdir=/tmp/flink-web-5deb359d-87fb-49e3-bf4a-a9214dc667e8 -Djobmanager.rpc.port=44848 -Drest.address=flink-node-02 -Djobmanager.memory.jvm-overhead.max=201326592b -Djobmanager.memory.jvm-overhead.min=201326592b -Dtaskmanager.resource-id=container_e48_1655606936581_0285_01_000006 -Dexecution.target=embedded -Dinternal.taskmanager.resource-id.metadata=flink-node-06:45454 -Dpipeline.jars=file:/data/hadoop/yarn/local/usercache/hadoop/appcache/application_1655606936581_0285/container_e48_1655606936581_0285_01_000001/flink_dw_prod.jar -Djobmanager.memory.jvm-metaspace.size=268435456b -Djobmanager.memory.heap.size=469762048b </span><br><span class="line"></span><br><span class="line">[2022-08-12 12:36:02.322]Container killed on request. Exit code is 143</span><br><span class="line">[2022-08-12 12:36:02.330]Container exited with a non-zero exit code 143.</span><br></pre></td></tr></table></figure>

<p>è¯¥ä½œä¸šåœ¨ Flink History Server çš„è¯¦æƒ…ç•Œé¢çš„ Exceptions æ ‡ç­¾ä¸‹å¯ä»¥çœ‹åˆ°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Caused by: org.apache.flink.runtime.io.network.netty.exception.RemoteTransportException: Connection unexpectedly closed by remote task manager &#x27;flink-node-06/10.10.18.25:16407&#x27;. This might indicate that the remote task manager was lost.</span><br></pre></td></tr></table></figure>

<p>åœ¨ Exceptions ä¸‹çš„é”™è¯¯ä¿¡æ¯å¯ä»¥çœ‹åˆ° Flink é›†ç¾¤çš„ä¸€ä¸ª TaskManager èŠ‚ç‚¹è¿æ¥ä¸ä¸Šã€‚ä» YARN é”™è¯¯æ—¥å¿—å¯ä»¥çœ‹å‡ºï¼Œè¯¥ TaskManager èŠ‚ç‚¹è¿æ¥ä¸ä¸Šï¼Œæ˜¯å› ä¸º TaskManager å†…å­˜ä½¿ç”¨å¤§å°è¶…å‡ºäº†å®¹å™¨çš„é™åˆ¶è€Œè¢«æ€æ­»ã€‚</p>
<p>æ—¢ç„¶é—®é¢˜æ˜¯ TaskManager å†…å­˜ä¸è¶³å¼•èµ·çš„ï¼Œé‚£ä¹ˆå°è¯•é€šè¿‡å¢åŠ  TaskManager å†…å­˜çš„æ–¹å¼æ¥è§£å†³è¯¥é—®é¢˜ï¼Œå°† TaskManager å†…å­˜ç”±åŸæ¥çš„ 2048m å¢åŠ åˆ° 3072mï¼Œå†æ¬¡è¿è¡Œè¯¥ä½œä¸šï¼Œä½†å®ƒä»ç„¶æ¯éš”å‡ å¤©å°±æŠ¥åŒæ ·çš„é”™è¯¯ã€‚</p>
<p>è°ƒå¤§ TaskManager è¿è¡Œå†…å­˜åï¼Œä½œä¸šçš„å¯åŠ¨å‚æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-Djobmanager.memory.process.size=1024m -Dtaskmanager.memory.process.size=3072m</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>YARN æ—¥å¿—çš„å¼‚å¸¸ä¿¡æ¯è¡¨æ˜ TaskManager æ¶ˆè€—çš„å†…å­˜æ¯”é¢„æœŸçš„è¦å¤šã€‚è™½ç„¶ TaskManager å› ä¸ºå†…å­˜è¶…é™è¿è¡Œè¢« YARN æ€æ­»ï¼Œå¹¶ä¸ä»£è¡¨è¿™é‡Œæœ‰å†…å­˜æ³„æ¼ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒFlink é›†ç¾¤ä¸Šçš„ TaskManager æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ª Java ç¨‹åºã€‚Java ç¨‹åºå¯èƒ½ä¼šæ¶ˆè€—å„ç§ç±»å‹çš„å†…å­˜ï¼šå †ã€ç›´æ¥ã€æœ¬åœ°ã€å…ƒç©ºé—´ã€‚åœ¨æ‰€æœ‰è¿™äº›ç±»å‹çš„å†…å­˜å½“ä¸­ï¼Œé™¤äº†æœ¬åœ°å†…å­˜å¤–ï¼ŒFlink é€šè¿‡ JVM å‚æ•°è®¾ç½®äº†æ˜ç¡®çš„ä¸Šé™ï¼Œå› æ­¤å¦‚æœè¿›ç¨‹å°è¯•ä½¿ç”¨è¶…è¿‡é™åˆ¶çš„å†…å­˜ï¼Œåˆ™ä¼šæŠ›å‡º <code>OutOfMemoryError</code>ã€‚ä½†åœ¨ YARN æ—¥å¿—ä¸­å¹¶æ²¡æœ‰ OOM ç›¸å…³çš„å¼‚å¸¸ä¿¡æ¯ï¼Œå”¯ä¸€çš„å¯èƒ½æ˜¯ Flink ä½¿ç”¨äº†æ¯”è®¡åˆ’æ›´å¤šçš„æœ¬åœ°å†…å­˜ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œå†å°è¯•å¢åŠ  JVM Overhead å†…å­˜å æ¯”ï¼Œè®© Flink åœ¨å®¹å™¨ä¸­é¢„ç•™æ›´å¤šçš„æœ¬åœ°å†…å­˜ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>é€šè¿‡è®¾ç½® <code>taskmanager.memory.jvm-overhead.fraction</code> å‚æ•°æ¥å¢åŠ  JVM Overhead å†…å­˜å æ¯”ï¼Œä»¥è¾¾åˆ°åœ¨å®¹å™¨ä¸­é¢„ç•™æ›´å¤šçš„æœ¬åœ°å†…å­˜ã€‚è¯¥å‚æ•°çš„é»˜è®¤å€¼ä¸º 0.1ï¼Œä¿®æ”¹ä¸º 0.2 åï¼Œé‡æ–°å¯åŠ¨è¯¥ä½œä¸šï¼Œåç»­è§‚å¯Ÿè¯¥ä½œä¸šçš„è¿è¡Œæƒ…å†µï¼Œæ²¡æœ‰å†å‡ºç°å› ä¸ºå†…å­˜è¶…é™è¿è¡Œè¢« YARN æ€æ­»çš„å¼‚å¸¸ã€‚</p>
<p>ä¿®æ”¹åä½œä¸šçš„å¯åŠ¨å‚æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-Djobmanager.memory.process.size=1024m -Dtaskmanager.memory.process.size=3072m -Dtaskmanager.memory.jvm-overhead.fraction=0.2</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
        <tag>å¤‡å¿˜å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>Windowsä¸‹ä¿®æ”¹ä¸åˆ·æ–°hostsé…ç½®æ–‡ä»¶</title>
    <url>/2022/08/30/edit-hosts-in-windows/</url>
    <content><![CDATA[<p>hosts æ–‡ä»¶ä½ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:\windows\system32\drivers\etc</span><br></pre></td></tr></table></figure>

<p>é€‰ä¸­ hosts æ–‡ä»¶ï¼Œå³é”®ï¼Œä½¿ç”¨æ–‡æœ¬å·¥å…·ï¼ˆå¦‚ Notepad++ã€VS Codeã€Sublime Textã€è®°äº‹æœ¬ç­‰ï¼‰æ‰“å¼€ä¿®æ”¹å³å¯ã€‚å¦‚æ·»åŠ ä»¥ä¸‹ host é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10.10.18.21     bigdata1.johnson.com     bigdata1</span><br></pre></td></tr></table></figure>

<p>ä¸ºä½¿åˆšåˆšçš„æ›´æ”¹ç”Ÿæ•ˆï¼Œéœ€è¦åˆ·æ–° DNS é…ç½®ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰“å¼€ å‘½ä»¤æç¤ºç¬¦ åº”ç”¨ï¼š å¿«æ·é”®ï¼šwin + r è¾“å…¥ cmdï¼Œå›è½¦ï¼Œå³å¯æ‰“å¼€ å‘½ä»¤æç¤ºç¬¦ åº”ç”¨ã€‚</li>
<li>åœ¨æ‰“å¼€çš„ å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥ ipconfig /flushdnsï¼Œå›è½¦ï¼Œå³å¯ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ipconfig /flushdns</span><br></pre></td></tr></table></figure>
</li>
<li>æ˜¾ç¤º DNS ç¼“å­˜å†…å®¹ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ipconfig /displaydns</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
  </entry>
  <entry>
    <title>ã€Gitå¸¸ç”¨å‘½ä»¤ã€‘è§£å†³åœ¨æœ¬åœ°è¿˜èƒ½çœ‹åˆ°å·²åˆ é™¤çš„Gitè¿œç¨‹åˆ†æ”¯</title>
    <url>/2022/05/24/how-to-clean-up-git-branches/</url>
    <content><![CDATA[<p>åœ¨ä½¿ç”¨ Git è¿›è¡Œä»£ç ç®¡ç†æ—¶ï¼Œé€šå¸¸ä¼šé‡åˆ°æŸä¸ªå¼€å‘åˆ†æ”¯å·²ç»åœ¨ä»£ç ä»“åº“ä¸­åˆ é™¤äº†ï¼Œä½†åœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿˜èƒ½æŸ¥çœ‹åˆ°è¯¥è¢«åˆ é™¤åˆ†æ”¯çš„æƒ…å†µã€‚</p>
<p>ä¸ºè§£å†³è¯¥é—®é¢˜ï¼ŒGit æä¾›äº†ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote prune origin</span><br></pre></td></tr></table></figure>

<p>æˆ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git fetch origin --prune</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ GitLab ä»£ç ä»“åº“åˆ é™¤é¡¹ç›®çš„å¼€å‘åˆ†æ”¯ <code>ljx</code> ï¼Œä½†åœ¨æœ¬åœ°ç¯å¢ƒä¸­é€šè¿‡å‘½ä»¤ <code>git branch -a</code> è¿˜å¯ä»¥æŸ¥çœ‹åˆ°è¯¥åˆ†æ”¯è¿˜å­˜åœ¨çš„æƒ…å†µï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/ljx</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/patch-2032</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ <code>git remote prune origin</code> æ¥è§£å†³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  mydw git:(master) git remote prune origin</span><br><span class="line">warning: redirecting to https://git.linjiangxiong.com/bigdatabase/mydw.git/</span><br><span class="line">Pruning origin</span><br><span class="line">URL: https://git.linjiangxiong.com/bigdatabase/mydw</span><br><span class="line"> * [pruned] origin/ljx</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶ï¼Œå†æŸ¥çœ‹æœ¬åœ°ç¯å¢ƒçš„åˆ†æ”¯ï¼Œå‘ç° <code>ljx</code> åˆ†æ”¯å·²ç»ä¸å­˜åœ¨äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/patch-2032</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxå¸¸ç”¨å‘½ä»¤ã€‘tarå‹ç¼©å’Œè§£å‹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</title>
    <url>/2022/08/23/how-to-compress-and-decompress-files-or-folders-in-linux/</url>
    <content><![CDATA[<h2 id="å‹ç¼©æ–‡ä»¶"><a href="#å‹ç¼©æ–‡ä»¶" class="headerlink" title="å‹ç¼©æ–‡ä»¶"></a>å‹ç¼©æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zcvf ljx.tar.gz ./linjiangxiong/</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤è¡¨ç¤ºå‹ç¼©å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¤¹ <em>linjiangxiong</em>ï¼Œå‹ç¼©åçš„æ–‡ä»¶åä¸º <em>ljx.tar.gz</em> ã€‚</p>
<p>å¦‚æœéœ€è¦å‹ç¼©å¤šä¸ªæ–‡ä»¶ï¼Œåªéœ€è¦åœ¨å‘½ä»¤æœ«å°¾è¿½åŠ éœ€è¦å‹ç¼©çš„æ–‡ä»¶å³å¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zcvf ljx.tar.gz ./linjiangxiong/ ./ljx/</span><br></pre></td></tr></table></figure>

<h2 id="è§£å‹æ–‡ä»¶"><a href="#è§£å‹æ–‡ä»¶" class="headerlink" title="è§£å‹æ–‡ä»¶"></a>è§£å‹æ–‡ä»¶</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzvf ljx.tar.gz</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤è¡¨ç¤ºæŠŠåç¼€ä¸º <em>.tar.gz</em> çš„æ–‡ä»¶è§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>å¦‚æœéœ€è¦å°†æ–‡ä»¶è§£å‹ç¼©åˆ°å…¶ä»–ç›®å½•ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzvf ljx.tar.gz -C /opt/ljx</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤è¡¨ç¤ºæŠŠåç¼€ä¸º <em>.tar.gz</em> çš„æ–‡ä»¶è§£å‹åˆ° /opt/ljx ç›®å½•ä¸‹ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxå¸¸ç”¨å‘½ä»¤ã€‘æŸ¥çœ‹ä¸»æœºå</title>
    <url>/2022/06/27/how-to-find-hostname-in-linux/</url>
    <content><![CDATA[<p>ä¸»æœºåï¼ˆè‹±è¯­ï¼šhostnameï¼‰ï¼Œä¹Ÿç§°è®¡ç®—æœºåï¼Œæ˜¯æŒ‡åˆ†é…ç»™è®¡ç®—æœºçš„ä¸€ä¸²å”¯ä¸€æ ‡è¯†ç ï¼Œç”¨äºåœ¨ç½‘ç»œä¸Šå”¯ä¸€è¯†åˆ«è¯¥è®¡ç®—æœºã€‚é€šå¸¸ç”±å­—æ¯ã€æ•°å­—ç»„æˆï¼Œä¹Ÿå¯ä»¥åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚è‹±æ–‡è¿å­—ç¬¦ï¼ˆ-ï¼‰ã€è‹±æ–‡å¥ç‚¹ï¼ˆ.ï¼‰å’Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚å…¸å‹çš„ä¸»æœºåæœ€å¤šåŒ…å« 253 ä¸ªå­—ç¬¦ã€‚</p>
<p>åœ¨å¤§å¤šæ•° Linux å‘è¡Œç‰ˆä¸­ï¼Œä¸»æœºåé€šå¸¸å­˜å‚¨åœ¨ <em>/etc/hostname</em> æ–‡ä»¶ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡ <code>ssh</code> å‘½ä»¤åœ¨ç»ˆç«¯æˆåŠŸè¿æ¥åˆ°ç›®æ ‡æœåŠ¡å™¨æ—¶ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ç›®æ ‡æœåŠ¡å™¨çš„ä¸»æœºåã€‚å¦‚ä»¥ä¸‹å‘½ä»¤å¯ä»¥çœ‹åˆ°ç›®æ ‡æœåŠ¡å™¨çš„ä¸»æœºåä¸º kafka-eagleã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh hadoop@10.10.18.8</span><br><span class="line">Last login: Fri May 13 20:50:56 2022 from 10.10.18.215</span><br><span class="line"></span><br><span class="line">Welcome to Alibaba Cloud Elastic Compute Service !</span><br><span class="line"></span><br><span class="line">[hadoop@kafka-eagle ~]$</span><br></pre></td></tr></table></figure>

<p>ä»‹ç»å®Œä¸»æœºåçš„æ¦‚å¿µï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·äº†è§£åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­å…¶ä»–å„ç§æŸ¥æ‰¾ä¸»æœºåçš„å‘½ä»¤ã€‚</p>
<h2 id="ä½¿ç”¨-hostname-å‘½ä»¤"><a href="#ä½¿ç”¨-hostname-å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ hostname å‘½ä»¤"></a>ä½¿ç”¨ hostname å‘½ä»¤</h2><p><code>hostname</code> å‘½ä»¤ç”¨äºæ˜¾ç¤º Linux ç³»ç»Ÿçš„ DNS åç§°å’Œä¸»æœºåã€‚å®ƒè¿˜å…è®¸ç”¨æˆ·æ›´æ”¹æˆ–è®¾ç½®ä¸»æœºåã€‚</p>
<p>è¦åœ¨ Linux ä¸­æŸ¥æ‰¾ä¸»æœºåï¼Œè¯·è¿è¡Œä¸å¸¦ä»»ä½•é€‰é¡¹çš„ <code>hostname</code> å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hostname</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<p>ä»è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰ Linux ç³»ç»Ÿçš„ä¸»æœºåæ˜¯ <strong>kafka-eagle</strong>ã€‚</p>
<p>å¦‚æœè¦æ˜¾ç¤ºå®Œå…¨é™å®šåŸŸåï¼ˆFQDNï¼ŒFully Qualified Domain Nameï¼‰ï¼Œè¯·è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostname --fqdn</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-hostnamectl-å‘½ä»¤"><a href="#ä½¿ç”¨-hostnamectl-å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ hostnamectl å‘½ä»¤"></a>ä½¿ç”¨ hostnamectl å‘½ä»¤</h2><p><code>hostnamectl</code> å‘½ä»¤ç”¨äºè·å–å’Œè®¾ç½® Linux ç³»ç»Ÿçš„ä¸»æœºååŠå…¶ç›¸å…³è®¾ç½®ã€‚</p>
<p>è¦æ˜¾ç¤º Linux æœºå™¨çš„ä¸»æœºåï¼Œè¯·è¿è¡Œä¸å¸¦ä»»ä½•é€‰é¡¹çš„ <code>hostnamectl</code> å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostnamectl</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hostnamectl</span><br><span class="line">   Static hostname: kafka-eagle</span><br><span class="line">         Icon name: computer-vm</span><br><span class="line">           Chassis: vm</span><br><span class="line">        Machine ID: 20200817109743110641424667768813</span><br><span class="line">           Boot ID: f650bio8ec6440979b3ac70f8cdbe62b</span><br><span class="line">    Virtualization: kvm</span><br><span class="line">  Operating System: CentOS Linux 7 (Core)</span><br><span class="line">       CPE OS Name: cpe:/o:centos:centos:7</span><br><span class="line">            Kernel: Linux 3.10.0-1127.19.1.el7.x86_64</span><br><span class="line">      Architecture: x86-64</span><br></pre></td></tr></table></figure>

<p>ä¸ <code>hostname</code> å‘½ä»¤ä¸åŒï¼Œ<code>hostnamectl</code> æ˜¾ç¤ºäº†ç³»ç»Ÿæ›´å¤šçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚</p>
<ul>
<li>ç³»ç»Ÿç±»å‹ï¼ˆchassisï¼Œç¬”è®°æœ¬ç”µè„‘æˆ–å°å¼æœºç­‰ï¼Œå…·ä½“å€¼åˆ—è¡¨ï¼šâ€desktopâ€, â€œlaptopâ€, â€œserverâ€, â€œtabletâ€, â€œhandsetâ€, â€œwatchâ€, â€œembeddedâ€, â€œvmâ€, â€œcontainerâ€ï¼‰ï¼›</li>
<li>å¼•å¯¼å’Œæœºå™¨ IDï¼ˆMachine IDã€Boot IDï¼‰ï¼›</li>
<li>æ“ä½œç³»ç»Ÿä¿¡æ¯ï¼ˆOperating Systemã€CPE OS Nameï¼‰ï¼›</li>
<li>å†…æ ¸ç‰ˆæœ¬ï¼ˆKernelï¼‰ï¼›</li>
<li>å¤„ç†å™¨æ¶æ„ï¼ˆArchitectureï¼‰ç­‰ã€‚</li>
</ul>
<p>å¦‚æœåªæ˜¾ç¤ºä¸»æœºåï¼Œè¯·ä½¿ç”¨ <code>--static</code> é€‰é¡¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hostnamectl --static</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-uname-å‘½ä»¤"><a href="#ä½¿ç”¨-uname-å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ uname å‘½ä»¤"></a>ä½¿ç”¨ uname å‘½ä»¤</h2><p><code>uname</code> å‘½ä»¤ç”¨äºæ‰“å°æ‰€æœ‰ç³»ç»Ÿä¿¡æ¯ï¼Œä¾‹å¦‚ä¸»æœºåã€å†…æ ¸ç‰ˆæœ¬ã€å‘å¸ƒç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿå’Œå¤„ç†å™¨æ¶æ„ç­‰ã€‚</p>
<p>è¦ä½¿ç”¨ uname å‘½ä»¤æŸ¥çœ‹ä¸»æœºåï¼Œè¯·ä½¿ç”¨ -n é€‰é¡¹è¿è¡Œå®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">uname</span> -n</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡-cat-å‘½ä»¤è¯»å–-etc-hostname-æ–‡ä»¶è·å–ä¸»æœºå"><a href="#é€šè¿‡-cat-å‘½ä»¤è¯»å–-etc-hostname-æ–‡ä»¶è·å–ä¸»æœºå" class="headerlink" title="é€šè¿‡ cat å‘½ä»¤è¯»å– /etc/hostname æ–‡ä»¶è·å–ä¸»æœºå"></a>é€šè¿‡ cat å‘½ä»¤è¯»å– /etc/hostname æ–‡ä»¶è·å–ä¸»æœºå</h2><p>å¦‚å‰æ‰€è¿°ï¼Œåœ¨å¤§å¤šæ•° Linux å‘è¡Œç‰ˆä¸­ï¼Œä¸»æœºåå­˜å‚¨åœ¨ <em>/etc/hostname</em> æ–‡ä»¶ä¸­ã€‚è¦è·å– Linux ç³»ç»Ÿçš„ä¸»æœºåï¼Œåªéœ€æ˜¾ç¤º <em>/etc/hostname</em> æ–‡ä»¶çš„å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /etc/hostname</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™äº›å‘½ä»¤æ˜¯åœ¨ Linux ä¸­æœ€å¸¸ç”¨çš„æŸ¥æ‰¾ä¸»æœºåçš„å‘½ä»¤ã€‚ä¸‹é¢åˆ—å‡ºçš„è¿™äº›åˆ™æ˜¯ä¸å¸¸è§çš„å‘½ä»¤ï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<h2 id="ä½¿ç”¨-nmcli-å‘½ä»¤"><a href="#ä½¿ç”¨-nmcli-å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ nmcli å‘½ä»¤"></a>ä½¿ç”¨ nmcli å‘½ä»¤</h2><p><code>nmcli</code> å‘½ä»¤ç”¨äºæ§åˆ¶ NetworkManager å¹¶æŠ¥å‘Šç½‘ç»œçŠ¶æ€ã€‚ä½¿ç”¨ <code>nmcli</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºã€æ˜¾ç¤ºã€ç¼–è¾‘ã€åˆ é™¤ã€æ¿€æ´»å’Œåœç”¨ç½‘ç»œè¿æ¥ï¼Œä»¥åŠæ§åˆ¶å’Œæ˜¾ç¤ºç½‘ç»œè®¾å¤‡çŠ¶æ€ã€‚</p>
<p>è¦ä½¿ç”¨ <code>nmcli</code> å‘½ä»¤æ£€æŸ¥ Linux ç³»ç»Ÿçš„ä¸»æœºåï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nmcli general hostname</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-sysctl-å‘½ä»¤"><a href="#ä½¿ç”¨-sysctl-å‘½ä»¤" class="headerlink" title="ä½¿ç”¨ sysctl å‘½ä»¤"></a>ä½¿ç”¨ sysctl å‘½ä»¤</h2><p><code>sysctl</code> å‘½ä»¤ç”¨äºåœ¨è¿è¡Œæ—¶åˆ—å‡ºå’Œä¿®æ”¹å†…æ ¸å‚æ•°ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ <code>sysctl</code> å‘½ä»¤è¡Œæ‰“å° Linux ç³»ç»Ÿçš„ä¸»æœºåï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sysctl kernel.hostname</span><br><span class="line">kernel.hostname = kafka-eagle</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-ProcFS-æŸ¥æ‰¾-Linux-ä¸­çš„ä¸»æœºå"><a href="#ä½¿ç”¨-ProcFS-æŸ¥æ‰¾-Linux-ä¸­çš„ä¸»æœºå" class="headerlink" title="ä½¿ç”¨ ProcFS æŸ¥æ‰¾ Linux ä¸­çš„ä¸»æœºå"></a>ä½¿ç”¨ ProcFS æŸ¥æ‰¾ Linux ä¸­çš„ä¸»æœºå</h2><p>Proc æ–‡ä»¶ç³»ç»Ÿï¼ˆæˆ–ç®€ç§° procfsï¼‰æ˜¯ç”± Linux å†…æ ¸ç»´æŠ¤çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚å®ƒæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºè¿›ç¨‹ä¿¡æ¯ä¼ªæ–‡ä»¶ç³»ç»Ÿã€‚å®ƒä¸åŒ…å«â€œçœŸå®â€æ–‡ä»¶ï¼Œä½†åŒ…å«è¿è¡Œæ—¶ç³»ç»Ÿä¿¡æ¯ï¼Œä¾‹å¦‚ç³»ç»Ÿå†…å­˜ã€æŒ‚è½½çš„è®¾å¤‡ã€ç¡¬ä»¶é…ç½®ç­‰ã€‚æ‰€æœ‰è¿™äº›ä¿¡æ¯éƒ½å¯ä»¥åœ¨ Linux ä¸­åä¸º <em>/proc</em> çš„ç‰¹æ®Šç›®å½•ä¸‹æ‰¾åˆ°ã€‚</p>
<p>è¦ä½¿ç”¨ prcfs ç¡®å®š Linux çš„ä¸»æœºåï¼Œè¯·è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /proc/sys/kernel/hostname</span><br><span class="line">kafka-eagle</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä»‹ç»äº†ä»€ä¹ˆæ˜¯ä¸»æœºååŠå¦‚ä½•æŸ¥çœ‹ Linux ç³»ç»Ÿä¸»æœºåçš„ä¸åŒæ–¹æ³•ã€‚</p>
<ul>
<li>åˆ†é…ç»™è®¡ç®—æœºçš„ä¸€ä¸²å”¯ä¸€æ ‡è¯†ç ï¼Œç”¨äºåœ¨ç½‘ç»œä¸Šå”¯ä¸€è¯†åˆ«è¯¥è®¡ç®—æœºï¼›</li>
<li>ç”±å­—æ¯ã€æ•°å­—ã€è‹±æ–‡è¿å­—ç¬¦ã€è‹±æ–‡å¥ç‚¹å’Œä¸‹åˆ’çº¿ç»„æˆ[A-Z, a-z, 0-9, -_.]ï¼›</li>
<li>å…¸å‹çš„ä¸»æœºåæœ€å¤šåŒ…å« 253 ä¸ªå­—ç¬¦ã€‚</li>
</ul>
<p>æŸ¥çœ‹ Linux ç³»ç»Ÿä¸»æœºåå¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><code>hostname</code></li>
<li><code>hostnamectl</code></li>
<li><code>uname -n</code></li>
<li><code>cat /etc/hostname</code></li>
</ul>
<p>ä¸å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><code>nmcli general hostname</code></li>
<li><code>sysctl kernel.hostname</code></li>
<li><code>cat /proc/sys/kernel/hostname</code></li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Elasticsearchã€‘Query DSLæŸ¥è¯¢æŒ‡å®šå­—æ®µå€¼ä¸ºnullçš„æ–‡æ¡£</title>
    <url>/2022/10/14/query-dsl-null-field/</url>
    <content><![CDATA[<p>Heyï¼Œå¤§å®¶å¥½ï¼æˆ‘æ˜¯ Elasticsearch æ–°æ‰‹ã€‚æˆ‘æƒ³çŸ¥é“å¦‚ä½•é€šè¿‡ Query DSL æ‰¾å‡ºæŒ‡å®šå­—æ®µå€¼ä¸º null çš„æ–‡æ¡£ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ç´¢å¼•ï¼ˆç´¢å¼•åï¼š<code>class_info_v22002</code>ï¼Œç”¨æ¥å­˜æ”¾ç­çº§ä¿¡æ¯ï¼‰åˆ›å»ºçš„ DSLï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT class_info_v22002</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;refresh_interval&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1s&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number_of_replicas&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="number">3</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;class_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;class_name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;teacher&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç´¢å¼•çš„æ–‡æ¡£å†…å®¹ç±»ä¼¼å¦‚ä¸‹çš„ç¤ºä¾‹æ•°æ®ï¼ˆé€šè¿‡æ‰¹é‡æ·»åŠ æ•°æ®æ¨¡æ‹Ÿï¼‰ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT class_info_v22002/_bulk</span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;class_id&quot;</span><span class="punctuation">:</span> <span class="number">2008001</span><span class="punctuation">,</span><span class="attr">&quot;class_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸‰å¹´ï¼ˆ1ï¼‰ç­&quot;</span><span class="punctuation">,</span><span class="attr">&quot;teacher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å¼ ä¸‰&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;class_id&quot;</span><span class="punctuation">:</span> <span class="number">2008002</span><span class="punctuation">,</span><span class="attr">&quot;class_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸‰å¹´ï¼ˆ2ï¼‰ç­&quot;</span><span class="punctuation">,</span><span class="attr">&quot;teacher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æå››&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;3&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;class_id&quot;</span><span class="punctuation">:</span> <span class="number">2008003</span><span class="punctuation">,</span><span class="attr">&quot;class_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸‰å¹´ï¼ˆ3ï¼‰ç­&quot;</span><span class="punctuation">,</span><span class="attr">&quot;teacher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç‹äº”&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;class_id&quot;</span><span class="punctuation">:</span> <span class="number">2008004</span><span class="punctuation">,</span><span class="attr">&quot;class_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸‰å¹´ï¼ˆ4ï¼‰ç­&quot;</span><span class="punctuation">,</span><span class="attr">&quot;teacher&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦æ‰¾å‡º <code>teacher</code> å­—æ®µå€¼ä¸º null çš„æ–‡æ¡£ï¼ŒQuery DSL åº”è¯¥å¦‚ä½•å†™ï¼Ÿ</p>
<hr>
<p>ä½ å¥½ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„ DSL ç­›é€‰å‡º <code>teacher</code> å­—æ®µå€¼ä¸º null çš„æ–‡æ¡£ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">GET class_info_v22002/_search</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;must_not&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;exists&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;teacher&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;took&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timed_out&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_shards&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;total&quot;</span> <span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;successful&quot;</span> <span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skipped&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;failed&quot;</span> <span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hits&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;total&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;value&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;relation&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;eq&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;max_score&quot;</span> <span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hits&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;_index&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;class_info_v22002&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_type&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;_doc&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_id&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;4&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_score&quot;</span> <span class="punctuation">:</span> <span class="number">0.0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_source&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;class_id&quot;</span> <span class="punctuation">:</span> <span class="number">2008004</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;class_name&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;ä¸‰å¹´ï¼ˆ4ï¼‰ç­&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;teacher&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ SQL æ¥å®ç°ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">POST _sql?format=txt</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="string">&quot;select * from class_info_v22002 where teacher is null&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">   class_id    |  class_name   |    teacher    </span><br><span class="line">---------------+---------------+---------------</span><br><span class="line">2008004        |ä¸‰å¹´ï¼ˆ4ï¼‰ç­     |null</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Linuxå¸¸ç”¨å‘½ä»¤ã€‘ç”¨æˆ·ä¸ç”¨æˆ·ç»„</title>
    <url>/2022/08/23/how-to-create-user-and-group-in-linux/</url>
    <content><![CDATA[<h2 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h2><p>æ·»åŠ ç”¨æˆ·å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd ç”¨æˆ·å</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç”¨æˆ·å¯†ç å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd ç”¨æˆ·å</span><br></pre></td></tr></table></figure>

<p>e.g. </p>
<p>æ·»åŠ  lemon ç”¨æˆ·ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd lemon</span><br></pre></td></tr></table></figure>

<p>ä¸º lemon ç”¨æˆ·è®¾ç½®å¯†ç ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd lemon</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®æç¤ºè¾“å…¥æ–°å¯†ç å³å¯ï¼Œæç¤º/è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@node01 bigdata]# passwd lemon</span><br><span class="line">Changing password <span class="keyword">for</span> user lemon.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<h2 id="æ·»åŠ ç”¨æˆ·ç»„"><a href="#æ·»åŠ ç”¨æˆ·ç»„" class="headerlink" title="æ·»åŠ ç”¨æˆ·ç»„"></a>æ·»åŠ ç”¨æˆ·ç»„</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">groupadd ç»„å</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<p>æ·»åŠ  group2 ç»„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">groupadd group2</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·"><a href="#æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·" class="headerlink" title="æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·"></a>æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/passwd</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç»„"><a href="#æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç»„" class="headerlink" title="æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç»„"></a>æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰ç»„</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/group</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹ç”¨æˆ·ç™»å½•å†å²è®°å½•"><a href="#æŸ¥çœ‹ç”¨æˆ·ç™»å½•å†å²è®°å½•" class="headerlink" title="æŸ¥çœ‹ç”¨æˆ·ç™»å½•å†å²è®°å½•"></a>æŸ¥çœ‹ç”¨æˆ·ç™»å½•å†å²è®°å½•</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">last</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·"><a href="#æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·" class="headerlink" title="æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·"></a>æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">who</span></span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰"><a href="#æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰"></a>æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cut</span> -d : -f 1 /etc/passwd</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥çœ‹å¯ä»¥ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰"><a href="#æŸ¥çœ‹å¯ä»¥ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰" class="headerlink" title="æŸ¥çœ‹å¯ä»¥ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰"></a>æŸ¥çœ‹å¯ä»¥ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ï¼ˆä»…æ˜¾ç¤ºç”¨æˆ·åï¼‰</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/passwd | grep -v /sbin/nologin | <span class="built_in">cut</span> -d : -f 1</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>CentOS7</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Redisã€‘flushallå‘½ä»¤â€”â€”æ¸…ç©ºæ‰€æœ‰ç¼“å­˜æ•°æ®</title>
    <url>/2022/08/25/flush-all-cache-data-in-redis/</url>
    <content><![CDATA[<p>å¦‚ä½•æ¸…ç©º Redis é›†ç¾¤çš„æ‰€æœ‰ç¼“å­˜æ•°æ®ï¼Ÿå³åˆ é™¤æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰ keyã€‚</p>
<hr>
<p>ä½¿ç”¨ Redis çš„ <code>flushall</code> å‘½ä»¤ã€‚</p>
<p>è¯¥å‘½ä»¤é€‚ç”¨ Redis ç‰ˆæœ¬ï¼šâ‰¥ 1.0.0</p>
<p>æ‰§è¡Œç»“æœæ€»æ˜¯è¿”å›ï¼šOKã€‚</p>
<p><strong>NOTEï¼šç”Ÿäº§ç¯å¢ƒè°¨æ…æ“ä½œï¼ï¼ï¼é™¤éä½ å¾ˆæ¸…æ¥šè‡ªå·±æ­£åœ¨åšä»€ä¹ˆï¼</strong></p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åœ¨ç»ˆç«¯å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥è¿æ¥ Redis æŒ‡ä»¤ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli -h 192.168.182.227 -p 1379</span><br></pre></td></tr></table></figure>
 å‚æ•°è¯´æ˜ï¼š<ul>
<li><code>-h</code>ï¼šRedis Hostï¼ˆè¿æ¥åœ°å€ï¼Œå¦‚æœè¿æ¥åœ°å€ä¸º 127.0.0.1ï¼Œå¯å¿½ç•¥è¯¥å‚æ•°ï¼‰ï¼›</li>
<li><code>-p</code>ï¼šRedis Portï¼ˆç«¯å£å·ï¼Œå¦‚æœç«¯å£å·ä¸º 6379ï¼Œå¯å¿½ç•¥è¯¥å‚æ•°ï¼‰ï¼›</li>
<li><code>-a</code>ï¼šRedis è¿æ¥å¯†ç ï¼ˆå¦‚æœ‰å¯†ç çš„è¯ï¼Œéœ€è¦ä¸Šè¯¥å‚æ•°ï¼Œå¦‚  -a 1234567890kï¼‰</li>
</ul>
</li>
<li>è¿æ¥æˆåŠŸåï¼Œè¾“å…¥ <code>flushall</code> æŒ‡ä»¤å³å¯æ¸…ç©º Redis æ‰€æœ‰ç¼“å­˜æ•°æ®ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">flushall</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ redis-cli -h 192.168.182.227 -p 1379</span><br><span class="line">192.168.182.227:1379&gt; flushall</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Gitå¸¸ç”¨å‘½ä»¤ã€‘åˆ é™¤æœ¬åœ°/è¿œç¨‹åˆ†æ”¯</title>
    <url>/2022/05/23/how-to-delete-a-local-and-remote-git-branch/</url>
    <content><![CDATA[<h2 id="åˆ é™¤æœ¬åœ°åˆ†æ”¯"><a href="#åˆ é™¤æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ é™¤æœ¬åœ°åˆ†æ”¯"></a><strong>åˆ é™¤æœ¬åœ°åˆ†æ”¯</strong></h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -d åˆ†æ”¯åç§°</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šåˆ é™¤æŸä¸ªåˆ†æ”¯æ—¶ï¼Œéœ€å…ˆåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šã€‚ä¾‹å¦‚ï¼Œåˆ é™¤åˆ†æ”¯ <code>ljx</code> çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…ˆåˆ‡æ¢è‡³ master åˆ†æ”¯</span></span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤åˆ†æ”¯ ljx</span></span><br><span class="line">git branch -d ljx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯</span></span><br><span class="line">git branch -a</span><br><span class="line"></span><br><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/ljx</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/bugfix</span><br></pre></td></tr></table></figure>

<h2 id="åˆ é™¤è¿œç¨‹åˆ†æ”¯"><a href="#åˆ é™¤è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ é™¤è¿œç¨‹åˆ†æ”¯"></a>åˆ é™¤è¿œç¨‹åˆ†æ”¯</h2><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin --delete åˆ†æ”¯åç§°</span><br></pre></td></tr></table></figure>

<p>å¦‚åˆ é™¤è¿œç¨‹åˆ†æ”¯ <code>ljx</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin --delete ljx</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€elasticsearchã€‘åˆ é™¤æ–‡æ¡£åå¦‚ä½•é‡Šæ”¾å­˜å‚¨å¤§å°</title>
    <url>/2022/08/03/how-to-free-store-size-after-deleting-documents/</url>
    <content><![CDATA[<p>åœ¨ä½¿ç”¨ Elasticsearch çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šæœ‰åˆ é™¤æŸä¸ªç´¢å¼•å†å²æ•°æ®çš„éœ€æ±‚ã€‚æ¯”å¦‚å­˜å‚¨é£æœºç¥¨ä¿¡æ¯çš„ç´¢å¼•ï¼Œé€šå¸¸åªéœ€è¦ä¿ç•™ä»Šæ—¥åŠä»Šæ—¥ä¹‹åçš„æœºç¥¨ä¿¡æ¯ã€‚ä¸ºæå‡ç´¢å¼•çš„æ•ˆç‡å’Œé˜²æ­¢ç´¢å¼•è¿‡å¤§ï¼ŒåŒæ—¶å°½é‡é¿å…åˆ é™¤è¿‡ç¨‹ä¸­å½±å“çº¿ä¸Šç¯å¢ƒç¨³å®šæ€§ï¼Œä¸€èˆ¬ä¼šé€‰åœ¨ä¸šåŠ¡ä½å³°æœŸçš„æ—¶å€™åˆ é™¤å†å²æ•°æ®ã€‚</p>
<p>å¦‚ä»¥ä¸‹ DSL é€šè¿‡è°ƒç”¨ <code>_delete_by_query</code> æ–¹æ³•åˆ é™¤ <code>flight_v20220107</code> ç´¢å¼•ä¸­æ—¥æœŸï¼ˆdtï¼‰åœ¨ 20220729 ~ 20220802 ä¹‹é—´çš„æœºç¥¨ä¿¡æ¯æ•°æ®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">POST /flight_v20220107/_delete_by_query?size=1000000&amp;conflicts=proceed</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;query&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;bool&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;filter&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;range&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;dt&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;from&quot;</span>: <span class="string">&quot;20220729&quot;</span>,</span><br><span class="line">            <span class="string">&quot;to&quot;</span>: <span class="string">&quot;20220802&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†åœ¨æ‰§è¡Œå®Œåˆ é™¤å‘½ä»¤ä¹‹åï¼Œå¹¶ä¸ä¼šé©¬ä¸Šé‡Šæ”¾è¯¥ç´¢å¼•çš„å­˜å‚¨å¤§å°ã€‚å› ä¸ºåœ¨ Elasticsearch ä¸­ï¼Œåˆ é™¤æ–‡æ¡£å¹¶ä¸æ˜¯çœŸæ­£çš„åˆ é™¤ï¼Œè€Œæ˜¯å°†è¿™äº›æ–‡æ¡£æ ‡è®°ä¸ºå·²åˆ é™¤ï¼Œä½¿å®ƒä»¬ä¸ä¼šè¢«æœç´¢åˆ°è€Œå·²ã€‚å¦‚æœè¦å›æ”¶ç£ç›˜ç©ºé—´ï¼Œé‡Šæ”¾ç´¢å¼•çš„å­˜å‚¨å¤§å°ï¼Œè¿˜å¿…é¡»ä¼˜åŒ–ç´¢å¼•ï¼Œå³ä½¿ç”¨ <code>_forcemerge</code> å‘½ä»¤åˆå¹¶æ®µå‡å°‘åˆ†ç‰‡ä¸­æ®µæ•°é‡ã€åˆ é™¤å†—ä½™æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">POST /flight_v20220107/_forcemerge?only_expunge_deletes=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><code>_forcemerge</code> å‘½ä»¤è¯´æ˜ï¼š</p>
<ul>
<li>ä¼˜åŒ–æ‰€æœ‰ç´¢å¼•ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">POST /_forcemerge?only_expunge_deletes=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li>ä¼˜åŒ–å•ä¸ªç´¢å¼•ï¼ˆå…¶ä¸­ <code>index_name</code> ä¸ºç´¢å¼•åç§°ï¼‰ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">POST /index_name/_forcemerge?only_expunge_deletes=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li>ä¼˜åŒ–å¤šä¸ªç´¢å¼•ï¼ˆå…¶ä¸­ <code>index_name_1</code> å’Œ <code>index_name_2</code> ä¸ºç´¢å¼•åç§°ï¼‰ï¼š  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">POST /index_name_1,index_name_2/_forcemerge?only_expunge_deletes=<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLå¦‚ä½•å¼€å¯binlogæ—¥å¿—</title>
    <url>/2022/10/21/how-to-enable-mysql-binlog/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹æ˜¯å¦å¼€å¯binlogæ—¥å¿—"><a href="#æŸ¥çœ‹æ˜¯å¦å¼€å¯binlogæ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ˜¯å¦å¼€å¯binlogæ—¥å¿—"></a>æŸ¥çœ‹æ˜¯å¦å¼€å¯binlogæ—¥å¿—</h2><p>è¿æ¥ MySQLï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;log_%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢ç»“æœç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š</p>
<table>
<thead>
<tr>
<th>Variable_name</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>log_bin</td>
<td>OFF</td>
</tr>
<tr>
<td>log_bin_basename</td>
<td></td>
</tr>
<tr>
<td>log_bin_index</td>
<td></td>
</tr>
<tr>
<td>â€¦</td>
<td></td>
</tr>
</tbody></table>
<p>å˜é‡ <code>log_bin</code> çš„å€¼ä¸º <code>OFF</code>ï¼Œè¯´æ˜æœªå¼€å¯ binlog æ—¥å¿—ï¼Œè‹¥ä¸º <code>ON</code> è¯´æ˜å·²å¼€å¯ã€‚</p>
<h2 id="å¼€å¯binlogæ—¥å¿—"><a href="#å¼€å¯binlogæ—¥å¿—" class="headerlink" title="å¼€å¯binlogæ—¥å¿—"></a>å¼€å¯binlogæ—¥å¿—</h2><p>è‹¥ MySQL æœªå¼€å¯ binlog æ—¥å¿—ï¼Œå¯é€šè¿‡ä¿®æ”¹ MySQL çš„é…ç½®æ–‡ä»¶ <em>mysqld.cnf</em> å¯ç”¨ binlog æ—¥å¿—ã€‚</p>
<p>æ‰“å¼€é…ç½®æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šé…ç½®æ–‡ä»¶ä½ç½®éœ€æ”¹ä¸ºä½ è‡ªå·±çš„å­˜æ”¾ä½ç½®ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥ä¸‹é…ç½®é¡¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server_id       = 20</span><br><span class="line">log_bin         = mysql-bin</span><br><span class="line">binlog_format   = ROW</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜ä¿®æ”¹å†…å®¹ï¼Œå¹¶é‡æ–°å¯åŠ¨ MySQL ä½¿ä¿®æ”¹åçš„é…ç½®é¡¹ç”Ÿæ•ˆï¼Œå¦‚ä½¿ç”¨ <code>service</code> å‘½ä»¤é‡å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure>

<p>é‡å¯æˆåŠŸåï¼Œå†æ£€æŸ¥ binlog æ—¥å¿—æ˜¯å¦å·²å¼€å¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;log_%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>Variable_name</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>log_bin</td>
<td>ON</td>
</tr>
<tr>
<td>log_bin_basename</td>
<td>/var/lib/mysql/mysql-bin</td>
</tr>
<tr>
<td>log_bin_index</td>
<td>/var/lib/mysql/mysql-bin.index</td>
</tr>
</tbody></table>
<p>å˜é‡ <code>log_bin</code> å€¼ä¸º <code>ON</code>ï¼Œè¯´æ˜ binlog æ—¥å¿—å·²å¼€å¯ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºPrestoçš„LEFT JOINï¼Œæœ‰ä¸€ä¸ªå¾ˆå®¹æ˜“è¢«å¿½ç•¥çš„ç‚¹</title>
    <url>/2022/10/31/presto-left-join-intro/</url>
    <content><![CDATA[<p>LEFT JOIN åœ¨ SQL æŸ¥è¯¢ä¸­æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„æ•°æ®æŸ¥è¯¢æ“ä½œï¼Œå…¶æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ˜¯ä»¥å·¦è¡¨ä¸ºä¸»è¡¨ï¼Œä¿ç•™å·¦è¡¨çš„è®°å½•ï¼Œå¦‚æœå³è¡¨æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œä¾ç„¶ä¼šè¿”å›å·¦è¡¨çš„è®°å½•ï¼Œæ­¤æ—¶å³è¡¨çš„å­—æ®µç”¨ NULL å¡«å……ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨ Presto ä¸­ä½¿ç”¨ LEFT JOIN è”ç»“è¡¨æŸ¥è¯¢ï¼Œå¹¶éœ€è¦å¯¹å·¦è¡¨æˆ–å³è¡¨è¿›è¡Œè¿‡æ»¤æ—¶ï¼Œæœ‰ä¸€ä¸ªç‰¹åˆ«å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹æ˜¯è¿‡æ»¤æ¡ä»¶çš„ä½ç½®â€”â€”<strong>å¯¹å·¦è¡¨è¿‡æ»¤æ—¶æ¡ä»¶åº”å†™åœ¨ where è¯­å¥åï¼Œå¯¹å³è¡¨è¿‡æ»¤æ—¶æ¡ä»¶åº”å†™åœ¨ on åé¢ã€‚</strong></p>
<p>å¦‚æœå¯¹å·¦è¡¨çš„è¿‡æ»¤æ¡ä»¶å†™åœ¨ on åé¢ï¼Œé‚£ä¹ˆå·¦è¡¨çš„æ¯ä¸€è¡Œè®°å½•éƒ½ä¼šè¢«ä¿ç•™ï¼Œç›¸å½“äºæ²¡æœ‰è¿‡æ»¤å·¦è¡¨çš„æ•°æ®ã€‚å¦‚æœå¯¹å³è¡¨çš„è¿‡æ»¤æ¡ä»¶å†™åœ¨ where åé¢ï¼Œé‚£ä¹ˆ LEFT JOIN æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå°±å JOIN æŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¸€æ ·ï¼Œå·¦è¡¨æ²¡æœ‰ä¸å³è¡¨åŒ¹é…çš„è®°å½•ä¹Ÿä¼šè¢«è¿‡æ»¤ã€‚</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚</p>
<p>æœ‰ä¸¤å¼ è¡¨â€”â€”ç”¨æˆ·ä¿¡æ¯è¡¨å’Œç”¨æˆ·åœ°å€è¡¨ï¼Œè¡¨ååˆ†åˆ«ä¸ºï¼štmp_user å’Œ tmp_addrï¼Œè¡¨ä¸­çš„è®°å½•å¦‚ä¸‹ï¼š</p>
<p>è¡¨ tmp_userï¼š </p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
</tr>
<tr>
<td>2</td>
<td>johnson</td>
</tr>
<tr>
<td>3</td>
<td>marry</td>
</tr>
</tbody></table>
<p>è¡¨ tmp_addrï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
<tr>
<td>2</td>
<td>NewYork</td>
<td>USA</td>
</tr>
</tbody></table>
<p>è¿™é‡Œçœç•¥å»ºè¡¨ã€æ’å…¥æ•°æ®æ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨ <code>WITH</code> å’Œ <code>UNION ALL</code> å…³é”®å­—æ¥æ¨¡å‹è¿™ä¸¤å¼ è¡¨çš„æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">with</span> tmp_user <span class="keyword">as</span> (</span><br><span class="line">	<span class="keyword">select</span> </span><br><span class="line">		<span class="number">1</span> <span class="keyword">as</span> user_id,</span><br><span class="line">		<span class="string">&#x27;jack&#x27;</span> <span class="keyword">as</span> nickname</span><br><span class="line">	<span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line">	<span class="keyword">select</span> </span><br><span class="line">		<span class="number">2</span> <span class="keyword">as</span> user_id,</span><br><span class="line">		<span class="string">&#x27;johnson&#x27;</span> <span class="keyword">as</span> nickname</span><br><span class="line">	<span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line">	<span class="keyword">select</span> </span><br><span class="line">		<span class="number">3</span> <span class="keyword">as</span> user_id,</span><br><span class="line">		<span class="string">&#x27;marry&#x27;</span> <span class="keyword">as</span> nickname</span><br><span class="line">),</span><br><span class="line"></span><br><span class="line">tmp_addr <span class="keyword">as</span> (</span><br><span class="line">	<span class="keyword">select</span> </span><br><span class="line">		<span class="number">1</span> <span class="keyword">as</span> user_id, </span><br><span class="line">		<span class="string">&#x27;Nanjing&#x27;</span> <span class="keyword">as</span> city,</span><br><span class="line">		<span class="string">&#x27;China&#x27;</span> <span class="keyword">as</span> country</span><br><span class="line">	<span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line">	<span class="keyword">select</span></span><br><span class="line">		<span class="number">2</span> <span class="keyword">as</span> user_id,</span><br><span class="line">		<span class="string">&#x27;NewYork&#x27;</span> <span class="keyword">as</span> city,</span><br><span class="line">		<span class="string">&#x27;USA&#x27;</span> <span class="keyword">as</span> country</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ä½¿ç”¨ LEFT JOINï¼Œä»¥è¡¨ tmp_user ä¸ºä¸»è¡¨è”ç»“è¡¨ tmp_addr è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
<p>é¦–å…ˆï¼Œä¸¤å¼ è¡¨éƒ½ä¸åŠ è¿‡æ»¤æ¡ä»¶ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	tmp_user t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tmp_addr t2 <span class="keyword">on</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> t2.user_id</span><br></pre></td></tr></table></figure>

<p>å…¶æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
<tr>
<td>2</td>
<td>johnson</td>
<td>2</td>
<td>NewYork</td>
<td>USA</td>
</tr>
<tr>
<td>3</td>
<td>marry</td>
<td>[NULL]</td>
<td>[NULL]</td>
<td>[NULL]</td>
</tr>
</tbody></table>
<p>user_id ä¸º 3 çš„ç”¨æˆ·ï¼Œæ²¡æœ‰å¯¹åº”çš„åœ°å€ä¿¡æ¯ï¼Œå³è¡¨çš„å­—æ®µä½¿ç”¨ NULL å¡«å……ã€‚ä¸æˆ‘ä»¬é¢„æœŸçš„ç»“æœä¸€è‡´ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œå¯¹å·¦è¡¨åº”ç”¨è¿‡æ»¤æ¡ä»¶ï¼ŒåªæŸ¥ user_id = 1 çš„ç”¨æˆ·ã€‚</p>
<p>è¿‡æ»¤æ¡ä»¶å†™åœ¨ where è¯­å¥åï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	tmp_user t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tmp_addr t2 <span class="keyword">on</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> t2.user_id</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>å…¶æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå¦‚ä¸‹ï¼Œä¸æˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
</tbody></table>
<p>è¿‡æ»¤æ¡ä»¶å†™åœ¨ on åï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	tmp_user t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tmp_addr t2 <span class="keyword">on</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> t2.user_id</span><br><span class="line">	<span class="keyword">and</span> t1.user_id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
<tr>
<td>3</td>
<td>marry</td>
<td>[NULL]</td>
<td>[NULL]</td>
<td>[NULL]</td>
</tr>
<tr>
<td>2</td>
<td>johnson</td>
<td>[NULL]</td>
<td>[NULL]</td>
<td>[NULL]</td>
</tr>
</tbody></table>
<p>å·¦è¡¨ tmp_user çš„æ¯ä¸€è¡Œè®°å½•éƒ½è¿”å›æ¥äº†ã€‚</p>
<p>æœ€åï¼Œå¯¹å³è¡¨åº”ç”¨è¿‡æ»¤æ¡ä»¶ï¼ŒåªæŸ¥å‡º country = â€˜Chinaâ€™ çš„åœ°å€ã€‚</p>
<p>è¿‡æ»¤æ¡ä»¶å†™åœ¨ where åï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	tmp_user t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tmp_addr t2 <span class="keyword">on</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> t2.user_id</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">	t2.country <span class="operator">=</span> <span class="string">&#x27;China&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
</tbody></table>
<p>ç»“æœä¸æˆ‘ä»¬æœŸæœ›çš„ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬å¸Œæœ›å³ä½¿ç”¨æˆ·åœ°å€è¡¨çš„ country å­—æ®µä¸æ˜¯ Chinaï¼Œä¹Ÿè¦è¿”å›å·¦è¡¨çš„æ•°æ®ã€‚</p>
<p>è¿‡æ»¤æ¡ä»¶å†™åœ¨ on åï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">	<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	tmp_user t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tmp_addr t2 <span class="keyword">on</span></span><br><span class="line">	t1.user_id <span class="operator">=</span> t2.user_id</span><br><span class="line">	<span class="keyword">and</span> t2.country <span class="operator">=</span> <span class="string">&#x27;China&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>nickname</th>
<th>user_id</th>
<th>city</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>1</td>
<td>Nanjing</td>
<td>China</td>
</tr>
<tr>
<td>3</td>
<td>marry</td>
<td>[NULL]</td>
<td>[NULL]</td>
<td>[NULL]</td>
</tr>
<tr>
<td>2</td>
<td>johnson</td>
<td>[NULL]</td>
<td>[NULL]</td>
<td>[NULL]</td>
</tr>
</tbody></table>
<p>ä¸æˆ‘ä»¬æœŸæœ›çš„ä¸€è‡´ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Gsonå°†å­—ç¬¦ä¸²è½¬æˆJsonObjectå¯¹è±¡</title>
    <url>/2022/08/03/gson-string-to-jsonobject/</url>
    <content><![CDATA[<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å½“åœ¨ Java é¡¹ç›®ä¸­ä½¿ç”¨ Gson åº“å¤„ç† JSON æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸå§‹ JSON å­—ç¬¦ä¸²è½¬æ¢æˆæ›´å®¹æ˜“ä½¿ç”¨çš„ç±»å¯¹è±¡æˆ–æ•°æ®ç»“æ„ã€‚å¦‚å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º <code>**Map&lt;String, Object&gt;**</code> å¯¹è±¡ï¼Œæˆ–è€…å…¶ä»–è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ã€‚ä½†æœ‰äº›æ—¶å€™å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸ºé€šç”¨å¯¹è±¡ä¼šæ›´æ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<p>æœ¬æ–‡å°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Gson å°† JSON å­—ç¬¦ä¸²è½¬ä¸º <code>**JsonObject**</code> å¯¹è±¡ã€‚</p>
<h2 id="é…ç½®Mavenä¾èµ–"><a href="#é…ç½®Mavenä¾èµ–" class="headerlink" title="é…ç½®Mavenä¾èµ–"></a>é…ç½®Mavenä¾èµ–</h2><p>é¦–å…ˆï¼Œåœ¨ <em>pom.xml</em> æ–‡ä»¶ä¸­é…ç½® <em>gson</em> ä¾èµ–é¡¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>gson</em> ç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼ˆè§ <a href="https://search.maven.org/search?q=g:com.google.code.gson%20AND%20a:gson&core=gav">Maven Central</a> ï¼‰ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ <em>2.9.1</em> ç‰ˆæœ¬ï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰ã€‚ </p>
<h2 id="æ–¹æ³•ä¸€ï¼šJsonParser"><a href="#æ–¹æ³•ä¸€ï¼šJsonParser" class="headerlink" title="æ–¹æ³•ä¸€ï¼šJsonParser"></a>æ–¹æ³•ä¸€ï¼š<em><strong><strong>JsonParser</strong></strong></em></h2><p>å…ˆä½¿ç”¨ <em>JsonParser</em> ç±»çš„ <code>parseString()</code> æ–¹æ³•å°† JSON å­—ç¬¦ä¸²è½¬åŒ– <em>JsonElement</em> ç±»å‹ï¼Œå†è°ƒç”¨ <em>JsonElement</em> ç±»çš„ <code>getAsJsonObject()</code> æ–¹æ³•ï¼Œå³å¯å¾—åˆ° <em>JsonObject</em> ç±»å¯¹è±¡ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">strJson</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;id\&quot;:20990981,\&quot;name\&quot;:\&quot;Johnson\&quot;,\&quot;tag\&quot;:\&quot;Javaer,Student\&quot;,\&quot;platform\&quot;:\&quot;AL\&quot;&#125;&quot;</span>;</span><br><span class="line">    <span class="type">JsonElement</span> <span class="variable">jsonElement</span> <span class="operator">=</span> JsonParser.parseString(strJson);</span><br><span class="line">    <span class="type">JsonObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> jsonElement.getAsJsonObject();</span><br><span class="line"></span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;id&quot;</span>).getAsInt());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;name&quot;</span>).getAsString());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;tag&quot;</span>).getAsString());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;platform&quot;</span>).getAsString());</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">20990981</span></span><br><span class="line"><span class="comment">Johnson</span></span><br><span class="line"><span class="comment">Javaer,Student</span></span><br><span class="line"><span class="comment">AL</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•äºŒï¼šfromJson"><a href="#æ–¹æ³•äºŒï¼šfromJson" class="headerlink" title="æ–¹æ³•äºŒï¼šfromJson"></a>æ–¹æ³•äºŒï¼š<em><strong><strong>fromJson</strong></strong></em></h2><p>ä½¿ç”¨ Gson å¯¹è±¡çš„ <code>fromJson()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†æŒ‡å®šçš„ JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºæŒ‡å®šç±»çš„å¯¹è±¡ã€‚</p>
<p>å¦‚ä»¥ä¸‹ç¤ºä¾‹ä»£ç å±•ç¤ºäº†å¦‚ä½•å°† JSON å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º <em>JsonObject</em> ç±»å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">strJson</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;id\&quot;:20990981,\&quot;name\&quot;:\&quot;Johnson\&quot;,\&quot;tag\&quot;:\&quot;Javaer,Student\&quot;,\&quot;platform\&quot;:\&quot;AL\&quot;&#125;&quot;</span>;</span><br><span class="line">    <span class="type">JsonElement</span> <span class="variable">jsonElement</span> <span class="operator">=</span> JsonParser.parseString(strJson);</span><br><span class="line">    <span class="type">JsonObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>().fromJson(strJson, JsonObject.class);</span><br><span class="line"></span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;id&quot;</span>).getAsInt());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;name&quot;</span>).getAsString());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;tag&quot;</span>).getAsString());</span><br><span class="line">    System.out.println(jsonObject.get(<span class="string">&quot;platform&quot;</span>).getAsString());</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">20990981</span></span><br><span class="line"><span class="comment">Johnson</span></span><br><span class="line"><span class="comment">Javaer,Student</span></span><br><span class="line"><span class="comment">AL</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡è®²è¿°äº†åœ¨ Java é¡¹ç›®ä¸­ä½¿ç”¨ Gson åº“å°† JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬ä¸º <em>JsonObject</em> å¯¹è±¡çš„ä¸¤ç§ä¸åŒçš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å®é™…éœ€è¦é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ³•ã€‚</p>
<p>P.S. æœ¬æ–‡ç¤ºä¾‹ä»£ç æ‰˜ç®¡åœ¨ GitHub ä¸Šã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸è½½CentOSç³»ç»Ÿè‡ªå¸¦æ•°æ®åº“MariaDB</title>
    <url>/2022/04/13/centos-uninstall-mariadb/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨ CentOS 7 ç³»ç»Ÿä¸­ï¼Œæ‰§è¡Œå‘½ä»¤æ—¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> rpm -Uvh mysql-community-common-5.7.36-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p>å‡ºç° conflicts é”™è¯¯ï¼ˆå³æ–‡ä»¶å†²çªï¼‰ï¼Œç±»ä¼¼é”™è¯¯ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">file /usr/share/mysql/czech/errmsg.sys from install of mysql-community-common-5.7.36-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.68-1.el7.x86_64</span><br><span class="line">file /usr/share/mysql/danish/errmsg.sys from install of mysql-community-common-5.7.36-1.el7.x86_64 conflicts with file from package mariadb-libs-1:5.5.68-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ä»é”™è¯¯æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ° <em><strong>mariadb</strong></em> ç›¸å…³ä¿¡æ¯ï¼Œç”±æ­¤å¯ç¡®å®šé—®é¢˜æ˜¯ç”±äº mysql å’Œ mariadb ä¹‹é—´å­˜åœ¨æ–‡ä»¶å†²çªå¼•èµ·çš„ã€‚</p>
<p>è§£å†³æ–¹æ³•å¯ä»¥ç›´æ¥ç¼·è½½ mariadbï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å…ˆæŸ¥æ‰¾ mariadb å®‰è£…ç‰ˆæœ¬ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep mariadb</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¯¥å‘½ä»¤æ˜¾ç¤ºä»¥ä¸‹è¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa|grep mariadb</span><br><span class="line">mariadb-libs-5.5.68-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<ol>
<li>æ ¹æ®æ­¥éª¤ 1 çš„ç»“æœï¼Œæ‰§è¡Œç¼·è½½å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> rpm -e --nodeps mariadb-libs-5.5.68-1.el7.x86_64</span><br></pre></td></tr></table></figure>

<p>æœ€åå†é‡æ–°æ‰§è¡Œå®‰è£… MySQL å‘½ä»¤å³å¯ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Prestoä¸­å®ç°Hive LATERAL VIEW EXPLODE</title>
    <url>/2022/08/24/lateral-view-explode-in-presto/</url>
    <content><![CDATA[<p>æˆ‘æ˜¯ Presto æ–°æ‰‹ï¼Œæˆ‘ä»¬å…¬å¸æ•°æ®ä»“åº“ä¸­æœ‰ä¸€å¼ è¡¨ï¼ˆè¡¨åï¼šdwd_user_countryï¼‰ï¼Œè®°å½•äº†ç”¨æˆ·åˆ°è®¿è¿‡çš„å›½å®¶ä¸åœ°åŒºã€‚è¿™é‡Œä¸ºç®€åŒ–é—®é¢˜æè¿°ï¼Œå°†è¯¥è¡¨ç»“æ„æŠ½è±¡ä¸ºä¸¤ä¸ªå­—æ®µï¼šuser_id å’Œ countriesï¼Œå…¶ä¸­ countries å­—æ®µçš„å€¼é‡‡ç”¨è‹±æ–‡é€—å·è¿æ¥ç”¨æˆ·åˆ°è®¿è¿‡çš„å›½å®¶ä¸åœ°åŒºã€‚</p>
<p>è¡¨æ•°æ®å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>countries</th>
</tr>
</thead>
<tbody><tr>
<td>26841018</td>
<td>ä¸­å›½,é©¬æ¥è¥¿äºš,ç¾å›½,ç‘å£«,æ³°å›½,å†°å²›</td>
</tr>
</tbody></table>
<p>ç°åœ¨ï¼Œæˆ‘éœ€è¦ä»è¯¥è¡¨ä¸­ç»Ÿè®¡æ¯ä¸ªå›½å®¶æˆ–åœ°åŒºçš„åˆ°è®¿äººæ•°ï¼Œåœ¨ Hive è¯­æ³•ä¸­ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨ <em>LATERAL VIEW EXPLODE</em> å°†è¯¥è¡¨çš„æ•°æ®è½¬æˆä»¥ä¸‹æ ¼å¼ï¼Œå†æŒ‰ country å­—æ®µåš GROUP BY ç»Ÿè®¡ã€‚å¦‚æœç°åœ¨æ˜¯ä½¿ç”¨ Presto è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<table>
<thead>
<tr>
<th>user_id</th>
<th>country</th>
</tr>
</thead>
<tbody><tr>
<td>26841018</td>
<td>ä¸­å›½</td>
</tr>
<tr>
<td>26841018</td>
<td>é©¬æ¥è¥¿äºš</td>
</tr>
<tr>
<td>26841018</td>
<td>ç¾å›½</td>
</tr>
<tr>
<td>26841018</td>
<td>ç‘å£«</td>
</tr>
<tr>
<td>26841018</td>
<td>æ³°å›½</td>
</tr>
<tr>
<td>26841018</td>
<td>å†°å²›</td>
</tr>
</tbody></table>
<hr>
<p><strong>Hive æŸ¥è¯¢</strong></p>
<p>é¦–å…ˆä½¿ç”¨ <code>split</code> å‡½æ•°å°† countries å­—æ®µåˆ†å‰²æˆæ•°ç»„ï¼Œå†ä½¿ç”¨ <em><strong>lateral view explode()</strong></em> å°†æ•°ç»„ç‚¸å¼€ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- hive</span></span><br><span class="line"><span class="keyword">select</span>  t1.user_id,</span><br><span class="line">        t2.country</span><br><span class="line"><span class="keyword">from</span> dwd_user_country t1 <span class="keyword">lateral</span> <span class="keyword">view</span> explode(split(t1.countries, <span class="string">&#x27;,&#x27;</span>)) t2 <span class="keyword">as</span> country</span><br></pre></td></tr></table></figure>

<p><strong>Presto æŸ¥è¯¢</strong></p>
<p>é¦–å…ˆä½¿ç”¨ <code>split</code> å‡½æ•°å°† countries å­—æ®µåˆ†å‰²æˆæ•°ç»„ï¼Œå†ä½¿ç”¨ <em><strong>cross join unnest()</strong></em> å°†æ•°ç»„ç‚¸å¼€ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- presto</span></span><br><span class="line"><span class="keyword">select</span>  t1.user_id,</span><br><span class="line">        t2.country</span><br><span class="line"><span class="keyword">from</span> dwd_user_country t1</span><br><span class="line"><span class="keyword">cross</span> <span class="keyword">join</span> <span class="built_in">unnest</span>(split(countries, <span class="string">&#x27;,&#x27;</span>)) <span class="keyword">as</span> t2(country)</span><br></pre></td></tr></table></figure>

<p>t2 æ˜¯ç”± <em>cross join unnest()</em> éšå¼åˆ›å»ºçš„è¡¨çš„åˆ«åã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨ SELECT è¯­å¥ä¸­å°† country å†™æˆ t2.countryã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹ Q&amp;A</category>
      </categories>
      <tags>
        <tag>Hive</tag>
        <tag>Presto</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨ Java ä¸­å¦‚ä½•ä½¿ç”¨ Gson åº“åºåˆ—åŒ– NULL å­—æ®µ</title>
    <url>/2022/08/16/how-to-serialize-a-null-field-using-gson-library-in-java/</url>
    <content><![CDATA[<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<em>Gson</em> å¯¹è±¡ä¸ä¼šå°†å€¼ä¸º <em>NULL</em> çš„å­—æ®µåºåˆ—åŒ–åˆ° <em>JSON</em> å¯¹è±¡ä¸­ã€‚å¦‚æœè¦åºåˆ—åŒ–å€¼ä¸º <em>NULL</em> çš„å­—æ®µï¼Œå¯ä»¥åœ¨åˆ›å»º <em>Gson</em> å¯¹è±¡ä¹‹å‰ï¼Œå…ˆè°ƒç”¨ <em>GsonBuilder</em> å®ä¾‹çš„ <code>serializeNulls()</code> æ–¹æ³•ï¼Œå†ç”± <em>GsonBuilder</em> åˆ›å»º <em>Gson</em> å®ä¾‹ï¼Œå³å¯åœ¨åºåˆ—åŒ–åçš„ <em>JSON</em> ä¸­åŒ…å« <em>NULL</em> å€¼çš„å­—æ®µã€‚</p>
<p>å…·ä½“ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.GsonBuilder;</span><br><span class="line"><span class="keyword">import</span> com.johnson.gson.model.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NullFieldSerializeDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">GsonBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>();</span><br><span class="line">        builder.serializeNulls();</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> builder.setPrettyPrinting().create();</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">12</span>, <span class="string">&quot;username&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> gson.toJson(user);</span><br><span class="line">        System.out.println(json);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤ä»£ç ç¤ºä¾‹æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  &quot;id&quot;: 12,</span></span><br><span class="line"><span class="comment">  &quot;name&quot;: &quot;username&quot;,</span></span><br><span class="line"><span class="comment">  &quot;tag&quot;: null,</span></span><br><span class="line"><span class="comment">  &quot;platform&quot;: null</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>User ç±»å®šä¹‰å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String tag;</span><br><span class="line">    <span class="keyword">private</span> String platform;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(Integer id, String name, String tag, String platform)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.tag = tag;</span><br><span class="line">        <span class="built_in">this</span>.platform = platform;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getTag</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTag</span><span class="params">(String tag)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tag = tag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPlatform</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> platform;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPlatform</span><span class="params">(String platform)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.platform = platform;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>P.S. æœ¬æ–‡ç¤ºä¾‹ä»£ç æ‰˜ç®¡åœ¨ GitHub ä¸Šã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>JSON</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚æœJavaåœ¨æŠ€æœ¯ä¸Šè½åï¼Œä¸ºä»€ä¹ˆäººä»¬è¿˜åœ¨ä½¿ç”¨Javaå‘¢</title>
    <url>/2022/08/29/why-do-people-still-use-java-if-java-is-behind-technologically/</url>
    <content><![CDATA[<p>æœ¬æ–‡ç¿»è¯‘è‡³<a href="https://blog.ifeanyiokeakwalam.com/post/65/Programming/why-do-people-still-use-java-if-java-is-behind-technologically">ã€ŠWhy do people still use Java, if Java is behind technologicallyã€‹</a>ã€‚</p>
<hr>
<p>é¦–å…ˆï¼ŒJava å¼€å‘äººå‘˜æœ‰å¾ˆå¤šå·¥ä½œå²—ä½ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸå› ï¼Œä½†ä¸ºä»€ä¹ˆäººä»¬ä»ç„¶ä½¿ç”¨ Javaï¼ŒåŒ…æ‹¬åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>æœ€è¿‘æµè¡Œçš„é«˜çº§è¯­è¨€ï¼Œå¦‚ Pythonã€Rubyï¼Œå› å…¶ä»£ç ç®€ä¾¿æ€§å’Œç®€æ´æ€§ï¼Œå¯ä»¥å¾ˆå¥½åœ°æé«˜å¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›ã€çµæ´»æ€§å’Œå¿«é€Ÿè¿­ä»£ã€‚è¿™äº›è¯­è¨€çš„åŠ¨æ€ç‰¹æ€§å¯¹äºè®¸å¤šå¹¿æ³›çš„åº”ç”¨ç¨‹åºæ¥è¯´éå¸¸æ£’ï¼Œä½†æ˜¯ï¼Œå½“é¡¹ç›®å˜å¾—éå¸¸å¤§ã€æ¶‰åŠåˆ°å¤§é‡å¼€å‘äººå‘˜æˆ–è€…å½“é€Ÿåº¦å’Œå®¹é”™æ€§è‡³å…³é‡è¦æ—¶ï¼Œå®ƒä»¬å°±ä¼šå¼€å§‹å´©æºƒã€‚</p>
<p>æœ‰ä¸€äº›æŠ€æœ¯å’Œçº¦å®šå¯ä»¥è§£å†³åŠ¨æ€ç±»å‹çš„ä»£ç ç¨³å®šæ€§é—®é¢˜ï¼Œä½†æ˜¯æŠ€æœ¯å’Œçº¦å®šæ„å‘³ç€äººä»¬éœ€è¦éµå¾ªå®ƒä»¬ï¼Œå³ä½¿è¿™æ ·ï¼Œä¹Ÿå­˜åœ¨éš¾ä»¥é¢„é˜²çš„æ¼æ´ã€‚ä»¥ PHP ä¸ºä¾‹ï¼Œå®ƒåœ¨æ•´ä¸ª Facebook ä¸­ç”¨äºåç«¯ç¼–ç ï¼ŒFacebook å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ï¼Œä¸ºå…¶æä¾›é™æ€ç±»å‹å’ŒåŠ¨æ€ç¼–è¯‘ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æä¾›ä½¿ç”¨ Java ç­‰æŠ€æœ¯æ—¶æ‰€è·å¾—çš„é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚Scalaã€Haskelã€Erlang å’Œ Golang ç­‰å¤–æ¥è¯­è¨€å°†ä¸»è¦ç”¨äºæœ€é€‚åˆå®ƒä»¬çš„ç‰¹å®šåº”ç”¨ç¨‹åºã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå¯¹äºè®¸å¤šåº”ç”¨ç¨‹åºæ¥è¯´ï¼ŒJava ä»ç„¶æ˜¯åŒç±»ä¸­æœ€å¥½çš„ã€‚è¿™æ˜¯æ„å»ºåšå¦‚ç£çŸ³ã€å¿«é€Ÿã€å¯æ‰©å±•ã€æ— é”™è¯¯çš„åç«¯ç³»ç»Ÿçš„æœ€ä½³æ–¹å¼ã€‚å®ƒæ‹¥æœ‰æœ€å¿«çš„ JVMã€‚åªæœ‰ C æˆ– C++ æ›´å¿«ï¼Œå¹¶ä¸”ä»…åœ¨æŸäº›ç‹­çª„çš„æƒ…å†µä¸‹ï¼Œå¦‚è®¡ç®—ç®—æ³•ä¼˜åŒ–ã€‚Java ä¹Ÿæ˜¯ Android çš„è¯­è¨€ï¼ŒAndroid æ˜¯åœ°çƒä¸Šéƒ¨ç½²æœ€å¹¿æ³›çš„æ™ºèƒ½æ‰‹æœºæ“ä½œç³»ç»Ÿã€‚</p>
<p>æœ‰äººåœ¨è¯„è®ºä¸­æŒ‡å‡ºï¼ŒRust æ˜¯ä¸€ç§æ–°å…´è¯­è¨€ï¼Œè€Œ Go ä½œä¸ºå¯æ‰©å±•çš„åç«¯æœåŠ¡å™¨è¯­è¨€æ­£åœ¨ç«™ç¨³è„šè·Ÿã€‚Java åœ¨æŠ½è±¡å’Œæ‰§è¡Œé€Ÿåº¦æ–¹é¢å¯èƒ½ä¸æ˜¯å½“ä»Šâ€œæœ€å¥½çš„â€ï¼Œä½†å®ƒä»ç„¶æ‹¥æœ‰åºå¤§çš„åº“å®‰è£…åŸºç¡€ï¼Œè¿™äº›æ–°è¯­è¨€è¿˜æ²¡æœ‰ï¼Œè€Œä¸”å¯èƒ½åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…éƒ½ä¸ä¼šã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨æˆ·ç”»åƒæ˜¯ä»€ä¹ˆ</title>
    <url>/2022/09/08/user-portrait-intro/</url>
    <content><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åœ¨å¤§æ•°æ®é¢†åŸŸï¼Œç”¨æˆ·ç”»åƒä¸€èˆ¬æŒ‡ç”¨æˆ·ä¿¡æ¯æ ‡ç­¾åŒ–ã€‚é¦–å…ˆï¼Œé€šè¿‡å¤šç§æ¸ é“æ–¹å¼ï¼Œå°½å¯èƒ½å¤šåœ°æ”¶é›†ç”¨æˆ·å„ç§å„æ ·ç»´åº¦çš„æ•°æ®ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ã€æ¶ˆè´¹æ°´å¹³ã€æ¶ˆè´¹ä¹ æƒ¯ã€è´­ä¹°äº§å“ç±»ç›®åå¥½ç­‰ï¼›å…¶æ¬¡ï¼Œç»¼åˆæ”¶é›†åˆ°çš„æ•°æ®ï¼Œå¯¹ç”¨æˆ·ç‰¹å¾è¿›è¡Œåˆ»ç”»ä¸æŠ½è±¡ï¼›æœ€åå†å¯¹è¿™äº›ç‰¹å¾è¿›è¡Œåˆ†æã€ç»Ÿè®¡å’Œæ¨æ–­ï¼ŒæŒ–æ˜æ½œåœ¨ä»·å€¼ã€‚</p>
<p>ä¸€ä¸ªå®Œå–„çš„ç”¨æˆ·ç”»åƒç³»ç»Ÿï¼Œä¸ä»…å¯ä»¥å¸®åŠ©ä¼ä¸šè¿›è¡Œç²¾ç»†åŒ–è¿è¥ç®¡ç†ï¼Œå¦‚æå‡ç”¨æˆ·è´­ä¹°è½¬åŒ–ç‡ã€å•†å“çš„æ›å…‰/ç‚¹å‡»ç‡ç­‰è¿è¥æŒ‡æ ‡ï¼Œç”šè‡³ä¸ºä¼ä¸šçš„æˆ˜ç•¥å†³ç­–æä¾›æ”¯æŒã€‚ç°åœ¨ï¼Œäº’è”ç½‘ä¸Šå¸¸è§çš„é’ˆå¯¹ç”¨æˆ·è¿›è¡Œä¸ªæ€§åŒ–æ¨èã€ç²¾å‡†è¥é”€ï¼ˆå¦‚å®šå‘å¹¿å‘ŠæŠ•æ”¾ï¼‰ã€ä¸ªæ€§åŒ–æœåŠ¡ç­‰ï¼Œæœ‰ä¸å°‘æ˜¯ç›´æ¥ä¾èµ–ç”¨æˆ·ç”»åƒã€‚ä¾‹å¦‚ï¼Œä¸åŒç”¨æˆ·æ‰“å¼€åŒä¸€ä¸ªå¤–å– APPï¼Œç”¨æˆ·ææœ‰å¯èƒ½åœ¨ APP é¦–é¡µä¸Šçœ‹åˆ°çš„æ˜¯ä¸åŒçš„æ¨èå•†å®¶ï¼Œå³æ‰€è°“çš„â€œåƒäººåƒé¢â€ï¼Œå…¶èƒŒåå°±æ˜¯ç”¨æˆ·ç”»åƒçš„ä¸€ä¸ªåº”ç”¨åœºæ™¯â€”â€”æ ¹æ®ç”¨æˆ·å½“å‰æ‰€åœ¨ä½ç½®ã€å†å²è®¢å•æ•°æ®ï¼ˆå£å‘³ã€æ¶ˆè´¹æ°´å¹³ç­‰ï¼‰ï¼Œç»™ç”¨æˆ·æ‰“ä¸Šâ€œæ ‡ç­¾â€ï¼Œå¹¶æ ¹æ®æ ‡ç­¾ç»™ç”¨æˆ·æ¨èåˆé€‚çš„å•†å®¶ã€‚</p>
<p>æ ¹æ®æ‰“æ ‡ç­¾çš„æ–¹å¼ï¼Œå¯ä»¥å°†æ ‡ç­¾åˆ†ä¸ºä»¥ä¸‹ä¸‰å¤§ç±»ï¼š</p>
<ul>
<li><strong>ç»Ÿè®¡ç±»æ ‡ç­¾</strong>ï¼Œé€šè¿‡å¯¹ç”¨æˆ·ä¿¡æ¯ã€è®¿é—®è®°å½•ã€ä¸‹å•æ¶ˆè´¹ç­‰å¸¸è§„æ•°æ®ç›´æ¥è¿›è¡Œç»Ÿè®¡å¾—åˆ°ï¼Œå¦‚ç”¨æˆ·æ€§åˆ«ã€å¸¸é©»åœ°ã€å¹´é¾„ã€è®¾å¤‡ç±»å‹ã€è¿‘ 30 æ—¥æ´»è·ƒå¤©æ•°ã€è¿‘ 30 æ—¥ä¸‹å•å¤©æ•°ã€è¿‘ 30 æ—¥è®¢å•é‡ç­‰ã€‚ç»Ÿè®¡ç±»æ ‡ç­¾æ˜¯æœ€å¸¸è§çš„ç”¨æˆ·æ ‡ç­¾ï¼Œæ˜¯ç”¨æˆ·ç”»åƒçš„æ„æˆåŸºç¡€ã€‚</li>
<li><strong>è§„åˆ™ç±»æ ‡ç­¾</strong>ï¼Œé€šè¿‡å¯¹ç”¨æˆ·çš„å¸¸è§„æ•°æ®åŠ ä¸Šä¸€å®šçš„è§„åˆ™è¿›è¡Œç»Ÿè®¡å¾—åˆ°ï¼Œå¦‚ç”¨æˆ·çš„æµå¤±ç¨‹åº¦æ ‡ç­¾ï¼ˆè½»åº¦æµå¤±ç”¨æˆ·ã€ä¸­åº¦æµå¤±ç”¨æˆ·ã€é‡åº¦æµå¤±ç”¨æˆ·ï¼‰ï¼Œå¯¹è½»åº¦æµå¤±ç”¨æˆ·è¿™ä¸€å£å¾„çš„å®šä¹‰ä¸ºâ€œç”¨æˆ·æœ€åè®¿é—® APP çš„æ—¥æœŸè·ç¦»å½“å‰æ—¥æœŸçš„å¤©æ•°åœ¨[30, 60) ä¹‹é—´â€ã€‚è§„åˆ™ç±»æ ‡ç­¾ä¹Ÿæ˜¯å¸¸è§çš„ç”¨æˆ·æ ‡ç­¾ï¼Œå…¶ä¸­çš„è§„åˆ™å®šä¹‰ä¸€èˆ¬ç”±ä¸šåŠ¡è¿è¥äººå‘˜ï¼ˆç†Ÿæ‚‰ä¸šåŠ¡ï¼‰å’Œæ•°æ®åˆ†æäººå‘˜ï¼ˆç†Ÿæ‚‰æ•°æ®çš„åˆ†å¸ƒç‰¹å¾ï¼‰åå•†ç¡®å®šã€‚</li>
<li><strong>æœºå™¨å­¦ä¹ æŒ–æ˜ç±»æ ‡ç­¾</strong>ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ ç®—æ³•æŒ–æ˜äº§ç”Ÿï¼Œå¦‚æ ¹æ®ç”¨æˆ·æµè§ˆçš„å•†å“ä¿¡æ¯ã€è´­ä¹°çš„å†å²è®°å½•ç­‰æ•°æ®ï¼Œè®¡ç®—ç”¨æˆ·å¯¹è´­ä¹°æŸå•†å“çš„æ¦‚ç‡ã€‚å› ä¸ºæ­¤ç±»æ ‡ç­¾çš„å¼€å‘å‘¨æœŸé•¿ã€å¼€å‘æˆæœ¬é«˜ï¼Œç›¸å¯¹è€Œè¨€æ¯”è¾ƒå°‘è§ã€‚</li>
</ul>
<h2 id="ç»™ç”¨æˆ·æ‰“â€œæ ‡ç­¾â€ä¾‹å­"><a href="#ç»™ç”¨æˆ·æ‰“â€œæ ‡ç­¾â€ä¾‹å­" class="headerlink" title="ç»™ç”¨æˆ·æ‰“â€œæ ‡ç­¾â€ä¾‹å­"></a>ç»™ç”¨æˆ·æ‰“â€œæ ‡ç­¾â€ä¾‹å­</h2><p>ä¸‹å›¾çš„ç”¨æˆ·ç”»åƒï¼Œæ˜¯æŸç”µå•†å¹³å°é€šè¿‡è¯¥ç”¨æˆ·å®åæ—¶å¡«å†™çš„åŸºæœ¬ä¿¡æ¯ã€è´­ä¹°çš„äº§å“ç±»å‹ã€ä»¥åŠå…¶ä»–æœç´¢è¡Œä¸ºç­‰ç»´åº¦æ•°æ®ï¼Œç»™ç”¨æˆ·æ‰“çš„æ ‡ç­¾ï¼šå®å¦ˆï¼Œå­©å­å¹´é¾„ 1-3 å²ï¼Œå®¶æœ‰å® ç‰©çŒ«ï¼ŒIT ä»ä¸šè€…ï¼Œçˆ±é˜…è¯»ï¼Œçƒ­å¿ƒå…¬ç›Šä¸æ—¶æ”¿ç­‰ã€‚</p>
<p><img src="/image/2022/user-portrait-220908.png" alt="ç”¨æˆ·ç”»åƒ"></p>
<p>â€œæ‰“æ ‡ç­¾â€çš„é€»è¾‘å¦‚ä¸‹ï¼š</p>
<p>ä»ç”¨æˆ·å®åæ—¶å¡«å†™çš„åŸºæœ¬ä¿¡æ¯å’ŒåŸ‹ç‚¹æ•°æ®ï¼Œå¯ä»¥ç»Ÿè®¡å‡ºè¯¥ç”¨æˆ·çš„å¹´é¾„æ®µï¼ˆ18-24å²ï¼‰ã€æ€§åˆ«ï¼ˆå¥³ï¼‰ã€å¸¸é©»åœ°å¹¿å·ï¼›</p>
<p>ä»ç”¨æˆ·è´­ä¹°çš„å•†å“åç§°ã€å•†å“ç±»ç›®ã€è´­ä¹°é¢‘æ¬¡ã€æ•°é‡ç­‰ä¿¡æ¯ï¼Œå¯ä»¥æ¨æ–­å‡ºè¯¥ç”¨æˆ·å¤§æ¦‚ç‡æ˜¯ IT ä»ä¸šè€…å’Œå–œæ¬¢é˜…è¯»ï¼Œå› ä¸ºç»å¸¸è´­ä¹° Hiveã€Flinkã€Pythonã€Kudu ç­‰æŠ€æœ¯ç±»ä¸éæŠ€æœ¯ç±»ä¹¦ç±ï¼›å®¶é‡Œåº”è¯¥æœ‰å…»å® ç‰©çŒ«ï¼Œå› ä¸ºè¯¥ç”¨æˆ·è´­ä¹°æ¯”ç‘å‰çŒ«ç²®ã€çš®æ—¦çŒ«çªç­‰å® ç‰©ç±»ç›®å•†å“çš„é¢‘æ¬¡è¾ƒé«˜ï¼›çˆ±çœ‹ç”µå½±ï¼Œæ¯æœˆéƒ½æœ‰è´­ä¹°ç”µå½±ç¥¨å•†å“çš„è®°å½•ï¼›ç”¨æˆ·æœ‰å¯èƒ½æ˜¯ä¸€åå®å¦ˆï¼Œå­©å­å¹´é¾„åº”è¯¥åœ¨ 1-3 å²ï¼Œå› ä¸ºç»å¸¸å®šæœŸè´­ä¹°ç¾èµè‡£å¥¶ç²‰ã€å°¤å¦®ä½³çº¸å°¿è£¤å’Œæ‹‰æ‹‰è£¤ï¼ŒæŒ‰å¥¶ç²‰æ®µæ•°å¯æ¨æ–­å­©å­å¹´é¾„æ®µï¼›ä»ç”¨æˆ·è´­ä¹°å•†å“ä¿¡æ¯ä¸è´­ä¹°é¢‘æ¬¡ï¼Œè¿˜å¯ä»¥æ¨æ–­å‡ºç”¨æˆ·çš„è´­ç‰©å–œå¥½å“ç‰Œæ˜¯æ¯”ç‘å‰ã€ç¾èµè‡£ã€è•‰ä¸‹ã€çš®æ—¦ã€å°¤å¦®ä½³ç­‰ã€‚</p>
<p>ä»ç”¨æˆ·æµè§ˆçš„æ–‡ç« ç±»å‹å’Œå…¶ä»–æ¸ é“æ¥æºä¿¡æ¯ï¼Œå¯ä»¥æ¨æ–­å‡ºç”¨æˆ·çƒ­å¿ƒå…¬ç›Šä¸æ—¶æ”¿ï¼Œå› ä¸ºç”¨æˆ·è®¾ç½®äº†æ¯æœˆå®šæœŸå…¬ç›Šææ¬¾ã€ç»å¸¸æµè§ˆæ—¶æ”¿ç±»æ–°é—»ç­‰ã€‚</p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>åœ¨å¤§æ•°æ®é¢†åŸŸï¼Œç”¨æˆ·ç”»åƒæ˜¯æŒ‡ç”¨æˆ·ä¿¡æ¯æ ‡ç­¾åŒ–ã€‚æ ¹æ®æ‰“æ ‡ç­¾çš„æ–¹å¼ï¼Œå¯ä»¥å°†æ ‡ç­¾åˆ†ä¸ºç»Ÿè®¡ç±»æ ‡ç­¾ã€è§„åˆ™ç±»æ ‡ç­¾å’Œæœºå™¨å­¦ä¹ æŒ–æ˜ç±»æ ‡ç­¾ã€‚ç”¨æˆ·ç”»åƒä¸€èˆ¬åº”ç”¨åœ¨ä¼ä¸šç²¾ç»†åŒ–è¿è¥ç®¡ç†ï¼Œé’ˆå¯¹ç”¨æˆ·è¿›è¡Œä¸ªæ€§åŒ–æ¨èã€ç²¾å‡†è¥é”€ï¼ˆå¦‚å®šå‘å¹¿å‘ŠæŠ•æ”¾ï¼‰ã€ä¸ªæ€§åŒ–æœåŠ¡ç­‰ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç”¨æˆ·ç”»åƒ</category>
      </categories>
      <tags>
        <tag>ç”¨æˆ·ç”»åƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿è¡Œç¬¬ä¸€ä¸ªFlinkåº”ç”¨</title>
    <url>/2022/10/08/the-first-apache-flink-job/</url>
    <content><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul>
<li>åŸºäº UNIX ç¯å¢ƒ</li>
</ul>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯ Windows ç¯å¢ƒï¼Œå¯ä»¥å®‰è£…è™šæ‹Ÿæœºè½¯ä»¶ï¼ˆå¦‚ VMware Workstation Proï¼‰å¹¶é…ç½®ä¸€ä¸ª Linux ç³»ç»Ÿï¼ˆå¦‚ CentOS 8ï¼ŒUbuntu ç­‰ï¼‰çš„è™šæ‹Ÿæœºï¼Œä¹Ÿå¯ä»¥å®‰è£… Cygwinï¼ˆ ä¸€ä¸ª Windows ä¸‹çš„ Linux ç¯å¢ƒï¼‰ï¼Œæˆ–è€…é…ç½® WSL (Windows Subsystem for Linux, Windows 10 ä¸­æ–°åŠ çš„åŠŸèƒ½ï¼‰ã€‚</p>
<p>è¿™é‡Œè¿è¡Œç¯å¢ƒä¸º Windows 10 çš„ Linux å­ç³»ç»Ÿï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  /opt <span class="built_in">cat</span> /proc/version</span><br><span class="line">Linux version 4.4.0-19041-Microsoft (Microsoft@Microsoft.com) (gcc version 5.4.0 (GCC) ) <span class="comment">#488-Microsoft Mon Sep 01 13:43:00 PST 2020</span></span><br><span class="line">âœ  /opt <span class="built_in">cat</span> /etc/issue</span><br><span class="line">Ubuntu 20.04.4 LTS \n \l</span><br></pre></td></tr></table></figure>

<ul>
<li>å®‰è£… Java 8</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  /opt java -version</span><br><span class="line">java version <span class="string">&quot;1.8.0_311&quot;</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_311-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)</span><br></pre></td></tr></table></figure>

<ul>
<li>å®‰è£… Maven</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  /opt mvn --version</span><br><span class="line">Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)</span><br><span class="line">Maven home: /mnt/d/opt/maven</span><br><span class="line">Java version: 1.8.0_311, vendor: Oracle Corporation, runtime: /mnt/d/opt/java/jdk1.8.0_311/jre</span><br><span class="line">Default locale: en, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">&quot;linux&quot;</span>, version: <span class="string">&quot;4.4.0-19041-microsoft&quot;</span>, <span class="built_in">arch</span>: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;unix&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…Flink"><a href="#å®‰è£…Flink" class="headerlink" title="å®‰è£…Flink"></a>å®‰è£…Flink</h2><ol>
<li>ä» Apache Flink å®˜ç½‘ï¼ˆ<a href="https://flink.apache.org/">https://flink.apache.org/</a>ï¼‰ä¸‹è½½åŸºäº Scala 2.12 çš„ Apache Flink 1.15.2 äºŒè¿›åˆ¶å‘è¡Œç‰ˆã€‚ <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dlcdn.apache.org/flink/flink-1.15.2/flink-1.15.2-bin-scala_2.12.tgz</span><br></pre></td></tr></table></figure>
</li>
<li>è§£å‹æ–‡ä»¶ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzf flink-1.15.2-bin-scala_2.12.tgz</span><br></pre></td></tr></table></figure>
</li>
<li>è¿›å…¥ Flink ç›®å½•ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> flink-1.15.2</span><br></pre></td></tr></table></figure>
</li>
<li>å¯åŠ¨æœ¬åœ° Flink é›†ç¾¤ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/start-cluster.sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 è¾“å‡ºå¦‚ä¸‹ï¼š <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  /opt wget https://dlcdn.apache.org/flink/flink-1.15.2/flink-1.15.2-bin-scala_2.12.tgz</span><br><span class="line">âœ  /opt</span><br><span class="line">âœ  /opt tar -xzf flink-1.15.2-bin-scala_2.12.tgz</span><br><span class="line">âœ  /opt</span><br><span class="line">âœ  /opt <span class="built_in">cd</span> flink-1.15.2</span><br><span class="line">âœ  flink-1.15.2</span><br><span class="line">âœ  flink-1.15.2 ./bin/start-cluster.sh</span><br><span class="line">Starting cluster.</span><br><span class="line">Starting standalonesession daemon on host airoo1Oi.</span><br><span class="line">Starting taskexecutor daemon on host airoo1Oi.</span><br></pre></td></tr></table></figure>
</li>
<li>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <a href="http://localhost:8081/">http://localhost:8081/</a>ï¼Œæ‰“å¼€ Flink Web UIï¼š <img src="/image/2022/20221008000.png" alt="Apache Flink Web UI æ¦‚è§ˆé¡µ"> Apache Flink Web UI æ¦‚è§ˆé¡µ å¯ä»¥çœ‹åˆ° Flink é›†ç¾¤ä¿¡æ¯ï¼šä¸€ä¸ª TaskManagerï¼ˆFlink å·¥ä½œè¿›ç¨‹ï¼‰ï¼Œä¸€ä¸ªå¯ç”¨çš„ Task Slotï¼ˆä»»åŠ¡æ§½ï¼ŒTaskManager æ‰€æä¾›çš„èµ„æºå•å…ƒï¼‰ã€‚</li>
</ol>
<h2 id="åŸºäºFlinkå®ç°è¯é¢‘ç»Ÿè®¡åŠŸèƒ½"><a href="#åŸºäºFlinkå®ç°è¯é¢‘ç»Ÿè®¡åŠŸèƒ½" class="headerlink" title="åŸºäºFlinkå®ç°è¯é¢‘ç»Ÿè®¡åŠŸèƒ½"></a>åŸºäºFlinkå®ç°è¯é¢‘ç»Ÿè®¡åŠŸèƒ½</h2><p>ä»¥ä¸‹æ­¥éª¤è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Flink å®æ—¶ç»Ÿè®¡ä» Socket æ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²ä¸­å•è¯å‡ºç°æ¬¡æ•°ã€‚</p>
<h3 id="ä½¿ç”¨Mavenå‘½ä»¤åˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨Mavenå‘½ä»¤åˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨Mavenå‘½ä»¤åˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨Mavenå‘½ä»¤åˆ›å»ºé¡¹ç›®</h3><p><strong>Mavenå‘½ä»¤</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn archetype:generate                \</span><br><span class="line">  -DarchetypeGroupId=org.apache.flink   \</span><br><span class="line">  -DarchetypeArtifactId=flink-quickstart-java \</span><br><span class="line">  -DarchetypeVersion=1.15.2</span><br></pre></td></tr></table></figure>

<p>åœ¨æ‰§è¡Œè¯¥å‘½ä»¤çš„è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥ groupIdã€artifactIdã€version å’Œ packageã€‚</p>
<p>è¿™é‡Œå¡«å…¥çš„æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">groupId: com.johnson.flink</span><br><span class="line">artifactId: flink-tutorial</span><br><span class="line">version: 1.0-SNAPSHOT</span><br><span class="line">package: com.johnson.flink</span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  flink-tutorial tree</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â””â”€â”€ main</span><br><span class="line">        â”œâ”€â”€ java</span><br><span class="line">        â”‚Â Â  â””â”€â”€ com</span><br><span class="line">        â”‚Â Â      â””â”€â”€ johnson</span><br><span class="line">        â”‚Â Â          â””â”€â”€ flink</span><br><span class="line">        â”‚Â Â              â””â”€â”€ DataStreamJob.java</span><br><span class="line">        â””â”€â”€ resources</span><br><span class="line">            â””â”€â”€ log4j2.properties</span><br></pre></td></tr></table></figure>

<h3 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h3><p>æ–°å»º Java ç±» <code>WordCountJob</code> å¹¶æ”¾åœ¨ <code>job</code> åŒ…ä¸‹ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.johnson.flink.job;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.flink.api.common.functions.FlatMapFunction;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.api.java.tuple.Tuple2;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.streaming.api.datastream.DataStreamSource;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.streaming.api.datastream.SingleOutputStreamOperator;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;</span><br><span class="line"><span class="keyword">import</span> org.apache.flink.util.Collector;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯é¢‘ç»Ÿè®¡</span></span><br><span class="line"><span class="comment"> * ç»Ÿè®¡ä» Socket æ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²ä¸­å•è¯å‡ºç°æ¬¡æ•°ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> johnson lin</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2022/10/9 20:21</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WordCountJob</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®æ‰§è¡Œç¯å¢ƒ</span></span><br><span class="line">        <span class="keyword">final</span> <span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Socket åœ°å€ã€ç«¯å£</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">hostname</span> <span class="operator">=</span> <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sourceï¼šè¯»å–æ•°æ®</span></span><br><span class="line">        DataStreamSource&lt;String&gt; stream = env.socketTextStream(hostname, port);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Transformï¼šå°†æ¯è¡Œæ•°æ®æŒ‰ä»»ä½•éå•è¯å­—ç¬¦åˆ†å‰²æˆå•è¯ï¼Œå†æŒ‰å•è¯åˆ†ç»„ç»Ÿè®¡å•è¯æ•°é‡</span></span><br><span class="line">        SingleOutputStreamOperator&lt;Tuple2&lt;String, Integer&gt;&gt; sum = stream.flatMap(<span class="keyword">new</span> <span class="title class_">WordCountFlatMap</span>())</span><br><span class="line">                .keyBy(p -&gt; p.f0).sum(<span class="number">1</span>).uid(<span class="string">&quot;Transform&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sinkï¼šç›´æ¥æ‰“å°è¾“å‡º</span></span><br><span class="line">        sum.print();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œç¨‹åº</span></span><br><span class="line">        env.execute(<span class="string">&quot;è¯é¢‘ç»Ÿè®¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">WordCountFlatMap</span> <span class="keyword">implements</span> <span class="title class_">FlatMapFunction</span>&lt;String, Tuple2&lt;String, Integer&gt;&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flatMap</span><span class="params">(String s, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; collector)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            <span class="comment">// å…ˆè½¬ä¸ºå°å†™ï¼Œå†æŒ‰ä»»ä½•éå•è¯å­—ç¬¦è¿›è¡Œåˆ†å‰²</span></span><br><span class="line">            String[] words = s.toLowerCase().split(<span class="string">&quot;\\W+&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">                <span class="keyword">if</span> (word.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="comment">// å›æ”¶å™¨å›æ”¶é•¿åº¦å¤§äº0çš„å•è¯ï¼Œå°†è¯¥å•è¯çš„å‡ºç°æ¬¡æ•°è®¡ä¸º1</span></span><br><span class="line">                    collector.collect(<span class="keyword">new</span> <span class="title class_">Tuple2</span>&lt;&gt;(word, <span class="number">1</span>));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ‰“åŒ…ç¨‹åº"><a href="#æ‰“åŒ…ç¨‹åº" class="headerlink" title="æ‰“åŒ…ç¨‹åº"></a>æ‰“åŒ…ç¨‹åº</h3><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn clean package -DskipTests</span><br></pre></td></tr></table></figure>

<p>å°†æ‰“åŒ…å¥½çš„ jar åŒ…å¤åˆ¶åˆ° Flink ç›®å½•ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  flink-tutorial <span class="built_in">cp</span> target/flink-tutorial-1.0-SNAPSHOT.jar /opt/flink-1.15.2</span><br><span class="line">âœ  flink-tutorial</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥ Flink å®‰è£…ç›®å½•ï¼Œæ­¤æ—¶ Flink ç›®å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  flink-tutorial <span class="built_in">cd</span> /opt/flink-1.15.2</span><br><span class="line">âœ  flink-1.15.2 ll </span><br><span class="line">total 732K</span><br><span class="line">-rw-r--r-- 1 1709996467 staff  12K Aug 17 20:10 LICENSE</span><br><span class="line">-rw-r--r-- 1 1709996467 staff 600K Aug 18 00:42 NOTICE</span><br><span class="line">-rw-r--r-- 1 1709996467 staff 1.3K Aug 17 20:10 README.txt</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 bin</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 conf</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 examples</span><br><span class="line">-rwxr-xr-x 1 root       root  8.1K Oct 10 21:24 flink-tutorial-1.0-SNAPSHOT.jar</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 lib</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 licenses</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Oct  9 17:12 <span class="built_in">log</span></span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 opt</span><br><span class="line">drwxr-xr-x 1 1709996467 staff 4.0K Aug 18 00:42 plugins</span><br><span class="line">âœ  flink-tutorial</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-nc-å‘½ä»¤ç›‘å¬-3000-ç«¯å£"><a href="#ä½¿ç”¨-nc-å‘½ä»¤ç›‘å¬-3000-ç«¯å£" class="headerlink" title="ä½¿ç”¨ nc å‘½ä»¤ç›‘å¬ 3000 ç«¯å£"></a>ä½¿ç”¨ <code>nc</code> å‘½ä»¤ç›‘å¬ 3000 ç«¯å£</h3><p>å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nc -l 3000</span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡Œç¨‹åº"><a href="#è¿è¡Œç¨‹åº" class="headerlink" title="è¿è¡Œç¨‹åº"></a>è¿è¡Œç¨‹åº</h3><p>è¿›è¡Œ Flink ç›®å½•ï¼ŒæŒ‡å®šåº”ç”¨ç¨‹åºçš„å…¥å£ç±»å’Œ jar æ–‡ä»¶ï¼Œåœ¨æœ¬åœ°é›†ç¾¤ä¸Šè¿è¡Œä½œä¸šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/flink run -c com.johnson.flink.job.WordCountJob flink-tutorial-1.0-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœæ˜¾ç¤ºä½œä¸šå·²æäº¤ï¼Œä½œä¸šçš„ ID ä¸º 47a66fb7968d8b04dfe574f520bde7afï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âœ  flink-1.15.2 ./bin/flink run -c com.johnson.flink.job.WordCountJob flink-tutorial-1.0-SNAPSHOT.jar</span><br><span class="line">Job has been submitted with JobID 47a66fb7968d8b04dfe574f520bde7af</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ Flink Web UIï¼Œå¯ä»¥çœ‹åˆ°â€œRunning Jobs Listâ€œåˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªä½œä¸šã€‚ç‚¹å‡»è¯¥ä½œä¸šï¼Œå¯ä»¥çœ‹åˆ°è¯¥ä½œä¸šçš„è¿è¡Œæƒ…å†µæ¦‚è§ˆï¼šæ•°æ®æµç¨‹å›¾ã€ç®—å­çš„å®æ—¶æŒ‡æ ‡ç­‰ï¼š</p>
<p><img src="/image/2022/20221008001.png" alt="å±•ç¤ºè¿è¡Œä½œä¸šçš„ Apache Flink Web UI æˆªå›¾"></p>
<p>å±•ç¤ºè¿è¡Œä½œä¸šçš„ Apache Flink Web UI æˆªå›¾</p>
<p>ä½œä¸šçš„æ‰“å°è¾“å‡ºï¼ˆ<code>sum.print()</code>ï¼‰ä¼šå†™å…¥ Flink å·¥ä½œè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä¼šé‡å®šå‘åˆ° Flink å®‰è£…ç›®å½•çš„ <em>log</em> å­ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚å¯ä»¥ä½¿ç”¨ <code>tail</code> å‘½ä»¤æŸ¥çœ‹è¾“å‡ºçš„ log æ–‡ä»¶æ¥è§‚å¯Ÿç»Ÿè®¡ç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">tail</span> -f ./log/flink-&lt;user&gt;-taskexecutor-&lt;n&gt;-&lt;hostname&gt;.out</span><br></pre></td></tr></table></figure>

<p>å¦‚æŸ¥çœ‹æœ¬ç¤ºä¾‹çš„è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">tail</span> -f <span class="built_in">log</span>/flink-root-taskexecutor-1-airoo1Oi.out</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>nc</code> å‘½ä»¤çš„çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">a is <span class="keyword">for</span> apple</span><br><span class="line">b is <span class="keyword">for</span> ball</span><br><span class="line">c is <span class="keyword">for</span> cake</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ–‡ä»¶ä¸­å†™å…¥äº†å’Œä¸‹é¢ç±»ä¼¼çš„æ–‡æœ¬è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">âœ  flink-1.15.2 <span class="built_in">tail</span> -f <span class="built_in">log</span>/flink-root-taskexecutor-1-airoo1Oi.out</span><br><span class="line">(a,1)</span><br><span class="line">(is,1)</span><br><span class="line">(<span class="keyword">for</span>,1)</span><br><span class="line">(apple,1)</span><br><span class="line">(b,1)</span><br><span class="line">(is,2)</span><br><span class="line">(<span class="keyword">for</span>,2)</span><br><span class="line">(ball,1)</span><br><span class="line">(c,1)</span><br><span class="line">(is,3)</span><br><span class="line">(<span class="keyword">for</span>,3)</span><br><span class="line">(cake,1)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€å­—æ®µæ˜¯å•è¯ï¼Œç¬¬äºŒä¸ªå­—æ®µæ˜¯è¯¥å•è¯å½“å‰å‡ºç°çš„é¢‘ç‡ã€‚</p>
<h3 id="åœæ­¢ç¨‹åº"><a href="#åœæ­¢ç¨‹åº" class="headerlink" title="åœæ­¢ç¨‹åº"></a>åœæ­¢ç¨‹åº</h3><p>åœ¨ Flink Web UI é€‰å®šä½œä¸šè¿›å…¥ä½œä¸šçš„è¯¦æƒ…é¡µé¢ï¼Œç„¶åå•å‡»é¡µé¢å³ä¸Šæ–¹çš„ Cancel Job æŒ‰é’®å–æ¶ˆä½œä¸šã€‚</p>
<h3 id="åœæ­¢Flinké›†ç¾¤"><a href="#åœæ­¢Flinké›†ç¾¤" class="headerlink" title="åœæ­¢Flinké›†ç¾¤"></a>åœæ­¢Flinké›†ç¾¤</h3><p>è¿›å…¥ Flink å®‰è£…ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åœæ­¢é›†ç¾¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/stop-cluster.sh</span><br></pre></td></tr></table></figure>

<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡è®²è¿°äº†å¦‚ä½•å®‰è£…ã€å¯åŠ¨ Flink æœ¬åœ°é›†ç¾¤ï¼Œå¹¶è¿è¡Œä¸€ä¸ªè¯é¢‘ç»Ÿè®¡çš„ Flink æµå¼ç¨‹åºï¼Œè®©ä½ å¯¹ Flink æœ‰ä¸€ä¸ªåˆæ­¥å°è±¡ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Flink</category>
      </categories>
      <tags>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æŸ¥çœ‹ Ambari ç‰ˆæœ¬</title>
    <url>/2022/08/02/how-to-find-ambari-version/</url>
    <content><![CDATA[<p><strong>å¦‚ä½•æŸ¥çœ‹ Ambari ç‰ˆæœ¬ï¼Ÿ</strong></p>
<p>æ‰“å¼€ Ambari web ç•Œé¢ï¼ˆé»˜è®¤ç«¯å£ï¼š8080ï¼Œå¦‚ <a href="http://ambari:8080/#/login">http://ambari:8080/#/login</a> ï¼‰ï¼ŒæˆåŠŸç™»å½•ä¹‹åï¼Œç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·åï¼Œåœ¨ä¸‹æ‹‰æ¡†ä¸­ç‚¹å‡» Aboutï¼Œå³å¯æŸ¥çœ‹å½“å‰ Ambari çš„ç‰ˆæœ¬ã€‚</p>
<p>å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/image/2022/20220802213426-01.png" alt="å›¾ 1"></p>
<p><img src="/image/2022/20220802213426-2.png" alt="å›¾ 2"></p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>Ambari</tag>
      </tags>
  </entry>
  <entry>
    <title>Lightweight Asynchronous Snapshots for Distributed Dataflows</title>
    <url>/2022/10/18/lightweight-asynchronous-snapshots-for-distributed-dataflows/</url>
    <content><![CDATA[<h2 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h2><p>çš‡å®¶ç†å·¥å­¦é™¢</p>
<p>Paris Carbone1 Gyula Fora Â´<br>2 Stephan Ewen3 Seif Haridi1,2 Kostas Tzoumas3<br>1KTH Royal Institute of Technology - {parisc,haridi}@kth.se<br>2Swedish Institute of Computer Science - {gyfora, seif}@sics.se<br>3Data Artisans GmbH - {stephan, kostas}@data-artisans.com</p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>Distributed stateful stream processing enables the deployment and execution of large scale continuous omputations in the cloud, targeting both low latency and high throughput. One of the most fundamental challenges of this paradigm is providing processing guarantees under potential failures. Existing approaches rely on periodic global state snapshots that can be used for failure recovery. Those approaches suffer from two main drawbacks. First, they often stall the overall computation which impacts ingestion. Second, they eagerly persist all records in transit along with the operation states which results in larger snapshots than required. In this work we propose Asynchronous Barrier Snapshotting (ABS), a lightweight algorithm suited for modern dataflow execution engines that minimises space requirements. ABS persists only operator states on acyclic execution topologies while keeping a minimal record log on cyclic dataflows. We implemented ABS on Apache Flink, a distributed analytics engine that supports stateful stream processing. Our evaluation shows that our algorithm does not have a heavy impact on the execution, maintaining linear scalability and performing well with frequent snapshots.</p>
<p><strong>Keywords</strong> fault tolerance, distributed computing, stream processing, dataflow, cloud computing, state management</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>Distributed dataflow processing is an emerging paradigm for data intensive computing which allows continuous computations on data in high volumes, targeting low end-to-end latency while guaranteeing high throughput. Several time-critical applications could benefit from dataflow processing systems such as Apache Flink [1] and Naiad [11], especially in the domains of real-time analysis (e.g. predictive analytics and complex event processing). Fault tolerance is of paramount importance in such systems, as failures cannot be afforded in most real-world use cases. Currently known approaches that guarantee exactly-once semantics on stateful processing systems rely on global, consistent snapshots of the execution state. However, there are two main drawbacks that make their application inefficient for real-time stream processing. Synchronous snapshotting techniques stop the overall execution of a distributed computation in order to obtain a consistent view of the overall state. Furthermore, to our knowledge all of the existing algorithms for distributed snapshots include records that are in transit in channels or unprocessed messages throughout the execution graph as part of the snapshotted state. Most often this includes state that is larger than required.<br>In this work, we focus on providing lightweight snapshotting, specifically targeted at distributed stateful dataflow systems, with low impact on performance. Our solution provides asynchronous state snapshots with low space costs that contain only operator states in acyclic execution topologies. Additionally, we cover the case of cyclic execution graphs by applying downstream backup on selected parts of the topology while keeping the snapshot state to minimum. Our technique does not halt the streaming operation and it only introduces a small runtime overhead. The contributions of this paper can be summarised as follows:</p>
<ul>
<li>We propose and implement an asynchronous snapshotting algorithm that achieves minimal snapshots on acyclic execution graphs.</li>
<li>We describe and implement a generalisation of our algorithm that works on cyclic execution graphs.</li>
<li>We show the benefits of our approach compared to the state-of-the-art using Apache Flink Streaming as a base system for comparisons.</li>
</ul>
<p>The rest of the paper is organised as follows: Section 2 gives an overview of existing approaches for distributed global snapshots in stateful dataflow systems. Section 3 provides an overview of the Apache Flink processing and execution model followed by Section 4 where we describe our main approach to global snapshotting in detail. Our recovery scheme is described briefly in Section 5. Finally, Section 6 summarises our implementation followed by our evaluation in Section 7 and future work and conclusion in Section 8.</p>
<h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p>Several recovery mechanisms have been proposed during the last decade for systems that do continuous processing [4, 11]. Systems that emulate continuous processing into stateless distributed batch computations such as Discretized Streams and Comet [6, 15] rely on state recomputation. On the other hand, stateful dataflow systems such as Naiad, SDGs, Piccolo and SEEP [3, 5, 11, 12] , which are our main focus in this work, use checkpointing to obtain consistent snapshots of the global execution for failure recovery.</p>
<p>The problem of consistent global snapshots in distributed environments, as introduced by Chandy and Lamport [4], has been researched extensively throughout the last decades [4, 7, 8]. A global snapshot theoretically reflects the overall state of an execution, or a possible state at a specific instance of its operation. A simple but costly approach employed by Naiad [11] is to perform a synchronous snapshot in three steps: first halting the overall computation of the execution graph, then performing the snapshot and finally instructing each task to continue its operation once the global snapshot is complete. This approach has a high impact on both throughput and space requirements due to the need to block the whole computation, while also relying on upstream backup that logs emitted records at the producer side. Another popular approach, originally proposed by Chandy and Lamport [4], that is deployed in many systems today is to perform snapshots asynchronously while eagerly doing upstream backup [4, 5, 10]. This is achieved by distributing markers throughout the execution graph that trigger the persistence of operator and channel state. This approach though still suffers from additional space requirements due to the need of an upstream backup and as a result higher recovery times caused by the reprocessing of backup records. Our approach extends the original asynchronous snapshotting idea of Chandy and Lamport, however, it considers no backup logging of records for acyclic graphs while also keeping very selective backup records on cyclic execution graphs.</p>
<h2 id="3-Background-The-Apache-Flink-System"><a href="#3-Background-The-Apache-Flink-System" class="headerlink" title="3. Background: The Apache Flink System"></a>3. Background: The Apache Flink System</h2><p>Our current work is guided by the need for fault tolerance on Apache Flink Streaming, a distributed stream analytics system that is part of the Apache Flink Stack (former Stratosphere [2]). Apache Flink is architectured around a generic runtime engine uniformly processing both batch and streaming jobs composed of stateful interconnected tasks. Analytics jobs in Flink are compiled into directed graphs of tasks. Data elements are fetched from external sources and routed through the task graph in a pipelined fashion. Tasks are continuously manipulating their internal state based on the received inputs and are generating new outputs.</p>
<h3 id="3-1-The-Streaming-Programming-Model"><a href="#3-1-The-Streaming-Programming-Model" class="headerlink" title="3.1 The Streaming Programming Model"></a>3.1 The Streaming Programming Model</h3><p>The Apache Flink API for stream processing allows the composition of complex streaming analytics jobs by exposing unbounded partitioned data streams (partially ordered sequences of records) as its core data abstraction, called DataStreams. DataStreams can be created from external sources (e.g. message queues, socket streams, custom generators) or by invoking operations on other DataStreams. DataStreams support several operators such as map, filter and reduce in the form of higher order functions that are applied incrementally per record and generate new DataStreams. Every operator can be parallelised by placing parallel instances to run on different partitions of the respective stream, thus, allowing the distributed execution of stream transformations.</p>
<p>The code example in 1 shows how to implement a simple incremental word count in Apache Flink. In this program words are read from a text file and the current count for each word is printed to the standard output. This is a stateful streaming program as sources need to be aware of their current file offset and counters need to maintain the current count for each word as their internal state.</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1acd798f-a4ed-45db-968a-b2bc5c06882a/Untitled.png" alt="Figure 1: The execution graph for incremental word count"></p>
<p>Figure 1: The execution graph for incremental word count</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> env : <span class="type">StreamExecutionEnvironment</span> = ...</span><br><span class="line">env.setParallelism(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> wordStream = env.readTextFile(path)</span><br><span class="line"><span class="keyword">val</span> countStream = wordStream.groupBy(_).count</span><br><span class="line">countStream.print</span><br></pre></td></tr></table></figure>

<p>Example 1: Incremental Word Count</p>
<h3 id="3-2-Distributed-Dataflow-Execution"><a href="#3-2-Distributed-Dataflow-Execution" class="headerlink" title="3.2 Distributed Dataflow Execution"></a>3.2 Distributed Dataflow Execution</h3><p>When a user executes an application all DataStream operators compile into an execution graph that is in principle a directed graph $G=(T, E)$ , similarly to Naiad [11] where vertices $T$ represent tasks and edges $E$ represent data channels between tasks. An execution graph is depicted in Fig. 1 for the incremental word count example. As shown, every instance of an operator is encapsulated on a respective task. Tasks can be further classified as sources when they have no input channels and sinks when no output channels are set. Furthermore, $M$ denotes the set of all records transferred by tasks during their parallel execution. Each task $t\in T$ encapsulates the independent execution of an operator instance and is composed of the following: (1) a set of input and output channels: $I_t, O_t \subseteq E$; (2) an operator state $s_t$ and (3) a user defined function (UDF) $f_t$. Data ingestion is pull-based : during its execution each task consumes input records, updates its operator state and generates new records according to its user defined function. </p>
<p>More specifically, for each record $r\in M$ received by a task $t\in T$ a new state $s^{â€™}_t$ </p>
<dl><dt>0<br>t<br>is produced along<br>with a set of output records D âŠ† M according to its<br>UDF ft</dt><dd>st<br>,r 7â†’ hs<br>0<br>t<br>,Di.</dd></dl><p>$$<br>fafas<br>$$</p>
<p>$\dot{a}$</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®è®ºæ–‡</tag>
        <tag>Flink</tag>
      </tags>
  </entry>
  <entry>
    <title>List of Roman Numerals 1 to 1000</title>
    <url>/2024/06/03/list-of-roman-numerals-1-to-1000/</url>
    <content><![CDATA[<blockquote>
<p>In the world of numerals, Roman numerals offer a timeless and distinctive way of representing numbers. Whether youâ€™re a historian, a linguist, or simply curious about the numerical system used by ancient Romans, understanding Roman numerals from 1 to 1000 can be enlightening.</p>
</blockquote>
<p>PDF File Download: <a href="https://github.com/iuiuu/roman-numerals/blob/master/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%201-1000.pdf">roman numerals 1-1000.pdf</a><br>Excel File Download: <a href="https://github.com/iuiuu/roman-numerals/blob/master/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%201-1000.xlsx">roman numerals 1-1000.xlsx</a></p>
<h2 id="List-of-Roman-Numerals-1-to-1000"><a href="#List-of-Roman-Numerals-1-to-1000" class="headerlink" title="List of Roman Numerals 1 to 1000"></a>List of Roman Numerals 1 to 1000</h2><table>
<thead>
<tr>
<th>1-250</th>
<th>I-CCL</th>
<th>251-500</th>
<th>CCLI-D</th>
<th>501-750</th>
<th>DI-DCCL</th>
<th>751-1000</th>
<th>DCCLI-M</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>I</td>
<td>251</td>
<td>CCLI</td>
<td>501</td>
<td>DI</td>
<td>751</td>
<td>DCCLI</td>
</tr>
<tr>
<td>2</td>
<td>II</td>
<td>252</td>
<td>CCLII</td>
<td>502</td>
<td>DII</td>
<td>752</td>
<td>DCCLII</td>
</tr>
<tr>
<td>3</td>
<td>III</td>
<td>253</td>
<td>CCLIII</td>
<td>503</td>
<td>DIII</td>
<td>753</td>
<td>DCCLIII</td>
</tr>
<tr>
<td>4</td>
<td>IV</td>
<td>254</td>
<td>CCLIV</td>
<td>504</td>
<td>DIV</td>
<td>754</td>
<td>DCCLIV</td>
</tr>
<tr>
<td>5</td>
<td>V</td>
<td>255</td>
<td>CCLV</td>
<td>505</td>
<td>DV</td>
<td>755</td>
<td>DCCLV</td>
</tr>
<tr>
<td>6</td>
<td>VI</td>
<td>256</td>
<td>CCLVI</td>
<td>506</td>
<td>DVI</td>
<td>756</td>
<td>DCCLVI</td>
</tr>
<tr>
<td>7</td>
<td>VII</td>
<td>257</td>
<td>CCLVII</td>
<td>507</td>
<td>DVII</td>
<td>757</td>
<td>DCCLVII</td>
</tr>
<tr>
<td>8</td>
<td>VIII</td>
<td>258</td>
<td>CCLVIII</td>
<td>508</td>
<td>DVIII</td>
<td>758</td>
<td>DCCLVIII</td>
</tr>
<tr>
<td>9</td>
<td>IX</td>
<td>259</td>
<td>CCLVIX</td>
<td>509</td>
<td>DIX</td>
<td>759</td>
<td>DCCLIX</td>
</tr>
<tr>
<td>10</td>
<td>X</td>
<td>260</td>
<td>CCLX</td>
<td>510</td>
<td>DX</td>
<td>760</td>
<td>DCCLX</td>
</tr>
<tr>
<td>11</td>
<td>XI</td>
<td>261</td>
<td>CCLXI</td>
<td>511</td>
<td>DXI</td>
<td>761</td>
<td>DCCLXI</td>
</tr>
<tr>
<td>12</td>
<td>XII</td>
<td>262</td>
<td>CCLXII</td>
<td>512</td>
<td>DXII</td>
<td>762</td>
<td>DCCLXII</td>
</tr>
<tr>
<td>13</td>
<td>XIII</td>
<td>263</td>
<td>CCLXIII</td>
<td>513</td>
<td>DXIII</td>
<td>763</td>
<td>DCCLXIII</td>
</tr>
<tr>
<td>14</td>
<td>XIV</td>
<td>264</td>
<td>CCLXIV</td>
<td>514</td>
<td>DXIV</td>
<td>764</td>
<td>DCCLXIV</td>
</tr>
<tr>
<td>15</td>
<td>XV</td>
<td>265</td>
<td>CCLXV</td>
<td>515</td>
<td>DXV</td>
<td>765</td>
<td>DCCLXV</td>
</tr>
<tr>
<td>16</td>
<td>XVI</td>
<td>266</td>
<td>CCLXVI</td>
<td>516</td>
<td>DXVI</td>
<td>766</td>
<td>DCCLXVI</td>
</tr>
<tr>
<td>17</td>
<td>XVII</td>
<td>267</td>
<td>CCLXVII</td>
<td>517</td>
<td>DXVII</td>
<td>767</td>
<td>DCCLXVII</td>
</tr>
<tr>
<td>18</td>
<td>XVIII</td>
<td>268</td>
<td>CCLXVIII</td>
<td>518</td>
<td>DXVIII</td>
<td>768</td>
<td>DCCLXVIII</td>
</tr>
<tr>
<td>19</td>
<td>XIX</td>
<td>269</td>
<td>CCLXIX</td>
<td>519</td>
<td>DXIX</td>
<td>769</td>
<td>DCCLXIX</td>
</tr>
<tr>
<td>20</td>
<td>XX</td>
<td>270</td>
<td>CCLXX</td>
<td>520</td>
<td>DXX</td>
<td>770</td>
<td>DCCLXX</td>
</tr>
<tr>
<td>21</td>
<td>XXI</td>
<td>271</td>
<td>CCLXXI</td>
<td>521</td>
<td>DXXI</td>
<td>771</td>
<td>DCCLXXI</td>
</tr>
<tr>
<td>22</td>
<td>XXII</td>
<td>272</td>
<td>CCLXXII</td>
<td>522</td>
<td>DXXII</td>
<td>772</td>
<td>DCCLXXII</td>
</tr>
<tr>
<td>23</td>
<td>XXIII</td>
<td>273</td>
<td>CCLXXIII</td>
<td>523</td>
<td>DXXIII</td>
<td>773</td>
<td>DCCLXXIII</td>
</tr>
<tr>
<td>24</td>
<td>XXIV</td>
<td>274</td>
<td>CCLXXIV</td>
<td>524</td>
<td>DXXIV</td>
<td>774</td>
<td>DCCLXXIV</td>
</tr>
<tr>
<td>25</td>
<td>XXV</td>
<td>275</td>
<td>CCLXXV</td>
<td>525</td>
<td>DXXV</td>
<td>775</td>
<td>DCCLXXV</td>
</tr>
<tr>
<td>26</td>
<td>XXVI</td>
<td>276</td>
<td>CCLXXVI</td>
<td>526</td>
<td>DXXVI</td>
<td>776</td>
<td>DCCLXXVI</td>
</tr>
<tr>
<td>27</td>
<td>XXVII</td>
<td>277</td>
<td>CCLXXVII</td>
<td>527</td>
<td>DXXVII</td>
<td>777</td>
<td>DCCLXXVII</td>
</tr>
<tr>
<td>28</td>
<td>XXVIII</td>
<td>278</td>
<td>CCLXXIII</td>
<td>528</td>
<td>DXXVIII</td>
<td>778</td>
<td>DCCLXXVIII</td>
</tr>
<tr>
<td>29</td>
<td>XXIX</td>
<td>279</td>
<td>CCLXXIX</td>
<td>529</td>
<td>DXXIX</td>
<td>779</td>
<td>DCCLXXIX</td>
</tr>
<tr>
<td>30</td>
<td>XXX</td>
<td>280</td>
<td>CCLXXX</td>
<td>530</td>
<td>DXXX</td>
<td>780</td>
<td>DCCLXXX</td>
</tr>
<tr>
<td>31</td>
<td>XXXI</td>
<td>281</td>
<td>CCLXXXI</td>
<td>531</td>
<td>DXXXI</td>
<td>781</td>
<td>DCCLXXXI</td>
</tr>
<tr>
<td>32</td>
<td>XXXII</td>
<td>282</td>
<td>CCLXXXII</td>
<td>532</td>
<td>DXXXII</td>
<td>782</td>
<td>DCCLXXXII</td>
</tr>
<tr>
<td>33</td>
<td>XXXIII</td>
<td>283</td>
<td>CCLXXXIII</td>
<td>533</td>
<td>DXXXIII</td>
<td>783</td>
<td>DCCLXXXIII</td>
</tr>
<tr>
<td>34</td>
<td>XXXIV</td>
<td>284</td>
<td>CCLXXXIV</td>
<td>534</td>
<td>DXXXIV</td>
<td>784</td>
<td>DCCLXXXIV</td>
</tr>
<tr>
<td>35</td>
<td>XXXV</td>
<td>285</td>
<td>CCLXXXV</td>
<td>535</td>
<td>DXXXV</td>
<td>785</td>
<td>DCCLXXXV</td>
</tr>
<tr>
<td>36</td>
<td>XXXVI</td>
<td>286</td>
<td>CCLXXXVI</td>
<td>536</td>
<td>DXXXVI</td>
<td>786</td>
<td>DCCLXXXVI</td>
</tr>
<tr>
<td>37</td>
<td>XXXVII</td>
<td>287</td>
<td>CCLXXXVII</td>
<td>537</td>
<td>DXXXVII</td>
<td>787</td>
<td>DCCLXXXVII</td>
</tr>
<tr>
<td>38</td>
<td>XXXVIII</td>
<td>288</td>
<td>CCLXXXVIII</td>
<td>538</td>
<td>DXXXVIII</td>
<td>788</td>
<td>DCCLXXXVIII</td>
</tr>
<tr>
<td>39</td>
<td>XXXIX</td>
<td>289</td>
<td>CCLXXXIX</td>
<td>539</td>
<td>DXXXIX</td>
<td>789</td>
<td>DCCLXXXIX</td>
</tr>
<tr>
<td>40</td>
<td>XL</td>
<td>290</td>
<td>CCXC</td>
<td>540</td>
<td>DXL</td>
<td>790</td>
<td>DCCXC</td>
</tr>
<tr>
<td>41</td>
<td>XLI</td>
<td>291</td>
<td>CCXCI</td>
<td>541</td>
<td>DXLI</td>
<td>791</td>
<td>DCCXCI</td>
</tr>
<tr>
<td>42</td>
<td>XLII</td>
<td>292</td>
<td>CCXCII</td>
<td>542</td>
<td>DXLII</td>
<td>792</td>
<td>DCCXCII</td>
</tr>
<tr>
<td>43</td>
<td>XLIII</td>
<td>293</td>
<td>CCXCIII</td>
<td>543</td>
<td>DXLIII</td>
<td>793</td>
<td>DCCXCIII</td>
</tr>
<tr>
<td>44</td>
<td>XLIV</td>
<td>294</td>
<td>CCXCIV</td>
<td>544</td>
<td>DXLIV</td>
<td>794</td>
<td>DCCXCIV</td>
</tr>
<tr>
<td>45</td>
<td>XLV</td>
<td>295</td>
<td>CCXCV</td>
<td>545</td>
<td>DXLV</td>
<td>795</td>
<td>DCCXCV</td>
</tr>
<tr>
<td>46</td>
<td>XLVI</td>
<td>296</td>
<td>CCXCVI</td>
<td>546</td>
<td>DXLVI</td>
<td>796</td>
<td>DCCXCVI</td>
</tr>
<tr>
<td>47</td>
<td>XLVII</td>
<td>297</td>
<td>CCXCVII</td>
<td>547</td>
<td>DXLVII</td>
<td>797</td>
<td>DCCXCVII</td>
</tr>
<tr>
<td>48</td>
<td>XLVIII</td>
<td>298</td>
<td>CCXCVIII</td>
<td>548</td>
<td>DXLVIII</td>
<td>798</td>
<td>DCCXCVIII</td>
</tr>
<tr>
<td>49</td>
<td>XLIX</td>
<td>299</td>
<td>CCXCIX</td>
<td>549</td>
<td>DXLIX</td>
<td>799</td>
<td>DCCXCIX</td>
</tr>
<tr>
<td>50</td>
<td>L</td>
<td>300</td>
<td>CCC</td>
<td>550</td>
<td>DL</td>
<td>800</td>
<td>DCCC</td>
</tr>
<tr>
<td>51</td>
<td>LI</td>
<td>301</td>
<td>CCCI</td>
<td>551</td>
<td>DLI</td>
<td>801</td>
<td>DCCCI</td>
</tr>
<tr>
<td>52</td>
<td>LII</td>
<td>302</td>
<td>CCCII</td>
<td>552</td>
<td>DLII</td>
<td>802</td>
<td>DCCCII</td>
</tr>
<tr>
<td>53</td>
<td>LIII</td>
<td>303</td>
<td>CCCIII</td>
<td>553</td>
<td>DLIII</td>
<td>803</td>
<td>DCCCIII</td>
</tr>
<tr>
<td>54</td>
<td>LIV</td>
<td>304</td>
<td>CCCIV</td>
<td>554</td>
<td>DLIV</td>
<td>804</td>
<td>DCCCIV</td>
</tr>
<tr>
<td>55</td>
<td>LV</td>
<td>305</td>
<td>CCCV</td>
<td>555</td>
<td>DLV</td>
<td>805</td>
<td>DCCCV</td>
</tr>
<tr>
<td>56</td>
<td>LVI</td>
<td>306</td>
<td>CCCVI</td>
<td>556</td>
<td>DLVI</td>
<td>806</td>
<td>DCCCVI</td>
</tr>
<tr>
<td>57</td>
<td>LVII</td>
<td>307</td>
<td>CCCVII</td>
<td>557</td>
<td>DLVII</td>
<td>807</td>
<td>DCCCVII</td>
</tr>
<tr>
<td>58</td>
<td>LVIII</td>
<td>308</td>
<td>CCCVIII</td>
<td>558</td>
<td>DLVIII</td>
<td>808</td>
<td>DCCCVIII</td>
</tr>
<tr>
<td>59</td>
<td>LIX</td>
<td>309</td>
<td>CCCIX</td>
<td>559</td>
<td>DLIX</td>
<td>809</td>
<td>DCCCIX</td>
</tr>
<tr>
<td>60</td>
<td>LX</td>
<td>310</td>
<td>CCCX</td>
<td>560</td>
<td>DLX</td>
<td>810</td>
<td>DCCCX</td>
</tr>
<tr>
<td>61</td>
<td>LXI</td>
<td>311</td>
<td>CCCXI</td>
<td>561</td>
<td>DLXI</td>
<td>811</td>
<td>DCCCXI</td>
</tr>
<tr>
<td>62</td>
<td>LXII</td>
<td>312</td>
<td>CCCXII</td>
<td>562</td>
<td>DLXII</td>
<td>812</td>
<td>DCCCXII</td>
</tr>
<tr>
<td>63</td>
<td>LXIII</td>
<td>313</td>
<td>CCCXIII</td>
<td>563</td>
<td>DLXIII</td>
<td>813</td>
<td>DCCCXIII</td>
</tr>
<tr>
<td>64</td>
<td>LXIV</td>
<td>314</td>
<td>CCCXIV</td>
<td>564</td>
<td>DLXIV</td>
<td>814</td>
<td>DCCCXIV</td>
</tr>
<tr>
<td>65</td>
<td>LXV</td>
<td>315</td>
<td>CCCXV</td>
<td>565</td>
<td>DLXV</td>
<td>815</td>
<td>DCCCXV</td>
</tr>
<tr>
<td>66</td>
<td>LXVI</td>
<td>316</td>
<td>CCCXVI</td>
<td>566</td>
<td>DLXVI</td>
<td>816</td>
<td>DCCCXVI</td>
</tr>
<tr>
<td>67</td>
<td>LXVII</td>
<td>317</td>
<td>CCCXVII</td>
<td>567</td>
<td>DLXVII</td>
<td>817</td>
<td>DCCCXVII</td>
</tr>
<tr>
<td>68</td>
<td>LXVIII</td>
<td>318</td>
<td>CCCXVIII</td>
<td>568</td>
<td>DLXVIII</td>
<td>818</td>
<td>DCCCXVIII</td>
</tr>
<tr>
<td>69</td>
<td>LXIX</td>
<td>319</td>
<td>CCCXIX</td>
<td>569</td>
<td>DLXIX</td>
<td>819</td>
<td>DCCCXIX</td>
</tr>
<tr>
<td>70</td>
<td>LXX</td>
<td>320</td>
<td>CCCXX</td>
<td>570</td>
<td>DLXX</td>
<td>820</td>
<td>DCCCXX</td>
</tr>
<tr>
<td>71</td>
<td>LXXI</td>
<td>321</td>
<td>CCCXXI</td>
<td>571</td>
<td>DLXXI</td>
<td>821</td>
<td>DCCCXXI</td>
</tr>
<tr>
<td>72</td>
<td>LXXII</td>
<td>322</td>
<td>CCCXXII</td>
<td>572</td>
<td>DLXXII</td>
<td>822</td>
<td>DCCCXXII</td>
</tr>
<tr>
<td>73</td>
<td>LXXIII</td>
<td>323</td>
<td>CCCXXIII</td>
<td>573</td>
<td>DLXXIII</td>
<td>823</td>
<td>DCCCXXIII</td>
</tr>
<tr>
<td>74</td>
<td>LXXIV</td>
<td>324</td>
<td>CCCXXIV</td>
<td>574</td>
<td>DLXXIV</td>
<td>824</td>
<td>DCCCXXIV</td>
</tr>
<tr>
<td>75</td>
<td>LXXV</td>
<td>325</td>
<td>CCCXXV</td>
<td>575</td>
<td>DLXXV</td>
<td>825</td>
<td>DCCCXXV</td>
</tr>
<tr>
<td>76</td>
<td>LXXVI</td>
<td>326</td>
<td>CCCXXVI</td>
<td>576</td>
<td>DLXXVI</td>
<td>826</td>
<td>DCCCXXVI</td>
</tr>
<tr>
<td>77</td>
<td>LXXVII</td>
<td>327</td>
<td>CCCXXVII</td>
<td>577</td>
<td>DLXXVII</td>
<td>827</td>
<td>DCCCXXVII</td>
</tr>
<tr>
<td>78</td>
<td>LXXVIII</td>
<td>328</td>
<td>CCCXXVIII</td>
<td>578</td>
<td>DLXXVIII</td>
<td>828</td>
<td>DCCCXXVIII</td>
</tr>
<tr>
<td>79</td>
<td>LXXIX</td>
<td>329</td>
<td>CCCXXIX</td>
<td>579</td>
<td>DLXXIX</td>
<td>829</td>
<td>DCCCXXIX</td>
</tr>
<tr>
<td>80</td>
<td>LXXX</td>
<td>330</td>
<td>CCCXXX</td>
<td>580</td>
<td>DLXXX</td>
<td>930</td>
<td>DCCCXXX</td>
</tr>
<tr>
<td>81</td>
<td>LXXXI</td>
<td>331</td>
<td>CCCXXXI</td>
<td>581</td>
<td>DLXXXI</td>
<td>831</td>
<td>DCCCXXXI</td>
</tr>
<tr>
<td>82</td>
<td>LXXXII</td>
<td>332</td>
<td>CCCXXXII</td>
<td>582</td>
<td>DLXXXII</td>
<td>832</td>
<td>DCCCXXXII</td>
</tr>
<tr>
<td>83</td>
<td>LXXXIII</td>
<td>333</td>
<td>CCCXXXIII</td>
<td>583</td>
<td>DLXXXIII</td>
<td>833</td>
<td>DCCCXXXIII</td>
</tr>
<tr>
<td>84</td>
<td>LXXXIV</td>
<td>334</td>
<td>CCCXXXIV</td>
<td>584</td>
<td>DLXXXIV</td>
<td>834</td>
<td>DCCCXXXIV</td>
</tr>
<tr>
<td>85</td>
<td>LXXXV</td>
<td>335</td>
<td>CCCXXXV</td>
<td>585</td>
<td>DLXXXV</td>
<td>835</td>
<td>DCCCXXXV</td>
</tr>
<tr>
<td>86</td>
<td>LXXXVI</td>
<td>336</td>
<td>CCCXXXVI</td>
<td>586</td>
<td>DLXXXVI</td>
<td>836</td>
<td>DCCCXXXVI</td>
</tr>
<tr>
<td>87</td>
<td>LXXXVII</td>
<td>337</td>
<td>CCCXXXVII</td>
<td>587</td>
<td>DLXXXVII</td>
<td>837</td>
<td>DCCCXXXVII</td>
</tr>
<tr>
<td>88</td>
<td>LXXXVIII</td>
<td>338</td>
<td>CCCXXXVIII</td>
<td>588</td>
<td>DLXXXVIII</td>
<td>838</td>
<td>DCCCXXXVIII</td>
</tr>
<tr>
<td>89</td>
<td>LXXXIX</td>
<td>339</td>
<td>CCCXXXIX</td>
<td>589</td>
<td>DLXXXIX</td>
<td>839</td>
<td>DCCCXXXIX</td>
</tr>
<tr>
<td>90</td>
<td>XC</td>
<td>340</td>
<td>CCCXL</td>
<td>590</td>
<td>DXC</td>
<td>840</td>
<td>DCCCXL</td>
</tr>
<tr>
<td>91</td>
<td>XCI</td>
<td>341</td>
<td>CCCXLI</td>
<td>591</td>
<td>DXCI</td>
<td>841</td>
<td>DCCCXLI</td>
</tr>
<tr>
<td>92</td>
<td>XCII</td>
<td>342</td>
<td>CCCXLII</td>
<td>592</td>
<td>DXCII</td>
<td>842</td>
<td>DCCCXLII</td>
</tr>
<tr>
<td>93</td>
<td>XCIII</td>
<td>343</td>
<td>CCCXLIII</td>
<td>593</td>
<td>DXCIII</td>
<td>843</td>
<td>DCCCXLIII</td>
</tr>
<tr>
<td>94</td>
<td>XCIV</td>
<td>344</td>
<td>CCCXLIV</td>
<td>594</td>
<td>DXCIV</td>
<td>844</td>
<td>DCCCXLIV</td>
</tr>
<tr>
<td>95</td>
<td>XCV</td>
<td>345</td>
<td>CCCXLV</td>
<td>595</td>
<td>DXCV</td>
<td>845</td>
<td>DCCCXLV</td>
</tr>
<tr>
<td>96</td>
<td>XCVI</td>
<td>346</td>
<td>CCCXLVI</td>
<td>596</td>
<td>DXCVI</td>
<td>846</td>
<td>DCCCXLVI</td>
</tr>
<tr>
<td>97</td>
<td>XCVII</td>
<td>347</td>
<td>CCCXLVII</td>
<td>597</td>
<td>DXCVII</td>
<td>847</td>
<td>DCCCXLVII</td>
</tr>
<tr>
<td>98</td>
<td>XCVIII</td>
<td>348</td>
<td>CCCXLVIII</td>
<td>598</td>
<td>DXCVIII</td>
<td>848</td>
<td>DCCCXLVIII</td>
</tr>
<tr>
<td>99</td>
<td>XCIX</td>
<td>349</td>
<td>CCCXLIX</td>
<td>599</td>
<td>DXCIX</td>
<td>849</td>
<td>DCCCXLIX</td>
</tr>
<tr>
<td>100</td>
<td>C</td>
<td>350</td>
<td>CCCL</td>
<td>600</td>
<td>DC</td>
<td>850</td>
<td>DCCCL</td>
</tr>
<tr>
<td>101</td>
<td>CI</td>
<td>351</td>
<td>CCCLI</td>
<td>601</td>
<td>DCI</td>
<td>851</td>
<td>DCCCLI</td>
</tr>
<tr>
<td>102</td>
<td>CII</td>
<td>352</td>
<td>CCCLII</td>
<td>602</td>
<td>DCII</td>
<td>852</td>
<td>DCCCLII</td>
</tr>
<tr>
<td>103</td>
<td>CIII</td>
<td>353</td>
<td>CCCLIII</td>
<td>603</td>
<td>DCIII</td>
<td>853</td>
<td>DCCCLIII</td>
</tr>
<tr>
<td>104</td>
<td>CIV</td>
<td>354</td>
<td>CCCLIV</td>
<td>604</td>
<td>DCIV</td>
<td>854</td>
<td>DCCCLIV</td>
</tr>
<tr>
<td>105</td>
<td>CV</td>
<td>355</td>
<td>CCCLV</td>
<td>605</td>
<td>DCV</td>
<td>855</td>
<td>DCCCLV</td>
</tr>
<tr>
<td>106</td>
<td>CVI</td>
<td>356</td>
<td>CCCLVI</td>
<td>606</td>
<td>DCVI</td>
<td>856</td>
<td>DCCCLVI</td>
</tr>
<tr>
<td>107</td>
<td>CVII</td>
<td>357</td>
<td>CCCLVII</td>
<td>607</td>
<td>DCVII</td>
<td>857</td>
<td>DCCCLVII</td>
</tr>
<tr>
<td>108</td>
<td>CVIII</td>
<td>358</td>
<td>CCCLVIII</td>
<td>608</td>
<td>DCVIII</td>
<td>858</td>
<td>DCCCLVIII</td>
</tr>
<tr>
<td>109</td>
<td>CIX</td>
<td>359</td>
<td>CCCLIX</td>
<td>609</td>
<td>DCIX</td>
<td>859</td>
<td>DCCCLIX</td>
</tr>
<tr>
<td>110</td>
<td>CX</td>
<td>360</td>
<td>CCCLX</td>
<td>610</td>
<td>DCX</td>
<td>860</td>
<td>DCCCLX</td>
</tr>
<tr>
<td>111</td>
<td>CXI</td>
<td>361</td>
<td>CCCLXI</td>
<td>611</td>
<td>DCXI</td>
<td>861</td>
<td>DCCCLXI</td>
</tr>
<tr>
<td>112</td>
<td>CXII</td>
<td>362</td>
<td>CCCLXII</td>
<td>612</td>
<td>DCXII</td>
<td>862</td>
<td>DCCCLXII</td>
</tr>
<tr>
<td>113</td>
<td>CXIII</td>
<td>363</td>
<td>CCCLXIII</td>
<td>613</td>
<td>DCXIII</td>
<td>863</td>
<td>DCCCLXIII</td>
</tr>
<tr>
<td>114</td>
<td>CXIV</td>
<td>364</td>
<td>CCCLXIV</td>
<td>614</td>
<td>DCXIV</td>
<td>864</td>
<td>DCCCLXIV</td>
</tr>
<tr>
<td>115</td>
<td>CXV</td>
<td>365</td>
<td>CCCLXV</td>
<td>615</td>
<td>DCXV</td>
<td>865</td>
<td>DCCCLXV</td>
</tr>
<tr>
<td>116</td>
<td>CXVI</td>
<td>366</td>
<td>CCCLXVI</td>
<td>616</td>
<td>DCXVI</td>
<td>866</td>
<td>DCCCLXVI</td>
</tr>
<tr>
<td>117</td>
<td>CXVII</td>
<td>367</td>
<td>CCCLXVII</td>
<td>617</td>
<td>DCXVII</td>
<td>867</td>
<td>DCCCLXVII</td>
</tr>
<tr>
<td>118</td>
<td>CXVIII</td>
<td>368</td>
<td>CCCLXVIII</td>
<td>618</td>
<td>DCXVIII</td>
<td>868</td>
<td>DCCCLXVIII</td>
</tr>
<tr>
<td>119</td>
<td>CXIX</td>
<td>369</td>
<td>CCCLXIX</td>
<td>619</td>
<td>DCXIX</td>
<td>869</td>
<td>DCCCLXIX</td>
</tr>
<tr>
<td>120</td>
<td>CXX</td>
<td>370</td>
<td>CCCLXX</td>
<td>620</td>
<td>DCXX</td>
<td>870</td>
<td>DCCCLXX</td>
</tr>
<tr>
<td>121</td>
<td>CXXI</td>
<td>371</td>
<td>CCCLXXI</td>
<td>621</td>
<td>DCXXI</td>
<td>871</td>
<td>DCCCLXXI</td>
</tr>
<tr>
<td>122</td>
<td>CXXII</td>
<td>372</td>
<td>CCCLXXII</td>
<td>622</td>
<td>DCXXII</td>
<td>872</td>
<td>DCCCLXXII</td>
</tr>
<tr>
<td>123</td>
<td>CXXIII</td>
<td>373</td>
<td>CCCLXXIII</td>
<td>623</td>
<td>DCXXIII</td>
<td>873</td>
<td>DCCCLXXIII</td>
</tr>
<tr>
<td>124</td>
<td>CXXIV</td>
<td>374</td>
<td>CCCLXXIV</td>
<td>624</td>
<td>DCXXIV</td>
<td>874</td>
<td>DCCCLXXIV</td>
</tr>
<tr>
<td>125</td>
<td>CXXV</td>
<td>375</td>
<td>CCCLXXV</td>
<td>625</td>
<td>DCXXV</td>
<td>875</td>
<td>DCCCLXXV</td>
</tr>
<tr>
<td>126</td>
<td>CXXVI</td>
<td>376</td>
<td>CCCLXXVI</td>
<td>626</td>
<td>DCXXVI</td>
<td>876</td>
<td>DCCCLXXVI</td>
</tr>
<tr>
<td>127</td>
<td>CXXVII</td>
<td>377</td>
<td>CCCLXXVII</td>
<td>627</td>
<td>DCXXVII</td>
<td>877</td>
<td>DCCCLXXVII</td>
</tr>
<tr>
<td>128</td>
<td>CXXVIII</td>
<td>378</td>
<td>CCCLXXVIII</td>
<td>628</td>
<td>DCXXVIII</td>
<td>878</td>
<td>DCCCLXXVIII</td>
</tr>
<tr>
<td>129</td>
<td>CXXIX</td>
<td>379</td>
<td>CCCLXXIX</td>
<td>629</td>
<td>DCXXIX</td>
<td>879</td>
<td>DCCCLXXIX</td>
</tr>
<tr>
<td>130</td>
<td>CXXX</td>
<td>380</td>
<td>CCCLXXX</td>
<td>630</td>
<td>DCXXX</td>
<td>880</td>
<td>DCCCLXXX</td>
</tr>
<tr>
<td>131</td>
<td>CXXXI</td>
<td>381</td>
<td>CCCLXXXI</td>
<td>631</td>
<td>DCXXXI</td>
<td>881</td>
<td>DCCCLXXXI</td>
</tr>
<tr>
<td>132</td>
<td>CXXXII</td>
<td>382</td>
<td>CCCLXXXII</td>
<td>632</td>
<td>DCXXXII</td>
<td>882</td>
<td>DCCCLXXXII</td>
</tr>
<tr>
<td>133</td>
<td>CXXXIII</td>
<td>383</td>
<td>CCCLXXXIII</td>
<td>633</td>
<td>DCXXXIII</td>
<td>883</td>
<td>DCCCLXXXIII</td>
</tr>
<tr>
<td>134</td>
<td>CXXXIV</td>
<td>384</td>
<td>CCCLXXXIV</td>
<td>634</td>
<td>DCXXXIV</td>
<td>884</td>
<td>DCCCLXXXIV</td>
</tr>
<tr>
<td>135</td>
<td>CXXXV</td>
<td>385</td>
<td>CCCLXXXV</td>
<td>635</td>
<td>DCXXXV</td>
<td>885</td>
<td>DCCCLXXXV</td>
</tr>
<tr>
<td>136</td>
<td>CXXXVI</td>
<td>386</td>
<td>CCCLXXXVI</td>
<td>636</td>
<td>DCXXXVI</td>
<td>886</td>
<td>DCCCLXXXVI</td>
</tr>
<tr>
<td>137</td>
<td>CXXXVII</td>
<td>387</td>
<td>CCCLXXXVII</td>
<td>637</td>
<td>DCXXXVII</td>
<td>887</td>
<td>DCCCLXXXVII</td>
</tr>
<tr>
<td>138</td>
<td>CXXXVIII</td>
<td>388</td>
<td>CCCLXXXVIII</td>
<td>638</td>
<td>DCXXXVIII</td>
<td>888</td>
<td>DCCCLXXXVIII</td>
</tr>
<tr>
<td>139</td>
<td>CXXXIX</td>
<td>389</td>
<td>CCCLXXXIX</td>
<td>639</td>
<td>DCXXXIX</td>
<td>889</td>
<td>DCCCLXXXIX</td>
</tr>
<tr>
<td>140</td>
<td>CXL</td>
<td>390</td>
<td>CCCXC</td>
<td>640</td>
<td>DCXL</td>
<td>890</td>
<td>DCCCXC</td>
</tr>
<tr>
<td>141</td>
<td>CXLI</td>
<td>391</td>
<td>CCCXCI</td>
<td>641</td>
<td>DCXLI</td>
<td>891</td>
<td>DCCCXCI</td>
</tr>
<tr>
<td>142</td>
<td>CXLII</td>
<td>392</td>
<td>CCCXCII</td>
<td>642</td>
<td>DCXLII</td>
<td>892</td>
<td>DCCCXCII</td>
</tr>
<tr>
<td>143</td>
<td>CXLIII</td>
<td>393</td>
<td>CCCXCIII</td>
<td>643</td>
<td>DCXLIII</td>
<td>893</td>
<td>DCCCXCIII</td>
</tr>
<tr>
<td>144</td>
<td>CXLIV</td>
<td>394</td>
<td>CCCXCIV</td>
<td>644</td>
<td>DCXLIV</td>
<td>894</td>
<td>DCCCXCIV</td>
</tr>
<tr>
<td>145</td>
<td>CXLV</td>
<td>395</td>
<td>CCCXCV</td>
<td>645</td>
<td>DCXLV</td>
<td>895</td>
<td>DCCCXCV</td>
</tr>
<tr>
<td>146</td>
<td>CXLVI</td>
<td>396</td>
<td>CCCXCVI</td>
<td>646</td>
<td>DCXLVI</td>
<td>896</td>
<td>DCCCXCVI</td>
</tr>
<tr>
<td>147</td>
<td>CXLVII</td>
<td>397</td>
<td>CCCXCVII</td>
<td>647</td>
<td>DCXLVII</td>
<td>897</td>
<td>DCCCXCVII</td>
</tr>
<tr>
<td>148</td>
<td>CXLVIII</td>
<td>398</td>
<td>CCCVCVIII</td>
<td>648</td>
<td>DCXLVIII</td>
<td>898</td>
<td>DCCCXCVIII</td>
</tr>
<tr>
<td>149</td>
<td>CXLIX</td>
<td>399</td>
<td>CCCXCIX</td>
<td>649</td>
<td>DCXLIX</td>
<td>899</td>
<td>DCCCXCIX</td>
</tr>
<tr>
<td>150</td>
<td>CL</td>
<td>400</td>
<td>CD</td>
<td>650</td>
<td>DCL</td>
<td>900</td>
<td>CM</td>
</tr>
<tr>
<td>151</td>
<td>CLI</td>
<td>401</td>
<td>CDI</td>
<td>651</td>
<td>DCLI</td>
<td>901</td>
<td>CMI</td>
</tr>
<tr>
<td>152</td>
<td>CLII</td>
<td>402</td>
<td>CDII</td>
<td>652</td>
<td>DCLII</td>
<td>902</td>
<td>CMII</td>
</tr>
<tr>
<td>153</td>
<td>CLIII</td>
<td>403</td>
<td>CDIII</td>
<td>653</td>
<td>DCLIII</td>
<td>903</td>
<td>CMIII</td>
</tr>
<tr>
<td>154</td>
<td>CLIV</td>
<td>404</td>
<td>CDIV</td>
<td>654</td>
<td>DCLIV</td>
<td>904</td>
<td>CMIV</td>
</tr>
<tr>
<td>155</td>
<td>CLV</td>
<td>405</td>
<td>CDV</td>
<td>655</td>
<td>DCLV</td>
<td>905</td>
<td>CMV</td>
</tr>
<tr>
<td>156</td>
<td>CLVI</td>
<td>406</td>
<td>CDVI</td>
<td>656</td>
<td>DCLVI</td>
<td>906</td>
<td>CMVI</td>
</tr>
<tr>
<td>157</td>
<td>CLVII</td>
<td>407</td>
<td>CDVII</td>
<td>657</td>
<td>DCLVII</td>
<td>907</td>
<td>CMVII</td>
</tr>
<tr>
<td>158</td>
<td>CLVIII</td>
<td>408</td>
<td>CDVIII</td>
<td>658</td>
<td>DCLVIII</td>
<td>908</td>
<td>CMVIII</td>
</tr>
<tr>
<td>159</td>
<td>CLIX</td>
<td>409</td>
<td>CDIX</td>
<td>659</td>
<td>DCLIX</td>
<td>909</td>
<td>CMIX</td>
</tr>
<tr>
<td>160</td>
<td>CLX</td>
<td>410</td>
<td>CDX</td>
<td>660</td>
<td>DCLX</td>
<td>910</td>
<td>CMX</td>
</tr>
<tr>
<td>161</td>
<td>CLXI</td>
<td>411</td>
<td>CDXI</td>
<td>661</td>
<td>DCLXI</td>
<td>911</td>
<td>CMXI</td>
</tr>
<tr>
<td>162</td>
<td>CLXII</td>
<td>412</td>
<td>CDXII</td>
<td>662</td>
<td>DCLXII</td>
<td>912</td>
<td>CMXII</td>
</tr>
<tr>
<td>163</td>
<td>CLXIII</td>
<td>413</td>
<td>CDXIII</td>
<td>663</td>
<td>DCLXIII</td>
<td>913</td>
<td>CMXIII</td>
</tr>
<tr>
<td>164</td>
<td>CLXIV</td>
<td>414</td>
<td>CDXIV</td>
<td>664</td>
<td>DCLXIV</td>
<td>914</td>
<td>CMXIV</td>
</tr>
<tr>
<td>165</td>
<td>CLXV</td>
<td>415</td>
<td>CDXV</td>
<td>665</td>
<td>DCLXV</td>
<td>915</td>
<td>CMXV</td>
</tr>
<tr>
<td>166</td>
<td>CLXVI</td>
<td>416</td>
<td>CDXVI</td>
<td>666</td>
<td>DCLXVI</td>
<td>916</td>
<td>CMXVI</td>
</tr>
<tr>
<td>167</td>
<td>CLXVII</td>
<td>417</td>
<td>CDXVII</td>
<td>667</td>
<td>DCLXVII</td>
<td>917</td>
<td>CMXVII</td>
</tr>
<tr>
<td>168</td>
<td>CLXVIII</td>
<td>418</td>
<td>CDXVIII</td>
<td>668</td>
<td>DCLXVIII</td>
<td>918</td>
<td>CMXVIII</td>
</tr>
<tr>
<td>169</td>
<td>CLXIX</td>
<td>419</td>
<td>CDXIX</td>
<td>669</td>
<td>DCLXIX</td>
<td>919</td>
<td>CMXIX</td>
</tr>
<tr>
<td>170</td>
<td>CLXX</td>
<td>420</td>
<td>CDXX</td>
<td>670</td>
<td>DCLXX</td>
<td>920</td>
<td>CMXX</td>
</tr>
<tr>
<td>171</td>
<td>CLXXI</td>
<td>421</td>
<td>CDXXI</td>
<td>671</td>
<td>DCLXXI</td>
<td>921</td>
<td>CMXXI</td>
</tr>
<tr>
<td>172</td>
<td>CLXXII</td>
<td>422</td>
<td>CDXXII</td>
<td>672</td>
<td>DCLXXII</td>
<td>922</td>
<td>CMXXII</td>
</tr>
<tr>
<td>173</td>
<td>CLXXIII</td>
<td>423</td>
<td>CDXXIII</td>
<td>673</td>
<td>DCLXXIII</td>
<td>923</td>
<td>CMXXIII</td>
</tr>
<tr>
<td>174</td>
<td>CLXXIV</td>
<td>424</td>
<td>CDXXIV</td>
<td>674</td>
<td>DCLXXIV</td>
<td>924</td>
<td>CMXXIV</td>
</tr>
<tr>
<td>175</td>
<td>CLXXV</td>
<td>425</td>
<td>CDXXV</td>
<td>675</td>
<td>DCLXXV</td>
<td>925</td>
<td>CMXXV</td>
</tr>
<tr>
<td>176</td>
<td>CLXXVI</td>
<td>426</td>
<td>CDXXVI</td>
<td>676</td>
<td>DCLXXVI</td>
<td>926</td>
<td>CMXXVI</td>
</tr>
<tr>
<td>177</td>
<td>CLXXVII</td>
<td>427</td>
<td>CDXXVII</td>
<td>677</td>
<td>DCLXXVII</td>
<td>927</td>
<td>CMXXVII</td>
</tr>
<tr>
<td>178</td>
<td>CLXXVIII</td>
<td>428</td>
<td>CDXXVIII</td>
<td>678</td>
<td>DCLXXVIII</td>
<td>928</td>
<td>CMXXVIII</td>
</tr>
<tr>
<td>179</td>
<td>CLXXIX</td>
<td>429</td>
<td>CDXXIX</td>
<td>679</td>
<td>DCLXXIX</td>
<td>929</td>
<td>CMXXIX</td>
</tr>
<tr>
<td>180</td>
<td>CLXXX</td>
<td>430</td>
<td>CDXXX</td>
<td>680</td>
<td>DCLXXX</td>
<td>930</td>
<td>CMXXX</td>
</tr>
<tr>
<td>181</td>
<td>CLXXXI</td>
<td>431</td>
<td>CDXXXI</td>
<td>681</td>
<td>DCLXXXI</td>
<td>931</td>
<td>CMXXXI</td>
</tr>
<tr>
<td>182</td>
<td>CLXXXII</td>
<td>432</td>
<td>CDXXXII</td>
<td>682</td>
<td>DCLXXXII</td>
<td>932</td>
<td>CMXXXII</td>
</tr>
<tr>
<td>183</td>
<td>CLXXXIII</td>
<td>433</td>
<td>CDXXXIII</td>
<td>683</td>
<td>DCLXXXIII</td>
<td>933</td>
<td>CMXXXIII</td>
</tr>
<tr>
<td>184</td>
<td>CLXXXIV</td>
<td>434</td>
<td>CDXXXIV</td>
<td>684</td>
<td>DCLXXXIV</td>
<td>934</td>
<td>CMXXXIV</td>
</tr>
<tr>
<td>185</td>
<td>CLXXXV</td>
<td>435</td>
<td>CDXXXV</td>
<td>685</td>
<td>DCLXXXV</td>
<td>935</td>
<td>CMXXXV</td>
</tr>
<tr>
<td>186</td>
<td>CLXXXVI</td>
<td>436</td>
<td>CDXXXVI</td>
<td>686</td>
<td>DCLXXXVI</td>
<td>936</td>
<td>CMXXXVI</td>
</tr>
<tr>
<td>187</td>
<td>CLXXXVII</td>
<td>437</td>
<td>CDXXXVII</td>
<td>687</td>
<td>DCLXXXVII</td>
<td>937</td>
<td>CMXXXVII</td>
</tr>
<tr>
<td>188</td>
<td>CLXXXVIII</td>
<td>438</td>
<td>CDXXXVIII</td>
<td>688</td>
<td>DCLXXXVIII</td>
<td>938</td>
<td>CMXXXVIII</td>
</tr>
<tr>
<td>189</td>
<td>CLXXXIX</td>
<td>439</td>
<td>CDXXXIX</td>
<td>689</td>
<td>DCLXXXIX</td>
<td>939</td>
<td>CMXXXIX</td>
</tr>
<tr>
<td>190</td>
<td>CXC</td>
<td>440</td>
<td>CDXL</td>
<td>690</td>
<td>DCXC</td>
<td>940</td>
<td>CMXL</td>
</tr>
<tr>
<td>191</td>
<td>CXCI</td>
<td>441</td>
<td>CDXLI</td>
<td>691</td>
<td>DCXCI</td>
<td>941</td>
<td>CMXLI</td>
</tr>
<tr>
<td>192</td>
<td>CXCII</td>
<td>442</td>
<td>CDXLII</td>
<td>692</td>
<td>DCXCII</td>
<td>942</td>
<td>CMXLII</td>
</tr>
<tr>
<td>193</td>
<td>CXCIII</td>
<td>443</td>
<td>CDXLIII</td>
<td>693</td>
<td>DCXCIII</td>
<td>943</td>
<td>CMXLIII</td>
</tr>
<tr>
<td>194</td>
<td>CXCIV</td>
<td>444</td>
<td>CDXLIV</td>
<td>694</td>
<td>DCXCIV</td>
<td>944</td>
<td>CMXLIV</td>
</tr>
<tr>
<td>195</td>
<td>CXCV</td>
<td>445</td>
<td>CDXLV</td>
<td>695</td>
<td>DCXCV</td>
<td>945</td>
<td>CMXLV</td>
</tr>
<tr>
<td>196</td>
<td>CXCVI</td>
<td>446</td>
<td>CDXLVI</td>
<td>696</td>
<td>DCXCVI</td>
<td>946</td>
<td>CMXLVI</td>
</tr>
<tr>
<td>197</td>
<td>CXCVII</td>
<td>447</td>
<td>CDXLVII</td>
<td>697</td>
<td>DCXCVII</td>
<td>947</td>
<td>CMXLVII</td>
</tr>
<tr>
<td>198</td>
<td>CXCVIII</td>
<td>448</td>
<td>CDXLVIII</td>
<td>698</td>
<td>DCXCVIII</td>
<td>948</td>
<td>CMXLVIII</td>
</tr>
<tr>
<td>199</td>
<td>CXCIX</td>
<td>449</td>
<td>CDXLIX</td>
<td>699</td>
<td>DCXCIX</td>
<td>949</td>
<td>CMXLIX</td>
</tr>
<tr>
<td>200</td>
<td>CC</td>
<td>450</td>
<td>CDL</td>
<td>700</td>
<td>DCC</td>
<td>950</td>
<td>CML</td>
</tr>
<tr>
<td>201</td>
<td>CCI</td>
<td>451</td>
<td>CDLI</td>
<td>701</td>
<td>DCCI</td>
<td>951</td>
<td>CMLI</td>
</tr>
<tr>
<td>202</td>
<td>CCII</td>
<td>452</td>
<td>CDLII</td>
<td>702</td>
<td>DCCII</td>
<td>952</td>
<td>CMLII</td>
</tr>
<tr>
<td>203</td>
<td>CCIII</td>
<td>453</td>
<td>CDLIII</td>
<td>703</td>
<td>DCCIII</td>
<td>953</td>
<td>CMLIII</td>
</tr>
<tr>
<td>204</td>
<td>CCIV</td>
<td>454</td>
<td>CDLIV</td>
<td>704</td>
<td>DCCIV</td>
<td>954</td>
<td>CMLIV</td>
</tr>
<tr>
<td>205</td>
<td>CCV</td>
<td>455</td>
<td>CDLV</td>
<td>705</td>
<td>DCCV</td>
<td>955</td>
<td>CMLV</td>
</tr>
<tr>
<td>206</td>
<td>CCVI</td>
<td>456</td>
<td>CDLVI</td>
<td>706</td>
<td>DCCVI</td>
<td>956</td>
<td>CMLVI</td>
</tr>
<tr>
<td>207</td>
<td>CCVII</td>
<td>457</td>
<td>CDLVII</td>
<td>707</td>
<td>DCCVII</td>
<td>957</td>
<td>CMLVII</td>
</tr>
<tr>
<td>208</td>
<td>CCVIII</td>
<td>458</td>
<td>CDLVIII</td>
<td>708</td>
<td>DCCVIII</td>
<td>958</td>
<td>CMLVIII</td>
</tr>
<tr>
<td>209</td>
<td>CCIX</td>
<td>459</td>
<td>CDLIX</td>
<td>709</td>
<td>DCCIX</td>
<td>959</td>
<td>CMLIX</td>
</tr>
<tr>
<td>210</td>
<td>CCX</td>
<td>460</td>
<td>CDLX</td>
<td>710</td>
<td>DCCX</td>
<td>960</td>
<td>CMLX</td>
</tr>
<tr>
<td>211</td>
<td>CCXI</td>
<td>461</td>
<td>CDLXI</td>
<td>711</td>
<td>DCCXI</td>
<td>961</td>
<td>CMLXI</td>
</tr>
<tr>
<td>212</td>
<td>CCXII</td>
<td>462</td>
<td>CDLXII</td>
<td>712</td>
<td>DCCXII</td>
<td>962</td>
<td>CMLXII</td>
</tr>
<tr>
<td>213</td>
<td>CCXIII</td>
<td>463</td>
<td>CDLXIII</td>
<td>713</td>
<td>DCCXIII</td>
<td>963</td>
<td>CMLXIII</td>
</tr>
<tr>
<td>214</td>
<td>CCXIV</td>
<td>464</td>
<td>CDLXIV</td>
<td>714</td>
<td>DCCXIV</td>
<td>964</td>
<td>CMLXIV</td>
</tr>
<tr>
<td>215</td>
<td>CCXV</td>
<td>465</td>
<td>CDLXV</td>
<td>715</td>
<td>DCCXV</td>
<td>965</td>
<td>CMLXV</td>
</tr>
<tr>
<td>216</td>
<td>CCXVI</td>
<td>466</td>
<td>CDLXVI</td>
<td>716</td>
<td>DCCXVI</td>
<td>966</td>
<td>CMLXVI</td>
</tr>
<tr>
<td>217</td>
<td>CCXVII</td>
<td>467</td>
<td>CDLXVII</td>
<td>717</td>
<td>DCCXVII</td>
<td>967</td>
<td>CMLXVII</td>
</tr>
<tr>
<td>218</td>
<td>CCXVIII</td>
<td>468</td>
<td>CDLXVIII</td>
<td>718</td>
<td>DCCXVIII</td>
<td>968</td>
<td>CMLXVIII</td>
</tr>
<tr>
<td>219</td>
<td>CCXIX</td>
<td>469</td>
<td>CDLXIX</td>
<td>719</td>
<td>DCCXIX</td>
<td>969</td>
<td>CMLXIX</td>
</tr>
<tr>
<td>220</td>
<td>CCXX</td>
<td>470</td>
<td>CDLXX</td>
<td>720</td>
<td>DCCXX</td>
<td>970</td>
<td>CMLXX</td>
</tr>
<tr>
<td>221</td>
<td>CCXXI</td>
<td>471</td>
<td>CDLXXI</td>
<td>721</td>
<td>DCCXXI</td>
<td>971</td>
<td>CMLXXI</td>
</tr>
<tr>
<td>222</td>
<td>CCXXII</td>
<td>472</td>
<td>CDLXXII</td>
<td>722</td>
<td>DCCXXII</td>
<td>972</td>
<td>CMLXXII</td>
</tr>
<tr>
<td>223</td>
<td>CCXXIII</td>
<td>473</td>
<td>CDLXXIII</td>
<td>723</td>
<td>DCCXXIII</td>
<td>973</td>
<td>CMLXXIII</td>
</tr>
<tr>
<td>224</td>
<td>CCXXIV</td>
<td>474</td>
<td>CDLXXIV</td>
<td>724</td>
<td>DCCXXIV</td>
<td>974</td>
<td>CMLXXIV</td>
</tr>
<tr>
<td>225</td>
<td>CCXXV</td>
<td>475</td>
<td>CDLXXV</td>
<td>725</td>
<td>DCCXXV</td>
<td>975</td>
<td>CMLXXV</td>
</tr>
<tr>
<td>226</td>
<td>CCXXVI</td>
<td>476</td>
<td>CDLXXVI</td>
<td>726</td>
<td>DCCXXVI</td>
<td>976</td>
<td>CMLXXVI</td>
</tr>
<tr>
<td>227</td>
<td>CCXXVII</td>
<td>477</td>
<td>CDLXXVII</td>
<td>727</td>
<td>DCCXXVII</td>
<td>977</td>
<td>CMLXXVII</td>
</tr>
<tr>
<td>228</td>
<td>CCXXVIII</td>
<td>478</td>
<td>CDLXXVIII</td>
<td>728</td>
<td>DCCXXVIII</td>
<td>978</td>
<td>CMLXXVIII</td>
</tr>
<tr>
<td>229</td>
<td>CCXXIX</td>
<td>479</td>
<td>CDLXXIX</td>
<td>729</td>
<td>DCCXXIX</td>
<td>979</td>
<td>CMLXXIX</td>
</tr>
<tr>
<td>230</td>
<td>CCXXX</td>
<td>480</td>
<td>CDLXXX</td>
<td>730</td>
<td>DCCXXX</td>
<td>980</td>
<td>CMLXXX</td>
</tr>
<tr>
<td>231</td>
<td>CCXXXI</td>
<td>481</td>
<td>CDLXXXI</td>
<td>731</td>
<td>DCCXXXI</td>
<td>981</td>
<td>CMLXXXI</td>
</tr>
<tr>
<td>232</td>
<td>CCXXXII</td>
<td>482</td>
<td>CDDLXXXII</td>
<td>732</td>
<td>DCCXXXII</td>
<td>982</td>
<td>CMLXXXII</td>
</tr>
<tr>
<td>233</td>
<td>CCXXXIII</td>
<td>483</td>
<td>CDLXXXIII</td>
<td>733</td>
<td>DCCXXXIII</td>
<td>983</td>
<td>CMLXXXIII</td>
</tr>
<tr>
<td>234</td>
<td>CCXXXIV</td>
<td>484</td>
<td>CDLXXXIV</td>
<td>734</td>
<td>DCCXXXIV</td>
<td>984</td>
<td>CMLXXXIV</td>
</tr>
<tr>
<td>235</td>
<td>CCXXXV</td>
<td>485</td>
<td>CDLXXXV</td>
<td>735</td>
<td>DCCXXXV</td>
<td>985</td>
<td>CMLXXXV</td>
</tr>
<tr>
<td>236</td>
<td>CCXXXVI</td>
<td>486</td>
<td>CDLXXXVI</td>
<td>736</td>
<td>DCCXXXVI</td>
<td>986</td>
<td>CMLXXXVI</td>
</tr>
<tr>
<td>237</td>
<td>CCXXXVII</td>
<td>487</td>
<td>CDLXXXVII</td>
<td>737</td>
<td>DCCXXXVII</td>
<td>987</td>
<td>CMLXXXVII</td>
</tr>
<tr>
<td>238</td>
<td>CCXXXVIII</td>
<td>488</td>
<td>CDLXXXVIII</td>
<td>738</td>
<td>DCCXXXVIII</td>
<td>988</td>
<td>CMLXXXVIII</td>
</tr>
<tr>
<td>239</td>
<td>CCXXXIX</td>
<td>489</td>
<td>CDLXXXIX</td>
<td>739</td>
<td>DCCXXXIX</td>
<td>989</td>
<td>CMLXXXIX</td>
</tr>
<tr>
<td>240</td>
<td>CCXL</td>
<td>490</td>
<td>CDXC</td>
<td>740</td>
<td>DCCXL</td>
<td>990</td>
<td>CMXC</td>
</tr>
<tr>
<td>241</td>
<td>CCXLI</td>
<td>491</td>
<td>CDXCI</td>
<td>741</td>
<td>DCCXLI</td>
<td>991</td>
<td>CMXCI</td>
</tr>
<tr>
<td>242</td>
<td>CCXLII</td>
<td>492</td>
<td>CDXCII</td>
<td>742</td>
<td>DCCXLII</td>
<td>992</td>
<td>CMXCII</td>
</tr>
<tr>
<td>243</td>
<td>CCXLIII</td>
<td>493</td>
<td>CDXCIII</td>
<td>743</td>
<td>DCCXLIII</td>
<td>993</td>
<td>CMXCIII</td>
</tr>
<tr>
<td>244</td>
<td>CCXLIV</td>
<td>494</td>
<td>CDXCIV</td>
<td>744</td>
<td>DCCXLIV</td>
<td>994</td>
<td>CMXCIV</td>
</tr>
<tr>
<td>245</td>
<td>CCXLV</td>
<td>495</td>
<td>CDXCV</td>
<td>745</td>
<td>DCCXLV</td>
<td>995</td>
<td>CMXCV</td>
</tr>
<tr>
<td>246</td>
<td>CCXLVI</td>
<td>496</td>
<td>CDXCVI</td>
<td>746</td>
<td>DCCXLVI</td>
<td>996</td>
<td>CMXCVI</td>
</tr>
<tr>
<td>247</td>
<td>CCXLVII</td>
<td>497</td>
<td>CDXCVII</td>
<td>747</td>
<td>DCCXLVII</td>
<td>997</td>
<td>CMXCVII</td>
</tr>
<tr>
<td>248</td>
<td>CCXLVIII</td>
<td>498</td>
<td>CDXCVIII</td>
<td>748</td>
<td>DCCXLVIII</td>
<td>998</td>
<td>CMXCVIII</td>
</tr>
<tr>
<td>249</td>
<td>CCXLIX</td>
<td>499</td>
<td>CDXCIX</td>
<td>749</td>
<td>DCCXLIX</td>
<td>999</td>
<td>CMXCIX</td>
</tr>
<tr>
<td>250</td>
<td>CCL</td>
<td>500</td>
<td>D</td>
<td>750</td>
<td>DCCL</td>
<td>1000</td>
<td>M</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Math</category>
      </categories>
      <tags>
        <tag>Roman Numerals</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”Ÿäº§ç¯å¢ƒMySQLæ…¢æŸ¥è¯¢é—®é¢˜å®šä½</title>
    <url>/2022/07/31/how-identify-mysql-performance-issues-slow-queries/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ ¹æ®å®é™…é¡¹ç›®ç»éªŒï¼Œè¯¦ç»†æè¿° MySQL æ…¢æŸ¥è¯¢é—®é¢˜çš„å‘ç°åŠæ’æŸ¥è§£å†³è¿‡ç¨‹ã€‚åœ¨ä¸å½±å“è¯»è€…é˜…è¯»ç†è§£çš„å‰æä¸‹ï¼Œå¯¹éƒ¨åˆ†åŸå§‹æ•°æ®è¿›è¡Œè„±æ•å¤„ç†ã€‚</p>
<hr>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç”Ÿäº§ç¯å¢ƒ MySQL ç¡¬ä»¶é…ç½®ï¼š32C/64G/2T ESSD </p>
<p>MySQL ç‰ˆæœ¬ï¼š5.7.28</p>
<p>å­˜å‚¨æ•°æ®ä¸»è¦æ¥æºï¼šä¸»è¦æ˜¯ Flink å®æ—¶è®¡ç®—çš„æŒ‡æ ‡ï¼Œå°‘éƒ¨åˆ† Presto å‡†å®æ—¶è®¡ç®—çš„æŒ‡æ ‡ï¼ŒåŒæ—¶è¿˜æœ‰éƒ¨åˆ†ç¦»çº¿æ•°ä»“æ¨¡å‹ä¹Ÿä¼šæ¯å¤©åŒæ­¥ä¸€ä»½è‡³è¯¥ MySQLï¼Œç”¨äºåŠ é€Ÿå®¢æˆ·ç«¯æŸ¥è¯¢å’Œæå‡å¹¶å‘æŸ¥è¯¢èƒ½åŠ›ã€‚</p>
<h2 id="å‘ç°é—®é¢˜"><a href="#å‘ç°é—®é¢˜" class="headerlink" title="å‘ç°é—®é¢˜"></a>å‘ç°é—®é¢˜</h2><p>ä¹‹å‰æ”¶åˆ°è¿ç»´çš„åé¦ˆï¼Œç”Ÿäº§ç¯å¢ƒä¸Šç”¨äºå­˜æ”¾ Flink å®æ—¶è®¡ç®—æŒ‡æ ‡çš„ MySQL æœ‰å‘Šè­¦â€”â€”æ¯åˆ†é’Ÿæ…¢æŸ¥è¯¢æ•°è¶…è¿‡å‘Šè­¦é˜ˆå€¼ï¼Œéœ€åŠæ—¶è·Ÿè¿›ã€‚å½“æ—¶é€šè¿‡ MySQL ç›‘æ§é¢æ¿æŸ¥çœ‹åˆ°éƒ¨åˆ†å…³é”®æŒ‡æ ‡å¦‚ä¸‹ï¼š</p>
<p>æ…¢æŸ¥è¯¢æ•°</p>
<p><img src="/image/2022/20220731222821-01.png" alt="Untitled"></p>
<p>QPS</p>
<p><img src="/image/2022/20220731222821-02.png" alt="Untitled"></p>
<p><img src="/image/2022/20220731222821-03.png" alt="Untitled"></p>
<p>TPS</p>
<p><img src="/image/2022/20220731222821-04.png" alt="Untitled"></p>
<p>ç½‘ç»œæµé‡ï¼ˆæµå…¥ã€æµå‡ºï¼‰</p>
<p><img src="/image/2022/20220731222821-05.png" alt="Untitled"></p>
<p>è¡¨é”</p>
<p><img src="/image/2022/20220731222821-06.png" alt="Untitled"></p>
<p>æ…¢æ—¥å¿—æ˜ç»†éƒ¨åˆ† SQLï¼ˆå½“æ—¶åªæ‹‰å–ä¸€å°éƒ¨åˆ†çš„æ…¢ SQLï¼Œä»¥ä¸‹è¿™äº›è¯­å¥æ˜¯ Flink SQL å†™å…¥ MySQL çš„ï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># <span class="type">Time</span>: <span class="number">2022</span><span class="number">-07</span><span class="number">-28</span>T01:<span class="number">16</span>:<span class="number">52.760142</span>Z</span><br><span class="line"># <span class="keyword">User</span><span class="variable">@Host</span>: bigdata[bigdata] @  [<span class="number">10.10</span><span class="number">.18</span><span class="number">.251</span>]  Id: <span class="number">356218187</span></span><br><span class="line"># Query_time: <span class="number">16.126934</span>  Lock_time: <span class="number">0.000123</span> Rows_sent: <span class="number">0</span>  Rows_examined: <span class="number">0</span></span><br><span class="line">use db_name;</span><br><span class="line"><span class="keyword">SET</span> <span class="type">timestamp</span><span class="operator">=</span><span class="number">1658971012</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_1`(`col1`, `col2`, `col3`, `col4`, `col5`) <span class="keyword">VALUES</span> (xxx, <span class="string">&#x27;2022-07-28&#x27;</span>, <span class="string">&#x27;xxxxx&#x27;</span>, xx, xx) <span class="keyword">ON</span> DUPLICATE KEY <span class="keyword">UPDATE</span> `col1`<span class="operator">=</span><span class="keyword">VALUES</span>(`col1`), `col2`<span class="operator">=</span><span class="keyword">VALUES</span>(`col2`), `col3`<span class="operator">=</span><span class="keyword">VALUES</span>(`col3`), `col4`<span class="operator">=</span><span class="keyword">VALUES</span>(`col4`), `col5`<span class="operator">=</span><span class="keyword">VALUES</span>(`col5`);</span><br><span class="line"># <span class="type">Time</span>: <span class="number">2022</span><span class="number">-07</span><span class="number">-28</span>T01:<span class="number">16</span>:<span class="number">52.760581</span>Z</span><br><span class="line"># <span class="keyword">User</span><span class="variable">@Host</span>: bigdata[bigdata] @  [<span class="number">10.10</span><span class="number">.18</span><span class="number">.252</span>]  Id: <span class="number">375588733</span></span><br><span class="line"># Query_time: <span class="number">1.086578</span>  Lock_time: <span class="number">0.000123</span> Rows_sent: <span class="number">0</span>  Rows_examined: <span class="number">0</span></span><br><span class="line"><span class="keyword">SET</span> <span class="type">timestamp</span><span class="operator">=</span><span class="number">1658971012</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_2`(`col1`, `col2`, `col3`) <span class="keyword">VALUES</span> (<span class="string">&#x27;2022-07-28&#x27;</span>, <span class="string">&#x27;665902615870&#x27;</span>, <span class="string">&#x27;xxxx&#x27;</span>) <span class="keyword">ON</span> DUPLICATE KEY <span class="keyword">UPDATE</span> `col1`<span class="operator">=</span><span class="keyword">VALUES</span>(`col1`), `col2`<span class="operator">=</span><span class="keyword">VALUES</span>(`col2`), `col3`<span class="operator">=</span><span class="keyword">VALUES</span>(`col3`);</span><br><span class="line"># <span class="type">Time</span>: <span class="number">2022</span><span class="number">-07</span><span class="number">-28</span>T01:<span class="number">16</span>:<span class="number">52.761442</span>Z</span><br><span class="line"># <span class="keyword">User</span><span class="variable">@Host</span>: bigdata[bigdata] @  [<span class="number">10.10</span><span class="number">.18</span><span class="number">.249</span>]  Id: <span class="number">356218191</span></span><br><span class="line"># Query_time: <span class="number">16.525038</span>  Lock_time: <span class="number">0.000159</span> Rows_sent: <span class="number">0</span>  Rows_examined: <span class="number">0</span></span><br><span class="line"><span class="keyword">SET</span> <span class="type">timestamp</span><span class="operator">=</span><span class="number">1658971012</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `tb_1`(`col1`, `col2`, `col3`, `col4`, `col5`) <span class="keyword">VALUES</span> (xxx, <span class="string">&#x27;2022-07-28&#x27;</span>, <span class="string">&#x27;xxxxx&#x27;</span>, xx, xx) <span class="keyword">ON</span> DUPLICATE KEY <span class="keyword">UPDATE</span> `col1`<span class="operator">=</span><span class="keyword">VALUES</span>(`col1`), `col2`<span class="operator">=</span><span class="keyword">VALUES</span>(`col2`), `col3`<span class="operator">=</span><span class="keyword">VALUES</span>(`col3`), `col4`<span class="operator">=</span><span class="keyword">VALUES</span>(`col4`), `col5`<span class="operator">=</span><span class="keyword">VALUES</span>(`col5`);</span><br></pre></td></tr></table></figure>

<h2 id="æ’æŸ¥é—®é¢˜"><a href="#æ’æŸ¥é—®é¢˜" class="headerlink" title="æ’æŸ¥é—®é¢˜"></a>æ’æŸ¥é—®é¢˜</h2><p>ä» MySQL ç›‘æ§é¢æ¿çœ‹åˆ°ï¼Œæ…¢æŸ¥è¯¢çš„æƒ…å†µæ¯å¤©éƒ½åœ¨å‘ç”Ÿï¼Œè€Œä¸”å‘ˆç°ä¸€å®šçš„è§„å¾‹ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ˜¯æ¯å¤©å›ºå®šæ—¶æ®µï¼ˆå‡Œæ™¨ 4 ç‚¹åŠåˆ° 6 ç‚¹ä¹‹é—´ï¼Œä¸Šåˆ 9 ç‚¹ 15 åˆ° 20 åˆ†ä¹‹é—´ï¼‰ä¼šå‡ºç°ä¸€æ¬¡ï¼›</li>
<li>å¦ä¸€ä¸ªæ˜¯æœ‰å‘¨æœŸæ€§ï¼Œå¤§æ¦‚æ¯ 20 åˆ†é’Ÿã€æ¯ä¸€å°æ—¶éƒ½ä¼šå‡ºç°ä¸€æ¬¡ã€‚<ul>
<li>æ¯ 20 åˆ†é’Ÿå‡ºç°ä¸€æ¬¡çš„æƒ…å†µï¼šä»æ¯å°æ—¶ 06 åˆ†å¼€å§‹ï¼Œæ¯éš” 20 åˆ†é’Ÿè§¦å‘ä¸€æ¬¡ï¼Œå¦‚ 08:06ï¼Œ08:26ï¼Œ08:46ï¼Œ09:06 ç­‰ï¼›</li>
<li>æ¯ä¸€å°æ—¶å‡ºç°ä¸€æ¬¡çš„æƒ…å†µï¼šä»æ¯å°æ—¶ 15 åˆ†è§¦å‘ä¸€æ¬¡ï¼Œå¦‚ 08:15ï¼Œ09:15ï¼Œ10:15 ç­‰ã€‚</li>
</ul>
</li>
</ul>
<p>åˆæ­¥åˆ¤æ–­ï¼Œæ…¢æŸ¥è¯¢é—®é¢˜åº”è¯¥æ˜¯ç”±ç¦»çº¿æ•°ä»“æ¨¡å‹æ•°æ®åŒæ­¥è‡³ MySQL å’Œå‡†å®æ—¶ç³»ç»Ÿ Presto å®šæ—¶å†™æ•°æ®åˆ° MySQL å¼•èµ·çš„ã€‚å› ä¸ºæ¯å¤©å‡ºç°æ…¢æŸ¥è¯¢çš„å›ºå®šæ—¶æ®µä¸ç¦»çº¿æ•°ä»“è®¡ç®—çš„æ—¶æ®µä¸€è‡´ï¼Œè€Œä¸”ä¹Ÿåªæœ‰ Presto æ˜¯å®šæ—¶è§¦å‘è®¡ç®—å¹¶å†™æ•°æ®è‡³ MySQL çš„ã€‚</p>
<p>ä½†ä¸ºè¿›ä¸€æ­¥æ’é™¤æ˜¯å¦ç”± Flink SQL å®æ—¶å†™ MySQL å¯¼è‡´çš„ï¼Œè¿™é‡Œä¹Ÿå¯¹éƒ¨åˆ†æ…¢ SQL è¿›è¡ŒæŠ½æ ·éªŒè¯â€”â€”æ‰§è¡Œè¿™äº› SQL æ˜¯å¦çœŸçš„å¾ˆæ…¢ã€‚å¦‚å‰æ–‡è´´å‡ºçš„æ…¢ SQLï¼Œæ¶‰åŠåˆ°ä¸¤å¼ è¡¨ tb_1 ä¸ tb_2ï¼ŒæŸ¥äº†è¡¨è®°å½•æ•°ï¼Œtb_1 ä¸º 7 ä¸‡å¤šï¼Œtb_2 ä¸åˆ° 158 ä¸‡ã€‚æ•°æ®é‡éƒ½ä¸ç®—å¤§ï¼ŒæŒ‰ç†è¯´è¿™äº› <code>insert â€¦ on duplicate key update</code> ä¸åº”è¯¥ä¼šå‡ºç°æ…¢æŸ¥è¯¢æƒ…å†µã€‚ç„¶ååœ¨éä¸Šè¿°å‡ºç°æ…¢æŸ¥è¯¢æ—¶æ®µï¼Œæ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡è¯¥ SQL è¿›è¡ŒéªŒè¯ï¼Œå‘ç°æ‰§è¡Œå¾ˆå¿«å°±å®Œæˆï¼Œä¸å­˜åœ¨æ‰§è¡Œæ—¶é•¿åå‡ ç§’çš„æƒ…å†µã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœæ…¢æŸ¥è¯¢æ˜¯ç”± Flink å†™ MySQL å¯¼è‡´çš„ï¼Œé‚£ä¹ˆ MySQL çš„ç›‘æ§é¢æ¿çš„æ…¢æŸ¥è¯¢æ•°çš„è¶‹åŠ¿æƒ…å†µåº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€Œä¸ä¼šå‡ºç°æŸäº›æ—¶æ®µæ…¢æŸ¥è¯¢æ•°ä¸º 0 çš„æƒ…å†µã€‚å› ä¸º Flink å†™åˆ° MySQL çš„è¡¨ï¼Œéƒ½æ˜¯çƒ­ç‚¹è¡¨ï¼Œå…·æœ‰é«˜é¢‘çš„å†™æ“ä½œï¼Œé«˜å³°çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°ä¸€ç§’å†…éœ€è¦æ›´æ–°æŸä¸€å¼ è¡¨çš„æŸä¸€è¡ŒæŸä¸€åˆ—å¤šè¾¾ 100 å¤šæ¬¡ï¼Œæœ€ä½å³°çš„æ—¶å€™ä¹Ÿä¼šåœ¨åç§’å†…æ›´æ–°ä¸€æ¬¡ã€‚</p>
<p><img src="/image/2022/20220731222821-07.png" alt="Untitled"></p>
<h2 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h2><p>ç»è¿‡åˆæ­¥åˆ†æï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ’é™¤ Flink å®æ—¶å†™å…¥å¯¼è‡´æ…¢æŸ¥è¯¢ï¼Œæ¥ä¸‹æ¥å¼€å§‹é‡ç‚¹å…³æ³¨ç¦»çº¿æ•°ä»“éƒ¨åˆ†æ¨¡å‹åŒæ­¥å’Œ Presto å‡†å®æ—¶å†™å…¥çš„æƒ…å†µã€‚</p>
<h3 id="ä¸¤ç§å®šä½æ…¢SQLæ–¹å¼"><a href="#ä¸¤ç§å®šä½æ…¢SQLæ–¹å¼" class="headerlink" title="ä¸¤ç§å®šä½æ…¢SQLæ–¹å¼"></a>ä¸¤ç§å®šä½æ…¢SQLæ–¹å¼</h3><p>æœ€ç®€å•ç²—æš´çš„æ–¹å¼ï¼Œæ˜¯å®¡æŸ¥ï¼ˆReviewï¼‰ç¦»çº¿æ•°ä»“æ•°æ®æ¸…æ´—ä»£ç å’Œ Presto å‡†å®æ—¶è°ƒåº¦ä»£ç ï¼Œé€ä¸€æ’æŸ¥ä¸å½“å‰ MySQL å®ä¾‹æœ‰å…³çš„ä»£ç ï¼Œæ‰¾å‡ºæœ‰é—®é¢˜çš„ SQL å¹¶ä¿®å¤ã€‚è¿™ç§æ–¹å¼è™½ç„¶çœ‹èµ·æ¥ç›´æ¥ç®€å•ï¼Œä½†æ²¡æœ‰é’ˆå¯¹æ€§ï¼Œæ•ˆç‡å¹¶ä¸é«˜ï¼Œä¸€ä¸ªæ˜¯ä»£ç é‡è¾ƒå¤§ï¼ŒæŸ¥æ‰¾è¾ƒè´¹æ—¶ï¼Œå¦ä¸€ä¸ªæ˜¯å°±ç®—æ‰¾åˆ°ä¸å½“å‰ MySQL å®ä¾‹æœ‰å…³çš„ä»£ç ï¼Œè¿™ä¸ªä»£ç ä¹Ÿä¸ä¸€å®šæ˜¯æœ‰é—®é¢˜çš„ä»£ç ã€‚</p>
<p>å¦ä¸€ç§æ–¹å¼ï¼Œæ˜¯æ‹‰å– MySQL çš„ binlog æ—¥å¿—å’Œæ…¢æŸ¥è¯¢æ—¥å¿—è¿›è¡Œå®šä½ã€‚é’ˆå¯¹æ…¢æŸ¥è¯¢å‡ºç°æ—¶æ®µï¼Œå®šä½è¯¥æ—¶æ®µå‰ã€æ—¶æ®µä¸­ï¼ŒMySQL åœ¨åšä»€ä¹ˆæ“ä½œã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒæœ‰é’ˆå¯¹æ€§ï¼Œæ•ˆç‡ä¹Ÿä¼šé«˜ä¸€äº›ã€‚æœ¬æ¬¡å®šä½æ…¢ SQL å°±é‡‡ç”¨è¯¥æ–¹å¼ã€‚</p>
<p>é¦–å…ˆï¼Œä» MySQL å®ä¾‹æ‰€åœ¨æœåŠ¡å™¨ä¸‹è½½æ…¢æ—¥å¿—æ–‡ä»¶ï¼ˆmysql1-slow.logï¼‰å’Œæ…¢æŸ¥è¯¢å‡ºç°æ—¶æ®µçš„ binlog æ—¥å¿—æ–‡ä»¶ï¼ˆmysql-bin.012209ï¼‰ã€‚</p>
<p>å…¶æ¬¡ï¼Œåœ¨æœ¬åœ°ä½¿ç”¨ <code>mysqlbinlog</code> å‘½ä»¤è§£æ binlog æ—¥å¿—æ–‡ä»¶ï¼Œæ¯”å¦‚è§£ææ…¢ SQL å‡ºç°æ—¶æ®µçš„ binlog æ—¥å¿—ï¼ˆ2022-07-28 08:10 ~ 08:30ï¼‰è‡³æ–‡æœ¬æ–‡ä»¶ binlog.txt ä¸Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqlbinlog -v --base64-output=decode-rows  --start-datetime=<span class="string">&quot;2022-07-28T08:10:00&quot;</span> --stop-datetime=<span class="string">&quot;2022-07-28T08:30:00&quot;</span> mysql-bin.012209 &gt; binlog.txt</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ VS Code æ‰“å¼€ binlog.txt æ–‡ä»¶ï¼Œå³å¯æŸ¥çœ‹è¿™ä¸ªæ—¶æ®µ MySQL åšäº†å“ªäº›æ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ binlog æ—¥å¿—å¹¶ä¸è®°å½•æŸ¥è¯¢ï¼ˆselect è¯­å¥ï¼‰ç›¸å…³çš„æ“ä½œã€‚</p>
<p>å†æ¬¡ï¼Œä½¿ç”¨ VS Code æ‰“å¼€æ…¢æ—¥å¿—æ–‡ä»¶ï¼ˆmysql1-slow.logï¼‰ï¼Œç›´æ¥é€šè¿‡æœç´¢æ—¥æœŸçš„æ–¹å¼ï¼ˆå¦‚æœç´¢ 2022-07-28T00:10ï¼‰å®šä½åˆ°æ…¢ SQL å‡ºç°æ—¶æ®µéƒ½æœ‰å“ªäº›æ…¢ SQLã€‚å¦‚æœæ…¢æ—¥å¿—æ–‡ä»¶å¤ªå¤§çš„è¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>tail</code> å‘½ä»¤ï¼Œæ ¹æ®éœ€è¦è¾“å‡ºä¸€ä¸‡è¡Œï¼Œæˆ–åä¸‡è¡Œï¼Œæˆ–ä¸€ç™¾ä¸‡è¡Œï¼Œæˆ–ä¸¤ç™¾ä¸‡è¡Œè‡³å¦ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œå†æ‰“å¼€ã€‚å¦‚ä»æ…¢æ—¥å¿—æ–‡ä»¶è¾“å‡ºåä¸‡è¡Œè‡³ slow_072800.log æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">tail</span> -n 100000 mysql1-slow.log &gt; slow_072800.log</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œç»“åˆè¿™ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆä¼˜å…ˆæ˜¯ä½¿ç”¨æ…¢æ—¥å¿—æ–‡ä»¶ï¼‰ï¼Œæ‰¾å‡ºæ…¢ SQL è¯­å¥ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œ SQL ä¼˜åŒ–ç­‰ã€‚</p>
<h3 id="å®šä½æ…¢SQLç¤ºä¾‹-1"><a href="#å®šä½æ…¢SQLç¤ºä¾‹-1" class="headerlink" title="å®šä½æ…¢SQLç¤ºä¾‹ 1"></a>å®šä½æ…¢SQLç¤ºä¾‹ 1</h3><p>ä»¥æœ¬æ¬¡æ…¢æŸ¥è¯¢ä¸ºä¾‹ï¼Œæ³¨æ„åˆ° 08:00 ~ 08:10 è¿™ä¸ªæ—¶æ®µæœ‰å¤§é‡çš„æ…¢æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåœ¨æ…¢æ—¥å¿—æ–‡ä»¶ä¸­æŸ¥æ‰¾è¯¥æ—¶æ®µéƒ½æœ‰å“ªäº›æ…¢ SQLï¼Œä¸»è¦å…³æ³¨ä¸¤ä¸ªé‡è¦æŒ‡æ ‡ï¼š</p>
<ul>
<li><strong>Rows_sentï¼šæ…¢æŸ¥è¯¢è¿”å›è®°å½•ï¼›</strong></li>
<li><strong>Rows_examinedï¼šæ…¢æŸ¥è¯¢æ‰«æè¿‡çš„è¡Œæ•°ã€‚</strong></li>
</ul>
<p>åœ¨è¯¥æ—¶æ®µçš„æ…¢ SQL ä¸­ï¼Œæˆ‘ä»¬å‘ç°åœ¨ 2022-07-28T00:06:32ï¼ˆæ­¤ä¸ºUTCæ—¶é—´ï¼ŒåŒ—äº¬æ—¶é—´éœ€åŠ  8 å°æ—¶ï¼‰ï¼Œæœ‰ä¸€æ¡ SQL çš„ Rows_examined æŒ‡æ ‡å€¼ä¸º 6621900ï¼Œå³æ‰§è¡Œè¯¥ SQL éœ€è¦æ‰«æ 660 å¤šä¸‡è¡Œæ•°æ®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time: 2022-07-28T00:06:32.782972Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.246]  Id: 392436436</span></span><br><span class="line"><span class="comment"># Query_time: 6.668395  Lock_time: 0.000710 Rows_sent: 0  Rows_examined: 6621900</span></span><br><span class="line">SET timestamp=1658966792;</span><br><span class="line">insert into db.tb_3(col1,col2,...,col_n)</span><br><span class="line"><span class="keyword">select</span> a.col1,a.col2,h.xxx,h.xxx,<span class="built_in">sum</span>(xxx) as gmv,<span class="built_in">sum</span>(xxxx), ..., col3 as gmv_target_acc  from ......;</span><br></pre></td></tr></table></figure>

<p>è¯¥ IP åœ°å€ 10.10.18.246ï¼Œæ˜¯ Presto é›†ç¾¤å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹åœ°å€ï¼Œå¯ä»¥æ–­å®šè¿™é‡Œçš„æ…¢ SQL æ¥æºäºå‡†å®æ—¶è°ƒåº¦ã€‚æˆ‘ä»¬å†ä»¥è¯¥ SQL è¯­å¥å‰é¢éå‚æ•°éƒ¨åˆ†å†…å®¹ï¼ˆå¦‚ <code>insert into db.tb_3</code>ï¼‰è¿›è¡Œæœç´¢ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time: 2022-07-28T00:26:30.317576Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.246]  Id: 392439306</span></span><br><span class="line"><span class="comment"># Query_time: 6.652504  Lock_time: 0.000511 Rows_sent: 0  Rows_examined: 6622063</span></span><br><span class="line">SET timestamp=1658967990;</span><br><span class="line">insert into db.tb_3(col1,col2,...,col_n)</span><br><span class="line"><span class="keyword">select</span> a.col1,a.col2,h.xxx,h.xxx,<span class="built_in">sum</span>(xxx) as gmv,<span class="built_in">sum</span>(xxxx), ..., col3 as gmv_target_acc  from ......;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time: 2022-07-28T00:46:28.910383Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.246]  Id: 392442555</span></span><br><span class="line"><span class="comment"># Query_time: 6.624683  Lock_time: 0.000689 Rows_sent: 0  Rows_examined: 6622124</span></span><br><span class="line">SET timestamp=1658969188;</span><br><span class="line">insert into db.tb_3(col1,col2,...,col_n)</span><br><span class="line"><span class="keyword">select</span> a.col1,a.col2,h.xxx,h.xxx,<span class="built_in">sum</span>(xxx) as gmv,<span class="built_in">sum</span>(xxxx), ..., col3 as gmv_target_acc  from ......;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time: 2022-07-28T01:06:03.600122Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.246]  Id: 392445518</span></span><br><span class="line"><span class="comment"># Query_time: 6.610967  Lock_time: 0.000662 Rows_sent: 0  Rows_examined: 6622390</span></span><br><span class="line">SET timestamp=1658970363;</span><br><span class="line">insert into db.tb_3(col1,col2,...,col_n)</span><br><span class="line"><span class="keyword">select</span> a.col1,a.col2,h.xxx,h.xxx,<span class="built_in">sum</span>(xxx) as gmv,<span class="built_in">sum</span>(xxxx), ..., col3 as gmv_target_acc  from ......;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ <code>insert into â€¦ select</code> è¯­å¥æ¯ 20 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½æ‰«æ 600 å¤šä¸‡è¡Œæ•°æ®ï¼Œæ¯æ¬¡æ‰§è¡Œè¯¥ SQL éƒ½ä¼šé˜»å¡å…¶ä»– SQL æ­£å¸¸æ‰§è¡Œï¼Œå¯¼è‡´å¤§é‡çš„æ…¢æŸ¥è¯¢ã€‚</p>
<h3 id="å®šä½æ…¢SQLç¤ºä¾‹-2"><a href="#å®šä½æ…¢SQLç¤ºä¾‹-2" class="headerlink" title="å®šä½æ…¢SQLç¤ºä¾‹ 2"></a>å®šä½æ…¢SQLç¤ºä¾‹ 2</h3><p>æ¥ä¸‹æ¥æ’æŸ¥ 08:10 ~ 08:20 æ—¶æ®µçš„æ…¢æŸ¥è¯¢é—®é¢˜ã€‚è¯¥æ—¶æ®µå¯¹åº”çš„ç½‘ç»œæµé‡æŒ‡æ ‡é¢æ¿ï¼Œå¯ä»¥çœ‹åˆ°æµå‡ºçš„æµé‡æœ‰æ˜æ˜¾çš„ä¸Šå‡ï¼ŒæœåŠ¡å™¨è‹¥æ— å…¶ä»–ç‰¹æ®Šæ“ä½œï¼Œä¸€èˆ¬å¯ä»¥æ–­å®šæ­¤æ—¶æ®µæ˜¯ç”±äºè¿”å›å¤§é‡æ•°æ®å¯¼è‡´äº†æµå‡ºæµé‡ä¸Šå‡ã€‚è¿™æ—¶å°±æ²¡æœ‰å¿…è¦å» binlog æ—¥å¿—æ–‡ä»¶æŸ¥æ‰¾ 08:10 ~ 08:20 è¿™ä¸ªæ—¶æ®µçš„ MySQL æ“ä½œï¼Œè€Œæ˜¯è¦å»æ…¢æ—¥å¿—æ–‡ä»¶æŸ¥æ‰¾ 08:10 ~ 08:20 æ—¶æ®µçš„ select è¯­å¥ã€‚</p>
<p>é€šè¿‡æ…¢æ—¥å¿—ï¼Œæˆ‘ä»¬å‘ç°æ˜¯ä»¥ä¸‹è¿™æ®µæŸ¥è¯¢ SQL è¯­å¥å¯¼åˆ°äº†æ…¢æŸ¥è¯¢ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time: 2022-07-28T00:17:23.830780Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.205]  Id: 392438045</span></span><br><span class="line"><span class="comment"># Query_time: 71.781578  Lock_time: 0.000164 Rows_sent: 4012608  Rows_examined: 4012608</span></span><br><span class="line">SET timestamp=1658967443;</span><br><span class="line">SELECT `col1`, `col2`, `col3`, `col4`, `col5` FROM `db`.`tb_1213`;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œè¯¥ SQL è¯­å¥éœ€è¦æ‰«æè¡Œæ•° 400 å¤šä¸‡ï¼Œè¿”å›è®°å½•æ•° 400 å¤šä¸‡ã€‚ä¸€æ¬¡æŸ¥è¯¢å°±è¿”å› 400 å¤šä¸‡æ•°æ®ï¼Œè¿™æ˜¯éå¸¸ä¸åˆç†çš„ï¼Œä¹Ÿæ˜¯æµå‡ºæµé‡å¼‚å¸¸ä¸Šå‡çš„åŸå› ã€‚</p>
<p>æ¥ç€ï¼Œå†ä»¥è¯¥ SQL è¯­å¥å‰é¢éå‚æ•°éƒ¨åˆ†å†…å®¹è¿›è¡Œæœç´¢ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time: 2022-07-28T01:16:52.759317Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.9]  Id: 392447299</span></span><br><span class="line"><span class="comment"># Query_time: 20.966529  Lock_time: 0.000057 Rows_sent: 4012739  Rows_examined: 4012739</span></span><br><span class="line">SET timestamp=1658971012;</span><br><span class="line">SELECT `col1`, `col2`, `col3`, `col4`, `col5` FROM `db`.`tb_1213`;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time: 2022-07-28T02:19:00.598622Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.15]  Id: 392457198</span></span><br><span class="line"><span class="comment"># Query_time: 20.029628  Lock_time: 0.000049 Rows_sent: 4012988  Rows_examined: 4012988</span></span><br><span class="line">SET timestamp=1658974740;</span><br><span class="line">SELECT `col1`, `col2`, `col3`, `col4`, `col5` FROM `db`.`tb_1213`;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time: 2022-07-28T03:19:37.546786Z</span></span><br><span class="line"><span class="comment"># User@Host: bigdata[bigdata] @  [10.10.18.9]  Id: 392466949</span></span><br><span class="line"><span class="comment"># Query_time: 34.584755  Lock_time: 0.000090 Rows_sent: 4013249  Rows_examined: 4013249</span></span><br><span class="line">SET timestamp=1658978377;</span><br><span class="line">SELECT `col1`, `col2`, `col3`, `col4`, `col5` FROM `db`.`tb_1213`;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨æ¯å°æ—¶çš„ 10 ~ 20 åˆ†è¿™ä¸ªæ—¶æ®µçš„æ…¢æŸ¥è¯¢ï¼Œæ˜¯æ‰§è¡Œè¯¥ SQL å¯¼è‡´çš„ï¼Œè¿™æœŸé—´æœåŠ¡å™¨æµå‡ºæµé‡éƒ½ä¼šæ˜æ˜¾ä¸Šå‡ï¼Œè€Œä¸” QPS/TPS ä¹Ÿå‡ºç°æ˜æ˜¾çš„ä¸‹é™ã€‚</p>
<h3 id="å®šä½æ…¢SQLç¤ºä¾‹-3"><a href="#å®šä½æ…¢SQLç¤ºä¾‹-3" class="headerlink" title="å®šä½æ…¢SQLç¤ºä¾‹ 3"></a>å®šä½æ…¢SQLç¤ºä¾‹ 3</h3><p>å¦‚æœç»†å¿ƒæŸ¥çœ‹æœåŠ¡å™¨çš„æµé‡æŒ‡æ ‡ï¼Œä¼šå‘ç°åœ¨ 09:10 ~ 09:20 è¿™ä¸ªæ—¶æ®µï¼ŒæœåŠ¡å™¨çš„æµå…¥æµé‡æœ‰æ˜æ˜¾çš„ä¸Šå‡ï¼ˆç»¿è‰²çš„çº¿ï¼‰ã€‚å¦‚æœæ­¤æœŸé—´æ²¡æœ‰ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ç­‰ç‰¹æ®Šæ“ä½œçš„è¯ï¼Œè¯´æ˜æ­¤æ—¶æ®µæœ‰å¤§é‡çš„å†™æ“ä½œã€‚è€Œä¸”é€šè¿‡è¡¨é”æŒ‡æ ‡çœ‹æ¿ï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶å€™çš„è¡¨é”æ¬¡æ•°ä¹Ÿæ˜¯æ˜æ˜¾çš„ä¸Šå‡ã€‚åŸºæœ¬ä¸Šå¯ä»¥ä»è¿™ä¸¤ä¸ªæŒ‡æ ‡åˆ¤æ–­ï¼Œæ­¤æ—¶æ®µææœ‰å¯èƒ½åœ¨æ‰§è¡Œç±»ä¼¼ <code>insert into â€¦ select</code> çš„ SQL è¯­å¥ï¼Œæ’å…¥å¤§é‡æ•°æ®ï¼Œå¯¼è‡´è¯¥æ“ä½œä»è¡Œé”å‡çº§æˆäº†è¡¨é”ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶æŸ¥æ‰¾è¯¥æ—¶æ®µçš„æ…¢æŸ¥è¯¢ SQL æ—¶ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°è®°å½•ã€‚ä½†æŸ¥æ‰¾è¯¥æ—¶æ®µçš„ binlog æ—¥å¿—ï¼Œå‘ç°ä¸€ä¸ªæ‰¹é‡å†™å…¥ï¼šä»¥ BEGIN å¼€å¤´ï¼Œæ¥ç€æ˜¯ 100 æ¡ INSERT INTO è¯­å¥ï¼Œç„¶åæ‰ä»¥ COMMIT ç»“å°¾ã€‚è€Œä¸”åœ¨ 9 æ—¶ 17 åˆ† 23~24 è¿™ä¸¤ç§’å†…ï¼Œæ€»å…±è®°å½•äº† 985 ä¸ªæ‰¹æ¬¡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># at 934275431</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934275511 CRC32 0xca3d2f40 	Query	thread_id=392447433	exec_time=0	error_code=0</span></span><br><span class="line">SET TIMESTAMP=1658971043/*!*/;</span><br><span class="line">BEGIN</span><br><span class="line">/*!*/;</span><br><span class="line"><span class="comment"># at 934275511</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934275880 CRC32 0x6488b977 	Table_map: `db`.`xxxx_tmp` mapped to number 5186539</span></span><br><span class="line"><span class="comment"># at 934275880</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934283461 CRC32 0x1017377a 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934283461</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934291002 CRC32 0x47d0d2d8 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934291002</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934298475 CRC32 0x30e8b18c 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934298475</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934306225 CRC32 0xf2904319 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934306225</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934313839 CRC32 0x9f6c134b 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934313839</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934321038 CRC32 0x90fe2e6c 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934321038</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934328898 CRC32 0xc8edc33c 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934328898</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934337005 CRC32 0xe92df56b 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934337005</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934344475 CRC32 0x4bf97a67 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934344475</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934352308 CRC32 0x5c4719a9 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934352308</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934359765 CRC32 0x3e789e0e 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934359765</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934367519 CRC32 0xbee8cc37 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934367519</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934375162 CRC32 0x6b911b20 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934375162</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934382613 CRC32 0xfc1645f3 	Write_rows: table id 5186539</span></span><br><span class="line"><span class="comment"># at 934382613</span></span><br><span class="line"><span class="comment">#220728  9:17:23 server id 1  end_log_pos 934383790 CRC32 0x587f985a 	Write_rows: table id 5186539 flags: STMT_END_F</span></span><br><span class="line"><span class="comment">### INSERT INTO `db`.`xxxx_tmp`</span></span><br><span class="line"><span class="comment">### SET</span></span><br><span class="line"><span class="comment">###   @1=1227520</span></span><br><span class="line"><span class="comment">###   @2=&#x27;156xxxxxxxx&#x27;</span></span><br><span class="line"><span class="comment">###   @3=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @4=&#x27;http://xxxxxxx/132&#x27;</span></span><br><span class="line"><span class="comment">###   @5=&#x27;xxxæ–Œ&#x27;</span></span><br><span class="line"><span class="comment">###   @6=128245</span></span><br><span class="line"><span class="comment">###   @7=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @8=1</span></span><br><span class="line"><span class="comment">###   @9=&#x27;xxxx&#x27;</span></span><br><span class="line"><span class="comment">###   @10=0</span></span><br><span class="line"><span class="comment">###   @11=0</span></span><br><span class="line"><span class="comment">###   @12=0</span></span><br><span class="line"><span class="comment">###   @13=2</span></span><br><span class="line"><span class="comment">###   @14=0</span></span><br><span class="line"><span class="comment">###   @15=&#x27;156xxxxxxxx&#x27;</span></span><br><span class="line"><span class="comment">###   @16=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @17=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @18=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @19=1</span></span><br><span class="line"><span class="comment">###   @20=1</span></span><br><span class="line"><span class="comment">###   @21=9</span></span><br><span class="line"><span class="comment">###   @22=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @23=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @24=&#x27;&#x27;</span></span><br><span class="line"><span class="comment">###   @25=1</span></span><br><span class="line"><span class="comment">###   @26=&#x27;xxx&#x27;</span></span><br><span class="line"><span class="comment">###   @27=206485299</span></span><br><span class="line"><span class="comment">###   @28=206485297</span></span><br><span class="line"><span class="comment">###   @29=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @30=&#x27;***&#x27;</span></span><br><span class="line"><span class="comment">###   @31=&#x27;2017-08-10 16:53:16&#x27;</span></span><br><span class="line"><span class="comment">###   @32=0</span></span><br><span class="line"><span class="comment">###   @33=2</span></span><br><span class="line"><span class="comment">###   @34=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @35=NULL</span></span><br><span class="line"><span class="comment">###   @36=NULL</span></span><br><span class="line"><span class="comment">###   @37=0</span></span><br><span class="line"><span class="comment">###   @38=970</span></span><br><span class="line"><span class="comment">###   @39=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @40=NULL</span></span><br><span class="line"><span class="comment">###   @41=NULL</span></span><br><span class="line"><span class="comment">###   @42=61</span></span><br><span class="line"><span class="comment">###   @43=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @44=&#x27;123456X&#x27;</span></span><br><span class="line"><span class="comment">###   @45=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @46=*******</span></span><br><span class="line"><span class="comment">###   @47=&#x27;123456X&#x27;</span></span><br><span class="line"><span class="comment">###   @48=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @49=NULL</span></span><br><span class="line"><span class="comment">###   @50=NULL</span></span><br><span class="line"><span class="comment">###   @51=NULL</span></span><br><span class="line"><span class="comment">###   @52=NULL</span></span><br><span class="line"><span class="comment">###   @53=NULL</span></span><br><span class="line"><span class="comment">###   @54=227520</span></span><br><span class="line"><span class="comment">###   @55=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @56=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @57=97</span></span><br><span class="line"><span class="comment">###   @58=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @59=NULL</span></span><br><span class="line"><span class="comment">###   @60=NULL</span></span><br><span class="line"><span class="comment">###   @61=NULL</span></span><br><span class="line"><span class="comment">###   @62=NULL</span></span><br><span class="line"><span class="comment">###   @63=NULL</span></span><br><span class="line"><span class="comment">###   @64=NULL</span></span><br><span class="line"><span class="comment">###   @65=NULL</span></span><br><span class="line"><span class="comment">###   @66=NULL</span></span><br><span class="line"><span class="comment">###   @67=NULL</span></span><br><span class="line"><span class="comment">###   @68=NULL</span></span><br><span class="line"><span class="comment">###   @69=*******</span></span><br><span class="line"><span class="comment">###   @70=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @71=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @72=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @73=96</span></span><br><span class="line"><span class="comment">###   @74=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @75=97</span></span><br><span class="line"><span class="comment">###   @76=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @77=NULL</span></span><br><span class="line"><span class="comment">###   @78=NULL</span></span><br><span class="line"><span class="comment">###   @79=61</span></span><br><span class="line"><span class="comment">###   @80=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @81=97</span></span><br><span class="line"><span class="comment">###   @82=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @83=NULL</span></span><br><span class="line"><span class="comment">###   @84=NULL</span></span><br><span class="line"><span class="comment">###   @85=61</span></span><br><span class="line"><span class="comment">###   @86=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @87=&#x27;2022-06-17 02:11:07&#x27;</span></span><br><span class="line"><span class="comment">###   @88=&#x27;2022-07-27 18:40:14&#x27;</span></span><br><span class="line"><span class="comment">###   @89=NULL</span></span><br><span class="line"><span class="comment">###   @90=NULL</span></span><br><span class="line"><span class="comment">###   @91=&#x27;2022-07-13 00:17:12&#x27;</span></span><br><span class="line"><span class="comment">###   @92=&#x27;2022-07-27 18:41:30&#x27;</span></span><br><span class="line"><span class="comment">###   @93=&#x27;2018-09-20 02:13:12&#x27;</span></span><br><span class="line"><span class="comment">###   @94=&#x27;2022-07-27 15:35:08&#x27;</span></span><br><span class="line"><span class="comment">###   @95=&#x27;2018-09-20 02:13:12&#x27;</span></span><br><span class="line"><span class="comment">###   @96=&#x27;2022-07-26 01:13:35&#x27;</span></span><br><span class="line"><span class="comment">###   @97=&#x27;2018-09-30 09:03:03&#x27;</span></span><br><span class="line"><span class="comment">###   @98=&#x27;2022-07-27 13:37:14&#x27;</span></span><br><span class="line"><span class="comment">###   @99=&#x27;2018-09-30 19:40:30&#x27;</span></span><br><span class="line"><span class="comment">###   @100=&#x27;2019-04-20 21:31:47&#x27;</span></span><br><span class="line"><span class="comment">###   @101=&#x27;2018-05-02 18:08:04&#x27;</span></span><br><span class="line"><span class="comment">###   @102=NULL</span></span><br><span class="line"><span class="comment">###   @103=NULL</span></span><br><span class="line"><span class="comment">###   @104=&#x27;2018-05-02 18:08:04&#x27;</span></span><br><span class="line"><span class="comment">###   @105=440100</span></span><br><span class="line"><span class="comment">###   @106=&#x27;ä¸­å›½&#x27;</span></span><br><span class="line"><span class="comment">###   @107=&#x27;å¹¿ä¸œ&#x27;</span></span><br><span class="line"><span class="comment">###   @108=&#x27;å¹¿å·&#x27;</span></span><br><span class="line"><span class="comment">###   @109=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @110=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @111=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @112=&#x27;*******&#x27;</span></span><br><span class="line"><span class="comment">###   @113=*******</span></span><br><span class="line"><span class="comment">###   @114=*******</span></span><br><span class="line"><span class="comment">###   @115=*******</span></span><br><span class="line"><span class="comment">###   @116=*******</span></span><br><span class="line"><span class="comment">###   @117=&#x27;*******&#x27;</span></span><br><span class="line"></span><br><span class="line">...... ï¼ˆè¿™é‡Œçœç•¥å…¶ä»– 99 æ¡ INSERT INTO è¯­å¥ï¼‰</span><br><span class="line"><span class="comment"># at 1051816055</span></span><br><span class="line"><span class="comment">#220728  9:17:42 server id 1  end_log_pos 1051816136 CRC32 0xc2a23324 	Query	thread_id=392447433	exec_time=0	error_code=0</span></span><br><span class="line">SET TIMESTAMP=1658971062/*!*/;</span><br><span class="line">COMMIT</span><br><span class="line">/*!*/;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®æ­¤ SQL çš„è¡¨åï¼ˆ<code>db`.`xxxx_tmp</code>ï¼‰ï¼ŒæŸ¥äº†ç¦»çº¿æ•°ä»“å’Œå‡†å®æ—¶çš„ä»£ç ï¼Œå‘ç°åœ¨ç¦»çº¿æ•°ä»“ä¸­ï¼Œæœ‰ä¸€ä¸ª shell è„šæœ¬è°ƒç”¨ <code>sqoop</code> å‘½ä»¤å°†ä¸€ä¸ªç¦»çº¿æ¨¡å‹çš„æ•°æ®ï¼ˆè¯¥æ¨¡å‹è®°å½•æ•°ä¸º 98467ï¼‰å¯¼å‡ºåˆ° MySQLã€‚</p>
<p><code>sqoop</code> å‘½ä»¤æ˜¯ä»¥æ‰¹çš„æ–¹å¼å°† hive çš„æ•°æ®å¯¼å‡ºåˆ° MySQL çš„ï¼Œæ‰€ä»¥è¿™é‡Œåªçœ‹åˆ°æœåŠ¡å™¨çš„æµå…¥æµé‡æ˜æ˜¾ä¸Šå‡ï¼Œä½†å¹¶æ²¡æœ‰äº§ç”Ÿæ…¢ SQLã€‚æ­¤æ—¶æ®µçš„æ…¢æŸ¥è¯¢å…¶å®æ˜¯ç¤ºä¾‹ 2 çš„ SQL äº§ç”Ÿçš„ï¼Œåœ¨ <code>sqoop</code> æ‰§è¡Œæ‰¹é‡å†™å…¥çš„åŒæ—¶ï¼Œå‡†å®æ—¶ä¹Ÿæ°å¥½åœ¨è¯¥æ—¶æ®µæ‰§è¡Œæ…¢æŸ¥è¯¢çš„ select è¯­å¥ã€‚</p>
<h3 id="ä¼˜åŒ–å"><a href="#ä¼˜åŒ–å" class="headerlink" title="ä¼˜åŒ–å"></a>ä¼˜åŒ–å</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç»è¿‡ä¸Šè¿°æ–¹å¼ï¼Œæ‰¾å‡ºæ…¢ SQL å¹¶ä¼˜åŒ–åï¼Œåç»­æ²¡æœ‰å†å‡ºç°æ…¢æŸ¥è¯¢çš„æƒ…å†µã€‚</p>
<p><img src="/image/2022/20220731222821-08.png" alt="Untitled"></p>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡æ ¹æ®å®é™…é¡¹ç›®ç»éªŒï¼Œä¸»è¦è®°å½•äº†ç”Ÿäº§ç¯å¢ƒ MySQL æ…¢æŸ¥è¯¢çš„æ’æŸ¥è¿‡ç¨‹ã€‚å…³äºå¦‚ä½•ä¼˜åŒ–å·²å‘ç°çš„é—®é¢˜ SQLï¼Œæœ¬æ–‡æ²¡æœ‰æ¶‰åŠåˆ°ã€‚å¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µä¸€èˆ¬æ˜¯é€šè¿‡ <code>explain</code> å‘½ä»¤æ¥æŸ¥çœ‹ SQL æ‰§è¡Œè®¡åˆ’ï¼Œå¹¶ä»¥æ­¤è°ƒæ•´ SQL çš„å†™æ³•ã€‚</p>
<p>å¤šæ•°æ®æƒ…å†µä¸‹ï¼Œå®šä½æ…¢ SQL éƒ½æ˜¯é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—è¿›è¡Œå®šä½çš„ã€‚å€ŸåŠ©æœåŠ¡å™¨çš„éƒ¨åˆ†å…³é”®æŒ‡æ ‡ï¼Œå¯ä»¥æœ‰æ•ˆæé«˜æ’æŸ¥æ•ˆç‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬çŸ¥é“å¯¼è‡´æ…¢ SQL æœ€å¸¸è§çš„åŸå› æ˜¯å¤§äº‹åŠ¡ã€‚è€Œå¤§äº‹åŠ¡é€šå¸¸æ˜¯æ²¡æœ‰é™å®šå¥½ SQL æ‰«æè¡¨çš„è¡Œæ•°ï¼Œå¯¼è‡´æ¯æ¬¡æ‰§è¡Œï¼Œéƒ½è¦æ‰«æå‡ åä¸‡è¡Œï¼Œç”šè‡³å‡ ç™¾ä¸‡è¡Œæ•°æ®ã€‚å¦‚ SQL è¯­å¥æ˜¯å¾€ç›®æ ‡è¡¨å†™å…¥å‡ ç™¾ä¸‡è¡Œæ•°æ®ï¼Œæˆ–è€…æ˜¯ä»ç›®æ ‡è¡¨æŸ¥è¯¢è¿”å›å‡ åä¸‡è¡Œæ•°æ®ç­‰ã€‚æ‰§è¡Œè¿™æ ·çš„ SQL è¯­å¥ï¼Œæœ‰ä¸€ä¸ªç‰¹å¾æ˜¯ MySQL å®ä¾‹æ‰€åœ¨æœåŠ¡å™¨çš„ç½‘ç»œæµé‡ä¼šæœ‰æ˜æ˜¾çš„å˜åŒ–ï¼š</p>
<ul>
<li>å†™å…¥å¤§é‡æ•°æ®ï¼ŒæœåŠ¡å™¨çš„æµå…¥æµé‡ä¼šæ˜æ˜¾ä¸Šå‡ï¼›</li>
<li>æŸ¥è¯¢è¿”å›å¤§é‡æ•°æ®ï¼ŒæœåŠ¡å™¨çš„æµå‡ºæµé‡ä¹Ÿä¼šæœ‰æ˜æ˜¾çš„ä¸Šå‡ã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®è¯¥ç‰¹å¾æ¥åˆ¤æ–­æŸä¸ªæ—¶æ®µçš„æ…¢æŸ¥è¯¢æ˜¯ç”±äºå†™å…¥è¿˜æ˜¯æŸ¥è¯¢å¯¼è‡´çš„ã€‚å¹¶æ ¹æ®å‡ºç°æ…¢æŸ¥è¯¢çš„æ—¶æ®µï¼Œå¿«é€Ÿå®šä½æ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸­çš„æ…¢ SQLã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•çš„æ…¢ SQLï¼Œä¸ä¸€å®šéƒ½æ˜¯æœ‰é—®é¢˜çš„ SQLï¼Œå› ä¸ºæœ‰å¯èƒ½æ˜¯æŸæ¡æ­£åœ¨æ‰§è¡Œæ…¢ SQL è¯­å¥ï¼Œé˜»å¡äº†å…¶ä»– SQL è¯­å¥æ­£å¸¸æ‰§è¡Œã€‚è¿™ç§æƒ…å†µä¸€èˆ¬å¯ä»¥é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­çš„ Rows_sentï¼ˆæ…¢æŸ¥è¯¢è¿”å›è®°å½•ï¼‰å’Œ Rows_examinedï¼ˆæ…¢æŸ¥è¯¢æ‰«æè¿‡çš„è¡Œæ•°ï¼‰ä¸¤ä¸ªæŒ‡æ ‡å¿«é€Ÿæ’æŸ¥ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>ç¼–ç¨‹æ–‡æ‘˜</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>å¤‡å¿˜å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>Why Learning Data Structures and Algorithms is Crucial for Success in Tech</title>
    <url>/2024/06/01/why-learning-data-structures-and-algorithms-is-crucial-for-success-in-tech/</url>
    <content><![CDATA[<p>In the ever-evolving world of technology, understanding the fundamentals of data structures and algorithms is not just an option but a necessity. These concepts form the backbone of efficient problem-solving and lie at the heart of many computer science disciplines, from software development to data analytics. Hereâ€™s why every aspiring tech professional should prioritize learning data structures and algorithms.</p>
<ol>
<li><strong>Efficiency and Optimization</strong>:<br>Data structures and algorithms determine how efficiently we can process and manipulate data. The right choice of data structure can significantly reduce the time and space complexity of an operation, making programs run faster and use less memory. Similarly, efficient algorithms can minimize the number of steps required to solve a problem, enhancing overall performance.</li>
<li><strong>Scalability</strong>:<br>As software systems grow in size and complexity, scalability becomes a crucial concern. By mastering data structures and algorithms, developers can design systems that can handle increasing amounts of data and users without compromising performance. This is particularly important in the age of big data and cloud computing.</li>
<li><strong>Interview Preparation</strong>:<br>Technical interviews for software engineering and related roles often heavily emphasize data structures and algorithms. Employers use these questions to assess a candidateâ€™s problem-solving skills, ability to think critically, and understanding of fundamental computer science concepts. Mastering these topics can give you a significant edge during the hiring process.</li>
<li><strong>Foundation for Advanced Topics</strong>:<br>Data structures and algorithms serve as the foundation for many advanced topics in computer science, including databases, compilers, operating systems, and machine learning. Without a solid grasp of these basics, it can be challenging to dive deeper into these specialized areas.</li>
<li><strong>Improving Problem-Solving Skills</strong>:<br>Solving problems using data structures and algorithms forces you to think creatively and analytically. This process helps develop problem-solving skills that are transferable to various aspects of life, not just programming. It also fosters a mindset of optimization and efficiency, which is valuable in any field.</li>
<li><strong>Staying Relevant</strong>:<br>The tech industry is constantly evolving, but the principles of data structures and algorithms remain timeless. By investing in this knowledge, youâ€™re ensuring that your skills remain relevant and in demand, even as new technologies emerge.</li>
<li><strong>Community and Collaboration</strong>:<br>The world of data structures and algorithms is vast and ever-expanding. By engaging with the community through forums, online courses, and conferences, you can learn from othersâ€™ experiences, share your own insights, and collaborate on solving complex problems. This sense of community and shared knowledge is invaluable in the tech industry.</li>
</ol>
<p>In summary, learning data structures and algorithms is essential for any tech professional looking to stay ahead of the curve. They provide the foundation for efficient problem-solving, scalability, and mastery of advanced topics. Furthermore, they are crucial for interview preparation, improving problem-solving skills, and staying relevant in a rapidly changing industry. So, whether youâ€™re a seasoned developer or just starting your journey in tech, make sure to prioritize learning these fundamental concepts.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Data Structures and Algorithms</tag>
      </tags>
  </entry>
  <entry>
    <title>Checking Filebeat Version</title>
    <url>/2024/06/04/checking-filebeat-version/</url>
    <content><![CDATA[<p>To ensure your Filebeat installation is up-to-date and functioning correctly, verifying the version is essential. Hereâ€™s a straightforward method to check the Filebeat version on your system:</p>
<ol>
<li><strong>Command Line Check:</strong></li>
</ol>
<p>Open your terminal or command prompt and execute the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">filebeat version</span><br></pre></td></tr></table></figure>
<p>This command will display the installed Filebeat version along with the build number and other relevant information.</p>
<ol start="2">
<li><strong>Output Interpretation:</strong></li>
</ol>
<p>After running the command, you should see output similar to the following:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">filebeat version 8.7.0 (amd64), libbeat 8.7.0 [a8dbc6c06381f4fe33a5dc23906d63c04c9e2444 built 2023-03-23 00:44:06 +0000 UTC]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>filebeat version 8.7.0</strong>: Indicates the Filebeat version currently installed.</li>
<li><strong>libbeat 8.7.0</strong>: Shows the version of the Beats library used by Filebeat.</li>
</ul>
<ol start="3">
<li><strong>Updating Filebeat:</strong></li>
</ol>
<p>If you find that your Filebeat version is outdated, consider updating to the latest stable release. Always check the <a href="https://www.elastic.co/downloads/beats/filebeat">official Elastic website</a> for the most recent version and update instructions.</p>
<p>By following these steps, you can easily verify the Filebeat version installed on your system and ensure compatibility with your Elasticsearch or Logstash setup. For further assistance or troubleshooting, refer to the <a href="https://www.elastic.co/guide/en/beats/filebeat/current/index.html">Filebeat documentation</a>.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Filebeat</tag>
      </tags>
  </entry>
  <entry>
    <title>Finding the Hostname in Linux: A Guide to Common Methods</title>
    <url>/2024/06/05/finding-the-hostname-in-linux-a-guide-to-common-methods/</url>
    <content><![CDATA[<p>Finding the hostname in Linux can be done in a few different ways, depending on your specific needs and the Linux distribution youâ€™re using. Here are a few common methods:</p>
<h3 id="1-Using-the-hostname-Command"><a href="#1-Using-the-hostname-Command" class="headerlink" title="1. Using the hostname Command"></a>1. Using the <code>hostname</code> Command</h3><p>The simplest way to find the hostname of your Linux system is to use the <code>hostname</code> command in your terminal. Simply open a terminal window and type:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostname</span><br></pre></td></tr></table></figure>
<p>This command will display the hostname of your system.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hostname</span><br><span class="line">presto-node-10</span><br></pre></td></tr></table></figure>
<h3 id="2-Using-the-uname-Command"><a href="#2-Using-the-uname-Command" class="headerlink" title="2. Using the uname Command"></a>2. Using the <code>uname</code> Command</h3><p>While the <code>uname</code> command is primarily used to print system information, it can also be combined with other commands to display the hostname. However, note that <code>uname</code> by itself doesnâ€™t directly give the hostname, but it can be used in conjunction with other commands to achieve similar results.<br>A more direct way to get the hostname is still to use the <code>hostname</code> command, but for completeness, hereâ€™s an example of how <code>uname</code> can be used with other commands to get system information that might indirectly help you find the hostname (though not directly):</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uname</span> -n</span><br></pre></td></tr></table></figure>
<p>However, itâ€™s worth noting that <code>uname -n</code> is essentially the same as <code>hostname</code> and will display the hostname of your system.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">uname</span> -n</span><br><span class="line">presto-node-10</span><br></pre></td></tr></table></figure>
<h3 id="3-Viewing-etc-hostname"><a href="#3-Viewing-etc-hostname" class="headerlink" title="3. Viewing /etc/hostname"></a>3. Viewing <code>/etc/hostname</code></h3><p>On many Linux distributions, the hostname is stored in the <code>/etc/hostname</code> file. You can view the contents of this file to find the hostname of your system. Open a terminal and type:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/hostname</span><br></pre></td></tr></table></figure>
<p>This command will display the contents of the <code>/etc/hostname</code> file, which should contain your systemâ€™s hostname.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /etc/hostname</span><br><span class="line">presto-node-10</span><br></pre></td></tr></table></figure>
<h3 id="4-Using-the-hostnamectl-Command-Systemd"><a href="#4-Using-the-hostnamectl-Command-Systemd" class="headerlink" title="4. Using the hostnamectl Command (Systemd)"></a>4. Using the <code>hostnamectl</code> Command (Systemd)</h3><p>If your system uses systemd (which is the case for many modern Linux distributions), you can use the <code>hostnamectl</code> command to view and manage your systemâ€™s hostname. This command provides more information than just the hostname, including the static hostname, transient hostname, icon name, chassis type, and more.<br>To view the hostname using <code>hostnamectl</code>, open a terminal and type:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostnamectl</span><br></pre></td></tr></table></figure>
<p>Scroll through the output to find the â€œStatic hostnameâ€ line, which will display your systemâ€™s hostname.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hostnamectl</span><br><span class="line"> Static hostname: presto-node-10</span><br><span class="line">       Icon name: computer-vm</span><br><span class="line">         Chassis: vm</span><br><span class="line">      Machine ID: cee0aoh4af3oh5u6om8reichailae3oh</span><br><span class="line">         Boot ID: ihahzoh8Peshieeuiedufier2dah2ahr</span><br><span class="line">  Virtualization: kvm</span><br><span class="line">Operating System: CentOS Linux 7 (Core)</span><br><span class="line">     CPE OS Name: cpe:/o:centos:centos:7</span><br><span class="line">          Kernel: Linux 3.10.0-1160.88.1.el7.x86_64</span><br><span class="line">    Architecture: x86-64</span><br></pre></td></tr></table></figure>
<h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Finding the hostname in Linux is a straightforward process that can be accomplished using a variety of commands. The <code>hostname</code> command is the most direct and widely used method, but <code>/etc/hostname</code> and <code>hostnamectl</code> are also useful options, depending on your specific needs and the Linux distribution youâ€™re using.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>How to learn Redis effectively?</title>
    <url>/2024/07/25/how-to-learn-redis-effectively/</url>
    <content><![CDATA[<p>Redis, an open-source, high-performance in-memory data structure store, is renowned for its speed, versatility, and simplicity. It has gained immense popularity and is widely utilized for caching, distributed locks, session management, real-time analytics, and more. Whether youâ€™re a developer looking to expand your skills or an IT professional aiming to optimize data handling, mastering Redis can significantly enhance your proficiency. Hereâ€™s a comprehensive guide on how to learn Redis effectively: <em>grasp the fundamentals, hands-on practice, explore advanced features, use case scenarios, build projects and stay updated.</em></p>
<h2 id="You-Need-To-Know"><a href="#You-Need-To-Know" class="headerlink" title="You Need To Know"></a>You Need To Know</h2><p>Redis should not be seen as a database(such as MySQL, MongoDB, Oracle, PostgreSQL, SQL Server, DB2, etc) replacement. A typical use case involves leveraging it as a data cache. By loading frequently accessed datasets into Redis, you can reduce the number of reads to your primary database, thereby enhancing application performance. This performance enhancement becomes notably apparent under significant loadsâ€”rather than in applications with just a hundred users. To observe the impact, simulate high request volumes (e.g., 3,000+ per second) using tools like JMeter or Gatling.</p>
<h2 id="Grasp-the-Fundamentals"><a href="#Grasp-the-Fundamentals" class="headerlink" title="Grasp the Fundamentals"></a>Grasp the Fundamentals</h2><p>Start with the fundamentals. Redis operates as an in-memory data store, meaning it stores data in RAM for lightning-fast access. It supports various data structures such as strings, lists, sets, sorted sets, hashes, and more. Each data structure has specific commands and functionalities tailored to different use cases such as caching, real-time analytics, and session management. Familiarize yourself with these data structures and their operations, as they form the core of Redis functionality. </p>
<h2 id="Hands-On-Practice"><a href="#Hands-On-Practice" class="headerlink" title="Hands-On Practice"></a>Hands-On Practice</h2><p>Theory is crucial, but hands-on practice is indispensable. Set up a Redis instance on your local machine or use a cloud-based Redis service to gain hands-on experience. Experiment with commands interactively using the Redis CLI (<code>redis-cli</code>) or explore Redis through a programming language client such as Pythonâ€™s <code>redis-py</code>. Create and manipulate data structures, set and retrieve values, and observe how Redis handles various operations in real-time. Experiment with different data structures to understand their strengths and limitations.</p>
<h2 id="Explore-Advanced-Features"><a href="#Explore-Advanced-Features" class="headerlink" title="Explore Advanced Features"></a>Explore Advanced Features</h2><p>Once youâ€™re comfortable with the basics, delve into Redisâ€™s advanced features. These may include:</p>
<ul>
<li><strong>Pub/Sub Messaging:</strong> Redis supports Publish/Subscribe messaging, allowing different parts of your application to communicate asynchronously.</li>
<li><strong>Transactions:</strong> Learn how to group commands into atomic transactions in Redis to ensure data integrity and consistency.</li>
<li><strong>Persistence Options:</strong> Understand Redis persistence mechanisms such as snapshotting and append-only files (AOF) to ensure data durability.</li>
<li><strong>Lua Scripting:</strong> Redis allows you to execute Lua scripts atomically on the server, enabling complex operations that cannot be achieved with standard commands alone.</li>
</ul>
<h2 id="Use-Case-Scenarios"><a href="#Use-Case-Scenarios" class="headerlink" title="Use Case Scenarios"></a>Use Case Scenarios</h2><p>Redis is versatile and finds application in various domains such as e-commerce, gaming, and real-time analytics. Explore different use cases to understand how Redis can solve specific problems efficiently. Implementing Redis in practical scenarios reinforces your learning and demonstrates its capabilities first-hand. </p>
<p>To deepen your understanding, explore common use cases where Redis excels:</p>
<ul>
<li><strong>Caching:</strong> Implement caching strategies using Redis to speed up data retrieval and improve application performance.</li>
<li><strong>Real-time Analytics:</strong> Utilize Redisâ€™s data structures like sorted sets for real-time leaderboard updates or counting unique items.</li>
<li><strong>Session Management:</strong> Store and manage user sessions securely and efficiently using Redis.</li>
<li><strong>Queues:</strong> Implement task queues using Redis lists to facilitate background job processing.</li>
</ul>
<h2 id="Build-Projects"><a href="#Build-Projects" class="headerlink" title="Build Projects"></a>Build Projects</h2><p>Apply your knowledge by building projects that leverage Redis. Whether itâ€™s a simple caching layer for a web application or a complex real-time analytics system, hands-on projects will solidify your understanding and showcase your skills.</p>
<h2 id="Stay-Updated"><a href="#Stay-Updated" class="headerlink" title="Stay Updated"></a>Stay Updated</h2><p>Redis continuously evolves with each new release, introducing enhancements and new features. Stay updated on the latest developments and best practices by following Redis blogs, attending webinars, and participating in online conferences. Continuous learning ensures proficiency and adaptability in leveraging Redis effectively. </p>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><p><strong>Read the Documentation:</strong></p>
<p>Redisâ€™s official documentation is comprehensive and regularly updated. Dive deep into the official Redis documentation to explore commands, advanced features, configuration options, and best practices. The documentation provides clear examples and explanations that can enhance your understanding significantly. Additionally, there are numerous online resources, tutorials, and blogs dedicated to Redis that can provide insights, tips, and real-world examples.</p>
<p><strong>Join the Community:</strong></p>
<p>Join the Redis community to expand your knowledge and stay updated with the latest trends. Engage with the Redis community through forums, discussion groups, and social media channels. Participate in discussions, ask questions, and share your knowledge. Communities like Redisâ€™ official mailing list or forums like Stack Overflow can provide valuable support and guidance.</p>
<p><strong>Read Books and Articles:</strong></p>
<p>Supplement your learning with books and articles written by Redis experts. These resources provide in-depth insights, advanced tips, and real-world case studies that can deepen your understanding. Stay updated with industry trends and emerging practices through reputable publications.</p>
<p><strong>Enroll in Online Courses:</strong></p>
<p>Structured learning through online courses can accelerate your Redis proficiency. Platforms like Coursera, Udemy, and Pluralsight offer courses tailored for beginners to advanced users. These courses cover topics ranging from basic operations to advanced clustering and optimization techniques.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Learning Redis effectively involves a combination of understanding its core concepts, hands-on practice, exploration of advanced features, and practical application in projects. By following these strategies and maintaining a curious and explorative mindset, youâ€™ll build a strong foundation in Redis and harness its power to enhance your applications effectively. </p>
<p>Whether you are a developer, IT professional, or data enthusiast, learning Redis will undoubtedly enhance your skill set and empower you to tackle complex data challenges with confidence. </p>
<p>Happy Redis learning!</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Using the PFADD Command in Redis</title>
    <url>/2024/06/02/using-the-pfadd-command-in-redis/</url>
    <content><![CDATA[<p>Redis, an open-source, in-memory data structure store, offers a wide range of commands to manipulate data structures like <em>strings</em>, <em>lists</em>, <em>sets</em>, <em>hashes</em>, <em>bitmaps</em>, <em>hyperloglogs</em>, and more. Among these, the HyperLogLog data type is particularly useful for approximating the number of unique elements in a set when the set is too large to fit into memory or when you donâ€™t need absolute accuracy. The <code>PFADD</code> command is one of the key operations for working with HyperLogLog in Redis. This guide will show you how to use the <code>PFADD</code> command effectively.</p>
<h2 id="Understanding-HyperLogLogs-HLL"><a href="#Understanding-HyperLogLogs-HLL" class="headerlink" title="Understanding HyperLogLogs (HLL)"></a><strong>Understanding HyperLogLogs (HLL)</strong></h2><p>HyperLogLogs provide an efficient way to estimate the cardinality (number of unique elements) of a set using minimal memory, regardless of the size of the input set. This makes them extremely useful for applications that require counting unique elements in large datasets. </p>
<h2 id="Syntax-of-PFADD-Command"><a href="#Syntax-of-PFADD-Command" class="headerlink" title="Syntax of PFADD Command"></a><strong>Syntax of PFADD Command</strong></h2><p><code>PFADD</code> is a Redis command used to add one or more elements to a HyperLogLog. If the HyperLogLog does not exist, it is created automatically. This command is ideal for scenarios where you need to count unique items in a very large set with high accuracy and low memory overhead.<br>To use <code>PFADD</code>, follow this syntax: </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFADD key element [element ...]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>key</strong>: The name of the HyperLogLog key. </li>
<li><strong>element</strong>: The element(s) to add to the HyperLogLog. You can add multiple elements in a single <code>PFADD</code> command.<h2 id="Example-Usage"><a href="#Example-Usage" class="headerlink" title="Example Usage"></a><strong>Example Usage</strong></h2>Suppose we are running an e-commerce website and aim to estimate daily unique visitors. Leveraging a Redis instance, we can use a HyperLogLog (HLL) data structure for this task. Using <code>PFADD</code>, we add each unique visitorâ€™s ID to the HLL.</li>
</ul>
<ol>
<li><p>Adding Elements to a HyperLogLog: </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt; PFADD unique_visitors_today alice bob carol bob</span><br></pre></td></tr></table></figure>
<p>This command adds  users â€˜aliceâ€™, â€˜bobâ€™, â€˜carolâ€™, and â€˜bobâ€™ to the â€˜unique_visitors_todayâ€™ HyperLogLog. If â€˜unique_visitors_todayâ€™ didnâ€™t exist before, it will be created automatically.</p>
</li>
<li><p>Estimating the Number of Unique Elements: </p>
</li>
</ol>
<p>After adding elements to the HyperLogLog, we can use the <code>PFCOUNT</code> command to estimate the number of unique elements in the set.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFCOUNT unique_visitors_today</span><br></pre></td></tr></table></figure>
<p>This command will return 3, an estimate of the number of unique visitors based on the elements added to the â€˜unique_visitors_todayâ€™ HyperLogLog.</p>
<h2 id="Notes-and-Best-Practices"><a href="#Notes-and-Best-Practices" class="headerlink" title="Notes and Best Practices"></a><strong>Notes and Best Practices</strong></h2><ul>
<li><p><strong>Memory Efficiency</strong>: HyperLogLogs are designed to provide an estimate of the number of unique elements with a very small memory footprint, making them ideal for large datasets.</p>
</li>
<li><p><strong>Accuracy</strong>: While HyperLogLogs provide an estimate rather than an exact count, they offer a high degree of accuracy with a low standard error. (due to their probabilistic nature)</p>
</li>
<li><p><strong>Atomicity</strong>: The <code>PFADD</code> command is atomic, meaning that it adds elements to the HyperLogLog in an all-or-nothing fashion.</p>
<h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a><strong>Applications</strong></h2><p>HyperLogLogs are particularly useful for applications that need to count unique items in large datasets.<br>For example: </p>
</li>
<li><p><strong>Counting Unique Visitors</strong>: Use HyperLogLogs to estimate the number of unique users accessing a website.</p>
</li>
<li><p><strong>Data Analytics</strong>: Calculate unique items in datasets for analytics purposes efficiently.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a><strong>Conclusion</strong></h2><p>The <code>PFADD</code> command in Redis is essential for leveraging HyperLogLogs to efficiently estimate unique items in datasets. By understanding its usage and applications, you can effectively integrate it into your Redis-based applications for scalable and efficient data handling.<br>For more details on how to use <code>PFADD</code> and other Redis commands effectively, check out the Redis documentation or tutorials on Redis data structures.</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>How to count lines of code in IntelliJ IDEA?</title>
    <url>/2024/07/23/how-to-count-lines-of-code-in-intellij-idea/</url>
    <content><![CDATA[<p>There are several ways we can count lines of code in IntelliJ IDEA. One of the most common methods is to use the Statistic plugin.<br>In this article, I will show you how to count lines of code using the Statistic plugin.<br>First, we need to install it from Intellij IDEA: </p>
<ol>
<li>Open IntelliJ IDEA editor; </li>
<li>Select File &gt; Settings, Open Settings Popup Window; </li>
<li>Select Plugins, then type â€œStatisticâ€ to search plugins; </li>
<li>Click on the Statistic install button; </li>
<li>Click on the Apply button and close the Settings Popup Window; </li>
<li>You will see the Statistic toolbar via tabs in bottom left of project. </li>
</ol>
<p><img src="/image/2024/07/2024072301.png" alt="image.png"></p>
<p><img src="/image/2024/07/2024072302.png" alt="image.png"></p>
<p><img src="/image/2024/07/2024072303.png" alt="image.png"></p>
<p>Once the installation is complete, you can see the Refresh option. Click on this option and it will reload and refresh all the files in the project and calculate the statistics. As shown below, you can see the number of lines of code for each language in the current project and the total number of lines is on the last line.</p>
<p><img src="/image/2024/07/2024072304.png" alt="image.png"></p>
<p>For more information of Statistic plugin, please refer to the following site (<a href="https://plugins.jetbrains.com/plugin/4509-statistic">https://plugins.jetbrains.com/plugin/4509-statistic</a>)</p>
<p>(END)</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>IntelliJ IDEA</tag>
      </tags>
  </entry>
  <entry>
    <title>How to View MySQL Version: A Quick Guide</title>
    <url>/2024/07/31/how-to-view-mysql-version-a-quick-guide/</url>
    <content><![CDATA[<p>As a web developer or database administrator, knowing the version of MySQL youâ€™re working with is crucial for ensuring compatibility with your applications, understanding the features available, and planning for upgrades. In this quick guide, Iâ€™ll show you how to view the MySQL version using several different methods.</p>
<h2 id="1-Using-the-MySQL-Command-Line"><a href="#1-Using-the-MySQL-Command-Line" class="headerlink" title="1. Using the MySQL Command Line"></a>1. Using the MySQL Command Line</h2><p>If you have access to the MySQL command line, the easiest way to check the version is by logging in and running a simple command. Hereâ€™s how:</p>
<ol>
<li>Open your terminal or command prompt.</li>
<li>Log in to MySQL by typing <code>mysql -u username -p</code> and entering your password when prompted. Replace <code>username</code> with your actual MySQL username.</li>
<li>Once youâ€™re logged in, type <code>SELECT VERSION();</code> or <code>SELECT @@VERSION;</code> and press Enter.</li>
</ol>
<p>MySQL will display the version number, something like this:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+-----------+  </span><br><span class="line">| VERSION() |  </span><br><span class="line">+-----------+  </span><br><span class="line">| 8.0.27    |  </span><br><span class="line">+-----------+</span><br></pre></td></tr></table></figure>
<h2 id="2-Using-the-MySQL-Client-Command"><a href="#2-Using-the-MySQL-Client-Command" class="headerlink" title="2. Using the MySQL Client Command"></a>2. Using the MySQL Client Command</h2><p>Another quick way to check the MySQL version from the command line is to use the <code>--version</code> option with the <code>mysql</code> command without logging in. Hereâ€™s how:</p>
<ol>
<li>Open your terminal or command prompt.</li>
<li>Type <code>mysql --version</code> and press Enter.</li>
</ol>
<p>MySQL will display the version number along with some additional information, such as the build number and the distribution. Something like this: </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql  Ver 14.14 Distrib 5.7.37, for Linux (x86_64) using  EditLine wrapper</span><br></pre></td></tr></table></figure>
<h2 id="3-Checking-the-Version-in-Your-Database-Tools"><a href="#3-Checking-the-Version-in-Your-Database-Tools" class="headerlink" title="3. Checking the Version in Your Database Tools"></a>3. Checking the Version in Your Database Tools</h2><p>If youâ€™re using database tools(e.g., PHPMyAdmin, DBeaver) to manage your MySQL databases, you can easily check the version by looking at the main page after logging in.<br>For example, if you have phpMyAdmin installed and prefer a graphical interface: </p>
<ul>
<li>Open phpMyAdmin in your web browser.</li>
<li>Select the database server you want to check (if you have multiple servers).</li>
<li>Look for the MySQL version information typically displayed near the bottom of the page, in the â€œServerâ€ section.</li>
</ul>
<p>It should show you the MySQL server version prominently.<br>When using DBeaver, hovering over a connected database connection will display a floating window showcasing the database instanceâ€™s version alongside its name, URL, and the connected userâ€™s username.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Checking the MySQL version is a straightforward process that can be done in several different ways. From the MySQL command line to popular database tools like PHPMyAdmin and DBeaver, thereâ€™s always a suitable method at hand. Knowing the version of MySQL youâ€™re working with is an important step in ensuring the smooth operation of your database and applications.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>å°è®°ï¼š2021å¹´8æœˆ</title>
    <url>/2021/08/05/note-202108/</url>
    <content><![CDATA[<h2 id="2021å¹´8æœˆ2æ—¥"><a href="#2021å¹´8æœˆ2æ—¥" class="headerlink" title="2021å¹´8æœˆ2æ—¥"></a>2021å¹´8æœˆ2æ—¥</h2><p><strong>1 æ¢¦</strong></p>
<p>æ˜¨æ™šæ¢¦åˆ°çš®è›‹ï¼Œå¯æŠŠæˆ‘æ°”é†’äº†ã€‚æ¢¦é‡Œå¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š</p>
<p>çš®è›‹ç”Ÿäº†ä¸ƒåªå°çŒ«å’ªï¼Œæœ‰é»‘è‰²çš„ï¼Œæœ‰ç™½è‰²çš„ï¼Œæœ‰æ©˜é»„è‰²çš„è¿˜æœ‰æ··è‰²çš„ã€‚ä½†æˆ‘å‘ç°çš„æ—¶å€™ï¼Œå…¶ä¸­çš„ä¸‰åªè¢«ä»–åƒäº†ï¼Œå¦å¤–å››åªè¢«ç»³å­ç»‘åœ¨ä¸€èµ·ï¼Œæµ¸æ³¡åœ¨æ´—è„¸ç›†ä¸Šï¼Œç›†ä¸Šè¿˜æœ‰æ°´ã€‚çš®è›‹æ‰“ç®—æººæ­»ä»–è‡ªå·±çš„çŒ«å’ªä»”ã€‚æŠŠæˆ‘æ°”æ­»äº†ï¼Œæ‹¿èµ·æ£å­å‡†å¤‡æ•™è®­çš®è›‹ã€‚ç»“æœï¼Œä»–ä¸€ä¸‹å­å°±è·‘å»èº²äº†ï¼Œæ‰“ä¸åˆ°ä»–ï¼Œæˆ‘åƒä¸ªæ³¼å¦‡éª‚è¡—ä¸€æ ·ï¼Œè¾¹éª‚è¾¹æ•™è‚²ä»–ï¼Œå‘Šè¯‰ä»–è¿™äº›æ˜¯ä½ çš„ä»”ï¼Œæ€ä¹ˆå¯ä»¥è¿™ä¹ˆæ®‹å¿å¯¹å¾…å®ƒä»¬ã€‚ã€‚</p>
<p>éª‚ç€éª‚ç€ï¼Œçªç„¶æƒ³åˆ°å°çŒ«å’ªè¿˜åœ¨æ°´ç›†é‡Œæ³¡ç€å‘¢ï¼Œå°±é©¬ä¸Šå†²å›å»ï¼ŒæŠŠå°çŒ«å’ªæå‡ºæ¥ï¼Œè§£äº†ç»³å­ï¼Œæ„Ÿè§‰è¿™äº›å°çŒ«å’ªåƒæ˜¯è¦å¿«é¥¿æ­»äº†ã€‚çš®è›‹åˆæŠ“ä¸åˆ°ï¼Œä¸ç„¶è¿˜å¯ä»¥è®©çš®è›‹ç»™å°çŒ«å’ªå–‚å¥¶ã€‚</p>
<p>æ²¡åŠæ³•ï¼Œæƒ³åˆ°å°çŒ«å’ªå¯ä»¥å–ç‰›å¥¶ï¼Œåˆå»å†°ç®±æ‰¾ã€‚è¾¹ç¿»è¾¹æƒ³ï¼Œåˆšå‡ºç”Ÿçš„å°çŒ«å’ªå¯ä»¥å–å†°çš„ç‰›å¥¶å—ï¼Ÿå“å‘€ï¼Œä¸ç®¡é‚£ä¹ˆå¤šäº†ï¼Œæ‹‰è‚šå­æ€»æ¯”è¢«é¥¿æ­»å¥½å§ï¼Ÿäºæ˜¯ç»§ç»­ç¿»å•Šã€æ‰¾å•Šï¼Œä½†å°±æ˜¯æ²¡æœ‰æ‰¾åˆ°ç‰›å¥¶ï¼Œæ€¥æ­»äº†ã€‚åé¢å†·é™ç‚¹ï¼Œæ‰æƒ³èµ·æˆ‘å·²ç»ä¸å–ç‰›å¥¶å¾ˆä¹…äº†ï¼Œå†°ç®±æ€ä¹ˆå¯èƒ½ä¼šæœ‰ç‰›å¥¶ï¼Ÿè¿™ä¸€ç¬é—´ï¼Œæˆ‘å½»åº•å´©æºƒäº†ï¼Œä¸€ç›´åœ¨è´£æ€ªå’Œè´¨é—®è‡ªå·±ã€‚ä¸ºä»€ä¹ˆæˆ‘ç°åœ¨ä¸å–ç‰›å¥¶äº†ï¼Ÿï¼ä»¥å‰ä¸æ˜¯æ¯æ™šç¡ä¹‹å‰éƒ½è¦å–ä¸€ç“¶çš„å—ï¼Ÿï¼æ€ä¹ˆä¸èƒ½è¿‡å‡ å¤©å†ä¸æƒ³å–ç‰›å¥¶ï¼Ÿï¼å°±ç®—ä¸å–ç‰›å¥¶ï¼Œå†°ç®±ä¹Ÿè¦å¤‡ç€å•Šï¼Ÿï¼ä¸ºä»€ä¹ˆï¼Ÿï¼</p>
<p>å®åœ¨å‹æŠ‘åˆ°æœ‰äº›éš¾å—ï¼Œè¿˜å¥½é†’äº†ï¼Œçç€çœ¼ç›èººåœ¨åºŠä¸Šï¼Œå›å¿†ç€è¿™ä¸ªæ¢¦çš„å§‹æœ«ï¼Œæ€’ç«ä¸­çƒ§ã€‚æ¸…é†’ä¸€ç‚¹åå‘ç°ï¼Œçš®è›‹ä¸æ˜¯å…¬çŒ«å—ï¼Ÿè¿˜æ˜¯ä¸€åªåšäº†ç»è‚²æ‰‹æœ¯çš„å…¬çŒ«ï¼Œä»–æ€ä¹ˆä¼šç”Ÿå°çŒ«å’ªå‘¢ï¼Ÿ</p>
<p>å“¦ï¼ŒåŸæ¥æ˜¯ä¸€åœºæ¢¦å•Šï¼ŒçœŸæ˜¯å¥‡å¥‡æ€ªæ€ªçš„æ¢¦ï¼çœ‹äº†ä¸‹æ‰‹æœºï¼Œç°åœ¨å¿«æ—©ä¸Š5ç‚¹äº†ï¼Œèµ·æ¥å–ç‚¹æ°´ï¼Œå€’å¤´å†ç¡ä¼šï¼Œä»Šå¤©è¿˜è¦ä¸Šç­ã€‚</p>
<p><strong>2 æ´»åœ¨å½“ä¸‹</strong></p>
<p>å¤å¤©çš„æ—¶å€™å°±ç›¼æœ›ç€å†¬å¤©çš„åˆ°æ¥ï¼Œè€Œå†¬å¤©çš„æ—¶å€™åˆæœŸå¾…ç€å¤å¤©çš„åˆ°æ¥ï¼Œä¸€ç‚¹éƒ½æ²¡æœ‰æ´»åœ¨å½“ä¸‹å•Šã€‚</p>
<p><strong>3 ä¸“æ³¨å‘¼å¸</strong></p>
<p>æ¯å½“æˆ‘å¼€å§‹ä¸“æ³¨äºè‡ªå·±çš„å‘¼å¸æ—¶ï¼Œè„‘è¢‹é‡Œæ€»æœ‰å„ç§å„æ ·çš„æƒ³æ³•è¹¦è·¶å‡ºæ¥ã€‚è€Œå½“æˆ‘ç»“æŸä¸“æ³¨å‘¼å¸è®­ç»ƒå‡†å¤‡è®°å½•ä»–ä»¬çš„æ—¶å€™ï¼Œä»–ä»¬åˆä¸€ä¸‹å­ä¸è§äº†è¸ªå½±ã€‚çœŸæ˜¯å¥‡æ€ªçš„è„‘è¢‹</p>
]]></content>
      <categories>
        <category>å°è®°</category>
      </categories>
      <tags>
        <tag>æ‰€æ€æ‰€æƒ³æ‰€æ‚Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Flushing Cache Data in Redis: A Step-by-Step Guide</title>
    <url>/2024/07/27/flushing-cache-data-in-redis-a-step-by-step-guide/</url>
    <content><![CDATA[<p>Caching mechanisms are vital for optimizing application performance by storing frequently accessed data in-memory. Redis, as a robust key-value store, offers powerful caching capabilities. Occasionally, you might need to clear or flush all cached data from Redis to ensure consistency or during maintenance tasks. Hereâ€™s how you can do it effectively: </p>
<h2 id="Understanding-Redis-Flushing"><a href="#Understanding-Redis-Flushing" class="headerlink" title="Understanding Redis Flushing"></a>Understanding Redis Flushing</h2><p>Flushing in Redis refers to the action of removing all data stored in the current database. This operation is irreversible and affects all keys in the database, not just cached data. Itâ€™s essential to exercise caution when performing this action as it will delete all data.</p>
<h2 id="Method-1-Using-Redis-CLI"><a href="#Method-1-Using-Redis-CLI" class="headerlink" title="Method 1: Using Redis CLI"></a>Method 1: Using Redis CLI</h2><ol>
<li><strong>Connect to Redis</strong>: Start by connecting to your Redis server using the Redis CLI:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Select Database (Optional)</strong>: If you are working with multiple databases, select the appropriate one (default is 0):</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SELECT &lt;db_number&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>Flush All Data</strong>: Execute the <code>FLUSHDB</code> command to flush the current database:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FLUSHDB</span><br></pre></td></tr></table></figure>

<p>This command removes all keys from the currently selected Redis database.</p>
<ol start="4">
<li><strong>Verify</strong>: Optionally, you can confirm that all keys have been removed by checking the number of keys:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INFO keyspace</span><br></pre></td></tr></table></figure>

<p>The <code>INFO keyspace</code> command will show you the number of keys in each database. If there is no records returned, the database is empty.<br>For example, execute the <code>INFO keyspace</code> command before executing the <code>FLUSHDB</code> command. Afterward, execute the <code>FLUSHDB</code> command and then the <code>INFO keyspace</code> command. The results are as follows. It shows that db0 is an empty database</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; INFO keyspace</span><br><span class="line"># Keyspace</span><br><span class="line">db0:keys=2,expires=0,avg_ttl=0</span><br><span class="line">db2:keys=1,expires=0,avg_ttl=0</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line">127.0.0.1:6379&gt; FLUSHDB</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; INFO keyspace</span><br><span class="line"># Keyspace</span><br><span class="line">db2:keys=1,expires=0,avg_ttl=0</span><br></pre></td></tr></table></figure>

<h2 id="Method-2-Using-Redis-GUI-Tools"><a href="#Method-2-Using-Redis-GUI-Tools" class="headerlink" title="Method 2: Using Redis GUI Tools"></a>Method 2: Using Redis GUI Tools</h2><p>If you prefer a graphical interface or are uncomfortable with command-line operations, many Redis GUI tools offer a straightforward way to flush data. Tools like RESP(Formerly Redis Desktop Manager), RedisInsight, or web-based interfaces provide intuitive buttons or commands to flush databases.<br>For example, letâ€™s use RESP.app to flush the data. </p>
<p>After installing RESP.app, the first step is to establish a connection to your Redis server. Simply click â€˜Connect to Redis Serverâ€™ on the main window. In the first tab (Connection Settings), provide general information for the connection:</p>
<ul>
<li><strong>Name</strong>: A name for the new connection (e.g., local_redis).</li>
<li><strong>Host</strong>: The Redis serverâ€™s host address (e.g., localhost).</li>
<li><strong>Port</strong>: The Redis serverâ€™s port number (e.g., 6379).</li>
<li><strong>Password</strong>: Authentication password for the Redis server (if required). More information available at Redis AUTH command.</li>
<li><strong>Username</strong>: Only required for Redis servers version 6.0 or newer with configured ACL; leave empty for older Redis servers.</li>
</ul>
<p><img src="/image/2024/07/2024072701.png" alt="01 Connection Settings"></p>
<p>After connecting to your Redis Server, click on the connection and expand keys. Next, select the target database (e.g., db0) and sequentially click buttons â€˜Bulk Operationsâ€™ and â€˜Flush Databaseâ€™. A confirmation window labeled â€˜Do you really want to remove all keys from this database?â€™ will appear; click â€˜Yesâ€™ to proceed with data cleanup.</p>
<blockquote>
<p>Be careful! Do not use it on Production servers.</p>
</blockquote>
<p><img src="/image/2024/07/2024072702.png" alt="Bulk Operations"></p>
<p><img src="/image/2024/07/2024072703.png" alt="Flush Database"></p>
<p><img src="/image/2024/07/2024072704.png" alt="Confirmation window"></p>
<p><img src="/image/2024/07/2024072705.png" alt="Cleanup Data"></p>
<h2 id="Important-Considerations"><a href="#Important-Considerations" class="headerlink" title="Important Considerations"></a>Important Considerations</h2><ul>
<li><strong>Data Loss</strong>: Flushing Redis data is irreversible. Ensure that you have backups or are certain about the action before proceeding.</li>
<li><strong>Performance Impact</strong>: Depending on the amount of data, flushing can temporarily impact Redis server performance. Plan during low-traffic periods if possible.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Flushing cache data in Redis is a straightforward process but requires careful consideration due to its irreversible nature. Whether using the Redis CLI or GUI tools, understanding how to flush data ensures you can maintain Redis databases efficiently.<br>Remember, always back up critical data before performing any operations that could result in data loss.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Effective Ways to Delete Fuzzy Matching Keys in Redis</title>
    <url>/2024/07/30/effective-ways-to-delete-fuzzy-matching-keys-in-redis/</url>
    <content><![CDATA[<p>In Redis, managing keys efficiently is crucial for optimal performance. Sometimes, you might need to delete keys that match a pattern or have a fuzzy match. Hereâ€™s how you can achieve this:</p>
<h2 id="Using-Redis-CLI-Commands"><a href="#Using-Redis-CLI-Commands" class="headerlink" title="Using Redis CLI Commands"></a>Using Redis CLI Commands</h2><p>Redis CLI provides several commands to interact with keys. To delete keys that match a pattern, you can use the <code>KEYS</code> command in combination with the <code>DEL</code> command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli KEYS <span class="string">&quot;pattern*&quot;</span> | xargs redis-cli DEL</span><br></pre></td></tr></table></figure>
<p>Replace <code>&quot;pattern*&quot;</code> with your specific pattern. This command finds all keys matching the pattern using <code>KEYS</code>, then pipes the results to <code>DEL</code> to delete them.</p>
<h2 id="Lua-Scripting-for-Complex-Matching"><a href="#Lua-Scripting-for-Complex-Matching" class="headerlink" title="Lua Scripting for Complex Matching"></a>Lua Scripting for Complex Matching</h2><p>For more complex matching scenarios, Lua scripting in Redis allows for custom logic. Hereâ€™s a basic example to delete keys matching a fuzzy pattern:</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="keyword">local</span> keys = redis.call(<span class="string">&#x27;KEYS&#x27;</span>, ARGV[<span class="number">1</span>])</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,#keys <span class="keyword">do</span></span><br><span class="line">    redis.call(<span class="string">&#x27;DEL&#x27;</span>, keys[i])</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> keys</span><br></pre></td></tr></table></figure>

<p>Save this script, say as <code>delete_fuzzy_keys.lua</code>, and execute it using <code>EVAL</code> command in Redis:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli EVAL <span class="string">&quot;<span class="subst">$(cat delete_fuzzy_keys.lua)</span>&quot;</span> 0 <span class="string">&quot;your_pattern*&quot;</span></span><br></pre></td></tr></table></figure>

<p>Replace <code>&quot;your_pattern*&quot;</code> with your specific pattern.</p>
<h2 id="Automating-with-Redis-Libraries"><a href="#Automating-with-Redis-Libraries" class="headerlink" title="Automating with Redis Libraries"></a>Automating with Redis Libraries</h2><p>If youâ€™re using Redis in a programming language, such as Python with <code>redis-py</code>, you can achieve fuzzy key deletion programmatically:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"></span><br><span class="line">r = redis.Redis(host=<span class="string">&#x27;localhost&#x27;</span>, port=<span class="number">6379</span>, db=<span class="number">0</span>)</span><br><span class="line">keys_to_delete = r.keys(<span class="string">&quot;your_pattern*&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> keys_to_delete:</span><br><span class="line">    r.delete(key)</span><br></pre></td></tr></table></figure>

<p>This Python script uses <code>redis-py</code> to connect to Redis, fetch keys matching <code>&quot;your_pattern*&quot;</code>, and delete them using <code>delete()</code> method.</p>
<h2 id="Considerations"><a href="#Considerations" class="headerlink" title="Considerations"></a>Considerations</h2><ul>
<li><strong>Performance</strong>: Be cautious with <code>KEYS</code> command in production as it scans all keys. </li>
<li><strong>Safety</strong>: Ensure youâ€™re deleting the correct keys to prevent accidental data loss.</li>
</ul>
<p>By following these methods, you can effectively manage and delete fuzzy matching keys in Redis according to your needs. </p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>A set of best practices and guidelines for using Redis effectively</title>
    <url>/2024/07/29/a-set-of-best-practices-and-guidelines-for-using-redis-effectively/</url>
    <content><![CDATA[<p>In this article, I introduce you to 12 specifications in the areas of key-value pair usage, command usage, and data preservation, centered around the goals of high-performance access and saving memory space in Redis applications.</p>
<h2 id="Key-Value-Pair-Usage-Specifications"><a href="#Key-Value-Pair-Usage-Specifications" class="headerlink" title="Key-Value Pair Usage Specifications"></a>Key-Value Pair Usage Specifications</h2><ol>
<li><p><strong>[<em>Recommended</em>]</strong> <strong>Use the business name as the KEY prefix, preferably using its abbreviation.</strong> This is done by prefixing the business name, then separating it with a colon(<code>:</code>), followed by the specific business data name. For example, if we want to count the number of unique visitors to a web page, we can use the code <code>uv:page:2048</code> to set the key, which means that this data corresponds to the business of counting unique visitors, and the corresponding page id is 2048.</p>
</li>
<li><p><strong>[<em>Recommended</em>]</strong> <strong>Control the length of the KEY.</strong> For the business name or business data name, we can use the first letter of the corresponding English word, (e.g., user is represented by u, order is represented by o, and log is represented by l), or we can use an abbreviation to represent it (e.g., unique visitor is represented by uv, page view is represented by pv, and message is represented by msg).</p>
</li>
<li><p><strong>[<em>Reference</em>] Control the data size of String type below 10KB.</strong> In the business layer, itâ€™s advisable to limit the size of String-type data to under 10KB to avoid handling large String objects(i.e. to avoid the bigkey of String type). </p>
</li>
<li><p><strong>[<em>Reference</em>] Keep the number of elements in a collection type below 10,000.</strong> Itâ€™s advisable to keep the number of elements in a collection type below 10,000 to avoid bigkey collection types. </p>
<blockquote>
<p>Of course, the third and the fourth just to try to avoid bigkey, if the business layer of String type data is really big, we can also through the data compression to reduce the size of the data; if the collection type is really a lot of elements, we can split a large collection into multiple small collections to save. </p>
</blockquote>
</li>
<li><p><strong>[<em>Recommended</em>] Use efficient serialization and compression methods,</strong> which will reduce the size of the value.</p>
</li>
<li><p><strong>[<em>Recommended</em>] Use the integer object shared pool.</strong> Under the premise of meeting business data requirements, try to use integers when you can, so that you can save instance memory.</p>
</li>
</ol>
<h2 id="Data-Preservation-Specifications"><a href="#Data-Preservation-Specifications" class="headerlink" title="Data Preservation Specifications"></a>Data Preservation Specifications</h2><ol start="7">
<li><strong>[<em>Recommended</em>] Put different business data into different Redis instances.</strong> This way, you can avoid excessive memory usage of a single instance and also avoid interfering with the operations of different businesses.</li>
<li> <strong>[<em>Recommended</em>] Set the expiration time when saving data.</strong> When saving data, itâ€™s advisable to set the expiration time of the data based on the length of time the business uses the data. Otherwise, data stored in Redis will persist indefinitely, consuming memory. With continued growth, this can exceed the machineâ€™s memory limit, leading to overflow and service crashes. </li>
<li><strong>[<em>Recommended</em>] Control the capacity of a Redis instance.</strong> Redis single-instance memory size are not too large. According to my own experience,  itâ€™s advisable to set the Redis single-instance memory size between 2 to 6GB. This range ensures quick completion of RDB snapshots and data synchronization across master and slave clusters, without blocking normal request processing. </li>
</ol>
<h2 id="Command-Usage-Specifications"><a href="#Command-Usage-Specifications" class="headerlink" title="Command Usage Specifications"></a>Command Usage Specifications</h2><ol start="10">
<li><strong>[<em>Mandatory</em>] Disable <code>KEYS</code>, <code>FLUSHALL</code>, <code>FLUSHDB</code> commands for production environments.</strong> Redis is single-threaded. If we execute commands that involve a large number of operations and are time-consuming, the main thread will be severely blocked, preventing other requests from being processed properly.</li>
<li><strong>[<em>Recommended</em>] Use the <code>MONITOR</code> command with caution.</strong> The <code>MONITOR</code> command continuously writes what it monitors to the output buffer. If there are a lot of operations on the online commands, the output buffer will soon overflow, which can have an impact on Redis performance and even cause the service to crash.</li>
<li><strong>[<em>Recommended</em>] Use the full operation command with caution.</strong> For collection-type data, it is generally not recommended to use commands with full-volume operations (e.g., <code>HGETALL</code> for Hash types, <code>SMEMBERS</code> for Set types) if you want to get all the elements in the collection. These operations scan the underlying data structures of the Hash and Set types at full volume, which can block the Redis main thread if there is a lot of data in the collection type.</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The article introduces 12 specifications for high-performance access and saving memory space in Redis applications. These specifications are categorized into three areas: key-value pair usage, data preservation, and command usage.<br>For key-value pair usage, it is recommended to use business names as key prefixes, control key lengths, limit the size of string-type data and the number of elements in collection types, use efficient serialization and compression methods, and utilize the integer object shared pool.<br>For data preservation, it is recommended to separate different business data into different Redis instances, set expiration times for saved data, and control the capacity of a Redis instance.<br>For command usage, it is mandatory to disable certain commands in production environments, and it is recommended to use the <code>MONITOR</code> command and full operation commands with caution.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ</title>
    <url>/2022/05/06/leetcode-01-two-sum/</url>
    <content><![CDATA[<h1 id="LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ"><a href="#LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ"></a>LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ</h1><blockquote>
<p>éš¾åº¦ï¼šå®¹æ˜“<br>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/two-sum/">https://leetcode-cn.com/problems/two-sum/</a><br>æ•°æ®ç»“æ„ï¼šæ•°ç»„ï¼Œå“ˆå¸Œè¡¨</p>
</blockquote>
<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ <code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼ <code>target</code>  çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,7,11,15], target = 9</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br><span class="line">è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 2ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,2,4], target = 6</span><br><span class="line">è¾“å‡ºï¼š[1,2]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ 3ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [3,3], target = 6</span><br><span class="line">è¾“å‡ºï¼š[0,1]</span><br></pre></td></tr></table></figure>

<p>çº¦æŸï¼š</p>
<ul>
<li>2 &lt;= nums.length &lt;= 104</li>
<li>109 &lt;= nums[i] &lt;= 109</li>
<li>109 &lt;= target &lt;= 109</li>
<li>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</li>
</ul>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº $O(n^2)$ çš„ç®—æ³•å—ï¼Ÿ</p>
<h2 id="â–-å¾ªç¯éå†æ•°ç»„ï¼Œç›´è§‚ä½†ä¸é«˜æ•ˆ"><a href="#â–-å¾ªç¯éå†æ•°ç»„ï¼Œç›´è§‚ä½†ä¸é«˜æ•ˆ" class="headerlink" title="â– å¾ªç¯éå†æ•°ç»„ï¼Œç›´è§‚ä½†ä¸é«˜æ•ˆ"></a>â– å¾ªç¯éå†æ•°ç»„ï¼Œç›´è§‚ä½†ä¸é«˜æ•ˆ</h2><p>çœ‹åˆ°è¿™ä¸ªé¢˜ç›®æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„æ–¹æ³•æ˜¯ä»æ•´æ•°æ•°ç»„ <code>nums</code> ä¸­ä¾æ¬¡å–å‡ºä¸¤ä¸ªå…ƒç´ ï¼Œå¹¶åˆ¤æ–­è¿™ä¸¤ä¸ªå…ƒç´ çš„å’Œæ˜¯å¦ä¸ºç›®æ ‡å€¼ <code>target</code>ã€‚è‹¥æ˜¯ï¼Œåˆ™ç›´æ¥è¿”å›è¿™ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ä¸‹æ ‡å³å¯ï¼ˆæ ¹æ®é¢˜ç›®æè¿°ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€å®šå­˜åœ¨ä¸”ä»…å­˜åœ¨ä¸€ä¸ªè¿™æ ·çš„æœ‰æ•ˆç­”æ¡ˆï¼‰ã€‚</p>
<p>è¯¥ç®—æ³• Java ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] + nums[j] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i, j &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥ç®—æ³•æ¯”è¾ƒç›´è§‚ï¼Œä»£ç ä¹Ÿæ˜“äºç†è§£ï¼Œä½†æœ€å¤§çš„é—®é¢˜æ˜¯æˆ‘ä»¬éœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ï¼Œç®—æ³•çš„æ—¶é—´æ•ˆç‡ä¸æ˜¯å¾ˆé«˜ã€‚ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ã€‚</p>
<h2 id="â–-ä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜å·²ç»éå†è¿‡çš„æ•°å­—ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´çš„è§£æ³•"><a href="#â–-ä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜å·²ç»éå†è¿‡çš„æ•°å­—ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´çš„è§£æ³•" class="headerlink" title="â– ä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜å·²ç»éå†è¿‡çš„æ•°å­—ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´çš„è§£æ³•"></a>â– ä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜å·²ç»éå†è¿‡çš„æ•°å­—ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´çš„è§£æ³•</h2><p>å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥ç©ºé—´æ¢æ—¶é—´çš„æ€æƒ³æ¥å¯¹ä¸Šæ–‡æåˆ°çš„ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚åœ¨éå†æ—¶ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†å…ƒç´ çš„å€¼åŠå…¶å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼Œå¯ä»¥å€ŸåŠ©å“ˆå¸Œè¡¨è¿™ç§æ•°æ®ç»“æ„æ¥å­˜å‚¨ï¼Œå…¶ä¸­ï¼Œé”®ï¼ˆkeyï¼‰ä¸ºå…ƒç´ çš„å€¼ï¼Œå€¼ï¼ˆvalueï¼‰ä¸ºå…ƒç´ å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>æ‹¿åˆ°äº†ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œç”¨ <code>m</code> è¡¨ç¤ºï¼Œé‚£ä¹ˆä»æ•´æ•°æ•°ç»„ <code>nums</code> ä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸ <code>m</code> çš„å’Œä¸º <code>target</code> çš„é—®é¢˜ï¼Œå°±å¯ä»¥è½¬åŒ–ä¸ºï¼šä»æ•´æ•°æ•°ç»„ <code>nums</code> ä¸­æŸ¥æ‰¾é™¤äº† <code>m</code> ä»¥å¤–ã€å¹¶ä¸”å€¼ä¸º <code>target - m</code> çš„å…ƒç´ ã€‚ç”±äºåœ¨éå†æ•°ç»„çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“</p>
<p>æ¯”å¦‚ç¤ºä¾‹ 2 ä¸­ï¼Œnums = [3,2,4], target = 6ï¼Œåœ¨ç¬¬ä¸€æ¬¡éå†æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæ‹¿åˆ°å…ƒç´  3ï¼Œç„¶åè®¡ç®— target - m = 6 - 3 = 3ï¼Œæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(num)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;map.get(num), i&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(nums[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>LeetCodeé¢˜è§£</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetCode1ï¼šä¸¤æ•°ä¹‹å’Œ</title>
    <url>/2023/08/05/leetcode-01-two-sum/</url>
    <content><![CDATA[<blockquote>
<p>éš¾åº¦ï¼šå®¹æ˜“</p>
<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/two-sum/">https://leetcode-cn.com/problems/two-sum/</a></p>
<p>æ•°æ®ç»“æ„ï¼šæ•°ç»„ï¼Œå“ˆå¸Œè¡¨</p>
</blockquote>
<h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ <code>target</code>ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼ <code>target</code> çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p>
<p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p>è¾“å…¥ï¼š<code>nums = [2,7,11,15]</code>, <code>target = 9</code><br>è¾“å‡ºï¼š<code>[0,1]</code><br>è§£é‡Šï¼šå› ä¸º <code>nums[0] + nums[1] == 9</code> ï¼Œè¿”å› <code>[0, 1]</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p>è¾“å…¥ï¼š<code>nums = [3,2,4]</code>, <code>target = 6</code><br>è¾“å‡ºï¼š<code>[1,2]</code></p>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p>è¾“å…¥ï¼š<code>nums = [3,3]</code>, <code>target = 6</code><br>è¾“å‡ºï¼š<code>[0,1]</code></p>
<p><strong>çº¦æŸï¼š</strong></p>
<ul>
<li><code>2 &lt;= nums.length &lt;= 104</code></li>
<li><code>10^9 &lt;= nums[i] &lt;= 10^9</code></li>
<li><code>10^9 &lt;= target &lt;= 10^9</code></li>
<li>åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</li>
</ul>
<p>è¿›é˜¶ï¼šä½ å¯ä»¥æƒ³å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦å°äº O(n^2) çš„ç®—æ³•å—ï¼Ÿ</p>
<h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæœ€ç®€å•ç›´æ¥çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸¤å±‚å¾ªç¯éå†æ•°ç»„ï¼Œæ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚å®ç°è¯¥ç®—æ³•çš„ Java ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] + nums[j] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; i, j &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿›é˜¶è¦æ±‚æ—¶é—´å¤æ‚åº¦å°äº O(n^2) çš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥æé«˜æŸ¥æ‰¾çš„æ•ˆç‡ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œç”¨äºå­˜å‚¨æ•°ç»„ä¸­çš„å…ƒç´ åŠå…¶ç´¢å¼•ã€‚</li>
<li>éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ Â <code>nums[i]</code>ï¼Œè®¡ç®—å‡ºç›®æ ‡å€¼ä¸å½“å‰å…ƒç´ çš„å·®å€¼Â <code>diff = target - nums[i]</code>ã€‚</li>
<li>åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾å·®å€¼Â <code>diff</code>ï¼Œå¦‚æœå­˜åœ¨ä¸”ä¸ç­‰äºå½“å‰å…ƒç´ çš„ç´¢å¼•Â <code>i</code>ï¼Œåˆ™æ‰¾åˆ°äº†æ»¡è¶³æ¡ä»¶çš„ä¸¤ä¸ªæ•°ã€‚</li>
<li>è¿”å›ä¸¤ä¸ªæ•°çš„ç´¢å¼•ã€‚</li>
</ol>
<p>ä½¿ç”¨ Java ç¼–ç¨‹è¯­è¨€å®ç°è¯¥ç®—æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">diff</span> <span class="operator">=</span> target - nums[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(diff)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;map.get(diff), i&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(nums[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯å¯¹äº LeetCode ç®—æ³•é¢˜ â€œä¸¤æ•°ä¹‹å’Œâ€ çš„è§£æå’Œè§£é¢˜æ€è·¯ã€‚é€šè¿‡ä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ O(n) çš„æ—¶é—´å¤æ‚åº¦å†…è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ ç†è§£è¯¥ç®—æ³•æœ‰æ‰€å¸®åŠ©ï¼</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>LeetCodeé¢˜è§£</category>
      </categories>
      <tags>
        <tag>leetcode</tag>
      </tags>
  </entry>
  <entry>
    <title>æå¤§é’Šï¼šé’æ˜¥</title>
    <url>/2021/05/01/ldz-1/</url>
    <content><![CDATA[<blockquote>
<p>ã€Šé’æ˜¥ã€‹ä¸€æ–‡ï¼Œæ˜¯åè¢æŠ¤å›½è¿åŠ¨å…´èµ·ä»¥åï¼Œæå¤§é’Šäº1916å¹´3è‡³4æœˆåœ¨æ—¥æœ¬æ‰€å†™çš„ä¸€ç¯‡ç†è®ºæ–‡ç« ï¼Œå‘è¡¨äºåŒå¹´9æœˆå‡ºç‰ˆçš„ã€Šæ–°é’å¹´ã€‹ç¬¬2å·ç¬¬1å·ã€‚è¿™æ˜¯ä»–åœ¨ã€Šæ–°é’å¹´ã€‹å‘è¡¨çš„ç¬¬ä¸€ç¯‡è®ºæ–‡ã€‚åœ¨ã€Šé’æ˜¥ã€‹ä¸­ï¼Œæå¤§é’Šç³»ç»Ÿåœ°é˜è¿°äº†ä»–å¯¹å®‡å®™ã€å¯¹äººç”Ÿã€å¯¹å›½å®¶å’Œæ°‘æ—å‰é€”çš„çœ‹æ³•ï¼Œæ­Œé¢‚äº†ç§¯æè¿›å–ã€ä¹è§‚å‘ä¸Šçš„é©å‘½ç²¾ç¥ï¼Œæå‡ºäº†â€œé’æ˜¥â€çš„å®‡å®™è§‚å’Œäººç”Ÿè§‚ã€‚æ¦‚æ‹¬è€Œè¨€ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å››ç‚¹ï¼šä¸€ï¼Œå®‡å®™æ— å°½ï¼Œé’æ˜¥æ— å°½ï¼Œå¤©åœ°è€è€Œé’æ˜¥æ°¸åœ¨ã€‚äºŒï¼Œå›½å®¶ä¸æ°‘æ—æ˜¯é’æ˜¥è¿˜æ˜¯ç™½é¦–ï¼Œå–å†³äºé’å¹´æ˜¯å¦è‡ªè§‰ï¼Œä¸»å¼ é’å¹´è‡ªè§‰æ–¹æœ‰é’æ˜¥ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæå‡ºäº†â€œé’æ˜¥â€çš„äººç”Ÿè§‚ï¼Œå³ç§¯æè¿›å–çš„äººç”Ÿè§‚ã€‚ä¸‰ï¼Œ æå‡ºâ€œé’æ˜¥ä¸­åä¹‹åˆ›é€ â€çš„å†å²ä½¿å‘½ã€‚æ–‡ç« æŒ‡å‡ºï¼šæ­£å½“â€œç™½å‘ä¹‹ä¸­åå‚äº¡ï¼Œé’æ˜¥ä¹‹ä¸­åæœªå­•â€ä¹‹é™…ï¼Œâ€œå¾æ—é’å¹´æ‰€å½“ä¿¡èª“æ—¦æ—¦ï¼Œä»¥æ˜­ç¤ºäºä¸–è€…ï¼Œä¸åœ¨è¾©è¯ç™½é¦–ä¸­å›½ä¹‹ä¸æ­»ï¼Œä¹ƒåœ¨æ±²æ±²å­•è‚²é’æ˜¥ä¸­å›½ä¹‹å†ç”Ÿã€‚å¾æ—ä»Šåä¹‹èƒ½å¦ç«‹è¶³äºä¸–ç•Œï¼Œä¸åœ¨ç™½é¦–ä¸­å›½ä¹‹è‹Ÿå»¶æ®‹å–˜ï¼Œè€Œåœ¨é’æ˜¥ä¸­å›½ä¹‹æŠ•èƒå¤æ´»ã€‚â€å››ï¼Œä¸»å¼ é’å¹´ä¸æ–­åœ°ä»¥â€œé’æ˜¥â€çš„ç²¾ç¥æ¥æ”¹é€ è‡ªæˆ‘ã€‚æ–‡ç« å·å¬é’å¹´æ°¸è¿œâ€œè¿›å‰è€Œå‹¿é¡¾åï¼ŒèƒŒé»‘æš—è€Œå‘å…‰æ˜â€ï¼Œâ€œä»¥é’æ˜¥ä¹‹æˆ‘ï¼Œåˆ›å»ºé’æ˜¥ä¹‹å®¶åº­ï¼Œé’æ˜¥ä¹‹å›½å®¶ï¼Œé’æ˜¥ä¹‹æ°‘æ—ï¼Œé’æ˜¥ä¹‹äººç±»ï¼Œé’æ˜¥ä¹‹åœ°çƒï¼Œé’æ˜¥ä¹‹å®‡å®™â€ï¼Œä»¥â€œä¹˜é£ç ´æµªâ€çš„æ°”é­„ï¼Œâ€œä¸ºä¸–ç•Œè¿›æ–‡æ˜ï¼Œä¸ºäººç±»é€ å¹¸ç¦â€ï¼</p>
<p>ã€Šé’æ˜¥ã€‹ä¸€æ–‡ï¼Œåœ¨æ–°æ–‡åŒ–è¿åŠ¨åˆæœŸäº§ç”Ÿé‡å¤§å½±å“ï¼Œæ˜¯ä¸­å›½è¿‘ä»£æ€æƒ³å²ä¸Šçš„ä¸€ç¯‡è‘—åæ–‡çŒ®ã€‚æ°‘å›½æ—¶æœŸæ›¾ç»å¹¿æ³›ä¼ æ’­ï¼Œä¸­åäººæ°‘å…±å’Œå›½æˆç«‹åï¼Œæ›¾è¢«é€‰ä½œå¤§å­¦ç”Ÿé˜…è¯»çš„èŒƒæ–‡ã€‚å…šçš„åå…«å¤§ä»¥æ¥ï¼Œä¹ è¿‘å¹³æ€»ä¹¦è®°æ›¾å¤šæ¬¡åœ¨é‡è¦æŠ¥å‘Šå’Œè®²è¯ä¸­å¼•ç”¨æ­¤æ–‡ã€‚ä»Šå¹´4æœˆ28æ—¥ï¼Œæ˜¯æå¤§é’Šè‹±å‹‡å°±ä¹‰ä¹åå››å‘¨å¹´å¿Œæ—¥ï¼ŒåŒ—äº¬å¤§å­¦äººæ–‡ç¤¾ä¼šç§‘å­¦ç ”ç©¶é™¢è°¨æ¨é€æ­¤æ–‡ï¼Œä»¥çºªå¿µå’Œç¼…æ€€è¿™ä½ä¼Ÿå¤§çš„é©å‘½å…ˆé©±ã€‚æ„Ÿè°¢åŒ—äº¬å¤§å­¦æ ¡å²é¦†æ¨ç¥è€å¸ˆç»™äºˆçš„å¸®åŠ©ã€‚</p>
</blockquote>
<p><strong>é’ æ˜¥</strong><br>æ–‡ / æå¤§é’Š<br>ä¸€ä¹ä¸€å…­å¹´å››ã€äº”æœˆ</p>
<p>æ˜¥æ—¥è½½é˜³ï¼Œä¸œé£è§£å†»ã€‚è¿œä»ç€›å²›ï¼Œè¿”é¡¾ç¥–é‚¦ã€‚è‚ƒæ€éƒå¡ä¹‹è±¡ï¼Œä¸€å˜è€Œä¸ºæ¸…å’Œæ˜åªšä¹‹è±¡çŸ£ï¼›å†°é›ªæ²å¯’ä¹‹å¤©ï¼Œä¸€å¹»è€Œä¸ºç™¾å‰æ˜­è‹ä¹‹å¤©çŸ£ã€‚æ¯æ›´èŠ‚åºï¼Œè¾„åŠ¨æ€€æ€ï¼Œäººäº‹ä¸‡ç«¯ï¼Œé‚£å ªå›é¦–ï¼Œæˆ–åˆ™å¹½é—ºå–„æ€¨ï¼Œæˆ–åˆ™éªšå®¢å·¥æ„ã€‚å½“å…¹æ˜¥é›¨æ¢¨èŠ±ï¼Œé‡é—¨æ·±æ©ï¼Œè¯—äººé¡¦é¡‡ï¼Œç‹¬å€šæ æ†ä¹‹é™…ï¼Œç™»æ¥¼å››ç©ï¼Œåˆ™è§åƒæ¡å‚æŸ³ï¼ŒæœªåŠæ‰é»„ï¼Œåé‡Œé“ºé’ï¼Œé¥çœ‹æœ‰è‰²ã€‚å½¼å¹½é—²è´é™ä¹‹é’æ˜¥ï¼Œæºæ¥æ— é™ä¹‹å¸Œæœ›ã€æ— é™ä¹‹å…´è¶£ï¼Œé£˜ç„¶è´¡å…¶æŸ”ä¸½ä¹‹å§¿äºå¾å‰é€”è¾½è¿œä¹‹é’å¹´ä¹‹å‰ï¼Œè€Œé»˜è®¸ä»¥ç‹¬äº«ä¹‹æƒåˆ©ã€‚å—Ÿå¾é’å¹´å¯çˆ±ä¹‹å­¦å­ä¹ï¼å½¼ç¾ä¹‹é’æ˜¥ï¼Œå¿µå­ä¹‹ä»»é‡è€Œé“è¿œä¹Ÿï¼Œå­ä¹‹å†…ç¾è€Œä¿®èƒ½ä¹Ÿï¼Œæ€œå­ä¹‹åŠ³ï¼Œçˆ±å­ä¹‹æ‰ä¹Ÿï¼Œæ•…è€Œç»å¹´ä¸€åº¦ï¼Œå±•å…¶æ€¡å’Œä¹‹é¢œï¼Œé¥¯å­äºé•¿å¾è¿ˆå¾€ä¹‹é€”ï¼Œå†€æœ‰ä»¥æ…°å­ä¹‹å¿ƒä¹Ÿã€‚çºµå­ä¸ºå°½ç˜äºå­ä¹‹é«˜å°šä¹‹ç†æƒ³ï¼Œåœ£ç¥ä¹‹ä½¿å‘½ï¼Œè¿œå¤§ä¹‹äº‹ä¸šï¼Œè‰°å·¨ä¹‹è´£ä»»ï¼Œè€Œå¤™å…´å¤œå¯ï¼Œä¸é‘å¯å¤„ï¼Œäº¦å½“äºåƒå¿™ä¸‡è¿«ä¹‹ä¸­ï¼Œå·éš™ä¸€ç›¼ï¼Œéœé¢œç›¸å‘ï¼Œé¢†å½¼æ‹å­ä¹‹æ®·æƒ…ï¼Œèµ å­ä¹‹éŸ¶åï¼Œä¿¾ä»¥é’å¹´çº¯æ´ä¹‹èº¬ï¼Œé¥«å°é’æ˜¥ä¹‹ç”˜ç¾ï¼Œæµƒæµ´é’æ˜¥ä¹‹æ©æ³½ï¼Œæ°¸ç»­é’æ˜¥ä¹‹ç”Ÿæ¶¯ã€‚è‡´æˆ‘ä¸ºé’æ˜¥ä¹‹æˆ‘ï¼Œæˆ‘ä¹‹å®¶åº­ä¸ºé’æ˜¥ä¹‹å®¶åº­ï¼Œæˆ‘ä¹‹å›½å®¶ä¸ºé’æ˜¥ä¹‹å›½å®¶ï¼Œæˆ‘ä¹‹æ°‘æ—ä¸ºé’æ˜¥ä¹‹æ°‘æ—ã€‚æ–¯é’æ˜¥ä¹‹æˆ‘ï¼Œä¹ƒä¸æ‰äºé¥é¥ç™¾åƒä¸‡åŠ«ä¸­ï¼Œä¸ºæ­¤ä¸€å¤§å› ç¼˜ï¼Œä¸æ­¤å¤šæƒ…å¤šçˆ±ä¹‹é’æ˜¥ï¼Œç›¸é€šé€…äºæ— å°½é’æ˜¥ä¸­ä¹‹ä¸€éƒ¨åˆ†ç©ºé—´ä¸æ—¶é—´ä¹Ÿã€‚</p>
<p>å—ç„¶ä¸€èº¯ï¼Œæ¸ºä¹å¾®çŸ£ã€‚äºæ­¤å¹¿å¤§æ‚ ä¹…ä¹‹å®‡å®™ï¼Œæ®†çŠ¹æ²§æµ·ä¹‹ä¸€ç²Ÿè€³ã€‚å…¶å¾—æ°¸äº«é’æ˜¥ä¹‹å¹¸ç¦ä¸å¦ï¼Œå½“é—®å®‡å®™è‡ªç„¶ä¹‹é’æ˜¥æ˜¯å¦ä¸ºæ— å°½ã€‚å¦‚å…¶æœ‰å°½ï¼Œçºµæœ‰å½­ã€èƒä¹‹å¯¿ï¼Œç”šä¸”ä¸å®‡å®™é½ï¼Œäº¦å¥šèƒ½è®¸æˆ‘ä»¥å¸¸äº«ä¹‹ç¦ï¼Ÿå¦‚å…¶æ— å°½ï¼Œå¾äººå¥‹å…¶æ‚²å£®ä¹‹ç²¾ç¥ï¼Œä»¥ä¸æ— å°½ä¹‹å®‡å®™ç«è¿›ï¼Œåˆä½•ä¸èƒ½ä¹‹æœ‰ï¼Ÿè€Œå®‡å®™ä¹‹æœå¦ä¸ºæ— å°½ï¼Œå½“é—®å®‡å®™ä¹‹æœ‰æ— åˆç»ˆã€‚å®‡å®™æœæœ‰åˆä¹ï¼Ÿæ›°ï¼šåˆä¹æ— ä¹Ÿã€‚æœæœ‰ç»ˆä¹ï¼Ÿæ›°ï¼šç»ˆä¹æ— ä¹Ÿã€‚åˆä¹æ— è€…ï¼Œç­‰äºæ— åˆï¼›ç»ˆä¹æ— è€…ï¼Œç­‰äºæ— ç»ˆã€‚æ— åˆæ— ç»ˆï¼Œæ˜¯äºç©ºé—´ä¸ºæ— é™ï¼Œäºæ—¶é—´ä¸ºæ— æã€‚è´¨è¨€ä¹‹ï¼Œæ— è€Œå·²çŸ£ï¼Œæ­¤ç»å¯¹ä¹‹è¯´ä¹Ÿã€‚è‹¥ç”±ç›¸å¯¹è§‚ä¹‹ï¼Œåˆ™å®‡å®™ä¸ºæœ‰è¿›åŒ–è€…ã€‚æ—¢æœ‰è¿›åŒ–ï¼Œå¿…æœ‰é€€åŒ–ã€‚äºæ˜¯å·®åˆ«ä¹‹ä¸‡è±¡ä¸‡æ®Šç”Ÿç„‰ã€‚æƒŸå…¶ä¸ºä¸‡è±¡ä¸‡æ®Šï¼Œæ•…äºå…¨ä½“ä¸ºä¸ªä½“ï¼Œäºå…¨ç”Ÿä¸ºä¸€ç”Ÿã€‚ä¸ªä½“ä¹‹ç§¯ï¼Œå¦‚ä½•å…¶å¹¿å¤§ï¼Œè€Œç»ˆäºæœ‰é™ã€‚ä¸€ç”Ÿä¹‹å‘½ï¼Œå¦‚ä½•å…¶æ‚ ä¹…ï¼Œè€Œç»ˆäºæœ‰æ¶¯ã€‚äºæ˜¯æœ‰ç”Ÿå³æœ‰æ­»ï¼Œæœ‰ç››å³æœ‰è¡°ï¼Œæœ‰é˜´å³æœ‰é˜³ï¼Œæœ‰å¦å³æœ‰æ³°ï¼Œæœ‰å‰¥å³æœ‰å¤ï¼Œæœ‰å±ˆå³æœ‰ä¿¡ï¼Œæœ‰æ¶ˆå³æœ‰é•¿ï¼Œæœ‰ç›ˆå³æœ‰è™šï¼Œæœ‰å‰å³æœ‰å‡¶ï¼Œæœ‰ç¥¸å³æœ‰ç¦ï¼Œæœ‰é’æ˜¥å³æœ‰ç™½é¦–ï¼Œæœ‰å¥å£®å³æœ‰é¢“è€ï¼Œè´¨è¨€ä¹‹æœ‰è€Œå·²çŸ£ã€‚åº„å‘¨æœ‰äº‘ï¼šâ€œæœèŒä¸çŸ¥æ™¦æœ”ï¼ŒèŸªè›„ä¸çŸ¥æ˜¥ç§‹ã€‚â€åˆäº‘ï¼šâ€œå°çŸ¥ä¸å¦‚å¤§çŸ¥ï¼Œå°å¹´ä¸å¦‚å¤§å¹´ã€‚â€å¤«æ™¦æœ”ä¸æ˜¥ç§‹è€Œæœä¸ºæœ‰è€¶ï¼Œä½•ä»¥èŒè›„ä»¥å¤–ä¹‹æœ‰ç”Ÿï¼Œå‡ ç»æ™¦æœ”å‡ å†æ˜¥ç§‹è€…çš†çŸ¥ä¹‹ï¼Œè€ŒèŒè›„ç‹¬ä¸çŸ¥ä¹Ÿï¼Ÿå…¶æœä¸ºæ— è€¶ï¼Œåˆä½•ä»¥èŒè›„è™½ä¸çŸ¥ï¼Œè€ŒèŒè›„ä»¥å¤–ä¹‹æœ‰ç”Ÿï¼Œå‡ ç»æ™¦æœ”å‡ å†æ˜¥ç§‹è€…ï¼Œçš†çŸ¥ä¹‹ä¹Ÿï¼Ÿæ˜¯æœ‰æ— ä¹‹è¯´ï¼Œäº¦è‡³æ— å®šçŸ£ã€‚ä»¥å¾äººä¹‹çŸ¥ï¼Œå°äºå®‡å®™è‡ªç„¶ä¹‹çŸ¥ï¼Œå…¶å¹´å°äºå®‡å®™è‡ªç„¶ä¹‹å¹´ï¼Œè€Œæ¬²æ–­ç©ºé—´æ—¶é—´ä¸èƒ½è¶…è¶Šä¹‹å®‡å®™ä¸ºæœ‰ä¸ºæ— ï¼Œæ˜¯äº¦æœèŒä¹‹æ™¦æœ”ã€èŸªè›„ä¹‹æ˜¥ç§‹è€³ï¼ç§˜è§‚å®‡å®™æœ‰äºŒç›¸ç„‰ï¼šç”±ä½›ç†è¨€ä¹‹ï¼Œå¹³ç­‰ä¸å·®åˆ«ä¹Ÿï¼Œç©ºä¸è‰²ä¹Ÿã€‚ç”±å“²ç†è¨€ä¹‹ï¼Œç»å¯¹ä¸ç›¸å¯¹ä¹Ÿã€‚ç”±æ•°ç†è¨€ä¹‹ï¼Œæœ‰ä¸æ— ä¹Ÿã€‚ç”±æ˜“ç†è¨€ä¹‹ï¼Œå‘¨ä¸æ˜“ä¹Ÿã€‚å‘¨æ˜“éä»¥æ˜­ä»£ç«‹åï¼Œå®‹å„’ç½—æ³Œå°è®ºä¹‹äºã€Šè·¯å²ã€‹ï¼Œè€Œé‡‘æ°åœ£å¹åºã€Šç¦»éªšç»ã€‹ï¼Œé‡Šä¹‹å°¤è¿‘ç²¾å¾®ï¼Œè°“â€œå‘¨å…¶ä½“ä¹Ÿï¼Œæ˜“å…¶ç”¨ä¹Ÿã€‚çº¦æ³•è€Œè®ºï¼Œå‘¨ä»¥å¸¸ä½ä¸ºä¹‰ï¼Œæ˜“ä»¥å˜æ˜“ä¸ºä¹‰ã€‚åŒçº¦äººæ³•ï¼Œåˆ™å‘¨ä¹ƒåœ£äººä¹‹èƒ½äº‹ï¼Œæ˜“ä¹ƒå¤§åƒä¹‹å˜æ˜“ã€‚å¤§åƒæœ¬æ— ä¸€æœ‰ï¼Œæ›´ç«‹ä¸å®šï¼Œæ—¥æ–°ã€æ—¥æ—¥æ–°ã€åˆæ—¥æ–°ä¹‹è°“ä¹Ÿã€‚åœ£äººç‹¬èƒ½ä»¥å¿§æ‚£ä¹‹å¿ƒå‘¨ä¹‹ï¼Œå°˜å°˜åˆ¹åˆ¹ï¼Œæ— ä¸æ™®éï¼Œåˆå¤å°˜å°˜å‘¨äºåˆ¹åˆ¹ï¼Œåˆ¹åˆ¹å‘¨äºå°˜å°˜ï¼Œç„¶åä¸–ç•Œè‡ªè§å…¶æ˜“ï¼Œåœ£äººæ—¶å¾—å…¶å¸¸ï¼Œæ•…äº‘å‘¨æ˜“ã€‚â€ä»²å°¼æ›°ï¼šâ€œè‡ªå…¶å¼‚è€…è§†ä¹‹ï¼Œè‚èƒ†æ¥šè¶Šä¹Ÿï¼›è‡ªå…¶åŒè€…è§†ä¹‹ï¼Œä¸‡ç‰©çš†ä¸€ä¹Ÿã€‚â€æ­¤åŒå¼‚ä¹‹è¾¨ä¹Ÿã€‚ä¸œå¡æ›°ï¼šâ€œè‡ªå…¶å˜è€…è€Œè§‚ä¹‹ï¼Œåˆ™å¤©åœ°æ›¾ä¸èƒ½ä»¥ä¸€ç¬ï¼›è‡ªå…¶ä¸å˜è€…è€Œè§‚ä¹‹ï¼Œåˆ™ç‰©ä¸æˆ‘çš†æ— å°½ä¹Ÿã€‚â€æ­¤å˜ä¸å˜ä¹‹æ®Šä¹Ÿã€‚å…¶å˜è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶ä¸å˜è€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚å…¶å¼‚è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶åŒè€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚å…¶æ˜“è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶å‘¨è€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚å…¶æœ‰è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶æ— è€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚å…¶ç›¸å¯¹è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶ç»å¯¹è€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚å…¶è‰²è€…å·®åˆ«è€…é’æ˜¥ä¹‹è¿›ç¨‹ï¼Œå…¶ç©ºè€…å¹³ç­‰è€…æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚æ¨è€Œè¨€ä¹‹ï¼Œä¹ƒè‡³ç”Ÿæ­»ã€ç››è¡°ã€é˜´é˜³ã€å¦æ³°ã€å‰¥å¤ã€å±ˆä¿¡ã€æ¶ˆé•¿ã€ç›ˆè™šã€å‰å‡¶ã€ç¥¸ç¦ã€é’æ˜¥ç™½é¦–ã€å¥å£®é¢“è€ä¹‹è½®å›åå¤ï¼Œè¿ç»­æµè½¬ï¼Œæ— éé’æ˜¥ä¹‹è¿›ç¨‹ã€‚è€Œæ­¤æ— åˆæ— ç»ˆã€æ— é™æ— æã€æ— æ–¹æ— ä½“ä¹‹æœºè½´ï¼Œäº¦å³æ— å°½ä¹‹é’æ˜¥ä¹Ÿã€‚é’å¹´é”è¿›ä¹‹å­ï¼Œå°˜å°˜åˆ¹åˆ¹ï¼Œç«‹äºæ—‹è½¬ç°¸æ‰¬å¾ªç¯æ— ç«¯ä¹‹å¤§æ´ªæµä¸­ï¼Œå®œæœ‰æ±Ÿæµä¸è½¬ä¹‹ç²¾ç¥ï¼Œå±¹ç„¶ç‹¬ç«‹ä¹‹æ°”é­„ï¼Œå†²è¡å…¶æ½®æµï¼ŒæŠµæ‹’å…¶åŠ¿åŠ›ï¼Œä»¥å…¶ä¸å˜åº”å…¶å˜ï¼Œä»¥å…¶åŒæ“å…¶å¼‚ï¼Œä»¥å…¶å‘¨æ‰§å…¶æ˜“ï¼Œä»¥å…¶æ— æŒå…¶æœ‰ï¼Œä»¥å…¶ç»å¯¹ç»Ÿå…¶ç›¸å¯¹ï¼Œä»¥å…¶ç©ºé©­å…¶è‰²ï¼Œä»¥å…¶å¹³ç­‰å¾‹å…¶å·®åˆ«ï¼Œæ•…èƒ½ä»¥å®‡å®™ä¹‹ç”Ÿæ¶¯ä¸ºè‡ªæˆ‘ä¹‹ç”Ÿæ¶¯ï¼Œä»¥å®‡å®™ä¹‹é’æ˜¥ä¸ºè‡ªæˆ‘ä¹‹é’æ˜¥ã€‚å®‡å®™æ— å°½ï¼Œå³é’æ˜¥æ— å°½ï¼Œå³è‡ªæˆ‘æ— å°½ã€‚æ­¤ä¹‹ç²¾ç¥ï¼Œå³ç”Ÿæ­»è‚‰éª¨ã€å›å¤©å†é€ ä¹‹ç²¾ç¥ä¹Ÿã€‚æ­¤ä¹‹æ°”é­„ï¼Œå³æ…·æ…¨æ‚²å£®ã€æ‹”å±±ç›–ä¸–ä¹‹æ°”é­„ä¹Ÿã€‚æƒŸçœŸçŸ¥çˆ±é’æ˜¥è€…ï¼Œä¹ƒèƒ½è¯†å®‡å®™æœ‰æ— å°½ä¹‹é’æ˜¥ã€‚æƒŸçœŸèƒ½è¯†å®‡å®™æœ‰æ— å°½ä¹‹é’æ˜¥è€…ï¼Œä¹ƒèƒ½å…·æ­¤ç§ç²¾ç¥ä¸æ°”é­„ã€‚æƒŸçœŸæœ‰æ­¤ç§ç²¾ç¥ä¸æ°”é­„è€…ï¼Œä¹ƒèƒ½æ°¸äº«å®‡å®™æ— å°½ä¹‹é’æ˜¥ã€‚</p>
<p>ä¸€æˆä¸€æ¯è€…ï¼Œå¤©ä¹‹é“ä¹Ÿã€‚ä¸€é˜´ä¸€é˜³è€…ï¼Œæ˜“ä¹‹é“ä¹Ÿã€‚å”ç”Ÿç»´å»‰ä¸é“ç‰¹äºŒå®¶ï¼Œé½ç ”ç‰©ç†ï¼ŒçŸ¥å¤©åœ°å¿…æœ‰ç»ˆæï¼Œç›–å¤©ä¹‹è¡Œä¹Ÿä»¥å…¶åŠ¨ï¼Œå…¶åŠ¨ä¹Ÿä»¥ä¸å‡ï¼ŒçŠ¹æ°´ä¹‹æœ‰é«˜ä¸‹è€Œåæµä¹Ÿã€‚ä»Šå¤ªé˜³æœ¬çƒ­å¸¸è€—ï¼Œä»¥å½—æ˜Ÿæ¥å¾€åº¦ä¹‹é€’å·®ï¼ŒçŸ¥åœ°å¤–æœ‰æœ€è½»ä¹‹å†ˆæ°”ï¼Œä¸ºèƒ½é˜»ç‰©ï¼Œæ—¢èƒ½é˜»ç‰©ï¼Œæ–¯èƒ½è€—çƒ­è€—åŠ›ã€‚æ•…å¤§å®‡ç§¯çƒ­åŠ›ï¼Œæ¯æ•£è¶‹å‡å¹³ï¼ŒåŠå…¶å‡å¹³ï¼Œå¤©åœ°ä¹ƒæ¯ã€‚å¤©åœ°ä¸”æœ‰æ—¶è€Œæ¯ï¼Œå†µå…¶é—´æ‰€åŒ…è•´ä¹‹ä¸‡ç‰©ä¹ï¼Ÿæ¼«äº‘å¤©åœ°ï¼Œç©¶ä½•æ‰€æŒ‡ï¼Œæ®Šå«ŒèŒ«æ¼ ï¼Œå¾å®è¨€ä¹‹ï¼Œæœ‰è‹¥åœ°çƒã€‚åœ°çƒä¹‹æœ‰ç”Ÿå‘½ï¼Œå·²ä¸ºåœ°è´¨å­¦å®¶æ‰€æ˜è¯ï¼ŒæƒŸä»Šæ—¥ä¹‹åœ°çƒï¼Œä¸ºå„¿ç«¥åœ°çƒä¹ï¼Ÿé’å¹´åœ°çƒä¹ï¼Ÿä¸å£®åœ°çƒä¹ï¼ŸæŠ‘ç™½é¦–åœ°çƒä¹ï¼Ÿæ­¤å®æœªç­”ä¹‹é—®ä¹Ÿã€‚è‹ŸçŠ¹åœ¨å„¿ç«¥æˆ–é’å¹´ä¹‹æœŸï¼Œå‰é€”è‡ªè¶³ä¹è§‚ï¼Œæ¸¸ä¼˜ä¹åœŸï¼Œæ¥æ—¥æ–¹é•¿ï¼Œäººç”Ÿè¶£å‘³ç›Šä»¥æµ“åšï¼Œç¥å¿—ç›Šä»¥é£èˆï¼›å³åœ¨ä¸å£®ä¹‹å¹´ï¼Œäº¦å±å…ƒç¥ç››æ¶Œï¼Œè¡€æ°”ç•…å‘ä¹‹æœŸï¼Œå¥‹å¿—å‰è¡Œï¼Œäº¦å½“å‹¿æ‡ˆï¼›ç‹¬è‡³åœ°çƒä¹‹å¯¿ï¼Œå·²è‡»ç™½å‘ä¹‹é¢“é¾„ï¼Œåˆ™æ –æ¯å…¶ä¸Šä¹‹å¾äººï¼Œå¤œå¤œä»°è§æ­»æ°”æ²‰æ²‰ä¹‹æœˆçƒï¼Œå¾’å€Ÿæ›œçµä¹‹æœ«å…‰ï¼Œä»¥ç¤ºä¼¤å¿ƒä¹‹é¢œè‰²äºäººå¯°ï¼Œè‹¥ä»¥è­¦å‘Šåœ°çƒä¹‹ç»ˆæœ‰æ­»æœŸä¹Ÿè€…ï¼Œè¨€å¿µåŠæ­¤ï¼Œèƒ½å‹¿æ„€ç„¶ã€‚è™½ç„¶ï¼Œåœ°çƒå³æˆç™½é¦–ï¼Œå¾äººå°šåœ¨é’æ˜¥ï¼Œä»¥å¾äººä¹‹é’æ˜¥ï¼ŒæŸ”åŒ–åœ°çƒä¹‹ç™½é¦–ï¼Œè™½è€çŠ¹æœªè€ä¹Ÿã€‚æ˜¯åˆ™åœ°çƒä¸€æ—¥å­˜åœ¨ï¼Œå³å¾äººä¹‹é’æ˜¥ä¸€æ—¥å­˜åœ¨ã€‚å¾äººä¹‹é’æ˜¥ä¸€æ—¥å­˜åœ¨ï¼Œå³åœ°çƒä¹‹é’æ˜¥ä¸€æ—¥å­˜åœ¨ã€‚å¾äººæœ‰ç°åœ¨ä¸€åˆ¹é‚£ä¹‹åœ°çƒï¼Œå³æœ‰ç°åœ¨ä¸€åˆ¹é‚£ä¹‹é’æ˜¥ï¼Œå³å½“å°½ç°åœ¨ä¸€åˆ¹é‚£å¯¹äºåœ°çƒä¹‹è´£ä»»ã€‚è™½æ˜çŸ¥æœªæ¥ä¸€åˆ¹é‚£ä¹‹åœ°çƒå¿…æ¯ï¼Œå½“çŸ¥æœªæ¥ä¸€åˆ¹é‚£ä¹‹é’æ˜¥ä¸æ¯ï¼Œæœªæ¥ä¸€åˆ¹é‚£ä¹‹åœ°çƒï¼Œè™½éç°åœ¨ä¸€åˆ¹é‚£ä¹‹åœ°çƒï¼Œè€Œæœªæ¥ä¸€åˆ¹é‚£ä¹‹é’æ˜¥ï¼ŒçŠ¹æ˜¯ç°åœ¨ä¸€åˆ¹é‚£ä¹‹é’æ˜¥ã€‚æœªæ¥ä¸€åˆ¹é‚£ä¹‹æˆ‘ï¼Œä»æœ‰å¯¹äºæœªæ¥ä¸€åˆ¹é‚£ä¹‹åœ°çƒä¹‹è´£ä»»ã€‚åº¸å¾—ä»¥è™åœ°çƒå½¢ä½“ä¹‹å¹»ç­ï¼Œè€ŒçŒ¥ä¸ºæ²®ä¸§å“‰ï¼</p>
<p>å¤æ¬¡ï¼Œç”Ÿäºåœ°çƒä¸Šä¹‹äººç±»ï¼Œå…¶çŠ¹åœ¨é’æ˜¥ä¹ï¼ŒæŠ‘å·²è‡»ç™½é¦–ä¹ï¼Ÿå°†æ¥è¡°äº¡ä¹‹é¡·ï¼Œç©¶ä¸åœ°çƒåŒæ—¶è‡ªç„¶æ­»ç­ä¹ï¼ŒæŠ‘å› åœ°çƒæ¸©åº¦æ¿€å˜ï¼Œçªä¸åŠ¨æ¤ç‰©å…±æ­»ç­ä¹ï¼Ÿå…¶æˆ–å…ˆå…¹äº‹å˜ï¼Œå¦‚ä¸ªäººè‹¥æ°‘æ—ä¹‹æ­»ç­ä¹ï¼Ÿæ–¯äº¦éš¾å†³ä¹‹é¢˜ä¹Ÿã€‚ç”Ÿç‰©å­¦è€…ä¹‹è¨€æ›°ï¼šäººç±»ä¹‹ç”Ÿæ´»ï¼Œåä¹è‡ªç„¶ä¹‹ç”Ÿæ´»ä¹Ÿã€‚è‡ªå¦‡äººç•è‘¸ï¼ŒæŠ±å­è€Œå¥”ï¼Œå§‹å­¦ç«‹è¡Œï¼Œèƒ¸éƒ¨æš´éœ²ï¼Œå¿…é¡»è¢«ç‰©ä»¥æ±‚é®å«ï¼Œè€Œäººç±»é‚æœ‰è¡£è£³ï¼›åˆä»¥æ’­è¿è½¬å¾™ï¼Œæ‰€æºé£Ÿç‰©ï¼Œæ˜“äºè…è´¥ï¼Œè€Œäººç±»é‚æœ‰ç«é£Ÿã€‚æœ‰è¡£è£³è€Œäººç±»å¤±å…¶æ¯›å‘çŸ£ï¼Œæœ‰ç«é£Ÿè€Œäººç±»å¤±å…¶èƒƒè‚ çŸ£ã€‚å…¶è¶‹æ–‡æ˜ä¹Ÿæ—¥è¿›ï¼Œå…¶èƒŒè‡ªç„¶ä¹Ÿæ—¥éï¼Œæµ¸å‡æœ‰èˆŸè½¦ç”µæ±½ï¼Œè€Œäººç±»ä¸§å…¶æ‰‹è¶³çŸ£ã€‚æœ‰æœ›è¿œé•œå¾·å¾‹é£ç­‰ï¼Œè€Œäººç±»ä¸§å…¶è€³ç›®çŸ£ã€‚ä»–å¦‚æœ‰ä¹¦æŠ¥ä¼ è¯‘ä¹‹é€Ÿï¼Œæ–‡æ˜åˆ©å™¨ä¹‹æ™®ï¼Œè€Œäººç±»äº¡å…¶è„‘åŠ›ã€‚æœ‰æœºå…³æªå››åäºŒçŠä¹‹ç‚®ï¼Œè€Œäººç±»å¼±å…¶æˆ˜èƒ½ã€‚æœ‰åˆ†å·¥åˆä½œä¹‹éƒ½å¸‚ç”Ÿæ´»ï¼Œæ­Œèˆæ¥¼å°ä¹‹ç¹åæ™¯è±¡ï¼Œè€Œäººç±»å¢å…¶æ–°ç—…ã€‚å‡¡æ­¤ç§ç§ï¼Œäººç±»æ‰€ä»¥æ—¥å“ç­ç§ä¹‹é€”è€…ï¼Œè‹¥å†³æ±Ÿæ²³ï¼Œå¥”æµè«éï¼Œé•¿æ­¤ä¸å·²ï¼ŒåŠ«ç„‰å¯é€ƒï¼Ÿæ­¤è¾ˆå­¦è€…æ‰€ç”±å¤§å£°ç–¾å‘¼ï¼Œå¸ƒå…¹é§´ä¸–å¬é—»ä¹‹å™©è€—ï¼Œè€Œå†€ä»¥è°‹æŒ½æ•‘ä¹‹æ–¹ä¹Ÿã€‚å®—æ•™ä¿¡å£«åˆ™ä»è€Œåä¹‹ï¼Œè°“å®‡å®™ä¸€åˆ‡çš†ä¸ºç¥é€ ï¼Œç»´æŠ¤ä¹‹ä»»ç¥è‡ªå½“ä¹‹ï¼Œå¾äººæ™ºèƒ½è–„å¼±ï¼ŒæƒŸæ‰˜åº‡äºç¥è€Œèƒ½å…äºç½ªæ¶ç¾å„ä¹Ÿã€‚å¦‚ç”Ÿç‰©å®¶è¨€ï¼Œæ˜¯ä¸ºè”‘å¤·ç¥ä¹‹åŠŸå¾·ï¼Œå½±å“æ‰€åŠï¼Œå°†é©±äººç±»å…¥äºæ‚²è§‚ä¹‹é€”ï¼Œåœ£æ™ºä¸”å°šæ— çµï¼Œäººå·¥åˆèƒ¡èƒ½é˜ï¼ŒæƒŸæœ‰ç‘å¿ƒè‡ªæ”¾ï¼Œå±…äºä¸‹æµï¼Œè’äº¡æ—¥ä¹…ï¼Œå°†ä¸ºäººå¿ƒä¸–é“ä¹‹å¿§çŸ£ã€‚æœ«ä¿—æµ‡æ¼“ï¼Œæœªå§‹éä¸ºæ­¤è¯´è€…é˜¶ä¹‹å‰ä¹Ÿã€‚å¾äººå®œåšä¿¡ä¸Šå¸æœ‰å…¨çŸ¥å…¨èƒ½ï¼Œè™”å¿ƒå¥‰ç¥·ï¼Œç½ªæ‚£å¦‚å±±ï¼Œäº¦èƒ½å…çŸ£ã€‚ç”±å‰ä¹‹è¯´ï¼Œå›ºæ˜“æµäºæ‚²è§‚ï¼Œè€Œå…¶è¶³ä»¥è­¦è§‰ä¸–äººï¼Œä¿¾çŸ¥è°‹çŸ«æ­£èƒŒä¹è‡ªç„¶ä¹‹ç”Ÿæ´»ï¼Œæ­¤å…¶æ‰€é•¿ä¹Ÿã€‚ç”±åä¹‹è¯´ï¼Œè™½è¶³ä»¥åšäººä¿¡ä»°ä¹‹åŠ›ï¼Œä¿¾å…¶çµé­‚å¾—ä¼˜æ¸¸äºæ°¸ç”Ÿä¹‹å¤©å›½ï¼Œè€Œå…¶è¿‡å´‡ç¥åŠ›ï¼Œè½»è”‘æœ¬èƒ½ï¼Œå¹¶ä»¥è®³è”½ç§‘å­¦ä¹‹å®é™…ï¼Œä¹ƒå…¶æ‰€çŸ­ä¹Ÿã€‚å¾äººäºæ­¤ï¼Œå®œå¦‚å®—æ•™ä¿¡å£«ä¹‹ä¿¡ä»°ä¸Šå¸è€…ä¿¡äººç±»æœ‰æ— å°½ä¹‹é’æ˜¥ï¼Œæ›´å®œæ‚šç„¶äºç”Ÿç‰©å­¦è€…ä¹‹æ—¨ï¼Œä»¥æ·±è‡ªè­¦æƒ•ï¼ŒåŠ›å›¾äºèƒŒé€†è‡ªç„¶ç”Ÿæ´»ä¹‹ä¸­ï¼Œè€Œèƒ½ä¾äººä¸ºä¹‹å·¥å¤«ï¼Œè‡´å…¶èƒŒé€†è‡ªç„¶ä¹‹ç”Ÿæ´»ï¼Œæ— å¼‚äºé¡ºé€‚è‡ªç„¶ä¹‹ç”Ÿæ´»ã€‚æ–¯åˆ™äººç±»ä¹‹å¯¿ï¼Œè™½åœ¨è€„è€‹ä¹‹å¹´ï¼Œè€Œå¾äººè‹Ÿå¥‹è‡ªæˆ‘ä¹‹æ¬²èƒ½ï¼Œåˆä½•ä¸å¯è¿”äºæ— å°½é’æ˜¥ä¹‹åŸŸï¼Œè€Œå¥èµ·æ­»å›ç”Ÿä¹‹åŠŸä¹Ÿï¼Ÿ</p>
<p>äººç±»ä¹‹æˆä¸€æ°‘æ—ä¸€å›½å®¶è€…ï¼Œäº¦å„æœ‰å…¶ç”Ÿå‘½ç„‰ã€‚æœ‰é’æ˜¥ä¹‹æ°‘æ—ï¼Œæ–¯æœ‰ç™½é¦–ä¹‹æ°‘æ—ï¼Œæœ‰é’æ˜¥ä¹‹å›½å®¶ï¼Œæ–¯æœ‰ç™½é¦–ä¹‹å›½å®¶ã€‚å¾ä¹‹æ°‘æ—è‹¥å›½å®¶ï¼Œæœä¸ºé’æ˜¥ä¹‹æ°‘æ—ã€é’æ˜¥ä¹‹å›½å®¶æ¬¤ï¼ŒæŠ‘ä¸ºç™½é¦–ä¹‹æ°‘æ—ã€ç™½é¦–ä¹‹å›½å®¶æ¬¤ï¼Ÿè‹Ÿå·²æˆç™½é¦–ä¹‹æ°‘æ—ã€ç™½é¦–ä¹‹å›½å®¶ç„‰ï¼Œå¾è¾ˆé’å¹´ä¹‹è°‹æ‰€ä»¥è‡´ä¹‹å›æ˜¥ä¸ºä¹‹å†é€ è€…ï¼Œåˆåº”ä»¥ä½•ç­‰ä¿¡åŠ›ä¸æ„¿åŠ›ä»äº‹ï¼Œè€Œå…‹ä»¥è‘—æ•ˆã€‚æ­¤åˆ™ç³»ä¹é’å¹´ä¹‹è‡ªè§‰ä½•å¦‚è€³ï¼å¼‚æ—ä¹‹è§‡å¾å›½è€…ï¼Œè¾„æ›°ï¼šæ”¯é‚£è€…è€å¤§ä¹‹é‚¦ä¹Ÿã€‚æ”¯é‚£ä¹‹æ°‘æ—ï¼Œæ¿’ç­ä¹‹æ°‘æ—ä¹Ÿã€‚æ”¯é‚£ä¹‹å›½å®¶ï¼Œå¾…äº¡ä¹‹å›½å®¶ä¹Ÿã€‚æ´ªè’è€Œåï¼Œæ°‘æ—è‹¥å›½å®¶ä¹‹é€’å…´é€’äº¡è€…ï¼ŒèŒ»ç„¶å…¶ä¸å¯çºªçŸ£ã€‚ç²¤ç¨½è¥¿å²ï¼Œç½—é©¬ã€å·´æ¯”ä¼¦ä¹‹ç››æ—¶ï¼Œä¸°åŠŸä¼Ÿçƒˆï¼Œå½ªè‘—å¯°å®‡ï¼Œæ›¾å‡ ä½•æ—¶ï¼Œä¸€ä»£å£°åï¼Œéƒ½æˆå°˜åœŸçŸ£ã€‚åªä»Šå±ˆæŒ‡ï¼Œæ¬§åœŸåé‚¦ï¼Œè‹¥æ„å¤§åˆ©ï¼Œè‹¥æ³•å…°è¥¿ï¼Œè‹¥è¥¿ç­ç‰™ï¼Œè‹¥è‘¡è„ç‰™ï¼Œè‹¥å’Œå…°ï¼Œè‹¥æ¯”åˆ©æ—¶ï¼Œè‹¥ä¸¹é©¬ï¼Œè‹¥ç‘å…¸ï¼Œè‹¥é‚£å¨ï¼Œä¹ƒè‡³è‹¥è‹±å‰åˆ©ï¼Œç½”ä¸æœ‰ç§¯å°˜ä¹‹å†å²ï¼Œä»¥é‡ç´¯å…¶å›½å®¶è‹¥æ°‘æ—ä¹‹ç”Ÿå‘½ã€‚å›æº¯å¾€ç¥€ï¼Œæ˜¯ç­‰å›½æ—ï¼Œå›ºçš†å°æœ‰å…¶é’æ˜¥ä¹‹æœŸï¼Œä»¥å…¶ç•…ç››ä¹‹ç”Ÿå‘½ï¼Œå±•å…¶ç‰¹æ®Šä¹‹å¤©æ‰ã€‚è€Œä»Šå·²çŸ£ï¼Œå£°åæ¸è½ï¼Œèº¯å£³ç©ºå­˜ï¼Œçº·çº·è€…çš†æˆæ–‡æ˜å²ä¸Šä¹‹è¿‡å®¢çŸ£ã€‚å…¶æ ¡æ–°è€…ï¼ŒæƒŸå¾·æ„å¿—ä¸å‹ƒç‰™åˆ©ï¼Œæ­¤æ¬¡æˆ˜è¡€æ´ªæ¶›ä¸­ï¼Œåˆä¸ºå…¶ç”Ÿå‘½åŠ›ä¹‹æ‰€æ³¨ï¼Œå‹ƒç„¶æš´å‘ï¼Œä»¥æŒ¥å±•å…¶å¤©æ‰çŸ£ã€‚ç”±å†å²è€ƒä¹‹ï¼Œæ–°å…´ä¹‹å›½æ—ä¸é™ˆè…ä¹‹å›½æ—é‡ï¼Œé™ˆè…è€…å¿…è´¥ï¼›æœæ°”æ¨ªæº¢ä¹‹ç”Ÿå‘½åŠ›ä¸æ­»ç°æ²‰æ»ä¹‹ç”Ÿå‘½åŠ›é‡ï¼Œæ­»ç°æ²‰æ»è€…å¿…è´¥ï¼›é’æ˜¥ä¹‹å›½æ°‘ä¸ç™½é¦–ä¹‹å›½æ°‘é‡ï¼Œç™½é¦–è€…å¿…è´¥ï¼Œæ­¤æ®†å¤©æ¼”å…¬ä¾‹ï¼Œè«æˆ–èƒ½é€ƒè€…ä¹Ÿã€‚</p>
<p>æ”¯é‚£è‡ªé»„å¸ä»¥é™ï¼Œèµ«èµ«ç„¶æ ‘ç‹¬ç«‹ä¹‹å¸œäºäºšä¸œå¤§é™†è€…ï¼Œå››åƒå…«ç™¾ä½™å¹´äºå…¹çŸ£ã€‚å†ä¸–ä¹…è¿œï¼Œçºµè§‚æ¨ªè§ˆï¼Œç½•æœ‰å…¶ä¼¦ã€‚ç¨½å…¶æ°‘æ—é’æ˜¥ä¹‹æœŸï¼Œè¿œåœ¨æœ‰å‘¨ä¹‹ä¸–ï¼Œå…¸ç« æ–‡ç‰©ï¼Œç¿ç„¶å¤§å¤‡ï¼Œè¿‡æ­¤ä»¥å¾€ï¼Œæ¸å‘è¡°æ­‡ä¹‹è¿ï¼Œç„¶çŠ¹æµ¸è¡°æµ¸å¾®ï¼Œæ‰¬å…¶ä½™è¾‰ï¼Œä»¥è‡³äºä»Šæ—¥è€…ï¼Œå¾—ä¸è°“ä¸ºå…¶æ°‘æ—ä¹‹å…‰æ¬¤ï¼Ÿå¤«äººå¯¿ä¹‹æ°¸ï¼Œä¸è¿‡ç™¾å¹´ï¼Œæ°‘æ—ä¹‹å‘½ï¼Œå‚äº”åƒè½½ï¼Œæ–¯äº¦å¯¿ä¹‹è‡³ä¹Ÿã€‚å°åº¦ä¸ºç”Ÿé‡Šè¿¦è€Œå…´ï¼Œæ•…è‡ªé‡Šè¿¦ç”Ÿè€Œå°åº¦æ­»ï¼›çŠ¹å¤ªä¸ºç”Ÿè€¶ç¨£è€Œç«‹ï¼Œæ•…è‡ªè€¶ç¨£ç”Ÿè€ŒçŠ¹å¤ªäº¡ï¼›æ”¯é‚£ä¸ºç”Ÿå­”å­è€Œå»ºï¼Œæ•…è‡ªå­”å­ç”Ÿè€Œæ”¯é‚£è¡°ï¼Œé™µå¤·è‡³äºä»Šæ—¥ï¼Œæ®‹éª¸æ¯éª¨ï¼Œæ»¡ç›®é»¤ç„¶ï¼Œæ°‘æ—ä¹‹ç²¾è‹±ï¼Œæ¾Œç­å°½çŸ£ï¼Œè€Œæ¬²ä¸äº¡ï¼Œåº¸å¯å¾—ä¹ï¼Ÿå¾é’å¹´ä¹‹éª¤é—»æ–¯è¨€è€…ï¼Œæœªæœ‰ä¸å˜è‰²è£‚çœ¥ï¼Œæ€’å…¶ä¾®æˆ‘ä¹‹ç”šä¹Ÿã€‚è™½ç„¶ï¼Œå‹¿æ€’ä¹Ÿã€‚å¾ä¹‹å›½æ—ï¼Œå·²é˜…é•¿ä¹…ä¹‹å†å²ï¼Œè€Œæ­¤é•¿ä¹…ä¹‹å†å²ï¼Œç§¯å°˜é‡å‹ï¼Œä»¥æ¡æ¢å…¶ç”Ÿå‘½è€Œè‡»äºè¡°æ•è€…ï¼Œåˆå®å®¹è®³ï¼Ÿç„¶è€Œå¾æ—é’å¹´æ‰€å½“ä¿¡èª“æ—¦æ—¦ï¼Œä»¥æ˜­ç¤ºäºä¸–è€…ï¼Œä¸åœ¨é¾ˆé¾ˆè¾©è¯ç™½é¦–ä¸­å›½ä¹‹ä¸æ­»ï¼Œä¹ƒåœ¨æ±²æ±²å­•è‚²é’æ˜¥ä¸­å›½ä¹‹å†ç”Ÿã€‚å¾æ—ä»Šåä¹‹èƒ½å¦ç«‹è¶³äºä¸–ç•Œï¼Œä¸åœ¨ç™½é¦–ä¸­å›½ä¹‹è‹Ÿå»¶æ®‹å–˜ï¼Œè€Œåœ¨é’æ˜¥ä¸­å›½ä¹‹æŠ•èƒå¤æ´»ã€‚ç›–å°é—»ä¹‹ï¼Œç”Ÿå‘½è€…ï¼Œæ­»ä¸å†ç”Ÿä¹‹è¿ç»­ä¹Ÿã€‚ä»Šåäººç±»ä¹‹é—®é¢˜ï¼Œæ°‘æ—ä¹‹é—®é¢˜ï¼Œéè‹Ÿç”Ÿæ®‹å­˜ä¹‹é—®é¢˜ï¼Œä¹ƒå¤æ´»æ›´ç”Ÿã€å›æ˜¥å†é€ ä¹‹é—®é¢˜ä¹Ÿã€‚ä¸å¾å¹¶ç§°ä¸ºè€å¤§å¸å›½ä¹‹åœŸè€³å…¶ï¼Œåˆ™é’å¹´ä¹‹æ”¿æ²»è¿åŠ¨ï¼Œå±¡è¯•ä¸ä¸€è¯•ç„‰ã€‚å·´å°”å¹²è¯¸é‚¦ï¼Œåˆ™å„è°‹ç¦»åœŸè‡ªç«‹ï¼Œè€Œä¸ºæ°‘æ—ä¹‹è¿åŠ¨ï¼Œå…µè¿ç¥¸ç»“ï¼Œå¹²æˆˆé¢‘å…´ï¼Œå’ä»¥é…¿ä»Šå…¹ä¸–ç•Œä¹‹å¤§å˜ç„‰ã€‚é¥æœ›å–œé©¬æ‹‰äºšå±±ä¹‹å·…ï¼Œæè§å°åº¦é©å‘½ä¹‹çƒ½çƒŸä¸€ç¼•ï¼Œå¼•è€Œå¼¥é•¿ï¼Œæ˜¯äº¦æ¬²å›å…¶æ°‘æ—ä¹‹é’æ˜¥ä¹Ÿã€‚å¾åè‡ªè¾›äº¥é¦–ä¹‰ï¼Œç™¸ä¸‘ä¹‹å½¹ç»§ä¹‹ï¼Œå–˜æ¯æœªå®‰ï¼Œé£å°˜æ¾’æ´ï¼Œåˆå¤å€¾åŠ¨ä¹æœï¼Œæ˜¯äº¦æ¬²å†é€ å…¶ç¥å·ä¹Ÿã€‚è€Œåœ¨æ˜¯ç­‰å›½æ—ï¼Œå‡¡ä»¥å†²å†³å†å²ä¹‹æ¡æ¢ï¼Œæ¶¤è¡å†å²ä¹‹ç§¯ç§½ï¼Œæ–°é€ æ°‘æ—ä¹‹ç”Ÿå‘½ï¼ŒæŒ½å›æ°‘æ—ä¹‹é’æ˜¥è€…ï¼Œå›ºè«ä¸æƒŸå…¶é’å¹´æ˜¯æœ›çŸ£ã€‚å»ºå›½ä¼Šå§‹ï¼Œè‚‡é”¡å˜‰åï¼Œå®ç»´ä¸­åã€‚ä¸­åä¹‹ä¹‰ï¼Œæœä½•å±…ä¹ï¼Ÿä¸­è€…ï¼Œå®…ä¸­ä½æ­£ä¹‹è°“ä¹Ÿã€‚å¾è¾ˆé’å¹´ä¹‹å¤§ä»»ï¼Œä¸ä»…ä»¥äºç©ºé—´èƒ½è‡´ä¸­åä¸ºå¤©ä¸‹ä¹‹ä¸­è€Œé‚è¶³ï¼Œå¹¶å½“äºæ—¶é—´è€Œè°›æ—¶ä¸­ä¹‹æ—¨ä¹Ÿã€‚æ—·è§‚ä¸–ç•Œä¹‹å†å²ï¼Œå¤å¾€ä»Šæ¥ï¼Œå˜è¿ä½•æï¼å¾äººå½“äºä»Šå²ä¹‹é’æ˜¥ï¼Œç”»ä¸ºä¸­ç‚¹ï¼Œä¸­ä»¥å‰ä¹‹å†å²ï¼Œä¸è¿‡å¦‚è¿›åŒ–è®ºä»…äºè€ƒç©¶å¤ªé˜³åœ°çƒåŠ¨æ¤å„ç‰©ä¹ƒè‡³äººç±»ä¹‹å¦‚ä½•å‘ç”Ÿã€å¦‚ä½•è¿›åŒ–è€…ï¼Œä»¥çºªäººç±»æ°‘æ—å›½å®¶ä¹‹å¦‚ä½•å‘ç”Ÿã€å¦‚ä½•è¿›åŒ–ä¹Ÿã€‚ä¸­ä»¥åä¹‹å†å²ï¼Œåˆ™ä»¥æ˜¯ä¸ºå¤ä»£å²ä¹‹èŒï¼Œè€Œåˆ«ä»¥çºªäººç±»æ°‘æ—å›½å®¶ä¹‹æ›´ç”Ÿå›æ˜¥ä¸ºå…¶ä¸­å¿ƒä¹‹çš„ä¹Ÿã€‚ä¸­ä»¥å‰ä¹‹å†å²ï¼Œå°é—­ä¹‹å†å²ï¼Œç„šæ¯ä¹‹å†å²ï¼Œè‘¬è¯¸åŸå¢“ä¹‹å†å²ä¹Ÿã€‚ä¸­ä»¥åä¹‹å†å²ï¼Œæ´ç™½ä¹‹å†å²ï¼Œæ–°è£…ä¹‹å†å²ï¼Œå¾…æ–½ç»šç»˜ä¹‹å†å²ä¹Ÿã€‚ä¸­ä»¥å‰ä¹‹å†å²ï¼Œç™½é¦–ä¹‹å†å²ï¼Œé™ˆæ­»äººä¹‹å†å²ä¹Ÿã€‚ä¸­ä»¥åä¹‹å†å²ï¼Œé’æ˜¥ä¹‹å†å²ï¼Œæ´»é’å¹´ä¹‹å†å²ä¹Ÿã€‚é’å¹´ä¹ï¼å…¶ä»¥ä¸­ç«‹ä¸å€šä¹‹ç²¾ç¥ï¼Œè‚©å…¹ç ¥æŸ±ä¸­æµä¹‹è´£ä»»ï¼Œå³ç”±ä»Šå¹´ä»Šæ˜¥ä¹‹ä»Šæ—¥ä»Šåˆ¹é‚£ä¸ºæ—¶ä¸­ä¹‹èµ·ç‚¹ï¼Œå–ä¸–ç•Œä¸€åˆ‡ç™½é¦–ä¹‹å†å²ï¼Œä¸€ç«è€Œæ‘§ç„šä¹‹ï¼Œè€Œä¸“ä»¥å‘æŒ¥é’æ˜¥ä¸­åä¹‹ä¸­ï¼Œç¼€å…¶ä¸€ç”Ÿä¹‹ç¾äºä¸­ä»¥åå†å²ä¹‹é¦–é¡µï¼Œä¸ºå…¶èŒå¿—ï¼Œè€Œå‹¿é€¡å·¡ä¸å‰ã€‚åè€…ï¼Œæ–‡æ˜å¼€æ•·ä¹‹è°“ä¹Ÿï¼Œåä¸å®ç›¸ä¸ºè½®å›ï¼Œå³å¼€æ•·ä¸åºŸè½ç›¸ä¸ºå¬—ä»£ã€‚ç™½é¦–ä¸­åè€…ï¼Œé’æ˜¥ä¸­åæœ¬ä»¥èƒšå­•ä¹‹å®ä¹Ÿã€‚é’æ˜¥ä¸­åè€…ï¼Œç™½é¦–ä¸­åæ‰˜ä»¥å†ç”Ÿä¹‹åä¹Ÿã€‚ç™½é¦–ä¸­åè€…ï¼Œæ¸å³åºŸè½ä¹‹ä¸­åä¹Ÿã€‚é’æ˜¥ä¸­åè€…ï¼Œæ–¹å¤å¼€æ•·ä¹‹ä¸­åä¹Ÿã€‚æœ‰æ¸å³åºŸè½ä¹‹ä¸­åï¼Œæ‰€ä»¥æœ‰æ–¹å¤å¼€æ•·ä¹‹ä¸­åã€‚æœ‰å‰ä¹‹åºŸè½ä»¥ä¾›ä»Šä¹‹å¼€æ•·ï¼Œæ–¯æœ‰åä¹‹å¼€æ•·ä»¥ç»­ä»Šä¹‹åºŸè½ï¼Œå³åºŸè½ï¼Œå³å¼€æ•·ï¼Œå³å¼€æ•·ï¼Œå³åºŸè½ï¼Œç»ˆç«Ÿå¦‚æ˜¯åºŸè½ï¼Œç»ˆç«Ÿå¦‚æ˜¯å¼€æ•·ã€‚å®‡å®™æœ‰æ— å°½ä¹‹é’æ˜¥ï¼Œæ–¯å®‡å®™æœ‰ä¸è½ä¹‹åï¼Œè€Œæ ½ä¹‹ã€åŸ¹ä¹‹ã€çŒä¹‹ã€æº‰ä¹‹ã€èµç©ä¹‹ã€äº«çˆ±ä¹‹è€…ï¼Œèˆé’æ˜¥ä¸­åä¹‹é’å¹´ï¼Œæ›´è°ä¸å½’çŸ£ï¼Ÿé’å¹´ä¹ï¼Œå‹¿å¾’å‘æ„¿ï¼Œæ„¿æ˜¥å¸¸åœ¨åå¸¸å¥½ä¹Ÿï¼Œæ„¿åå¸¸å¾—é’æ˜¥ï¼Œé’æ˜¥å¸¸åœ¨äºåä¹Ÿã€‚å®œæœ‰å³åä¸å¾—é’æ˜¥ï¼Œé’æ˜¥ä¸åœ¨äºåï¼Œäº¦å¿…å¥‹å…¶å›æ˜¥å†é€ ä¹‹åŠªåŠ›ï¼Œä½¿åºŸè½è€…å¤ä¸ºå¼€æ•·ï¼Œå¼€æ•·è€…ç»ˆä¸åºŸè½ï¼Œä½¿åä¸èƒ½ä¸å¾—é’æ˜¥ï¼Œé’æ˜¥ä¸èƒ½ä¸åœ¨äºåä¹‹å†³å¿ƒä¹Ÿã€‚æŠ‘å¾é—»ä¹‹åŒ–å­¦å®¶ç„‰ï¼ŒåœŸè´¨è™½è…´ï¼Œè‚¥æ–™è™½å¤šï¼Œè€•ç§æ•°è½½ï¼Œåœ°æ–¹ã€”åŠ›ã€•å¿…è€—ï¼Œç ‚åœŸç¡¬åŒ–ï¼Œæ— èƒ½å…ä¹Ÿï¼Œå°†æ¬²æŸ”èä¹‹ï¼Œä¿¾å†åäºä¸°ç©°ã€”å£¤ã€•ï¼ŒæƒŸæœ‰ä¸€ç§è‰æœ¨ä¸ºèƒ½è‡´ä¹‹ï¼Œä¸ºå…¶èƒ½ç”±ç©ºä¸­å¸æ”¶çª’ç´ è‚¥æ–™ï¼Œæ³¨å…¥åœŸä¸­è€Œæ²ƒæ¶¦ä¹‹ä¹Ÿã€‚ç¥å·èµ¤å¿ï¼Œå¤ç§°å¤©åºœï¼Œèƒ¡ä»¥è‡³ä»Šå¾’æœ‰ä¸‡æœ¨ç§‹å£°ã€è§è§è½å¶ä¹‹æ‚²ï¼Œæ˜”æ—¶ç¹åä¹‹ç››ï¼Œè’å‡‰åºŸè½è‡³äºæ­¤æä¹Ÿï¼æ¯‹äº¦æ— æ­¤ç§è‰æœ¨ä¸ºä¹‹æ–‡æŸ”å’Œæ¶¦ä¹‹è€³ã€‚é’å¹´ä¹‹äºç¤¾ä¼šï¼Œæ®†çŠ¹æ­¤ç§è‰æœ¨ä¹‹äºç”°ç•®ä¹Ÿã€‚ä»æ­¤å¹¿æ¤æ ¹è’‚ï¼Œæ·±å›ºä¸å¯å¤æ‹”ï¼Œä¸æ•°å¹´é—´ï¼Œå°†è§é’æ˜¥ä¸­åä¹‹å‚å¤©è“Šéƒï¼Œé”™èŠ‚ç›˜æ ¹ï¼Œæ ‘äºä¸–ç•Œï¼Œè€Œç¥å·ä¹‹åŸŸï¼Œè¿˜å…¶ä¸°ç©—ã€”å£¤ã€•ï¼Œå¤å…¶è†è…´çŸ£ã€‚åˆ™è°“æ­¤èèèŒèŒä¹‹é’å¹´ï¼Œå³æ­¤æ–¹å¤å¼€æ•·ä¹‹é’æ˜¥ä¸­åå¯ä¹Ÿã€‚</p>
<p>é¡¾äººä¹‹ç”Ÿä¹Ÿï¼Œè‹Ÿä¸èƒ½çª¥è§å®‡å®™æœ‰æ— å°½ä¹‹é’æ˜¥ï¼Œåˆ™è‡ªå‘±å‘±å •åœ°ï¼Œè¿„äºè€æ­»ï¼Œè§‰å…¶é—´ä¹‹æ˜¥å…‰ï¼Œè¿…äºç”µæ³¢çŸ³ç«ï¼Œä¸å¯æ·¹ç•™ï¼Œæµ®ç”Ÿè‹¥æ¢¦ï¼Œç›´èŒé¹¤é©¬èœ©ä¹‹è¿‡ä¹å‰è€³ã€‚æ˜¯ä»¥å·ä¸Šå°¼çˆ¶ï¼Œæœ‰é€è€…å¦‚æ–¯ä¹‹å—Ÿï¼›æ¹˜æ°´çµå‡ï¼Œå…´æ˜¥ç§‹ä»£åºä¹‹æ„Ÿã€‚å…¶ä»–é£éªšé›…å£«ï¼Œæˆ–ç§‰çƒ›å¤œæ¸¸ï¼›å‹¤äº‹åŠ³äººï¼Œæˆ–é‡æƒœåˆ†å¯¸ã€‚è€Œä¸€ä»£å¸ç‹ï¼Œä¸€æ—¶è±ªå¯Œï¼Œå½“å…¶å‚æš®ä¹‹å¹´ï¼Œç»è¯€ä¹‹é™…ï¼Œè´ªæ‹å¹¸ç¦ï¼Œä¸å¿ç¦»èˆï¼Œæ¯ä¸ºå’¨å—Ÿå¤ªæ¯ï¼Œå°½å…¶æƒåŠ›é»„é‡‘ä¹‹ç”¨ï¼Œæ— èƒ½æ°¸ä¸€ç¬ä¹‹å¤©å¹´ï¼Œè€Œé‡ç•™é—æ†¾äºé•¿ç”Ÿä¹‹æ— æœ¯ç„‰ã€‚ç§¦æ”¿å¹¶åå…«è’ï¼Œç»Ÿåˆ¶å››æµ·ï¼Œå›ºä¸€ä¸–ä¹‹é›„ä¹Ÿï¼Œæ™šå¹´ç•æ­»ï¼Œéé£ç¾½å®¢ï¼Œæœè§…ç¥ä»™ï¼Œæ±‚ä¸è€ä¹‹è¯ï¼Œå’æœªèƒ½è·ï¼Œä¸€æ—¦é­‚æ–­ï¼Œå®«è½¦æ™šå‡ºã€‚æ±‰æ­¦ç©·å…µï¼Œè›®è’æ…‘ä¼ï¼Œæ±‰ä»£ä¹‹è‹±ä¸»ä¹Ÿï¼Œæš®å¹´æ°¸å¹ï¼Œç©ºæœ‰â€œæ¬¢ä¹æå…®å“€æƒ…å¤šï¼Œå°‘å£®å‡ æ—¶å…®å¥ˆè€ä½•â€ä¹‹æ…¨ã€‚æœ€è¿‘ç¾å›½å¯Œè±ªæŸï¼Œä»¥æ¯•ä¸»ã€”ç”Ÿã€•ä¹‹å¥‹æ–—ï¼Œåšå¾—â–¡å¼ä¹‹ç‹å† ï¼Œè¡°ç—…ç›¸å‚¬ï¼Œæ¿’äºè€æ­»ï¼Œåˆ™æŠšæ•è€Œå¹æ›°ï¼šâ€œè‹Ÿèƒ½å»¶ä¸€æœˆä¹‹å‘½ï¼ŒæŠ¥ä»¥åƒä¸‡é‡‘å¼—æƒœä¹Ÿã€‚â€ç„¶æ˜¯åˆå®‰å¯å¾—å“‰ï¼Ÿå¤«äººä¹‹ç”Ÿä¹Ÿæœ‰é™ï¼Œå…¶æ¬²ä¹Ÿæ— ç©·ï¼Œä»¥æ— ç©·ä¹‹æ¬²ï¼Œé€æœ‰é™ä¹‹ç”Ÿï¼Œåä»¤ä¼¼æ°´å¹´åï¼Œæ»”æ»”ä¸œå»ï¼Œçº¢é¢œéš¾å†ï¼Œç™½å‘ç©ºæ‚²ï¼Œå…¶æ®†äººä¹‹æ— å¥ˆå¤©ä½•è€…æ¬¤ï¼æ¶‰å¿µåŠæ­¤ï¼Œç°è‚ æ–­æ°”ï¼ŒåŒä¸–ä¹‹æ€ï¼Œæ²¹ç„¶è€Œç”Ÿã€‚è´¤è€…ä»æ™ºä¿±ç©·ï¼Œä¸è‚–è€…æµè¿å¿˜è¿”ï¼Œè€Œäººç”Ÿä¹‹è•²å‘è’çŸ£ï¼Œæ˜¯åˆå²‚é’å¹´ä¹‹æ‰€å®œå‡ºå“‰ï¼Ÿäººç”Ÿå…¹ä¸–ï¼Œæ›´æ— ä¸€åˆ¹é‚£ä¸åœ¨é’æ˜¥ï¼Œä¸ºå…¶å±…æ— å°½é’æ˜¥ä¹‹ä¸€éƒ¨ï¼Œä¸ºæ— å°½é’æ˜¥ä¹‹è¿‡ç¨‹ä¹Ÿã€‚é¡¾é’å¹´ä¹‹äººï¼Œæˆ–ä¸å¾—å¸¸äº«é’æ˜¥ä¹‹ä¹è€…ï¼Œä»¥å…¶æœ‰é»„é‡‘æƒåŠ›ä¸€åˆ‡çƒ¦å¿§è‹¦æ¼æœºæ¢°ç”Ÿæ´»ï¼Œä¸ºé’æ˜¥ä¹‹ç´¯è€³ã€‚è°šäº‘ï¼šâ€œç™¾é‡‘ä¹°éªé©¬ï¼Œåƒé‡‘ä¹°ç¾äººï¼Œä¸‡é‡‘ä¹°çˆµç¦„ï¼Œä½•å¤„ä¹°é’æ˜¥ï¼Ÿâ€å²‚æƒŸæ— å¤„è´­ä¹°ï¼Œé‚“æ°é“œå±±ï¼Œéƒ­å®¶é‡‘ç©´ï¼Œæ„ˆæœ‰ä»¥éšœç¹„ã€”ç¿³ã€•é’æ˜¥ä¹‹è·¯ä¿¾æ— ç”±è¾¾äºå…¶å¢ƒä¹Ÿã€‚ç½—é©¬äºšå¸ƒè¾¾å°”æ›¼å¸ï¼Œä½åœ¨çš‡æï¼Œå¯Œæœ‰å››æµ·ï¼Œä¸å¯è°“ä¸å°ŠçŸ£ï¼Œä¸´ç»ˆè¯­å…¶è¿‘ä¾ï¼Œè°“å››åå¹´é—´ï¼ŒçœŸæ„Ÿæ„‰å¿«è€…ï¼Œä»…æœ‰ä¸‰æ—¥ã€‚æƒåŠ›ä¹‹ä¸è¶³ç¦äººï¼Œä»¥è§†é»„é‡‘ï¼Œåˆæ— å·®ç­‰ã€‚è€Œä»¥å››åå¹´ä¹‹é’æ˜¥ï¼Œå¨±å¿ƒä¸è¿‡ä¸‰æ—¥ï¼Œæ‚¼å¿ƒæ‚”æ†¾ï¼Œå®æœ‰ç©·è€¶ï¼Ÿå¤«é’å¹´å®‰å¿ƒç«‹å‘½ä¹‹æ‰€ï¼Œä¹ƒåœ¨å¾ªä»Šæ—¥ä¸»ä¹‰ä»¥è¿›ï¼Œä»¥å¾äººä¹‹ç”Ÿï¼Œæ´µå¦‚å¡è±å°”æ‰€äº‘ï¼Œç‰¹ä¸ºæ—¶é—´æ‰€æ‰§ä¹‹æ— é™è€Œå·²ã€‚æ— é™ç°è€Œä¸ºæˆ‘ï¼Œä¹ƒä¸ºç°åœ¨ï¼Œéä¸ºè¿‡å»ä¸å°†æ¥ä¹Ÿã€‚è‹Ÿäº†ç°åœ¨ï¼Œå³äº†æ— é™çŸ£ã€‚æ˜”è€…åœ£å¹ä½œè¯—ï¼Œæœ‰â€œä½•å¤„è°äººç‰ç¬›å£°â€ä¹‹å¥ã€‚é‡Šå¼“å¹´å°ï¼Œçªƒä»¥ç‰å­—ä¸ºæœªå®‰ï¼Œè€Œè´¨ä¹‹åœ£å¹ã€‚åœ£å¹åˆ™æ›°ï¼šâ€œå½¼è‹¥è¯´â€˜æˆ‘æ‰€å¹æœ¬æ˜¯é“ç¬›ï¼Œæ±ä½•å¾—ç”¨ä½œç‰ç¬›ï¼Ÿâ€™æˆ‘ä¾¿äº‘ï¼šâ€˜æˆ‘å·²ç”¨ä½œç‰ç¬›ï¼Œæ±ä½•å¾—æ›´å¹é“ç¬›ï¼Ÿâ€™å¤©ç”Ÿæˆ‘æ‰ï¼Œå²‚ä¸ºæ±é“ç¬›ä½œå¥´å„¿å©¢å­æ¥è€¶ï¼Ÿâ€å¤«é“å­—ä¸ç‰å­—ï¼Œæœ‰ä½•ä¸å¯é€šèæ›´æ˜“ä¹‹å¤„ã€‚åœ£å¹é¡¾ä¸ä¹‹äº‰ä¸€å­—ä¹‹çŸ­é•¿è€Œä¸æƒ®çƒ¦è€…ï¼Œäº¦æ¬²ä¸ä¹‹äº‰æˆ‘ä¹‹ç°åœ¨è€³ã€‚è¯—äººæ‹œè½®ï¼Œæ”¾æµªä¸ç¾ï¼Œæ—¶äººä½ä¹‹ï¼Œè°“äºæ¥ä¸–å¿…å½“é…·å—åœ°ç‹±ä¹‹è‹¦ã€‚æ‹œè½®ç­”æ›°ï¼šâ€œåŸºç£æ•™å¾’è‡ªè‹¦äºç°ä¸–ï¼Œè€Œæ¬²ç¥ˆç¦äºæ¥ä¸–ã€‚éåŸºç£æ•™å¾’ï¼Œåˆ™äºç°ä¸–æ—·é€¸è‡ªé—ã€”é£ã€•ï¼Œæ¥ä¸–ä¹‹è‹¦ï¼Œéæ‰€è¾ä¹Ÿã€‚â€äºŒè€…ç›¸æ ¡ï¼Œä½†æœ‰å…ˆåä¹‹åˆ«ï¼Œå®‰æœ‰åˆ†é‡ä¹‹å·®ã€‚æ‹œè½®æ­¤è¨€ï¼Œå›ºç”šçŸ«æ¿€ï¼Œä¸”å¯“é£åˆºä¹‹æ—¨ã€‚ä»¥ä½™è§‚ä¹‹ï¼Œç°ä¸–æœ‰ç°ä¸–ä¹‹ä¹ï¼Œæ¥ä¸–æœ‰æ¥ä¸–ä¹‹ä¹ã€‚ç°ä¸–æœ‰ç°ä¸–ä¹‹é’æ˜¥ï¼Œæ¥ä¸–æœ‰æ¥ä¸–ä¹‹é’æ˜¥ã€‚ä¸ºè´ªæ¥ä¸–ä¹‹ä¹ä¸é’æ˜¥ï¼Œè€Œè¿Ÿå¾ç°ä¸–ä¹‹ä¹ä¸é’æ˜¥ï¼Œå›ºæ‰€ä¸è®¸ã€‚è€Œä¸ºè´ªç°ä¸–ä¹‹ä¹ä¸é’æ˜¥ï¼Œé½å¼ƒå¾æ¥ä¸–ä¹‹ä¹ä¸é’æ˜¥ï¼Œäº¦æ‰€å¼—åº”ä¹Ÿã€‚äººç”Ÿæ±‚ä¹ï¼Œä½•æ‰€ä¸å¯ï¼Œäº¦ä½•å¿…å¦„åˆ†å…ˆåï¼ŒåŒºå¼‚ä»Šæ¥ä¹Ÿï¼Ÿè€¶æ›¼å­™æ›°ï¼šâ€œå°”è‹¥çˆ±åƒå¤ï¼Œå½“åˆ©ç”¨ç°åœ¨ã€‚æ˜¨æ—¥ä¸èƒ½å‘¼è¿˜ï¼Œæ˜æ—¥å°šæœªç¡®å®ã€‚å°”èƒ½ç¡®æœ‰æŠŠæ¡è€…ï¼ŒæƒŸæœ‰ä»Šæ—¥ã€‚ä»Šæ—¥ä¹‹ä¸€æ—¥ï¼Œé€‚å½“æ˜æ™¨ä¹‹äºŒæ—¥ã€‚â€æ–¯è¨€è¶³å‘å¾äººä¹‹æ·±çœçŸ£ã€‚ç›–ç°åœ¨è€…å¾äººé’æ˜¥ä¸­ä¹‹é’æ˜¥ä¹Ÿã€‚é’æ˜¥ä½œä¼´ä»¥è¿˜äºå¤§æ¼ ä¹‹ä¹¡ï¼Œæ— å¦‚è€Œä¸è‡ªå¾—ï¼Œæ›´ä½•çƒ¦å¿§ä¹‹æœ‰ç„‰ã€‚çƒ¦å¿§æ—¢è§£ï¼Œææ€–å¥šä¸ºï¼Ÿè€¶æ¯”å¤è¾¾å£«æ›°ï¼šâ€œè´«ä¸è¶³æï¼Œæµçªœä¸è¶³æï¼Œå›¹åœ„ä¸è¶³æï¼Œæœ€å¯æè€…ï¼Œææ€–å…¶ç‰©ä¹Ÿã€‚â€ç¾ä¹‹æ”¿é›„ç½—æ–¯ç¦æ°ï¼Œè§£æ”¿ä¹‹åï¼Œæ¸¸çŒè’å±±ï¼Œå¥‹å…¶é“è…•ï¼Œä»¥ä¸è™è±¹ç†Šç½´ç›¸ææˆ˜ã€‚ä¸€æ—¥çŒç™½ç†Šï¼Œé™©é­åå™¬ï¼Œè‡ªä¼ å…¶äº‹ï¼Œè°“ä¸ºä¸ä»¥ææ€–è¯¯å…¶ç¨çºµå³é€ä¹‹æœºä¹‹æ•ˆï¼Œå§‹è·å…ç„‰ã€‚äºä»¥çŸ¥ææ€–ä¸ºç‰©ï¼Œå†³ä¸èƒ½æ‹¯äººäºå±ã€‚è‹Ÿå…¶æ˜æ—¥å°†æœ‰å¤§ç¥¸ä¸´äºå¾èº¬ï¼Œæ— è®ºå¦‚ä½•ææ€–ï¼Œæ˜æ—¥ä¹‹ç¥¸ä¸‡ä¸èƒ½å› æ˜¯è€Œå‡å…¶è±ªã€”æ¯«ã€•æœ«ã€‚è€Œä»Šæ—¥ä¹‹æˆ‘ï¼Œåˆ™å› æ˜¯è€Œå¤§æŸå…¶æ°”åŠ›ï¼Œä¿¾ä¸è¶³ä»¥å¾¡æ˜æ—¥ä¹‹ç¥¸è€Œä¸ä¹‹æŠ—ä¹Ÿã€‚è‰°è™ä¸‡éš¾ä¹‹å¢ƒï¼Œæ¨ªäºå¾å‰ï¼Œå¾æƒŸæœ‰æˆ‘ã€æœ‰æˆ‘ä¹‹ç°åœ¨è€Œè¶³æƒã€‚å ‚å ‚ä¸ƒå°ºä¹‹èº¯ï¼Œå¾˜å¾Šå›é¡¾ï¼Œå‰ä¸è§å¤äººï¼Œåä¸è§æ¥è€…ï¼ŒæƒŸæœ‰æ˜‚å¤´é˜”æ­¥ï¼Œç‹¬å¾€ç‹¬æ¥ï¼Œä½•å¾…ä»–äººä¹‹æ´æ‰‹ï¼Œå§‹ä»¥é‚å…¶ç”Ÿè€…ï¼Œæ›´èƒ¡ä¸ºä¹â€œå¿µå¤©åœ°ä¹‹æ‚ æ‚ ï¼Œç‹¬æ€†ç„¶è€Œæ¶•ä¸‹â€å“‰ï¼ŸæƒŸè¶³ä¸ºç´¯äºæˆ‘ä¹‹ç°åœ¨åŠç°åœ¨ä¹‹æˆ‘è€…ï¼Œæœºæ¢°ç”Ÿæ´»ä¹‹é‡è·ï¼Œä¸è¿‡å»å†å²ä¹‹ç§¯å°˜ï¼Œæ®†æœ‰åŒä¸€ä¹‹åŠ›ç„‰ã€‚ä»Šäººä¹‹èµ´åˆ©ç¦„ä¹‹é€”ä¹Ÿï¼Œå¦‚èšä¹‹å°±ç¾¶ï¼Œè›¾ä¹‹æŠ•ç«ï¼Œç©¶å…¶æ‰€ä¼ï¼Œå…‹è‡´å¿—å¾—æ„æ»¡ä¹‹æœï¼Œè€Œè¥è¥æ‰°æ‰°ï¼Œå·²é€¾åŠç”Ÿï¼Œä»¥å­‘ç„¶ä¹‹èº«ï¼Œå¼ºè´Ÿé»„é‡‘ä¸æƒåŠ¿ä¹‹é‡è·ä»¥è¶‹ï¼Œå‡ ä½•ä¸ä¸ºæ‰€é‡å‹è€Œåƒµæ¯™è€¶ï¼Ÿç›–å…¶ä¼˜äºæƒå¯Œå³å…¶çŸ­äºé’æ˜¥è€…ä¹Ÿã€‚è€¶ç»æœ‰äº‘ï¼šâ€œå¯Œäººä¹‹æ¬²å…¥å¤©å›½ï¼ŒçŠ¹ä¹‹éª†é©¼æ¬²æ½œèº«äºé’ˆå­”ã€‚â€æ­¤ä»¥å–»é‡è·ä¹‹ä¸é’æ˜¥ä¸å¹¶å­˜ä¹Ÿã€‚æ€»ä¹‹ï¼Œé’å¹´ä¹‹è‡ªè§‰ï¼Œä¸€åœ¨å†²å†³è¿‡å»å†å²ä¹‹ç½‘ç½—ï¼Œç ´åé™ˆè…å­¦è¯´ä¹‹å›¹åœ„ï¼Œå‹¿ä»¤åƒµå°¸æ¯éª¨ï¼ŒæŸç¼šç°åœ¨æ´»æ³¼æ³¼åœ°ä¹‹æˆ‘ï¼Œè¿›è€Œçºµç°åœ¨é’æ˜¥ä¹‹æˆ‘ï¼Œæ‰‘æ€è¿‡å»é’æ˜¥ä¹‹æˆ‘ï¼Œä¿ƒä»Šæ—¥é’æ˜¥ä¹‹æˆ‘ï¼Œç¦…è®©æ˜æ—¥é’æ˜¥ä¹‹æˆ‘ã€‚ä¸€åœ¨è„±ç»æµ®ä¸–è™šä¼ªä¹‹æœºæ¢°ç”Ÿæ´»ï¼Œä»¥ç‰¹ç«‹ç‹¬è¡Œä¹‹æˆ‘ï¼Œç«‹äºè¡Œå¥ä¸æ¯ä¹‹å¤§æœºè½´ã€‚è¢’è£¼è£¸è£ï¼Œå»æ¥æ— ç½«ï¼Œå…¨å…¶ä¼˜ç¾é«˜å°šä¹‹å¤©ï¼Œä¸ä»…ä»¥ä»Šæ—¥é’æ˜¥ä¹‹æˆ‘ï¼Œè¿½æ€ä»Šæ—¥ç™½é¦–ä¹‹æˆ‘ï¼Œå¹¶å®œä»¥ä»Šæ—¥é’æ˜¥ä¹‹æˆ‘ï¼Œé¢„æ€æ¥æ—¥ç™½é¦–ä¹‹æˆ‘ï¼Œæ­¤å›ºäººç”Ÿå”¯ä¸€ä¹‹è•²å‘ï¼Œé’å¹´å”¯ä¸€ä¹‹è´£ä»»ä¹ŸçŸ£ã€‚æ‹‰å‡¯å°”æ›°ï¼šâ€œé•¿ä¿é’æ˜¥ï¼Œä¸ºäººç”Ÿæ— ä¸Šä¹‹å¹¸ç¦ï¼Œå°”æ¬²äº«å…¹å¹¸ç¦ï¼Œå½“æ­»äºå°‘å¹´ä¹‹ä¸­ã€‚â€å¾æ„¿å¾äº²çˆ±ä¹‹é’å¹´ï¼Œç”Ÿäºé’æ˜¥æ­»äºé’æ˜¥ï¼Œç”Ÿäºå°‘å¹´æ­»äºå°‘å¹´ä¹Ÿã€‚å¾·å›½å²å®¶å­Ÿå­™æ°ï¼Œè¯„éª˜é”¡æœ­æ›°ï¼šâ€œå½¼ç”±é’æ˜¥ä¹‹æ¯ï¼Œé¥®äººç”Ÿä¹‹æ°´ï¼Œå¹¶æ³¡æ²«è€Œå¹²ä¹‹ã€‚â€å¾æ„¿å¾äº²çˆ±ä¹‹é’å¹´ï¼Œæ“æ­¤å¤œå…‰ä¹‹æ¯ï¼Œä¸¾äººç”Ÿä¹‹é†é†æµ†æ¶²ï¼Œä¸€é¥®è€Œå¹²ä¹Ÿã€‚äººèƒ½å¦‚æ˜¯ï¼Œæ–¹ä¸ºä¸å½¹äºç‰©ï¼Œç‰©è«ä¹‹ä¼¤ã€‚å¤§æµ¸ç¨½å¤©è€Œä¸æººï¼Œå¤§æ—±é‡‘çŸ³æµåœŸå±±ç„¦è€Œä¸çƒ­ï¼Œæ˜¯å…¶å°˜å¢ç²ƒç³ ï¼Œå°†çŠ¹é™¶é“¸å°§ã€èˆœã€‚è‡ªæˆ‘ä¹‹é’æ˜¥ï¼Œä½•èƒ½ä»¥å¤–ç•Œä¹‹å˜åŠ¨è€Œæ”¹æ˜“ï¼Œå†å²ä¸Šæ®‹éª¸æ¯éª¨ä¹‹ç°ï¼Œåˆä½•èƒ½å¡è”½é’å¹´ä¹‹èªæ˜ä¹Ÿå“‰ï¼Ÿå¸‚å—å®œåƒšè§é²ä¾¯ï¼Œé²ä¾¯æœ‰å¿§è‰²ï¼Œå¸‚å—å­ä¹ƒç¤ºä»¥å»ç´¯é™¤å¿§ä¹‹é“ï¼Œæœ‰æ›°â€œå¾æ„¿å›å»å›½æä¿—ï¼Œä¸é“ç›¸è¾…è€Œè¡Œã€‚â€å›æ›°ï¼šâ€œå½¼å…¶é“è¿œè€Œé™©ï¼Œåˆæœ‰æ±Ÿå±±ï¼Œæˆ‘æ— èˆŸè½¦ï¼Œå¥ˆä½•ï¼Ÿâ€å¸‚å—å­æ›°ï¼šâ€œå›æ— å½¢å€¨ï¼Œæ— ç•™å±…ï¼Œä»¥ä¸ºèˆŸè½¦ã€‚â€å›æ›°ï¼šâ€œå½¼å…¶é“å¹½è¿œè€Œæ— äººï¼Œå¾è°ä¸ä¸ºé‚»ï¼Ÿå¾æ— ç²®ï¼Œæˆ‘æ— é£Ÿï¼Œå®‰å¾—è€Œè‡³ç„‰ï¼Ÿâ€ç¤ºã€”å¸‚ã€•å—å­æ›°ï¼šâ€œå°‘å›ä¹‹è´¹ï¼Œå¯¡å›ä¹‹æ¬²ï¼Œè™½æ— ç²®è€Œä¹ƒè¶³ï¼Œå›å…¶æ¶‰äºæ±Ÿè€Œæµ®äºæµ·ï¼Œæœ›ä¹‹è€Œä¸è§å…¶å´–ï¼Œæ„ˆå¾€è€Œä¸çŸ¥å…¶æ‰€ç©·ï¼Œé€å›è€…å°†è‡ªå´–è€Œåï¼Œå›è‡ªæ­¤è¿œçŸ£ã€‚â€æ­¤å…¶è°“é“ï¼Œæ®†å³è¾¾äºé’æ˜¥ä¹‹å¤§é“ã€‚é’å¹´å¾ªè¹ˆä¹æ­¤ï¼Œæœ¬å…¶ç†æ€§ï¼ŒåŠ ä»¥åŠªåŠ›ï¼Œè¿›å‰è€Œå‹¿é¡¾åï¼ŒèƒŒé»‘æš—è€Œå‘å…‰æ˜ï¼Œä¸ºä¸–ç•Œè¿›æ–‡æ˜ï¼Œä¸ºäººç±»é€ å¹¸ç¦ï¼Œä»¥é’æ˜¥ä¹‹æˆ‘ï¼Œåˆ›å»ºé’æ˜¥ä¹‹å®¶åº­ï¼Œé’æ˜¥ä¹‹å›½å®¶ï¼Œé’æ˜¥ä¹‹æ°‘æ—ï¼Œé’æ˜¥ä¹‹äººç±»ï¼Œé’æ˜¥ä¹‹åœ°çƒï¼Œé’æ˜¥ä¹‹å®‡å®™ï¼Œèµ„ä»¥ä¹å…¶æ— æ¶¯ä¹‹ç”Ÿã€‚ä¹˜é£ç ´æµªï¼Œè¿¢è¿¢ä¹è¿œçŸ£ï¼Œå¤ä½•æ— è®¡ç•™æ˜¥æœ›å°˜è«åŠä¹‹å¿§å“‰ï¼Ÿå¾æ–‡è‡³æ­¤ï¼Œå·²å«Œå†—èµ˜ï¼Œè¯·è¯µæ¼†å›­ä¹‹è¯­ï¼Œä»¥ç»ˆæ–¯ç¯‡ã€‚ã€€</p>
<p><img src="https://i.loli.net/2021/07/20/Ixv8WzT9nJS6Gth.png" alt="æœ¬æ–‡åˆŠç™»äºã€Šæ–°é’å¹´ã€‹æ‚å¿—ç¬¬äºŒå·ç¬¬ä¸€å·ï¼Œ1916å¹´9æœˆ1æ—¥"><br>æœ¬æ–‡åˆŠç™»äºã€Šæ–°é’å¹´ã€‹æ‚å¿—ç¬¬äºŒå·ç¬¬ä¸€å·ï¼Œ1916å¹´9æœˆ1æ—¥</p>
<blockquote>
<p>å‰ªæŠ¥æ¥æº<br>å…¬ä¼—å·ï¼šÂ åŒ—äº¬å¤§å­¦äººæ–‡ç¤¾ä¼šç§‘å­¦ç ”ç©¶é™¢<br>é“¾ã€€æ¥ï¼š<a href="https://mp.weixin.qq.com/s/0Rg-uyGIjNULo7D74a6Dtw">https://mp.weixin.qq.com/s/0Rg-uyGIjNULo7D74a6Dtw</a><br>æ—¥ã€€æœŸï¼š2021-04-28</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ªæŠ¥</category>
      </categories>
  </entry>
  <entry>
    <title>è¢éš†å¹³ï¼šæˆ‘çš„ä¸¤ä¸ªæ¢¦</title>
    <url>/2021/05/24/ylp-2/</url>
    <content><![CDATA[<blockquote>
<p><strong>ã€ä¾ å®¢å²›æŒ‰ã€‘</strong></p>
<p>ä»Šå¤©ä¸­åˆï¼Œå™©è€—ä¼ æ¥ã€‚â€œæ‚äº¤æ°´ç¨»ä¹‹çˆ¶â€ã€ä¸­å›½å·¥ç¨‹é™¢é™¢å£«ã€â€œå…±å’Œå›½å‹‹ç« â€è·å¾—è€…è¢éš†å¹³åœ¨æ¹–å—é•¿æ²™é€ä¸–ã€‚</p>
<p>2019å¹´10æœˆ23æ—¥ï¼Œè¢è€æ›¾åœ¨ã€Šäººæ°‘æ—¥æŠ¥ã€‹åˆŠå‘æ–‡ç« ï¼Œè‡ªè¿°ä»–çš„ä¸¤ä¸ªæ¢¦æƒ³ï¼Œæ„Ÿäººè‡³æ·±ã€‚ä¾ å®¢å²›äºˆä»¥æ¨èï¼Œè—‰æ­¤ç¼…æ€€è¿™ä½ä¼Ÿå¤§çš„ç§‘å­¦å®¶ã€‚</p>
<p>è¢è€ï¼Œæ‚¨èµ°å¥½ã€‚</p>
</blockquote>
<p>æ—¶å…‰å¦‚ç™½é©¹è¿‡éš™ï¼Œä¸€è½¬çœ¼ï¼Œ90å¹´è¿‡å»ï¼Œæˆ‘æˆäº†æ­£å„¿å…«ç»çš„â€œ90åâ€ã€‚æˆ‘å¤§åŠè¾ˆå­éƒ½åœ¨ä¸æ°´ç¨»æ‰“äº¤é“ï¼Œè‡³ä»Šä»äº‹æ‚äº¤æ°´ç¨»ç ”ç©¶å·¥ä½œå·²æœ‰55ä¸ªå¹´å¤´ã€‚æˆ‘æœ€å…³å¿ƒçš„ï¼Œå°±æ˜¯ä¸æ°´ç¨»å’Œç²®é£Ÿç›¸å…³çš„äº‹ã€‚</p>
<p>æ–°ä¸­å›½æˆç«‹ä¹‹å‰ï¼Œä¸­åå¤§åœ°ä¸Šåˆ°å¤„ç¾è’æˆ˜ä¹±ï¼Œäººæ°‘ç”Ÿæ´»é¢ æ²›æµç¦»ï¼Œå°‘å¹´æ—¶æˆ‘å°±è¢«è¿«ä»ä¸€ä¸ªåŸå¸‚è¾—è½¬åˆ°å¦ä¸€ä¸ªåŸå¸‚ï¼Œè™½ç„¶å°‘ä¸æ›´äº‹ï¼Œä½†æ¯å½“çœ‹åˆ°æ²¿è·¯ä¸¾å®¶é€ƒéš¾ã€é¢å¦‚èœè‰²çš„åŒèƒï¼Œçœ‹åˆ°è’èŠœçš„ç”°é‡å’Œæ»¡ç›®ç–®ç—çš„åœŸåœ°ï¼Œæˆ‘çš„å†…å¿ƒæ€»ä¼šæ³›èµ·ä¸€é˜µé˜µç—›æ¥šã€‚æŠ¥è€ƒå¤§å­¦æ—¶ï¼Œæˆ‘å°±å¯¹çˆ¶æ¯è¯´ï¼Œæˆ‘è¦å­¦å†œã€‚æ¯äº²å¬äº†ï¼Œå“ä¸€è·³ï¼Œè¯´ï¼Œå‚»å­©å­ï¼Œå­¦å†œå¤šè‹¦å•Šï¼Œä½ ä»¥ä¸ºå¥½ç©å„¿å‘¢ï¼Ÿ<strong>ä½†æˆ‘æ˜¯çœŸæ­£çˆ±ä¸Šäº†å†œä¸šï¼Œæ­»æ´»è¦å­¦ï¼Œè¿˜æ‘†å‡ºå¤§é“ç†ï¼šåƒé¥­å¯æ˜¯å¤©ä¸‹ç¬¬ä¸€æ¡©å¤§äº‹ï¼Œæ²¡æœ‰é¥­åƒï¼Œäººç±»æ€ä¹ˆç”Ÿå­˜ï¼Ÿ</strong>æœ€åï¼Œçˆ¶æ¯å°Šé‡æˆ‘çš„é€‰æ‹©ã€‚</p>
<p>æ¯•ä¸šåï¼Œæˆ‘è¢«åˆ†é…åˆ°æ¹–å—å®‰æ±Ÿå†œæ ¡ä»»æ•™ã€‚å®‰æ±Ÿå†œæ ¡åœ°å¤„åè¿œï¼Œä¸´è¡Œå‰ï¼Œå­¦æ ¡çš„é¢†å¯¼å‘Šè¯‰æˆ‘ï¼Œé‚£é‡Œå¾ˆååƒ»ï¼Œâ€œä¸€ç›å­¤ç¯ç…§ç»ˆèº«â€ï¼Œä½ å¯è¦åšå¥½æ€æƒ³å‡†å¤‡ã€‚å½“æ—¶æˆ‘æƒ³ï¼Œèƒ½ä¼ æ’­å†œä¸šç§‘å­¦çŸ¥è¯†ï¼Œä¹Ÿæ˜¯ä¸ºå›½å®¶åšè´¡çŒ®ï¼æ²¡æƒ³åˆ°ï¼Œå»äº†ä¸ä¹…ï¼Œå°±ç¢°ä¸Šå›°éš¾æ—¶æœŸã€‚æˆ‘å½“æ—¶æƒ³ï¼Œ<strong>è¿™ä¹ˆå¤§ä¸€ä¸ªå›½å®¶ï¼Œå¦‚æœç²®é£Ÿå®‰å…¨å¾—ä¸åˆ°ä¿éšœï¼Œå…¶ä»–ä¸€åˆ‡éƒ½æ— ä»è°ˆèµ·ï¼Œæˆ‘è¦ä¸ºè®©ä¸­å›½äººåƒé¥±é¥­è€Œå¥‹æ–—ï¼</strong></p>
<p>ä¸€å¤©ï¼Œæˆ‘çœ‹åˆ°ä¸€äº›å†œæ°‘ä»é«˜å±±ä¸Šå…‘äº†ç§å­ï¼Œæ‹…å›æ¥ç§ï¼Œå°±é—®ä»–ä»¬ï¼Œä¸ºä»€ä¹ˆè·‘åˆ°é‚£ä¹ˆé«˜çš„å±±ä¸Šå»æ¢ç§å‘¢ï¼Ÿä»–ä»¬è¯´ï¼Œå±±ä¸Šçš„ç§å­è´¨é‡å¥½ä¸€äº›ï¼Œäº§å¾—å¤šäº›ã€‚ä»–ä»¬æ¥ç€è¿˜è¯´äº†ä¸€å¥è¯ï¼Œå«åšâ€œæ–½è‚¥ä¸å¦‚å‹¤æ¢ç§â€ã€‚è¿™å¯¹æˆ‘æœ‰å¾ˆå¤§å¯å‘ï¼šå†œä¸šä¸Šå¢äº§çš„é€”å¾„æœ‰å¾ˆå¤šï¼Œä½†å…¶ä¸­è‰¯ç§æ˜¯éå¸¸é‡è¦çš„å› ç´ ã€‚</p>
<p>ä»æ­¤ä»¥åï¼Œæˆ‘å¼€å§‹è‡ªå·±çš„æ‚äº¤æ°´ç¨»ç ”ç©¶ä¹‹è·¯ã€‚ä¸€è·¯èµ°æ¥ï¼Œæœ‰æ±—æ°´å’Œè¾›é…¸ï¼Œä¹Ÿæœ‰ä¸°æ”¶å’Œå–œæ‚¦ã€‚<strong>ç§‘å­¦æ¢ç´¢æ— æ­¢å¢ƒï¼Œåœ¨è¿™æ¡æ¼«é•¿è€Œåˆè‰°è¾›çš„è·¯ä¸Šï¼Œæˆ‘ä¸€ç›´æœ‰ä¸¤ä¸ªæ¢¦ï¼Œä¸€ä¸ªæ˜¯ç¦¾ä¸‹ä¹˜å‡‰æ¢¦ï¼Œä¸€ä¸ªæ˜¯æ‚äº¤æ°´ç¨»è¦†ç›–å…¨çƒæ¢¦ã€‚</strong></p>
<p><strong>ç¦¾ä¸‹ä¹˜å‡‰æ¢¦ï¼Œæˆ‘æ˜¯çœŸåšè¿‡ï¼Œæˆ‘æ¢¦è§æ°´ç¨»é•¿å¾—æœ‰é«˜ç²±é‚£ä¹ˆé«˜ï¼Œç©—å­åƒæ‰«æŠŠé‚£ä¹ˆé•¿ï¼Œé¢—ç²’åƒèŠ±ç”Ÿé‚£ä¹ˆå¤§ï¼Œè€Œæˆ‘åˆ™å’ŒåŠ©æ‰‹ååœ¨ç¨»ç©—ä¸‹é¢ä¹˜å‡‰ã€‚å…¶å®æˆ‘è¿™ä¸ªæ¢¦æƒ³çš„å®è´¨ï¼Œå°±æ˜¯æ°´ç¨»é«˜äº§æ¢¦ï¼Œè®©äººä»¬åƒä¸Šæ›´å¤šçš„ç±³é¥­ï¼Œæ°¸è¿œéƒ½ä¸ç”¨å†é¥¿è‚šå­ã€‚</strong></p>
<p>åšæ¢¦å®¹æ˜“ï¼Œä½†è¦æŠŠæ¢¦å˜æˆç°å®ï¼Œåˆ™éœ€è¦ä»˜å‡ºå¤§é‡è‰°è‹¦çš„åŠ³åŠ¨å’ŒåŠªåŠ›ã€‚æˆ‘æ¸…æ¥šåœ°è®°å¾—ï¼Œ<strong>é‚£æ˜¯1961å¹´7æœˆçš„ä¸€å¤©ï¼Œæˆ‘åˆ°å®‰æ±Ÿå†œæ ¡çš„è¯•éªŒç”°é€‰ç§ã€‚çªç„¶ï¼Œæˆ‘å‘ç°äº†ä¸€æ ªâ€œé¹¤ç«‹é¸¡ç¾¤â€çš„ç¨»æ ª</strong>ã€‚ç©—å¤§ï¼Œé¢—ç²’é¥±æ»¡ã€‚æˆ‘éšæ‰‹æŒ‘äº†ä¸€ç©—ï¼Œç«Ÿæœ‰230ç²’ä¹‹å¤šï¼å½“æ—¶ä»¥ä¸ºï¼Œé€‰åˆ°äº†ä¼˜è‰¯å“ç§ï¼Œå²‚ä¸æ˜¯å¯ä»¥å¢äº§æ— æ•°ç²®é£Ÿï¼Ÿ</p>
<p>ç¬¬äºŒå¹´æ˜¥å¤©ï¼Œæˆ‘æŠŠç§å­æ’­ä¸‹ï¼Œç»“æœå´ä»¤äººå¤§å¤±æ‰€æœ›ï¼Œä¸€çœ¼æœ›å»ï¼Œé«˜çš„é«˜ï¼ŒçŸ®çš„çŸ®ï¼Œæ²¡æœ‰ä¸€æ ªèµ¶å¾—ä¸Šæœ€åˆçš„é‚£æ ªæ°´ç¨»ã€‚æˆ‘ä¸ç”˜å¿ƒï¼Œå¼€å§‹åå¤ç¢ç£¨å…¶ä¸­çš„å¥¥ç§˜ï¼Œç ”ç©¶é‚£ä¸€ç‰‡è¯•éªŒç”°çš„ç¨»æ ªæ¯”ä¾‹ï¼Œæœ€ç»ˆå¾—å‡ºä¸€ä¸ªç»“è®ºï¼šæ°´ç¨»æ˜¯æœ‰æ‚äº¤ä¼˜åŠ¿çš„ï¼Œé‚£æ ªé¹¤ç«‹é¸¡ç¾¤çš„æ°´ç¨»ï¼Œå°±æ˜¯å¤©ç„¶çš„æ‚äº¤æ°´ç¨»ã€‚æ—¢ç„¶å¤©ç„¶æ‚äº¤ç¨»å…·æœ‰è¿™æ ·å¼ºçš„ä¼˜åŠ¿ï¼Œé‚£ä¹ˆäººå·¥æ‚äº¤ç¨»ï¼Œä¹Ÿä¸€å®šæœ‰ä¼˜åŠ¿ã€‚å½“æ—¶ï¼Œé—ä¼ å­¦ç†è®ºä¸€ç›´å¦å®šè‡ªèŠ±æˆç²‰ä½œç‰©æœ‰æ‚äº¤ä¼˜åŠ¿ã€‚æˆ‘å¯¹æ­¤ç†è®ºæå‡ºè´¨ç–‘ã€‚éšåï¼Œæˆ‘åˆæ‹œè®¿ä¸“å®¶ï¼Œç¿»æ‰¾èµ„æ–™ï¼Œ<strong>æœ€ç»ˆå¾—å‡ºç»“è®ºï¼Œæ—¢ç„¶è‡ªç„¶ç•Œå­˜åœ¨æ‚äº¤ç¨»ï¼Œé‚£ä¹ˆäººå·¥æ‚äº¤æ°´ç¨»ä¹Ÿä¸€å®šå¯ä»¥åˆ©ç”¨</strong>ã€‚è€Œè¦æƒ³åˆ©ç”¨è¿™ä¸€ä¼˜åŠ¿ï¼Œé¦–å…ˆéœ€è¦æ‰¾åˆ°â€œå¤©ç„¶çš„é›„æ€§ä¸è‚²æ°´ç¨»â€ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘åˆèµ°ä¸Šæ›²æŠ˜çš„å¯»æ‰¾ä¹‹æ—…ã€‚</p>
<p>å…¶ä¸­ï¼Œ<strong>æœ€ä»¤äººåˆ»éª¨é“­å¿ƒçš„æ˜¯ï¼Œåœ¨æµ·å—å²›æ‰¾åˆ°å¤©ç„¶é›„æ€§ä¸è‚²é‡ç”Ÿç¨»â€œé‡è´¥â€å¹¶åŠ ä»¥åˆ©ç”¨çš„è¿‡ç¨‹</strong>ã€‚é‚£æ˜¯1970å¹´11æœˆï¼Œæˆ‘å’ŒåŠ©æ‰‹æå¿…æ¹–ã€å°¹åå¥‡é©»å®ˆåœ¨æµ·å—å²›å´–å¿å—çº¢å†œåœºï¼Œåœ¨å½“åœ°å¯»æ‰¾é‡ç”Ÿç¨»ã€‚åœ¨é‚£é‡Œï¼Œæœ‰ä¸€ä½å†œä¸“æ¯•ä¸šçš„å†¯å…‹çŠï¼Œæ˜¯å—çº¢è‰¯ç§ç¹è‚²åœºçš„æŠ€æœ¯å‘˜ï¼Œç»å¸¸è·‘æ¥å¬æˆ‘è®²è¯¾ã€‚å†¯å…‹çŠè”æƒ³åˆ°å†œåœºé™„è¿‘æœ‰ä¸€ç§åå«â€œå‡ç¦¾â€çš„è‰ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æˆ‘è¦æ‰¾çš„é‡ç”Ÿç¨»ã€‚</p>
<p>11æœˆ23æ—¥ï¼Œä»–æ‰¾åˆ°æå¿…æ¹–ï¼Œæ¥åˆ°å—çº¢å†œåœºé“è·¯æ¶µæ´é™„è¿‘çš„æ°´å¡˜è¾¹ï¼Œåˆ°é‚£ç‰‡æ­£åœ¨å¼€èŠ±çš„é‡ç”Ÿç¨»ä¸­å¯Ÿçœ‹ã€‚ä»–ä»¬å‘ç°äº†ä¸‰ä¸ªé›„èŠ±å¼‚å¸¸çš„é‡ç”Ÿç¨»ç©—ï¼Œé‡ç”Ÿç¨»ç©—çš„èŠ±è¯ç»†ç˜¦ï¼Œè‰²æµ…å‘ˆæ°´æ¸çŠ¶ï¼Œä¸å¼€è£‚æ•£ç²‰ã€‚è¿™ä¸‰ä¸ªç¨»ç©—ç”Ÿé•¿äºåŒä¸€ç¦¾è”¸ï¼Œæ˜¯ä»ä¸€ç²’ç§å­é•¿å‡ºã€åŒåŒäºæ°´é¢çš„åˆ†è˜–ã€‚ä»–ä»¬ç«‹å³æŠŠè¿™è”¸é‡ç”Ÿç¨»è¿æ³¥æŒ–èµ·ï¼Œæ”¾åœ¨é“æ¡¶é‡Œæ‹‰å›å»ï¼Œç„¶åç§»æ ½åˆ°è¯•éªŒç”°é‡Œï¼Œç­‰å¾…é‰´å®šã€‚</p>
<p>å½“æ—¶ï¼Œæˆ‘æ­£åœ¨åŒ—äº¬å¼€ä¼šï¼Œæ”¶åˆ°åŠ©æ‰‹ä»¬ä»æµ·å—å‘æ¥çš„ç”µæŠ¥ï¼Œè¿å¤œèµ¶ç«è½¦å¥”å›æµ·å—å²›ã€‚<strong>ç»è¿‡ä»”ç»†æ£€éªŒï¼Œæˆ‘ä»¬æœ€ç»ˆç¡®è®¤è¿™æ˜¯ä¸€æ ªååˆ†éš¾å¾—çš„å¤©ç„¶é›„æ€§ä¸è‚²æ ªé‡ç”Ÿç¨»ï¼Œæˆ‘ç»™å®ƒå‘½åä¸ºâ€œé‡è´¥â€ã€‚</strong></p>
<p>è¿™çœŸæ˜¯å¤§æµ·æé’ˆå•Šï¼</p>
<p>â€œé‡è´¥â€çš„å‘ç°å¯¹æ‚äº¤æ°´ç¨»ç ”ç©¶å…·æœ‰é‡Œç¨‹ç¢‘çš„æ„ä¹‰ï¼Œæ›´æ˜¯æ‚äº¤æ°´ç¨»â€œä¸‰ç³»â€é…å¥—æˆåŠŸçš„çªç ´å£ã€‚<strong>1973å¹´ï¼Œæˆ‘ä»¬åä½œç»„å†å°½åƒè¾›ä¸‡è‹¦æ‰é€šè¿‡æµ‹äº¤æ‰¾åˆ°æ¢å¤ç³»ï¼Œæ”»å…‹â€œä¸‰ç³»â€é…å¥—éš¾å…³ï¼Œæ‰æœ‰äº†æ–°ä¸­å›½ç¬¬ä¸€ä»£æ‚äº¤æ°´ç¨»ã€‚</strong>ç¬¬ä¸€ä»£ä»¥ç»†èƒè´¨é›„æ€§ä¸è‚²ç³»ä¸ºé—ä¼ å·¥å…·çš„æ‚äº¤æ°´ç¨»ï¼Œä¼˜ç‚¹æ˜¯ä¸è‚²ç³»ä¸è‚²æ€§ç¨³å®šï¼Œä½†ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå³é…ç»„çš„æ—¶å€™å—åˆ°æ¢ä¿å…³ç³»åˆ¶çº¦ï¼Œå› æ­¤é€‰æ‹©ä¼˜è‰¯ç»„åˆçš„å‡ ç‡æ¯”è¾ƒä½ï¼Œéš¾åº¦å¤§ã€‚</p>
<p>è‡ªä¸Šä¸–çºª80å¹´ä»£ä¸­åæœŸèµ·ï¼Œæˆ‘ä»¬å¼€å§‹ç ”ç©¶ä¸¤ç³»æ‚äº¤æ°´ç¨»ã€‚1995å¹´ï¼Œç¬¬äºŒä»£ä»¥å…‰æ¸©æ•ä¸è‚²ç³»ä¸ºé—ä¼ å·¥å…·çš„æ‚äº¤æ°´ç¨»â€”â€”ä¸¤ç³»æ³•æ‚äº¤ç¨»ç ”åˆ¶æˆåŠŸï¼Œå®ƒçš„ä¸»è¦ä¼˜ç‚¹æ˜¯é…ç»„è‡ªç”±é€‰æ‹©ï¼Œèƒ½é€‰é…åˆ°ä¼˜è‰¯ç¨»ç»„åˆçš„å‡ ç‡æ¯”è¾ƒé«˜ã€‚ä½†æ˜¯ï¼Œç¬¬äºŒä»£æ‚äº¤ç¨»ä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼šä¸è‚²ç³»è‚²æ€§å—æ°”æ¸©å’Œå…‰ç…§å½±å“è¾ƒå¤§ã€‚æˆ‘æƒ³ï¼Œå¦‚æœæœ‰ä¸€ç§æ‚äº¤æ°´ç¨»ï¼Œæ—¢å…¼å…·ç¬¬ä¸€ä»£å’Œç¬¬äºŒä»£çš„ä¼˜ç‚¹ï¼Œåˆèƒ½å…‹æœäºŒè€…çš„ç¼ºç‚¹ï¼Œé‚£è¯¥å¤šå¥½å•Šï¼</p>
<p><strong>2011å¹´ï¼Œæˆ‘ä»¬åˆå¯åŠ¨ç¬¬ä¸‰ä»£æ‚äº¤æ°´ç¨»è‚²ç§æŠ€æœ¯çš„ç ”ç©¶ä¸åˆ©ç”¨ï¼Œè¿™æ˜¯ä»¥é—ä¼ å·¥ç¨‹é›„æ€§ä¸è‚²ç³»ä¸ºé—ä¼ å·¥å…·çš„æ‚äº¤æ°´ç¨»ï¼Œå·²åˆæ­¥ç ”ç©¶æˆåŠŸï¼Œè¯¥æ‚äº¤æ°´ç¨»å…‹æœäº†å‰ä¸¤ä»£çš„ç¼ºç‚¹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ç”šè‡³å¼€å§‹äº†ç¬¬å››ä»£ã€ç¬¬äº”ä»£æ‚äº¤æ°´ç¨»çš„ç ”åˆ¶ã€‚</strong></p>
<p><strong>è¢éš†å¹³å¸¦å„å›½æœ‹å‹å‚è§‚è¯•éªŒç”°ï¼ˆå›¾æºï¼šæ–°åç¤¾ï¼‰</strong></p>
<p>è¿½æ±‚é«˜äº§æ›´é«˜äº§ï¼Œæ˜¯æˆ‘ä»¬æ°¸æ’çš„ç›®æ ‡ã€‚è‡ªä¸Šä¸–çºª90å¹´ä»£ä¸­åæœŸèµ·ï¼Œæˆ‘ä»¬å¼€å§‹è¶…çº§æ‚äº¤ç¨»æ”»å…³ï¼Œåˆ†åˆ«äº2000å¹´ã€2004å¹´ã€2011å¹´ã€2014å¹´å®ç°å¤§é¢ç§¯ç¤ºèŒƒäº©äº§700å…¬æ–¤ã€800å…¬æ–¤ã€900å…¬æ–¤ã€1000å…¬æ–¤ç›®æ ‡ã€‚è¿‘5å¹´åˆçªç ´æ¯å…¬é¡·16å¨ã€17å¨çš„ç›®æ ‡ã€‚<strong>2017å¹´ï¼Œä¸–ç•Œæ°´ç¨»å¹³å‡æ¯å…¬é¡·äº§é‡ä»…4.61å¨ï¼Œè€Œæˆ‘å›½æ‚äº¤æ°´ç¨»å¹³å‡äº§é‡æ¯å…¬é¡·è¾¾7.5å¨ï¼Œåœ¨ä¸–ç•Œä¸Šé¥é¥é¢†å…ˆã€‚</strong></p>
<p>ä¸å¯å¦è®¤ï¼Œä¸Šä¸ªä¸–çºªæˆ‘ä»¬çš„ä¸»è¦ä»»åŠ¡æ˜¯è§£å†³äººæ°‘ç¾¤ä¼—çš„æ¸©é¥±é—®é¢˜ï¼Œæ‰€ä»¥æ‚äº¤æ°´ç¨»æŠŠäº§é‡æ‘†åœ¨ä¼˜å…ˆåœ°ä½ã€‚ç°åœ¨ç”Ÿæ´»æ°´å¹³æé«˜äº†ï¼Œäººæ°‘ä¸ä»…è¦åƒé¥±ï¼Œè¿˜è¦åƒå¥½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿæ”¹å˜æ€è·¯ï¼Œæå‡ºæ—¢è¦é«˜äº§ï¼Œåˆè¦ä¼˜è´¨ã€‚ä½†æ˜¯å¿…é¡»è¯´æ¸…æ¥šï¼Œè™½ç„¶è¦æ»¡è¶³å¸‚åœºå¯¹ä¼˜è´¨å¤§ç±³çš„éœ€æ±‚ï¼Œä½†æˆ‘ä»¬ä»ç„¶åšæŒä¸€æ¡ï¼Œå³ä¸èƒ½ä»¥ç‰ºç‰²äº§é‡æ¥æ±‚ä¼˜è´¨ã€‚<strong>æˆ‘å§‹ç»ˆè§‰å¾—ï¼Œç²®é£Ÿå®‰å…¨é—®é¢˜å¿…é¡»æ—¶åˆ»è­¦æƒ•ã€‚å†å²ä¹Ÿæ— æ•°æ¬¡å‘Šè¯«æˆ‘ä»¬ï¼ŒæŠŠé¥­ç¢—ç‰¢ç‰¢ç«¯åœ¨è‡ªå·±æ‰‹ä¸­çš„æœ€æœ‰æ•ˆé€”å¾„ï¼Œå°±æ˜¯æé«˜æ°´ç¨»çš„äº§é‡ã€‚</strong></p>
<p>ç§‘å­¦æ¢ç´¢æ°¸æ— æ­¢å¢ƒï¼Œæˆ‘çš„å¦ä¸€ä¸ªæ¢¦ï¼Œå°±æ˜¯<strong>æ‚äº¤æ°´ç¨»èµ°å‘ä¸–ç•Œã€è¦†ç›–å…¨çƒæ¢¦</strong>ã€‚</p>
<p>ä¸–ç•Œä¸Šè¶…è¿‡ä¸€åŠäººå£ä»¥ç¨»ç±³ä¸ºä¸»é£Ÿï¼Œä¸€ä¸ªä»¤äººæ‹…å¿§çš„äº‹å®å´æ˜¯ï¼Œå…¨çƒç°æœ‰1.6äº¿å…¬é¡·ç¨»ç”°ä¸­ï¼Œæ‚äº¤æ°´ç¨»ç§æ¤é¢ç§¯è¿˜ä¸åˆ°15%ã€‚å‘å±•æ‚äº¤æ°´ç¨»ä¸ä»…æœ‰å¹¿é˜”çš„èˆå°ï¼Œæ›´å¯¹ä¿éšœä¸–ç•Œç²®é£Ÿå®‰å…¨å…·æœ‰é‡è¦æ„ä¹‰ï¼Œå€˜è‹¥å…¨çƒæœ‰ä¸€åŠç¨»ç”°ç§ä¸Šæ‚äº¤ç¨»ï¼ŒæŒ‰æ¯å…¬é¡·æ¯”å¸¸è§„æ°´ç¨»å¢äº§2å¨è®¡ç®—ï¼Œåˆ™å¢äº§çš„ç²®é£Ÿå¯ä»¥å¤šå…»æ´»4äº¿â€”5äº¿äººå£ã€‚æ‚äº¤æ°´ç¨»è¦†ç›–å…¨çƒä¸ä»…èƒ½æå‡å…¨çƒæ°´ç¨»äº§é‡ï¼Œé€ ç¦äººç±»ï¼Œè¿˜èƒ½æå‡æˆ‘å›½çš„å›½é™…åœ°ä½ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸ªæ¢¦ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨åŠªåŠ›ã€‚ä»ä¸Šä¸–çºª80å¹´ä»£è‡³ä»Šï¼Œæˆ‘ä»¬åšæŒå¼€åŠæ‚äº¤æ°´ç¨»æŠ€æœ¯å›½é™…åŸ¹è®­ç­ï¼Œä¸º80å¤šä¸ªå‘å±•ä¸­å›½å®¶åŸ¹è®­äº†14000å¤šåæ‚äº¤æ°´ç¨»æŠ€æœ¯äººæ‰ï¼Œæˆ‘è¿˜å—é‚€æ‹…ä»»è”åˆå›½ç²®å†œç»„ç»‡é¦–å¸­é¡¾é—®ï¼Œå¸®åŠ©å…¶ä»–å›½å®¶å‘å±•æ‚äº¤æ°´ç¨»ã€‚<strong>ç›®å‰ï¼Œæ‚äº¤æ°´ç¨»å·²åœ¨å°åº¦ã€è¶Šå—ã€è²å¾‹å®¾ã€å­ŸåŠ æ‹‰å›½ã€å·´åŸºæ–¯å¦ã€å°åº¦å°¼è¥¿äºšã€ç¾å›½ã€å·´è¥¿ç­‰å›½å®ç°å¤§é¢ç§¯ç§æ¤ã€‚</strong>ä»Šå¹´6æœˆï¼Œåœ¨é•¿æ²™ä¸¾è¡Œçš„ä¸­éç»è´¸åšè§ˆä¼šä¸Šï¼Œæ¥äº†ä¸å°‘éæ´²å›½å®¶å†œä¸šç•Œçš„æœ‹å‹ï¼Œçœ‹åˆ°ä»–ä»¬å¯¹æ‚äº¤æ°´ç¨»å……æ»¡æ„Ÿæ¿€å’ŒæœŸå¾…ï¼Œæ›´åšå®šäº†æˆ‘ä»¬å°†æ‚äº¤æ°´ç¨»æ¨å‘ä¸–ç•Œçš„ä¿¡å¿ƒä¸å†³å¿ƒã€‚</p>
<p>æ–°ä¸­å›½æ‚äº¤æ°´ç¨»äº‹ä¸šèƒ½å¤Ÿå–å¾—ä¸°ç¡•æˆæœï¼Œç¦»ä¸å¼€å…šå’Œå›½å®¶çš„é«˜åº¦é‡è§†ä¸å¤§åŠ›æ”¯æŒï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¹¿å¤§ç§‘æŠ€å·¥ä½œè€…é›†ä½“æ™ºæ…§çš„ç»“æ™¶ã€‚<strong>æˆ‘å·²ç»90å²äº†ï¼Œä½†â€œè€éª¥ä¼æ¥ï¼Œå¿—åœ¨åƒé‡Œâ€ï¼Œæˆ‘è¦åŠ›äº‰è®©æˆ‘ä»¬çš„å›¢é˜Ÿæ—©æ—¥å®Œæˆæ¯å…¬é¡·18å¨çš„é«˜äº§æ”»å…³ï¼Œåšå¥½ç¬¬ä¸‰ä»£æ‚äº¤æ°´ç¨»æŠ€æœ¯çš„ç”Ÿäº§åº”ç”¨ã€‚æˆ‘å¸Œæœ›æœ€ç»ˆèƒ½å®ç°â€œç¦¾ä¸‹ä¹˜å‡‰ã€è¦†ç›–å…¨çƒâ€çš„ä¸¤å¤§å¿ƒæ„¿ã€‚</strong></p>
<p><em>æ–‡/è¢éš†å¹³</em><br><em>ç¼–è¾‘/ç‚¹è‹</em><br><strong>ï¼ˆåŸæ–‡åˆŠäºã€Š äººæ°‘æ—¥æŠ¥ ã€‹2019å¹´10æœˆ23æ—¥ç¬¬20 ç‰ˆï¼‰</strong></p>
<blockquote>
<p>å‰ªæŠ¥æ¥æº<br>å…¬ä¼—å·ï¼šÂ ä¾ å®¢å²›<br>é“¾ã€€æ¥ï¼š<a href="https://mp.weixin.qq.com/s/ore4_iTqusGz-gq4Kmg0Vw">https://mp.weixin.qq.com/s/ore4_iTqusGz-gq4Kmg0Vw</a><br>æ—¥ã€€æœŸï¼š2021-05-22</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ªæŠ¥</category>
      </categories>
  </entry>
  <entry>
    <title>æ¯›æ³½ä¸œï¼šä½“è‚²ä¹‹ç ”ç©¶</title>
    <url>/2021/07/15/mzd-1/</url>
    <content><![CDATA[<h2 id="å‰-è¨€"><a href="#å‰-è¨€" class="headerlink" title="å‰ Â  è¨€"></a><strong>å‰ Â  è¨€</strong></h2><p>å›½åŠ›è‹¶å¼±ï¼Œæ­¦é£ä¸æŒ¯ï¼Œæ°‘æ—ä¹‹ä½“è´¨ï¼Œæ—¥è¶‹è½»ç»†ã€‚æ­¤ç”šå¯å¿§ä¹‹ç°è±¡ä¹Ÿã€‚æå€¡ä¹‹è€…ï¼Œä¸å¾—å…¶æœ¬ï¼Œä¹…è€Œæ— æ•ˆã€‚é•¿æ˜¯ä¸æ”¹ï¼Œå¼±ä¸”åŠ ç”šã€‚å¤«å‘½ä¸­è‡´è¿œï¼Œå¤–éƒ¨ä¹‹äº‹ï¼Œç»“æœä¹‹äº‹ä¹Ÿã€‚ä½“åŠ›å……å®ï¼Œå†…éƒ¨ä¹‹äº‹ï¼ŒåŸå› ä¹‹äº‹ä¹Ÿã€‚ä½“ä¸åšå®ï¼Œåˆ™è§å…µè€Œç•ä¹‹ï¼Œä½•æœ‰äºå‘½ä¸­ï¼Œä½•æœ‰äºè‡´è¿œï¼Ÿåšå®åœ¨äºé”»ç‚¼ã€‚é”»ç‚¼åœ¨äºè‡ªè§‰ã€‚ä»Šä¹‹æå€¡è€…ï¼Œéä¸è®¾ç§ç§ä¹‹æ–¹æ³•ï¼Œç„¶è€Œæ— æ•ˆè€…ï¼Œå¤–åŠ›ä¸è¶³ä»¥åŠ¨å…¶å¿ƒï¼Œä¸çŸ¥ä½•ä¸ºä½“è‚²ä¹‹çœŸä¹‰ã€‚ä½“è‚²æœæœ‰å¦‚ä½•ä¹‹ä»·å€¼ï¼Œæ•ˆæœäº‘ä½•ï¼Œè‘—æ‰‹ä½•å¤„ï¼Œçš†èŒ«ä¹å¦‚åœ¨é›¾ä¸­ï¼Œå…¶æ— æ•ˆäº¦å®œã€‚æ¬²å›¾ä½“è‚²ä¹‹æ•ˆï¼ŒéåŠ¨å…¶ä¸»è§‚ï¼Œä¿ƒå…¶å¯¹ä½“è‚²ä¹‹è‡ªè§‰ä¸å¯ã€‚è‹Ÿè‡ªè§‰çŸ£ï¼Œåˆ™ä½“è‚²ä¹‹æ¡ç›®ï¼Œå¯ä¸è¨€è€Œè‡ªçŸ¥ï¼Œå‘½ä¸­è‡´è¿œä¹‹æ•ˆï¼Œäº¦å½“ä¸æ±‚è€Œè‡ªè‡³çŸ£ã€‚ä¸ä½æ·±æ„Ÿä½“è‚²ä¹‹è¦ï¼Œä¼¤æå€¡è€…ä¹‹ä¸å¾—å…¶å½“ï¼ŒçŸ¥æµ·å†…åŒå¿—ï¼ŒåŒæ­¤ç—…è€Œç›¸æ€œè€…å¿…å¤šã€‚ä¸è‡ªæƒ­èµ§ï¼Œè´¡å…¶æ„šè§ï¼Œä»¥èµ„å•†æ¦·ã€‚æ‰€è¨€å¹¶éçš†å·±å®è¡Œï¼Œå°šå¤šç©ºè¨€ç†æƒ³ä¹‹å¤„ï¼Œä¸æ•¢ä¸ºæ¬ºã€‚å€˜è¾±ä¸é—ï¼Œèµä¹‹æ•™è¯²ï¼Œæ‰€è™šå¿ƒç™¾æ‹œè€…ä¹Ÿã€‚</p>
<h2 id="ç¬¬ä¸€-é‡Šä½“è‚²"><a href="#ç¬¬ä¸€-é‡Šä½“è‚²" class="headerlink" title="ç¬¬ä¸€Â  é‡Šä½“è‚²"></a><strong>ç¬¬ä¸€Â  é‡Šä½“è‚²</strong></h2><p>è‡ªæœ‰ç”Ÿæ°‘ä»¥æ¥ï¼Œæ™ºè¯†æœ‰æ„šé—‡ï¼Œæ— ä¸çŸ¥è‡ªå«å…¶ç”Ÿè€…ã€‚æ˜¯æ•…è¥¿å±±ä¹‹è–‡ï¼Œé¥¥æå¿…é£Ÿï¼›äº•ä¸Šä¹‹æï¼Œä¸å®¹ä¸å’½ï¼›å·¢æœ¨ä»¥ä¸ºå±…ï¼›çš®å…½ä»¥ä¸ºè¡£ï¼›ç›–å‘ä¹å¤©èƒ½ï¼Œä¸çŸ¥æ‰€ä»¥ç„¶ä¹Ÿã€‚ç„¶è€Œæœªç²¾ä¹Ÿã€‚æœ‰åœ£äººè€…å‡ºï¼Œäºæ˜¯ä¹æœ‰ç¤¼ï¼Œé¥®é£Ÿèµ·å±…ï¼Œçš†æœ‰èŠ‚åº¦ã€‚æ•…â€å­ä¹‹ç‡•å±…ï¼Œç”³ç”³å¦‚ä¹Ÿï¼Œå¤­å¤­å¦‚ä¹Ÿâ€ï¼›â€é£Ÿé¥è€Œè°’ï¼Œé±¼é¦è€Œè‚‰è´¥ï¼Œä¸é£Ÿâ€ï¼›â€å°„äºçŸç›¸ä¹‹åœƒï¼Œç›–è§‚è€…å¦‚å¢™å µç„‰â€ã€‚äººä½“ä¹‹ç»„æˆï¼Œä¸ç¾¤åŠ¨æ— ä¸åŒï¼Œè€Œç¾¤åŠ¨ä¸èƒ½åŠäººä¹‹å¯¿ï¼Œæ‰€ä»¥åˆ¶å…¶ç”Ÿè€…æ— èŠ‚åº¦ä¹Ÿã€‚äººåˆ™ä»¥èŠ‚åº¦åˆ¶å…¶ç”Ÿï¼Œæ„ˆé™äºåè€Œæ„ˆæ˜ï¼Œäºæ˜¯ä¹æœ‰ä½“è‚²ã€‚ä½“è‚²è€…ï¼Œå…»ç”Ÿä¹‹é“ä¹Ÿã€‚<br>ä¸œè¥¿ä¹‹æ‰€æ˜è€…ä¸ä¸€ï¼šåº„å­æ•ˆæ³•äºåº–ä¸ï¼Œä»²å°¼å–èµ„äºå°„å¾¡ï¼›ç°ä»Šæ–‡æ˜è¯¸å›½ï¼Œå¾·ä¸ºæœ€ç››ï¼Œå…¶æ–—å‰‘ä¹‹é£ï¼Œæ’­äºå…¨å›½ï¼›æ—¥æœ¬åˆ™æœ‰æ­¦å£«é“ï¼Œè¿‘ä¸”å› å¾å›½ä¹‹ç»ªä½™ï¼Œé€ æˆæŸ”æœ¯ï¼Œè§¥è§¥ä¹å¯è§‚å·²ã€‚è€Œè€ƒå…¶å†…å®¹ï¼Œçš†å…ˆç²¾ç©¶ç”Ÿç†ï¼Œè¯¦äºå®˜ä½“ä¹‹æ„é€ ï¼Œè„‰ç»œä¹‹è¿è¡Œï¼Œä½•æ–¹å‘è¾¾ä¸ºæ—©ï¼Œä½•éƒ¨è¾ƒæœ‰åç¼ºï¼Œå…¶ä½“è‚²å³å‡†æ­¤ä¸ºç¨‹åºï¼ŒæŠ‘å…¶è¿‡è€Œæ•‘å…¶æ‰€ä¸åŠã€‚æ•…å…¶ç»“è®ºï¼Œåœ¨ä½¿èº«ä½“å¹³å‡å‘è¾¾ã€‚ç”±æ­¤è¨€ä¹‹ï¼Œä½“è‚²è€…ï¼Œäººç±»è‡ªå…¶å…»ç”Ÿä¹‹é“ï¼Œä½¿èº«ä½“å¹³å‡å‘è¾¾ï¼Œè€Œæœ‰è§„åˆ™æ¬¡åºä¹‹å¯è¨€è€…ä¹Ÿã€‚</p>
<h2 id="ç¬¬äºŒ-ä½“è‚²åœ¨å¾äººä¹‹ä½ç½®"><a href="#ç¬¬äºŒ-ä½“è‚²åœ¨å¾äººä¹‹ä½ç½®" class="headerlink" title="ç¬¬äºŒ ä½“è‚²åœ¨å¾äººä¹‹ä½ç½®"></a><strong>ç¬¬äºŒ ä½“è‚²åœ¨å¾äººä¹‹ä½ç½®</strong></h2><p>ä½“è‚²ä¸€é“ï¼Œé…å¾·è‚²ä¸æ™ºè‚²ï¼Œè€Œå¾·æ™ºçš†å¯„äºä½“ã€‚æ— ä½“æ˜¯æ— å¾·æ™ºä¹Ÿã€‚é¡¾çŸ¥ä¹‹è€…æˆ–å¯¡çŸ£ã€‚æˆ–ä»¥ä¸ºé‡åœ¨æ™ºè¯†ï¼Œæˆ–æ›°é“å¾·ä¹Ÿã€‚å¤«çŸ¥è¯†åˆ™è¯šå¯è´µçŸ£ï¼Œäººä¹‹æ‰€ä»¥å¼‚äºåŠ¨ç‰©è€…æ­¤è€³ã€‚é¡¾å¾’çŸ¥è¯†ä¹‹ä½•è½½ä¹ï¼Ÿé“å¾·äº¦è¯šå¯è´µçŸ£ï¼Œæ‰€ä»¥ç«‹ç¾¤é“å¹³äººå·±è€…æ­¤è€³ã€‚é¡¾å¾’é“å¾·ä¹‹ä½•å¯“ä¹ï¼Ÿä½“è€…ï¼Œä¸ºçŸ¥è¯†ä¹‹è½½è€Œä¸ºé“å¾·ä¹‹å¯“è€…ä¹Ÿã€‚å…¶è½½çŸ¥è¯†ä¹Ÿå¦‚è½¦ï¼Œå…¶å¯“é“å¾·ä¹Ÿå¦‚èˆã€‚<br>ä½“è€…ï¼Œè½½çŸ¥è¯†ä¹‹è½¦è€Œå¯“é“å¾·ä¹‹èˆä¹Ÿã€‚å„¿ç«¥åŠå¹´å…¥å°å­¦ï¼Œå°å­¦ä¹‹æ—¶ï¼Œå®œä¸“æ³¨é‡äºèº«ä½“ä¹‹å‘è‚²ï¼Œè€ŒçŸ¥è¯†ä¹‹å¢è¿›é“å¾·ä¹‹å…»æˆæ¬¡ä¹‹ã€‚å®œä»¥å…»æŠ¤ä¸ºä¸»ï¼Œè€Œä»¥æ•™æˆè®­ç»ƒä¸ºè¾…ã€‚ä»Šç›–å¤šä¸çŸ¥ä¹‹ï¼Œæ•…å„¿ç«¥ç¼˜è¯»ä¹¦è€Œå¾—ç–¾ç—…æˆ–è‡³å¤­æ®‡è€…æœ‰ä¹‹çŸ£ã€‚ä¸­å­¦åŠä¸­å­¦ä»¥ä¸Šï¼Œå®œä¸‰è‚²å¹¶é‡ï¼Œä»Šäººåˆ™å¤šåäºæ™ºã€‚ä¸­å­¦ä¹‹å¹´ï¼Œèº«ä½“ä¹‹å‘è‚²å°šæœªå®Œæˆï¼Œä¹ƒä»ŠåŸ¹ä¹‹è€…å°‘è€Œå€¾ä¹‹è€…å¤šï¼Œå‘è‚²ä¸å°†æœ‰ä¸­æ­¢ä¹‹åŠ¿ä¹ï¼Ÿå¾å›½å­¦åˆ¶ï¼Œè¯¾ç¨‹å¯†å¦‚ç‰›æ¯›ï¼Œè™½æˆå¹´ä¹‹äººï¼Œé¡½å¼ºä¹‹èº«ï¼ŒçŠ¹è«èƒ½ä¸¾ï¼Œå†µæœªæˆå¹´è€…ä¹ï¼Ÿå†µå¼±è€…ä¹ï¼Ÿ<br>è§‚å…¶æ„ï¼Œæ•™è€…è‹¥ç‰¹è®¾æ­¤ç¹é‡ä¹‹è¯¾ï¼Œä»¥å›°å­¦ç”Ÿï¼Œè¹‚èºå…¶èº«è€Œæ®‹è´¼å…¶ç”Ÿï¼Œæœ‰ä¸å—è€…åˆ™ç½šä¹‹ï¼›æ™ºåŠ›è¿‡äººè€…ï¼Œåˆ™ä»¤åŠ è¯»æŸç§æŸç§ä¹‹ä¹¦ï¼Œç”˜è¨€ä»¥æ¬ä¹‹ï¼Œåšèµä»¥è¯±ä¹‹ã€‚å—Ÿä¹ï¼Œæ­¤æ‰€è°“è´¼å¤«äººä¹‹å­æ¬¤ï¼å­¦è€…äº¦è‹¥æ¶æ­¤ç”Ÿä¹‹æ°¸å¹´ï¼Œå¿…æ¬²æ‘§æŠ˜ä¹‹ï¼Œä»¥èº«ä¸ºæ®‰è€Œä¸æ‚”ã€‚ä½•å…¶æ¢¦æ¢¦å¦‚æ˜¯ä¹Ÿï¼äººç‹¬æ‚£æ— èº«è€³ï¼Œä»–å¤ä½•æ‚£ï¼Ÿæ±‚æ‰€ä»¥å–„å…¶èº«è€…ï¼Œä»–äº‹äº¦éšä¹‹çŸ£ã€‚å–„å…¶èº«æ— è¿‡äºä½“è‚²ã€‚ä½“è‚²äºå¾äººå®å ç¬¬ä¸€ä¹‹ä½ç½®ã€‚ä½“å¼ºå£®è€Œåå­¦é—®é“å¾·ä¹‹è¿›ä¿®å‹‡è€Œæ”¶æ•ˆè¿œã€‚äºå¾äººç ”ç©¶ä¹‹ä¸­ï¼Œå®œè§†ä¸ºé‡è¦ä¹‹éƒ¨ã€‚â€å­¦æœ‰æœ¬æœ«ï¼Œäº‹æœ‰ç»ˆå§‹ï¼ŒçŸ¥æ‰€å…ˆåï¼Œåˆ™è¿‘é“çŸ£ã€‚â€æ­¤ä¹‹è°“ä¹Ÿã€‚</p>
<h2 id="ç¬¬ä¸‰-å‰æ­¤ä½“è‚²ä¹‹å¼ŠåŠå¾äººè‡ªå¤„ä¹‹é“"><a href="#ç¬¬ä¸‰-å‰æ­¤ä½“è‚²ä¹‹å¼ŠåŠå¾äººè‡ªå¤„ä¹‹é“" class="headerlink" title="ç¬¬ä¸‰ å‰æ­¤ä½“è‚²ä¹‹å¼ŠåŠå¾äººè‡ªå¤„ä¹‹é“"></a><strong>ç¬¬ä¸‰ å‰æ­¤ä½“è‚²ä¹‹å¼ŠåŠå¾äººè‡ªå¤„ä¹‹é“</strong></h2><p>ä¸‰è‚²å¹¶é‡ï¼Œç„¶æ˜”ä¹‹ä¸ºå­¦è€…ï¼Œè¯¦å¾·æ™ºè€Œç•¥äºä½“ã€‚åŠå…¶å¼Šä¹Ÿã€‚å»èº«ä¿¯é¦–ï¼Œçº¤çº¤ç´ æ‰‹ï¼Œç™»å±±åˆ™æ°”è¿«ï¼Œæ¶‰æ°´åˆ™è¶³ç—‰ã€‚æ•…æœ‰é¢œå­è€ŒçŸ­å‘½ï¼Œæœ‰è´¾ç”Ÿè€Œæ—©å¤­ï¼Œç‹å‹ƒå¢ç…§é‚»æˆ–å¹¼ä¼¤æˆ–ååºŸã€‚æ­¤çš†æœ‰ç”šé«˜ä¹‹å¾·ä¸æ™ºä¹Ÿï¼Œä¸€æ—¦èº«ä¸å­˜ï¼Œå¾·æ™ºåˆ™ä»ä¹‹è€Œéš³çŸ£ã€‚æƒŸåŒ—æ–¹ä¹‹å¼ºï¼Œä»»é‡‘é©æ­»è€Œä¸åŒã€‚ç‡•èµµå¤šæ‚²æ­Œæ…·æ…¨ä¹‹å£«ã€‚çƒˆå£«æ­¦è‡£ï¼Œå¤šå‡ºå‡‰å·ã€‚æ¸…ä¹‹åˆä¸–ï¼Œé¢œä¹ æ–‹æåˆšä¸»æ–‡è€Œå…¼æ­¦ã€‚ä¹ æ–‹è¿œè·‹åƒé‡Œä¹‹å¤–ï¼Œå­¦å‡»å‰‘ä¹‹æœ¯äºå¡åŒ—ï¼Œä¸å‹‡å£«è§’è€Œèƒœç„‰ã€‚æ•…å…¶è¨€æ›°ï¼šâ€æ–‡æ­¦ç¼ºä¸€å²‚é“ä¹ï¼Ÿâ€é¡¾ç‚æ­¦å—äººä¹Ÿï¼Œå¥½å±…äºåŒ—ï¼Œä¸å–œä¹˜èˆ¹è€Œå–œä¹˜é©¬ã€‚æ­¤æ•°å¤äººè€…ï¼Œçš†å¯å¸ˆè€…ä¹Ÿã€‚<br>å­¦æ ¡æ—¢èµ·ï¼Œé‡‡å„å›½ä¹‹æˆæ³•ï¼Œé£ä¹ ç¨ç¨æ”¹çŸ£ã€‚ç„¶åŠå­¦ä¹‹äººï¼ŒçŠ¹æœªè„±é™ˆæ—§ä¸€æµï¼Œå›¿äºæ‰€ä¹ ï¼Œä¸èƒ½éª¤å˜ï¼Œæˆ–å°‘æ³¨æ„åŠä¹‹ï¼Œäº¦æƒŸæ˜¯å¤–é¢é“ºå¼ ï¼Œä¸æ£å…¶æœ¬è€Œé½å…¶æœ«ã€‚æ•…æ„šè§‚ç°ä»Šä¹‹ä½“è‚²ï¼Œç‡å¤šæœ‰å½¢å¼è€Œæ— å®è´¨ã€‚éä¸æœ‰ä½“æ“è¯¾ç¨‹ä¹Ÿï¼Œéä¸æœ‰ä½“æ“æ•™å‘˜ä¹Ÿï¼Œç„¶è€Œå—ä½“æ“ä¹‹ç›Šè€…å°‘ã€‚éå¾’æ— ç›Šï¼Œåˆæœ‰å®³ç„‰ã€‚æ•™è€…å‘ä»¤ï¼Œå­¦è€…å¼ºåº”ï¼Œèº«é¡ºè€Œå¿ƒè¿ï¼Œç²¾ç¥å—æ— é‡ä¹‹ç—›è‹¦ï¼Œç²¾ç¥è‹¦è€Œèº«äº¦è‹¦çŸ£ã€‚ç›–ä¸€ä½“æ“ä¹‹ç»ˆï¼Œæœªæœ‰ä¸è²Œç˜ç¥ä¼¤è€…ä¹Ÿã€‚é¥®é£Ÿä¸æ±‚æ´ï¼Œæ— æœºä¹‹ç‰©ã€å¾®ç”Ÿä¹‹èŒï¼Œå…¥äºä½“ä¸­ï¼ŒåŒ–ä¸ºç–¾ç—…ï¼›å®¤å†…å…‰çº¿ä¸è¶³ï¼Œåˆ™ç›®åŠ›å—å®³ä¸å°ï¼›æ¡Œæ¤…é•¿çŸ­ä¸åˆï¼Œå‰Šè¶¾é€‚å±¥ï¼Œåˆ™èº¯å¹²å—äºï¼›å…¶ä½™ç±»æ­¤è€…å°šå¤šï¼Œä¸èƒ½å°½ä¹Ÿã€‚<br>ç„¶åˆ™ä¸ºå¾ä¾ªå­¦è€…ä¹‹è®¡å¦‚ä¹‹ä½•ï¼Ÿå­¦æ ¡ä¹‹è®¾å¤‡ï¼Œæ•™å¸ˆä¹‹æ•™è®­ï¼Œä¹ƒå¤–çš„å®¢è§‚çš„ä¹Ÿã€‚å¾äººç›–å°šæœ‰å†…çš„ä¸»è§‚çš„ã€‚å¤«å†…æ–­äºå¿ƒï¼Œç™¾ä½“ä»ä»¤ã€‚ç¥¸ç¦æ— ä¸è‡ªå·±æ±‚ä¹‹è€…ï¼Œæˆ‘æ¬²ä»æ–¯ä»è‡³ï¼Œå†µäºä½“è‚²ä¹ã€‚è‹Ÿè‡ªä¹‹ä¸æŒ¯ï¼Œè™½ä½¿å¤–çš„å®¢è§‚çš„å°½å–„å°½ç¾ï¼Œäº¦çŠ¹ä¹‹ä¹ä¸èƒ½å—æ„ä¹Ÿã€‚æ•…è®²ä½“è‚²å¿…è‡ªè‡ªåŠ¨å§‹ã€‚</p>
<h2 id="ç¬¬å››-ä½“è‚²ä¹‹æ•ˆ"><a href="#ç¬¬å››-ä½“è‚²ä¹‹æ•ˆ" class="headerlink" title="ç¬¬å›› ä½“è‚²ä¹‹æ•ˆ"></a><strong>ç¬¬å›› ä½“è‚²ä¹‹æ•ˆ</strong></h2><p>äººè€…åŠ¨ç‰©ä¹Ÿï¼Œåˆ™åŠ¨å°šçŸ£ã€‚äººè€…æœ‰ç†æ€§çš„åŠ¨ç‰©ä¹Ÿï¼Œåˆ™åŠ¨å¿…æœ‰é“ã€‚ç„¶ä½•è´µä¹æ­¤åŠ¨é‚ªï¼Ÿä½•è´µä¹æ­¤æœ‰é“ä¹‹åŠ¨é‚ªï¼ŸåŠ¨ä»¥è¥ç”Ÿä¹Ÿï¼Œæ­¤æµ…è¨€ä¹‹ä¹Ÿï¼›åŠ¨ä»¥å«å›½ä¹Ÿï¼Œæ­¤å¤§è¨€ä¹‹ä¹Ÿã€‚çš†éæœ¬ä¹‰ã€‚åŠ¨ä¹Ÿè€…ï¼Œç›–å…»ä¹å¾ç”Ÿä¹ä¹å¾å¿ƒè€Œå·²ã€‚æœ±å­ä¸»æ•¬ï¼Œé™†å­ä¸»é™ã€‚é™ï¼Œé™ä¹Ÿï¼›æ•¬ï¼ŒéåŠ¨ä¹Ÿï¼Œäº¦é™è€Œå·²ã€‚è€å­æ›°æ— åŠ¨ä¸ºå¤§ã€‚é‡Šæ°åŠ¡æ±‚å¯‚é™ã€‚é™åä¹‹æ³•ï¼Œä¸ºæœ±é™†ä¹‹å¾’è€…å’¸å°Šä¹‹ã€‚è¿‘æœ‰å› æ˜¯å­è€…ï¼Œè¨€é™åæ³•ï¼Œè‡ªè¯©å…¶æ³•ä¹‹ç¥ï¼Œè€Œé„™è¿åŠ¨è€…ä¹‹è‡ªæŸå…¶ä½“ã€‚æ˜¯æˆ–ä¸€é“ï¼Œç„¶äºˆæœªæ•¢æ•ˆä¹‹ä¹Ÿã€‚æ„šæ‹™ä¹‹è§ï¼Œå¤©åœ°ç›–æƒŸæœ‰åŠ¨è€Œå·²ã€‚<br>åŠ¨ä¹‹å±äºäººç±»è€Œæœ‰è§„åˆ™ä¹‹å¯è¨€è€…æ›°ä½“è‚²ã€‚å‰æ—¢è¨€ä¹‹ï¼Œä½“è‚²ä¹‹æ•ˆï¼Œåˆ™å¼ºç­‹éª¨ä¹Ÿã€‚æ„šæ˜”å°é—»ï¼Œäººä¹‹å®˜éª¸è‚Œç»œï¼ŒåŠæ—¶è€Œå®šï¼Œä¸å¤å†å¯æ”¹æ˜“ï¼Œå¤§æŠµäºŒåäº”å²ä»¥åï¼Œå³ä¸€æˆæ— å˜ã€‚ä»Šä¹ƒçŸ¥å…¶ä¸ç„¶ã€‚äººä¹‹èº«ç›–æ—¥æ—¥å˜æ˜“è€…ï¼šæ–°é™ˆä»£è°¢ä¹‹ä½œç”¨ä¸ç»è¡Œäºå„éƒ¨ç»„ç»‡ä¹‹é—´ï¼Œç›®ä¸æ˜å¯ä»¥æ˜ï¼Œè€³ä¸èªå¯ä»¥èªï¼Œè™½å…­ä¸ƒåä¹‹äººçŠ¹æœ‰æ”¹æ˜“å®˜éª¸ä¹‹æ•ˆï¼Œäº‹ç›–æœ‰å¿…è‡³è€…ã€‚åˆé—»å¼±è€…éš¾ä»¥è½¬è€Œä¸ºå¼ºï¼Œä»Šäº¦çŸ¥å…¶éæ˜¯ã€‚ç›–ç”Ÿè€Œå¼ºè€…ï¼Œæ»¥ç”¨å…¶å¼ºï¼Œä¸æˆ’äºç§ç§å—œæ¬²ï¼Œä»¥æ¸æˆ•è´¼å…¶èº«ï¼Œè‡ªè°“å¤©ç”Ÿå¥½èº«æ‰‹ï¼Œå¾—æ­¤å·²è¶³ï¼Œå°šå¾…é”»ç‚¼ï¼Ÿæ•…è‡³å¼ºè€…æˆ–ç»ˆè½¬ä¸ºè‡³å¼±ã€‚è‡³äºå¼±è€…ï¼Œåˆ™æ’è‡ªæ‚¯å…¶èº«ä¹‹ä¸‹å…¨ï¼Œè€Œæƒ§å…¶ç”Ÿä¹‹ä¸æ°¸ï¼Œå…¢ä¸šè‡ªæŒã€‚<br>äºæ¶ˆææ–¹é¢ï¼Œåˆ™æ·±æˆ’å—œæ¬²ï¼Œä¸æ•¢ä½¿æœ‰æŸå¤±ã€‚äºç§¯ææ–¹é¢ï¼Œåˆ™å‹¤è‡ªé”»ç‚¼ï¼Œå¢ç›Šå…¶æ‰€ä¸èƒ½ã€‚ä¹…ä¹‹é‚å˜è€Œä¸ºå¼ºçŸ£ã€‚æ•…ç”Ÿè€Œå¼ºè€…ä¸å¿…è‡ªå–œä¹Ÿï¼Œç”Ÿè€Œå¼±è€…ä¸å¿…è‡ªæ‚²ä¹Ÿã€‚å¾ç”Ÿè€Œå¼±ä¹ï¼Œæˆ–è€…å¤­ä¹‹è¯±æˆ‘ä»¥è‡³äºå¼ºï¼Œæœªå¯çŸ¥ä¹Ÿã€‚ä¸œè¥¿è‘—ç§°ä¹‹ä½“è‚²å®¶ï¼Œè‹¥ç¾ä¹‹ç½—æ–¯ç¦ã€å¾·ä¹‹å­™æ£ ã€æ—¥æœ¬ä¹‹å˜‰çº³ï¼Œçš†ä»¥è‡³å¼±ä¹‹èº«ï¼Œè€Œå¾—è‡³å¼ºä¹‹æ•ˆã€‚åˆå°é—»ä¹‹ï¼Œç²¾ç¥èº«ä½“ï¼Œä¸èƒ½å¹¶å®Œã€‚ç”¨æ€æƒ³ä¹‹äººï¼Œæ¯æ­‰äºä½“ï¼›è€Œä½“é­„è›®å¥è€…ï¼Œå¤šç¼ºäºæ€ã€‚å…¶è¯´äº¦è°¬ã€‚<br>æ­¤ç›–æŒ‡è–„å¿—å¼±è¡Œä¹‹äººï¼Œéæ‰€ä»¥æ¦‚ä¹å›å­ä¹Ÿã€‚å­”å­ä¸ƒåäºŒè€Œæ­»ï¼Œæœªé—»å…¶èº«ä½“ä¸å¥ï¼›é‡Šè¿¹å¾€æ¥ä¼ é“ï¼Œæ­»å¹´äº¦é«˜ï¼›é‚ªè‹ä¸å¹¸ä»¥å†¤æ­»ï¼›è‡³äºæ‘©è¯ƒæœ«ï¼Œå·¦æŒç»å…¸ï¼Œå³æ‰§åˆ©å‰‘ï¼Œå¾å‹ä¸€ä¸–ã€‚æ­¤çš†å¤ä¹‹æ‰€è°“åœ£äººï¼Œè€Œæœ€å¤§ä¹‹æ€æƒ³å®¶ä¹Ÿã€‚ä»Šä¹‹ä¼ç§©åº¸å…ˆç”Ÿï¼Œä¸ƒåæœ‰ä½™å²çŸ£ï¼Œè‡ªè°“å¯è‡³ç™¾ä½™å²ï¼Œå½¼äº¦ç”¨æ€æƒ³ä¹‹äººä¹Ÿï¼›ç‹æ¹˜ç»®æ­»å¹´ä¸ƒåä½™ï¼Œè€Œåº·å¥çŸé“„ã€‚ä¸ºæ˜¯è¯´è€…ï¼Œå…¶ä½•ä»¥è§£é‚ªï¼Ÿæ€»ä¹‹ï¼Œå‹¤ä½“è‚²åˆ™å¼ºç­‹éª¨ï¼Œå¼ºç­‹éª¨åˆ™ä½“è´¨å¯å˜ï¼Œå¼±å¯è½¬å¼ºï¼Œèº«å¿ƒå¯ä»¥å¹¶å®Œã€‚æ­¤ç›–éå¤©å‘½è€Œå…¨ä¹äººåŠ›ä¹Ÿã€‚<br>éç¬¬å¼ºç­‹éª¨ä¹Ÿï¼Œåˆè¶³ä»¥å¢çŸ¥è¯†ã€‚è¿‘äººæœ‰è¨€æ›°ï¼šæ–‡æ˜å…¶ç²¾ç¥ï¼Œé‡è›®å…¶ä½“é­„ã€‚æ­¤è¨€æ˜¯ä¹Ÿã€‚æ¬²æ–‡æ˜å…¶ç²¾ç¥ï¼Œå…ˆè‡ªé‡è›®å…¶ä½“é­„ã€‚è‹Ÿé‡è›®å…¶ä½“é­„çŸ£ï¼Œåˆ™æ–‡æ˜ä¹‹ç²¾ç¥éšä¹‹ã€‚å¤«çŸ¥è¯†ä¹‹äº‹ï¼Œè®¤è¯†ä¸–é—´ä¹‹äº‹ç‰©è€Œåˆ¤æ–­å…¶ç†ä¹Ÿã€‚äºæ­¤æœ‰é¡»äºä½“è€…ç„‰ã€‚ç›´è§‚åˆ™èµ–ä¹è€³ç›®ï¼Œæ€ç´¢åˆ™èµ–ä¹è„‘ç­‹ï¼Œè€³ç›®è„‘ç­‹ä¹‹è°“ä½“ï¼Œä½“å…¨è€ŒçŸ¥è¯†ä¹‹äº‹ä»¥å…¨ã€‚æ•…å¯è°“é—´æ¥ä»ä½“è‚²ä»¥å¾—çŸ¥è¯†ã€‚ä»Šä¸–ç™¾ç§‘ä¹‹å­¦ï¼Œæ— è®ºå­¦æ ¡ç‹¬ä¿®ï¼Œæ€»é¡»åŠ›èƒ½èƒœä»»ã€‚åŠ›èƒ½èƒœä»»è€…ï¼Œä½“ä¹‹å¼ºè€…ä¹Ÿã€‚ä¸èƒ½èƒœä»»è€…ï¼Œå…¶å¼±è€…ä¹Ÿã€‚å¼ºå¼±åˆ†ï¼Œè€Œæ‰€ä»»ä¹‹åŒºåŸŸä»¥æ®ŠçŸ£ã€‚<br>éç¬¬å¢çŸ¥è¯†ä¹Ÿï¼Œåˆè¶³ä»¥è°ƒæ„Ÿæƒ…ã€‚æ„Ÿæƒ…ä¹‹äºäººï¼Œå…¶åŠ›æå¤§ã€‚å¤äººä»¥ç†æ€§åˆ¶ä¹‹ï¼Œæ•…æ›°â€ä¸»äººç¿å¸¸æƒºæƒºå¦â€ï¼Œåˆæ›°â€ä»¥ç†åˆ¶å¿ƒâ€ã€‚ç„¶ç†æ€§å‡ºäºå¿ƒï¼Œå¿ƒå­˜ä¹ä½“ã€‚å¸¸è§‚ç½¢å¼±ä¹‹äººï¼Œå¾€å¾€ä¸ºæ„Ÿæƒ…æ‰€å½¹ï¼Œè€Œæ— åŠ›ä»¥è‡ªæ‹”ï¼›äº”å®˜ä¸å…¨åŠè‚¢ä½“æœ‰ç¼ºè€…ï¼Œå¤šå›°äºä¸€åä¹‹æƒ…ï¼Œè€Œç†æ€§ä¸è¶³ä»¥æ•‘ä¹‹ã€‚æ•…èº«ä½“å¥å…¨ï¼Œæ„Ÿæƒ…æ–¯æ­£ï¼Œå¯è°“ä¸æ˜“ä¹‹ç†ã€‚ä»¥ä¾‹è¨€ä¹‹ï¼šå¾äººé‡æŸç§ä¸å¿«ä¹‹äº‹ï¼Œå—å…¶åˆºæ¿€ï¼Œå¿ƒç¥éœ‡è¡ï¼Œéš¾äºåˆ¶æ­¢ï¼Œè‹ŸåŠ ä»¥ä¸¥æ€¥ä¹‹è¿åŠ¨ï¼Œç«‹å¯æ±°å»é™ˆæ—§ä¹‹è§‚å¿µï¼Œè€Œå¤ä½¿è„‘ç­‹æ¸…æ˜ï¼Œæ•ˆç›–å¯ç«‹è€Œå¾…ä¹Ÿã€‚<br>éç¬¬è°ƒæ„Ÿæƒ…ä¹Ÿï¼Œåˆè¶³ä»¥å¼ºæ„å¿—ã€‚ä½“è‚²ä¹‹å¤§æ•ˆï¼Œç›–å°¤åœ¨æ­¤çŸ£ã€‚å¤«ä½“è‚²ä¹‹ä¸»æ—¨ï¼Œæ­¦å‹‡ä¹Ÿã€‚æ­¦å‹‡ä¹‹ç›®ï¼Œè‹¥çŒ›çƒˆï¼Œè‹¥ä¸ç•ï¼Œè‹¥æ•¢ä¸ºï¼Œè‹¥è€ä¹…ï¼Œçš†æ„å¿—ä¹‹äº‹ã€‚å–ä¾‹æ˜ä¹‹ï¼Œå¦‚å†·æ°´æµ´è¶³ä»¥ç»ƒä¹ çŒ›çƒˆä¸ä¸ç•ï¼Œåˆè¶³ä»¥ç»ƒä¹ æ•¢ä¸ºã€‚å‡¡å„ç§ä¹‹è¿åŠ¨ï¼ŒæŒç»­ä¸æ”¹ï¼Œçš†æœ‰ç»ƒä¹ è€ä¹…ä¹‹ç›Šã€‚è‹¥é•¿è·ç¦»ä¹‹èµ›è·‘ï¼Œäºè€ä¹…ä¹‹ç»ƒä¹ å°¤è‘—ã€‚å¤«åŠ›æ‹”å±±æ°”ç›–ä¸–ï¼ŒçŒ›çƒˆè€Œå·²ï¼›ä¸æ–©æ¥¼å…°èª“ä¸è¿˜ï¼Œä¸ç•è€Œå·²ï¼›åŒ–å®¶ä¸ºå›½ï¼Œæ•¢ä¸ºè€Œå·²ï¼›å…«å¹´äºå¤–ï¼Œä¸‰è¿‡å…¶é—¨è€Œä¸å…¥ï¼Œè€ä¹…è€Œå·²ã€‚è¦çš†å¯äºæ—¥å¸¸ä½“è‚²ä¹‹å°åŸºä¹‹ã€‚æ„å¿—ä¹Ÿè€…ï¼Œå›ºäººç”Ÿäº‹ä¸šä¹‹å…ˆèº¯ä¹Ÿã€‚<br>è‚¢ä½“çº¤å°è€…ä¸¾æ­¢è½»æµ®ï¼Œè‚¤ç†ç¼“å¼›è€…å¿ƒæ„æŸ”é’ï¼Œèº«ä½“ä¹‹å½±å“äºå¿ƒç†ä¹Ÿå¦‚æ˜¯ã€‚ä½“è‚²ä¹‹æ•ˆï¼Œè‡³äºå¼ºç­‹éª¨ï¼Œå› è€Œå¢çŸ¥è¯†ï¼Œå› è€Œè°ƒæ„Ÿæƒ…ï¼Œå› è€Œå¼ºæ„å¿—ã€‚ç­‹éª¨è€…ï¼Œå¾äººä¹‹èº«ï¼›çŸ¥è¯†ã€æ„Ÿæƒ…ã€æ„å¿—è€…ï¼Œå¾äººä¹‹å¿ƒã€‚èº«å¿ƒçš†é€‚ï¼Œæ˜¯è°“ä¿±æ³°ã€‚æ•…å¤«ä½“è‚²éä»–ï¼Œå…»ä¹å¾ç”Ÿã€ä¹ä¹å¾å¿ƒè€Œå·²ã€‚</p>
<h2 id="ç¬¬äº”-ä¸å¥½è¿åŠ¨ä¹‹åŸå› "><a href="#ç¬¬äº”-ä¸å¥½è¿åŠ¨ä¹‹åŸå› " class="headerlink" title="ç¬¬äº” ä¸å¥½è¿åŠ¨ä¹‹åŸå› "></a><strong>ç¬¬äº” ä¸å¥½è¿åŠ¨ä¹‹åŸå› </strong></h2><p>è¿åŠ¨åŠ›ä½“è‚²ä¹‹æœ€è¦è€…ã€‚ä»Šä¹‹å­¦è€…å¤šä¸å¥½è¿åŠ¨ï¼Œå…¶åŸå› ç›–æœ‰å››ç„‰ï¼šä¸€åˆ™æ— è‡ªè§‰å¿ƒä¹Ÿã€‚ä¸€äº‹ä¹‹è§äºè¡Œä¸ºä¹Ÿï¼Œå¿…å…ˆåŠ¨å…¶å–œä¸ºæ­¤äº‹ä¹‹æƒ…ï¼Œå°¤å¿…å…ˆæœ‰å¯¹äºæ­¤äº‹æ˜ç™½å‘¨è¯¦çŸ¥å…¶æ‰€ä»¥ç„¶ä¹‹æ™ºã€‚æ˜ç™½å‘¨è¯¦çŸ¥æ‰€ä»¥ç„¶è€…ï¼Œå³è‡ªè§‰å¿ƒä¹Ÿã€‚äººå¤šä¸çŸ¥è¿åŠ¨å¯¹äºè‡ªå·±æœ‰å¦‚ä½•ä¹‹å…³ç³»ï¼Œæˆ–çŸ¥å…¶å¤§ç•¥ï¼Œäº¦æœªè‡³äºäº²åˆ‡ä¸¥å¯†ä¹‹åº¦ã€‚æ— ä»¥å‘å…¶æ™ºï¼Œå› æ— ä»¥åŠ¨å…¶æƒ…ã€‚å¤«èƒ½ç ”ç©¶å„ç§ç§‘å­¦å­œå­œä¸å€¦è€…ï¼Œä»¥å…¶å…³ç³»äºå·±è€…åˆ‡ä¹Ÿã€‚ä»Šæ—¥ä¸ä¸ºï¼Œä»–æ—¥å°†æ— ä»¥è°‹ç”Ÿã€‚è€Œè¿åŠ¨åˆ™æ— æ­¤è‡ªè§‰ï¼Œæ­¤å…¶å’ç”±äºè‡ªå·±ä¸èƒ½æ·±çœè€…åŠï¼Œè€Œæ•™å¸ˆä¸çŸ¥æ‰€ä»¥å¼€ä¹‹äº¦å å…¶åŠä¹Ÿã€‚ä¸€åˆ™ç§¯ä¹ éš¾è¿”ä¹Ÿã€‚æˆ‘å›½å†æ¥é‡æ–‡ï¼Œç¾é½¿çŸ­åï¼ŒåŠ¨æœ‰å¥½æ±‰ä¸å½“å…µä¹‹è¯­ã€‚<br>è™½çŸ¥è¿åŠ¨å½“è¡Œä¹‹ç†ï¼Œä¸å„å›½è¿åŠ¨è‡´å¼ºä¹‹æ•ˆï¼Œç„¶æ—§è§‚å¿µä¹‹åŠ›å°šå¼ºï¼Œå…¶äºæ–°è§‚å¿µä¹‹è¿åŠ¨ï¼Œç›–çŠ¹åœ¨è¿æ‹’å‚åŠä¹‹åˆ—ã€‚æ•…ä¸å¥½è¿åŠ¨ï¼Œäº¦æ— æ€ªå…¶ç„¶ã€‚ä¸€åˆ™æå€¡ä¸åŠ›ä¹Ÿã€‚æ­¤åˆæœ‰ä¸¤ç§ï¼šå…¶ä¸€ï¼Œä»Šä¹‹æ‰€ç§°æ•™è‚²å®¶ï¼Œå¤šä¸è¯ºä½“è‚²ã€‚è‡ªå·±ä¸çŸ¥ä½“è‚²ï¼Œå¾’è€³å…¶åï¼Œäº¦ä»è€Œä½“è‚²ä¹‹ï¼Œæ‰€ä»¥å‡ºä¹‹ä¹Ÿä¸è¯šï¼Œæ‰€ä»¥è¡Œä¹‹ä¹Ÿæ— æœ¯ï¼Œé‚å‡å­¦è€…ç ”ç©¶ä¹‹å¿ƒã€‚å¤«è¡å­è€Œè¨€è‡ªç«‹ï¼Œæ²‰æ¹è€Œè¨€èŠ‚é¥®ï¼Œå›ºæ— äººä¿¡ä¹‹çŸ£ã€‚å…¶æ¬¡ï¼Œæ•™ä½“æ“è€…å¤šæ— å­¦è¯†ï¼Œè¯­è¨€é„™ä¿šï¼Œé—»è€…å¡è€³ã€‚æ‰€çŸ¥æƒŸæ­¤ä¸€æŠ€ï¼Œåˆæœªå¿…ç²¾ï¼Œæ—¥æ—¥ç›¸è§è€…ï¼ŒæƒŸæ­¤æœºæ¢°ä¹‹åŠ¨ä½œè€Œå·²ã€‚<br>å¤«å¾’æœ‰å½¢å¼è€Œæ— ç²¾æ„ä»¥è´¯æ³¨ä¹‹è€…ï¼Œå…¶äº‹ä¸å¯ä¸€æ—¥å­˜ï¼Œè€Œä»Šä¹‹ä½“æ“å®å¦‚æ˜¯ã€‚ä¸€åˆ™å­¦è€…ä»¥è¿åŠ¨åŠ›å¯ç¾ä¹Ÿã€‚ä»¥æ„šæ‰€è€ƒå¯Ÿï¼Œæ­¤å®ä¸ºä¸è¿åŠ¨ä¹‹å¤§åŸå› çŸ£ã€‚å¤«è¡£è£³æªæªï¼ˆæ³¨ï¼šå°†æœ¨å­—æ—æ¢æˆè¡£å­—æ—ï¼‰ã€è¡Œæ­¢äºäºã€ç»è§†èˆ’å¾è€Œå¤·çŠ¹è€…ï¼Œç¾å¥½ä¹‹æ€ï¼Œè€Œç¤¾ä¼šä¹‹æ‰€å°šä¹Ÿã€‚å¿½å°”å¼ è‡‚éœ²è¶³ï¼Œä¼¸è‚¢å±ˆä½“ï¼Œæ­¤ä½•ä¸ºè€…é‚ªï¼Ÿå®éå¤§å¯æ€ªè€…é‚ªï¼Ÿæ•…æœ‰æ·±çŸ¥èº«ä½“ä¸å¯ä¸è¿åŠ¨ï¼Œä¸”ç”šæ€å®è¡Œï¼Œç«Ÿä¸èƒ½å®è¡Œè€…ï¼›æœ‰ç¾¤è¡Œç¾¤æ­¢èƒ½è¿åŠ¨ï¼Œå•ç‹¬è¡ŒåŠ¨åˆ™ä¸èƒ½è€…ï¼›æœ‰ç‡•å±…ç§å®¤èƒ½è¿åŠ¨ï¼Œç¨ äººå¹¿ä¼—åˆ™ä¸èƒ½è€…ã€‚ä¸€è¨€è”½ä¹‹ï¼Œå®³ç¾ä¹‹ä¸€å¿µä¸ºä¹‹è€³ã€‚å››è€…çš†ä¸å¥½è¿åŠ¨ä¹‹åŸå› ã€‚ç¬¬ä¸€ä¸ç¬¬å››å±äºä¸»è§‚ï¼Œæ”¹ä¹‹åœ¨å·±ï¼›ç¬¬äºŒä¸ç¬¬ä¸‰å±äºå®¢è§‚ï¼Œæ”¹ä¹‹åœ¨äººï¼Œå›å­æ±‚å·±ï¼Œåœ¨äººè€…å¬ä¹‹å¯çŸ£ã€‚</p>
<h2 id="ç¬¬å…­-è¿åŠ¨ä¹‹æ–¹æ³•è´µå°‘"><a href="#ç¬¬å…­-è¿åŠ¨ä¹‹æ–¹æ³•è´µå°‘" class="headerlink" title="ç¬¬å…­ è¿åŠ¨ä¹‹æ–¹æ³•è´µå°‘"></a><strong>ç¬¬å…­ è¿åŠ¨ä¹‹æ–¹æ³•è´µå°‘</strong></h2><p>æ„šè‡ªä¼¤ä½“å¼±ï¼Œå› æ¬²ç ”ç©¶å«ç”Ÿä¹‹æœ¯ã€‚é¡¾å¤äººè¨€è€…äº¦ä¸å°‘çŸ£ã€‚è¿‘ä»Šå­¦æ ¡æœ‰ä½“æ“ã€åŠé—´æœ‰ä¹¦å†Œï¼Œå†¥å¿ƒåŠ¡æ³›ï¼Œç»ˆéš¾å¾—ç›Šã€‚ç›–æ­¤äº‹ä¸é‡è¨€è°ˆï¼Œé‡åœ¨å®è¡Œï¼Œè‹Ÿèƒ½å®è¡Œï¼Œå¾—ä¸€é“åŠæ³•å·²è¶³ï¼Œæ›¾æ–‡æ­£è¡Œä¸´ç¡æ´—è„šã€é£Ÿååƒæ­¥ä¹‹æ³•ï¼Œå¾—ç›Šä¸å°‘ã€‚æœ‰è€è€…å¹´å…«åçŠ¹åº·å¥ï¼Œé—®ä¹‹ï¼Œæ›°ï¼šâ€å¾æƒŸä¸é¥±é£Ÿè€³ã€‚â€ä»Šä¹‹ä½“æ“ï¼Œè¯¸æ³•æ¨Šé™ˆï¼Œæ›´ä»†å°½ä¹‹ï¼Œå®æ­¢æ•°åç™¾ç§ï¼Ÿå·¢æ—æ­¢äºä¸€æï¼Œé¥®æ²³æ­¢äºæ»¡è…¹ã€‚å¾äººæƒŸæ­¤èº«è€³ï¼ŒæƒŸæ­¤å®˜éª¸è—ç»œè€³ï¼Œè™½ç™¾å…¶æ³•ï¼Œä¸å¤–æ¬²ä½¿è¡€è„‰æµé€šã€‚å¤«æ³•ä¹‹è‡´å…¶æ•ˆè€…ä¸€ï¼Œä¸€æ³•ä¹‹æ•ˆç„¶ï¼Œç™¾æ³•ä¹‹æ•ˆäº¦ç„¶ï¼Œåˆ™ä½™ä¹‹ä¹åä¹æ³•å¯åºŸä¹Ÿã€‚ç›®ä¸ä¸¤è§†è€Œæ˜ï¼Œè€³ä¸ä¸¤å¬è€Œèªï¼Œç­‹éª¨ä¹‹é”»ç‚¼è€Œç™¾å…¶æ–¹æ³•ï¼Œæ˜¯æ‰°ä¹‹ä¹Ÿã€‚<br>æ¬²å…¶æœ‰æ•ˆï¼Œæœªè§å…¶èƒ½æœ‰æ•ˆçŸ£ã€‚å¤«åº”è¯¸æ–¹ä¹‹ç”¨ï¼Œä¸é”»ä¸€å·±ä¹‹èº«è€…ï¼Œä¸åŒã€‚æµªæ¡¥æ‰€ä»¥é€‚äºèˆªæµ·ï¼ŒæŒç«¿æ‰€ä»¥é€‚äºé€¾é«˜ï¼Œæ¸¸æˆå®œä¹å°å­¦ï¼Œå…µå¼å®œä¹ä¸­å­¦ä»¥ä¸Šï¼Œæ­¤åº”è¯¸æ–¹ä¹‹ç”¨è€…ä¹Ÿã€‚è¿åŠ¨ç­‹éª¸ä½¿è¡€è„‰æµé€šï¼Œæ­¤é”»ä¸€å·±ä¹‹èº«è€…ä¹Ÿã€‚åº”è¯¸æ–¹ä¹‹ç”¨è€…å…¶æ³•å®œå¤šï¼Œé”»ä¸€å·±ä¹‹èº«è€…å…¶æ³•å®œå°‘ã€‚è¿‘ä¹‹å­¦è€…ï¼Œå¤šè¯¯æ­¤æ„ï¼Œæ•…å…¶å¤±æœ‰äºŒï¼šä¸€åˆ™å¥½è¿åŠ¨è€…ï¼Œä»¥å¤šä¸ºå–„ï¼Œå‡ æ¬²ä¸€äººä¹‹èº«ï¼Œç™¾èˆ¬ä¿±å¤‡ï¼Œç”šè‡³æ— ä¸€ç›Šèº«è€…ï¼›ä¸€åˆ™ä¸å¥½è¿åŠ¨è€…ï¼Œè§äººä¹‹æŠ€è‰ºå¤šï¼Œå¾æ‰€çŸ¥è€…å°‘ï¼Œåˆ™ç»å¼ƒä¹‹è€Œä¸ä¸ºï¼Œå…¶å®œå¤šè€…ä¸å¿…å–„ï¼ŒåŠ¡å¹¿è€Œè’ï¼Œåˆä½•è´µä¹ï¼Ÿå°‘è€…ä¸å¿…ä¸å–„ï¼Œè™½ä¸€æ‰‹ä¸€è¶³ä¹‹å±ˆä¼¸ï¼Œè‹Ÿä»¥ä¸ºå¸¸ï¼Œäº¦æœ‰ç›Šç„‰ã€‚æ˜ä¹æ­¤ï¼Œè€Œåä½“è‚²å§‹æœ‰è¿›æ­¥å¯è¨€çŸ£ã€‚</p>
<h2 id="ç¬¬ä¸ƒ-è¿åŠ¨åº”æ³¨æ„äº‹é¡¹"><a href="#ç¬¬ä¸ƒ-è¿åŠ¨åº”æ³¨æ„äº‹é¡¹" class="headerlink" title="ç¬¬ä¸ƒ è¿åŠ¨åº”æ³¨æ„äº‹é¡¹"></a><strong>ç¬¬ä¸ƒ è¿åŠ¨åº”æ³¨æ„äº‹é¡¹</strong></h2><p>å‡¡äº‹çš†å®œæœ‰æ’ï¼Œè¿åŠ¨äº¦ç„¶ã€‚æœ‰ä¸¤äººäºæ­¤ï¼Œå…¶äºè¿åŠ¨ä¹Ÿï¼Œä¸€äººæ—¶ä½œæ—¶è¾ï¼Œä¸€äººåˆ°åº•ä¸æ‡ˆï¼Œåˆ™æ•ˆä¸æ•ˆå¿…æœ‰åˆ†çŸ£ã€‚è¿åŠ¨è€Œæœ‰æ’ï¼Œç¬¬ä¸€èƒ½ç”Ÿå…´å‘³ã€‚å‡¡é™è€…ä¸èƒ½è‡ªåŠ¨ï¼Œå¿…æœ‰æ‰€ä»¥åŠ¨ä¹‹è€…ã€‚åŠ¨ä¹‹æ— è¿‡äºå…´å‘³ã€‚å‡¡ç§‘å­¦çš†å®œå¼•èµ·å¤šæ–¹ä¹‹å…´å‘³ï¼Œè€Œäºè¿åŠ¨å°¤ç„¶ã€‚äººé™å¤„åˆ™ç”šé€¸ï¼Œå‘åŠ¨åˆ™ç”šåŠ³ï¼Œäººæ’å¥½é€¸è€Œæ¶åŠ³ï¼Œä½¿æ— ç‰©ç„‰ä»¥ä¿ƒä¹‹ï¼Œåˆ™ä¸è¶³ä»¥ç§»å…¶åŠ¿è€Œå˜å…¶å¥½æ¶ä¹‹å¿ƒã€‚<br>è€Œæ­¤å…´å‘³ä¹‹èµ·ï¼Œç”±äºæ—¥æ—¥è¿åŠ¨ä¸è¾ã€‚æœ€å¥½äºæ‰èµ·ä¸´ç¡è¡Œä¸¤æ¬¡è¿åŠ¨ï¼Œè£¸ä½“æœ€å–„ï¼Œæ¬¡åˆ™è–„è¡£ï¼Œå¤šè¡£ç”šç¢äº‹ã€‚æ—¥ä»¥ä¸ºå¸¸ï¼Œä½¿æ­¤è¿åŠ¨ä¹‹è§‚å¿µï¼Œç›¸è¿è€Œä¸ç»ï¼Œä»Šæ—¥ä¹‹è¿åŠ¨ï¼Œæ‰¿ä¹æ˜¨æ—¥ä¹‹è¿åŠ¨ï¼Œè€Œåˆå¼•èµ·æ˜æ—¥ä¹‹è¿åŠ¨ã€‚æ¯æ¬¡ä¸å¿…ä¹…ï¼Œä¸‰ååˆ†é’Ÿå·²è¶³ã€‚å¦‚æ­¤è‡ªç”Ÿä¸€ç§ä¹‹å…´å‘³ç„‰ã€‚ç¬¬äºŒèƒ½ç”Ÿå¿«ä¹ã€‚è¿åŠ¨æ—¢ä¹…ï¼Œæˆæ•ˆå¤§è‘—ï¼Œå‘ç”Ÿè‡ªå·±ä»·å€¼ä¹‹å¿µã€‚ä»¥ä¹‹ä¸ºå­¦åˆ™èƒœä»»æ„‰å¿«ï¼Œä»¥ä¹‹ä¿®å¾·åˆ™æ—¥èµ·æœ‰åŠŸï¼Œå¿ƒä¸­æ— é™å¿«ä¹ï¼Œäº¦ç¼˜æœ‰æ’è€Œå¾—ä¹Ÿã€‚å¿«ä¹ä¸å…´å‘³æœ‰è¾¨ã€‚å…´å‘³è€…è¿åŠ¨ä¹‹å§‹ï¼Œå¿«ä¹è€…è¿åŠ¨ä¹‹ç»ˆã€‚å…´å‘³ç”Ÿäºè¿›è¡Œï¼Œå¿«ä¹ç”Ÿäºç»“æœã€‚äºŒè€…è‡ªå¼‚ã€‚<br>æœ‰æ’çŸ£ï¼Œè€Œä¸ç”¨å¿ƒï¼Œäº¦éš¾æœ‰æ•ˆã€‚èµ°é©¬è§‚èŠ±ï¼Œè™½æ—¥æ—¥è§‚ï¼ŒçŠ¹æ— è§‚ä¹Ÿã€‚å¿ƒåœ¨é¸¿é¹„ï¼Œè™½ä¸ä¿±å­¦ï¼Œå‹¿è‹¥ä¹‹çŸ£ã€‚æ•…è¿åŠ¨æœ‰æ³¨å…¨åŠ›ä¹‹é“ç„‰ã€‚è¿åŠ¨ä¹‹æ—¶ï¼Œå¿ƒåœ¨è¿åŠ¨ï¼Œé—²æ€æ‚è™‘ï¼Œä¸€åˆ‡å±å»ï¼Œè¿å¿ƒäºè¡€è„‰å¦‚ä½•æµé€šï¼Œç­‹è‚‰å¦‚ä½•å¼ å¼›ï¼Œå…³èŠ‚å¦‚ä½•åå¤ï¼Œå‘¼å¸å¦‚ä½•å‡ºå…¥ã€‚è€Œè¿ä½œæŒ‰èŠ‚ï¼Œå±ˆä¼¸è¿›é€€ï¼Œçš†ä¸€ä¸€è¸å®ã€‚æœ±å­è®ºä¸»ä¸€æ— é€‚ï¼Œè°“åƒé¥­åˆ™æƒ³ç€åƒé¥­ï¼Œç©¿è¡£åˆ™æƒ³ç€ç©¿è¡£ã€‚æ³¨å…¨åŠ›äºè¿åŠ¨ä¹‹æ—¶è€…ï¼Œäº¦è‹¥æ˜¯åˆ™å·²è€³ã€‚<br>æ–‡æ˜æŸ”é¡ºï¼Œå›å­ä¹‹å®¹ã€‚è™½ç„¶ï¼Œéæ‰€ä»¥è¯­äºè¿åŠ¨ä¹Ÿã€‚è¿åŠ¨å®œè›®æ‹™ã€‚éª‘çªæªé¸£åè¡åå†³ï¼Œæš—å™é¢“å±±å²³ã€å±å’¤å˜é£äº‘ï¼ŒåŠ›æ‹”é¡¹ç‹ä¹‹å±±ï¼Œå‹‡è´¯ç”±åŸºä¹‹æœ­ï¼Œå…¶é“ç›–å­˜ä¹è›®æ‹™ï¼Œè€Œæ— ä¸äºçº¤å·§ä¹‹äº‹ã€‚è¿åŠ¨ä¹‹è¿›å–å®œè›®ï¼Œè›®åˆ™æ°”åŠ›é›„ï¼Œç­‹éª¨åŠ²ã€‚è¿åŠ¨ä¹‹æ–¹æ³•å®œæ‹™ï¼Œæ‹™åˆ™èµ„å®ˆå®ï¼Œç»ƒä¹ æ˜“ã€‚äºŒè€…åœ¨åˆè¡Œè¿åŠ¨ä¹‹äººä¸ºå°¤è¦ã€‚è¿åŠ¨æ‰€å®œæ³¨æ„è€…ä¸‰ï¼šæœ‰æ’ä¸€ä¹Ÿï¼Œæ³¨å…¨åŠ›äºŒä¹Ÿï¼Œè›®æ‹™ä¸‰ä¹Ÿã€‚ä»–æ‰€å½“æ³¨æ„è€…å°šå¤šã€‚ä¸¾å…¶è¦è€…å¦‚æ­¤ã€‚</p>
<h2 id="ç¬¬å…«-è¿åŠ¨ä¸€å¾—ä¹‹å•†æ¦·"><a href="#ç¬¬å…«-è¿åŠ¨ä¸€å¾—ä¹‹å•†æ¦·" class="headerlink" title="ç¬¬å…« è¿åŠ¨ä¸€å¾—ä¹‹å•†æ¦·"></a><strong>ç¬¬å…« è¿åŠ¨ä¸€å¾—ä¹‹å•†æ¦·</strong></h2><p>æ„šæ—¢ç²—æ¶‰å„ç§è¿åŠ¨ï¼Œä»¥å…¶çš†ç³»å¤–é“„è€Œæ— å½“äºä¸€å·±ä¹‹å¿ƒå¾—ã€‚ä¹ƒææŒšå„ç§è¿åŠ¨ä¹‹é•¿ï¼Œè‡ªæˆä¸€ç§è¿åŠ¨ï¼Œå¾—æ­¤è¿åŠ¨ä¹‹ç›Šï¼Œé¢‡ä¸ºä¸å°‘ã€‚å‡¡åˆ†å…­æ®µï¼šæ‰‹éƒ¨ä¹Ÿï¼Œè¶³éƒ¨ä¹Ÿï¼Œèº¯å¹²éƒ¨ä¹Ÿï¼Œå¤´éƒ¨ä¹Ÿï¼Œæ‰“å‡»è¿åŠ¨ä¹Ÿï¼Œè°ƒå’Œè¿åŠ¨ä¹Ÿã€‚æ®µä¹‹ä¸­æœ‰èŠ‚ï¼Œå‡¡äºŒåæœ‰ä¸ƒèŠ‚ã€‚ä»¥å…¶ä¸ºå…­æ®µï¼Œå› åä¹‹æ›°å…­æ®µè¿åŠ¨ã€‚å…¹è¿°äºåï¼Œä¸–ä¹‹å›å­ï¼Œå¹¸æ•™æ­£ç„‰ã€‚<br><strong>ä¸€ã€æ‰‹éƒ¨è¿åŠ¨ï¼ŒååŠ¿</strong><br>1ï¼æ¡æ‹³å‘å‰å±ˆä¼¸ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ï¼ˆå·¦å³å‚è€…ï¼Œå·¦åŠ¨å³æ¯ï¼Œå³åŠ¨å·¦æ¯ï¼Œç›¸å‚äº’ä¹Ÿï¼‰ã€‚<br>2ï¼æ¡æ‹³å±ˆæ—¶å‰ä¾§ååŠåœ†å½¢è¿åŠ¨ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚<br>3ï¼æ¡æ‹³å‘å‰é¢ä¸‹æ–¹å±ˆä¼¸ã€‚å·¦å³å¹¶ï¼Œä¸‰æ¬¡ï¼ˆå·¦å³å¹¶è€…ï¼Œå¹¶åŠ¨ä¸ç›¸å‚äº’ï¼‰ã€‚<br>4ï¼æ‰‹ä»°å‘å¤–æ‹¿ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚<br>5ï¼æ‰‹å¤å‘å¤–æ‹¿ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚<br>6ï¼ä¼¸æŒ‡å±ˆæ—¶å‰åˆºã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚<br><strong>äºŒã€è¶³éƒ¨è¿åŠ¨ï¼ŒååŠ¿</strong><br>1ï¼æ‰‹æ¡æ‹³å·¦å³å‚ã€‚è¶³å°±åŸä½ä¸€å‰å±ˆï¼Œä¸€åæ–œä¼¸ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚2ï¼æ‰‹æ¡æ‹³å‰å¹³ã€‚è¶³ä¸€ä¾§ä¼¸ï¼Œä¸€å‰å±ˆã€‚ä¼¸è€…å¯æ˜“ä½ï¼Œå±ˆè€…æƒŸè¶¾ç«‹ã€‚è‡€è·Ÿç›¸æ¥ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚3ï¼æ‰‹æ¡æ‹³å·¦å³å‚ã€‚è¶³ä¸€æ”¯ä¸€æ­ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚4ï¼æ‰‹æ¡æ‹³å·¦å³å‚ã€‚è¶³ä¸€æ”¯ä¸€å‰è¸¢ã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚5ï¼æ‰‹æ¡æ‹³å·¦å³å‚ã€‚è¶³ä¸€å‰å±ˆï¼Œä¸€åä¼¸ã€‚å±ˆè€…åœ¨åŸä½ï¼Œä¼¸è€…æ˜“ä½ï¼Œä¸¤è¶³ç•¥åœ¨ç›´çº¿ä¸Šã€‚å·¦å³å‚ï¼Œä¸‰æ¬¡ã€‚6ï¼æ‰‹é‡Šæ‹³ã€‚å…¨èº«ä¸€èµ·ä¸€è¹²ï¼Œè¹²æ—¶è‡€è·Ÿç•¥æ¥ï¼Œä¸‰æ¬¡ã€‚<br><strong>ä¸‰ã€èº¯å¹²éƒ¨è¿åŠ¨ï¼Œç«‹åŠ¿</strong><br>1ï¼èº«å‘å‰åå±ˆã€‚ä¸‰æ¬¡ï¼ˆæ‰‹æ¡æ‹³ï¼Œä¸‹åŒï¼‰ã€‚<br>2ï¼æ‰‹ä¸€ä¸Šä¼¸ï¼Œä¸€ä¸‹å‚ã€‚ç»·å¼ å·¦å³èƒ¸è‚‹ï¼Œå·¦å³å„ä¸€æ¬¡ã€‚<br>3ï¼æ‰‹ä¸€ä¾§å‚ï¼Œä¸€å‰æ–œå‚ã€‚ç»·å¼ å·¦å³èƒŒè‚‹ï¼Œå·¦å³å„ä¸€æ¬¡ã€‚<br>4ï¼è¶³ä¸å­—åŠ¿ã€‚æ‰‹å·¦å³æ¨ªè¡ã€‚æ‰­æ©è…°èƒã€‚å·¦å³å„ä¸€æ¬¡ã€‚<br><strong>å››ã€å¤´éƒ¨è¿åŠ¨ï¼ŒååŠ¿</strong><br>1ï¼å¤´å‰åå±ˆã€‚ä¸‰æ¬¡ã€‚<br>2ï¼å¤´å·¦å³è½¬ã€‚ä¸‰æ¬¡ã€‚<br>3ï¼ç”¨æ‰‹æŒ‰æ‘©é¢éƒ¨ã€é¢Šéƒ¨ã€é¼»éƒ¨ã€å”‡éƒ¨ã€å–‰éƒ¨ã€è€³éƒ¨ã€åé¢ˆéƒ¨ã€‚<br>4ï¼è‡ªç”±è¿åŠ¨ã€‚å¤´å¤§ä½“ä½ç½®ä¸åŠ¨ï¼Œç”¨æ„ä½¿çš®è‚¤åŠä¸‹é¢šè¿åŠ¨ã€‚äº”æ¬¡ã€‚<br><strong>äº”ã€æ‰“å‡»è¿åŠ¨ï¼Œä¸å®šåŠ¿</strong><br>(æ‰“å‡»è¿åŠ¨è€…ï¼Œä»¥æ‹³éå‡»èº«ä½“å„å¤„ï¼Œä½¿è¡€æ¶²å¥”æ³¨ï¼Œç­‹è‚‰åšå®ï¼Œä¸ºæ­¤è¿åŠ¨ä¹‹ä¸»ï¼‰<br>1ï¼æ‰‹éƒ¨ï¼Œå³æ‰‹å‡»å·¦æ‰‹ï¼Œå·¦æ‰‹å‡»å³æ‰‹<br>(1) å‰è†Šï¼Œä¸Šé¢ã€ä¸‹é¢ã€å·¦é¢ã€å³é¢<br>(2) åè†Šï¼Œä¸Šé¢ã€ä¸‹é¢ã€å·¦é¢ã€å³é¢<br>2ï¼è‚©éƒ¨<br>3ï¼èƒ¸éƒ¨<br>4ï¼èƒéƒ¨<br>5ï¼èƒŒéƒ¨<br>6ï¼è…¹éƒ¨<br>7ï¼è‡€éƒ¨<br>8ï¼è…¿éƒ¨ï¼Œä¸Šè…¿ã€ä¸‹è…¿<br><strong>å…­ã€è°ƒå’Œè¿åŠ¨ï¼Œä¸å®šåŠ¿</strong><br>1ï¼è·³èˆï¼Œåä½™æ¬¡<br>2ï¼æ·±å‘¼å¸ï¼Œä¸‰æ¬¡</p>
<blockquote>
<p>å‰ªæŠ¥æ¥æº<br>å…¬ä¼—å·ï¼šÂ è€ƒç ”ä½“è‚²äºº<br>é“¾ã€€æ¥ï¼š<a href="https://mp.weixin.qq.com/s/P3CjCEXDsekDTcWw2vLMFg">https://mp.weixin.qq.com/s/P3CjCEXDsekDTcWw2vLMFg</a><br>æ—¥ã€€æœŸï¼š2020-07-13</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ªæŠ¥</category>
      </categories>
  </entry>
  <entry>
    <title>è¢éš†å¹³ï¼šç¨»å­ç†Ÿäº†ï¼Œå¦ˆå¦ˆï¼Œæˆ‘æ¥çœ‹æ‚¨äº†</title>
    <url>/2021/05/24/ylp-1/</url>
    <content><![CDATA[<blockquote>
<p><strong>â€œä»–ä»¬è¯´ï¼Œæˆ‘ç”¨ä¸€ç²’ç§å­æ”¹å˜äº†ä¸–ç•Œã€‚æˆ‘çŸ¥é“ï¼Œè¿™ç²’ç§å­ï¼Œæ˜¯å¦ˆå¦ˆæ‚¨åœ¨æˆ‘å¹¼å¹´æ—¶ç§ä¸‹çš„ï¼â€</strong><br>Â <br>2010å¹´ï¼Œåœ¨è¢éš†å¹³é™¢å£«80åè¯ï¼Œæ¹–å—å«è§†ä¸ºä»–ä¸¾åŠäº†â€œä¸ºäº†å¤§åœ°çš„ä¸°æ”¶â€ä¸“åœºæ–‡è‰ºæ™šä¼šï¼Œæ™šä¼šä¸Šï¼Œè¢é™¢å£«å†™ç»™æ¯äº²çš„ä¿¡ã€Šå¦ˆå¦ˆï¼Œç¨»å­ç†Ÿäº†ã€‹æ„ŸåŠ¨äº†åœ¨åœºæ‰€æœ‰è§‚ä¼—ï¼Œå­—é‡Œè¡Œé—´ï¼Œè¯´ä¸å°½å¯¹æ¯äº²çš„æ€å¿µä¸æ„§ç–šã€‚</p>
<p>è¢éš†å¹³åŠ¨æƒ…å†™åˆ°ï¼šâ€œæ²¡èƒ½å¤šé™ªä¼´æ¯äº²ï¼Œæ˜¯æˆ‘æ°¸è¿œçš„åæ‚”ä¸é—æ†¾ã€‚â€ä»Šå¤©ï¼Œè¢éš†å¹³é™¢å£«é€ä¸–ï¼Œè¯»å®Œè¿™å°æ—§ä¿¡çš„ç½‘å‹çº·çº·ç•™è¨€ï¼šâ€œè¯»åˆ°ä¸€åŠå°±å·²æ³ªæµæ»¡é¢ï¼Œå¯çˆ±çš„è¢çˆ·çˆ·ï¼Œè¦å»å’Œå¦ˆå¦ˆå›¢èšäº†ã€‚â€<br>Â <br>æˆ‘ä»¬æ•´ç†äº†ä¿¡ä»¶åŸæ–‡ï¼Œçºªå¿µè¢éš†å¹³é™¢å£«ä¸€è·¯èµ°å¥½ã€‚<br>Â <br>ä»¥ä¸‹ä¸ºä¿¡ä»¶åŸæ–‡ã€‚</p>
</blockquote>
<p>æœ¬æ¥æƒ³ä¸€ä¸ªäººé™é™åœ°é™ªæ‚¨è¯´ä¼šè¯ï¼Œå®‰æ±Ÿçš„ä¹¡äº²ä»¬å®åœ¨æ˜¯å¤ªçƒ­æƒ…äº†ï¼Œå¤©è¿™ä¹ˆçƒ­ï¼Œä»–ä»¬è¿˜ä¸€ç›´é™ªç€ï¼Œè°¢è°¢ä»–ä»¬äº†ã€‚</p>
<p>å¦ˆå¦ˆï¼Œæ‚¨åœ¨å®‰æ±Ÿï¼Œæˆ‘åœ¨é•¿æ²™ï¼Œéš”å¾—å¾ˆè¿œå¾ˆè¿œã€‚æˆ‘åœ¨æ¢¦é‡Œæ€»æ˜¯æƒ³ç€æ‚¨ï¼Œæƒ³ç€å®‰æ±Ÿè¿™ä¸ªåœ°æ–¹ã€‚</p>
<p>äººäº‹éš¾æ–™å•Šï¼Œæ‚¨è¿™æ ·ä¸€ä½ä¹ æƒ¯äº†ç¹åéƒ½å¸‚çš„å¤§å®¶é—ºç§€ï¼Œæœ€åç«Ÿä¼šæ°¸è¿œç•™åœ¨è¿™ä¹ˆä¸€ä¸ªåè¿œçš„å°å±±æ‘ã€‚è¿˜è®°å¾—å—ï¼Ÿ1957å¹´ï¼Œæˆ‘è¦ä»é‡åº†çš„å¤§å­¦åˆ†é…åˆ°è¿™å„¿ï¼Œæ˜¯æ‚¨é™ªç€æˆ‘ï¼Œè„¸è´´ç€åœ°å›¾ï¼Œæ‰‹æŒ‡é¡ºç€å¯†å¯†éº»éº»çš„ç»†çº¿ï¼Œæ‰¾äº†å¾ˆä¹…ï¼Œæ‰æ‰¾åˆ°åœ°å›¾ä¸Šè¿™ä¹ˆä¸€ä¸ªå°ç‚¹ç‚¹ã€‚å½“æ—¶æ‚¨å¹äº†å£æ°”è¯´ï¼š<strong>â€œå­©å­ï¼Œä½ åˆ°é‚£å„¿ï¼Œæ˜¯è¦åƒè‹¦çš„å‘€â€¦â€¦â€</strong></p>
<p>æˆ‘è¯´ï¼šâ€œæˆ‘å¹´è½»ï¼Œæˆ‘è¿˜æœ‰ä¸€æŠŠå°æç´ã€‚â€</p>
<p>æ²¡æƒ³åˆ°çš„æ˜¯ï¼Œä¸ºäº†æˆ‘ï¼Œä¸ºäº†å¸®æˆ‘å¸¦å°å­©ï¼ŒæŠŠæ‚¨ä¹Ÿæ‹–åˆ°äº†å®‰æ±Ÿã€‚æœ€åï¼Œå—ç´¯åƒè‹¦çš„ï¼Œæ˜¯å¦ˆå¦ˆæ‚¨å“ªï¼æ‚¨å“ªé‡Œèµ°å¾—æƒ¯ä¹¡é—´çš„ç”°åŸ‚ï¼æˆ‘æ€»è®°å¾—ï¼Œæ¯æ¬¡éƒ½è¦å°å­™å­™ç‰µç€æ‚¨çš„æ‰‹ï¼Œæ‚¨æ‰æ•¢èµ°è¿‡å±‹å‰å±‹åçš„ç”°é—´å°é“ã€‚</p>
<p>å®‰æ±Ÿæ˜¯æˆ‘çš„ä¸€åˆ‡ï¼Œæˆ‘å´å¿˜äº†ï¼Œå¯¹ä¸€è¾ˆå­éƒ½ç”Ÿæ´»åœ¨å¤§åŸå¸‚é‡Œçš„æ‚¨æ¥è¯´ï¼Œ70å²äº†ï¼Œä¸€åˆ‡è¿˜è¦é‡æ–°æ¥é€‚åº”ã€‚æˆ‘ä»æ¥æ²¡æœ‰é—®è¿‡æ‚¨æœ‰ä»€ä¹ˆéš¾å¤„ï¼Œæˆ‘æ€»ä»¥ä¸ºä¼šæœ‰æ—¶é—´çš„ï¼Œä¼šæœ‰æ—¶é—´çš„ï¼Œç­‰æˆ‘é—²ä¸€ç‚¹ä¸€å®šå¥½å¥½åœ°é™ªé™ªæ‚¨â€¦â€¦</p>
<p>å“ªæƒ³åˆ°ï¼Œç›´åˆ°æ‚¨èµ°çš„æ—¶å€™ï¼Œæˆ‘è¿˜åœ¨é•¿æ²™å¿™ç€å¼€ä¼šã€‚é‚£å¤©æ­£å¥½æ˜¯ä¸­ç§‹èŠ‚ï¼Œå…¨å›½çš„åŒè¡Œéƒ½æ¥äº†ï¼Œææ‚äº¤æ°´ç¨»ä¸å®¹æ˜“å•Šï¼Œæˆ‘åˆæ˜¯å¬é›†äººï¼Œæ€ä¹ˆç€ä¹Ÿå¾—é™ªå¤§å®¶è¿‡è¿™ä¸ªèŠ‚å•Šï¼Œåªæ˜¯å„¿å­æ°¸è¿œäºæ¬ å¦ˆå¦ˆæ‚¨äº†â€¦â€¦</p>
<p>å…¶å®æˆ‘çŸ¥é“ï¼Œé‚£ä¸ªæ—¶å€™å·²ç»æ˜¯æ‚¨çš„æœ€åæ—¶åˆ»ã€‚æˆ‘æ€»ç›¼æœ›ç€å¦ˆå¦ˆæ‚¨èƒ½å¤šæ’‘ä¸¤å¤©ã€‚è°çŸ¥é“ï¼Œå³ä¾¿æ˜¯å¤©ä¸äº®å°±å¾€å®‰æ±Ÿèµ¶ï¼Œæˆ‘è¿˜æ˜¯æ²¡èƒ½è§ä¸Šå¦ˆå¦ˆæ‚¨æœ€åä¸€é¢ã€‚</p>
<p>å¤ªæ™šäº†ï¼Œä¸€åˆ‡éƒ½å¤ªæ™šäº†ï¼Œæˆ‘çœŸçš„å¥½åæ‚”ã€‚å¦ˆå¦ˆï¼Œå½“æ—¶æ‚¨ä¸€å®šç­‰äº†æˆ‘å¾ˆä¹…ï¼Œç›¼äº†æˆ‘å¾ˆé•¿ï¼Œæ‚¨ä¸€å®šæœ‰å¾ˆå¤šè¯è¦å¯¹å„¿å­è¯´ï¼Œæœ‰å¾ˆå¤šäº‹è¦äº¤ä»£ã€‚å¯æˆ‘æ€ä¹ˆå°±é‚£ä¹ˆç³Šæ¶‚å‘¢ï¼è¿™ä¹ˆå¤šå¹´ï¼Œä¸ºä»€ä¹ˆæˆ‘å°±ä¸èƒ½å°‘ä¸‹ä¸€æ¬¡ç”°ï¼Œå°‘åšä¸€æ¬¡å®éªŒï¼Œå°‘å‡ºä¸€å¤©å·®ï¼Œåä¸‹æ¥é™é™åœ°å¥½å¥½é™ªé™ªæ‚¨ã€‚å“ªæ€•â€¦â€¦å“ªæ€•å°±ä¸€æ¬¡ã€‚</p>
<p>å¦ˆå¦ˆï¼Œæ¯å½“æˆ‘çš„ç ”ç©¶å–å¾—æˆæœï¼Œæ¯å½“æˆ‘åœ¨å›½é™…è®²å›ä¸Šè°ˆç¬‘é£ç”Ÿï¼Œæ¯å½“æˆ‘æ¥è¿‡ä¸€åº§åˆä¸€åº§å¥–æ¯ï¼Œæˆ‘æ€»æ˜¯å¯¹äººè¯´ï¼Œè¿™è¾ˆå­å¯¹æˆ‘å½±å“æœ€æ·±çš„äººå°±æ˜¯å¦ˆå¦ˆæ‚¨å•Šï¼</p>
<p>æ— æ³•æƒ³è±¡ï¼Œæ²¡æœ‰æ‚¨çš„è‹±è¯­å¯è’™ï¼Œåœ¨ä¸€ç‰‡é—­å¡ä¸­ï¼Œæˆ‘æ€ä¹ˆèƒ½å¤Ÿé˜…è¯»ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„ç§‘å­¦æ–‡çŒ®ï¼Œç”¨è¶…è¶Šé‚£ä¸ªæ—¶ä»£çš„è§†é‡ï¼Œå»å¯»è®¿é—ä¼ å­¦å¤§å¸ˆå­Ÿå¾·å°”å’Œæ‘©å°”æ ¹ï¼Ÿæ— æ³•æƒ³è±¡ï¼Œåœ¨é‚£æ®µé¢ æ²›æµç¦»çš„å²æœˆä¸­ï¼Œä»åŒ—å¹³åˆ°æ±‰å£ï¼Œä»æ¡ƒæºåˆ°é‡åº†ï¼Œæ²¡æœ‰æ‚¨çš„æ‰§è‘—å’Œé¼“åŠ±ï¼Œæˆ‘æ€ä¹ˆèƒ½è·å¾—ç³»ç»Ÿçš„ç°ä»£æ•™è‚²ï¼Œè·å¾—åœ¨å¤§æ±Ÿå¤§æ²³ä¸­è‡ªç”±ç¿±ç¿”çš„èƒ†è¯†ï¼Ÿæ— æ³•æƒ³è±¡ï¼Œæ²¡æœ‰æ‚¨åœ¨æ‘‡ç¯®å‰è·Ÿæˆ‘è®²å°¼é‡‡ï¼Œè®²è¿™ä½æ˜‚æ‰¬ç€ç”Ÿå‘½åŠ›ã€æ„å¿—åŠ›çš„ä¼Ÿå¤§å“²äººï¼Œæˆ‘æ€ä¹ˆèƒ½å¤Ÿåœ¨åƒç™¾æ¬¡çš„å¤±è´¥ä¸­åšä¿¡ï¼Œå¿…ç„¶æœ‰ä¸€ç²’ç§å­å¯ä»¥ä½¿ä¸‡åƒæ°‘ä¼—å‘Šåˆ«é¥¥é¥¿ï¼Ÿ</p>
<p>ä»–ä»¬è¯´ï¼Œæˆ‘ç”¨ä¸€ç²’ç§å­æ”¹å˜äº†ä¸–ç•Œã€‚<strong>æˆ‘çŸ¥é“ï¼Œè¿™ç²’ç§å­ï¼Œæ˜¯å¦ˆå¦ˆæ‚¨åœ¨æˆ‘å¹¼å¹´æ—¶ç§ä¸‹çš„ï¼</strong></p>
<p>ç¨»å­ç†Ÿäº†ï¼Œå¦ˆå¦ˆï¼Œæ‚¨èƒ½é—»åˆ°å—ï¼Ÿå®‰æ±Ÿå¯å¥½ï¼Ÿé‚£é‡Œçš„ç”°åŸ‚æ˜¯ä¸æ˜¯è¿˜ç•™ç€ç†Ÿæ‚‰çš„æ¬¢ç¬‘ï¼Ÿéš”ç€21å¹´çš„æ—¶å…‰ï¼Œæˆ‘ä¾ç¨€çœ‹è§ï¼Œå°å­™å­™ç‰µç€æ‚¨çš„æ‰‹ï¼Œèµ°è¿‡ç¨»æµªçš„èƒŒå½±ï¼›æˆ‘è¿˜è¦å‘Šè¯‰æ‚¨ï¼Œä¸€è¾ˆå­æ²¡æœ‰è€•ç§è¿‡çš„æ¯äº²ï¼Œç¨»èŠ’åˆ’è¿‡æ‰‹æŒï¼Œç¨»è‰åœ¨åœºä¸Šå †ç§¯æˆå›ï¼Œè°·å­åœ¨é˜³å…‰ä¸­æ¯•å‰¥ä½œå“ï¼Œæ°´ç”°åœ¨è¥¿æ™’ä¸‹æ³›å‡ºæ©™é»„çš„å‘³é“ã€‚è¿™éƒ½æ˜¯å„¿å­è¦è·Ÿæ‚¨è¯´çš„è¯ï¼Œè¯´ä¸å®Œçš„è¯å•Šâ€¦â€¦</p>
<p><strong>å¦ˆå¦ˆï¼Œç¨»å­ç†Ÿäº†ï¼Œæˆ‘æƒ³æ‚¨äº†ï¼</strong></p>
<blockquote>
<p>å‰ªæŠ¥æ¥æº<br>å…¬ä¼—å·ï¼šä¸­å¤®æ”¿æ³•å§”é•¿å®‰å‰‘<br>é“¾ã€€æ¥ï¼š<a href="https://mp.weixin.qq.com/s/42Y7nHEUkbXOFBGDcTeC4A">https://mp.weixin.qq.com/s/42Y7nHEUkbXOFBGDcTeC4A</a><br>æ—¥ã€€æœŸï¼š2021-05-23</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ªæŠ¥</category>
      </categories>
  </entry>
  <entry>
    <title>æå®¢æ—¶é—´-æˆä¸ºå­¦ä¹ é«˜æ‰‹ç¬”è®°</title>
    <url>/2021/09/30/high-efficiency-study-note-0/</url>
    <content><![CDATA[<p>è·å¾—ï¼š</p>
<ul>
<li>é«˜æ‰‹å­¦ä¹ çš„ 4 ä¸ªåº•å±‚æ€ç»´</li>
<li>åˆ‡å®å¯è¡Œçš„ 7 ä¸ªè¶…å¼ºå­¦ä¹ æŠ€å·§</li>
<li>è®©å­¦ä¹ é€Ÿåº¦â€œå¼€æŒ‚â€çš„é«˜æ•ˆè®°å¿†æ³•</li>
<li>è‡ªå¾‹åˆ°éª¨å­é‡Œçš„ 9 å¤§ç²¾åŠ›ç®¡ç†æ³•åˆ™</li>
</ul>
<h2 id="å­¦ä¹ ç¬”è®°"><a href="#å­¦ä¹ ç¬”è®°" class="headerlink" title="å­¦ä¹ ç¬”è®°"></a>å­¦ä¹ ç¬”è®°</h2><ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</title>
    <url>/2021/09/30/high-efficiency-study-note-1/</url>
    <content><![CDATA[<ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
<p><strong>01ï½œå¦‚ä½•å‡å°‘å¯¹å­¦ä¹ çš„æ’æ–¥å’ŒåŒæ¶å¿ƒç†ï¼Œä½¿å…¶å˜å¾—ç›¸å¯¹æ„‰æ‚¦ï¼Ÿ</strong></p>
<ol>
<li>åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç©¿æ’å®‰æ’å–œæ¬¢ä¸”æ“…é•¿çš„ç¯èŠ‚ï¼Œè€Œä¸æ˜¯ä¸€ç›´æ­»ç£•è‰°éš¾çš„ä»»åŠ¡ã€‚</li>
<li>åœ¨åˆ¶å®šè®¡åˆ’çš„æ—¶å€™ï¼Œé‡åŠ›è€Œè¡Œï¼Œä¸è¦åˆ¶å®šå®Œä¸æˆçš„è®¡åˆ’ï¼›</li>
<li>è¯¦ç»†è®°å½•å½“å¤©å…·ä½“çš„æ—¶é—´ä½¿ç”¨æƒ…å†µï¼ŒæŠŠè‡ªå·±çš„å­¦ä¹ æˆæœå…·åƒåŒ–ï¼Œå€Ÿä»¥è·å¾—æ­£åé¦ˆå’Œæˆå°±æ„Ÿã€‚</li>
<li>åœ¨æ„Ÿåˆ°ç–²å€¦æ—¶ï¼Œå¯ä»¥è¯•è¯•æ¢ä¸ªä½ç½®æˆ–è€…æ¢ä¸ªåœºæ‰€ã€‚</li>
<li>æ¯å¤©åˆ«ç»™è‡ªå·±å®‰æ’å¤ªå¤šç±»å‹çš„ä»»åŠ¡ã€‚</li>
<li>å­¦ä¹ çš„æ—¶å€™ï¼Œä¸ç”¨æŸç§æ ‡å‡†æ¡†ä½è‡ªå·±ï¼Œä¹Ÿåˆ«æ€»å¯¹è‡ªå·±çš„è¡¨ç°è¯„å¤´è®ºè¶³ï¼Œæ›´ä¸å¿…æ€¥ç€è¿½æ±‚æŸç§ç»“æœï¼Œè€Œæ˜¯æ³¨é‡åšäº‹çš„è¿‡ç¨‹ï¼ŒæŠŠåŠªåŠ›å½“æˆä¸€ç§ä¹ æƒ¯ã€‚</li>
</ol>
<p><strong>02ï½œå­¦ä¼šè¿™4ç‚¹ï¼Œä½ ä¹Ÿå¯ä»¥å‘Šåˆ«ä¼ªå‹¤å¥‹</strong></p>
<p>ä¼ªå‹¤å¥‹çš„åšæ³•ï¼š</p>
<ol>
<li>èŠ±å¤§é‡æ—¶é—´åšå®¹æ˜“çš„ç¯èŠ‚ï¼›</li>
<li>ä»æ¥ä¸å»æ£€æµ‹è‡ªå·±è·å¾—äº†ä»€ä¹ˆï¼›</li>
<li>åªæ˜¯åŸ‹å¤´è‹¦å­¦ï¼Œä»æ¥ä¸æ€»ç»“è§„å¾‹ï¼›</li>
<li>é“å¾·è®¸å¯æ•ˆåº”è®©ä½ åŸåœ°å¾˜å¾Šï¼Œæ²‰è¿·äºå·²ç»åŠªåŠ›çš„å¹»è§‰ä¹‹ä¸­ã€‚</li>
</ol>
<p>ç›¸åº”è§£å†³æ€è·¯ï¼š</p>
<ol>
<li>åˆ¶å®šåˆç†çš„ç›®æ ‡è®¡åˆ’ï¼Œé€‚å½“å®‰æ’æœ‰æŒ‘æˆ˜çš„ä»»åŠ¡ï¼ˆéœ€è¦æ€è€ƒã€éœ€è¦å…‹æœå›°éš¾çš„ä»»åŠ¡ï¼‰ï¼›</li>
<li>åŠæ—¶è·å¾—åé¦ˆï¼ŒåŠæ—¶æ£€æµ‹æ‰€å­¦ä¸œè¥¿ï¼Œæ˜¯å¦è®°ä½ï¼Œæ˜¯å¦ä¼šåšé¢˜ï¼›</li>
<li>è§‚å¯Ÿã€åˆ†æã€æ€»ç»“è‡ªå·±çš„å­¦ä¹ æ–¹æ³•ï¼Œå¯¹æ–¹æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„è°ƒæ•´å’Œå®Œå–„ï¼Œå¹¶ä¸”æœ‰æ„è¯†åœ°æŒ‡å¯¼è‡ªå·±æ¥ä¸‹æ¥çš„åŠªåŠ›æ–¹å‘ï¼›</li>
<li>å°†æƒ³åšçš„äº‹æƒ…æœ€ç®€åŒ–ï¼Œä¸æå½¢å¼ä¸»ä¹‰ï¼Œç›´æ¥å¼€å§‹ã€‚</li>
</ol>
<p><strong>03ï½œæŒæ¡è€ƒè¯•æ€ç»´ï¼šæˆä¸ºä¸€ä¸ªç‰¹åˆ«ä¼šè€ƒè¯•çš„äºº</strong></p>
<ol>
<li>å¤‡è€ƒæ—¶ï¼Œè¦å­¦ä¼šç”¨è€ƒè¯•çš„æ€ç»´å»å­¦ä¹ ï¼ˆè€ƒä»€ä¹ˆå­¦ä»€ä¹ˆï¼‰ï¼›</li>
<li>ç ”ç©¶è€ƒè¯•é¢˜ï¼ˆå‡ºé¢˜èŒƒå›´å’Œå‡ºé¢˜æ€è·¯ï¼‰ï¼Œåˆ†æé¢˜ç›®è¦æ±‚ä½ æ€æ ·å›å¿†çŸ¥è¯†ç‚¹ã€æ€æ ·è¿ç”¨çŸ¥è¯†ç‚¹ã€‚å¹¶æ®æ­¤å†³å®šå¤‡è€ƒæ—¶å¦‚ä½•å­¦ä»¥åŠå­¦ä»€ä¹ˆï¼›</li>
<li>æœ€å¥½èƒ½æ‰¾åˆ°è€ƒè¯•é¢˜çš„ç­”æ¡ˆï¼ŒçŸ¥é“é«˜åˆ†çš„ç­”æ¡ˆå…·æœ‰å“ªäº›å…ƒç´ ï¼Œéœ€è¦æ»¡è¶³æ€æ ·çš„æ ‡å‡†ï¼›</li>
<li>å­¦ä¹ æ—¶ï¼Œåšåˆ°å³ç”¨å³å­¦å’Œå³å­¦å³ç”¨ï¼Œèƒ½å¯¹çŸ¥è¯†ç‚¹æœ‰é€å½»çš„ç†è§£å’Œè®°å¿†ï¼Œå¹¶ä¸”åœ¨è€ƒè¯•ä¸­ï¼Œåšåˆ°æ›´ä¸ºé«˜æ•ˆå‡†ç¡®åœ°è°ƒå–ï¼Œä»¥åŠè¿ç”¨ã€‚</li>
<li>â€œæ£€ç´¢å¼ç»ƒä¹ â€ï¼Œé€šè¿‡æé—®å’Œä¸»åŠ¨å›æƒ³çš„æ–¹å¼ï¼Œå»å·©å›ºçŸ¥è¯†ç‚¹ã€‚</li>
</ol>
<p><strong>04ï½œç”¨ç§‘å­¦åŸç†å‘Šè¯‰ä½ å¦‚ä½•åœ¨è€ƒåœºä¸Šè¶…å¸¸å‘æŒ¥</strong></p>
<p>1ã€åœ¨è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªç”¨äºæš‚æ—¶å­˜æ”¾ä¿¡æ¯å’ŒåŠ å·¥ä¿¡æ¯çš„è®°å¿†ç³»ç»Ÿï¼Œå«åšâ€œå·¥ä½œè®°å¿†â€ï¼Œå®ƒçš„å®¹é‡æœ‰é™ã€‚å·¥ä½œè®°å¿†èƒ½å¤Ÿå­˜å‚¨å’Œå¤„ç†çš„ä¿¡æ¯å®¹é‡è¶Šå¤šï¼Œæ„å‘³ç€è§£å†³é—®é¢˜çš„èƒ½åŠ›å°±è¶Šå¼ºã€‚</p>
<p>2ã€è€ƒè¯•ä¸­å‘æŒ¥å¤±å¸¸ï¼Œæ˜¯å› ä¸ºè¿‡äºæ‹…å¿§è€ƒè¯•ç»“æœï¼Œçº ç»“è‡ªå·±æ˜¯ä¸æ˜¯åšé”™äº†ï¼Œä»¥è‡³äºï¼Œç›¸å½“ä¸€éƒ¨åˆ†å·¥ä½œè®°å¿†çš„å®¹é‡è¢«ç„¦è™‘å ç”¨ã€‚è€ŒçœŸæ­£ç”¨äºç­”é¢˜çš„è®°å¿†å®¹é‡ï¼Œéå¸¸æœ‰é™ã€‚</p>
<p>3ã€è¦æƒ³è¶…å¸¸å‘æŒ¥ï¼Œé‡è¦çš„æ˜¯ï¼Œè€ƒè¯•æ—¶ä¸å»é¢„å…ˆç»™è‡ªå·±è®¾ç½®æ ‡å‡†ï¼Œä¸å»è¯„ä»·å’Œæ€è€ƒè‡ªå·±åšå¾—æ€ä¹ˆæ ·ã€‚åšå®Œè¿™ä¸€é¢˜ï¼Œå†åšä¸‹ä¸€é¢˜ï¼›åšä¸‹ä¸€é¢˜æ—¶ï¼Œå¿˜è®°ä¸Šä¸€é¢˜ã€‚</p>
<p>4ã€åœ¨å¹³æ—¶çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸æ€€ç–‘è‡ªå·±çš„æ–¹æ³•æ˜¯å¦æ­£ç¡®ï¼Œå ç”¨äº†å¾ˆå¤šçš„å·¥ä½œè®°å¿†ï¼Œå½±å“å­¦ä¹ æ•ˆç‡ã€‚æœ‰æ•ˆçš„è§£å†³æ–¹æ³•æ˜¯ï¼šç»™è‡ªå·±ä¸€ä¸ªå°æ—¶çš„é™å®šæ—¶é—´ï¼Œå…ˆç”¨çœ¼ä¸‹çš„æ–¹æ³•ï¼Œå°½é‡ä¸“æ³¨å­¦ä¹ ã€‚å¦‚æœè¿‡ç¨‹ä¸­å¯¹å­¦ä¹ æ–¹æ³•æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œå°±å…ˆè®°ä¸‹æ¥ï¼Œä¸€å°æ—¶ç»“æŸåï¼ŒèŠ±ä¸¤åˆ†é’Ÿå¯¹å­¦ä¹ æ–¹æ³•è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</title>
    <url>/2021/10/30/high-efficiency-study-note-5/</url>
    <content><![CDATA[<ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
<p>21ï½œå­¦éœ¸ä¸ºä»€ä¹ˆå­¦ä»€ä¹ˆéƒ½å¿«ï¼Ÿæœ‰å“ªäº›å¯ä»¥å€Ÿé‰´çš„æ–¹æ³•è®ºï¼Ÿ</p>
<p>çŸ¥è¯†å‚¨å¤‡ã€èƒ½åŠ›å‚¨å¤‡ä¸åŒ</p>
<p>è¶Šæ—©ä»˜å‡ºåŠªåŠ›ï¼Œä½ åœ¨ä¹‹åçš„äººç”Ÿä¸­ï¼Œè¾¾æˆç›®çš„çš„é€Ÿåº¦è¶Šå¿«ã€æ•ˆç‡è¶Šé«˜ã€‚</p>
<p>22ï½œå¦‚ä½•é€šè¿‡ç»ƒä¹ ï¼Œè®©è‡ªå·±å˜å¾—æ›´èªæ˜ï¼Ÿ</p>
<p>åˆ»æ„ç»ƒä¹ ï¼Œæ‰æ˜¯çœŸæ­£èƒ½å¤Ÿæå‡èƒ½åŠ›ã€è®©ä½ å˜èªæ˜çš„æ–¹å¼ã€‚åˆ»æ„ç»ƒä¹ æœ‰ 4 ä¸ªç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç›®æ ‡è¦æ˜ç¡®ã€‚</li>
<li>åšäº‹æ—¶éœ€è¦æå…¶ä¸“æ³¨ã€‚</li>
<li>éœ€è¦åŠæ—¶çœ‹åˆ°åé¦ˆï¼Œå¹¶è¿›è¡Œè°ƒæ•´ã€‚</li>
<li>èµ°å‡ºèˆ’é€‚åŒºã€‚</li>
</ul>
<p>çœ‹ä¸€æœ¬ä¹¦ã€å­¦ä¸€ä¸ªç§‘ç›®ï¼Œä½ è¦çŸ¥é“è‡ªå·±çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Œéœ€è¦å›ç­”å“ªäº›é—®é¢˜ï¼Œè®°ä½å“ªäº›ä¸œ è¥¿ï¼Œæœ€ç»ˆè¾¾åˆ°æ€æ ·çš„æ•ˆæœã€‚</p>
<p>23ï½œæ•™ä½ åˆ©ç”¨â€œåŒåŠ å·¥ç†è®ºâ€ï¼Œæœ‰æ•ˆæé«˜å­¦ä¹ èƒ½åŠ›</p>
<p>è·¯å¾„ä¾èµ–ã€â€œè‡ªåŠ¨åŒ–åŠ å·¥â€ã€â€œå—æ„è¯†æ§åˆ¶çš„åŠ å·¥â€</p>
<p>24ï½œé‡è¦ï¼šåˆ«å†å»æ‰¾æ›´å¥½çš„å­¦ä¹ æ–¹æ³•äº†</p>
<p>å…³äºæ‹–å»¶ç—‡ï¼Œâ€œ5 åˆ†é’Ÿèµ·æ­¥æ³•â€è¶³ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼›</p>
<p>å…³äºç„¦è™‘ï¼Œæ¯å¤©å†¥æƒ³ 15 åˆ†é’Ÿ + æ¯å‘¨ è·‘æ­¥ 3ï½4 æ¬¡ï¼Œå¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä½¿å…¶å¾—åˆ°ç¼“è§£ï¼›</p>
<p>å…³äºè®°å¿†ï¼Œç²¾ç»†åŠ å·¥åè‡ªå·±å¤è¿°å‡ºæ¥ï¼Œå¯ä»¥æŠŠ 80% çš„ä¸œè¥¿è®°å¾—å¾ˆå¥½ã€‚</p>
<p>åœ¨å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œçç¢çš„ã€é‡å¤çš„ã€æœºæ¢°çš„å·¥ä½œï¼Œæ‰å æ®æ›´å¤šçš„æ—¶é—´ã€‚åªæœ‰æŠŠè¿™äº›ç»†æ æœ«èŠ‚åšå¥½äº†ï¼Œçµæ„Ÿæˆ–è€…è¯´æ–¹æ³•è®ºï¼Œæ‰èƒ½çœŸæ­£è½å®ï¼Œå¹¶ä¸”è®©ä½ å–å¾—æ›´å¥½çš„æˆç»©ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</title>
    <url>/2021/10/20/high-efficiency-study-note-4/</url>
    <content><![CDATA[<ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
<p>17ï½œå¦‚ä½•åˆç†åœ°åˆ¶è®¢è®¡åˆ’ï¼Ÿ</p>
<p>ä½¿ç”¨ SMART åŸåˆ™</p>
<p>S=Specificã€M=Measurableã€A=Attainableã€R=Relevantã€T=Time-bound</p>
<p>è®¡åˆ’åº”è¯¥æ˜¯å…·ä½“çš„ã€å¯è¡¡é‡çš„ã€å¯è¾¾åˆ°çš„ã€ä¸å¤§ç›®æ ‡æœ‰ä¸€å®šçš„ç›¸å…³æ€§ã€æœ‰æ˜ç¡®çš„æˆªæ­¢æœŸé™ã€‚</p>
<p>åˆ¶å®šè®¡åˆ’æ—¶è¦æ‘†è„±â€œå€’æ•°æ—¥â€æ€ç»´ï¼Œé•¿è¿œè®¡åˆ’åªè¦æ¸…æ¥šå¤§è‡´çš„æ–¹å‘å’Œå†…å®¹ï¼Œæ›´é‡è¦çš„æ˜¯åˆ¶å®šå’Œå…³æ³¨ä»Šæ—¥çš„è§„åˆ’ã€‚</p>
<p>18ï½œå¦‚ä½•ä¿è¯100%å®Œæˆä½ åˆ¶è®¢çš„è®¡åˆ’ï¼Ÿ</p>
<p>å¸¸è§é—®é¢˜ï¼š</p>
<ul>
<li>ä¸åˆ‡å®é™…å‡ä»¥ä¸ºè‡ªå·±èƒ½åœ¨æŒ‡å®šçš„æ—¶é—´å†…å®ŒæˆæŒ‡å®šçš„ä»»åŠ¡ï¼›</li>
<li>æŠŠè®¡åˆ’ä»¥åŠæ‰§è¡Œè®¡åˆ’ï¼Œé”™å½“æˆäº†ç›®çš„æœ¬èº«ï¼›</li>
<li>é¢„å…ˆåˆ¶å®šç‰¹åˆ«å‘¨å¯†çš„è®¡åˆ’ã€‚</li>
</ul>
<p>ç›¸åº”è§£å†³æ–¹æ³•ï¼š</p>
<ul>
<li>æ‘†æ­£å¿ƒæ€ï¼Œäº‹æƒ…è¯¥èŠ±å¤šå°‘æ—¶é—´ï¼Œå°±åº”è¯¥èŠ±å¤šå°‘æ—¶é—´ï¼›</li>
<li>æ­£ç¡®è®¤è¯†è®¡åˆ’æ˜¯è®©æˆ‘ä»¬çŸ¥é“åœ¨ä»€ä¹ˆæ—¶é—´æ®µè¯¥åšä»€ä¹ˆäº‹ï¼ŒæŒ‰ç…§ä»€ä¹ˆæ ·çš„é¡ºåºåšï¼›</li>
<li>ä¸è¦åˆ¶å®šè¿‡äºå‘¨å¯†çš„è®¡åˆ’ï¼Œå¤§è‡´çŸ¥é“è¦å“ªäº›äº‹æƒ…ï¼Œç†æ¸…å¤§è‡´çš„é¡ºåºï¼Œç„¶åç›´æ¥ä»ä¸­æŒ‘å‡ºä¸€ä»¶å¼€å§‹åšï¼Œå¹¶ä¸“æ³¨å®Œæˆï¼Œå®Œæˆåå†æ¥ç€æŒ‘å¦ä¸€ä»¶ã€‚</li>
</ul>
<p>19ï½œå¦‚ä½•é«˜æ•ˆå®Œæˆå¤æ‚è‰°éš¾çš„ã€ä¸å–œæ¬¢çš„ä»»åŠ¡ï¼Ÿ</p>
<p>å°†å¤æ‚è‰°éš¾çš„ä»»åŠ¡æ‹†åˆ†æˆä¸€ä¸ªä¸ªå¯é‡åŒ–åˆç›¸å¯¹è¾ƒå®¹æ˜“å®Œæˆçš„å…·ä½“çš„å°ç›®æ ‡ï¼Œä¸“æ³¨äºçœ¼å‰çœ‹å¾—åˆ°çš„å°ç›®æ ‡ï¼Œé€šè¿‡å®Œæˆä¸€ä¸ªåˆä¸€ä¸ªå°ç›®æ ‡æ‰€å¸¦æ¥çš„æˆå°±æ„Ÿæ¥å¢åŠ åŠ¨åŠ›å’Œä¿¡å¿ƒï¼Œä¸æ–­ç»™è‡ªå·±æä¾›æ­£å‘åé¦ˆï¼Œä»è€Œæé«˜åšäº‹çš„æ•ˆç‡ã€‚</p>
<p>20ï½œå¦‚ä½•åšåˆ°æ¯å¤©é«˜æ•ˆå­¦ä¹  12 å°æ—¶ï¼Ÿ</p>
<p>æ¢å¤ç²¾åŠ›çš„æ–¹æ³•ï¼š</p>
<ul>
<li>å†¥æƒ³</li>
<li>åšä¸åŒçš„äº‹æƒ…ï¼ŒåŒ…æ‹¬æ•£æ­¥ã€å¬éŸ³ä¹ã€åˆä¼‘ã€å’Œæœ‹å‹é¢å¯¹é¢èŠå¤©ç­‰</li>
</ul>
<p>åœ¨ä¸€å¤©ä¹‹å†…ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§åšäº‹ - æ¢å¤ - åšäº‹ - æ¢å¤çš„æ¨¡å¼ï¼Œå»å­¦ä¹ å’Œå·¥ä½œï¼›åœ¨ä¸€å‘¨ä¸­ï¼Œæœ€å¥½ä¹Ÿè¦åšåˆ°è‡³å°‘æœ‰åŠå¤©çš„ä¼‘æ¯æ—¶é—´ã€‚</p>
<p>è¿‡å¤šçš„ç²¾åŠ›æ¶ˆè€—å’Œè¿‡åº¦çš„æ¢å¤éƒ½æ˜¯ä¸å¥½çš„</p>
<p>ä¸“æ³¨ã€ä¼‘æ¯ã€æ”¾æ¾éƒ½å¾ˆé‡è¦</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æå®¢æ—¶é—´-æŠ€æœ¯ç®¡ç†å®æˆ˜36è®²å­¦ä¹ ç¬”è®°</title>
    <url>/2021/08/10/technology-management-0/</url>
    <content><![CDATA[<blockquote>
<p>å¦‚æœå¹²å¾—å¥½ï¼Œç®¡ç†æ˜¯æœ€å´‡é«˜çš„èŒä¸šä¹‹ä¸€ã€‚æ²¡æœ‰å“ªä¸€ä¸ªèŒä¸šèƒ½åƒç®¡ç†ä¸€æ ·ä¸ºä»–äººæä¾›å­¦ä¹ å’Œæˆé•¿çš„æœºä¼šï¼Œè®©ä»–ä»¬æ‡‚å¾—æ‰¿æ‹…è´£ä»»å¹¶å–å¾—æˆç»©ï¼Œä»¥åŠä¸ºå›¢é˜Ÿçš„æˆåŠŸåšå‡ºè´¡çŒ®ã€‚<br>â€”â€”â€œé¢ è¦†å¼åˆ›æ–°ä¹‹çˆ¶â€å…‹é‡Œæ–¯å¦æ£®ï¼Œã€Šä½ è¦å¦‚ä½•è¡¡é‡ä½ çš„äººç”Ÿã€‹</p>
</blockquote>
<h2 id="ä¸ºä»€ä¹ˆéœ€è¦å­¦ç®¡ç†ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å­¦ç®¡ç†ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å­¦ç®¡ç†ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å­¦ç®¡ç†ï¼Ÿ</h2><p>å¯¹äºäº’è”ç½‘æŠ€æœ¯äººæ¥è¯´ï¼Œâ€œç®¡ç†â€ä½œä¸ºä¸€é¡¹ç»¼åˆèƒ½åŠ›ä¸å†æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œæ— è®ºæ˜¯å¦èº«åœ¨æŠ€æœ¯ç®¡ç†å²—ï¼Œæœªæ¥çš„èŒä¸šå‘å±•éƒ½ä¼šå›´ç»•ç€<strong>æŠ€æœ¯å’Œç®¡ç†</strong>è¿™ä¸¤æ¡è…¿åœ¨èµ°è·¯ï¼Œä¸€æ¡è…¿æ˜¯èµ°ä¸è¿œçš„ã€‚</p>
<h2 id="é‡ç‚¹å†…å®¹"><a href="#é‡ç‚¹å†…å®¹" class="headerlink" title="é‡ç‚¹å†…å®¹"></a>é‡ç‚¹å†…å®¹</h2><ol>
<li><strong>è‡ªæˆ‘å€¾å¬ã€‚</strong>ç†é¡ºå†…å¿ƒçš„çº ç»“ä¸å½·å¾¨ï¼Œå¿ƒæ— æ—éª›åœ°èµ°ä¸Šç®¡ç†ä¹‹è·¯ã€‚</li>
<li><strong>è§’è‰²è®¤çŸ¥ã€‚</strong>æä¾›ä¸€ä¸ªç®¡ç†å·¥ä½œçš„â€œå…¨æ™¯å›¾â€ï¼Œä»¥æ–¹ä¾¿æŒ‰å›¾ç´¢éª¥åœ°<em><strong>äº†è§£ç®¡ç†å·¥ä½œæ‰€æ¶µç›–çš„æ–¹æ–¹é¢é¢ã€‚</strong></em></li>
<li><strong>ç®¡ç†æ–¹æ³•ã€‚</strong>â€œç®¡ç†ä¸‰éƒ¨æ›²â€â€”â€”<em><strong>ç®¡ç†è§„åˆ’ã€å›¢é˜Ÿå»ºè®¾å’Œä»»åŠ¡ç®¡ç†</strong></em>ï¼Œæ¢è®¨<em><strong>â€œçœ‹æ–¹å‘â€â€œå¸¦äººâ€å’Œâ€œåšäº‹â€</strong></em>çš„è¿™ä¸‰ä¸ªå…³é”®çš„ç®¡ç†å†…å®¹ã€‚</li>
<li><strong>ç®¡ç†æ²Ÿé€šã€‚</strong>æ¢è®¨ç®¡ç†æ²Ÿé€šçš„<em><strong>å·¥å…·å’ŒæŠ€å·§</strong></em>ï¼Œå¹¶æ¢è®¨<em><strong>å‘ä¸Šã€å‘ä¸‹ã€æ¨ªå‘</strong></em>ç­‰å…¸å‹æ²Ÿé€šåœºæ™¯ä¸‹çš„æ²Ÿé€šè¦ç‚¹ã€‚</li>
<li><strong>ç®¡ç†ä¹‹è·¯ã€‚</strong>ä¸»è¦æ¢è®¨<em><strong>å¦‚ä½•ç§¯ç´¯ç®¡ç†æ–¹æ³•è®º</strong></em>ï¼Œä»¥åŠ<em><strong>å¦‚ä½•æˆä¸ºè‡ªå·±æ‰€æœŸå¾…çš„ç®¡ç†è€…ã€‚</strong></em></li>
</ol>
<h2 id="å­¦ä¹ ç¬”è®°"><a href="#å­¦ä¹ ç¬”è®°" class="headerlink" title="å­¦ä¹ ç¬”è®°"></a>å­¦ä¹ ç¬”è®°</h2><ul>
<li><p>è‡ªæˆ‘å€¾å¬</p>
<ul>
<li><a href="/2021/08/10/technology-management-1/">è‡ªæˆ‘å€¾å¬ï¼ˆä¸Šï¼‰</a></li>
<li><a href="http://1.0.0.1/">è‡ªæˆ‘å€¾å¬ï¼ˆä¸‹ï¼‰</a></li>
</ul>
</li>
<li><p>è§’è‰²è®¤çŸ¥</p>
<ul>
<li><a href="/2021/08/11/technology-management-3/">è§’è‰²è®¤çŸ¥</a></li>
</ul>
</li>
<li><h2 id="ç®¡ç†è§„åˆ’"><a href="#ç®¡ç†è§„åˆ’" class="headerlink" title="ç®¡ç†è§„åˆ’"></a>ç®¡ç†è§„åˆ’</h2></li>
<li><p>å›¢é˜Ÿå»ºè®¾</p>
<ul>
<li><a href="http://c.c/">å›¢é˜Ÿå»ºè®¾å…­è¦ç´ </a></li>
<li>èƒ½åŠ›åŸ¹å…»â€”â€”æå‡å‘˜å·¥ä¸ªäººèƒ½åŠ›</li>
<li>å‘˜å·¥æ¿€åŠ±â€”â€”æå‡å‘˜å·¥çš„å·¥ä½œæ„æ„¿å’Œç§¯ææ€§</li>
<li><a href="http://baidu.cc/">å›¢é˜Ÿåˆ†å·¥â€”â€”å…¼é¡¾å›¢é˜Ÿåˆ†å·¥çš„ç¨³å®šæ€§å’Œçµæ´»æ€§</a></li>
<li><a href="http://b.c/">åä½œæ°´å¹³â€”â€”æœ‰æ•ˆæå‡å›¢é˜Ÿå‡èšåŠ›æ–¹æ³•</a></li>
<li><a href="http://1.0.0.1/">æ¢¯é˜Ÿå»ºè®¾â€”â€”ç‰©è‰²å’ŒåŸ¹å…»æ ¸å¿ƒäººæ‰</a></li>
<li><a href="http://1.0.0.1/">å›¢é˜Ÿæ–‡åŒ–â€”â€”è¥é€ å›¢é˜Ÿæ°›å›´</a></li>
<li></li>
</ul>
</li>
<li><h2 id="ä»»åŠ¡ç®¡ç†"><a href="#ä»»åŠ¡ç®¡ç†" class="headerlink" title="ä»»åŠ¡ç®¡ç†"></a>ä»»åŠ¡ç®¡ç†</h2></li>
<li><h2 id="ç®¡ç†æ²Ÿé€š"><a href="#ç®¡ç†æ²Ÿé€š" class="headerlink" title="ç®¡ç†æ²Ÿé€š"></a>ç®¡ç†æ²Ÿé€š</h2></li>
<li><h2 id="ç®¡ç†ä¹‹è·¯"><a href="#ç®¡ç†ä¹‹è·¯" class="headerlink" title="ç®¡ç†ä¹‹è·¯"></a>ç®¡ç†ä¹‹è·¯</h2></li>
</ul>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>é©¬é¾™ï¼šåªè¦å¿ƒæ€€çƒ­çˆ±ï¼Œæ°¸è¿œéƒ½æ˜¯å½“æ‰“ä¹‹å¹´ï¼</title>
    <url>/2021/08/09/ml-1/</url>
    <content><![CDATA[<p>ã€€ã€€æˆ‘çš„ä¸œäº¬å¥¥è¿ä¼šä¹‹æ—…åœ†æ»¡ç»“æŸï¼Œæ— è®ºå•æ‰“å† å†›ï¼Œè¿˜æ˜¯å›¢ä½“é‡‘ç‰Œï¼Œéƒ½æ˜¯æˆ‘å’Œæˆ‘çš„é˜Ÿå‹ã€æ•™ç»ƒå‘˜ï¼Œä»¥åŠèƒŒåé»˜é»˜ä»˜å‡ºçš„é™ªç»ƒã€é˜ŸåŒ»ã€ä¿éšœå›¢é˜Ÿï¼Œå›¢ç»“ä¸€å¿ƒå…±åŒå¥‹æ–—å‡ºæ¥çš„è£è€€å‹‹ç« ã€‚</p>
<p><img src="https://i.loli.net/2021/08/09/XbfCZRY2TQtFM9o.jpg"></p>
<p>ã€€ã€€å½“å›½æ­Œå“èµ·ï¼Œäº”æ˜Ÿçº¢æ——ç¼“ç¼“å‡èµ·ï¼Œé‚£ä¸€åˆ»ï¼Œæˆ‘æ„Ÿæ…¨ä¸‡åƒã€‚è¿‡å»5å¹´çš„ç”˜è‹¦ç”»é¢å†å†åœ¨ç›®ã€‚</p>
<p>ã€€ã€€<strong>2018å¹´ä¸‹åŠå¹´è‡³2019å¹´åˆï¼Œæˆ‘å› ä¼¤è¿œç¦»å›½é™…èµ›åœº8ä¸ªæœˆï¼Œå…¶é—´æœ‰3ä¸ªæœˆæ²¡æœ‰ç¢°çƒï¼Œé‚£æ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯æœ€è‰°éš¾çš„ä¸€æ®µæ—¶æœŸï¼Œä½†æˆ‘ä»æ²¡æœ‰æƒ³è¿‡æ”¾å¼ƒï¼Œå› ä¸ºä¹’ä¹“çƒå·²ç»æˆä¸ºæˆ‘ç”Ÿå‘½ä¸­æ— æ³•æ›¿ä»£çš„ä¸€éƒ¨åˆ†ã€‚</strong>æˆ‘å‘Šè¯‰è‡ªå·±ï¼Œåªè¦è¿˜æœ‰æœºä¼šï¼Œæˆ‘å°±ä¸€å®šè¦åšæŒè®­ç»ƒï¼Œé‡æ–°å›åˆ°èµ›åœºã€‚</p>
<p>ã€€ã€€ç»ˆäºï¼Œæˆ‘æ¥åˆ°äº†ä¸œäº¬â€”â€”ç¬¬ä¸‰æ¬¡è¸ä¸Šäº†å¥¥è¿ä¼šçš„èµ›åœºã€‚å¼ºå¤§çš„å¯¹æ‰‹ã€ç´§å¼ çš„æ°”æ°›ï¼Œè®©æˆ‘æ„Ÿåˆ°ç†Ÿæ‚‰åˆå…´å¥‹ã€‚æœ€è®©æˆ‘éš¾å¿˜çš„ï¼Œè¿˜æ˜¯ä¸é˜Ÿå‹ä»¬å¹¶è‚©ä½œæˆ˜çš„ç»å†ã€‚å›¢ä½“èµ›åŠå†³èµ›å’Œå†³èµ›çš„ä¸¤åœºåŒæ‰“ï¼Œæˆ‘å’Œæ­æ¡£è®¸æ˜•æŠŠèµ›å‰å‡†å¤‡çš„æˆ˜æœ¯æ‰“å‡ºæ¥äº†ï¼Œæˆ‘çœŸåˆ‡åœ°æ„Ÿå—åˆ°äº†å¥¥è¿ä¼šä¹’ä¹“çƒæ¯”èµ›å¸¦ç»™æˆ‘çš„äº«å—ã€‚</p>
<p>ã€€ã€€è¿ç»­ä¸¤å±Šå¥¥è¿ä¼šè·å¾—å•æ‰“å’Œå›¢ä½“ä¸¤é¡¹é‡‘ç‰Œï¼Œè®¸å¤šäººè®¤ä¸ºè¿™æ˜¯ä¸ªäº†ä¸èµ·çš„æˆå°±ã€‚å¯¹æ­¤ï¼Œæˆ‘å¿ƒæ€€æ„Ÿæ¿€ï¼Œä¹’ä¹“çƒå¸¦ç»™äº†æˆ‘ä¸€æ®µç²¾å½©çš„äººç”Ÿã€‚<strong>åŒæ—¶æˆ‘ä¹Ÿè¦æ„Ÿè°¢ç¥–å›½å’Œå¹¿å¤§äººæ°‘çš„æ”¯æŒå’Œä¿¡ä»»ï¼Œè¿™æ­£æ˜¯ä¸­å›½ä¹’ä¹“çƒäº‹ä¸šä¸æ–­å‘å‰çš„åŠ›é‡æºæ³‰ã€‚</strong></p>
<p>ã€€ã€€æˆ‘å·²ç»32å²äº†ï¼Œæˆ‘è§‰å¾—è‡ªå·±çš„èº«ä½“çŠ¶å†µè¿˜ä¸é”™ã€‚<strong>äº‹å®ä¸Šï¼Œä¸å°‘æ¯”æˆ‘å¹´é•¿çš„é€‰æ‰‹ä¾ç„¶åœ¨èµ›åœºå……æ»¡æ–—å¿—ï¼Œè¿™å¯¹æˆ‘ä¹Ÿæ˜¯ä¸€ç§æ¿€åŠ±ã€‚åªè¦å¿ƒæ€€çƒ­çˆ±ï¼Œæ°¸è¿œéƒ½æ˜¯å½“æ‰“ä¹‹å¹´ï¼</strong></p>
<hr>
<p>æ¥æºï¼šäººæ°‘æ—¥æŠ¥ï¼ˆ2021å¹´8æœˆ8æ—¥ ç¬¬07ç‰ˆï¼‰ï¼ŒåŸæ ‡é¢˜ã€Šå¿ƒæ€€çƒ­çˆ±ï¼Œäººç”Ÿå°±ä¼šç²¾å½©ï¼ˆå¥¥æ—åŒ¹å…‹ä¸æˆ‘ï¼‰ã€‹ï¼Œä½œè€…ï¼šé©¬é¾™ï¼Œè®°è€…èŒƒä½³å…ƒã€å­™é¾™é£é‡‡è®¿æ•´ç†</p>
<p>æœ¬æœŸç¼–è¾‘ï¼šèƒ¡ç¨‹è¿œã€çŸ³ç£Š</p>
<blockquote>
<p>å‰ªæŠ¥æ¥æº<br>å…¬ä¼—å·ï¼šäººæ°‘æ—¥æŠ¥<br>é“¾ã€€æ¥ï¼š<a href="https://mp.weixin.qq.com/s/kgjVfCvWg1mein0v6w0u7Q">https://mp.weixin.qq.com/s/kgjVfCvWg1mein0v6w0u7Q</a><br>æ—¥ã€€æœŸï¼š2021-08-08</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ªæŠ¥</category>
      </categories>
  </entry>
  <entry>
    <title>æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</title>
    <url>/2021/10/07/high-efficiency-study-note-3/</url>
    <content><![CDATA[<ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
<p>12ï½œæ¯ä¸ªäººéƒ½èƒ½å­¦ä¼šï¼š5 åˆ†é’Ÿå…‹æœæ‹–å»¶ç—‡çš„æ–¹æ³•</p>
<p>5 åˆ†é’Ÿèµ·æ­¥æ³•ï¼Œå¼€å§‹åšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œå…ˆç»™è‡ªå·± 5 åˆ†é’Ÿçš„èµ·æ­¥æ—¶é—´ï¼Œåˆ«è®¡è¾ƒæ•ˆç‡ã€‚æ¥å—è‡ªå·±åˆšå¼€å§‹é‚£ 5 åˆ†é’Ÿçš„çƒ¦èºå’ŒæŠ—æ‹’ï¼Œç»§ç»­åšè¯¥åšçš„äº‹æƒ…ï¼Œä¹‹åå°±å¥½äº†ã€‚</p>
<p>ç¨å¾®èµ°åœ¨è®¡åˆ’å‰é¢ï¼Œç»™è‡ªå·±ç•™ä¸‹å·æ‡’çš„èµ„æ ¼å’Œç©ºé—´ï¼Œå½“ä½ ç›¸å¯¹æ‹¥æœ‰ä¸åšäº‹çš„æƒåˆ©çš„æ—¶å€™ï¼Œä½ æ‰ä¼šæ›´æ„¿æ„è¿½æ±‚ä¸»åŠ¨åšäº‹ã€‚</p>
<p>æ›¿ä»£æ‹–å»¶æ³•ï¼šå¦‚æœæœ‰ä¸€ä¸ªæ›´éš¾çš„ä»»åŠ¡éœ€è¦å®Œæˆï¼Œæˆ‘ä»¬å°±éå¸¸æå…¶æ„¿æ„å»åšç›¸å¯¹ç®€å•çš„ä»»åŠ¡äº†ã€‚</p>
<p>13ï½œ3 ä¸ªæ€è·¯ï¼Œè®©ä½ æˆä¸ºä¸€ä¸ªçœŸæ­£è‡ªå¾‹çš„äºº</p>
<p>çœŸæ­£çš„è‡ªå¾‹ï¼Œå®ƒæ˜¯æŒ‡ä»â€œä¸è‡ªå¾‹â€çš„å¿µå¤´ä¸­ï¼Œçº¦æŸè‡ªå·±çš„èƒ½åŠ›ã€‚</p>
<p>æ€è·¯ä¸€ï¼šåœ¨ä¸¤ç§ç—›è‹¦ä¹‹é—´åšé€‰æ‹©</p>
<p>é¢å¯¹æ‡’æƒ°ã€æ‹–å»¶ã€æ”¾çºµçš„è¯±æƒ‘æ—¶ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨å¿«ä¹ä¸ç—›è‹¦ä¹‹é—´åšé€‰æ‹©ï¼Œä¹Ÿä¸æ˜¯åœ¨æ‰€è°“â€œé•¿è¿œçš„å¿«ä¹â€ä¸â€œçœ¼ä¸‹çš„å¿«ä¹â€ä¹‹é—´åšé€‰æ‹©ã€‚å…¶å®ï¼Œ<em><strong>æˆ‘ä»¬æ˜¯åœ¨ä¸€ç§ç—›è‹¦ä¸å¦ä¸€ç§ç—›è‹¦ä¹‹é—´åšé€‰æ‹©ã€‚</strong></em></p>
<p>åœ¨é¢å¯¹è‡ªå¾‹å’Œæ”¾çºµçš„æŠ‰æ‹©æ—¶ï¼Œè¯·å‘Šè¯‰è‡ªå·±ï¼Œä½ ä¸æ˜¯åœ¨å¿«ä¹ä¸ç—›è‹¦ä¹‹é—´é€‰ï¼Œä½ æ˜¯è¦åœ¨ä¸¤ç§ç—›è‹¦ä¹‹é—´é€‰ä¸€ç§å¿å—ï¼Œé‚£ä¹ˆä¸€èˆ¬è¿™ä¸ªæ—¶å€™ï¼Œä½ ä¼šé€‰æ‹©é‚£ä¸ªæœ‰æ„ä¹‰çš„ç—›è‹¦ã€‚</p>
<p>æ€è·¯äºŒï¼šåå‘æ€ç»´</p>
<p>åœ¨æŸäº›å›ºå®šçš„æ—¶é—´é‡Œæ”¾å¼ƒè‡ªå¾‹ï¼Œåè€Œä¼šè®©ä½ å˜å¾—æ›´è‡ªå¾‹ã€‚</p>
<p>å‡¡æ˜¯éœ€è¦è‡ªæˆ‘çº¦æŸçš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨åˆ°è¿™ä¸ªæ€è·¯ï¼š<em>åªåœ¨è§„å®šçš„æ—¶é—´é‡Œè‡ªæˆ‘ç®¡ç†ï¼Œè¿‡æ—¶ä¸å€™ï¼›å‰©ä¸‹çš„æ—¶é—´ï¼Œç»å¯¹ä¸å…è®¸è‡ªå¾‹ï¼Œä¸€å®šè¦ç©å„¿ï¼Œä¸€å®šè¦å¤§åƒå¤§å–ã€‚ç»“æœåè€Œæ›´å®¹æ˜“è¾¾æˆè‡ªå¾‹çš„ç›®çš„ã€‚</em></p>
<p>æ€è·¯ä¸‰ï¼š</p>
<p>14ï½œé€šè¿‡é€‰æ‹©ç¯å¢ƒï¼Œæ¥æé«˜å­¦ä¹ å’Œå·¥ä½œæ•ˆç‡</p>
<p>å›¾ä¹¦é¦†ã€è‡ªä¹ å®¤</p>
<p>è¡¨æ¼”å‹å­¦ä¹ å¿ƒç†ã€ç¤¾ä¼šåŠ©é•¿</p>
<p>â€œç¤¾ä¼šåŠ©é•¿â€ï¼ŒåŒ…æ‹¬â€œå…±åŒæ´»åŠ¨æ•ˆåº”â€å’Œâ€œè§‚ä¼—æ•ˆåº”â€ï¼Œå‰è€…æ˜¯æŒ‡ï¼šåœ¨åŒä»–äººå…±åŒæ´»åŠ¨æ—¶ï¼Œæˆ‘ä»¬çš„æ•ˆç‡ä¼šæé«˜ï¼›åè€…æ˜¯æŒ‡ï¼šå½“ä»–äººåœ¨åœºæ—è§‚æ—¶ï¼Œæˆ‘ä»¬çš„æ•ˆç‡ä¹Ÿä¼šæé«˜ã€‚</p>
<p>15ï½œä¸€ä¸ªäººåœ¨å®¶å¦‚ä½•åšåˆ°é«˜åº¦è‡ªå¾‹ï¼Ÿ</p>
<p>1ã€ä½ æ—©ä¸Šèµ·æ¥ååšçš„ç¬¬ä¸€ä»¶äº‹å¾ˆé‡è¦ã€‚é¦–å…ˆå»åšä»Šå¤©æœ€éœ€è¦å®Œæˆçš„äº‹æƒ…ï¼Œå®ƒç›¸å¯¹é‡è¦ä¸”ç´§æ€¥ï¼Œæœ‰ä¸€å®šéš¾åº¦ï¼Œåªè¦åšäº†è¿™ä¸ªï¼Œæ¥ä¸‹æ¥ä¸€å¤©éƒ½æ¯”è¾ƒç®€å•äº†ã€‚åœ¨æ¸…æ™¨ï¼Œä½ è¦ç»™è‡ªå·±ä¸€ä¸ªè¶³ å¤Ÿå¤§çš„åŠ›ï¼Œæ¨åŠ¨ä½ è¿›å…¥æ­£ç¡®çš„è½¨é“ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ï¼Œä¸éœ€è¦é¢å¤–ä»˜å‡ºæ›´å¤šçš„åŠ›ï¼Œä½ å°±å¯ä»¥ç»´ æŒè¿™ç§æƒ¯æ€§ã€‚<br>2ã€ç¬¬ä¸€æ­¥çš„éš¾åº¦åº”è¯¥æ˜¯é€‚ä¸­çš„ã€æ–¹ä¾¿åˆ‡å…¥çš„ã€‚æœ€å¥½æå‰ä¸€å¤©åšå¥½å‡†å¤‡ï¼Œä¿è¯ç¬¬äºŒå¤©èƒ½å¤Ÿè¾ƒ ä¸ºé¡ºç•…åœ°å¼€å§‹ã€‚<br>3ã€åœ¨å¼€å§‹åï¼Œä½ æœ€å¥½æŠŠéœ€è¦å®Œæˆçš„ä¸€åˆ‡ä»»åŠ¡ï¼Œåœ¨æ•´å—æ—¶é—´å†…ï¼Œè¿ç»­åšå®Œã€‚ä¸­é—´å¯ä»¥ä¼‘æ¯å’Œ<br>åƒé¥­ï¼Œä½†ä¸è¦åšå…¶å®ƒäº‹æƒ…ï¼Œæ¯”å¦‚çœ‹ç”µå½±å’Œæ‰“æ¸¸æˆã€‚</p>
<p>4ã€ä½ éœ€è¦è®¾ç½®ä¸€ä¸ªå¯ä»¥çœ‹åˆ°çš„ã€èƒ½è¾ƒä¸ºå®¹æ˜“è¾¾åˆ°çš„ç»ˆç‚¹ï¼Œåªè¦æ»¡è¶³é‚£ä¸ªæ ‡å‡†ï¼Œä½ å°±è§£è„± äº†ã€è‡ªç”±äº†ã€‚è¿™å¯¹äºä¸€ä¸ªäººåœ¨å®¶è¿›è¡Œè‡ªæˆ‘ç®¡ç†ï¼Œç‰¹åˆ«æœ‰å¸®åŠ©ã€‚æˆ‘æ¨èç»™ä½ çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š åš 6 å°æ—¶æ•´å°±åœä¸‹æ¥ã€‚<br>5ã€åœ¨ 6 å°æ—¶ä¹‹å¤–ï¼Œå¯ä»¥å®‰æ’è¾ƒä¸ºè½»æ¾çš„ã€æ„Ÿå…´è¶£çš„ï¼Œä½†å¯¹ä¸ªäººæå‡ä¹Ÿæœ‰å¸®åŠ©çš„äº‹æƒ…ï¼Œä¸ç”¨<br>è®¾ç½®ä»€ä¹ˆæ ‡å‡†ï¼Œéšå¿ƒå»åšå°±å¥½ï¼Œæ¯”å¦‚çœ‹ä¹¦ï¼Œæˆ–è€…å­¦è‹±è¯­ç­‰ç­‰ã€‚</p>
<p>16ï½œä¸€ç©æ‰‹æœºå°±åœä¸ä¸‹æ¥ï¼Ÿæ•™ä½ å¦‚ä½•æˆ’æ‰‹æœº</p>
<p>1ã€ç©æ‰‹æœºåœä¸ä¸‹æ¥æ˜¯æˆ‘ä»¬çš„å¤©æ€§ã€‚å¥–åŠ±ç³»ç»Ÿåœ¨å‘ç°è·å¾—å¥–åŠ±çš„æœºä¼šæ—¶ï¼Œä¼šé‡Šæ”¾å‡ºå¤šå·´èƒºï¼Œ é©±ä½¿æˆ‘ä»¬å»è¿½é€å¯èƒ½å­˜åœ¨çš„å¿«ä¹ã€‚å…·ä½“åˆ°æ‰‹æœºå’Œç”µè„‘ä¸Šï¼Œå°±æ˜¯é©±ä½¿æˆ‘ä»¬ä¸åœåœ°ç‚¹å‡»ã€æœ ç´¢ã€ç‚¹å‡»ã€‚<br>2ã€çœ‹ä¼¼äººçš„é—®é¢˜ï¼Œå®åˆ™æƒ…å¢ƒé—®é¢˜ã€‚ä¸å…¶æ§åˆ¶è‡ªå·±ï¼Œä¸å¦‚æ§åˆ¶ç¯å¢ƒã€‚è¦æƒ³ä¸è®©è‡ªå·±æ²‰è¿·äºç© æ‰‹æœºï¼Œè‡ªåˆ¶åŠ›ã€ä¸Šè¿›å¿ƒç­‰ç­‰ï¼Œå…¶å®éƒ½ä¸å¤ªç®¡ç”¨ï¼Œåœ¨ç‰©ç†ä¸Šè¿›è¡Œéš”ç»ï¼Œè®©è‡ªå·±æ¥è§¦ä¸åˆ°æ‰‹ æœºï¼Œæ‰è¶³å¤Ÿæœ‰æ•ˆã€‚<br>3ã€å¦‚æœå¿…é¡»ç”¨æ‰‹æœºåšæ­£äº‹ï¼Œä¸­é€”å¿ä¸ä½æƒ³ç©ï¼Œä¸è¦ç«‹åˆ»å»æ‰“å¼€æŸä¸ª App æˆ–ç½‘ç«™ï¼Œè€Œæ˜¯æƒ³ ä¸€æƒ³è‡ªå·±æƒ³å¹²ä»€ä¹ˆï¼Œå¹¶ä¸”è®°ä¸‹æ¥ã€‚è¿™ä¼šä½¿ä½ çš„çŠ¶æ€ä»â€œæ— æ„è¯†â€ï¼Œè½¬å˜ä¸ºâ€œæœ‰æ„è¯†â€ï¼Œä½  ä¼šæ›´å®¹æ˜“åœä¸‹æ¥ã€‚è€Œä¸”ï¼Œâ€œè®°ä¸‹æ¥â€ä¼šç»™ä½ å®‰å…¨æ„Ÿï¼Œä½ çŸ¥é“è‡ªå·±åœ¨å®Œæˆä»»åŠ¡åï¼Œå¯ä»¥åœ¨å›º å®šçš„æ—¶é—´ï¼Œå»åšæƒ³åšçš„äº‹æƒ…ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹ä¼šå¾ˆæœ‰å¸®åŠ©ï¼Œå¦‚æœä¸€å®šè¦ç©æ‰‹æœºçš„è¯ï¼Œå¯ä»¥ å‡†ç¡®è®°å½•è¿™ä»¶äº‹çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚<br>4ã€å¾ˆå¤šæ—¶å€™ï¼Œè¶Šæ˜¯æœ‰ç´§æ€¥çš„ä»»åŠ¡è¦å®Œæˆï¼Œæˆ‘ä»¬è¶Šå»â€œç´§å¼ åœ°ç©æ‰‹æœºâ€ï¼Œè¿™æ˜¯å› ä¸ºï¼Œå¤„åœ¨å‹ åŠ›ä¹‹ä¸­ã€æ„Ÿåˆ°ç—›è‹¦çš„å¤§è„‘ï¼Œæƒ³å˜å¾—å¿«ä¹ä¸€ç‚¹ï¼Œä¾¿ä¼šé©±ä½¿æˆ‘ä»¬å»å¯»æ‰¾é‚£äº›æœ€ç®€å•æ˜“å¾—çš„ï¼Œèƒ½ æ¿€æ´»å¥–åŠ±ç³»ç»Ÿçš„äº‹æƒ…ï¼Œæ¯”å¦‚ç©æ‰‹æœºã€æ‰“æ¸¸æˆã€åƒä¸œè¥¿ã€‚<br>åœ¨é—®é¢˜è§£å†³ä¹‹å‰ï¼Œå¯ä»¥å€ŸåŠ©è¿åŠ¨ã€é˜…è¯»ã€å¬éŸ³ä¹ã€ç¤¾äº¤ç­‰æ–¹å¼æ¥ç¼“è§£å‹åŠ›ï¼›åœ¨çœŸçš„åšäº†æŸ äº›â€œå •è½â€çš„äº‹æƒ…æ—¶ï¼Œè¶Šæ˜¯è‡ªæˆ‘æ‰¹è¯„ï¼Œè¶Šæ˜¯ä¼šæ¶æ€§å¾ªç¯ï¼Œä½ è¦å­¦ä¼šâ€œè‡ªæˆ‘è°…è§£â€ï¼Œæ‰èƒ½çœŸ<br>æ­£å¾—åˆ°æ”¹å˜ã€‚</p>
<p>è¦æƒ³ä¸è®©è‡ªå·±æ²‰è¿·äºç©æ‰‹æœºï¼Œè‡ªåˆ¶åŠ›ã€æ„å¿—åŠ›ã€ä¸Šè¿›å¿ƒç­‰ç­‰ï¼Œå…¶å®éƒ½ä¸å¤ªç®¡ ç”¨ï¼Œåœ¨ç‰©ç†ä¸Šè¿›è¡Œéš”ç»ï¼Œè®©è‡ªå·±æ¥è§¦ä¸åˆ°æ‰‹æœºï¼Œæ‰è¶³å¤Ÿæœ‰æ•ˆã€‚</p>
<blockquote>
<p>ç¾å›½å¿ƒç†å­¦å®¶åä¼šçš„è°ƒæŸ¥å‘ç°ï¼Œæœ€æœ‰æ•ˆçš„è§£å‹æ–¹æ³•åŒ…æ‹¬ï¼šé”»ç‚¼æˆ–è€…å‚åŠ ä½“è‚²æ´»åŠ¨ã€é˜… è¯»ã€å¬éŸ³ä¹ã€ä¸å®¶äººæœ‹å‹ç›¸å¤„ã€å¤–å‡ºæ•£æ­¥ã€å†¥æƒ³ï¼Œä»¥åŠåŸ¹å…»æœ‰åˆ›æ„çš„çˆ±å¥½ã€‚æœ€æ²¡æ•ˆæœçš„ ç¼“è§£å‹åŠ›çš„æ–¹æ³•åŒ…æ‹¬ï¼šèµŒåšã€è´­ç‰©ã€æŠ½çƒŸã€å–é…’ã€æš´é¥®æš´é£Ÿã€ç©æ¸¸æˆã€ä¸Šç½‘ã€èŠ±ä¸¤ä¸ªå°æ—¶ä»¥ä¸Šçœ‹ç”µå½±ã€‚è½¬å¼•è‡ªã€Šè‡ªæ§åŠ›ã€‹</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </title>
    <url>/2021/10/05/high-efficiency-study-note-2/</url>
    <content><![CDATA[<ul>
<li><a href="/2021/09/30/high-efficiency-study-note-1/">æ¨¡å—ä¸€ï¼šåº•å±‚æ€ç»´</a></li>
<li><a href="/2021/10/05/high-efficiency-study-note-2/">æ¨¡å—äºŒï¼šé«˜æ•ˆå­¦ä¹ </a></li>
<li><a href="/2021/10/07/high-efficiency-study-note-3/">æ¨¡å—ä¸‰ï¼šé«˜åº¦è‡ªå¾‹</a></li>
<li><a href="/2021/10/20/high-efficiency-study-note-4/">æ¨¡å—å››ï¼šæ—¶é—´ç®¡ç†</a></li>
<li><a href="/2021/10/30/high-efficiency-study-note-5/">æ¨¡å—äº”ï¼šå­¦éœ¸å…»æˆ</a></li>
</ul>
<p>05ï½œæ•™ä½ å…¨é¢æå‡ä¸“æ³¨åŠ›ï¼Œå­¦ä¹ æ—¶ä¸å†èµ°ç¥</p>
<p>ä¸“æ³¨åŠ›ï¼šä¸€ç›´ä¸“æ³¨äºä¸€ä»¶äº‹è‹¥å¹²æ—¶é•¿çš„èƒ½åŠ›å’Œèµ°ç¥ä¹‹åé‡æ–°è®©è‡ªå·±ä¸“æ³¨çš„èƒ½åŠ›ã€‚</p>
<p>ä¿æŒä¸“æ³¨çš„èƒ½åŠ›ï¼Œå…¶å®æ˜¯â€œèµ°ç¥ - é‡æ–°ä¸“æ³¨ - èµ°ç¥ - é‡æ–°ä¸“æ³¨â€çš„è¿‡ç¨‹ã€‚</p>
<p><strong>æå‡ä¸“æ³¨åŠ›æœ‰ä¸‰ä¸ªå®ç”¨çš„æ–¹æ³•ï¼šäº’åŠ¨ã€é—®é¢˜ã€é»˜å¿µã€‚</strong>å…¶ä¸­é»˜å¿µæ˜¯è‡ªå·±è·Ÿè‡ªå·±ä¸å‡ºå£°åœ°å¯¹è¯ï¼ˆæœ‰å£å‹ï¼‰ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬æŠŠæ³¨æ„åŠ›å…¨éƒ¨é›†ä¸­åœ¨çœ¼å‰çš„é¢˜ç›®ä¸Šé¢ï¼Œæœ‰åŠ©äºå¿˜è®°ææƒ§å’Œç„¦è™‘ï¼Œè¿˜å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¸®åŠ©æˆ‘ä»¬åœ¨è€ƒè¯•æ—¶åšåˆ°â€œè¶…å¸¸å‘æŒ¥â€ã€‚</p>
<p>äº’åŠ¨çš„ä¾‹å­ï¼š</p>
<ol>
<li>å¬è¯¾æ—¶é»˜é»˜é‡å¤è€å¸ˆæŸå¥è¯ä¸­çš„å…³é”®è¯ï¼Œä¸»åŠ¨åœ°æœ‰é€‰æ‹©åœ°è®°ç¬”è®°ï¼›</li>
<li>è®°å¿†ä¸œè¥¿æ—¶å‡ºå£°èƒŒè¯µï¼Œæˆ–è€…ç”¨ç¬”ä¸æ—¶åœ°å†™å†™åˆ’åˆ’ï¼›</li>
<li>çœ‹ä¹¦æ—¶å¯»æ‰¾â€œå¥çœ¼â€è¿›è¡Œåˆ’çº¿ï¼›</li>
<li>åšäº‹çš„æ—¶å€™ï¼Œä¸è¦è®©è‡ªå·±åœç•™äºâ€œæ—è§‚è€…â€çš„è§’è‰²ï¼Œè¦å»ä¸»åŠ¨è¿›è¡Œâ€œäº’åŠ¨â€ï¼Œæˆä¸ºä¸€ä¸ªâ€œå‚ä¸è€…â€ã€‚</li>
</ol>
<p>é—®é¢˜çš„ä¾‹å­ï¼ˆå¸¦ç€é—®é¢˜å»å­¦ä¹ ï¼Œè‡ªç„¶å°±ä¼šå˜å¾—ä¸“æ³¨ï¼‰</p>
<ol>
<li>å­¦ä¹ çš„æ—¶å€™å¯ä»¥å‘è‡ªå·±æé—®ï¼šè¿™æ®µè¯å¯ä»¥å›ç­”ä»€ä¹ˆé—®é¢˜ï¼Ÿè¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œè·Ÿå“ªå—å„¿çŸ¥è¯†æœ‰è”ç³»ï¼Ÿï¼ˆé—®é¢˜ï¼‰</li>
</ol>
<p>é»˜å¿µçš„ä¾‹å­</p>
<p>å•Šè¿™ä¸ªé¢˜ä¹Ÿå¤ªéš¾äº†å§ï¼è¿™æ˜¯äººç±»èƒ½è§£å†³çš„é—®é¢˜å—ï¼Ÿ</p>
<p>ä¸è¡Œï¼Œæˆ‘ä¸€å®šè¦æŠŠè¿™ä¸ªçŸ¥è¯†ç‚¹å¼„æ‡‚ã€‚</p>
<p>æˆ‘å°±ä¸ç›¸ä¿¡äº†ï¼Œè¿™ä¹ˆä¸ªå°ç ´é¢˜ï¼Œè¿˜èƒ½éš¾å€’æˆ‘ï¼Ÿ</p>
<p>06ï½œæ•™ä½ é«˜æ•ˆå¤ä¹ ï¼šå·§ç”¨å­¦ä¹ ç¥å™¨å–å¾—å¥½æˆç»©</p>
<p>é—­ç¯æ€ç»´ï¼šæŠŠä¸€ä»¶äº‹ä»å¤´åšåˆ°å°¾ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>ä½ è¯»äº†ä¸€æœ¬ä¹¦ï¼Œé‚£ä¹ˆä¹‹åéœ€è¦å®‰æ’æ—¶é—´å»æ¸©ä¹ ç¬”è®°ï¼Œç”šè‡³å°è¯•æŠŠå…¶ä¸­çš„ç´ æå’Œè§‚ç‚¹ï¼Œåº”ç”¨åˆ°å†™ä½œå’Œè¡¨è¾¾ä¸­ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºï¼›</li>
<li>ä½ åšäº†ä¸€å¼ è¯•å·ï¼Œå¯¹ç­”æ¡ˆå‘ç°åšé”™äº†ä¸€äº›é¢˜ç›®ï¼Œé‚£ä¹ˆä½ éœ€è¦å¼„æ¸…æ¥šè‡ªå·±çŠ¯é”™çš„åŸå› ï¼Œæ˜¯çŸ¥è¯†ç‚¹æ²¡æœ‰æŒæ¡ç‰¢é å‘¢ï¼Œè¿˜æ˜¯è®¡ç®—è¿‡ç¨‹å‡ºç°äº†å¤±è¯¯å‘¢ï¼Œç„¶åå¯¹ç—‡ä¸‹è¯ï¼Œæ•´ç†å‡ºé”™é¢˜æœ¬ï¼Œåœ¨ä¹‹åçš„å­¦ä¹ ä¸­ï¼Œè¦è®°å¾—æé†’è‡ªå·±å»æ¸©ä¹ å’Œå·©å›ºã€‚</li>
</ul>
<p>å¦‚ä½•é«˜æ•ˆå¤ä¹ ï¼ˆè¦åŠæ—¶å¤ä¹ ã€å¤šæ¬¡å¤ä¹ ï¼‰</p>
<p>æ¯å¤©éƒ½è¦ä»”ç»†å®‰æ’å¥½ä¸åŒç§‘ç›®ã€ä¸åŒç« èŠ‚çš„å¤ä¹ å†…å®¹å’Œæ—¶é—´ï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸ç¹çï¼Œå¯å€ŸåŠ©è½¯ä»¶ Anki è¿›è¡Œè§„åˆ’ã€‚</p>
<p>Anki</p>
<p>ä¸ºä¸åŒçš„ç§‘ç›®åˆ†åˆ«åˆ›å»ºè®°å¿†åº“ï¼Œç„¶åæŠŠæ¯ä¸€ç§‘çš„çŸ¥è¯†ç‚¹ï¼Œä»¥æ–‡å­—ã€å›¾ç‰‡æˆ–è€…éŸ³é¢‘çš„å½¢å¼ï¼Œåšæˆç¬”è®°å¡ç‰‡ï¼Œæ”¾åˆ°å¯¹åº”çš„è®°å¿†åº“ä¸­ã€‚</p>
<p>ä¸éœ€è¦æŠŠè¿‡äºç»†ç¢çš„çŸ¥è¯†ç‚¹åˆ¶ä½œæˆå•ç‹¬çš„å¡ç‰‡ï¼Œå› ä¸ºè¿™æ ·éå¸¸è€—è´¹æ—¶é—´ã€‚æŒ‰æˆ‘çš„å»ºè®®ï¼ŒæŠŠæŸæœ¬ä¹¦çš„æŸä¸€ç« èŠ‚ã€æŸå‡ é¡µå•è¯ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“çš„å¤ä¹ ä»»åŠ¡ï¼Œè®°å½•æˆ Anki çš„ä¸€é¡µç¬”è®°ï¼Œæ•ˆç‡æ›´é«˜ã€‚</p>
<ul>
<li>å¦‚æœä½ åœ¨å¤ä¹ æŸå¼ å¡ç‰‡çš„æ—¶å€™ï¼Œå‘ç°è‡ªå·±æŸä¸€å—çŸ¥è¯†æŒæ¡å¾—ä¸å¤ªå¥½ï¼Œå¯ä»¥é‡æ–°ç¼–è¾‘è¿™å¼ å¡ç‰‡ï¼Œåšä¸€äº›è®°å½•ï¼Œæé†’è‡ªå·±åœ¨ä¸‹æ¬¡å¤ä¹ çš„æ—¶å€™ï¼Œé‡ç‚¹å…³æ³¨å“ªäº›å†…å®¹ï¼›</li>
<li>åœ¨å¤ä¹ æŸä¸ªç« èŠ‚çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨å¡ç‰‡ä¸Šï¼Œé’ˆå¯¹å…¶ä¸­çš„çŸ¥è¯†ç‚¹æå‡ºä¸€äº›é—®é¢˜ï¼Œæ¯æ¬¡å¤ä¹ æ—¶ï¼Œè¯•ç€ä¸»åŠ¨å›æƒ³ã€ç»™å‡ºç­”æ¡ˆï¼›</li>
<li>åœ¨ Anki ä¸­ï¼Œä½ å¯ä»¥éšæ—¶ç¼–è¾‘å¡ç‰‡ï¼Œåœ¨é¡µé¢ä¸ŠåŠ å…¥æ–°çš„é—®é¢˜ï¼Œæˆ–è€…åˆ å»æ—§çš„é—®é¢˜ã€‚</li>
</ul>
<p>â€œæ£€ç´¢å¼ç»ƒä¹ â€æ¯”â€œé‡å¤é˜…è¯»â€çš„è®°å¿†æ•ˆæœæ›´å¥½ã€‚</p>
<p>07ï½œæˆ‘è€ƒåŒ—å¤§ä¸­æ–‡ç³»æ—¶ï¼Œ15 å¤©èƒŒä¸‹ 10 é—¨ä¸“ä¸šè¯¾çš„è¿ç‚¹æˆçº¿æ³•</p>
<p>æœºæ¢°å¤è¿° VS ç²¾ç»†å¤è¿°</p>
<p>å¯¹å¤§æ®µæ–‡å­—è¿›è¡ŒåŠ å·¥ï¼Œç”¨è‡ªå·±çš„è¯­è¨€å™è¿°å‡ºæ¥</p>
<p>å¦‚ä½•ç”¨è‡ªå·±çš„è¯­è¨€å™è¿°ï¼Ÿï¼ˆå…³é”®è¯ â†’ ä¸²è” â†’ å¤è¿°ï¼‰</p>
<ol>
<li>è®°å¿†ä¹¦æœ¬åŸæœ‰çš„å…³é”®è¯ã€çŸ¥è¯†ç‚¹ç­‰â€œç‚¹â€ä¿¡æ¯ï¼›</li>
<li>è¿â€œç‚¹â€æˆâ€œçº¿â€ï¼ŒæŠŠâ€œç‚¹â€ä¿¡æ¯ä¸²æˆæœ‰é€»è¾‘çš„å†…å®¹ï¼ˆé€šè¿‡è®°å…³ç³»æ–¹å¼ï¼Œå¦‚å¹¶åˆ—/å› æœ/æ—¶é—´/ç©ºé—´ï¼Œç‰¹å®šäººç‰©æˆ–äº‹ä»¶ç­‰ï¼‰ï¼›</li>
<li>åˆä¸Šä¹¦æœ¬ï¼Œè¯•ç€ç”¨è‡ªå·±çš„è¯­è¨€å’Œé€»è¾‘ï¼ŒæŠŠä¹‹å‰è®°ä¸‹çš„å…³é”®è¯ä¸²èµ·æ¥ã€‚</li>
</ol>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>ã€Šè‡ªæ§åŠ›ã€‹è¿™æœ¬ä¹¦æŒ‡å‡ºï¼šé•¿æœŸç¡çœ ä¸è¶³è®©ä½ æ›´å®¹æ˜“æ„Ÿåˆ°å‹åŠ›ã€èŒç”Ÿæ¬²æœ›ã€å—åˆ°è¯±æƒ‘ã€‚ä½ è¿˜ä¼šå¾ˆéš¾æ§åˆ¶æƒ…ç»ªã€é›†ä¸­æ³¨æ„åŠ›ã€‚</p>
<p>å…³é”®è¯ï¼šâ€œç¡çœ ä¸è¶³â€â€œå‹åŠ›â€â€œæ¬²æœ›â€â€œæƒ…ç»ªâ€â€œæ³¨æ„åŠ›â€</p>
<p>å…³ç³»ï¼šå› æœ</p>
<p>ä¸²è”ï¼šé•¿æœŸç¡çœ ä¸è¶³çš„å±å®³æœ‰ï¼šå¢åŠ å‹åŠ›ã€å‡å¼±è‡ªæ§åŠ›ã€æƒ…ç»ªå¤±æ§ã€æ³¨æ„åŠ›ä¸è¶³ã€‚</p>
<p>å¦ä¸€ä¸ªè¯€çªï¼ˆæŠŠè¦è®°ä½çš„å†…å®¹å’Œå·²æœ‰çš„çŸ¥è¯†ç»éªŒè”ç³»èµ·æ¥ï¼‰</p>
<p>å…ˆè®°â€œå°‘â€ä¸è®°â€œå¤šâ€ï¼Œè€Œåç”±â€œå°‘â€è®°â€œå¤šâ€ï¼Œ</p>
<p>å…ˆé€‰å–æœ€æ ¸å¿ƒçš„é‚£å¥è¯è¿›è¡Œè®°å¿†ï¼ŒæŠŠå®ƒå˜ä¸ºè‡ªå·±â€œå·²æœ‰çš„çŸ¥è¯†ç»éªŒâ€ï¼Œè€Œåå†å»è®°â€œå¤šâ€ã€‚</p>
<p>08ï½œé«˜æ•ˆè®°å¿†çš„æ ¹æœ¬æ–¹æ³•ï¼šä¸»åŠ¨æ€è€ƒå’ŒåŠ å·¥ &amp; ç»„å—åŒ–è®°å¿†</p>
<p>ä¸»åŠ¨æ€è€ƒå’ŒåŠ å·¥ï¼Œéœ€è¦è®°å¿†çš„å†…å®¹æ˜¯ç»è¿‡è‡ªå·±ä¸»åŠ¨æ€è€ƒå’ŒåŠ å·¥è¿‡çš„æ‰å®¹æ˜“è®°ä½ã€‚ç±»ä¼¼è”æƒ³è®°å¿†æ³•ï¼Œä½†æ›´æ³¨é‡ä¸»åŠ¨ï¼Œè€Œä¸æ˜¯åˆ«äººçŒè¾“ç»™ä½ ã€‚</p>
<p>å…·ä½“æ‰‹æ®µï¼šç²¾ç»†åŒ–æé—®ï¼Œå¤šé—®è‡ªå·±ä¸ºä»€ä¹ˆã€‚ï¼ˆä¸€ä¸ªå…¬å¼ä¸ºä»€ä¹ˆè¿™æ ·æ„æˆï¼Ÿä¸€ä¸ªå†å²äº‹ä»¶ä¸ºä»€ä¹ˆå‘ç”Ÿåœ¨æŸä¸ªå¹´ä»½ï¼Ÿä¸€ä¸ªå•è¯ä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä¸ªå®Œå…¨ä¸æ­è¾¹çš„æ„æ€ï¼Ÿï¼‰</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼ˆ<em>ä¾‹å­å†…å®¹ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ä¸»åŠ¨æ€è€ƒåŠ å·¥</em>ï¼‰ï¼š</p>
<p>å•è¯ turretï¼Œæ„æ€æ˜¯è§’æ¥¼ã€å¡”æ¥¼ã€‚æ€ä¹ˆè®°ï¼Ÿå½“æ—¶æˆ‘ç¬¬ä¸€ååº”æ˜¯ï¼Œè¿™ä¸ªå•è¯ä¸­é—´çš„â€œrrâ€ï¼Œåƒè§’æ¥¼å’Œå¡”æ¥¼é¡¶ä¸Šçš„ä¸¤é¢å°æ——ã€‚</p>
<p>å•è¯ stuffyï¼Œæ„æ€æ˜¯é€šé£ä¸ç•…çš„ã€ä¸€æœ¬æ­£ç»çš„ã€‚å—¯ï¼Ÿæˆ‘çœ‹åˆ°è¿™ä¸¤ä¸ªæ„æ€æ—¶ï¼Œæ»¡è„‘è¢‹é—®å·ï¼šå“ˆï¼Ÿé€šé£ä¸ç•…çš„ç¯å¢ƒä¼šè®©ä¸€ä¸ªäººå˜å¾—ä¸€æœ¬æ­£ç»å•Šï¼Ÿæ˜¯å› ä¸ºå¤§è„‘ç¼ºæ°§ï¼Œä»¥è‡³äºæ²¡æ³•æ€è€ƒä¸æ­£ç»çš„äº‹æƒ…äº†å—ï¼Ÿ</p>
<p>å•è¯ retireï¼Œæ„æ€æ˜¯é€€ä¼‘ï¼Œretire=r e tire= é˜¿å§¨ç´¯äº†æ‰€ä»¥â€œé€€ä¼‘â€äº†ã€‚</p>
<p>ç»„å—åŒ–è®°å¿†ï¼ˆå«ä»€ä¹ˆåç§°ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯çŸ¥é“è¿™ä¸ªæ–¹æ³•æ˜¯å¦‚ä½•è¿ç”¨çš„ï¼‰</p>
<p>ç”¨<em>ç»„å—</em>æ¥è¡¡é‡äººçš„çŸ­æ—¶è®°å¿†å®¹é‡ï¼Œå‡å¦‚ä¸€ä¸ªäººèƒ½è®°å¿†çš„åªæœ‰ 5~9 å—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ å—çš„å†…å®¹æ¥æå‡çŸ­æ—¶è®°å¿†å®¹é‡ã€‚</p>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼Œäººçš„çŸ­æ—¶è®°å¿†å®¹é‡åªèƒ½è£… 7 ç“¶æ°´ï¼Œä¸å–„äºè®°å¿†çš„äººæ¯ç“¶æ°´åªèƒ½è£… 100ml çš„æ°´ï¼Œé¢å–„äºè®°å¿†çš„äººï¼Œæ¯ç“¶æ°´èƒ½è£… 1000ml çš„æ°´ã€‚</p>
<p>æ¯”å¦‚è®°å¿†é‡‘åº¸çš„ä»£è¡¨ä½œï¼šé£é›ªè¿å¤©å°„ç™½é¹¿ï¼Œç¬‘ä¹¦ç¥ä¾ å€šç¢§é¸³ã€‚</p>
<p>09ï½œå¦‚ä½•é«˜æ•ˆè¯»ä¹¦ï¼Ÿå¦‚ä½•è®°ä½è¯»è¿‡çš„æ¯ä¸€æœ¬ä¹¦ï¼Ÿ</p>
<p>å¿«é€Ÿé˜…è¯»çš„å…³é”®</p>
<ul>
<li>ä¸°å¯Œçš„çŸ¥è¯†å‚¨å¤‡ï¼ˆå¯¹æŸä¸ªé¢†åŸŸçš„åŸºæœ¬è®¤è¯†ã€ä¸“ä¸šæœ¯è¯­æœ‰è¾ƒä¸ºå…¨é¢çš„äº†è§£ï¼‰ï¼›</li>
<li>è·³è¯»ï¼Œå³è·³è¿‡é‚£äº›ä¸é‡è¦çš„ä¿¡æ¯ï¼Œè„‘è¢‹è¦ä¿æŒè­¦é†’ï¼Œä¸»åŠ¨æ€è€ƒï¼Œå»åˆ¤æ–­æ¥ä¸‹æ¥çš„å†…å®¹ï¼Œæ˜¯å¦æœ‰è®¤çœŸé€å¥é˜…è¯»çš„ä»·å€¼ã€‚ï¼ˆä»…é€‚ç”¨äºä¸ºäº†æå‡è®¤çŸ¥è€Œè¿›è¡Œçš„åŠŸåˆ©æ€§é˜…è¯»ï¼‰</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­</p>
<p>ã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹è¿™æœ¬ä¹¦ï¼Œå®ƒåœ¨è®ºè¯è‡ªå·±çš„è§‚ç‚¹æ—¶ï¼Œè®²äº†ä¸€ä¸ªæ©„æ¦„çƒé˜Ÿçš„æ•…äº‹ï¼Œä½†æˆ‘å¹¶ä¸éœ€è¦çŸ¥é“æ•™ç»ƒå’Œçƒå‘˜å«ä»€ä¹ˆåå­—ï¼Œä¹Ÿä¸éœ€è¦äº†è§£ä»–ä»¬æ˜¯å¦‚ä½•æ‰“çƒçš„ã€‚æˆ‘åªéœ€è¦å¤§è‡´åˆ¤æ–­å‡ºï¼Œè¿™å‡ è¡Œä¼¼ä¹æ˜¯åœ¨è®²å¦‚ä½•æ‰“çƒï¼Œç„¶ååŒ†åŒ†æ‰«ä¸€çœ¼ï¼Œè·³åˆ°æœ€åçš„ç»“è®ºå°±å¯ä»¥äº†ã€‚</p>
<p><em>åŠŸåˆ©æ€§é˜…è¯»ï¼Œè¯»ä¹¦æœ¬èº«ä¸æ˜¯ç›®çš„ï¼Œå°½é‡å°‘çš„æ—¶é—´è·å¾—å°½é‡å¤šçš„è®¤çŸ¥æ‰æ˜¯ç›®çš„ã€‚</em></p>
<p>ç»“æœå¯¼å‘å¼è¯»ä¹¦å’Œæ¼«æ¸¸å¼è¯»ä¹¦</p>
<p>å‰è€…æ˜¯å…ˆæœ‰ä¸»é¢˜åå»é˜…è¯»ï¼Œåè€…æ˜¯å¤§é‡ç§¯ç´¯ç´ æã€‚äºŒè€…ç»“åˆä½¿ç”¨ï¼Œä¼šåšåˆ°æ›´é«˜æ•ˆåœ°è¾“å…¥å’Œè¾“å‡ºã€‚</p>
<p>å¦‚ä½•è®°ä½è¯»è¿‡çš„æ¯ä¸€æœ¬ä¹¦ï¼Ÿ</p>
<p>ä¸¤ä¸ªè¯„åˆ¤æ ‡å‡†</p>
<ul>
<li>è®°å¾—æŸæœ¬ä¹¦ä¸­æœ‰æŸä¸ªè§‚ç‚¹ï¼›</li>
<li>åœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œèƒ½å¤Ÿå°½é‡å¿«é€Ÿåœ°æ‰¾åˆ°åŸæ–‡ï¼Œå¹¶ä¸”åŒ–ç”¨åˆ°è‡ªå·±çš„è¡¨è¾¾ä¹‹ä¸­ã€‚</li>
</ul>
<p>åšç¬”è®°å»ºè®®ï¼šåšç²—æµ…çš„æ ‡è®°ï¼Œç•™ä¸‹å¯ä¾›è¿½æº¯çš„çº¿ç´¢å³å¯ã€‚</p>
<p><em>æˆ‘ä»¬è¯»è¿‡çš„ä¹¦ï¼Œå¦‚æœæ²¡æœ‰ç”¨åˆ°ï¼Œé‚£å°±ä¼šå¿˜è®°ï¼Œç›¸å½“äºæ²¡è¯»è¿‡ï¼›åªæœ‰ç”¨åˆ°äº†çš„ï¼Œæ‰ç®—çœŸæ­£â€œè¯»è¿‡â€ã€‚</em></p>
<p><em>åœ¨é˜…è¯»ä»¥åŠåšç¬”è®°çš„æ—¶å€™ï¼Œè¦åšçš„ä¸æ˜¯é€å½»åœ°ç†è§£å’Œè®°å¿†ï¼Œè€Œæ˜¯å‘ç°æœ‰ä»·å€¼çš„å†…å®¹ï¼Œå¹¶ä¸”ç•™ä¸‹å›é¡¾çš„çº¿ç´¢ã€‚åœ¨éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œå‡­å€Ÿæ®‹å­˜çš„å°è±¡ï¼Œç¿»åˆ°åŸæ–‡ï¼Œç›´æ¥å¼•ç”¨æŸå¥æ ¸å¿ƒè§‚ç‚¹ï¼Œæˆ–è€…ï¼Œç”¨è‡ªå·±çš„è¯­è¨€å»è¡¨è¾¾ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚</em></p>
<p>10ï½œå¦‚ä½•å¿«é€Ÿå…¥é—¨æ–°é¢†åŸŸï¼Ÿè®ºè¿°é¢˜å¦‚ä½•ç­”å‡ºé«˜åˆ†ï¼Ÿ</p>
<p>å¿«é€Ÿå…¥é—¨æ–°é¢†åŸŸçš„è¯»ä¹¦æ–¹æ³•</p>
<p>è¿™é‡Œçš„â€œæ–°é¢†åŸŸâ€ï¼Œæ˜¯æŒ‡äººæ–‡ç¤¾ç§‘ï¼Œè€Œééœ€è¦è®¡ç®—å’Œè®°å¿†å…¬å¼çš„ç†å·¥ç§‘ã€‚</p>
<p>æ–¹æ³•ï¼š</p>
<ul>
<li>æŠŠæ¡å¯¹è¿™ä¸€æ–°é¢†åŸŸçš„æ€»ä½“çš„æ„Ÿè§‰ï¼Œå…·ä½“æ“ä½œï¼šå…ˆé˜…è¯»å‡ æœ¬ç»¼è¿°æ€§ä¹¦ç±ï¼Œå…³æ³¨è¿™ä¸ªå­¦ç§‘çš„ç ”ç©¶å¯¹è±¡ã€è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€ä»¥æ€æ ·çš„æ€ç»´æ–¹å¼è§£å†³ç­‰ï¼Œè€Œåæ‰æ˜¯é˜…è¯»ä¸“ä¸šè®ºè‘—ã€‚</li>
<li>æ¯ä¸€æœ¬ä¹¦æœ€å¥½éƒ½èƒ½å¤Ÿè¯»ä¸ªä¸¤ä¸‰éï¼ˆè¯»ä¹¦ç™¾éï¼Œå…¶ä¹‰è‡ªç°ï¼‰ï¼›</li>
<li>åˆšå¼€å§‹é˜…è¯»æ—¶ä¸å¥¢æ±‚èƒ½åšå‡ºå¾ˆå¥½çš„ç¬”è®°ï¼Œ</li>
<li>å‰å‡ æ¬¡é˜…è¯»æ—¶ï¼Œéœ€è¦ç”¨ä¸åŒé¢œè‰²çš„ç¬”ã€ä¸åŒçš„ç¬¦å·ï¼Œæ¥åšç¬”è®°ï¼Œä»¥æ­¤åŒºåˆ†æ¯ä¸€æ¬¡çš„é‡ç‚¹ã€‚</li>
</ul>
<p>è®ºè¿°é¢˜å¦‚ä½•ç­”å‡ºé«˜åˆ†</p>
<p>åœ¨å›ç­”è®ºè¿°é¢˜çš„æ—¶å€™ï¼Œæœ‰æ‰€åˆ›æ–°ã€æœ‰è‡ªå·±çš„è§‚ç‚¹ã€‚</p>
<p>ä¸æ˜¯å•çº¯åœ°æ‹¼å‡‘å’Œå †ç Œï¼Œè€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„é€»è¾‘ï¼ŒæŠŠç´ æä¸²èµ·æ¥ï¼Œä½è¯è‡ªå·±çš„è§‚ç‚¹ã€‚ç­”è®ºè¿°é¢˜ï¼Œè¦åƒå†™å°è®ºæ–‡ä¸€æ ·ï¼Œæœ‰è®ºæœ‰è¿°ï¼Œæœ‰æ¡ç†ï¼Œè¿˜è¦ç»†èŠ‚ä¸°ç›ˆã€‚ä½ å¹¶ä¸éœ€è¦æŠŠæ‰€æœ‰çš„çŸ¥è¯†ç‚¹éƒ½ç­”ä¸Šå»ï¼Œåªè¦ç»“æ„å®Œæ•´ã€é€»è¾‘ç¼œå¯†ã€è‡ªåœ†å…¶è¯´å³å¯ã€‚</p>
<p>11ï½œå¦‚ä½•å¿«é€Ÿå®Œæˆå­¦ä¹ å’Œå·¥ä½œä»»åŠ¡ï¼Œä»¥åŠå¿«é€Ÿå­¦ä¼šæ–°æŠ€èƒ½ï¼Ÿ</p>
<p>å¦‚ä½•å¿«é€Ÿå®Œæˆå­¦ä¹ å’Œå·¥ä½œä»»åŠ¡</p>
<p>å…ˆå»æŠ“æ ¸å¿ƒã€æŠ“é‡ç‚¹ï¼Œå…ˆå»å®Œæˆï¼Œä¹‹åå†å»è€ƒè™‘å®Œç¾ã€‚è¿™æ˜¯é«˜æ•ˆå®Œæˆä»»åŠ¡çš„é‡è¦è¯€çªã€‚</p>
<p>ï¼ˆå…ˆå®Œæˆâ†’åˆ°å®Œç¾ï¼‰</p>
<p>å‡†å¤‡å·¥ä½œå¹¶ä¸éœ€è¦ä¹Ÿå¹¶ä¸å¯èƒ½åœ¨åšä¹‹å‰å…¨éƒ¨å®Œæˆï¼Œå› ä¸ºï¼Œåœ¨åšçš„è¿‡ç¨‹ä¸­ï¼ŒçœŸæ­£éœ€è¦è§£å†³çš„é—®é¢˜æ‰ä¼šé€æ¸æ¸…æ™°ï¼Œä½ æ‰èƒ½åšåˆ°æœ‰çš„æ”¾çŸ¢ã€‚</p>
<p>å¦‚ä½•å¿«é€Ÿå­¦ä¼šæ–°æŠ€èƒ½</p>
<p>ç«‹åˆ»å¼€å§‹åšï¼Œç«‹åˆ»å¼€å§‹è¾“å‡º</p>
<p><em>éœ€è¦ç§¯ç´¯æˆå°±æ„Ÿï¼Œç§¯ç´¯æ­£åé¦ˆï¼Œæ‰æœ‰åŠ¨åŠ›å»ç»§ç»­æ¢ç´¢ã€‚</em></p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>è§’è‰²è®¤çŸ¥</title>
    <url>/2021/08/11/technology-management-3/</url>
    <content><![CDATA[<h2 id="ç®¡ç†åˆ°åº•éƒ½åšå“ªäº›äº‹å„¿ï¼Ÿ"><a href="#ç®¡ç†åˆ°åº•éƒ½åšå“ªäº›äº‹å„¿ï¼Ÿ" class="headerlink" title="ç®¡ç†åˆ°åº•éƒ½åšå“ªäº›äº‹å„¿ï¼Ÿ"></a>ç®¡ç†åˆ°åº•éƒ½åšå“ªäº›äº‹å„¿ï¼Ÿ</h2><p><strong>åŸºäºè‰¯å¥½çš„è§’è‰²è®¤çŸ¥å’Œç®¡ç†æ²Ÿé€šï¼Œ</strong>ä¸»è¦åšå¥½ä¸‰ä»¶äº‹ï¼š<strong>å¸¦äººã€åšäº‹ã€çœ‹æ–¹å‘ã€‚</strong></p>
<p>äº”ä¸ªç®¡ç†è¦ç´ ï¼š<strong>è§’è‰²è®¤çŸ¥ã€ç®¡ç†è§„åˆ’ã€å›¢é˜Ÿå»ºè®¾ã€ä»»åŠ¡ç®¡ç†å’Œç®¡ç†æ²Ÿé€š</strong>ã€‚</p>
<p>ç®¡ç†è§„åˆ’-çœ‹æ–¹å‘<br>å›¢é˜Ÿå»ºè®¾-å¸¦äºº<br>ä»»åŠ¡ç®¡ç†-åšäº‹</p>
<p><img src="/image/column/tech-mg/1629193895904-00c79e57-479a-48ad-bc89-5d3f67d6b54f.png"></p>
<blockquote>
<p>TIPSï¼šå¦‚ä½•æå‡å›¢é˜Ÿå·¥ä½œæ•ˆç‡ï¼Ÿ<br>å·¥ä¸šæ—¶ä»£çš„å›¢é˜Ÿï¼š<strong>ä¸»è¦é åŠ å¼ºå¤–é©±ï¼Œ</strong>è®²ç©¶â€œèƒ¡èåœåŠ å¤§æ£’â€ï¼Œ<strong>è¿½æ±‚ä¸¥æ ¼ç®¡æ§ã€‚</strong><br>çŸ¥è¯†ç»æµæ—¶ä»£çš„å›¢é˜Ÿï¼š<strong>æ›´å¤šæ˜¯é æ¿€å‘å†…é©±</strong>ï¼Œå¼¹æ€§å·¥ä½œåˆ¶ä¹Ÿå¥½ï¼Œå‘æŒ¥å‘˜å·¥ä¼˜åŠ¿ä¹Ÿå¥½ï¼Œéƒ½æ˜¯å¸Œæœ›å‘˜å·¥<strong>æ›´ä¸»åŠ¨ã€è‡ªä¸»ï¼Œä»è€Œæœ‰æ›´å¤šçš„åˆ›é€ åŠ›ã€‚</strong> </p>
</blockquote>
<h2 id="ä»å·¥ç¨‹å¸ˆåˆ°ç®¡ç†è€…ï¼Œè§’è‰²éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ"><a href="#ä»å·¥ç¨‹å¸ˆåˆ°ç®¡ç†è€…ï¼Œè§’è‰²éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ" class="headerlink" title="ä»å·¥ç¨‹å¸ˆåˆ°ç®¡ç†è€…ï¼Œè§’è‰²éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ"></a>ä»å·¥ç¨‹å¸ˆåˆ°ç®¡ç†è€…ï¼Œè§’è‰²éƒ½å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Ÿ</h2><table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>å·¥ç¨‹å¸ˆ</th>
<th>ç®¡ç†è€…</th>
</tr>
</thead>
<tbody><tr>
<td>èŒè´£ä½¿å‘½</td>
<td>åšå¥½è‡ªå·±æ‰‹å¤´çš„å·¥ä½œ</td>
<td>å¸¦é¢†æ•´ä¸ªå›¢é˜Ÿå¾€å‰èµ°ï¼Œä¸Šçº§åªæ˜¯å¸®ä½ è®¾å®šä¸€ä¸ªç›®æ ‡ï¼Œå‰©ä¸‹åšä»€ä¹ˆã€æ€ä¹ˆåšï¼Œéƒ½æ˜¯è¦è€ƒè™‘çš„ï¼Œæ‰€æœ‰å¯¹è¾¾æˆç›®æ ‡æœ‰å¸®åŠ©çš„å·¥ä½œéƒ½æ˜¯ä»½å†…çš„</td>
</tr>
<tr>
<td>è´Ÿè´£å¯¹è±¡</td>
<td>å¯¹è‡ªå·±å’Œè‡ªå·±çš„å·¥ä½œè´Ÿè´£ï¼Œâ€œç®¡å¥½è‡ªå·±å°±å¯ä»¥äº†â€</td>
<td>å¯¹å…¬å¸(ä¸Šçº§)å’Œå›¢é˜Ÿ(ä¸‹çº§)éƒ½è´Ÿè´£ï¼Œå…³å¿ƒå›¢é˜Ÿæˆå‘˜çš„å‘å±•å’Œæˆé•¿</td>
</tr>
<tr>
<td>å…³æ³¨ç„¦ç‚¹</td>
<td>è¿‡ç¨‹å¯¼å‘ï¼ŒæŠŠå·¥ä½œæ‰§è¡Œåˆ°ä½</td>
<td>ç›®æ ‡å’Œç»“æœå¯¼å‘ï¼Œå…³å¿ƒç›®æ ‡å’Œå‰è¿›æ–¹å‘</td>
</tr>
<tr>
<td>å·¥ä½œå†…å®¹å’Œèƒ½åŠ›è¦æ±‚</td>
<td>å†…å®¹å•çº¯ï¼Œä¸»è¦é ä¸“ä¸šèƒ½åŠ›</td>
<td>å¤šç»´ç«‹ä½“ï¼Œæ‰€éœ€èƒ½åŠ›ç»´åº¦å¤§å¹…å¢åŠ ï¼ŒæŠ€æœ¯åˆ¤æ–­åŠ›ã€ç›®æ ‡ç®¡ç†èƒ½åŠ›ã€å›¢é˜Ÿè§„åˆ’èƒ½åŠ›ã€é¡¹ç›®ç®¡ç†èƒ½åŠ›ã€æ²Ÿé€šåè°ƒèƒ½åŠ›ã€å›¢é˜Ÿå»ºè®¾èƒ½åŠ›</td>
</tr>
<tr>
<td>ä»»åŠ¡æ¥æº</td>
<td>ä¸Šçº§å®‰æ’ï¼Œå¬ä¸Šçº§æŒ‡æŒ¥</td>
<td>è‡ªå·±ä¸»åŠ¨è§„åˆ’&amp;å‘ä¸Šæ²Ÿé€šï¼Œä¸Šçº§å·¥ä½œçš„æ‹†è§£å’Œå®‰æ’ï¼Œä½†æ›´å¤šæ˜¯é è‡ªå·±ç­¹åˆ’ï¼Œç„¶åå’Œä¸Šçº§å»æ²Ÿé€šç¡®è®¤ï¼Œä»è¢«åŠ¨â€œç­‰æ´»å„¿â€å˜ä¸ºä¸»åŠ¨è§„åˆ’ã€‚</td>
</tr>
<tr>
<td>å®æ–½æ‰‹æ®µ</td>
<td>ä¸»è¦é è‡ªå·±</td>
<td>ä¸»è¦é å›¢é˜Ÿ</td>
</tr>
<tr>
<td>åˆä½œç»´åº¦</td>
<td>å¹³çº§åˆä½œä¸ºä¸»</td>
<td>360åº¦åˆä½œï¼Œç»´åº¦ç«‹ä½“ï¼Œä¸Šçº§ï¼ˆè§„åˆ’ç›®æ ‡ï¼‰ã€ä¸‹çº§ï¼ˆè½åœ°æ‰§è¡Œï¼‰ã€å¹³çº§ï¼ˆè”åˆé¡¹ç›®ï¼‰ã€å¹³çº§çš„ä¸Šã€ä¸‹çº§ï¼ˆåè°ƒèµ„æºå’Œè¿›åº¦ï¼‰</td>
</tr>
<tr>
<td>åˆä½œå…³ç³»</td>
<td>å’Œå›¢é˜Ÿæˆå‘˜æ˜¯å¹³çº§ç«åˆå…³ç³»ï¼Œä»¥åˆä½œä¸ºä¸»ï¼Œä¹Ÿæœ‰â€œç«â€çš„æˆåˆ†</td>
<td>å’Œå›¢é˜Ÿæˆå‘˜æ˜¯å…¨é¢åˆä½œå…³ç³»</td>
</tr>
<tr>
<td>æ€ç»´æ–¹å¼</td>
<td>æ‰§è¡Œæ€ç»´ï¼Œä¹ æƒ¯å…³æ³¨ç¡®å®šæ€§é£é™©ï¼Œç‰¹ç‚¹æ˜¯å…³æ³¨è¿‡ç¨‹å’Œç»†èŠ‚ï¼Œæ›´é‡è¦çš„æ˜¯å…³æ³¨é£é™©å’Œæˆæœ¬ï¼Œå¸Œæœ›é€šè¿‡å¯¹é£é™©çš„æ’é™¤å’Œæˆæœ¬çš„æŒæ§ï¼Œæ¥ä¿è¯å·¥ä½œäº¤ä»˜çš„ç¡®å®šæ€§ã€‚</td>
<td>è§„åˆ’æ€ç»´ï¼Œä¹ æƒ¯å…³æ³¨å¯èƒ½æ€§æ”¶ç›Š</td>
</tr>
<tr>
<td>æŠ€æœ¯è§†è§’</td>
<td>æŠ€æœ¯å®æ–½è§†è§’</td>
<td>æŠ€æœ¯è¯„ä¼°è§†è§’ï¼ˆæŠ€æœ¯åˆ¤æ–­åŠ›ï¼‰</td>
</tr>
</tbody></table>
<h2 id="æ–°ç»ç†å…­å¤§å¸¸è§çš„ç®¡ç†è¯¯åŒº"><a href="#æ–°ç»ç†å…­å¤§å¸¸è§çš„ç®¡ç†è¯¯åŒº" class="headerlink" title="æ–°ç»ç†å…­å¤§å¸¸è§çš„ç®¡ç†è¯¯åŒº"></a>æ–°ç»ç†å…­å¤§å¸¸è§çš„ç®¡ç†è¯¯åŒº</h2><p>é—®é¢˜çš„å…±åŒç‚¹åœ¨å“ªé‡Œå—ï¼Ÿä½ è§‰å¾—è¿™äº›é—®é¢˜èƒŒåçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿä¼šå¸¦æ¥å“ªäº›å¯èƒ½çš„åæœå‘¢ï¼Ÿ</p>
<h3 id="ç¬¬ä¸€ç±»ï¼šè¿‡ç¨‹å¯¼å‘ã€è¢«åŠ¨æ‰§è¡Œ"><a href="#ç¬¬ä¸€ç±»ï¼šè¿‡ç¨‹å¯¼å‘ã€è¢«åŠ¨æ‰§è¡Œ" class="headerlink" title="ç¬¬ä¸€ç±»ï¼šè¿‡ç¨‹å¯¼å‘ã€è¢«åŠ¨æ‰§è¡Œ"></a>ç¬¬ä¸€ç±»ï¼šè¿‡ç¨‹å¯¼å‘ã€è¢«åŠ¨æ‰§è¡Œ</h3><p>å¸¸è§çš„åšæ³•å’Œè¯´æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸ä¸»åŠ¨æ‰¾æ´»å„¿å¹²ï¼Œæ€»æ˜¯ç­‰å¾…ä¸Šçº§æ´¾æ´»å„¿ï¼Œå¦‚æœä¸Šçº§æ²¡æœ‰æ˜ç¡®å®‰æ’ï¼Œå°±â€œæ”¾ç¾Šâ€ã€‚ </li>
<li>å³ä½¿ä¸Šçº§æœ‰äº†å®‰æ’ï¼Œè¿˜æ€»æ˜¯æŒ‡æœ›ä¸Šçº§æ›¿ä»–åšå†³å®šè¯¥æ€ä¹ˆåšï¼Œé€‰å“ªä¸ªæ–¹æ¡ˆã€‚ </li>
<li>åœ¨å’Œä¸Šã€ä¸‹çº§æ²Ÿé€šä¸­ï¼Œä»–ä¸»è¦å……å½“â€œä¼ è¯ç­’â€çš„è§’è‰²ï¼Œå¸¸ç”¨å¥å¼æ˜¯â€œè€æ¿è¯´â€¦â€¦â€â€œæŸå‘˜å·¥è¯´â€¦â€¦â€ï¼Œå¹¶æ²¡æœ‰åæ€æ¯æ¬¡æ²Ÿé€šè¦è¾¾åˆ°çš„ç›®çš„å’Œæ•ˆæœæ˜¯ä»€ä¹ˆã€‚ </li>
<li>è¿‡äºå…³æ³¨è‹¦åŠ³å’Œä»˜å‡ºï¼Œå¸¸è§è¯´æ³•æ˜¯â€œæŸæŸè¿˜æ˜¯ä¸é”™çš„ï¼Œæ²¡æœ‰åŠŸåŠ³ä¹Ÿæœ‰è‹¦åŠ³ã€‚â€</li>
</ul>
<p>ç”±äºæ²¡æœ‰ä»â€œç®¡ç†è€…â€çš„è§†è§’å‡ºå‘ï¼Œæ‰€ä»¥è‡³å°‘ä¼šå¸¦æ¥å¦‚ä¸‹ä¸‰ä¸ªåæœï¼š</p>
<ul>
<li><strong>å›¢é˜Ÿæ–¹å‘æ„Ÿç¼ºå¤±</strong>ã€‚å¤§å®¶éƒ½åªæ˜¯ç€çœ¼äºæ‰‹å¤´å·¥ä½œï¼Œå›¢é˜Ÿå¾—ä¸åˆ°æ„¿æ™¯çš„å‡èšå’Œæ¿€åŠ±ã€‚ </li>
<li><strong>å›¢é˜Ÿåšä¸å‡ºæœ‰æ•ˆçš„ä¸šç»©</strong>ã€‚å› ä¸ºå›¢é˜Ÿæ²¡æœ‰æ–¹å‘æ„Ÿï¼Œæ‰€ä»¥ç»“æœå°±å¾ˆéš¾æœ‰æ•ˆã€‚</li>
<li><strong>æ— æ³•å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿ</strong>ã€‚ç”±äºè§†è§’å±€é™ï¼Œæ‰€ä»¥è¿˜ä¸å…·å¤‡å¸¦é¢†å›¢é˜Ÿçš„èƒ½åŠ›ã€‚</li>
</ul>
<h3 id="ç¬¬äºŒç±»ï¼šå¤§åŒ…å¤§æ½ã€å”¯æˆ‘æœ€å¼º"><a href="#ç¬¬äºŒç±»ï¼šå¤§åŒ…å¤§æ½ã€å”¯æˆ‘æœ€å¼º" class="headerlink" title="ç¬¬äºŒç±»ï¼šå¤§åŒ…å¤§æ½ã€å”¯æˆ‘æœ€å¼º"></a>ç¬¬äºŒç±»ï¼šå¤§åŒ…å¤§æ½ã€å”¯æˆ‘æœ€å¼º</h3><p>å¸¸è§çš„ç›¸å…³è¯´æ³•æœ‰ï¼š</p>
<ul>
<li>â€œæŸæŸåšå¾—å¤ªæ…¢äº†ï¼Œè¿˜æ˜¯æˆ‘æ¥åšå§ï¼Œä»–åŠå¤©çš„å·¥ä½œï¼Œæˆ‘ä¸¤ä¸ªå°æ—¶å°±æå®šäº†ã€‚â€ï¼ˆåŒ…å·¥ä½œï¼‰</li>
<li>â€œå›¢é˜Ÿç¦»äº†æˆ‘å°±ä¸è½¬äº†ï¼Œé‡Œé‡Œå¤–å¤–éƒ½é æˆ‘æ“å¿ƒï¼Œä»–ä»¬éƒ½æ‹…ä¸èµ·è¿™ä¸ªè´£ä»»ã€‚â€ ï¼ˆåŒ…è´£ä»»ï¼‰</li>
<li>â€œæŸæŸçš„å·¥ä½œä¸»è¦é æˆ‘â€¦â€¦â€â€œåœ¨æˆ‘çš„æŒ‡å¯¼ä¸‹ï¼ŒæŸæŸæ‰â€¦â€¦â€â€œè¿™ä»¶äº‹ä¸»è¦æ˜¯æˆ‘åšçš„â€¦â€¦â€ï¼ˆåŒ…åŠŸåŠ³ï¼‰</li>
</ul>
<p>å¯èƒ½ä¼šå¸¦æ¥è¿™æ ·çš„åæœï¼š</p>
<ul>
<li><strong>æ¢¯é˜Ÿé—®é¢˜</strong>ï¼šå¤§æ ‘åº•ä¸‹å¯¸è‰ä¸ç”Ÿï¼Œæ¢¯é˜Ÿè¿Ÿè¿ŸåŸ¹å…»ä¸èµ·æ¥ã€‚å› ä¸ºæ¢¯é˜Ÿçš„åŸ¹å…»éœ€è¦æˆæƒï¼Œéœ€è¦è®©é«˜æ½œäººæ‰æœ‰å‘æŒ¥ç©ºé—´å¹¶æ‰¿æ‹…ç›¸åº”çš„è´£ä»»ã€‚</li>
<li><strong>æ¿€åŠ±é—®é¢˜</strong>ï¼šç”±äºç®¡ç†è€…å†²å¾—å¤ªé å‰ï¼Œå›¢é˜Ÿæˆå‘˜ç§¯ææ€§å—æŒ«ï¼Œé‡äº‹å¾€åç¼©ã€‚</li>
<li><strong>ä¸ªäººå‘å±•é—®é¢˜</strong>ï¼šç”±äºå¾—ä¸åˆ°å›¢é˜Ÿæˆå‘˜çš„æœ‰æ•ˆæ”¯æŒï¼Œè‡ªå·±åˆå¿™åˆç´¯ï¼Œåšä¸äº†æ›´å¤§çš„ä¸šåŠ¡ã€‚</li>
</ul>
<blockquote>
<p>æœ‰äº›æˆç†Ÿå…¬å¸å¦‚äº¬ä¸œå°±æœ‰è§„å®šï¼Œ_<strong>å¦‚æœä½ æ²¡æœ‰åŸ¹å…»å‡ºå¯ä»¥å®Œå…¨é¡¶æ›¿ä½ ä½ç½®çš„äººï¼Œä½ æ˜¯ä¸èƒ½æ™‹å‡çš„ã€‚</strong>_</p>
</blockquote>
<h3 id="ç¬¬ä¸‰ç±»ï¼šå¸¦å¤´å¤§å“¥ã€å½“å®¶ä¿å§†"><a href="#ç¬¬ä¸‰ç±»ï¼šå¸¦å¤´å¤§å“¥ã€å½“å®¶ä¿å§†" class="headerlink" title="ç¬¬ä¸‰ç±»ï¼šå¸¦å¤´å¤§å“¥ã€å½“å®¶ä¿å§†"></a>ç¬¬ä¸‰ç±»ï¼šå¸¦å¤´å¤§å“¥ã€å½“å®¶ä¿å§†</h3><p>å¸¸è§çš„ç›¸å…³è¯´æ³•æœ‰ï¼š</p>
<ul>
<li>â€œå¥½å¥½å¹²ï¼Œæˆ‘ä¸ä¼šäºå¾…ä½ çš„ï¼Œæˆ‘ç»ä¸ä¼šè®©è·Ÿç€æˆ‘çš„å…„å¼Ÿä»¬åƒäºï¼â€</li>
<li>â€œæŸæŸå¯èƒ½ä¼šä¸é«˜å…´ï¼Œå¯èƒ½ä¼šç¦»èŒï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿâ€</li>
<li>â€œæŸæŸæŠ€æœ¯æ¯”æˆ‘å¼ºï¼Œæˆ‘ç»™ä»–æ‰“å¥½ä¸‹æ‰‹å°±è¡Œäº†ã€‚â€</li>
</ul>
<p>è¿™ç±»é—®é¢˜å¸¦æ¥çš„åæœå¤§ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ä¸èŒä¸šçš„ç®¡ç†é£æ ¼å’Œæ–‡åŒ–</strong>ï¼Œè¿™ä¼šç»™å…¬å¸å¸¦æ¥å¾ˆå¤§çš„æ½œåœ¨é£é™©ã€‚</li>
<li><strong>å›¢é˜Ÿæ²¡æœ‰æ–¹å‘</strong>ï¼Œæ‰€ä»¥å¾ˆéš¾æœ‰æ­£ç¡®çš„åˆ¤æ–­å’Œå†³ç­–ã€‚</li>
</ul>
<blockquote>
<ol>
<li>â€œå¸¦å¤´å¤§å“¥â€å¼çš„ç®¡ç†è€…ï¼Œè®²ç©¶çš„æ˜¯å…„å¼Ÿæ„Ÿæƒ…ï¼Œåœ¨ä»–ä»¬å¿ƒç›®ä¸­ï¼Œä¸ä½†å…„å¼Ÿçš„å·¥ä½œæ˜¯æˆ‘çš„ï¼Œ å…„å¼Ÿäººä¹Ÿæ˜¯æˆ‘çš„ã€‚è¿™ç±»ç®¡ç†è€…å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ç‰¹åˆ«æœ‰æˆ˜æ–—åŠ›ï¼Œä½†æ˜¯ä¸€æ—¦æƒ…å†µæœ‰å˜ï¼Œå¯¹å…¬å¸çš„ç ´åæ€§ä¹Ÿæ˜¯éå¸¸å¤§çš„ï¼Œå› ä¸ºä»–å¿˜è®°äº†ä»–å¸¦çš„<strong>å›¢é˜Ÿæ˜¯å…¬å¸çš„èµ„æº</strong>ï¼Œè€Œä¸æ˜¯è‡ªå·±çš„ï¼Œæ‰€ä»¥ä¸å¯èƒ½æˆä¸ºä¸€ä¸ªèŒä¸šçš„ç®¡ç†è€…ã€‚</li>
<li>â€œå½“å®¶ä¿å§†â€å¼çš„ç®¡ç†è€…ï¼Œç”±äºå›¢é˜Ÿé‡Œæœ‰èµ„æ·±çš„é«˜çº§å·¥ç¨‹å¸ˆï¼Œä»–åœ¨æŠ€æœ¯åˆ¤æ–­åŠ›æ–¹é¢ä¸å¦‚è¿™äº›é«˜å·¥ï¼Œç´¢æ€§å°±ç»™è¿™äº›é«˜å·¥åšèµ·äº†â€œä¿å§†â€ï¼Œè€Œå¿˜è®°äº†<strong>è‡ªå·±æ‰æ˜¯è¿™ä¸ªå›¢é˜Ÿçš„èˆµæ‰‹å’Œèˆ¹é•¿ï¼Œ</strong>å› æ­¤ä¹Ÿä¸æ˜¯ä¸€ä¸ªèŒä¸šçš„ç®¡ç†è€…ã€‚</li>
</ol>
</blockquote>
<h3 id="ç¬¬å››ç±»ï¼šå•ä¸€è§†è§’ã€å›ºåŒ–æ€ç»´"><a href="#ç¬¬å››ç±»ï¼šå•ä¸€è§†è§’ã€å›ºåŒ–æ€ç»´" class="headerlink" title="ç¬¬å››ç±»ï¼šå•ä¸€è§†è§’ã€å›ºåŒ–æ€ç»´"></a>ç¬¬å››ç±»ï¼šå•ä¸€è§†è§’ã€å›ºåŒ–æ€ç»´</h3><p>å¸¸è§çš„ç›¸å…³è¯´æ³•æœ‰ï¼š</p>
<ul>
<li>â€œäººæ‰‹ä¸å¤Ÿï¼Œæ²¡äººï¼Œè¿™çœŸåšä¸äº†ï¼Œè¦åšå°±å¾—æ‹›äººã€‚â€</li>
<li>â€œè®©å›¢é˜ŸåŠ ç­çš„è¯ï¼Œå¾—ç»™å¤§å®¶å‘åŠ ç­è´¹ï¼Œä¸ç„¶æ²¡æ³•æå‡ç§¯ææ€§ã€‚â€</li>
<li>â€œåƒæŸæŸé‚£æ ·çš„äººæ‰é€‚åˆåšç®¡ç†ï¼Œæˆ‘è·Ÿä»–å¤ªä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥ä¸é€‚åˆåšç®¡ç†ã€‚â€</li>
<li>â€œè¿˜æœ‰ä¸ª Bug æ²¡ä¿®å¤ï¼Œä¸èƒ½å‘å¸ƒï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½æ˜¯è¿™ä¹ˆè§„å®šçš„ã€‚â€</li>
</ul>
<p>é€ æˆçš„åæœæ˜¯ï¼š</p>
<ul>
<li><strong>ä¹ æƒ¯æ€§å¡ä½</strong>ã€‚é‡åˆ°é—®é¢˜å’Œå›°éš¾ï¼Œå¾ˆå®¹æ˜“è¢«å¡ä½ï¼Œåˆ°å¤„éƒ½æ˜¯ç»•ä¸è¿‡å»çš„é¸¿æ²Ÿã€‚</li>
<li><strong>è®¤çŸ¥å±‚æ¬¡ä½</strong>ã€‚ç”±äºè¢«å•ä¸€æƒ¯æ€§æ€ç»´æ‰€æ”¯é…ï¼Œè®¤çŸ¥å±‚æ¬¡å’Œè€ƒè™‘é—®é¢˜çš„ç»´åº¦æ— æ³•æå‡ã€‚</li>
<li><strong>éš¾å ªé‡ä»»</strong>ã€‚ç”±äºåˆ›é€ æ€§åœ°è§£å†³é—®é¢˜çš„èƒ½åŠ›ä¸è¶³ï¼Œéš¾ä»¥æ‰¿æ‹…å…·æœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œã€‚</li>
</ul>
<h3 id="ç¬¬äº”ç±»ï¼šè‡ªæ‰«é—¨å‰é›ªã€å›ºå®ˆè¾¹ç•Œ"><a href="#ç¬¬äº”ç±»ï¼šè‡ªæ‰«é—¨å‰é›ªã€å›ºå®ˆè¾¹ç•Œ" class="headerlink" title="ç¬¬äº”ç±»ï¼šè‡ªæ‰«é—¨å‰é›ªã€å›ºå®ˆè¾¹ç•Œ"></a>ç¬¬äº”ç±»ï¼šè‡ªæ‰«é—¨å‰é›ªã€å›ºå®ˆè¾¹ç•Œ</h3><p>å¸¸è§çš„ç›¸å…³è¯´æ³•æœ‰ï¼š</p>
<ul>
<li>â€œè¿™ä¸ªæ˜¯æµ‹è¯•çš„é—®é¢˜ï¼Œè¿™ä¸ªæ˜¯äº§å“çš„é—®é¢˜ï¼Œè¿™ä¸ªæ˜¯åˆ«çš„éƒ¨é—¨çš„é—®é¢˜ã€‚â€</li>
<li>â€œäº§å“ç»ç†ä¸€ç‚¹é€»è¾‘éƒ½æ²¡æœ‰ï¼Œæ²¡æ³•æ²Ÿé€šã€‚â€</li>
<li>â€œè¿™äº‹ä¸èµ–æˆ‘ä»¬å›¢é˜Ÿï¼Œæ˜¯æŸæŸå›¢é˜Ÿæ²¡æœ‰æŒ‰æ—¶å®Œæˆã€‚â€</li>
<li>â€œæˆ‘æŸ¥è¿‡äº†ï¼Œä¸æ˜¯æˆ‘ä»¬çš„é—®é¢˜ï¼Œæƒ©ç½šä¸åˆ°æˆ‘ä»¬ã€‚â€</li>
</ul>
<p>æ‰€ä»¥ï¼Œè¿™ç±»é—®é¢˜æ˜æ˜¾çš„ç®¡ç†è€…ï¼Œå¸¸å¸¸å¸¦æ¥è¿™æ ·çš„åæœï¼š</p>
<ul>
<li><strong>é¡¹ç›®æ¨è¿›ä¸ç•…ï¼Œä»è€Œå½±å“å…¨å±€çš„ç»“æœ</strong>ã€‚</li>
<li><strong>è‡ªæˆ‘è®¾é™ï¼Œå› æ­¤ä¸ªäººæˆé•¿å—é™</strong>ã€‚</li>
<li><strong>ä¸ªäººå½±å“åŠ›æ— æ³•æ‰©å±•</strong>ã€‚å› ä¸ºç›®å…‰å’Œæ‰‹è„šéƒ½å±€é™åœ¨å›¢é˜Ÿå†…ï¼Œæ‰€ä»¥æ— æ³•åœ¨æ›´å¤§çš„èŒƒå›´äº§ç”Ÿå½±å“åŠ›ï¼Œä¹Ÿå°±æ— æ³•æˆä¸ºæ›´é«˜çº§çš„ç®¡ç†è€…ã€‚</li>
</ul>
<blockquote>
<p>è§’è‰²å’Œè´£ä»»çš„è¾¹ç•Œåˆ’åˆ†ï¼Œæ˜¯ä¸ºäº†åˆ†å·¥å’Œåˆä½œï¼Œä½†ç”±äºå¾ˆå¤šå¤§å‹é¡¹ç›®æœ‰èµ–äºå¤šä¸ªå›¢é˜Ÿä¸€èµ·åä½œå®Œæˆï¼Œæ‰€ä»¥åˆéœ€è¦æœ‰äººä¸»åŠ¨ç«™å‡ºæ¥ï¼Œå»æ‰¿æ‹…è¾¹ç•Œæ¨¡ç³Šçš„é‚£éƒ¨åˆ†èŒè´£ã€‚ä½œä¸ºä¸€ä¸ªå‘˜å·¥ï¼Œè¾¹ç•Œåˆ†æ˜æ— å¯åšéï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªç®¡ç†è€…ï¼Œå°±éœ€è¦ä»¥å…¨å±€çš„ç›®æ ‡ä¸ºå·±ä»»ï¼Œæ‰èƒ½æ‹¿åˆ°å…¬å¸è¦çš„ä¸šç»©ç»“æœã€‚<br>ä½œä¸ºç®¡ç†è€…ï¼Œæ˜¯è¦ç«™é«˜ä¸€å±‚æ¥çœ‹å¾…é—®é¢˜çš„ã€‚</p>
</blockquote>
<h3 id="ç¬¬å…­ç±»ï¼šæ‚£å¾—æ‚£å¤±"><a href="#ç¬¬å…­ç±»ï¼šæ‚£å¾—æ‚£å¤±" class="headerlink" title="ç¬¬å…­ç±»ï¼šæ‚£å¾—æ‚£å¤±"></a>ç¬¬å…­ç±»ï¼šæ‚£å¾—æ‚£å¤±</h3><p>å¸¸è§çš„è¯´æ³•æœ‰ï¼š </p>
<ul>
<li>â€œçªç„¶ä¸å†™ä»£ç äº†ï¼Œæ„Ÿè§‰åƒé¥­çš„å®¶ä¼™æ²¡äº†ï¼Œå¿ƒé‡Œå‘è™šã€‚â€</li>
<li>â€œç®¡ç†å·¥ä½œå¤ªçç¢ï¼Œæ„Ÿè§‰ç¦»æŠ€æœ¯è¶Šæ¥è¶Šè¿œï¼Œç°åœ¨ç‰¹åˆ«æ‹…å¿ƒä¸ªäººå‘å±•ã€‚â€ </li>
<li>â€œåšç®¡ç†æœ€å¤§çš„æŒ‘æˆ˜æ˜¯ï¼Œè¦èˆå¼ƒæŠ€æœ¯ï¼Œç‰¹åˆ«éš¾ã€‚â€ </li>
<li>â€œç®¡ç†æ˜¯ä¸ªçŸ›ç›¾çš„äº‹æƒ…ï¼Œè‡ªå·±æŠ€æœ¯ä¸“ä¸šæ€§è¶Šæ¥è¶Šå·®ï¼Œå´è¦å¸¦é¢†æ•´ä¸ªå›¢é˜Ÿã€‚â€</li>
</ul>
<p>æ ¸å¿ƒåŸå› <br>æŠŠç®¡ç†æ‘†åœ¨äº†å’ŒæŠ€æœ¯å¯¹ç«‹çš„ä½ç½®ï¼ŒåŒæ—¶ç”±äºç®¡ç†èƒ½åŠ›è¿˜æ²¡æœ‰å¼ºå¤§åˆ°å¯ä»¥ä½œä¸ºè‡ªå·±çš„æ ¸å¿ƒç«äº‰åŠ›ï¼Œå› æ­¤å¿§è™‘è‡ªå·±çš„æŠ€æœ¯ä¼šè½åï¼Œä»è€Œå¤±å»ç”Ÿå­˜èƒ½åŠ›ã€‚</p>
<p>é€ æˆçš„åæœï¼š</p>
<ul>
<li>çŠ¹è±«åå¤ï¼Œæ— æ³•å…¨åŠ›ä»¥èµ´å»åšå¥½ç®¡ç†ï¼Œ<strong>æˆé•¿ç¼“æ…¢</strong>ã€‚</li>
<li><strong>å¯¹æŠ€æœ¯çš„çœ‹æ³•å¤ªç‹­éš˜ï¼Œä»è€Œå½±å“æŠ€æœ¯åˆ¤æ–­åŠ›çš„æå‡</strong>ã€‚</li>
<li>ç”±äº<strong>è¯¯åˆ¤</strong>ï¼Œå¯èƒ½ä¼šé”™å¤±ä¸€ä¸ªå¥½çš„å‘å±•å¹³å°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Fix the &quot;Shadows name from outer scope&quot; Warning in PyCharm</title>
    <url>/2024/08/28/how-to-fix-shadows-name-from-outer-scope-warning-in-pycharm/</url>
    <content><![CDATA[<blockquote>
<p>This article provides a comprehensive guide on how to fix the â€œShadows name from outer scopeâ€ warning in PyCharm. It explains the issue, why itâ€™s problematic, and offers multiple solutions with code examples. The article also includes best practices to avoid name shadowing in the future. This information should be helpful for Python developers using PyCharm who encounter this warning and want to improve their code quality.</p>
</blockquote>
<p>If youâ€™re a Python developer using PyCharm, you may have encountered the â€œShadows name from outer scopeâ€ warning. This article will explain what this warning means and how to fix it, improving your code quality and readability.</p>
<h2 id="What-Does-â€œShadows-name-from-outer-scopeâ€-Mean"><a href="#What-Does-â€œShadows-name-from-outer-scopeâ€-Mean" class="headerlink" title="What Does â€œShadows name from outer scopeâ€ Mean?"></a>What Does â€œShadows name from outer scopeâ€ Mean?</h2><p>The â€œShadows name from outer scopeâ€ warning occurs when you define a variable inside a function or class that has the same name as a variable in the outer scope. This can lead to confusion and potential bugs, as the inner variable â€œshadowsâ€ or hides the outer one.</p>
<p>Letâ€™s look at the following code snippet as an example:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>As you can see, we define <code>access_token</code> in the global scope on the first line, and then reuse the same name in the <code>list_tag</code> function. In PyCharm, using the same name inside and outside a function is called â€œshadowing,â€ which triggers the warning â€œShadows name â€˜access_tokenâ€™ from outer scopeâ€. This is just a warning and wonâ€™t prevent the code from running.</p>
<p>While this example works fine, consistently ignoring such warnings could lead to unexpected behavior in the future.</p>
<p>Imagine the <code>list_tag</code> function becomes more complex with multiple parameters and internal logic. You decide to manually rename <code>access_token</code> to <code>token</code> within the function, but miss a few instances.</p>
<p>If you run this code again, it might appear to work, but the final result could be odd. This is because <code>access_token</code> now refers to the global object, while <code>token</code> refers to the local object. Theyâ€™re different, but youâ€™re mixing them up within the function.</p>
<p>To avoid such issues, itâ€™s best to address the warning by using distinct names for variables in different scopes, or by explicitly using the <code>global</code> keyword when you intend to modify the global variable within a function.</p>
<h2 id="Why-Is-This-a-Problem"><a href="#Why-Is-This-a-Problem" class="headerlink" title="Why Is This a Problem?"></a>Why Is This a Problem?</h2><ol>
<li><strong>Readability</strong>: It can make your code harder to understand, as itâ€™s not immediately clear which variable is being referenced.</li>
<li><strong>Maintainability</strong>: It can lead to errors if you or another developer mistakenly assume youâ€™re using the outer variable.</li>
<li><strong>Unexpected behavior</strong>: The code might not behave as intended if youâ€™re unknowingly using the inner variable instead of the outer one.</li>
</ol>
<h2 id="How-to-Fix-the-Warning"><a href="#How-to-Fix-the-Warning" class="headerlink" title="How to Fix the Warning"></a>How to Fix the Warning</h2><p>Now that we understand the reason behind this warning, the solution is straightforward: <strong>avoid reusing the same name in different scopes of your code.</strong></p>
<p>This approach offers two key benefits:</p>
<ol>
<li>It reduces the likelihood of unexpected behavior in your code.</li>
<li>It simplifies debugging, as Python will raise a <code>NameError</code> if it canâ€™t find either a global or local name.</li>
</ol>
<p>Here are some practical ways to resolve the â€œShadows name from outer scopeâ€ warning:</p>
<h3 id="1-Rename-the-Inner-Variable"><a href="#1-Rename-the-Inner-Variable" class="headerlink" title="1. Rename the Inner Variable"></a>1. Rename the Inner Variable</h3><p>The simplest solution is to give the inner variable a different name:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">local_token</span>): <span class="comment"># Changed from access_token to local_token</span></span><br><span class="line">    <span class="built_in">print</span>(local_token)</span><br><span class="line"></span><br><span class="line">list_tag(access_token)</span><br></pre></td></tr></table></figure>

<p>Alternatively, you can move the global variable into another function like this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>):</span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>Note that if your code structure looks like this:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">list_tag</span>(<span class="params">access_token</span>): <span class="comment"># Warning: Shadows name &#x27;access_token&#x27; from outer scope</span></span><br><span class="line">    <span class="built_in">print</span>(access_token)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    access_token = <span class="string">&quot;Hao6aAige5ap8enas6Fa8qugeeQu9Uik&quot;</span></span><br><span class="line">    list_tag(access_token)</span><br></pre></td></tr></table></figure>
<p>Youâ€™ll still get the warning â€œShadows name â€˜access_tokenâ€™ from outer scopeâ€.</p>
<p>This happens because <code>access_token</code> is defined as a global variable within the <code>if</code> block. The <code>if __name__ == &#39;__main__&#39;:</code> is a Python idiom used to determine if a module is being run directly as a script, but itâ€™s not a function. Therefore, variables defined within it are still considered global.</p>
<h3 id="2-Use-a-More-Descriptive-Name"><a href="#2-Use-a-More-Descriptive-Name" class="headerlink" title="2. Use a More Descriptive Name"></a>2. Use a More Descriptive Name</h3><p>Often, using a more descriptive name can not only fix the warning but also improve code clarity:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process_items</span>(<span class="params">items</span>):</span><br><span class="line">    processed_count = <span class="number">0</span>  <span class="comment"># More descriptive than just &#x27;count&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="comment"># Process item</span></span><br><span class="line">        processed_count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> processed_count</span><br></pre></td></tr></table></figure>
<h3 id="3-Use-the-global-Keyword"><a href="#3-Use-the-global-Keyword" class="headerlink" title="3. Use the global Keyword"></a>3. Use the <code>global</code> Keyword</h3><p>If you intend to modify the outer variable within the function, use the <code>global</code> keyword:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">total = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_to_total</span>(<span class="params">value</span>):</span><br><span class="line">    <span class="keyword">global</span> total</span><br><span class="line">    total += value</span><br></pre></td></tr></table></figure>
<p>Note: Use <code>global</code> sparingly, as it can make code harder to understand and maintain.</p>
<h3 id="4-Pass-the-Outer-Variable-as-an-Argument"><a href="#4-Pass-the-Outer-Variable-as-an-Argument" class="headerlink" title="4. Pass the Outer Variable as an Argument"></a>4. Pass the Outer Variable as an Argument</h3><p>Instead of accessing the outer variable directly, pass it as an argument:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">config = &#123;<span class="string">&#x27;debug&#x27;</span>: <span class="literal">True</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_message</span>(<span class="params">message, config_param</span>):</span><br><span class="line">    <span class="keyword">if</span> config_param[<span class="string">&#x27;debug&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(message)</span><br><span class="line"></span><br><span class="line">log_message(<span class="string">&quot;Debug info&quot;</span>, config)</span><br></pre></td></tr></table></figure>
<h3 id="5-Use-a-Class-to-Encapsulate-State"><a href="#5-Use-a-Class-to-Encapsulate-State" class="headerlink" title="5. Use a Class to Encapsulate State"></a>5. Use a Class to Encapsulate State</h3><p>For more complex scenarios, consider using a class to manage state:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">increment</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">counter = Counter()</span><br><span class="line">counter.increment()</span><br><span class="line"><span class="built_in">print</span>(counter.count)  <span class="comment"># Outputs: 1</span></span><br></pre></td></tr></table></figure>

<h2 id="Best-Practices-to-Avoid-Name-Shadowing"><a href="#Best-Practices-to-Avoid-Name-Shadowing" class="headerlink" title="Best Practices to Avoid Name Shadowing"></a>Best Practices to Avoid Name Shadowing</h2><ol>
<li><strong>Use unique, descriptive names</strong>: Make your variable names clear and specific to their purpose.</li>
<li><strong>Keep functions small and focused</strong>: This reduces the likelihood of name conflicts.</li>
<li><strong>Use linters and IDE warnings</strong>: Tools like PyCharmâ€™s built-in inspections can help catch these issues early.</li>
<li><strong>Review your code regularly</strong>: Regular code reviews can help identify and prevent name shadowing.</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Understanding and addressing the â€œShadows name from outer scopeâ€ warning in PyCharm will help you write cleaner, more maintainable Python code. By following the strategies outlined in this article, you can improve your codeâ€™s readability and reduce the potential for bugs caused by name shadowing.</p>
<p>Remember, clear and intentional variable naming is key to writing good Python code. Always strive for clarity and consistency in your naming conventions, and your future self (and your colleagues) will thank you!</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>HowTo</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªæˆ‘å€¾å¬ï¼ˆä¸Šï¼‰</title>
    <url>/2021/08/10/technology-management-1/</url>
    <content><![CDATA[<h2 id="æŠ€æœ¯äººå¸¸è§çš„èŒä¸šå‘å±•æ–¹å‘"><a href="#æŠ€æœ¯äººå¸¸è§çš„èŒä¸šå‘å±•æ–¹å‘" class="headerlink" title="æŠ€æœ¯äººå¸¸è§çš„èŒä¸šå‘å±•æ–¹å‘"></a>æŠ€æœ¯äººå¸¸è§çš„èŒä¸šå‘å±•æ–¹å‘</h2><p><img src="/image/column/tech-mg/1629193567069-f3f58680-f2e6-4305-b8e7-4d3f09914adf.png"></p>
<p>æŠ€æœ¯ç±»ã€ç®¡ç†ç±»ã€åˆ›ä¸šç±»å’Œé¡¾é—®ç±»æ–¹å‘çš„æŠ€èƒ½æ¸…å•ï¼š</p>
<p><img src="/image/column/tech-mg/1628231014471-78f3c500-6793-4ad5-8bd7-d60d3e02404f.png" alt="æŠ€èƒ½æ¸…å•"><br>æ— è®ºèµ°åœ¨å“ªæ¡è·¯ä¸Šï¼Œæœ‰äº›èƒ½åŠ›æ˜¯å…±é€šçš„ï¼Œæ¯”å¦‚<strong>è§„åˆ’ã€å¸¦äººã€æ²Ÿé€šã€æ‰§è¡Œç­‰ç®¡ç†èƒ½åŠ›</strong>ã€‚</p>
<h2 id="è¦ä¸è¦åšç®¡ç†ï¼Ÿ"><a href="#è¦ä¸è¦åšç®¡ç†ï¼Ÿ" class="headerlink" title="è¦ä¸è¦åšç®¡ç†ï¼Ÿ"></a>è¦ä¸è¦åšç®¡ç†ï¼Ÿ</h2><p>è¦ä¸è¦åšç®¡ç†é—®é¢˜åº”ä»<strong>åˆè¡·å’Œæ„æ„¿</strong>ä¸¤æ–¹é¢è€ƒè™‘ã€‚</p>
<h3 id="â€œåšç®¡ç†â€æ˜¯å¦æ›´ç¬¦åˆåˆè¡·ï¼Ÿ"><a href="#â€œåšç®¡ç†â€æ˜¯å¦æ›´ç¬¦åˆåˆè¡·ï¼Ÿ" class="headerlink" title="â€œåšç®¡ç†â€æ˜¯å¦æ›´ç¬¦åˆåˆè¡·ï¼Ÿ"></a>â€œåšç®¡ç†â€æ˜¯å¦æ›´ç¬¦åˆåˆè¡·ï¼Ÿ</h3><p>ä»”ç»†æ€è€ƒè‡ªå·±åšç®¡ç†æ˜¯å› ä¸ºå¤–é©±åŠ›è¿˜æ˜¯å†…é©±åŠ›ï¼Ÿ<strong>å¤–é©±è®©æˆ‘ä»¬å¯ä»¥åšå¥½æœ¬èŒå·¥ä½œï¼Œè€Œå†…é©±æ‰èƒ½è®©æˆ‘ä»¬æˆå°±å“è¶Šã€‚</strong></p>
<p><strong>å¤–é©±åŠ›</strong><br>å¤–éƒ¨çš„æ¨åŠ›å’Œè¯±æƒ‘ï¼Œå¦‚ä¸å¾—å·²çš„é€‰æ‹©ã€åˆ«äººçœ¼é‡Œçš„æˆåŠŸã€ä¸è¾œè´Ÿç»„ç»‡çš„æœŸå¾…ã€å¯¹åšç®¡ç†çš„ä¸»è§‚éæƒ³ç­‰ã€‚</p>
<p>ä»¥ä¸‹é—®é¢˜å¯ä¾›å‚è€ƒåˆ¤æ–­ï¼š</p>
<ul>
<li>â€œæˆ‘å¯¹æŠ€æœ¯æ²¡æœ‰çƒ­æƒ…ï¼Œä¹Ÿæ²¡æœ‰æŠ€æœ¯ç‰¹é•¿ï¼Œæ‰€ä»¥åªèƒ½åšç®¡ç†ã€‚â€</li>
<li>â€œåšæŠ€æœ¯åˆä¸èƒ½åšä¸€è¾ˆå­ï¼Œå¾ˆå¤šå‰è¾ˆéƒ½è½¬ç®¡ç†äº†ï¼Œæˆ‘ä¹Ÿè¦è½¬ã€‚â€</li>
<li>â€œæ²¡æœ‰åŠæ³•ï¼Œå…¬å¸å‘å±•å¤ªå¿«äº†ï¼Œè€æ¿è¦æ±‚æˆ‘å¸¦å›¢é˜Ÿã€‚â€</li>
<li>â€œå¦‚æœèƒ½åšåˆ°å…¬å¸é«˜ç®¡ï¼Œåˆ«äººéƒ½ä¼šè®¤ä¸ºæˆ‘æ˜¯ä¸€ä¸ªä¼˜ç§€å’ŒæˆåŠŸçš„äººã€‚â€</li>
<li>â€œèƒ½å¤Ÿåšç®¡ç†å¸¦å›¢é˜Ÿï¼Œè¿™æ ·åœ¨å®¶äººçœ¼ä¸­ä¼šå¾ˆé£å…‰ã€‚â€</li>
<li>â€œä¸Šçº§è¯´æˆ‘é€‚åˆåšç®¡ç†ï¼Œæˆ‘ä¸èƒ½è¾œè´Ÿä»–å¯¹æˆ‘çš„æœŸæœ›ã€‚â€</li>
<li>â€œå…¬å¸éœ€è¦æˆ‘å¸¦å›¢é˜Ÿï¼Œè¿™æ˜¯å…¬å¸å¯¹æˆ‘çš„ä¿¡ä»»ï¼Œæˆ‘ä¸€å®šå¾—åšå¥½ã€‚â€</li>
<li>â€œä¸ç”¨å‡¡äº‹äº²åŠ›äº²ä¸ºï¼Œå®‰æ’ä¸‹çº§å»åšå°±å¥½äº†ï¼Œåº”è¯¥ä¼šè½»æ¾äº›ã€‚â€</li>
<li>â€œåšç®¡ç†è¶Šæ™‹å‡è¶Šè½»æ¾ï¼Œä½ çœ‹é«˜ç®¡éƒ½ä¸åç­ã€‚â€</li>
</ul>
<p><strong>å†…é©±åŠ›</strong><br>å»ºç«‹åœ¨å†…å¿ƒçš„æ¸´æœ›å’Œæ„æ„¿ä¸Šï¼ˆå†…åœ¨åŠ¨åŠ›å’ŒçœŸæ­£è¯‰æ±‚ï¼‰ï¼Œå¦‚è®¤åŒç®¡ç†çš„ä»·å€¼è§‚ã€å¯¹ç®¡ç†å……æ»¡çƒ­æƒ…ï¼Œå¹¶äº«å—è¿™äº›å·¥ä½œã€çœ‹é‡åœ¨ç®¡ç†æ–¹é¢çš„æˆé•¿ç­‰ã€‚</p>
<p>ä»·å€¼è§‚ã€æ ¸å¿ƒè¯‰æ±‚ã€æ“…é•¿å’Œçƒ­çˆ±ç­‰åº•å±‚çš„åŠ¨åŠ›ï¼Œæ­£æ˜¯é¢å¯¹æŒ‘æˆ˜ã€èµ°å‘å“è¶Šæ‰€éœ€è¦çš„æœ€é‡è¦çš„ä¸œè¥¿ã€‚</p>
<p>ä»¥ä¸‹è¡¨ç°å¯ä¾›å‚è€ƒåˆ¤æ–­ï¼š</p>
<ul>
<li>è®¤ä¸ºæ‹›è˜é¢è¯•ã€è¾…å¯¼å‘˜å·¥ã€å‘ä¸Šæ±‡æŠ¥ã€å¼€ä¼šæ²Ÿé€šã€æµç¨‹æ¢³ç†ã€èµ„æºåè°ƒã€è¿›åº¦æ¨åŠ¨ã€ç»©æ•ˆè¯„ä¼°ç­‰å¤§éƒ¨åˆ†ç®¡ç†å·¥ä½œï¼Œéƒ½æ˜¯çç¢çš„â€œæ‚äº‹â€ï¼Œå¾ˆéš¾ä»è¿™äº›å·¥ä½œä¸­è·å¾—ä»·å€¼æ„Ÿå’Œæˆå°±æ„Ÿï¼Œç”šè‡³è¿˜å¯¹äºè¿™äº›å·¥ä½œæŒ¤å äº†å†™ä»£ç çš„æ—¶é—´è€Œä¸æ»¡ã€‚</li>
<li>è®¤ä¸ºç»ç†æ˜¯ç»™é«˜å·¥å’Œæ¶æ„å¸ˆæ‰“ä¸‹æ‰‹çš„ï¼ŒèŒè´£å°±æ˜¯æ”¯æŒå¥½æ¶æ„å¸ˆçš„å·¥ä½œï¼Œæ‰€ä»¥æ¯”è¾ƒéƒé—·ã€‚</li>
<li>è®¤ä¸ºç®¡ç†çš„å·¥ä½œä¸å¦‚æŠ€æœ¯å·¥ä½œæœ‰ä»·å€¼ï¼Œé€šè¿‡æŠ€æœ¯æ‰‹æ®µæ¥è§£å†³é—®é¢˜æ‰æ˜¯æœ€é…·çš„äº‹æƒ…ã€‚ä½ æ˜¯å¦ä¹Ÿä¼šè¿™ä¹ˆè®¤ä¸ºå‘¢ï¼Ÿ</li>
<li>æ˜¯å¦ä¸»åŠ¨åœ°å‘è‡ªå·±çš„ä¸Šçº§äº†è§£è¿‡å›¢é˜Ÿçš„å·¥ä½œç›®æ ‡å‘¢ï¼Ÿ</li>
<li>æ˜¯å¦ä¸»åŠ¨å…³å¿ƒè¿‡æ–°åŒäº‹è¯¥æ€ä¹ˆåŸ¹å…»ï¼Œä»¥åŠå¦‚ä½•æ›´å¥½åœ°å¸®åŠ©ä»–ä»¬æˆé•¿å‘¢ï¼Ÿ</li>
<li>æ˜¯å¦äº«å—å»è´Ÿè´£ä¸€ä¸ªå¤§é¡¹ç›®çš„åè°ƒå’Œæ¨è¿›ï¼Ÿå®ƒçš„æˆåŠŸå‘å¸ƒæ˜¯å¦ä¼šç»™ä½ å¸¦æ¥å¼ºçƒˆçš„æˆå°±æ„Ÿå‘¢ï¼Ÿ</li>
<li>æ˜¯å¦æ€è€ƒè¿‡ä»€ä¹ˆæ ·çš„æµç¨‹å’Œæœºåˆ¶å¯ä»¥åº”å¯¹å›¢é˜Ÿå·¥ä½œä¸­çš„é‚£äº›ç–æ¼å‘¢ï¼Ÿ</li>
<li>æ›´å¤§çš„è´£ä»»ã€æ›´ç«‹ä½“çš„è§†è§’ã€æ›´çµæ´»çš„æ€ç»´æ–¹å¼ã€‚</li>
</ul>
<h3 id="â€œåšç®¡ç†â€æ˜¯å¦æ›´èƒ½æ¿€å‘æŠ•å…¥çš„æ„æ„¿ï¼Ÿ"><a href="#â€œåšç®¡ç†â€æ˜¯å¦æ›´èƒ½æ¿€å‘æŠ•å…¥çš„æ„æ„¿ï¼Ÿ" class="headerlink" title="â€œåšç®¡ç†â€æ˜¯å¦æ›´èƒ½æ¿€å‘æŠ•å…¥çš„æ„æ„¿ï¼Ÿ"></a>â€œåšç®¡ç†â€æ˜¯å¦æ›´èƒ½æ¿€å‘æŠ•å…¥çš„æ„æ„¿ï¼Ÿ</h3><p>â€œåšç®¡ç†â€å¸¦æ¥çš„æˆé•¿ä¸æ”¶è·ï¼š</p>
<ul>
<li><strong>æˆé•¿æ„Ÿ</strong>â€”â€”åˆ°äº†ä¸€ä¸ªæ›´å¤§çš„å¹³å°ä¸Šï¼Œèƒ½åŠ›å’Œè§†é‡å°†å¾—åˆ°å¤§å¹…åº¦æå‡ï¼›</li>
<li><strong>æˆå°±æ„Ÿ</strong>â€”â€”èƒ½åŠ›å˜å¼ºï¼Œæœ‰äº†å›¢é˜Ÿï¼Œèƒ½æå®šæ›´å¤§ã€æ›´å¤æ‚çš„äº‹æƒ…ï¼Œåšå‡ºæ›´å¤§çš„æˆç»©ï¼›</li>
<li><strong>å½±å“åŠ›</strong>â€”â€”å¸¦ç€å›¢é˜Ÿåšå‡ºè¶Šæ¥è¶Šå¤šçš„æˆå°±ï¼Œå›¢é˜Ÿä¹Ÿè¶Šæ¥è¶Šä¼˜ç§€ï¼Œå›¢é˜Ÿæˆå‘˜éƒ½å¾—åˆ°äº†æˆé•¿ï¼Œç”šè‡³è¿˜ä¼šå½±å“åˆ°åˆä½œå›¢é˜Ÿï¼›</li>
<li><strong>è·å¾—æ„Ÿ</strong>â€”â€”èƒ½åŠ›ã€æˆç»©ã€å½±å“åŠ›å…¨é¢æå‡ï¼Œå¾—åˆ°æ›´å¤šçš„ç²¾ç¥å’Œç‰©è´¨çš„å›æŠ¥ã€‚</li>
</ul>
<h2 id="å“ªäº›äººå®¹æ˜“èµ°ä¸Šç®¡ç†å²—ä½ï¼Ÿ"><a href="#å“ªäº›äººå®¹æ˜“èµ°ä¸Šç®¡ç†å²—ä½ï¼Ÿ" class="headerlink" title="å“ªäº›äººå®¹æ˜“èµ°ä¸Šç®¡ç†å²—ä½ï¼Ÿ"></a>å“ªäº›äººå®¹æ˜“èµ°ä¸Šç®¡ç†å²—ä½ï¼Ÿ</h2><p>åšç®¡ç†çš„â€œå¤©æ—¶åœ°åˆ©äººå’Œâ€ï¼š</p>
<ul>
<li><strong>æœºä¼šã€æ—¶æœºã€å¤§ç¯å¢ƒã€æ—¶ä»£èƒŒæ™¯ï¼›</strong></li>
<li><strong>è‡ªå·±çš„ä¼˜åŠ¿ã€èƒ½åŠ›ä»¥åŠæ‰€è´Ÿè´£çš„å·¥ä½œå†…å®¹ï¼›</strong></li>
<li><strong>å¾—åˆ°ä»–äººçš„æ”¯æŒï¼ˆèµ„æºæä¾›è€…ã€ä¼™ä¼´/åŒè¡Œè€…ã€å¯¼å¸ˆæ¦œæ ·ã€å®¶äºº/æœ‹å‹ï¼‰ã€‚</strong></li>
</ul>
<p><img src="/image/column/tech-mg/1628238415051-6e3a052c-4604-4af9-9a5f-05251eb81817.png"></p>
<blockquote>
<p>TIPSï¼š</p>
<ol>
<li>å»èƒ½ç§¯ç´¯çš„å…¬å¸åšç®¡ç†ï¼Œä¼šæ˜¯æ›´åˆç†çš„é€‰æ‹©ï¼›</li>
<li>è´Ÿè´£<strong>æœ€å…¨å±€çš„æ¨¡å—</strong>ï¼ˆâ€œå¹¿â€ï¼‰ã€è´Ÿè´£<strong>æœ€æ ¸å¿ƒçš„æŠ€æœ¯æ¨¡å—</strong>ï¼ˆâ€œæ·±â€ï¼‰çš„å·¥ç¨‹å¸ˆæ›´å®¹æ˜“æˆä¸ºç®¡ç†è€…ï¼›</li>
<li>å¤©ä½¿è½®ã€A è½®è¿™æ ·çš„æ—©æœŸå…¬å¸ï¼Œå¤§å¤šå¤„äºç”Ÿå­˜æœŸï¼Œè¿˜æ²¡æœ‰ä¸Šè§„æ¨¡ï¼Œè€Œæ²¡æœ‰è§„æ¨¡çš„å…¬å¸å¹¶ä¸éœ€è¦ä½ å»åšç®¡ç†ï¼Œæ‰€ä»¥ä½ å¾ˆå¤§æ¦‚ç‡ä¼šå¤±æœ›ã€‚</li>
<li>å¦‚æœä½ ä¸»åŠ¨å»äº†è§£æŠ€æœ¯å’Œä¸šåŠ¡çš„å…¨å±€ï¼Œå¹¶ä¸»åŠ¨äº‰å–åšä¸€äº›å¤§å‹é¡¹ç›®çš„è´Ÿè´£äººï¼Œä½ å°±å…·å¤‡äº†åšç®¡ç†çš„â€œåœ°åˆ©â€ã€‚</li>
</ol>
</blockquote>
<p>â€œå¤©æ—¶â€â€œåœ°åˆ©â€â€œäººå’Œâ€è¿™ä¸‰ç±»ç®¡ç†ä¹‹è·¯çš„å¤–éƒ¨å› ç´ éƒ½å…·å¤‡äº†ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè‡ªç„¶å¯ä»¥æ›´é¡ºåˆ©åœ°èµ°ä¸Šç®¡ç†å²—ä½ã€‚</p>
<p><img src="/image/column/tech-mg/1628244980896-3120e339-3202-421b-acc2-552c6b5b9345.png"></p>
<p>ä½†å¦‚æœä¸å…·å¤‡è¿™äº›å¤–éƒ¨å› ç´ ï¼Œè€Œä½ è¿˜æƒ³å¾€ç®¡ç†æ–¹å‘èµ°çš„è¯ï¼Œé‚£ä¹ˆä»¥ä¸‹è¿™äº›ä¹‹å‰å¯èƒ½å¹¶æ²¡åšè¿‡çš„ã€å…¬å¸ä¹Ÿä¸ä¼šå› æ­¤å°±ç»™ä½ å¤šå‘è–ªæ°´çš„å·¥ä½œï¼Œåœ¨ç¼–ç ä¹‹ä½™ä¾ç„¶è¦å»å…³å¿ƒï¼š</p>
<ul>
<li>é¡¹ç›®çš„æµç¨‹è¯¥æ€ä¹ˆæ”¹è¿›ï¼›</li>
<li>å›¢é˜Ÿåˆä½œçš„æœºåˆ¶è¯¥æ€ä¹ˆå»ºç«‹ï¼›</li>
<li>æ–°å‘˜å·¥å…¥èŒè¯¥æ€ä¹ˆåŸ¹å…»ï¼›</li>
<li>å›¢é˜Ÿçš„æ°›å›´è¯¥æ€ä¹ˆå»ºè®¾ã€‚</li>
</ul>
<p><strong>å› ä¸ºï¼Œæƒ³è¢«ææ‹”ä¸ºä¸€ä¸ªç®¡ç†è€…æœ€å¥½çš„æ–¹å¼ï¼Œå°±æ˜¯é¦–å…ˆæˆä¸ºä¸€ä¸ªå®é™…ä¸Šçš„ç®¡ç†è€…ï¼Œè¿™ç§â€œæ—¢å®šäº‹å®â€çš„æ™‹å‡ç†å¿µåœ¨äº’è”ç½‘è¡Œä¸šé‡Œè¢«å¹¿æ³›è®¤åŒã€‚</strong></p>
<h2 id="è¦ä¸è¦è½¬å›å»åšæŠ€æœ¯ï¼Ÿ"><a href="#è¦ä¸è¦è½¬å›å»åšæŠ€æœ¯ï¼Ÿ" class="headerlink" title="è¦ä¸è¦è½¬å›å»åšæŠ€æœ¯ï¼Ÿ"></a>è¦ä¸è¦è½¬å›å»åšæŠ€æœ¯ï¼Ÿ</h2><p>ç„¦è™‘çš„æ„Ÿå—ï¼š</p>
<ul>
<li>â€œç®¡ç†çš„äº‹å„¿å¤ªæ‚ï¼Œéƒ½æ²¡æ—¶é—´å†™ä»£ç äº†ï¼Œè¶Šæ¥è¶Šå¿ƒè™šâ€¦â€¦â€</li>
<li>â€œåšç®¡ç†æœ€å¤§çš„æŒ‘æˆ˜æ˜¯ï¼Œè¦èˆå¼ƒæŠ€æœ¯ï¼Œç‰¹åˆ«éš¾ã€‚â€</li>
<li>â€œç®¡ç†å’ŒæŠ€æœ¯åˆ°åº•è¯¥æ€ä¹ˆå¹³è¡¡ï¼Ÿâ€</li>
<li>â€œçªç„¶ä¸å†™ä»£ç äº†ï¼Œæ„Ÿè§‰åƒé¥­çš„å®¶ä¼™æ²¡äº†ï¼Œå“ˆå“ˆã€‚â€</li>
<li>â€œç®¡ç†å·¥ä½œå¤ªçç¢ï¼Œæ„Ÿè§‰ç¦»æŠ€æœ¯è¶Šæ¥è¶Šè¿œï¼Œç°åœ¨ç‰¹åˆ«æ‹…å¿ƒä¸ªäººå‘å±•ã€‚â€</li>
<li>â€œç®¡ç†æ˜¯ä¸€ä¸ªæœ‰è¿äººæ€§çš„äº‹æƒ…ï¼Œè‡ªå·±çš„æŠ€æœ¯ä¸“ä¸šæ€§è¶Šæ¥è¶Šå·®ï¼Œä½†æ˜¯å´è¦å¸¦é¢†æ•´ä¸ªå›¢é˜Ÿã€‚â€</li>
<li>â€œåæ­£æƒ³ä¸æ˜ç™½ï¼Œå°±å¤šæŠ•å…¥ä¸€äº›æ—¶é—´æ¥å…¼é¡¾æŠ€æœ¯å’Œç®¡ç†å§ï¼â€</li>
</ul>
<p>æ˜¯å¦è¦è½¬å›å»åšæŠ€æœ¯ï¼Œè¿˜æ˜¯çœ‹è‡ªå·±çš„åˆè¡·ï¼ˆå†…é©±/å¤–é©±ï¼‰ï¼Œå¦‚æœç®¡ç†å·¥ä½œç¡®å®ä¸æ˜¯è‡ªå·±æƒ³è¦çš„ï¼Œé‚£ä¹ˆå›å»ç»§ç»­åšå·¥ç¨‹å¸ˆä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚ä½†å†…å¿ƒå¦‚æœæ˜¯æƒ³å¾€ç®¡ç†æ–¹å‘èµ°ï¼Œåªæ˜¯åˆšå¼€å§‹æ—¶æ„Ÿåˆ°ç„¦è™‘ç­‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡<strong>æå‡å¯¹æŠ€æœ¯ç®¡ç†çš„è®¤çŸ¥</strong>æ¥è§£å†³ï¼š</p>
<ol>
<li>åšæŠ€æœ¯ç®¡ç†å¹¶æ²¡æœ‰æ”¾å¼ƒæŠ€æœ¯ï¼Œè€Œæ˜¯æ¢äº†ä¸€ç§æ–¹å¼å»å­¦ä¹ å’Œè¿ç”¨æŠ€æœ¯ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¾å¼ƒäº†ç¼–ç è€Œå·²ï¼š<ol>
<li>è¦æŠŠæŠ€æœ¯æåˆ°æ›´é«˜è§†è§’æ¥çœ‹å¾…ï¼šä»ç›®æ ‡å’Œè¯„ä¼°è§’åº¦å»çœ‹å¾…æŠ€æœ¯ã€å€ŸåŠ©å›¢é˜Ÿæˆå‘˜çš„æŠ€æœ¯æ¥å®ç°æ›´å¤§çš„ç›®æ ‡ï¼›</li>
<li>æ¢ä¸€ç§å­¦ä¹ æ–¹å¼æ¥æŒæ¡æŠ€æœ¯ï¼š<strong>å»ºç«‹å­¦ä¹ æœºåˆ¶ã€è¯·æ•™ä¸“å®¶ã€å»ºç«‹å…±åˆ›æœºåˆ¶ã€‚</strong></li>
</ol>
</li>
<li>åœ¨åšæŠ€æœ¯ç®¡ç†è¿‡ç¨‹ä¸­ï¼Œåªè¦æ„¿æ„å»å­¦ä¹ ï¼ŒæŒç»­ä¸æ–­åœ°å®è·µå’Œç»ƒä¹ ï¼Œä¸€å®šä¼šæœ‰ä¸°å¯Œçš„æ”¶è·ï¼Œä»¥åä¹Ÿèƒ½é åšæŠ€æœ¯ç®¡ç†â€œåƒé¥­â€ï¼›</li>
<li>å·¥ä½œâ€œå‡ç»´â€å·²ä¸å¯é¿å…ï¼Œå³ä¾¿ä¸åšæŠ€æœ¯ç®¡ç†è€…ï¼Œè¦åšå¥½ä¸€ä½æŠ€æœ¯å¸¦å¤´äººæˆ–æ¶æ„å¸ˆï¼Œæˆ–å¤šæˆ–å°‘ä¹Ÿè¦æ‡‚ç®¡ç†ï¼ˆå…¨å±€è§†é‡ã€è§„åˆ’èƒ½åŠ›ã€ç»“æœå¯¼å‘æ„è¯†ã€é¡¹ç›®ç®¡ç†æ–¹æ³•ã€æ²Ÿé€šåè°ƒèƒ½åŠ›ç­‰ï¼‰ï¼Œé‚£ä¸å¦‚å¥‹åŠ›å‘å‰ï¼›</li>
<li>å¯ä»¥åšæŠ€æœ¯å‹ç®¡ç†è€…ï¼Œç»“åˆè‡ªå·±çš„å…´è¶£å’Œä¼˜åŠ¿ï¼Œæ‰“é€ å‡ºè‡ªå·±çš„ç‹¬ç‰¹ç®¡ç†é£æ ¼ï¼›</li>
<li>åšæŠ€æœ¯ç®¡ç†å¹¶æ²¡æœ‰æ”¾å¼ƒæŠ€æœ¯ï¼Œè€Œä¸”ä¹Ÿä¸èƒ½æ”¾å¼ƒæŠ€æœ¯ï¼Œæ”¾å¼ƒäº†æŠ€æœ¯æ˜¯åšä¸å¥½æŠ€æœ¯ç®¡ç†çš„ï¼›</li>
<li>æŠ€æœ¯è½¬ç®¡ç†å¹¶ä¸æ„å‘³ç€ä¸å…³å¿ƒæŠ€æœ¯ï¼Œåªæ˜¯æ›´å…³å¿ƒæ›´å¤§çš„ç›®æ ‡å’Œæ•´ä½“ç»“æœäº†ã€‚</li>
</ol>
]]></content>
      <categories>
        <category>è¯»ä¹¦å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>Solving Mac System Port Occupation Issues</title>
    <url>/2024/08/05/solving-macos-port-occupation-issues/</url>
    <content><![CDATA[<p>Port occupation issues on a Mac system can be frustrating, especially when you need specific ports for applications or services. Hereâ€™s a guide on how to troubleshoot and resolve these problems effectively:</p>
<h2 id="Understanding-Port-Occupation"><a href="#Understanding-Port-Occupation" class="headerlink" title="Understanding Port Occupation"></a>Understanding Port Occupation</h2><p>Ports on your Mac are pathways through which network and internet data travel. When a port is occupied, it means that some application or service is currently using that port, preventing other applications from using it simultaneously.</p>
<h2 id="Steps-to-Resolve-Port-Occupation-Problems"><a href="#Steps-to-Resolve-Port-Occupation-Problems" class="headerlink" title="Steps to Resolve Port Occupation Problems:"></a>Steps to Resolve Port Occupation Problems:</h2><ol>
<li><p><strong>Identify the Occupying Application:</strong></p>
<ul>
<li><p>Use the Terminal to check which application or process is using the port. You can do this using the <code>lsof</code> (list open files) command combined with <code>grep</code> to filter results. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo lsof -i :&lt;port_number&gt; | grep LISTEN</span><br></pre></td></tr></table></figure></li>
<li><p>Replace <code>&lt;port_number&gt;</code> with the specific port number youâ€™re investigating.</p>
</li>
</ul>
</li>
<li><p><strong>Terminate the Process:</strong></p>
<ul>
<li><p>Once you identify the process using the port, you can terminate it using the <code>kill</code> command followed by the process ID (PID). For example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo kill -9 &lt;PID&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>Replace <code>&lt;PID&gt;</code> with the process ID you obtained from the <code>lsof</code> command.</p>
</li>
</ul>
</li>
<li><p><strong>Check System and Network Settings:</strong></p>
<ul>
<li>Sometimes, ports might be occupied due to system configurations or network settings. Review network configurations and firewall settings to ensure they are not inadvertently blocking or redirecting traffic on the required ports.</li>
</ul>
</li>
<li><p><strong>Use Activity Monitor:</strong></p>
<ul>
<li>The Activity Monitor application can also help identify processes using network resources, including ports. Look under the Network tab in Activity Monitor to view which processes are using network connections.</li>
</ul>
</li>
<li><p><strong>Restart Applications or Services:</strong></p>
<ul>
<li>If terminating the process frees up the port but disrupts necessary functionality, consider restarting the application or service gracefully. This often resolves port occupation without compromising ongoing tasks.</li>
</ul>
</li>
<li><p><strong>Consult Application Documentation:</strong></p>
<ul>
<li>Some applications might have specific instructions or settings related to port usage. Refer to their documentation or support resources for guidance on configuring ports or resolving conflicts.</li>
</ul>
</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Resolving port occupation issues on a Mac involves identifying the source of the conflict and taking appropriate action, whether itâ€™s terminating processes, adjusting settings, or restarting services. By following these steps, you can effectively manage and troubleshoot port issues, ensuring smooth operation of your applications and services.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
  </entry>
  <entry>
    <title>Getting Started with YAML</title>
    <url>/2024/08/27/yaml-tutorial/</url>
    <content><![CDATA[<p>If youâ€™re working with configuration files, data serialization, or DevOps tools, you might have encountered <strong>YAML</strong> (YAML Ainâ€™t Markup Language). YAML is popular for its simplicity and readability, making it an excellent choice for defining configuration files. In this blog post, weâ€™ll introduce you to YAML, explain its syntax, and provide examples to help you get started.</p>
<h2 id="What-is-YAML"><a href="#What-is-YAML" class="headerlink" title="What is YAML?"></a>What is YAML?</h2><p>YAML (pronounced /ËˆjÃ¦mÉ™l/) is a human-readable data serialization format that is often used for configuration files and data exchange between programming languages. Itâ€™s designed to be easily readable and writable by humans, which is why itâ€™s favored in many domains, including DevOps (e.g., Ansible, Kubernetes, Docker Compose).</p>
<p>Its basic syntax rules are:</p>
<ol>
<li>Case-sensitive.</li>
<li>Uses indentation to represent hierarchical relationships.</li>
<li>Tabs are not allowed for indentation; only spaces are permitted.</li>
<li>The number of spaces in indentation doesnâ€™t matter, as long as elements at the same level are aligned.</li>
<li>â€˜#â€™ indicates a comment; everything from this character to the end of the line is ignored by the parser.</li>
</ol>
<p>YAML supports three types of data structures:</p>
<ol>
<li>Objects: Collections of key-value pairs, also known as mappings, hashes, or dictionaries.</li>
<li>Arrays: Ordered lists of values, also called sequences or lists.</li>
<li>Scalars: Single, indivisible values.</li>
</ol>
<p>Letâ€™s explore each of these data structures in more detail.</p>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p>In YAML, key-value pairs are represented using a colon(<code>:</code>).<br>For example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Johnson</span> <span class="string">Lin</span></span><br><span class="line"><span class="attr">age:</span> <span class="number">28</span></span><br></pre></td></tr></table></figure>

<ul>
<li>The basic building block of YAML is a key-value pair, where a key is followed by a colon <code>:</code> and a value.</li>
<li>Indentation (usually 2 spaces) defines nested structures.</li>
</ul>
<p>This translates to JavaScript as:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;Johnson Lin&#x27;</span>, <span class="attr">age</span>: <span class="number">28</span> &#125;</span><br></pre></td></tr></table></figure>
<p>YAML also supports another format where all key-value pairs are written as an inline object:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">person:</span> &#123; <span class="attr">name:</span> <span class="string">Johnson</span> <span class="string">Lin</span>, <span class="attr">age:</span> <span class="number">28</span> &#125;</span><br></pre></td></tr></table></figure>
<p>In JavaScript, this becomes:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">person</span>: &#123; <span class="attr">name</span>: <span class="string">&#x27;Johnson Lin&#x27;</span>, <span class="attr">age</span>: <span class="number">28</span> &#125; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p>A list of items starting with hyphens forms an array:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">Apple</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Banana</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Cherry</span></span><br></pre></td></tr></table></figure>

<ul>
<li>YAML lists are indicated by a hyphen <code>-</code>, with each list item on a new line and indented.</li>
</ul>
<p>In JavaScript, this translates to:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[ <span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Banana&#x27;</span>, <span class="string">&#x27;Cherry&#x27;</span> ]</span><br></pre></td></tr></table></figure>
<p>If an array is a sub-member of a data structure, it can be indented below the item:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">Apple</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Banana</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Cherry</span></span><br></pre></td></tr></table></figure>
<p>This becomes in JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[ [ <span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Banana&#x27;</span>, <span class="string">&#x27;Cherry&#x27;</span> ] ]</span><br></pre></td></tr></table></figure>
<p>Arrays can also be represented inline:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fruits:</span> [<span class="string">Apple</span>, <span class="string">Banana</span>, <span class="string">Cherry</span>]</span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">fruits</span>: [ <span class="string">&#x27;Apple&#x27;</span>, <span class="string">&#x27;Banana&#x27;</span>, <span class="string">&#x27;Cherry&#x27;</span> ] &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Composite-Structures"><a href="#Composite-Structures" class="headerlink" title="Composite Structures"></a>Composite Structures</h2><p>Objects and arrays can be combined to form complex structures:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">application:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">MyApp</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">UserService</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">OrderService</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ProductService</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript, this looks like:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">services</span>: [ <span class="string">&#x27;UserService&#x27;</span>, <span class="string">&#x27;OrderService&#x27;</span>, <span class="string">&#x27;ProductService&#x27;</span> ],</span><br><span class="line">  <span class="attr">application</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;MyApp&#x27;</span>,</span><br><span class="line">    <span class="attr">version</span>: <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Scalars"><a href="#Scalars" class="headerlink" title="Scalars"></a>Scalars</h2><p>Scalars are the most basic, indivisible values. In JavaScript, these include:</p>
<ul>
<li>Strings</li>
<li>Booleans</li>
<li>Integers</li>
<li>Floats</li>
<li>Null</li>
<li>Dates</li>
</ul>
<p>Scalars are represented directly as literals:<br>For example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">number:</span> <span class="number">20.32</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">number</span>: <span class="number">20.32</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Booleans are represented as <code>true</code> or <code>false</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">isNumber:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">isNumber</span>: <span class="literal">true</span> &#125;</span><br></pre></td></tr></table></figure>
<p><code>null</code> is represented as <code>~</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">~</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">image</span>: <span class="literal">null</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Dates use the ISO 8601 format:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">iso8601:</span> <span class="number">2024-08-27T02:29:19.10-08:00</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">iso8601</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2024-08-27T02:29:19.10-08:00&#x27;</span>) &#125;</span><br></pre></td></tr></table></figure>
<p>Dates in ISO 8601 format can also be represented by year, month, and day:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">date:</span> <span class="number">2024-08-27</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">date</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2024-08-27&#x27;</span>) &#125;</span><br></pre></td></tr></table></figure>
<p>YAML allows type coercion with double exclamation marks:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">n:</span> <span class="type">!!str</span> <span class="number">7890</span></span><br><span class="line"><span class="attr">f:</span> <span class="type">!!str</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">n</span>: <span class="string">&#x27;7890&#x27;</span>, <span class="attr">f</span>: <span class="string">&#x27;true&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h2><p>Strings do not require quotes unless they contain special characters or whitespace.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">str:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">a</span> <span class="string">string</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">str</span>: <span class="string">&#x27;This is a string&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>If a string contains spaces or special characters, it needs to be enclosed in quotes.<br>Example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">str: &#x27;Johnson: Hello, World!&#x27;</span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">str</span>: <span class="string">&#x27;Johnson: Hello, World!&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Both single and double quotes can be used, but double quotes do not escape special characters.<br>Examples:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">s1:</span> <span class="string">&#x27;Content\nString&#x27;</span></span><br><span class="line"><span class="attr">s2:</span> <span class="string">&quot;Content\nString&quot;</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">s1</span>: <span class="string">&#x27;Content\\nString&#x27;</span>, <span class="attr">s2</span>: <span class="string">&#x27;Content\nString&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>To escape single quotes within single-quoted strings, use two single quotes.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">str:</span> <span class="string">&#x27;It&#x27;</span><span class="string">&#x27;s cloudy today.&#x27;</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">str</span>: <span class="string">&#x27;It\&#x27;s cloudy today.&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Strings can span multiple lines. From the second line, there must be a single space indentation. Newlines are replaced with spaces.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">str:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">a</span></span><br><span class="line">  <span class="string">multi-line</span></span><br><span class="line">  <span class="string">string</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">str</span>: <span class="string">&#x27;This is a multi-line string&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>Multi-line strings can preserve newlines using <code>|</code> or fold newlines using <code>&gt;</code>.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">this:</span> <span class="string">|</span></span><br><span class="line"><span class="string">  Foo</span></span><br><span class="line"><span class="string">  Bar</span></span><br><span class="line"><span class="string"></span><span class="attr">that:</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">  Foo</span></span><br><span class="line"><span class="string">  Bar</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">this</span>: <span class="string">&#x27;Foo\nBar\n&#x27;</span>, <span class="attr">that</span>: <span class="string">&#x27;Foo Bar\n&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p><code>+</code> keeps trailing newlines, while <code>-</code> removes them.<br>Examples:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">s1:</span> <span class="string">|</span></span><br><span class="line"><span class="string">  Foo</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="attr">s2:</span> <span class="string">|+</span></span><br><span class="line"><span class="string">  Foo</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="attr">s3:</span> <span class="string">|-</span></span><br><span class="line">  <span class="string">Foo</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">s1</span>: <span class="string">&#x27;Foo\n&#x27;</span>, <span class="attr">s2</span>: <span class="string">&#x27;Foo\n\n\n&#x27;</span>, <span class="attr">s3</span>: <span class="string">&#x27;Foo&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<p>HTML tags can be included in strings.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">message:</span> <span class="string">|</span></span><br><span class="line"></span><br><span class="line">  <span class="string">&lt;p</span> <span class="string">style=&quot;color:</span> <span class="string">red&quot;&gt;</span></span><br><span class="line">    <span class="string">Paragraph</span></span><br><span class="line">  <span class="string">&lt;/p&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123; <span class="attr">message</span>: <span class="string">&#x27;\n&lt;p style=&quot;color: red&quot;&gt;\n  Paragraph\n&lt;/p&gt;\n&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p>Comments in YAML begin with a hash <code>#</code> and can be placed anywhere in the file.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># This is a comment</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">Johnson</span> <span class="string">Lin</span>  <span class="comment"># Inline comment</span></span><br></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>Anchor (<code>&amp;</code>) and alias (<code>*</code>) can be used for references.<br>Example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">defaults:</span> <span class="meta">&amp;defaults</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line"></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_test</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br></pre></td></tr></table></figure>
<p>Equivalent JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">defaults</span>: &#123;</span><br><span class="line">  <span class="attr">adapter</span>: <span class="string">&#x27;postgres&#x27;</span>,</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">development</span>: &#123;</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;myapp_development&#x27;</span>,</span><br><span class="line">  <span class="attr">adapter</span>: <span class="string">&#x27;postgres&#x27;</span>,</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr">test</span>: &#123;</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;myapp_test&#x27;</span>,</span><br><span class="line">  <span class="attr">adapter</span>: <span class="string">&#x27;postgres&#x27;</span>,</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>&amp;</code> creates an anchor (defaults), <code>&lt;&lt;</code> merges into the current data, and <code>*</code> references the anchor.<br>Another example:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&amp;showell</span> <span class="string">Steve</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Clark</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Brian</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Oren</span></span><br><span class="line"><span class="bullet">-</span> <span class="meta">*showell</span></span><br></pre></td></tr></table></figure>
<p>In JavaScript:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[ <span class="string">&#x27;Steve&#x27;</span>, <span class="string">&#x27;Clark&#x27;</span>, <span class="string">&#x27;Brian&#x27;</span>, <span class="string">&#x27;Oren&#x27;</span>, <span class="string">&#x27;Steve&#x27;</span> ]</span><br></pre></td></tr></table></figure>

<h2 id="Functions-and-Regular-Expressions"><a href="#Functions-and-Regular-Expressions" class="headerlink" title="Functions and Regular Expressions"></a>Functions and Regular Expressions</h2><p>The <a href="https://github.com/nodeca/js-yaml">JS-YAML</a> library allows functions and regular expressions to be converted to strings.<br>Example <code>example.yml</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fn:</span> <span class="string">function</span> <span class="string">()</span> &#123; <span class="string">return</span> <span class="number">1</span> &#125;</span><br><span class="line"><span class="attr">reg:</span> <span class="string">/test/</span></span><br></pre></td></tr></table></figure>
<p>Parsing code:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> yaml = <span class="built_in">require</span>(<span class="string">&#x27;js-yaml&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> fs   = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> doc = yaml.<span class="title function_">load</span>(fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./example.yml&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>));</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(doc);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Converting JavaScript objects back to YAML:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> yaml = <span class="built_in">require</span>(<span class="string">&#x27;js-yaml&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> fs   = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="number">1</span> &#125;,</span><br><span class="line">  <span class="attr">reg</span>: <span class="regexp">/test/</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;./example.yml&#x27;</span>, yaml.<span class="title function_">dump</span>(obj), <span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="YAML-vs-JSON"><a href="#YAML-vs-JSON" class="headerlink" title="YAML vs. JSON"></a>YAML vs. JSON</h2><p>YAML and JSON are both data serialization formats, but YAML is often considered more human-friendly due to its clean syntax. For example, YAML doesnâ€™t require curly braces <code>&#123;&#125;</code>, square brackets <code>[]</code>, or commas <code>,</code>. This makes YAML files easier to write and maintain, especially when working with complex configurations.</p>
<h2 id="YAML-Example"><a href="#YAML-Example" class="headerlink" title="YAML Example"></a>YAML Example</h2><p>Hereâ€™s a more detailed example that showcases different YAML features:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># YAML configuration file example</span></span><br><span class="line"><span class="attr">application:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">MyApp</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">1.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">environment:</span> <span class="string">production</span></span><br><span class="line"></span><br><span class="line"><span class="attr">database:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">5432</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">secret</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">web</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">db</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres:latest</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">POSTGRES_USER:</span> <span class="string">admin</span></span><br><span class="line">      <span class="attr">POSTGRES_PASSWORD:</span> <span class="string">secret</span></span><br></pre></td></tr></table></figure>
<p>In this example:</p>
<ul>
<li><strong>application:</strong> is a dictionary containing the appâ€™s name and version.</li>
<li><strong>environment:</strong> is a simple key-value pair.</li>
<li><strong>database:</strong> is another dictionary defining database configuration.</li>
<li><strong>services:</strong> is a list of dictionaries, each describing a service with its configuration.</li>
</ul>
<h2 id="Common-YAML-Syntax-Errors"><a href="#Common-YAML-Syntax-Errors" class="headerlink" title="Common YAML Syntax Errors"></a>Common YAML Syntax Errors</h2><ul>
<li><strong>Indentation Errors:</strong> YAML relies on consistent indentation. Make sure you use spaces (not tabs) and maintain the same number of spaces for each level.</li>
<li><strong>Colons and Spaces:</strong> Ensure there is a space after the colon in key-value pairs (e.g., <code>key: value</code>).</li>
<li><strong>Special Characters:</strong> If a value contains special characters (e.g., <code>:</code> or <code>#</code>), wrap it in quotes.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>YAML is a powerful, yet simple, data serialization format thatâ€™s widely used for configuration files and data exchange. Its clear and concise syntax makes it easy to write and maintain, especially for complex structures. As you start working with YAML, remember to focus on proper indentation and structure to avoid common syntax errors.</p>
<p><strong>Pro Tip:</strong> Use online tools like <a href="https://www.yamllint.com/">YAML Lint</a> to validate your YAML files and catch errors early.</p>
<p>Now that youâ€™ve got the basics down, youâ€™re ready to start writing YAML files for your projects. Happy configuring! </p>
<p>Reference Links:<br><a href="https://yaml.org/spec/1.2.2/">YAML 1.2 Specification</a><br><a href="https://en.wikipedia.org/wiki/YAML">YAML on Wikipedia</a><br><a href="https://yaml.org/YAML_for_ruby.html">YAML for Ruby</a></p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>YAML</tag>
      </tags>
  </entry>
  <entry>
    <title>Copying and Pasting Content and Dragging Files Between VMware Virtual Machines and the Host System</title>
    <url>/2024/08/20/copying-andpasting-content-and-dragging-files-between-vmware-virtual-machines-and-the-host-system/</url>
    <content><![CDATA[<p>After properly installing a Linux virtual machine in VMwareâ€”using Ubuntu as an example (though the process is similar for other Linux or Windows systems)â€”you should be able to copy, paste, and drag content in both directions with the default settings. If you encounter issues with copying or dragging, itâ€™s likely due to VMware Tools not being installed correctly. Below, we summarize the potential scenarios and provide two methods for manually installing VMware Tools.</p>
<h2 id="VMware-Tools-Installation-Unsuccessful"><a href="#VMware-Tools-Installation-Unsuccessful" class="headerlink" title="VMware Tools Installation Unsuccessful"></a>VMware Tools Installation Unsuccessful</h2><p>Open VMware and click on â€œVMâ€ in the main interface. If the â€œInstall VMware Toolsâ€ menu is grayed out, it indicates that VMware Tools is not installed successfully.<br><img src="/image/2024/08/2024082001.png" alt="image.png"><br>Once VMware Tools is successfully installed, the interface will display an option to â€œReinstall VMware Toolsâ€ as shown below.<br><img src="/image/2024/08/2024082002.png" alt="image.png"><br><strong>How to resolve this issue:</strong></p>
<ol>
<li>Shut down the virtual machine, then go to the â€œVMâ€ menu and open the settings.</li>
</ol>
<p><img src="/image/2024/08/2024082003.png" alt="image.png"></p>
<ol start="2">
<li>Open the virtual machine settings interface as shown below. In the settings, first remove the floppy drive (since floppy disks are obsolete, you can delete this option). Then, select the CD/DVD drive, and under â€œConnection,â€ set it to â€œAuto detect,â€ as illustrated in the image.</li>
</ol>
<p><img src="/image/2024/08/2024082004.png" alt="Remove Floppy"><br><img src="/image/2024/08/2024082005.png" alt="Set &quot;Connection,&quot; to &quot;Auto detect.&quot;"></p>
<ol start="3">
<li>Start the virtual machine, and the previously greyed-out option will become active, allowing you to proceed with the installation. Then, click it to install VMware Tools.</li>
</ol>
<p><img src="/image/2024/08/2024082006.png" alt="Start the virtual machine"><br><img src="/image/2024/08/2024082007.png" alt="&quot;Install VMware Tools&quot; option is enabled."></p>
<h2 id="Still-Canâ€™t-Copy-After-Installing-VMware-Tools"><a href="#Still-Canâ€™t-Copy-After-Installing-VMware-Tools" class="headerlink" title="Still Canâ€™t Copy After Installing VMware Tools?"></a>Still Canâ€™t Copy After Installing VMware Tools?</h2><ol>
<li>Open the â€œVMâ€ menu, click on â€œSettings,â€ and then switch to the â€œOptionsâ€ tab in the settings window, as shown in the image below. Check the two options highlighted in red.</li>
</ol>
<p><img src="/image/2024/08/2024082008.png" alt="image.png"></p>
<ol start="2">
<li>If VMware Tools is correctly installed and the settings shown above are configured, but you still canâ€™t copy, it may be due to a corrupted or mismatched version of VMware Tools. Try reinstalling or upgrading VMware Tools. Note that VMware Tools is a standalone software that can be installed and updated separately.</li>
</ol>
<h2 id="Manual-Installation-of-VMware-Tools-Method-1"><a href="#Manual-Installation-of-VMware-Tools-Method-1" class="headerlink" title="Manual Installation of VMware Tools: Method 1"></a>Manual Installation of VMware Tools: Method 1</h2><p>This method involves installing VMware Tools directly from the internet using Ubuntuâ€™s command line. Open a terminal window and run the following commands. Before proceeding, ensure that the virtual machine has internet access and can connect to the software update servers. Use the following commands:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get autoremove open-vm-tools</span><br><span class="line"><span class="built_in">sudo</span> apt-get install open-vm-tools</span><br><span class="line"><span class="built_in">sudo</span> apt-get install open-vm-tools-desktop</span><br></pre></td></tr></table></figure>
<h2 id="Manual-Installation-of-VMware-Tools-Method-2"><a href="#Manual-Installation-of-VMware-Tools-Method-2" class="headerlink" title="Manual Installation of VMware Tools: Method 2"></a>Manual Installation of VMware Tools: Method 2</h2><ol>
<li>Open VMware, go to the â€œVMâ€ menu, and select â€œReinstall VMware Tools,â€. Then VMware will automatically create a virtual CD containing the VMware Tools software. A notification will appear at the bottom of the VMware interface, indicating that the virtual CD has been successfully loaded, as shown below.</li>
</ol>
<p><img src="/image/2024/08/2024082009.png" alt="image.png"></p>
<ol start="2">
<li>In Ubuntu, open the file manager and navigate to the VMware Tools virtual disk.</li>
</ol>
<p><img src="/image/2024/08/2024082010.png" alt="image.png"></p>
<ol start="3">
<li>Locate and select the <code>VMwareTools-xx.x.xx-xxxxxxxx.tar.gz</code> file in the directory.</li>
</ol>
<p><img src="/image/2024/08/2024082011.png" alt="image.png"></p>
<ol start="4">
<li>For convenience, copy this file to your desktop. In the file manager, select â€œDesktopâ€ and then click â€œSelectâ€ at the bottom right.</li>
</ol>
<p><img src="/image/2024/08/2024082012.png" alt="image.png"></p>
<ol start="5">
<li>Navigate to the â€œDesktopâ€ directory, right-click on the <code>VMwareTools-xx.x.xx-xxxxxxxx.tar.gz</code> file, and choose â€œExtract Hereâ€ from the context menu to unzip the file on the desktop.</li>
</ol>
<p><img src="/image/2024/08/2024082013.png" alt="image.png"></p>
<ol start="6">
<li>Return to the desktop and open a terminal window, as shown below. Navigate to the <code>vmware-tools-distrib</code> directory and run the <code>vmware-install.pl</code> script:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> ./vmware-install.pl</span><br></pre></td></tr></table></figure>
Enter your administrator password when prompted, and the installation will proceed. You may need to respond with â€œyesâ€ to some prompts, as shown below.<br><img src="/image/2024/08/2024082014.png" alt="image.png"></li>
</ol>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>After the installation is complete, itâ€™s best to restart the virtual machine. Once VMware Tools is installed and properly configured, youâ€™ll be able to copy and paste content, including files, between the host and the virtual machine.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>VMware</tag>
      </tags>
  </entry>
  <entry>
    <title>Differences Between the return and exit Commands in Bash</title>
    <url>/2024/08/30/differences-between-the-return-and-exit-commands-in-bash/</url>
    <content><![CDATA[<p>When working with Bash scripts, understanding the nuances of commands like <code>return</code> and <code>exit</code> is crucial for effective scripting. Both commands are used to control the flow of execution, but they serve different purposes and are used in distinct contexts. In this blog post, weâ€™ll explore the differences between <code>return</code> and <code>exit</code>, when to use each, and how they affect your Bash scripts.</p>
<h2 id="Understanding-the-return-Command"><a href="#Understanding-the-return-Command" class="headerlink" title="Understanding the return Command"></a><strong>Understanding the <strong><code>return</code></strong> Command</strong></h2><p>The <code>return</code> command is used within a Bash function to exit the function and optionally pass a value back to the caller. Itâ€™s important to note that <code>return</code> is only valid within functions; using it outside of a function will result in an error.</p>
<p><strong>Key Points About <strong><code>return</code></strong>:</strong></p>
<ul>
<li><strong>Context</strong>: Only usable within functions.</li>
<li><strong>Purpose</strong>: Exits the function and returns a status code (an integer between 0 and 255).</li>
<li><strong>Impact</strong>: Does not terminate the entire script; only ends the functionâ€™s execution.</li>
<li><strong>Usage Example</strong>:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">my_function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Inside the function&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 42</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">my_function</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Function returned: $?&quot;</span>  <span class="comment"># Will print &quot;Function returned: 42&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Understanding-the-exit-Command"><a href="#Understanding-the-exit-Command" class="headerlink" title="Understanding the exit Command"></a><strong>Understanding the <strong><code>exit</code></strong> Command</strong></h2><p>The <code>exit</code> command is used to terminate the execution of a Bash script. When called, it stops the script entirely and returns a status code to the shell. Unlike <code>return</code>, <code>exit</code> can be used anywhere in the script, not just within functions.</p>
<p><strong>Key Points About <strong><code>exit</code></strong>:</strong></p>
<ul>
<li><strong>Context</strong>: Usable anywhere in the script.</li>
<li><strong>Purpose</strong>: Terminates the entire script and returns a status code to the shell.</li>
<li><strong>Impact</strong>: Ends the scriptâ€™s execution immediately.</li>
<li><strong>Usage Example</strong>:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This script will now exit.&quot;</span></span><br><span class="line"><span class="built_in">exit</span> 1</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This will not be printed.&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Comparison-Between-return-and-exit"><a href="#Comparison-Between-return-and-exit" class="headerlink" title="Comparison Between return and exit"></a>Comparison Between <code>return</code> and <code>exit</code></h2><table>
<thead>
<tr>
<th>Feature</th>
<th><code>return</code></th>
<th><code>exit</code></th>
</tr>
</thead>
<tbody><tr>
<td><strong>Usable Within</strong></td>
<td>Functions only</td>
<td>Anywhere in the script</td>
</tr>
<tr>
<td><strong>Purpose</strong></td>
<td>Exit a function</td>
<td>Terminate the script</td>
</tr>
<tr>
<td><strong>Return Value</strong></td>
<td>Status code to function caller</td>
<td>Status code to the shell</td>
</tr>
<tr>
<td><strong>Script Impact</strong></td>
<td>Continues script after function</td>
<td>Ends script execution entirely</td>
</tr>
</tbody></table>
<h2 id="When-to-Use-return-vs-exit"><a href="#When-to-Use-return-vs-exit" class="headerlink" title="When to Use return vs. exit"></a>When to Use <code>return</code> vs. <code>exit</code></h2><ul>
<li>**Use **<code>return</code> when you want to exit from a function and continue executing the rest of the script. This is particularly useful in modular scripts where functions are used to organize code.</li>
<li>**Use **<code>exit</code> when you want to stop the execution of the entire script, typically due to an error or when the script has completed its task.</li>
</ul>
<h2 id="Common-Mistakes-and-Tips"><a href="#Common-Mistakes-and-Tips" class="headerlink" title="Common Mistakes and Tips"></a>Common Mistakes and Tips</h2><ul>
<li><strong>Using <strong><code>return</code></strong> outside of a function</strong>: This will result in a syntax error. Always ensure <code>return</code> is used within a function.</li>
<li><strong>Accidental use of <strong><code>exit</code></strong> in functions</strong>: If <code>exit</code> is used within a function, it will terminate the entire script, not just the function. Be cautious when using <code>exit</code> in modular scripts.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a><strong>Conclusion</strong></h2><p>Understanding the differences between <code>return</code> and <code>exit</code> in Bash is essential for writing efficient and error-free scripts. Remember that <code>return</code> is used within functions to pass control and a status code back to the caller, while <code>exit</code> is used to terminate the entire script and return a status code to the shell. Using these commands correctly will help you write more robust and maintainable Bash scripts.<br>Feel free to experiment with both commands in your scripts to see how they behave in different scenarios.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>A Deep Dive into the apt Command: Linux Package Management Simplified</title>
    <url>/2024/08/16/a-deep-dive-into-the-apt-command-linux-package-management-simplified/</url>
    <content><![CDATA[<p>The <code>apt</code> command is a powerful tool used for managing packages on Debian-based Linux distributions such as Ubuntu. It simplifies the process of installing, updating, and removing software packages. Whether youâ€™re a beginner or an experienced user, mastering the <code>apt</code> command can greatly enhance your Linux experience. In this guide, weâ€™ll explore some of the most commonly used <code>apt</code> commands with practical examples.</p>
<h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt [options] [<span class="built_in">command</span>] [package ...]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Options</strong>: Optional settings, such as -h (help), -y (automatically answer â€œyesâ€ to prompts), -q (quiet mode, which suppresses the installation output), and others.</li>
<li><strong>Command</strong>: The operation to perform.</li>
<li><strong>Package</strong>: The name(s) of the package(s) to install.<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="h-help"><a href="#h-help" class="headerlink" title="-h, --help"></a><code>-h</code>, <code>--help</code></h3>Display an overview of functionalities, and related help.<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt -h</span><br></pre></td></tr></table></figure>
or<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>
Output:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt -h</span><br><span class="line">apt 2.0.9 (amd64)</span><br><span class="line">Usage: apt [options] <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line">apt is a commandline package manager and provides commands <span class="keyword">for</span></span><br><span class="line">searching and managing as well as querying information about packages.</span><br><span class="line">It provides the same functionality as the specialized APT tools,</span><br><span class="line">like apt-get and apt-cache, but enables options more suitable <span class="keyword">for</span></span><br><span class="line">interactive use by default.</span><br><span class="line"></span><br><span class="line">Most used commands:</span><br><span class="line">  list - list packages based on package names</span><br><span class="line">  search - search <span class="keyword">in</span> package descriptions</span><br><span class="line">  show - show package details</span><br><span class="line">  install - install packages</span><br><span class="line">  reinstall - reinstall packages</span><br><span class="line">  remove - remove packages</span><br><span class="line">  autoremove - Remove automatically all unused packages</span><br><span class="line">  update - update list of available packages</span><br><span class="line">  upgrade - upgrade the system by installing/upgrading packages</span><br><span class="line">  full-upgrade - upgrade the system by removing/installing/upgrading packages</span><br><span class="line">  edit-sources - edit the <span class="built_in">source</span> information file</span><br><span class="line">  satisfy - satisfy dependency strings</span><br><span class="line"></span><br><span class="line">See apt(8) <span class="keyword">for</span> more information about the available commands.</span><br><span class="line">Configuration options and syntax is detailed <span class="keyword">in</span> apt.conf(5).</span><br><span class="line">Information about how to configure sources can be found <span class="keyword">in</span> sources.list(5).</span><br><span class="line">Package and version choices can be expressed via apt_preferences(5).</span><br><span class="line">Security details are available <span class="keyword">in</span> apt-secure(8).</span><br><span class="line">                                        This APT has Super Cow Powers.</span><br></pre></td></tr></table></figure>
<h3 id="v-version"><a href="#v-version" class="headerlink" title="-v, --version"></a><code>-v</code>, <code>--version</code></h3>Display the current version number.<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt -v</span><br></pre></td></tr></table></figure>
or<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt --version</span><br></pre></td></tr></table></figure>
Output:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ apt --version</span><br><span class="line">apt 2.0.9 (amd64)</span><br></pre></td></tr></table></figure>
<h2 id="Most-Used-Commands"><a href="#Most-Used-Commands" class="headerlink" title="Most Used Commands"></a>Most Used Commands</h2><h3 id="1-Updating-Package-Lists"><a href="#1-Updating-Package-Lists" class="headerlink" title="1. Updating Package Lists"></a>1. <strong>Updating Package Lists</strong></h3>Before installing or upgrading any packages, itâ€™s a good practice to update your package lists. This ensures you get the latest versions and security patches.<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Explanation</strong>: This command downloads the package lists from the repositories configured on your system. It does not upgrade any packages but prepares your system for installation or upgrade tasks.</p>
<h3 id="2-Upgrading-Installed-Packages"><a href="#2-Upgrading-Installed-Packages" class="headerlink" title="2. Upgrading Installed Packages"></a>2. <strong>Upgrading Installed Packages</strong></h3><p>To upgrade all the installed packages on your system to their latest versions, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt upgrade</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command will upgrade all the packages on your system that have updates available. It will prompt you to confirm the upgrade if necessary.</p>
<h3 id="3-Full-Upgrade"><a href="#3-Full-Upgrade" class="headerlink" title="3. Full Upgrade"></a>3. <strong>Full Upgrade</strong></h3><p>Sometimes, you need to perform a full upgrade, which handles changing dependencies with new versions of packages.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt full-upgrade</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command performs the same task as <code>apt upgrade</code>, but it also handles situations where new dependencies need to be installed or old dependencies need to be removed.</p>
<h3 id="4-Installing-a-New-Package"><a href="#4-Installing-a-New-Package" class="headerlink" title="4. Installing a New Package"></a>4. <strong>Installing a New Package</strong></h3><p>To install a new software package, use the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install vim</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command installs the <code>vim</code> text editor. Replace <code>&lt;package-name&gt;</code> with the name of the package you want to install.</p>
<h3 id="5-Removing-a-Package"><a href="#5-Removing-a-Package" class="headerlink" title="5. Removing a Package"></a>5. <strong>Removing a Package</strong></h3><p>If you want to remove a package but keep its configuration files, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt remove &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt remove vim</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command removes the <code>vim</code> package but leaves configuration files behind in case you decide to reinstall it later.</p>
<h3 id="6-Completely-Removing-a-Package"><a href="#6-Completely-Removing-a-Package" class="headerlink" title="6. Completely Removing a Package"></a>6. <strong>Completely Removing a Package</strong></h3><p>To remove a package along with its configuration files, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt purge &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt purge vim</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command not only removes the package but also deletes its configuration files.</p>
<h3 id="7-Searching-for-Packages"><a href="#7-Searching-for-Packages" class="headerlink" title="7. Searching for Packages"></a>7. <strong>Searching for Packages</strong></h3><p>To search for a package, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt search &lt;search-term&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt search vim</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command searches for packages related to the term <code>vim</code>. It helps you find packages that might be relevant to your needs.</p>
<h3 id="8-Viewing-Package-Information"><a href="#8-Viewing-Package-Information" class="headerlink" title="8. Viewing Package Information"></a>8. <strong>Viewing Package Information</strong></h3><p>To view detailed information about a specific package, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt show &lt;package-name&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt show vim</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command provides detailed information about the <code>vim</code> package, including its version, dependencies, and description.</p>
<h3 id="9-Cleaning-Up"><a href="#9-Cleaning-Up" class="headerlink" title="9. Cleaning Up"></a>9. <strong>Cleaning Up</strong></h3><p>To remove unused packages and clear up disk space, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt autoremove</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command removes packages that were installed automatically to satisfy dependencies for other packages and are no longer needed.</p>
<h3 id="10-Cleaning-Up-the-Package-Cache"><a href="#10-Cleaning-Up-the-Package-Cache" class="headerlink" title="10. Cleaning Up the Package Cache"></a>10. <strong>Cleaning Up the Package Cache</strong></h3><p>To clear the local repository of retrieved package files, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt clean</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command deletes all cached package files from the <code>/var/cache/apt/archives</code> directory.</p>
<h3 id="11-Listing-packages-that-can-be-updated"><a href="#11-Listing-packages-that-can-be-updated" class="headerlink" title="11. Listing packages that can be updated:"></a>11. Listing packages that can be updated:</h3><p>To list packages that can be updated, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt list --upgradeable</span><br></pre></td></tr></table></figure>
<p><strong>Explanation</strong>: This command displays a list of packages on your system that have updates available. It shows which packages can be upgraded, including their current and new versions, helping you decide which updates to apply.<br><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt list --upgradeable</span><br><span class="line">Listing... Done</span><br><span class="line">apache2-utils/focal-updates,focal-security 2.4.41-4ubuntu3.17 amd64 [upgradable from: 2.4.41-4ubuntu3.15]</span><br><span class="line">apparmor/focal-updates 2.13.3-7ubuntu5.3 amd64 [upgradable from: 2.13.3-7ubuntu5.2]</span><br><span class="line">apt-transport-https/focal-updates 2.0.10 all [upgradable from: 2.0.9]</span><br><span class="line">apt-utils/focal-updates 2.0.10 amd64 [upgradable from: 2.0.9]</span><br><span class="line">apt/focal-updates 2.0.10 amd64 [upgradable from: 2.0.9]</span><br></pre></td></tr></table></figure>
<h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>To install the <code>redis</code> package:<br>If you canâ€™t remember the full package name, you can type the beginning of the name and press the <code>Tab</code> key to list matching packages. For example, if you type <code>red</code> and press <code>Tab</code>, it will show related packages.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install red                                                                                                                        redboot-tools                 redet-doc                     redis-sentinel                redmine-pgsql                 redshift-gtk</span><br><span class="line">redeclipse                    redfishtool                   redis-server                  redmine-plugin-custom-css     redsocks</span><br><span class="line">redeclipse-common             redir                         redis-tools                   redmine-plugin-local-avatars</span><br><span class="line">redeclipse-data               redis                         redland-utils                 redmine-plugin-pretend</span><br><span class="line">redeclipse-server             redis-redisearch              redmine                       redmine-sqlite</span><br><span class="line">redet                         redis-redisearch-doc          redmine-mysql                 redshift</span><br></pre></td></tr></table></figure>
<p>To install <code>redis</code> without upgrading it if it already exists, use the <code>--no-upgrade</code> option:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install redis --no-upgrade</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt install redis --no-upgrade</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree</span><br><span class="line">Reading state information... Done</span><br><span class="line">Skipping redis, it is already installed and upgrade is not <span class="built_in">set</span>.</span><br><span class="line">0 upgraded, 0 newly installed, 0 to remove and 239 not upgraded.</span><br></pre></td></tr></table></figure>
<p>To upgrade <code>redis</code> without installing it if it doesnâ€™t already exist, use the <code>--only-upgrade</code> option:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt upgrade redis --only-upgrade</span><br></pre></td></tr></table></figure>
<p>To specify a particular version of a package, use the following syntax:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install &lt;package_name&gt;=&lt;version_number&gt;</span><br></pre></td></tr></table></figure>
<p>Replace <code>package_name</code> with the name of the package and <code>version_number</code> with the desired version.<br>To remove a package, use the <code>remove</code> command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt remove redis</span><br></pre></td></tr></table></figure>
<p>To find packages related to <code>redis</code>, use the search command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt search redis</span><br></pre></td></tr></table></figure>


<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The <code>apt</code> command is a versatile tool that simplifies package management on Debian-based Linux distributions. By mastering these commands, you can effectively manage your systemâ€™s software and keep it up-to-date. For more detailed information, you can always refer to the <code>apt</code> manual pages using:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">man apt</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>5 Ways to Concatenate Strings in Python 3</title>
    <url>/2024/08/29/5-ways-to-concatenate-strings-in-python3/</url>
    <content><![CDATA[<p>When working with strings in Python 3, you have several versatile methods to combine them. Hereâ€™s a look at five common ways to concatenate strings effectively:</p>
<h2 id="Using-the-Operator"><a href="#Using-the-Operator" class="headerlink" title="Using the + Operator"></a>Using the <code>+</code> Operator</h2><p>The <code>+</code> operator is a straightforward and intuitive way to join strings. Simply place the <code>+</code> sign between strings and, if needed, include separators.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str1 = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">str2 = <span class="string">&quot;World&quot;</span></span><br><span class="line">result = str1 + <span class="string">&quot; &quot;</span> + str2</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># Output: Hello World</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-the-join-Method"><a href="#Using-the-join-Method" class="headerlink" title="Using the join() Method"></a>Using the <code>join()</code> Method</h2><p>The <code>join()</code> method is perfect for concatenating multiple strings with a specific separator. This method is particularly useful when working with lists of strings.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str1 = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">str2 = <span class="string">&quot;World&quot;</span></span><br><span class="line">result = <span class="string">&quot; &quot;</span>.join([str1, str2])</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># Output: Hello World</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-f-Strings-Formatted-String-Literals"><a href="#Using-f-Strings-Formatted-String-Literals" class="headerlink" title="Using f-Strings (Formatted String Literals)"></a>Using f-Strings (Formatted String Literals)</h2><p>f-Strings, available in Python 3.6 and later, offer a modern and efficient way to format and concatenate strings. Place variables inside curly braces within the string.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str1 = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">str2 = <span class="string">&quot;World&quot;</span></span><br><span class="line">result = <span class="string">f&quot;<span class="subst">&#123;str1&#125;</span> <span class="subst">&#123;str2&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># Output: Hello World</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-Formatting"><a href="#Using-Formatting" class="headerlink" title="Using % Formatting"></a>Using <code>%</code> Formatting</h2><p>Although older, <code>%</code> formatting remains a valid method for string concatenation. This approach uses <code>%</code> to format the string with variables.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str1 = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">str2 = <span class="string">&quot;World&quot;</span></span><br><span class="line">result = <span class="string">&quot;%s %s&quot;</span> % (str1, str2)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># Output: Hello World</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-the-format-Method"><a href="#Using-the-format-Method" class="headerlink" title="Using the format() Method"></a>Using the <code>format()</code> Method</h2><p>The <code>format()</code> method allows you to insert variables into a string using placeholders. Itâ€™s versatile and can handle more complex formatting.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">str1 = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">str2 = <span class="string">&quot;World&quot;</span></span><br><span class="line">result = <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(str1, str2)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># Output: Hello World</span></span><br></pre></td></tr></table></figure>

<p>Each of these methods can be used depending on your specific needs and preferences. Experiment with them to find the one that works best for your code.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Understanding the &quot;chattr: Inappropriate ioctl for device while reading flags&quot; Error</title>
    <url>/2024/08/15/understanding-the-chattr-inappropriate-ioctl-for-device-while-reading-flags-error/</url>
    <content><![CDATA[<p>If youâ€™ve encountered the error message <code>chattr: Inappropriate ioctl for device while reading flags on /etc/nginx/conf.d/test.conf</code>, youâ€™re not alone. This error can be confusing, especially if youâ€™re not familiar with the <code>chattr</code> command and its uses. Letâ€™s break down what this error means and how to resolve it.</p>
<h2 id="What-is-the-chattr-Command"><a href="#What-is-the-chattr-Command" class="headerlink" title="What is the chattr Command?"></a>What is the <code>chattr</code> Command?</h2><p>The <code>chattr</code> (change attribute) command in Linux is used to change file attributes on files and directories. These attributes can control various aspects of file behavior, such as making a file immutable or append-only. The command is primarily used on ext2/ext3/ext4 file systems.</p>
<h2 id="Understanding-the-Error"><a href="#Understanding-the-Error" class="headerlink" title="Understanding the Error"></a>Understanding the Error</h2><p>The error message <code>chattr: Inappropriate ioctl for device while reading flags</code> indicates that <code>chattr</code> is unable to read or modify the attributes of a file due to an issue with the file system or the file type. Hereâ€™s why you might see this error:<br><strong>File System Compatibility</strong>: The file system on which your file resides may not support <code>chattr</code> attributes. <code>chattr</code> is designed for Linux systems, aka, supported filesystems, like xfs, ext2, ext3, ext4, etc, but also, there are some minor limitations as well. You can not use it on a different file system. If your file is on ntfs based filesystem, <code>chattr</code> wonâ€™t work, and youâ€™ll see this error.</p>
<h2 id="How-to-Resolve-the-Issue"><a href="#How-to-Resolve-the-Issue" class="headerlink" title="How to Resolve the Issue"></a>How to Resolve the Issue</h2><p>Here are steps you can take to troubleshoot and resolve this issue:</p>
<ol>
<li><p><strong>Verify the File System</strong>: Check if the file is on an xfs, ext2, ext3, or ext4 file system. Use the <code>df -T /path/to/file</code> command to find out the file system type. If itâ€™s not one of these, <code>chattr</code> wonâ€™t be applicable. For example, if your file is on a WSL (Windows Subsystem for Linux) filesystem, running this command will show the result below.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">df</span> -T /etc/nginx/conf.d/test.conf</span><br><span class="line">Filesystem     Type  1K-blocks      Used Available Use% Mounted on</span><br><span class="line">rootfs         wslfs 188744700 127470120  61274580  68% /</span><br></pre></td></tr></table></figure>
<p>As indicated, the file system type is wslfs, which means the <code>chattr</code> command has no effect.<br>Running this command on the ext4 file system yields the following result::</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">df</span> -T /etc/nginx/conf.d/default.conf</span><br><span class="line">Filesystem     Type 1K-blocks     Used Available Use% Mounted on</span><br><span class="line">/dev/vda1      ext4 103080204 79814876  18845100  81% /</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Alternative Commands</strong>: If youâ€™re working with a non-ext file system and need similar functionality, consider using file system-specific tools or consult the documentation for your particular file system.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The <code>chattr: Inappropriate ioctl for device while reading flags</code> error typically arises when <code>chattr</code> is used on unsupported file systems. By verifying the file system type, you can resolve this issue and manage file attributes effectively. If you continue to face problems, consider exploring alternative commands or tools suitable for your file system.</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Install Docker on Ubuntu: A Comprehensive Guide</title>
    <url>/2024/08/09/how-to-install-docker-on-ubuntu/</url>
    <content><![CDATA[<p>Docker is a powerful platform that simplifies the development, shipping, and deployment of applications by using containerization. If youâ€™re using Ubuntu and want to set up Docker, this guide will walk you through the process step-by-step.</p>
<h2 id="Step-1-Update-Your-System"><a href="#Step-1-Update-Your-System" class="headerlink" title="Step 1: Update Your System"></a>Step 1: Update Your System</h2><p>Before installing Docker, make sure your Ubuntu system is up-to-date. Open your terminal and run:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt upgrade</span><br></pre></td></tr></table></figure>
<h2 id="Step-2-Install-Required-Packages"><a href="#Step-2-Install-Required-Packages" class="headerlink" title="Step 2: Install Required Packages"></a>Step 2: Install Required Packages</h2><p>Install necessary packages to allow <code>apt</code> to use packages over HTTPS:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install apt-transport-https ca-certificates curl software-properties-common</span><br></pre></td></tr></table></figure>
<h2 id="Step-3-Add-Dockerâ€™s-Official-GPG-Key"><a href="#Step-3-Add-Dockerâ€™s-Official-GPG-Key" class="headerlink" title="Step 3: Add Dockerâ€™s Official GPG Key"></a>Step 3: Add Dockerâ€™s Official GPG Key</h2><p>Add Dockerâ€™s official GPG key to your system:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | <span class="built_in">sudo</span> apt-key add -</span><br></pre></td></tr></table></figure>
<h2 id="Step-4-Set-Up-the-Docker-Repository"><a href="#Step-4-Set-Up-the-Docker-Repository" class="headerlink" title="Step 4: Set Up the Docker Repository"></a>Step 4: Set Up the Docker Repository</h2><p>Add Dockerâ€™s APT repository to your system:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Step-5-Install-Docker"><a href="#Step-5-Install-Docker" class="headerlink" title="Step 5: Install Docker"></a>Step 5: Install Docker</h2><p>Update your package index and install Docker:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install docker-ce</span><br></pre></td></tr></table></figure>
<h2 id="Step-6-Start-and-Enable-Docker"><a href="#Step-6-Start-and-Enable-Docker" class="headerlink" title="Step 6: Start and Enable Docker"></a>Step 6: Start and Enable Docker</h2><p>Start Docker and ensure it starts on boot:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start docker</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>
<h2 id="Step-7-Verify-Docker-Installation"><a href="#Step-7-Verify-Docker-Installation" class="headerlink" title="Step 7: Verify Docker Installation"></a>Step 7: Verify Docker Installation</h2><p>Check if Docker is installed and running correctly by executing:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker --version</span><br></pre></td></tr></table></figure>
<p>You should see Dockerâ€™s version information. To test Dockerâ€™s functionality, run:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker run hello-world</span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Congratulations! Docker is now installed on your Ubuntu system. You can start using it to build and manage containers. For more advanced Docker configurations and usage, check out Dockerâ€™s official documentation.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Ubuntu</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title>Troubleshooting &quot;chattr: Operation not permitted while setting flags&quot;</title>
    <url>/2024/08/14/troubleshooting-chattr-operation-not-permitted-while-setting-flags/</url>
    <content><![CDATA[<p>Iâ€™m trying to set an immutable attribute on some files in my home directory, but I keep encountering issues: <code>chattr: Operation not permitted while setting flags on /data/ops/app.conf</code>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ chattr +i /data/ops/app.conf</span><br><span class="line">chattr: Operation not permitted <span class="keyword">while</span> setting flags on /data/ops/app.conf</span><br></pre></td></tr></table></figure>
<p>From the <code>chattr</code> man page:</p>
<blockquote>
<p>A file with the â€˜iâ€™ attribute cannot be modified: it cannot be deleted or renamed, no link can be created to this file, most of the fileâ€™s metadata can not be modified, and the file can not be opened in write mode. <strong>Only the superuser or a process possessing the CAP_LINUX_IMMUTABLE capability can set or clear this attribute.</strong></p>
</blockquote>
<p>We can see that only the superuser or a process with the CAP_LINUX_IMMUTABLE capability can set or clear this attribute. So, getting an error when trying to set the <code>i</code> flag as a regular user is expected. When I run the following command, it works as expected:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> chattr +i /data/ops/app.conf</span><br></pre></td></tr></table></figure>

<p><strong>P.S.</strong><br>The same applies to the <code>a</code> flag (append only), and the <code>j</code> flag (data journaling) requires the CAP_SYS_RESOURCE capability.</p>
<blockquote>
<p><code>a</code> flag:<br>A file with the â€˜aâ€™ attribute set can only be opened in append mode for writing. <strong>Only the superuser or a process possessing the CAP_LINUX_IMâ€MUTABLE capability can set or clear this attribute.</strong></p>
</blockquote>
<blockquote>
<p><code>j</code> flag:<br>A file with the â€˜jâ€™ attribute has all of its data written to the ext3 or ext4 journal before being written to the file itself, if the file system is mounted with the â€œdata=orderedâ€ or â€œdata=writebackâ€ options and the file system has a journal. When the filesystem is mounted with the â€œdata=journalâ€ option all file data is already ournalled and this attribute has no effect. <strong>Only the superuser or a process possessing the CAP_SYS_RESOURCE apability can set or clear this attribute.</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Introduction to the C Language</title>
    <url>/2024/05/01/introduction-to-the-c-language/</url>
    <content><![CDATA[<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>The C programming language was originally invented as a tool for developing the Unix operating system.</p>
<p>In 1969, Ken Thompson and Dennis Ritchie at Bell Labs in the United States developed the Unix operating system. Unix was initially written in assembly language, making it difficult to port to other computers. To address this, they decided to rewrite it in a high-level language. However, existing high-level languages at the time did not meet their needs, so Thompson developed the B language based on BCPL.</p>
<p>In 1972, Dennis Ritchie and Brian Kernighan redesigned the B language, creating a new language that replaced B, which they named C.</p>
<p>By 1973, the entire Unix system was rewritten in C, and the language quickly gained popularity, becoming widely used for developing various operating systems and system software.</p>
<p>In 1988, the American National Standards Institute (ANSI) officially standardized the C language, marking its stabilization and formalization.</p>
<p>Decades later, C remains one of the most widely used and popular system programming languages, with Unix and Linux systems still developed in C.</p>
<hr>
<h2 id="Features-of-C-Language"><a href="#Features-of-C-Language" class="headerlink" title="Features of C Language"></a>Features of C Language</h2><p>The enduring popularity and widespread application of C can be attributed to several distinctive features:</p>
<ol>
<li><strong>Low-Level Language</strong><br>C allows direct hardware manipulation, memory management, and system-level operations, making it a language close to the machine level, or â€œlow-level.â€ This makes it ideal for writing programs that interact closely with hardware or require high performance.</li>
<li><strong>Portability</strong><br>C was originally designed to help port Unix to different computer architectures, emphasizing portability from the start. C programs can be relatively easily adapted to run on different hardware and operating systems.<br>Beyond traditional computing, C is also the preferred language for embedded systems, such as those in cars, cameras, and home appliances, largely due to its portability.</li>
<li><strong>Simplicity</strong><br>C syntax is relatively straightforward, with a limited number of syntax rules and minimal syntactic sugar. Generally, C provides only one way to perform similar tasks, reducing language complexity.<br>Furthermore, C syntax is foundational, lacking advanced data structures like classes. Complex data structures must be manually constructed by the programmer.</li>
<li><strong>Flexibility</strong><br>C imposes few constraints on programmers. It assumes that programmers know what they are doing, allowing them to perform risky operations without restriction. You have complete freedom, but you are also responsible for the consequences.<br>The philosophy of C is â€œtrust the programmer, donâ€™t interfere.â€ For example, C requires manual memory management and does not offer features like automatic memory cleanup, type checking, array bounds checking, or pointer safety measures.<br>While this approach can seem dangerous, it provides experienced programmers with great flexibility, though it can make debugging more challenging.</li>
<li><strong>Summary</strong><br>These features allow C to write highly performant programs that fully utilize hardware potential, with a relatively simple compiler implementation. However, C code is prone to errors, and writing reliable programs can be challenging for most programmers.<br>Additionally, many modern languages, including C++, Java, C#, and JavaScript, are built on the foundations of C. Mastering C can deepen your understanding of these languages.</li>
</ol>
<hr>
<h2 id="Versions-of-C-Language"><a href="#Versions-of-C-Language" class="headerlink" title="Versions of C Language"></a>Versions of C Language</h2><p>Throughout history, C has evolved through several versions:</p>
<ol>
<li><strong>K&amp;R C</strong><br>K&amp;R C refers to the original version of the C language. In 1978, Câ€™s creators, Dennis Ritchie and Brian Kernighan, co-authored the seminal textbook <em>The C Programming Language</em>. Since there was no formal C syntax standard at the time, this book became the de facto standard, named after the initials of its authors: â€œK&amp;R C.â€</li>
<li><strong>ANSI C (also known as C89 or C90)</strong><br>The original C language was simple and vague in many aspects, and with C syntax still evolving, there were increasing calls for standardization.<br>In 1989, ANSI developed a formal C standard, which was later adopted by the International Organization for Standardization (ISO) in 1990. This version is known as â€œANSI Câ€ or, by its release years, â€œC89â€ or â€œC90.â€</li>
<li><strong>C95</strong><br>In 1995, ANSI updated the 1989 standard with support for multibyte and wide characters, resulting in the C95 version.</li>
<li><strong>C99</strong><br>The first major revision of the C standard came in 1999, introducing many new features, such as the <code>//</code> comment syntax. C99 is currently one of the most widely used C versions.</li>
<li><strong>C11</strong><br>In 2011, the standard was revised again, adding support for Unicode and multithreading. This version is called C11.</li>
<li><strong>C17</strong><br>The C11 standard was patched in 2017, with the new version, released in 2018, fixing some of C11â€™s shortcomings without adding new features. This version is known as C17.</li>
<li><strong>C2x</strong><br>A new version of C is currently under discussion and is expected to be finalized by 2023, at which point it will be called C23.</li>
</ol>
<hr>
<h2 id="Compiling-C-Programs"><a href="#Compiling-C-Programs" class="headerlink" title="Compiling C Programs"></a>Compiling C Programs</h2><p>C is a compiled language, meaning its source code files, which typically end with the <code>.c</code> extension, are not directly executable. They must be translated into binary executable files through a compiler. This process, known as â€œcompilation,â€ occurs during the compile time and differs from the runtime when the program is actually executed.</p>
<p>The most commonly used C compiler today is the GCC compiler from the Free Software Foundation, which is available for free. This book also uses GCC. Linux and Mac systems can directly install GCC, while Windows users can use MinGW. Alternatively, online compilers like CodingGround and OnlineGDB offer web-based simulation of C code execution:</p>
<ul>
<li><a href="https://tutorialspoint.com/compile_c_online.php">CodingGround</a>  </li>
<li><a href="https://onlinegdb.com/online_c_compiler">OnlineGDB</a></li>
</ul>
<p>The examples in this book are compiled using GCC from the command line.</p>
<hr>
<h2 id="Hello-World-Example"><a href="#Hello-World-Example" class="headerlink" title="Hello World Example"></a>Hello World Example</h2><p>A simple C program, typically named <code>hello.c</code>, is just a plain text file that can be edited with any text editor. Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This programâ€™s sole purpose is to display â€œHello Worldâ€ on the screen.</p>
<p>To compile and run C code, ensure GCC is installed, then open the command line and run the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ gcc hello.c</span><br></pre></td></tr></table></figure>

<p>This command compiles <code>hello.c</code> into a binary executable. Note that <code>$</code> is the command line prompt; you only need to type the part after it.</p>
<p>By default, this command generates an output file named <code>a.out</code> (or <code>a.exe</code> on Windows). Run this file to see the output:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./a.out</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>The <code>-o</code> option (short for â€œoutputâ€) allows you to specify the output file name:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ gcc -o hello hello.c</span><br></pre></td></tr></table></figure>

<p>This command specifies that the output file should be named <code>hello</code>, instead of the default <code>a.out</code>. Running the file will produce the same result:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./hello</span><br><span class="line">Hello World</span><br></pre></td></tr></table></figure>

<p>The <code>-std=</code> option allows you to specify the C standard version for compilation:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ gcc -std=c99 hello.c</span><br></pre></td></tr></table></figure>

<p>This command compiles the code according to the C99 standard.</p>
<p>Note: The <code>-std</code> option uses <code>=</code> to connect the argument, unlike <code>-o</code>, which uses a space. Be sure there are no extra spaces around the <code>=</code> sign.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Basic C Language Syntax</title>
    <url>/2024/05/02/basic-c-language-syntax/</url>
    <content><![CDATA[<h2 id="Statements"><a href="#Statements" class="headerlink" title="Statements"></a>Statements</h2><p>C code is composed of statements. A statement is a command that the program executes. In C, each statement must end with a semicolon, unless specified otherwise.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>The above is a variable declaration statement, where the integer variable <code>x</code> is declared and assigned a value of <code>1</code>.</p>
<p>Multiple statements can be written on a single line:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x; x = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>Here, two statements are written on one line. Line breaks between statements arenâ€™t required but are often used for readability.</p>
<p>A single statement can also be split across multiple lines, with semicolons indicating the end of the statement:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x;</span><br><span class="line">x</span><br><span class="line">=</span><br><span class="line"><span class="number">1</span></span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p>In this example, the statement <code>x = 1;</code> is broken into four lines. The compiler ignores line breaks within a statement.</p>
<p>Even a single semicolon is a valid statement, called an â€œempty statement,â€ though it has no effect:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">;</span><br></pre></td></tr></table></figure>



<h2 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h2><p>In C, most calculations are performed through expressions. An expression represents a computation that produces a value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>The above is an expression that calculates the result of <code>1 + 2</code>.</p>
<p>An expression followed by a semicolon can also become a statement, though it may not serve a practical purpose:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">8</span>;</span><br><span class="line"><span class="number">3</span> + <span class="number">4</span>;</span><br></pre></td></tr></table></figure>

<p>The above are two expressions, which become statements when followed by a semicolon.</p>
<p>The key differences between expressions and statements are:</p>
<ul>
<li>A statement can contain an expression, but an expression alone is not a statement.</li>
<li>Expressions always return a value, while statements may or may not. For example, a variable declaration statement like <code>int x = 1;</code> does not return a value.</li>
</ul>
<h2 id="Statement-Blocks"><a href="#Statement-Blocks" class="headerlink" title="Statement Blocks"></a>Statement Blocks</h2><p>In C, multiple statements can be grouped together using curly braces <code>&#123;&#125;</code> to form a block, also known as a compound statement. A block of statements is treated as a single compound statement.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> x;</span><br><span class="line">  x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the curly braces create a block of statements. There is no need to add a semicolon after the closing brace.</p>
<h2 id="Whitespace"><a href="#Whitespace" class="headerlink" title="Whitespace"></a>Whitespace</h2><p>Whitespace in C mainly serves to help the compiler distinguish between different syntax elements. Where spaces arenâ€™t required for the compiler to differentiate syntax, they are optional and mainly used to enhance readability.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// Equivalent to:</span></span><br><span class="line"><span class="type">int</span> x=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>In the above example, spaces around the assignment operator <code>=</code> are optional since the compiler can interpret the code without them.</p>
<p>Multiple spaces between syntax elements are treated as a single space:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>    x =     <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>Here, the extra spaces have no effect on the code.</p>
<p>Whitespace is also used for indentation. While indentation doesnâ€™t affect the programâ€™s functionality, it enhances code readability, especially for distinguishing code blocks. Most C coding styles suggest indenting nested code by four spaces. However, for brevity, this text uses two spaces.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Four-space indentation</span></span><br><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;positive\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Two-space indentation</span></span><br><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">0</span>)</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;positive\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>A line containing only spaces is considered a blank line, which the compiler completely ignores.</p>
<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p>Comments are annotations in the code that the compiler ignores, meaning they donâ€™t affect the program. C supports two types of comments.</p>
<ol>
<li>Block comments, enclosed by <code>/*...*/</code>, can span multiple lines:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Comment */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  This is a multi-line comment.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>Block comments can also be placed inline:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">open</span><span class="params">(<span class="type">char</span>* s <span class="comment">/* file name */</span>, <span class="type">int</span> mode)</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>/* file name */</code> explains the functionâ€™s parameter without interfering with the code.</p>
<p>Itâ€™s important to close block comments with <code>*/</code>, or they may unintentionally span beyond their intended scope.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a &quot;</span>); <span class="comment">/* Comment 1</span></span><br><span class="line"><span class="comment">printf(&quot;b &quot;);</span></span><br><span class="line"><span class="comment">printf(&quot;c &quot;); /* Comment 2 */</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;d &quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In the example above, forgetting to close <code>Comment 1</code> causes the second comment to include unintended lines of code.</p>
<ol start="2">
<li>Line comments, introduced in C99, start with <code>//</code> and extend to the end of the line:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// This is a comment</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x = <span class="number">1</span>; <span class="comment">// This is also a comment</span></span><br></pre></td></tr></table></figure>

<p>Comments cannot be placed within double quotes as they will be treated as part of the string.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;// hello /* world */ &quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Here, the characters <code>//</code> and <code>/* ... */</code> are treated as part of the string and have no effect as comments.</p>
<p><del>When compiling, comments are replaced with spaces. So ~~`</del>min/* space */Value<del>`</del> becomes <del>`</del>min Value<del>`</del> instead of <del>`</del>minValue<del>`</del>.~~</p>
<h2 id="printf"><a href="#printf" class="headerlink" title="printf()"></a><code>printf()</code></h2><h3 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h3><p>This guide often uses the <code>printf()</code> function, which outputs text to the screen. The <code>f</code> in <code>printf</code> stands for â€œformatted,â€ meaning you can customize the output.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The above command prints the text â€œHello Worldâ€ to the screen.</p>
<p>By default, <code>printf()</code> doesnâ€™t automatically add a newline. To move the cursor to the next line, include the newline character <code>\n</code> at the end of the string:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>To print a string across multiple lines, insert newline characters where needed:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Hello\nWorld\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The above example can also be written as two separate <code>printf()</code> calls, producing the same output.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Hello\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;World\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Before using <code>printf()</code>, you must include the standard library header <code>stdio.h</code> at the beginning of your code:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Placeholders"><a href="#Placeholders" class="headerlink" title="Placeholders"></a>Placeholders</h3><p>In <code>printf()</code>, you can specify placeholders in the output text. A â€œplaceholderâ€ is a symbol that will later be replaced with a specific value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Output: There are 3 apples</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;There are %i apples\n&quot;</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>In this example, <code>&quot;There are %i apples\n&quot;</code> is the output string, and <code>%i</code> is the placeholder, indicating where a value should be inserted. Placeholders start with the percent sign <code>%</code>, and the second character specifies the data type, such as <code>%i</code>, which expects an integer.</p>
<p>The second argument of <code>printf()</code> provides the value to replace the placeholder. In this case, the integer <code>3</code> replaces <code>%i</code>. The resulting output will be: <code>There are 3 apples</code>.</p>
<p>Common placeholders include <code>%i</code> for integers and <code>%s</code> for strings:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s will come tonight\n&quot;</span>, <span class="string">&quot;Jane&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Here, <code>%s</code> is a string placeholder, so the second argument of <code>printf()</code> must be a string. In this example, <code>&quot;Jane&quot;</code> is substituted, and the output will be: <code>Jane will come tonight</code>.</p>
<p>You can use multiple placeholders in one <code>printf()</code> call:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s says it is %i o&#x27;clock\n&quot;</span>, <span class="string">&quot;Ben&quot;</span>, <span class="number">21</span>);</span><br></pre></td></tr></table></figure>

<p>This string contains two placeholders: <code>%s</code> for a string and <code>%i</code> for an integer. They correspond to <code>&quot;Ben&quot;</code> and <code>21</code>, producing the output: <code>Ben says it is 21 o&#39;clock</code>.</p>
<p>The number of placeholders in the format string must match the number of arguments passed to <code>printf()</code>. For instance, if there are <code>n</code> placeholders, <code>printf()</code> needs <code>n + 1</code> arguments. Failing to provide the correct number of arguments can lead to unpredictable behavior, like displaying random memory values.</p>
<p><code>printf()</code> supports a wide range of placeholders, each corresponding to a different data type in C. Hereâ€™s a list of common placeholders:</p>
<ul>
<li><code>%a</code>: Hexadecimal floating point, lowercase.</li>
<li><code>%A</code>: Hexadecimal floating point, uppercase.</li>
<li><code>%c</code>: Single character.</li>
<li><code>%d</code>: Decimal integer.</li>
<li><code>%e</code>: Scientific notation, lowercase â€˜eâ€™.</li>
<li><code>%E</code>: Scientific notation, uppercase â€˜Eâ€™.</li>
<li><code>%i</code>: Integer, similar to <code>%d</code>.</li>
<li><code>%f</code>: Floating point (both <code>float</code> and <code>double</code> types).</li>
<li><code>%g</code>: Floating point with up to 6 significant digits. The integer part is automatically converted to scientific notation once it exceeds 6 digits, and the â€˜eâ€™ in the exponent part is lowercase.</li>
<li><code>%G</code>: Same as <code>%g</code>, but with an uppercase â€˜Eâ€™ in scientific notation.</li>
<li><code>%hd</code>: Decimal <code>short int</code>.</li>
<li><code>%ho</code>: Octal <code>short int</code>.</li>
<li><code>%hx</code>: Hexadecimal <code>short int</code>.</li>
<li><code>%hu</code>: Unsigned <code>short int</code>.</li>
<li><code>%ld</code>: Decimal <code>long int</code>.</li>
<li><code>%lo</code>: Octal <code>long int</code>.</li>
<li><code>%lx</code>: Hexadecimal <code>long int</code>.</li>
<li><code>%lu</code>: Unsigned <code>long int</code>.</li>
<li><code>%lld</code>: Decimal <code>long long int</code>.</li>
<li><code>%llo</code>: Octal <code>long long int</code>.</li>
<li><code>%llx</code>: Hexadecimal <code>long long int</code>.</li>
<li><code>%llu</code>: Unsigned <code>long long int</code>.</li>
<li><code>%Le</code>: Scientific notation for <code>long double</code>.</li>
<li><code>%Lf</code>: <code>long double</code>.</li>
<li><code>%n</code>: Outputs the number of characters printed so far. This placeholder does not output anything but stores the count in a variable.</li>
<li><code>%o</code>: Octal integer.</li>
<li><code>%p</code>: Pointer address.</li>
<li><code>%s</code>: String.</li>
<li><code>%u</code>: Unsigned integer.</li>
<li><code>%x</code>: Hexadecimal integer.</li>
<li><code>%zd</code>: <code>size_t</code> type.</li>
<li><code>%%</code>: Outputs a literal percent sign.</li>
</ul>
<h3 id="Formatting-Output"><a href="#Formatting-Output" class="headerlink" title="Formatting Output"></a>Formatting Output</h3><p><code>printf()</code> also allows customization of placeholder output.</p>
<ol>
<li><strong>Specifying Width</strong><br>You can define a minimum width for placeholders.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%5d\n&quot;</span>, <span class="number">123</span>); <span class="comment">// Output: &quot;  123&quot;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>%5d</code> specifies that the output will occupy at least 5 spaces. Since <code>123</code> is only three digits long, two spaces are added before it to meet the width requirement.</p>
<p>By default, values are right-aligned, meaning spaces are added in front. To left-align the value, insert a <code>-</code> after <code>%</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%-5d\n&quot;</span>, <span class="number">123</span>); <span class="comment">// Output: &quot;123  &quot;</span></span><br></pre></td></tr></table></figure>

<p>For floating-point numbers, this width refers to the entire number, including decimal places:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Output: &quot;  123.450000&quot;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%12f\n&quot;</span>, <span class="number">123.45</span>);</span><br></pre></td></tr></table></figure>

<p>Here, <code>%12f</code> ensures that the output will take up at least 12 characters, including padding and decimal digits.</p>
<ol start="2">
<li><strong>Always Showing Sign</strong><br>By default, <code>printf()</code> only displays the minus sign for negative numbers. To force it to show a plus sign for positive numbers, add a <code>+</code> after <code>%</code>:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%+d\n&quot;</span>, <span class="number">12</span>);  <span class="comment">// Output: +12</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%+d\n&quot;</span>, <span class="number">-12</span>); <span class="comment">// Output: -12</span></span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>Limiting Decimal Places</strong><br>To limit the number of decimal places, you can specify the desired precision with <code>%.2f</code>:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Output: Number is 0.50</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;Number is %.2f\n&quot;</span>, <span class="number">0.5</span>);</span><br></pre></td></tr></table></figure>

<p>This ensures that only two decimal places are shown. You can also combine this with width specification:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Output: &quot;  0.50&quot;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%6.2f\n&quot;</span>, <span class="number">0.5</span>);</span><br></pre></td></tr></table></figure>

<p>This format reserves 6 spaces for the entire number, with 2 reserved for decimal places.</p>
<p>You can dynamically specify both the width and precision using arguments:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%*.*f\n&quot;</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">0.5</span>); <span class="comment">// Equivalent to printf(&quot;%6.2f\n&quot;, 0.5);</span></span><br></pre></td></tr></table></figure>



<ol start="4">
<li><strong>Partial String Output</strong><br>By default, <code>%s</code> outputs the entire string. If you only want to display a portion, use <code>%.[m]s</code> to specify the length, where <code>[m]</code> is the number of characters to display:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Output: hello</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.5s\n&quot;</span>, <span class="string">&quot;hello world&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Here, <code>%.5s</code> tells <code>printf()</code> to output only the first 5 characters, resulting in <code>hello</code>.</p>
<h2 id="Standard-Libraries-and-Header-Files"><a href="#Standard-Libraries-and-Header-Files" class="headerlink" title="Standard Libraries and Header Files"></a>Standard Libraries and Header Files</h2><p>In C, many functionalities, like <code>printf()</code>, are built into the language. You donâ€™t need to write them from scratch. These built-in functions are part of the <strong>standard library</strong>. Since these functions are standardized, their behavior is consistent across different systems, ensuring code portability.</p>
<p>Functions are organized into <strong>header files</strong>, such as <code>stdio.h</code> for <code>printf()</code>. To use a function, you need to include its corresponding header file at the beginning of your program with the <code>#include</code> directive:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>This tells the compiler to load the required functions. Note that <code>#include</code> does not require a semicolon.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Understanding Variables in C Programming</title>
    <url>/2024/05/03/c-language-variables/</url>
    <content><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>A variable can be understood as the name of a memory location. By using the variable name, you can reference this memory and access the stored value. The value might change, which is why itâ€™s called a variable. If the value remains constant, itâ€™s referred to as a constant.</p>
<h2 id="Variable-Names"><a href="#Variable-Names" class="headerlink" title="Variable Names"></a>Variable Names</h2><p>In C, variable names are considered identifiers, and there are strict rules for naming them:</p>
<ul>
<li>They can only contain letters (both uppercase and lowercase), digits, and underscores (<code>_</code>).</li>
<li>They cannot begin with a digit.</li>
<li>The name must not exceed 63 characters in length.</li>
</ul>
<p>Here are some examples of invalid variable names:</p>
<ul>
<li><code>$zj</code></li>
<li><code>j**p</code></li>
<li><code>2cat</code></li>
<li><code>Hot-tab</code></li>
<li><code>tax rate</code></li>
<li><code>don&#39;t</code></li>
</ul>
<p>In each case, the variable name violates one or more of the rules.  </p>
<p>Variable names are case-sensitive, so <code>star</code>, <code>Star</code>, and <code>STAR</code> are considered different variables.</p>
<p>Not all words can be used as variable names. Certain words have special meanings in C (e.g., <code>int</code>) or are commands (e.g., <code>continue</code>). These are known as <strong>keywords</strong> and cannot be used as variable names. Additionally, some words are reserved for future use, known as <strong>reserved words</strong>, and also cannot be used.</p>
<p>Here are the main C keywords and reserved words:</p>
<p><code>auto, break, case, char, const, continue, default, do, double, else, enum, extern, float, for, goto, if, inline, int, long, register, restrict, return, short, signed, sizeof, static, struct, switch, typedef, union, unsigned, void, volatile, while</code></p>
<p>Additionally, variable names that start with two underscores or an underscore followed by a capital letter are reserved for the system and should not be used for custom variable names.</p>
<h2 id="Variable-Declaration"><a href="#Variable-Declaration" class="headerlink" title="Variable Declaration"></a>Variable Declaration</h2><p>In C, a variable must be declared before it is used. If a variable is used without being declared, the program will throw an error.</p>
<p>Each variable has a <strong>type</strong>. When declaring a variable, its type must be specified.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> height;</span><br></pre></td></tr></table></figure>

<p>The code above declares a variable <code>height</code> of type <code>int</code> (integer).</p>
<p>If multiple variables share the same type, they can be declared in the same line.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> height, width;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Equivalent to:</span></span><br><span class="line"><span class="type">int</span> height;</span><br><span class="line"><span class="type">int</span> width;</span><br></pre></td></tr></table></figure>

<p>Note that the declaration must end with a semicolon.</p>
<p>Once a variable is declared, its type cannot be changed at runtime.</p>
<h2 id="Variable-Assignment"><a href="#Variable-Assignment" class="headerlink" title="Variable Assignment"></a>Variable Assignment</h2><p>When a variable is declared, memory is allocated for it, but the memory may contain random values. Therefore, a variable should always be assigned a value before use.</p>
<p>Assignment is done using the assignment operator (<code>=</code>).</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> num;</span><br><span class="line">num = <span class="number">42</span>;</span><br></pre></td></tr></table></figure>

<p>Here, the variable <code>num</code> is declared first, and then assigned the value <code>42</code>.</p>
<p>The assigned value should match the variableâ€™s type. For example, an integer variable should not be assigned a decimal value. While C automatically converts types in some cases, it is best to avoid mismatching types in assignments.</p>
<p>You can also declare and assign a value to a variable in one line.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">42</span>;</span><br></pre></td></tr></table></figure>

<p>Multiple variables of the same type can be assigned values in a single line.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>, y = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>An important feature in C is that assignment expressions return a value, which is the value on the right side of the assignment.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x, y;</span><br><span class="line"></span><br><span class="line">x = <span class="number">1</span>;</span><br><span class="line">y = (x = <span class="number">2</span> * x);</span><br></pre></td></tr></table></figure>

<p>In this example, <code>y</code> is assigned the result of the expression <code>(x = 2 * x)</code>, which is <code>2</code>.</p>
<p>Because assignment expressions return a value, C allows for chained assignments.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x, y, z, m, n;</span><br><span class="line"></span><br><span class="line">x = y = z = m = n = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>This code is valid and assigns <code>3</code> to all variables in a single statement. The assignments are executed from right to left, starting with <code>n</code>.</p>
<p>C distinguishes between <strong>lvalues</strong> and <strong>rvalues</strong>. An <strong>lvalue</strong> is something that can appear on the left side of an assignment, typically a variable. An <strong>rvalue</strong> is something that can appear on the right side of an assignment, usually a value. For example, <code>x = 1</code> is valid, but <code>1 = x</code> will result in an error.</p>
<h2 id="Variable-Scope"><a href="#Variable-Scope" class="headerlink" title="Variable Scope"></a>Variable Scope</h2><p><strong>Scope</strong> refers to the region of the program where a variable is accessible. In C, variables generally have two types of scope: <strong>file scope</strong> and <strong>block scope</strong>.</p>
<p><strong>File scope</strong> applies to variables declared at the top level of a source file, outside any functions. These variables are accessible throughout the entire file, starting from the point of declaration.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the variable <code>x</code> is declared at the file level and can be accessed anywhere within the file, including inside the <code>main()</code> function.</p>
<p><strong>Block scope</strong> refers to variables declared within a block of code, defined by curly braces <code>&#123;&#125;</code>. Variables in block scope are only accessible within that block and are invisible outside of it.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">12</span>) &#123;</span><br><span class="line">  <span class="type">int</span> b = <span class="number">99</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, a, b);  <span class="comment">// 12 99</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a);  <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b);  <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>In this example, the variable <code>b</code> is only visible within the <code>if</code> block, and attempting to access it outside the block results in an error.</p>
<p>Blocks can be nested, meaning a block can contain other blocks. Inner blocks can access variables from outer blocks, but not the other way around. If a variable is declared in both an inner and outer block, the inner variable will override the outer one within that inner scope.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);  <span class="comment">// 20</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);  <span class="comment">// 10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, the inner block declares a variable <code>i</code> that hides the outer <code>i</code> within its scope.</p>
<p>A common example of block scope is a function. Variables declared inside a function are not accessible outside it. Similarly, the loop variable in a <code>for</code> loop is scoped to the loop itself.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>In this example, the loop variable <code>i</code> is inaccessible outside the loop, and attempting to print it will cause an error.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Operators in C Language</title>
    <url>/2024/05/04/c-language-operator/</url>
    <content><![CDATA[<p>C language includes a wide variety of operators, more than 50 in total, which can be categorized into several types.</p>
<h2 id="Arithmetic-Operators"><a href="#Arithmetic-Operators" class="headerlink" title="Arithmetic Operators"></a>Arithmetic Operators</h2><p>Arithmetic operators are used for mathematical operations. The main ones are as follows:</p>
<ul>
<li><code>+</code>: Unary plus (positive sign)  </li>
<li><code>-</code>: Unary minus (negative sign)  </li>
<li><code>+</code>: Addition (binary operator)  </li>
<li><code>-</code>: Subtraction (binary operator)  </li>
<li><code>*</code>: Multiplication  </li>
<li><code>/</code>: Division  </li>
<li><code>%</code>: Modulus (remainder of division)</li>
</ul>
<ol>
<li><strong>Unary</strong> <code>+</code> <strong>and</strong> <code>-</code>:<br>The <code>+</code> and <code>-</code> can act as unary operators, requiring only one operand. Unary <code>-</code> negates a value:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">-12</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>-</code> changes 12 to -12.</p>
<p>Unary <code>+</code> has no effect and can be omitted without any issue:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">-12</span>;</span><br><span class="line"><span class="type">int</span> y = +x;  <span class="comment">// y remains -12</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li><strong>Binary</strong> <code>+</code> <strong>and</strong> <code>-</code>:<br>These operators are used for addition and subtraction:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">4</span> + <span class="number">22</span>;  <span class="comment">// x is 26</span></span><br><span class="line"><span class="type">int</span> y = <span class="number">61</span> - <span class="number">23</span>;  <span class="comment">// y is 38</span></span><br></pre></td></tr></table></figure>



<ol start="3">
<li><strong>Multiplication</strong> <code>*</code>:<br>Used for multiplication:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, num * num);  <span class="comment">// Outputs 25</span></span><br></pre></td></tr></table></figure>



<ol start="4">
<li><strong>Division</strong> <code>/</code>:<br>Used for division. Note that division between two integers results in an integer:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> x = <span class="number">6</span> / <span class="number">4</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, x);  <span class="comment">// Outputs 1.000000</span></span><br></pre></td></tr></table></figure>

<p>In this example, even though <code>x</code> is of type <code>float</code>, the division <code>6 / 4</code> results in <code>1.0</code>, not <code>1.5</code>. This is because integer division in C truncates the decimal part, returning only the integer portion.  </p>
<p>To get a floating-point result, at least one operand must be a float. For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> x = <span class="number">6.0</span> / <span class="number">4</span>;  <span class="comment">// Or 6 / 4.0</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, x);  <span class="comment">// Outputs 1.500000</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>6.0 / 4</code> performs floating-point division, yielding <code>1.5</code>.</p>
<p>Consider this example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> score = <span class="number">5</span>;</span><br><span class="line">score = (score / <span class="number">20</span>) * <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<p>You might expect <code>score</code> to be <code>25</code>, but it will actually be <code>0</code>. This is because <code>score / 20</code> performs integer division, resulting in <code>0</code>, and multiplying this by <code>100</code> also gives <code>0</code>.</p>
<p>To get the expected result, change <code>20</code> to <code>20.0</code> to use floating-point division:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">score = (score / <span class="number">20.0</span>) * <span class="number">100</span>;</span><br></pre></td></tr></table></figure>



<ol start="5">
<li><strong>Modulus</strong> <code>%</code>:<br>The <code>%</code> operator represents the modulo operation, which returns the remainder of dividing two integers. This operator can only be used with integers, not floating-point numbers. For example:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">6</span> % <span class="number">4</span>; <span class="comment">// Result is 2</span></span><br></pre></td></tr></table></figure>

<p>The rules for modulo with negative numbers dictate that the sign of the result is determined by the sign of the first operand(<strong>the sign of the result follows the first operand</strong>):</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">11 % -5  // Result is 1</span><br><span class="line">-11 % -5 // Result is -1</span><br><span class="line">-11 % 5  // Result is -1</span><br></pre></td></tr></table></figure>

<p>In these examples, the sign of the result (whether it is positive or negative) matches the sign of the first operand (11 or -11).</p>
<ol start="6">
<li><strong>Compound Assignment Operators</strong></li>
</ol>
<p>C provides shorthand forms for performing arithmetic operations on a variable and assigning the result back to the same variable. These compound assignment operators combine the assignment operator with an arithmetic operator:</p>
<ul>
<li><code>+=</code></li>
<li><code>-=</code></li>
<li><code>*=</code></li>
<li><code>/=</code></li>
<li><code>%=</code></li>
</ul>
<p>Here are some examples:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i += <span class="number">3</span>;  <span class="comment">// Equivalent to i = i + 3</span></span><br><span class="line">i -= <span class="number">8</span>;  <span class="comment">// Equivalent to i = i - 8</span></span><br><span class="line">i *= <span class="number">9</span>;  <span class="comment">// Equivalent to i = i * 9</span></span><br><span class="line">i /= <span class="number">2</span>;  <span class="comment">// Equivalent to i = i / 2</span></span><br><span class="line">i %= <span class="number">5</span>;  <span class="comment">// Equivalent to i = i % 5</span></span><br></pre></td></tr></table></figure>

<p>These shorthand notations make code more concise and readable.</p>
<h2 id="Increment-and-Decrement-Operators"><a href="#Increment-and-Decrement-Operators" class="headerlink" title="Increment and Decrement Operators"></a>Increment and Decrement Operators</h2><p>C has two operators to increase or decrease a variable by 1:</p>
<ul>
<li><code>++</code>: Increment  operator</li>
<li><code>--</code>: Decrement operator</li>
</ul>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">42</span>;</span><br><span class="line">i++;  <span class="comment">// Equivalent to i = i + 1</span></span><br><span class="line">i--;  <span class="comment">// Equivalent to i = i - 1</span></span><br></pre></td></tr></table></figure>

<p>The position of these operators affects their behavior. If placed before a variable (<code>++i</code>), it increments first and then returns the value. If placed after (<code>i++</code>), it returns the current value before incrementing.</p>
<p>Consider this example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">42</span>;</span><br><span class="line"><span class="type">int</span> j;</span><br><span class="line"></span><br><span class="line">j = (i++ + <span class="number">10</span>);</span><br><span class="line"><span class="comment">// i: 43</span></span><br><span class="line"><span class="comment">// j: 52</span></span><br><span class="line"></span><br><span class="line">j = (++i + <span class="number">10</span>);</span><br><span class="line"><span class="comment">// i: 44</span></span><br><span class="line"><span class="comment">// j: 54</span></span><br></pre></td></tr></table></figure>

<p>The position of the increment operator affects the value assigned to <code>j</code>. To avoid confusion and improve code clarity, separate the increment from the expression:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Option 1 */</span></span><br><span class="line">j = (i + <span class="number">10</span>);</span><br><span class="line">i++;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Option 2 */</span></span><br><span class="line">i++;</span><br><span class="line">j = (i + <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>This way, the increment operation and the value assignment are distinct, reducing potential errors and enhancing readability.</p>
<h2 id="Relational-Operators"><a href="#Relational-Operators" class="headerlink" title="Relational Operators"></a>Relational Operators</h2><p>In C, relational operators are used to compare values and are crucial for conditional statements. Here are the six primary relational operators:</p>
<ul>
<li><code>&gt;</code> : Greater than</li>
<li><code>&lt;</code> : Less than</li>
<li><code>&gt;=</code> : Greater than or equal to</li>
<li><code>&lt;=</code> : Less than or equal to</li>
<li><code>==</code> : Equal to</li>
<li><code>!=</code> : Not equal to</li>
</ul>
<p>Examples:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">a == b;  <span class="comment">// Checks if a is equal to b</span></span><br><span class="line">a != b;  <span class="comment">// Checks if a is not equal to b</span></span><br><span class="line">a &lt; b;   <span class="comment">// Checks if a is less than b</span></span><br><span class="line">a &gt; b;   <span class="comment">// Checks if a is greater than b</span></span><br><span class="line">a &lt;= b;  <span class="comment">// Checks if a is less than or equal to b</span></span><br><span class="line">a &gt;= b;  <span class="comment">// Checks if a is greater than or equal to b</span></span><br></pre></td></tr></table></figure>

<p>Relational expressions return 0 (false) or 1 (true). For instance, <code>20 &gt; 12</code> returns 1, while <code>12 &gt; 20</code> returns 0.</p>
<p>These expressions are commonly used in <code>if</code> or <code>while</code> statements:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x == <span class="number">3</span>) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;x is 3.\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note: The equality operator <code>==</code> is different from the assignment operator <code>=</code>. Avoid mistakes like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x = <span class="number">3</span>) ...</span><br></pre></td></tr></table></figure>

<p>This assigns 3 to <code>x</code> and always evaluates to true. Instead, write:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">3</span> == x) ...</span><br></pre></td></tr></table></figure>

<p>This way, if you mistakenly use <code>=</code> instead of <code>==</code>, the compiler will catch the error.</p>
<p>Also, avoid chaining relational operators like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i &lt; j &lt; k</span><br></pre></td></tr></table></figure>

<p>This does not check if <code>j</code> is between <code>i</code> and <code>k</code>. Instead, use:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i &lt; j &amp;&amp; j &lt; k</span><br></pre></td></tr></table></figure>



<h2 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h2><p>Logical operators are used for logical comparisons and constructing more complex expressions. Here are the three main logical operators:</p>
<ul>
<li><code>!</code> : Logical NOT (reverses the truth value of a single expression).</li>
<li><code>&amp;&amp;</code> : Logical AND (true if both expressions are true, otherwise false).</li>
<li><code>||</code> : Logical OR (true if at least one of the expressions is true, otherwise false).</li>
</ul>
<p>For example with the AND operator:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x &lt; <span class="number">10</span> &amp;&amp; y &gt; <span class="number">20</span>)</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Doing something!\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this case, <code>x &lt; 10 &amp;&amp; y &gt; 20</code> is true only if both <code>x &lt; 10</code> and <code>y &gt; 20</code> are true.</p>
<p>For the NOT operator:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!(x &lt; <span class="number">12</span>))</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;x is not less than 12\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Here, <code>!</code> has higher precedence than <code>&lt;</code>, so parentheses are needed to negate <code>x &lt; 12</code>. A more straightforward way to write this would be <code>if (x &gt;= 12)</code>.</p>
<p>Logical operators treat any non-zero value as true and zero as false. For instance, <code>5 || 0</code> returns 1, and <code>5 &amp;&amp; 0</code> returns 0.</p>
<p>A key feature of logical operators is short-circuit evaluation: the left expression is evaluated first, and if it determines the result, the right expression is not evaluated. For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (number != <span class="number">0</span> &amp;&amp; <span class="number">12</span>/number == <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>If <code>number</code> is 0, <code>12/number</code> will not be evaluated, preventing a divide-by-zero error.</p>
<p>When using logical operators, be cautious of changing variables within the expressions:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> ((x++ &lt; <span class="number">10</span>) &amp;&amp; (x + y &lt; <span class="number">20</span>))</span><br></pre></td></tr></table></figure>

<p>Here, <code>x</code> is incremented in the left expression, potentially affecting the right expression in unexpected ways.</p>
<h2 id="Bitwise-Operators"><a href="#Bitwise-Operators" class="headerlink" title="Bitwise Operators"></a>Bitwise Operators</h2><p>C provides several bitwise operators to manipulate binary digits (bits). Hereâ€™s a rundown of each:</p>
<h3 id="Bitwise-NOT-Operator"><a href="#Bitwise-NOT-Operator" class="headerlink" title="Bitwise NOT Operator (~)"></a>Bitwise NOT Operator (<code>~</code>)</h3><p>The bitwise NOT operator (<code>~</code>) is a unary operator that inverts each bit of its operand, changing 0s to 1s and 1s to 0s.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 01101100</span></span><br><span class="line">~<span class="number">10010011</span></span><br></pre></td></tr></table></figure>

<p>In the example above, applying <code>~</code> to each bit of <code>10010011</code> results in a new value. Note that the <code>~</code> operator does not alter the original value but returns a new one.</p>
<h3 id="Bitwise-AND-Operator-amp"><a href="#Bitwise-AND-Operator-amp" class="headerlink" title="Bitwise AND Operator (&amp;)"></a>Bitwise AND Operator (&amp;)</h3><p>The bitwise AND operator (<code>&amp;</code>) compares each bit of two operands. It returns 1 if both bits are 1; otherwise, it returns 0.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 00010001</span></span><br><span class="line"><span class="number">10010011</span> &amp; <span class="number">00111101</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>10010011</code> and <code>00111101</code> are compared bit by bit, resulting in a new value. The <code>&amp;</code> operator can be combined with the assignment operator <code>=</code>, written as <code>&amp;=</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">3</span>;</span><br><span class="line">val = val &amp; <span class="number">0377</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line">val &amp;= <span class="number">0377</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Bitwise-OR-Operator"><a href="#Bitwise-OR-Operator" class="headerlink" title="Bitwise OR Operator (|)"></a>Bitwise OR Operator (<code>|</code>)</h3><p>The bitwise OR operator (<code>|</code>) compares each bit of two operands and returns 1 if at least one of the bits is 1. If both bits are 0, it returns 0.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 10111111</span></span><br><span class="line"><span class="number">10010011</span> | <span class="number">00111101</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>10010011</code> and <code>00111101</code> are compared bit by bit, resulting in a new value. The <code>|</code> operator can also be combined with the assignment operator <code>=</code>, written as <code>|=</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">3</span>;</span><br><span class="line">val = val | <span class="number">0377</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line">val |= <span class="number">0377</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Bitwise-XOR-Operator"><a href="#Bitwise-XOR-Operator" class="headerlink" title="Bitwise XOR Operator (^)"></a>Bitwise XOR Operator (<code>^</code>)</h3><p>The bitwise XOR operator (<code>^</code>) compares each bit of two operands. It returns 1 if only one of the bits is 1; if both are 0 or both are 1, it returns 0.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 10101110</span></span><br><span class="line"><span class="number">10010011</span> ^ <span class="number">00111101</span></span><br></pre></td></tr></table></figure>

<p>The <code>^</code> operator can be combined with the assignment operator <code>=</code>, written as <code>^=</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">3</span>;</span><br><span class="line">val = val ^ <span class="number">0377</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line">val ^= <span class="number">0377</span>;</span><br></pre></td></tr></table></figure>



<h3 id="Left-Shift-Operator-lt-lt"><a href="#Left-Shift-Operator-lt-lt" class="headerlink" title="Left Shift Operator (&lt;&lt;)"></a>Left Shift Operator (<code>&lt;&lt;</code>)</h3><p>The left shift operator (<code>&lt;&lt;</code>) shifts the bits of its left operand to the left by a specified number of positions. The empty positions on the right are filled with 0s.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 1000101000</span></span><br><span class="line"><span class="number">10001010</span> &lt;&lt; <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>Here, each bit in <code>10001010</code> is shifted two positions to the left. The left shift operator is equivalent to multiplying the operand by 2 raised to the specified power (e.g., shifting left by 2 positions is the same as multiplying by 4).</p>
<p>The left shift operator can be combined with the assignment operator <code>=</code>, written as <code>&lt;&lt;=</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">1</span>;</span><br><span class="line">val = val &lt;&lt; <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line">val &lt;&lt;= <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Right-Shift-Operator-gt-gt"><a href="#Right-Shift-Operator-gt-gt" class="headerlink" title="Right Shift Operator (&gt;&gt;)"></a>Right Shift Operator (<code>&gt;&gt;</code>)</h3><p>The right shift operator (<code>&gt;&gt;</code>) shifts the bits of its left operand to the right by a specified number of positions. The bits that fall off are discarded, and the empty positions on the left are filled with 0s.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Returns 00100010</span></span><br><span class="line"><span class="number">10001010</span> &gt;&gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>In this example, each bit in <code>10001010</code> is shifted two positions to the right. The two lowest bits (<code>10</code>) are discarded, and the leftmost bits are filled with 0s. Note that right shifting is best used with unsigned integers to avoid issues with how different systems handle the sign bit.</p>
<p>The right shift operator is equivalent to dividing the operand by 2 raised to the specified power (e.g., shifting right by 2 positions is the same as dividing by 4).</p>
<p>The right shift operator can be combined with the assignment operator <code>=</code>, written as <code>&gt;&gt;=</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> val = <span class="number">1</span>;</span><br><span class="line">val = val &gt;&gt; <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Shorthand</span></span><br><span class="line">val &gt;&gt;= <span class="number">2</span>;</span><br></pre></td></tr></table></figure>



<h2 id="Comma-Operator"><a href="#Comma-Operator" class="headerlink" title="Comma Operator"></a>Comma Operator</h2><p>The comma operator allows multiple expressions to be written in a single statement, executing them from left to right.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">x = <span class="number">10</span>, y = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, the comma operator lets you include both <code>x = 10</code> and <code>y = 20</code> in one statement.</p>
<p>The comma operator returns the value of the last expression, which is the value of the whole statement.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x;</span><br><span class="line">x = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>Here, the comma operator inside the parentheses results in <code>x</code> being assigned the value <code>3</code>, the last expression.</p>
<h2 id="Operator-Precedence"><a href="#Operator-Precedence" class="headerlink" title="Operator Precedence"></a>Operator Precedence</h2><p>Operator precedence determines the order of operations in expressions with multiple operators. Different operators have different precedence levels.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> + <span class="number">4</span> * <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>In this expression, multiplication (<code>*</code>) has higher precedence than addition (<code>+</code>), so <code>4 * 5</code> is calculated first.</p>
<p>If operators have the same precedence, their associativity decides the order. Most operators are left-associative (evaluated from left to right), while a few, like the assignment operator (<code>=</code>), are right-associative (evaluated from right to left).</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span> * <span class="number">6</span> / <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>Since both <code>*</code> and <code>/</code> have the same precedence and are left-associative, the expression is evaluated as <code>5 * 6</code> first, then <code>30 / 2</code>.</p>
<p>The precedence of operators is complex. Hereâ€™s a simplified list from highest to lowest:</p>
<ol>
<li>Parentheses <code>()</code></li>
<li>Increment (<code>++</code>), Decrement (<code>--</code>)</li>
<li>Unary operators (<code>+</code>, <code>-</code>)</li>
<li>Multiplication (<code>*</code>), Division (<code>/</code>)</li>
<li>Addition (<code>+</code>), Subtraction (<code>-</code>)</li>
<li>Relational operators (<code>&lt;</code>, <code>&gt;</code>, etc.)</li>
<li>Assignment operators (<code>=</code>)</li>
</ol>
<p>Using parentheses can override default precedence and improve code clarity:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = (<span class="number">3</span> + <span class="number">4</span>) * <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>In this case, the parentheses ensure that addition is performed before multiplication.</p>
<p>Remembering all operator precedences is unnecessary. Use parentheses to clarify and ensure your code behaves as expected.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Flow Control in C Language</title>
    <url>/2024/05/05/c-language-flow-control/</url>
    <content><![CDATA[<p>In C programming, execution is sequential, meaning statements are executed one after the other. To control the flow of execution, developers use flow control structures, primarily conditional and loop statements.</p>
<h2 id="if-Statement"><a href="#if-Statement" class="headerlink" title="if Statement"></a><code>if</code> Statement</h2><p>The <code>if</code> statement is used for conditional execution; it executes a specified statement if the condition is true.</p>
<p>Syntax:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression) statement</span><br></pre></td></tr></table></figure>

<p>Here, <code>expression</code> must be true (non-zero) for <code>statement</code> to execute. The condition inside the parentheses must be enclosed in parentheses, or it will result in an error. The <code>statement</code> can be a single statement or a block enclosed in curly braces. </p>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x == <span class="number">10</span>) </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;x is 10&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this case, if <code>x</code> equals 10, the message â€œx is 10â€ will be printed. For a single statement, itâ€™s common to place it on a new line.</p>
<p>Example with newline:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (x == <span class="number">10</span>)</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;x is 10\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>If there are multiple statements, they should be enclosed in curly braces.</p>
<p>Example with multiple statements:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (line_num == MAX_LINES) &#123;</span><br><span class="line">  line_num = <span class="number">0</span>;</span><br><span class="line">  page_num++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>if</code> statement can also have an <code>else</code> branch, which executes if the condition is false.</p>
<p>Syntax:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression) statement</span><br><span class="line"><span class="keyword">else</span> statement</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i &gt; j)</span><br><span class="line">  max = i;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  max = j;</span><br></pre></td></tr></table></figure>

<p>If the <code>else</code> statement has multiple lines, enclose them in curly braces.</p>
<p>The <code>else</code> clause can be used with another <code>if</code> to create a chain of conditions.</p>
<p>Syntax:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression)</span><br><span class="line">  statement</span><br><span class="line"><span class="keyword">else</span> <span class="title function_">if</span> <span class="params">(expression)</span></span><br><span class="line">  statement</span><br><span class="line">...</span><br><span class="line"><span class="keyword">else</span> <span class="title function_">if</span> <span class="params">(expression)</span></span><br><span class="line">  statement</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  statement</span><br></pre></td></tr></table></figure>

<p>In complex cases, remember that <code>else</code> matches the nearest preceding <code>if</code>.</p>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (number &gt; <span class="number">6</span>)</span><br><span class="line">  <span class="keyword">if</span> (number &lt; <span class="number">12</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The number is more than 6, less than 12.\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;It is a wrong number.\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>else</code> matches the closest <code>if</code> (i.e., <code>number &lt; 12</code>). Thus, if <code>number</code> is 6, the <code>else</code> part does not execute. To avoid confusion and improve readability, use curly braces to clearly define the scope of <code>else</code>.</p>
<p>Example with curly braces:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (number &gt; <span class="number">6</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (number &lt; <span class="number">12</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The number is more than 6, less than 12.\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;It is a wrong number.\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This makes it clear that the <code>else</code> belongs to the outer <code>if</code>.</p>
<h2 id="Ternary-Operator"><a href="#Ternary-Operator" class="headerlink" title="Ternary Operator (?:)"></a>Ternary Operator (<code>?:</code>)</h2><p>In C language, the ternary operator <code>?:</code> is a shorthand for an <code>if...else</code> statement:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&lt;expression1&gt; ? &lt;expression2&gt; : &lt;expression3&gt;</span><br></pre></td></tr></table></figure>

<p>This means if <code>expression1</code> is true (non-zero), <code>expression2</code> is executed; otherwise, <code>expression3</code> is executed.</p>
<p>For example, to return the larger of two values:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(i &gt; j) ? i : j;</span><br></pre></td></tr></table></figure>

<p>This is equivalent to:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i &gt; j)</span><br><span class="line">  <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="keyword">return</span> j;</span><br></pre></td></tr></table></figure>



<h2 id="switch-Statement"><a href="#switch-Statement" class="headerlink" title="switch Statement"></a><code>switch</code> Statement</h2><p>The <code>switch</code> statement is a specialized form of <code>if...else</code> used when you have multiple possible outcomes. It replaces multiple <code>else if</code> statements with a more readable format:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">  <span class="keyword">case</span> value1: statement;</span><br><span class="line">  <span class="keyword">case</span> value2: statement;</span><br><span class="line">  <span class="keyword">default</span>: statement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The code executes the <code>case</code> block matching the value of <code>expression</code>. If no match is found, the <code>default</code> block is executed.</p>
<p>For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (grade) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;False&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;True&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Illegal&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, depending on the value of <code>grade</code>, different <code>case</code> blocks are executed. If <code>grade</code> is 0, it executes the <code>case 0</code> block; if 1, it executes the <code>case 1</code> block; otherwise, it executes the <code>default</code> block. The <code>default</code> block handles cases where no <code>case</code> matches.</p>
<p>Each <code>case</code> block should end with a <code>break</code> statement to prevent fall-through to the next case. If <code>break</code> is omitted, the next <code>case</code> or <code>default</code> block will be executed as well.</p>
<p>For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (grade) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;False&quot;</span>);</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;True&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Illegal&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, missing the <code>break</code> after <code>case 0</code> causes the <code>case 1</code> block to execute as well.</p>
<p>You can group multiple <code>case</code> labels to share the same statement:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (grade) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;True&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Illegal&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this case, both <code>case 0</code> and <code>case 1</code> execute the same statement. Note that <code>case</code> labels do not need curly braces, which is why <code>break</code> is necessary to avoid falling through.</p>
<p>The <code>default</code> block is optional and should be placed at the end of the <code>switch</code> statement. If omitted, the <code>switch</code> will exit without executing any code if no cases match.</p>
<h2 id="while-Statement"><a href="#while-Statement" class="headerlink" title="while Statement"></a><code>while</code> Statement</h2><p>The <code>while</code> loop repeatedly executes a block of code as long as its condition is true.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (expression)</span><br><span class="line">  statement;</span><br></pre></td></tr></table></figure>

<p>In this code, if <code>expression</code> is non-zero (true), <code>statement</code> is executed, and <code>expression</code> is checked again. If <code>expression</code> becomes zero (false), the loop exits.</p>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (i &lt; n)</span><br><span class="line">  i = i + <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>In the example above, <code>i</code> will keep increasing by 2 as long as <code>i</code> is less than <code>n</code>.</p>
<p>To execute multiple statements in the loop, use braces:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (expression) &#123;</span><br><span class="line">  statement1;</span><br><span class="line">  statement2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;i is now %d!\n&quot;</span>, i);</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;All done!\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this example, the loop runs 10 times, incrementing <code>i</code> by 1 each time until <code>i</code> equals 10.</p>
<p>An infinite loop can be created like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Use <code>break</code> to exit an infinite loop.</p>
<h2 id="do-while-Structure"><a href="#do-while-Structure" class="headerlink" title="do...while Structure"></a><code>do...while</code> Structure</h2><p>The <code>do...while</code> loop executes its body once before checking the condition.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">  statement;</span><br><span class="line"><span class="keyword">while</span> (expression);</span><br></pre></td></tr></table></figure>

<p>Here, <code>statement</code> is executed at least once regardless of <code>expression</code>. After the statement executes, <code>expression</code> is checked to determine if the loop should continue.</p>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;i is %d\n&quot;</span>, i);</span><br><span class="line">  i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;All done!\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Even though <code>i</code> is not less than 10 initially, the loop body executes once.</p>
<h2 id="for-Statement"><a href="#for-Statement" class="headerlink" title="for Statement"></a><code>for</code> Statement</h2><p>The <code>for</code> loop is used for precise control over the number of iterations.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (initialization; condition; action)</span><br><span class="line">  statement;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>initialization</code>: Sets up the loop variable (executed once).</li>
<li><code>condition</code>: Checked before each iteration (loop continues if true).</li>
<li><code>action</code>: Updates the loop variable after each iteration.</li>
</ul>
<p>Example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">10</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;i is %d\n&quot;</span>, i);</span><br></pre></td></tr></table></figure>

<p>Here, <code>i</code> is initialized to 10, decremented each time, and the loop runs while <code>i</code> is greater than 0.</p>
<p>Multiple statements can be used in any of the three parts of the <code>for</code> loop, separated by commas:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i, j;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>, j = <span class="number">999</span>; i &lt; <span class="number">10</span>; i++, j--) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d, %d\n&quot;</span>, i, j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If all three parts are omitted, the loop becomes infinite:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;This line will loop indefinitely.\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="break-Statement"><a href="#break-Statement" class="headerlink" title="break Statement"></a><code>break</code> Statement</h2><p>The <code>break</code> statement has two primary uses: one is with <code>switch</code> statements to exit a particular case, and the other is to exit a loop prematurely.</p>
<p><strong>Example with Nested Loops:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d, %d\n&quot;</span>, i, j);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>break</code> statement exits the inner loop, causing the program to proceed to the next iteration of the outer loop.</p>
<p><strong>Example with <strong><code>while</code></strong> Loop:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> ((ch = getchar()) != EOF) &#123;</span><br><span class="line">  <span class="keyword">if</span> (ch == <span class="string">&#x27;\n&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">  <span class="built_in">putchar</span>(ch);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, the <code>break</code> statement exits the <code>while</code> loop as soon as a newline character is encountered, so it stops processing further input.</p>
<p><strong>Note:</strong> The <code>break</code> statement can only exit from loops and <code>switch</code> statements, not from <code>if</code> statements.</p>
<p><strong>Invalid Use Example:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">2</span>) <span class="keyword">break</span>; <span class="comment">// Invalid</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;hello\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>break</code> statement is ineffective because it cannot exit from an <code>if</code> statement.</p>
<h2 id="continue-Statement"><a href="#continue-Statement" class="headerlink" title="continue Statement"></a><code>continue</code> Statement</h2><p>The <code>continue</code> statement is used to skip the rest of the current loop iteration and proceed to the next iteration.</p>
<p><strong>Example with Nested Loops:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d, %d\n&quot;</span>, i, j);</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this case, the <code>continue</code> statement does not change the behavior of the loop because it simply moves to the next iteration of the inner loop, which would happen even without it.</p>
<p><strong>Example with <strong><code>while</code></strong> Loop:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> ((ch = getchar()) != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (ch == <span class="string">&#x27;\t&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">  <span class="built_in">putchar</span>(ch);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, if a tab character (<code>\t</code>) is encountered, the <code>continue</code> statement skips printing it and proceeds to the next character.</p>
<h2 id="goto-Statement"><a href="#goto-Statement" class="headerlink" title="goto Statement"></a><code>goto</code> Statement</h2><p>The <code>goto</code> statement allows jumping to a specified label within the same function. Its use is generally discouraged as it can make code harder to read and maintain.</p>
<p><strong>Example with Label:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line">top: ch = getchar();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;q&#x27;</span>)</span><br><span class="line">  <span class="keyword">goto</span> top;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>top</code> is a label, and the <code>goto</code> statement transfers control to that label. This causes the program to loop back and read characters until â€˜qâ€™ is encountered.</p>
<p><strong>Example of Infinite Loop:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">infinite_loop:</span><br><span class="line">  print(<span class="string">&quot;Hello, world!\n&quot;</span>);</span><br><span class="line">  <span class="keyword">goto</span> infinite_loop;</span><br></pre></td></tr></table></figure>

<p>This code results in an infinite loop because the <code>goto</code> statement continuously jumps back to the <code>infinite_loop</code> label.</p>
<p><strong>Using <strong><code>goto</code></strong> to Exit Nested Loops:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(...) &#123;</span><br><span class="line">  <span class="keyword">for</span> (...) &#123;</span><br><span class="line">    <span class="keyword">while</span> (...) &#123;</span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (some_error_condition)</span><br><span class="line">          <span class="keyword">goto</span> bail;    </span><br><span class="line">      &#125; <span class="keyword">while</span>(...);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bail:</span><br><span class="line"><span class="comment">// ... ...</span></span><br></pre></td></tr></table></figure>

<p>In this case, <code>goto</code> is used to break out of several nested loops quickly when an error condition is met.</p>
<p><strong>Using <strong><code>goto</code></strong> for Early Exit:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (do_something() == ERR)</span><br><span class="line">  <span class="keyword">goto</span> error;</span><br><span class="line"><span class="keyword">if</span> (do_something2() == ERR)</span><br><span class="line">  <span class="keyword">goto</span> error;</span><br><span class="line"><span class="keyword">if</span> (do_something3() == ERR)</span><br><span class="line">  <span class="keyword">goto</span> error;</span><br><span class="line"><span class="keyword">if</span> (do_something4() == ERR)</span><br><span class="line">  <span class="keyword">goto</span> error;</span><br></pre></td></tr></table></figure>

<p>Here, <code>goto</code> allows the program to skip the remaining checks and jump to the <code>error</code> label if any of the conditions fail.</p>
<p><strong>Note:</strong> <code>goto</code> can only be used within the same function; it cannot jump to a label in a different function.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Types in C Language</title>
    <url>/2024/05/06/c-language-types/</url>
    <content><![CDATA[<p>In C, every piece of data has a type that the compiler must understand to properly operate on it. The â€œtypeâ€ refers to the shared characteristics of similar data, allowing you to know its properties and operations once its type is known.</p>
<p>There are three basic data types: <code>char</code> (character), <code>int</code> (integer), and <code>float</code> (floating-point). More complex types are built from these.</p>
<h2 id="Character-Type"><a href="#Character-Type" class="headerlink" title="Character Type"></a>Character Type</h2><p>The character type represents a single character and is declared with the <code>char</code> keyword.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> c = <span class="string">&#x27;B&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>c</code> is declared as a character type and assigned the value â€˜Bâ€™. In C, character constants must be enclosed in single quotes.</p>
<p>Internally, characters are stored in one byte (8 bits). C treats them as integers, so a character is essentially an integer with a width of one byte. Each character corresponds to an integer (defined by the ASCII code), with â€˜Bâ€™ corresponding to the integer 66.</p>
<p>Different systems may have different default ranges for the <code>char</code> type. Some systems use -128 to 127, while others use 0 to 255. Both ranges cover the ASCII range of 0 to 127.</p>
<p>Integers within the <code>char</code> range can be used interchangeably with characters and assigned to <code>char</code> variables.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> c = <span class="number">66</span>;</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">char</span> c = <span class="string">&#x27;B&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, assigning 66 to <code>c</code> has the same effect as assigning â€˜Bâ€™.</p>
<p>Character variables can also participate in arithmetic operations.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> a = <span class="string">&#x27;B&#x27;</span>; <span class="comment">// Equivalent to char a = 66;</span></span><br><span class="line"><span class="type">char</span> b = <span class="string">&#x27;C&#x27;</span>; <span class="comment">// Equivalent to char b = 67;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a + b); <span class="comment">// Outputs 133</span></span><br></pre></td></tr></table></figure>

<p>Here, adding <code>a</code> and <code>b</code> is treated like adding two integers, and <code>%d</code> prints the result as a decimal integer, yielding 133.</p>
<p>Single quotes themselves are characters, so to represent a single quote in a character constant, you need to escape it.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> t = <span class="string">&#x27;\&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>In this case, <code>t</code> holds the single quote character. Since character constants must be in single quotes, the internal single quote needs to be escaped.</p>
<p>Escape sequences are also used to represent unprintable control characters, which are part of the character type values:</p>
<ul>
<li><code>\a</code>: Alert (causes an alert sound or visual flash)</li>
<li><code>\b</code>: Backspace (moves the cursor back one character without deleting it)</li>
<li><code>\f</code>: Form feed (moves the cursor to the next page; in modern systems, it behaves like <code>\v</code>)</li>
<li><code>\n</code>: Newline</li>
<li><code>\r</code>: Carriage return (moves the cursor to the start of the line)</li>
<li><code>\t</code>: Horizontal tab (moves the cursor to the next tab stop, usually every 8 characters)</li>
<li><code>\v</code>: Vertical tab (moves the cursor to the next vertical tab stop, usually the same column on the next line)</li>
<li><code>\0</code>: Null character (represents no content; different from the number 0)</li>
</ul>
<p>Escape sequences can also use octal and hexadecimal notation:</p>
<ul>
<li><code>\nn</code>: Octal representation of the character, where <code>nn</code> is the octal value</li>
<li><code>\xnn</code>: Hexadecimal representation of the character, where <code>nn</code> is the hexadecimal value</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> x = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"><span class="type">char</span> x = <span class="number">66</span>;</span><br><span class="line"><span class="type">char</span> x = <span class="string">&#x27;\102&#x27;</span>; <span class="comment">// Octal</span></span><br><span class="line"><span class="type">char</span> x = <span class="string">&#x27;\x42&#x27;</span>; <span class="comment">// Hexadecimal</span></span><br></pre></td></tr></table></figure>

<p>All four of these declarations are equivalent.</p>
<h2 id="Integer-Types"><a href="#Integer-Types" class="headerlink" title="Integer Types"></a>Integer Types</h2><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>In C, integer types are used to represent whole numbers. The type is declared using the <code>int</code> keyword.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br></pre></td></tr></table></figure>

<p>In the example above, an integer variable <code>a</code> is declared.</p>
<p>The size of the <code>int</code> type can vary between different computers. Commonly, an <code>int</code> is stored in 4 bytes (32 bits), but it can also be 2 bytes (16 bits) or 8 bytes (64 bits). The ranges of integers that these types can represent are as follows:</p>
<ul>
<li><strong>16-bit</strong>: -32,768 to 32,767</li>
<li><strong>32-bit</strong>: -2,147,483,648 to 2,147,483,647</li>
<li><strong>64-bit</strong>: -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</li>
</ul>
<h3 id="Signed-and-Unsigned"><a href="#Signed-and-Unsigned" class="headerlink" title="Signed and Unsigned"></a>Signed and Unsigned</h3><p>In C, the <code>signed</code> keyword indicates that a type can hold both positive and negative values. Conversely, the <code>unsigned</code> keyword means the type can only hold zero and positive values.</p>
<p>By default, <code>int</code> is signed, which means <code>int</code> is equivalent to <code>signed int</code>. Although the <code>signed</code> keyword is usually omitted, it is not incorrect to include it.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">signed</span> <span class="type">int</span> a;  <span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span> a;</span><br></pre></td></tr></table></figure>

<p>To declare an <code>int</code> without a sign (only non-negative values), use the <code>unsigned</code> keyword:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> a;</span><br></pre></td></tr></table></figure>

<p>An <code>unsigned int</code> can represent a larger maximum value compared to a signed <code>int</code> of the same size. For instance, a 16-bit <code>signed int</code> has a maximum value of 32,767, while an <code>unsigned int</code> can go up to 65,535.</p>
<p>The <code>int</code> in <code>unsigned int</code> can be omitted:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> a;</span><br></pre></td></tr></table></figure>

<p>The <code>char</code> type can also be signed or unsigned:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">signed</span> <span class="type">char</span> c;    <span class="comment">// Range: -128 to 127</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> c;  <span class="comment">// Range: 0 to 255</span></span><br></pre></td></tr></table></figure>

<p>Note that the default sign of <code>char</code> (whether it is signed or unsigned) is system-dependent. Unlike <code>int</code>, <code>char</code> is not guaranteed to be signed or unsigned.</p>
<h3 id="Integer-Subtypes"><a href="#Integer-Subtypes" class="headerlink" title="Integer Subtypes"></a>Integer Subtypes</h3><p>When an <code>int</code> type uses 4 or 8 bytes, it may be overkill for small integers. On the other hand, if larger integers are needed, 8 bytes might not be sufficient. To address these issues, C provides three subtypes of integers, allowing for more precise control over the integer range:</p>
<ul>
<li><strong>short int</strong> (or <code>short</code>): Uses no more than <code>int</code>, generally 2 bytes (range: -32,768 to 32,767)</li>
<li><strong>long int</strong> (or <code>long</code>): Uses at least as much space as <code>int</code>, generally 4 bytes</li>
<li><strong>long long int</strong> (or <code>long long</code>): Uses more space than <code>long</code>, at least 8 bytes</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">short</span> <span class="type">int</span> a;</span><br><span class="line"><span class="type">long</span> <span class="type">int</span> b;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> <span class="type">int</span> c;</span><br></pre></td></tr></table></figure>

<p>By default, <code>short</code>, <code>long</code>, and <code>long long</code> are signed. You can declare them as unsigned to double the maximum value they can represent:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">short</span> <span class="type">int</span> a;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span> b;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> c;</span><br></pre></td></tr></table></figure>

<p>The <code>int</code> in these declarations can be omitted:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">short</span> a;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">short</span> a;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> b;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> b;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="type">long</span> c;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> c;</span><br></pre></td></tr></table></figure>

<p>The size of data types can vary between computers. Use <code>long</code> for 32-bit integers and <code>long long</code> for 64-bit integers to ensure proper size, and use <code>short</code> for 16-bit integers. For 8-bit integers, use <code>char</code>.</p>
<h3 id="Limits-of-Integer-Types"><a href="#Limits-of-Integer-Types" class="headerlink" title="Limits of Integer Types"></a>Limits of Integer Types</h3><p>To determine the maximum and minimum values of integer types on your system, use constants from the header file <code>limits.h</code>. For example:</p>
<ul>
<li><code>SCHAR_MIN</code> and <code>SCHAR_MAX</code> for <code>signed char</code></li>
<li><code>SHRT_MIN</code> and <code>SHRT_MAX</code> for <code>short</code></li>
<li><code>INT_MIN</code> and <code>INT_MAX</code> for <code>int</code></li>
<li><code>LONG_MIN</code> and <code>LONG_MAX</code> for <code>long</code></li>
<li><code>LLONG_MIN</code> and <code>LLONG_MAX</code> for <code>long long</code></li>
<li><code>UCHAR_MAX</code> for <code>unsigned char</code></li>
<li><code>USHRT_MAX</code> for <code>unsigned short</code></li>
<li><code>UINT_MAX</code> for <code>unsigned int</code></li>
<li><code>ULONG_MAX</code> for <code>unsigned long</code></li>
<li><code>ULLONG_MAX</code> for <code>unsigned long long</code></li>
</ul>
<p>Using these constants ensures your code remains portable across different systems.</p>
<h3 id="Integer-Literals-and-Formats"><a href="#Integer-Literals-and-Formats" class="headerlink" title="Integer Literals and Formats"></a>Integer Literals and Formats</h3><p>By default, integers in C are written in decimal. To represent octal and hexadecimal numbers, use specific prefixes:</p>
<ul>
<li><strong>Octal</strong>: Prefix with <code>0</code> (e.g., <code>017</code> or <code>0377</code>).</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">012</span>;  <span class="comment">// Octal, equivalent to decimal 10</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Hexadecimal</strong>: Prefix with <code>0x</code> or <code>0X</code> (e.g., <code>0xf</code> or <code>0X10</code>).</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">0x1A2B</span>;  <span class="comment">// Hexadecimal, equivalent to decimal 6699</span></span><br></pre></td></tr></table></figure>

<p>Some compilers also support binary literals with the <code>0b</code> prefix (though this is not standard):</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">0b101010</span>;</span><br></pre></td></tr></table></figure>

<p>Different bases are only for representation; they do not affect the actual storage of the integer, which is always in binary. You can mix bases in expressions, such as <code>10 + 015 + 0x20</code>.</p>
<p>Use the following format specifiers with <code>printf()</code> to display integers in different bases:</p>
<ul>
<li><code>%d</code>: Decimal</li>
<li><code>%o</code>: Octal</li>
<li><code>%x</code>: Hexadecimal</li>
<li><code>%#o</code>: Octal with prefix <code>0</code></li>
<li><code>%#x</code>: Hexadecimal with prefix <code>0x</code></li>
<li><code>%#X</code>: Hexadecimal with prefix <code>0X</code></li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;dec = %d\n&quot;</span>, x);       <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;octal = %o\n&quot;</span>, x);     <span class="comment">// 144</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hex = %x\n&quot;</span>, x);       <span class="comment">// 64</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;octal = %#o\n&quot;</span>, x);    <span class="comment">// 0144</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hex = %#x\n&quot;</span>, x);      <span class="comment">// 0x64</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hex = %#X\n&quot;</span>, x);      <span class="comment">// 0X64</span></span><br></pre></td></tr></table></figure>



<h2 id="Floating-Point-Numbers"><a href="#Floating-Point-Numbers" class="headerlink" title="Floating Point Numbers"></a>Floating Point Numbers</h2><p>In programming, a floating point number is a value with a decimal point, represented in the form ( $ m \times b^e $ ), where ( <code>m</code> ) is the mantissa, ( <code>b</code> ) is the base (usually <code>2</code>), and ( <code>e</code> ) is the exponent. This format balances precision and range, allowing for representation of very large or very small numbers.</p>
<p>In C, floating point types are declared using the <code>float</code> keyword. For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> c = <span class="number">10.5</span>;</span><br></pre></td></tr></table></figure>

<p>Here, <code>c</code> is a floating point variable. The <code>float</code> type uses 4 bytes (32 bits), with 8 bits for the exponent and sign, and 24 bits for the mantissa and sign. It provides at least 6 decimal digits of precision and can represent values from $ 10^{-37} $ to $ 10^{37} $.</p>
<p>For cases where more precision or range is needed, C offers two larger floating point types:</p>
<ul>
<li><code>double</code>: Uses 8 bytes (64 bits), with at least 13 decimal digits of precision.</li>
<li><code>long double</code>: Typically uses 16 bytes, but this can vary by system.</li>
</ul>
<p>Due to precision limits, floating point numbers are approximations, and calculations may not be exact. For example, in C, <code>0.1 + 0.2</code> does not exactly equal <code>0.3</code>, but has a small error:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>Floating point numbers can also be represented using scientific notation, where <code>e</code> separates the decimal part from the exponent:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> x = <span class="number">123.456e+3</span>; <span class="comment">// Equivalent to 123.456 x 10^3</span></span><br><span class="line"><span class="comment">// or simply</span></span><br><span class="line"><span class="type">double</span> x = <span class="number">123.456e3</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>+</code> in the exponent can be omitted, and spaces around <code>e</code> are not allowed. Leading or trailing zeros in the decimal part can be omitted:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">0.3E6</span> <span class="comment">// Equivalent to .3E6</span></span><br><span class="line"><span class="number">3.0E6</span> <span class="comment">// Equivalent to 3.E6</span></span><br></pre></td></tr></table></figure>



<h2 id="Boolean-Type"><a href="#Boolean-Type" class="headerlink" title="Boolean Type"></a>Boolean Type</h2><p>Originally, C did not have a dedicated boolean type. Instead, <code>0</code> was used for false, and any non-zero value was considered true:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (x) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;x is true!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>With the C99 standard, <code>_Bool</code> was introduced to represent boolean values. This is essentially an alias for <code>int</code>, with <code>0</code> as false and <code>1</code> as true:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">_Bool</span> isNormal;</span><br><span class="line">isNormal = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (isNormal)</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Everything is OK.\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The header file <code>stdbool.h</code> defines a <code>bool</code> type alias and constants <code>true</code> and <code>false</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> flag = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>



<h2 id="Literal-types"><a href="#Literal-types" class="headerlink" title="Literal types"></a>Literal types</h2><p>Literals are fixed values directly written into the code.</p>
<p>For example:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<p>In this code, <code>x</code> is a variable, and <code>123</code> is a literal.</p>
<p>At compile time, literals are also written to memory, so the compiler must assign a data type to them just as it does for variables.</p>
<p>Typically, decimal integer literals (like <code>123</code>) are assigned the <code>int</code> type by the compiler. If a number is too large for an <code>int</code>, the compiler assigns it <code>long int</code>. If it exceeds <code>long int</code>, it will be assigned <code>unsigned long</code>, and if thatâ€™s still not sufficient, it will be assigned <code>long long</code> or <code>unsigned long long</code>.</p>
<p>Floating-point literals (like <code>3.14</code>) are assigned the <code>double</code> type.</p>
<h2 id="Literal-Suffixes"><a href="#Literal-Suffixes" class="headerlink" title="Literal Suffixes"></a>Literal Suffixes</h2><p>Sometimes, programmers want to specify a different type for a literal. For instance, the compiler assigns an integer literal to the <code>int</code> type by default, but if a programmer wants to assign it as a <code>long</code>, they can add the suffix <code>l</code> or <code>L</code> to the literal. This signals to the compiler to treat the literal as a <code>long</code> type.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">123L</span>;</span><br></pre></td></tr></table></figure>

<p>In the above example, the literal <code>123</code> has the suffix <code>L</code>, so the compiler will treat it as a <code>long</code>. You can also write it as <code>123l</code>, but using <code>L</code> is recommended because the lowercase <code>l</code> can be easily confused with the number <code>1</code>.</p>
<p>Octal and hexadecimal values can also use the <code>l</code> or <code>L</code> suffix to indicate they should be treated as <code>long</code>, such as <code>020L</code> and <code>0x20L</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> y = <span class="number">0377L</span>;</span><br><span class="line"><span class="type">int</span> z = <span class="number">0x7fff</span>L;</span><br></pre></td></tr></table></figure>

<p>If you want to specify an unsigned integer, use the suffix <code>u</code> or <code>U</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">123U</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>L</code> and <code>U</code> suffixes can be combined to indicate an <code>unsigned long</code>. The order and case of <code>L</code> and <code>U</code> do not matter.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">123LU</span>;</span><br></pre></td></tr></table></figure>

<p>For floating-point numbers, the compiler defaults to the <code>double</code> type. If you want to specify a different type, add the suffix <code>f</code> (for <code>float</code>) or <code>l</code> (for <code>long double</code>) after the decimal.</p>
<p>You can also use suffixes with scientific notation.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.2345e+10</span>F</span><br><span class="line"><span class="number">1.2345e+10</span>L</span><br></pre></td></tr></table></figure>

<p>To summarize, here are the common literal suffixes:</p>
<ul>
<li><code>f</code> and <code>F</code>: <code>float</code> type.</li>
<li><code>l</code> and <code>L</code>: <code>long int</code> for integers, <code>long double</code> for floating-point numbers.</li>
<li><code>ll</code> and <code>LL</code>: <code>long long int</code>, such as <code>3LL</code>.</li>
<li><code>u</code> and <code>U</code>: <code>unsigned int</code>, such as <code>15U</code> or <code>0377U</code>.</li>
<li><code>u</code> can be combined with other integer suffixes, and the order doesnâ€™t matter, e.g., <code>10UL</code>, <code>10ULL</code>, and <code>10LLU</code> are all valid.</li>
</ul>
<p>Here are some examples:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>           x = <span class="number">1234</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">int</span>      x = <span class="number">1234L</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> <span class="type">int</span> x = <span class="number">1234LL</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span>           x = <span class="number">1234U</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">int</span>      x = <span class="number">1234UL</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> x = <span class="number">1234ULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">float</span> x       = <span class="number">3.14f</span>;</span><br><span class="line"><span class="type">double</span> x      = <span class="number">3.14</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">double</span> x = <span class="number">3.14L</span>;</span><br></pre></td></tr></table></figure>



<h2 id="Overflow"><a href="#Overflow" class="headerlink" title="Overflow"></a>Overflow</h2><p>Each data type has a defined range of values. If a value exceeds this range (either smaller than the minimum or larger than the maximum), an overflow occurs, requiring more binary space than available. If the value exceeds the maximum, itâ€™s called an <strong>overflow</strong>; if itâ€™s smaller than the minimum, itâ€™s an <strong>underflow</strong>.</p>
<p>Generally, the compiler wonâ€™t throw an error for overflows. Instead, it will execute the code and discard the excess binary bits, leading to unexpected results. Therefore, overflows should be avoided.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> x = <span class="number">255</span>;</span><br><span class="line">x = x + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, x); <span class="comment">// Output: 0</span></span><br></pre></td></tr></table></figure>

<p>In this example, adding <code>1</code> to <code>x</code> doesnâ€™t result in <code>256</code>, but rather <code>0</code>. This happens because <code>x</code> is an <code>unsigned char</code> with a maximum value of <code>255</code> (binary <code>11111111</code>). Adding <code>1</code> causes an overflow, and the highest bit in <code>256</code> (binary <code>100000000</code>) is discarded, leaving <code>0</code>.</p>
<p>Hereâ€™s another example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> ui = UINT_MAX;  <span class="comment">// 4,294,967,295</span></span><br><span class="line">ui++;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ui = %u\n&quot;</span>, ui); <span class="comment">// 0</span></span><br><span class="line">ui--;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ui = %u\n&quot;</span>, ui); <span class="comment">// 4,294,967,295</span></span><br></pre></td></tr></table></figure>

<p>The constant <code>UINT_MAX</code> is the maximum value for <code>unsigned int</code>. Adding <code>1</code> causes an overflow, resulting in <code>0</code>. Subtracting <code>1</code> from <code>0</code> returns <code>UINT_MAX</code>.</p>
<p>Overflows are easy to overlook because the compiler wonâ€™t issue warnings, so extra caution is needed.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">int</span> i = n; i &gt;= <span class="number">0</span>; --i) <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>At first glance, this loop looks fine, but the variable <code>i</code> is an <code>unsigned int</code>, and its minimum value is <code>0</code>. It cannot produce a value less than <code>0</code>. When <code>i</code> reaches <code>0</code> and is decremented by <code>1</code>, it doesnâ€™t result in <code>-1</code>, but rather the maximum value for <code>unsigned int</code>, which is always greater than or equal to <code>0</code>, leading to an infinite loop.</p>
<p>To prevent overflows, the best approach is to compare the result of an operation with the limits of the data type.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> ui;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> sum;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Incorrect</span></span><br><span class="line"><span class="keyword">if</span> (sum + ui &gt; UINT_MAX) too_big();</span><br><span class="line"><span class="keyword">else</span> sum = sum + ui;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="keyword">if</span> (ui &gt; UINT_MAX - sum) too_big();</span><br><span class="line"><span class="keyword">else</span> sum = sum + ui;</span><br></pre></td></tr></table></figure>

<p>In the above example, both <code>sum</code> and <code>ui</code> are of <code>unsigned int</code> type, and their sum might cause an overflow. However, you cannot determine an overflow by checking if the sum exceeds <code>UINT_MAX</code>, because <code>sum + ui</code> returns the overflowed result, which cannot be greater than <code>UINT_MAX</code>. The correct method is to compare <code>UINT_MAX - sum</code> with <code>ui</code>.</p>
<p>Hereâ€™s another common mistake:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">int</span> i = <span class="number">5</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> j = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (i - j &lt; <span class="number">0</span>) <span class="comment">// Error</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;negative\n&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;positive\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The above code will always print <code>positive</code>. This is because both <code>i</code> and <code>j</code> are <code>unsigned int</code>, so the result of <code>i - j</code> is also <code>unsigned int</code>, which has a minimum value of <code>0</code>. It cannot be less than <code>0</code>. The correct way to write this is:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (j &gt; i) <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>





<h2 id="sizeof-Operator"><a href="#sizeof-Operator" class="headerlink" title="sizeof Operator"></a><code>sizeof</code> Operator</h2><p>The <code>sizeof</code> operator in C is used to determine the number of bytes occupied by a data type or a specific value. Its argument can be a data type keyword, a variable, or a literal value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Argument as data type</span></span><br><span class="line"><span class="type">int</span> x = <span class="keyword">sizeof</span>(<span class="type">int</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Argument as a variable</span></span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">sizeof</span>(i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Argument as a literal</span></span><br><span class="line"><span class="keyword">sizeof</span>(<span class="number">3.14</span>);</span><br></pre></td></tr></table></figure>

<p>In the first example, <code>sizeof(int)</code> returns the number of bytes used by the <code>int</code> type (typically 4 or 8 bytes). The second example returns the size of the integer variable <code>i</code>, which will be the same as the first. The third example returns the size of the literal <code>3.14</code>, which is treated as a <code>double</code> by default, so it returns 8.</p>
<p>The return type of <code>sizeof</code> is an unsigned integer, but C does not mandate its specific typeâ€”it varies by system. It could be <code>unsigned int</code>, <code>unsigned long</code>, or even <code>unsigned long long</code>, and the corresponding <code>printf()</code> format specifiers are <code>%u</code>, <code>%lu</code>, and <code>%llu</code> respectively. This variability can impact the portability of programs across different systems.</p>
<p>To solve this, C provides the <code>size_t</code> type, defined in the <code>stddef.h</code> header (included automatically with <code>stdio.h</code>), which represents the return type of <code>sizeof</code> across different systems. This helps ensure portability.</p>
<p>C also provides the constant <code>SIZE_MAX</code>, which represents the maximum value that <code>size_t</code> can hold. The valid range for <code>size_t</code> is [0, SIZE_MAX].</p>
<p>For <code>printf()</code>, the specifiers <code>%zd</code> or <code>%zu</code> are specifically designed to handle <code>size_t</code> values.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zd\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br></pre></td></tr></table></figure>

<p>In this example, <code>%zd</code> ensures correct output regardless of the underlying type returned by <code>sizeof</code>. If your system doesnâ€™t support <code>%zd</code> or <code>%zu</code>, you can use <code>%u</code> for <code>unsigned int</code> or <code>%lu</code> for <code>unsigned long</code>.</p>
<h2 id="Automatic-Type-Conversion"><a href="#Automatic-Type-Conversion" class="headerlink" title="Automatic Type Conversion"></a>Automatic Type Conversion</h2><p>In certain situations, C automatically converts one data type to another.</p>
<h3 id="Assignment-Operations"><a href="#Assignment-Operations" class="headerlink" title="Assignment Operations"></a>Assignment Operations</h3><ol>
<li><strong>Assigning a floating-point value to an integer variable</strong><br>When assigning a floating-point value to an integer, C discards the fractional part rather than rounding.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">3.14</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, the value assigned to <code>x</code> is <code>3</code>, as the fractional part <code>.14</code> is discarded.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">12.99</span>;</span><br></pre></td></tr></table></figure>

<p>Here, <code>x</code> becomes <code>12</code>, not the rounded value <code>13</code>.</p>
<ol start="2">
<li><strong>Assigning an integer value to a floating-point variable</strong><br>When assigning an integer to a floating-point variable, C automatically converts the integer to a float.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">float</span> y = <span class="number">12</span> * <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>The value of <code>y</code> is <code>24.0</code> because the integer result <code>24</code> is automatically converted to a floating-point number.</p>
<ol start="3">
<li><strong>Assigning a smaller type to a larger type</strong><br>When assigning a value of a narrower type (like <code>char</code>) to a wider type (like <code>int</code>), the value is automatically promoted to the larger type.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> i = x + y;</span><br></pre></td></tr></table></figure>

<p>Here, <code>x</code> is promoted to <code>int</code> before the operation.</p>
<ol start="4">
<li><strong>Assigning a larger type to a smaller type</strong><br>When assigning a larger type (like <code>int</code>) to a smaller type (like <code>char</code>), truncation occurs, and excess bits are discarded.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">321</span>;</span><br><span class="line"><span class="type">char</span> ch = i;  <span class="comment">// ch holds 65, which is 321 % 256</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>ch</code> stores <code>65</code> because the excess binary digits of <code>321</code> are discarded, leaving only the last 8 bits (which represent <code>65</code> in decimal).</p>
<p>Similarly, assigning a floating-point value to an integer variable truncates the decimal part.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> pi = <span class="number">3.14159</span>;</span><br><span class="line"><span class="type">int</span> i = pi;  <span class="comment">// i becomes 3</span></span><br></pre></td></tr></table></figure>

<h3 id="Mixed-Type-Operations"><a href="#Mixed-Type-Operations" class="headerlink" title="Mixed-Type Operations"></a>Mixed-Type Operations</h3><p>When different types are mixed in an expression, C converts them to a common type before performing the operation:</p>
<ol>
<li><strong>Integer and floating-point operations</strong><br>In operations involving both integers and floating-point values, integers are converted to floating-point types.</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> + <span class="number">1.2</span>  <span class="comment">// Result: 4.2</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Floating-point type promotion</strong><br>When performing operations between different floating-point types, the smaller type is promoted to the larger type (e.g., <code>float</code> to <code>double</code>).</li>
<li><strong>Integer type promotion</strong><br>For integer operations, smaller integer types are promoted to larger types (e.g., <code>short</code> to <code>int</code>).</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">-5</span>;</span><br><span class="line"><span class="keyword">if</span> (a &lt; <span class="keyword">sizeof</span>(<span class="type">int</span>)) </span><br><span class="line">  do_something();</span><br></pre></td></tr></table></figure>

<p>Here, <code>a</code> is a signed integer, and <code>sizeof(int)</code> returns an unsigned integer (<code>size_t</code>). C automatically converts <code>a</code> to an unsigned type, which leads to an unexpected comparison result.</p>
<h3 id="Integer-Operations"><a href="#Integer-Operations" class="headerlink" title="Integer Operations"></a>Integer Operations</h3><p>For integer types smaller than <code>int</code>, arithmetic results are promoted to <code>int</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> a = <span class="number">66</span>;</span><br><span class="line"><span class="keyword">if</span> (-a &lt; <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;negative\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this example, <code>-a</code> is promoted to <code>int</code>, so the result is negative even though <code>a</code> is <code>unsigned char</code>.</p>
<p>Another example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> b = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">if</span> ((a - <span class="number">5</span>) &lt; <span class="number">0</span>) do_something();</span><br><span class="line"><span class="keyword">if</span> ((b + <span class="number">255</span>) &gt; <span class="number">300</span>) do_something();</span><br></pre></td></tr></table></figure>

<p>In both cases, the expressions are promoted to <code>int</code>, so the operations execute as expected.</p>
<h3 id="Function-Parameter-and-Return-Type-Conversion"><a href="#Function-Parameter-and-Return-Type-Conversion" class="headerlink" title="Function Parameter and Return Type Conversion"></a>Function Parameter and Return Type Conversion</h3><p>Function parameters and return values are automatically converted to match the functionâ€™s defined types.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">dostuff</span><span class="params">(<span class="type">int</span>, <span class="type">unsigned</span> <span class="type">char</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> m = <span class="number">42</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">short</span> n = <span class="number">43</span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> c = dostuff(m, n);</span><br></pre></td></tr></table></figure>

<p>In this case, <code>m</code> and <code>n</code> are converted to <code>int</code> and <code>unsigned char</code> respectively, matching the functionâ€™s signature.</p>
<p>Similarly, return values are automatically converted:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> <span class="title function_">func</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">42</span>;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, the function returns a <code>char</code>, so the <code>int</code> variable <code>a</code> is converted accordingly.</p>
<h2 id="Explicit-Type-Casting"><a href="#Explicit-Type-Casting" class="headerlink" title="Explicit Type Casting"></a>Explicit Type Casting</h2><p>In principle, automatic type conversion should be avoided to prevent unexpected results. C provides explicit type casting, allowing you to manually convert a value to a specified type.</p>
<p>To cast a value or variable, simply place the desired type in parentheses before the value or variable. This is called â€œtype casting.â€</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(<span class="type">unsigned</span> <span class="type">char</span>) ch</span><br></pre></td></tr></table></figure>

<p>The example above casts the variable <code>ch</code> to an unsigned character type.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="type">int</span> y = (<span class="type">long</span> <span class="type">int</span>) <span class="number">10</span> + <span class="number">12</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>(long int)</code> explicitly converts <code>10</code> to a <code>long int</code>. However, this cast is unnecessary because the assignment operator will automatically convert the right-hand value to the type of the left-hand variable.</p>
<h2 id="Portable-Data-Types"><a href="#Portable-Data-Types" class="headerlink" title="Portable Data Types"></a>Portable Data Types</h2><p>The width of Câ€™s integer types (<code>short</code>, <code>int</code>, <code>long</code>) can vary across different machines, making it difficult to predict how many bytes these types will occupy. To write more portable code, programmers can control the exact width of integers. The header file <code>stdint.h</code> provides type aliases for this purpose.</p>
<ol>
<li><strong>Exact-width integer types</strong> guarantee the size of an integer:<ul>
<li><code>int8_t</code>: 8-bit signed integer.</li>
<li><code>int16_t</code>: 16-bit signed integer.</li>
<li><code>int32_t</code>: 32-bit signed integer.</li>
<li><code>int64_t</code>: 64-bit signed integer.</li>
<li><code>uint8_t</code>: 8-bit unsigned integer.</li>
<li><code>uint16_t</code>: 16-bit unsigned integer.</li>
<li><code>uint32_t</code>: 32-bit unsigned integer.</li>
<li><code>uint64_t</code>: 64-bit unsigned integer.</li>
</ul>
</li>
</ol>
<p>These are type aliases that the compiler maps to the appropriate underlying type. For example, if <code>int</code> is 32 bits on a given system, <code>int32_t</code> will map to <code>int</code>. If <code>long</code> is 32 bits, <code>int32_t</code> will map to <code>long</code>.</p>
<p>Example usage:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="type">int32_t</span> x32 = <span class="number">45933945</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;x32 = %d\n&quot;</span>, x32);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>x32</code> is declared as an <code>int32_t</code>, ensuring a width of 32 bits.</p>
<ol start="2">
<li><strong>Minimum-width types</strong> guarantee a minimum number of bits:<ul>
<li><code>int_least8_t</code></li>
<li><code>int_least16_t</code></li>
<li><code>int_least32_t</code></li>
<li><code>int_least64_t</code></li>
<li><code>uint_least8_t</code></li>
<li><code>uint_least16_t</code></li>
<li><code>uint_least32_t</code></li>
<li><code>uint_least64_t</code></li>
</ul>
</li>
</ol>
<p>These types ensure that the integer occupies at least the specified number of bits. For example, <code>int_least8_t</code> is guaranteed to be at least 8 bits wide.</p>
<ol start="3">
<li><strong>Fastest minimum-width types</strong> ensure the fastest integer operations for a given width:<ul>
<li><code>int_fast8_t</code></li>
<li><code>int_fast16_t</code></li>
<li><code>int_fast32_t</code></li>
<li><code>int_fast64_t</code></li>
<li><code>uint_fast8_t</code></li>
<li><code>uint_fast16_t</code></li>
<li><code>uint_fast32_t</code></li>
<li><code>uint_fast64_t</code></li>
</ul>
</li>
</ol>
<p>These types guarantee both the width and the fastest operation speed. For instance, <code>int_fast8_t</code> represents the fastest type for storing an 8-bit signed integer. On some machines, processing 32-bit integers may be faster than processing 16-bit integers, so the fastest type might be larger than 8 bits.</p>
<ol start="4">
<li><strong>Pointer-sized integer types</strong> store pointers as integers:<ul>
<li><code>intptr_t</code>: A signed integer capable of holding a pointer (memory address).</li>
<li><code>uintptr_t</code>: An unsigned integer capable of holding a pointer.</li>
</ul>
</li>
</ol>
<ol start="5">
<li><strong>Maximum-width integer types</strong> store the largest possible integers:<ul>
<li><code>intmax_t</code>: Can store any valid signed integer.</li>
<li><code>uintmax_t</code>: Can store any valid unsigned integer.</li>
</ul>
</li>
</ol>
<p>These types can store larger integers than <code>long long</code> and <code>unsigned long</code>.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Array in C Language</title>
    <url>/2024/05/09/c-language-array/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>An array is a collection of values of the same type stored in a sequential manner. Arrays are represented by a variable name followed by square brackets, with the number inside the brackets indicating the number of elements in the array.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> scores[<span class="number">100</span>];</span><br></pre></td></tr></table></figure>

<p>In this example, an array named <code>scores</code> is declared with 100 elements, each of which is of type <code>int</code>.</p>
<p><strong>Note:</strong> When declaring an array, you must specify its size.</p>
<p>Array elements are indexed starting from 0. Thus, in an array <code>scores[100]</code>, the indices range from 0 to 99. The last elementâ€™s index is always one less than the arrayâ€™s length.</p>
<p>You can access and assign values to array elements using their index in square brackets:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">scores[<span class="number">0</span>] = <span class="number">13</span>;</span><br><span class="line">scores[<span class="number">99</span>] = <span class="number">42</span>;</span><br></pre></td></tr></table></figure>

<p>The above example assigns values to the first and last positions of the <code>scores</code> array.</p>
<p><strong>Note:</strong> Accessing an out-of-bounds index (i.e., accessing an element that does not exist) does not produce an error, so you must be very careful to avoid such out-of-bounds access.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> scores[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">scores[<span class="number">100</span>] = <span class="number">51</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, the array <code>scores</code> only has 100 elements, so <code>scores[100]</code> is out of bounds. Accessing this index will not produce an error but will modify memory adjacent to the array, potentially altering other variables. This can lead to difficult-to-diagnose errors.</p>
<p>Arrays can also be initialized using curly braces at the time of declaration:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>, <span class="number">18</span>, <span class="number">95</span>&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong> When initializing an array with curly braces, you must do so at the time of declaration. Initializing an already declared array with curly braces will result in a compilation error.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>];</span><br><span class="line">a = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>, <span class="number">18</span>, <span class="number">95</span>&#125;; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>The error occurs because, once an array is declared, its memory address cannot be changed, as will be explained later. Therefore, you cannot reassign values to an already declared array using curly braces.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">a = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>, <span class="number">18</span>, <span class="number">95</span>&#125;; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>Reassigning values using curly braces after an initial declaration is also not allowed.</p>
<p>When using curly braces for initialization, if you provide more values than the arrayâ€™s size, a compilation error will occur.</p>
<p>If you provide fewer values than the array size, the remaining elements will be automatically initialized to 0.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>&#125;;</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>To initialize an entire array to zero, you can use:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>You can also specify values for specific positions in an array:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">15</span>] = &#123;[<span class="number">2</span>] = <span class="number">29</span>, [<span class="number">9</span>] = <span class="number">7</span>, [<span class="number">14</span>] = <span class="number">48</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>In this example, only the 2nd, 9th, and 14th positions are assigned values; all other positions default to 0.</p>
<p>Assignments to specific positions can be done in any order:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">15</span>] = &#123;[<span class="number">9</span>] = <span class="number">7</span>, [<span class="number">14</span>] = <span class="number">48</span>, [<span class="number">2</span>] = <span class="number">29</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>You can combine specific position assignments with sequential initialization:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">15</span>] = &#123;<span class="number">1</span>, [<span class="number">5</span>] = <span class="number">10</span>, <span class="number">11</span>, [<span class="number">10</span>] = <span class="number">20</span>, <span class="number">21</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>In this example, elements at positions 0, 5, 6, 10, and 11 are assigned values.</p>
<p>C allows you to omit the size of an array during declaration. In this case, the arrayâ€™s length is automatically determined by the number of values provided:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>&#125;;</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span> a[<span class="number">3</span>] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>Here, the length of the array <code>a</code> is 3, based on the number of values in the curly braces.</p>
<p>When using specific position assignments with omitted sizes, the array length will be one more than the highest specified index:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;[<span class="number">2</span>] = <span class="number">6</span>, [<span class="number">9</span>] = <span class="number">12</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>In this case, the highest specified index is 9, so the array length is 10.</p>
<h2 id="Array-Length"><a href="#Array-Length" class="headerlink" title="Array Length"></a>Array Length</h2><p>In C, the <code>sizeof</code> operator returns the total byte size of an array.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">22</span>, <span class="number">37</span>, <span class="number">3490</span>&#125;;</span><br><span class="line"><span class="type">int</span> arrLen = <span class="keyword">sizeof</span>(a); <span class="comment">// 12 bytes</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>sizeof(a)</code> returns the total byte size of the array <code>a</code>, which is 12 bytes.</p>
<p>Since all elements in the array are of the same type, each element occupies the same number of bytes. Therefore, to determine the number of elements in the array, you divide the total byte size of the array by the byte size of a single element:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>In this case, <code>sizeof(a)</code> gives the total byte size of the array, while <code>sizeof(a[0])</code> provides the byte size of a single element. Dividing these values gives the number of elements in the array.</p>
<p>Note that <code>sizeof</code> returns a value of type <code>size_t</code>, so the result of <code>sizeof(a) / sizeof(a[0])</code> is also of type <code>size_t</code>. Use <code>%zu</code> or <code>%zd</code> format specifiers in <code>printf</code> to print <code>size_t</code> values.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x[<span class="number">12</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(x));     <span class="comment">// 48 bytes</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));  <span class="comment">// 4 bytes</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%zu\n&quot;</span>, <span class="keyword">sizeof</span>(x) / <span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 12 elements</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>sizeof(x) / sizeof(int)</code> computes the number of elements in the array, which is 12.</p>
<h2 id="Multidimensional-Arrays"><a href="#Multidimensional-Arrays" class="headerlink" title="Multidimensional Arrays"></a>Multidimensional Arrays</h2><p>C allows you to declare arrays with multiple dimensions by using multiple sets of square brackets. For example, a two-dimensional array is declared with two sets of square brackets:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> board[<span class="number">10</span>][<span class="number">10</span>];</span><br></pre></td></tr></table></figure>

<p>Here, <code>board</code> is a two-dimensional array with 10 elements in each dimension, resulting in a total of 100 elements (10 x 10).</p>
<p>In a multidimensional array, each element of the higher dimension is itself an array. For instance, in <code>board[10][10]</code>, each of the 10 elements in the first dimension is an array of 10 elements.</p>
<p>To reference elements in a two-dimensional array, you use two sets of square brackets to specify the row and column:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">board[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">13</span>;</span><br><span class="line">board[<span class="number">9</span>][<span class="number">9</span>] = <span class="number">13</span>;</span><br></pre></td></tr></table></figure>

<p>Note that <code>board[0][0]</code> should not be written as <code>board[0, 0]</code>, because <code>0, 0</code> is a comma-separated expression and evaluates to <code>0</code>, making <code>board[0, 0]</code> equivalent to <code>board[0]</code>.</p>
<p>Just like with one-dimensional arrays, indexing in multidimensional arrays starts at 0.</p>
<p>Multidimensional arrays can also be initialized with nested braces:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">5</span>] = &#123;</span><br><span class="line">  &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>a</code> is a two-dimensional array. This initialization syntax assigns values to the array elements, with any omitted values automatically set to 0.</p>
<p>You can also initialize specific elements using designated initializers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">2</span>] = &#123;[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>, [<span class="number">1</span>][<span class="number">1</span>] = <span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>Here, only the elements at <code>[0][0]</code> and <code>[1][1]</code> are set to 1 and 2 respectively, with all other elements defaulting to 0.</p>
<p>Regardless of the number of dimensions, arrays are stored in memory in a linear fashion. For example, in a 2D array, elements are stored row by row. Therefore, you can also use a single set of braces for initialization:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">2</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>This syntax is equivalent to the previous initialization methods, with values assigned in row-major order.</p>
<h2 id="Variable-Length-Arrays-VLAs"><a href="#Variable-Length-Arrays-VLAs" class="headerlink" title="Variable-Length Arrays (VLAs)"></a>Variable-Length Arrays (VLAs)</h2><p>When declaring arrays, their length can be specified with a variable, not just a constant. This is known as a variable-length array (VLA).</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> n = x + y;</span><br><span class="line"><span class="type">int</span> arr[n];</span><br></pre></td></tr></table></figure>

<p>In this example, <code>arr</code> is a VLA because its length depends on the variable <code>n</code>, which is determined at runtime.</p>
<p>A VLA is characterized by having its length only known at runtime. This allows programmers to allocate arrays with precise lengths at runtime instead of guessing a size during development.</p>
<p>Any array whose length is determined at runtime is a VLA.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a1[i];</span><br><span class="line"><span class="type">int</span> a2[i + <span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> a3[i + k];</span><br></pre></td></tr></table></figure>

<p>In these examples, the lengths of <code>a1</code>, <code>a2</code>, and <code>a3</code> are only known at runtime, so they are all VLAs.</p>
<p>VLAs can also be used in multidimensional arrays.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> m = <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span> n = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> c[m][n];</span><br></pre></td></tr></table></figure>

<p>Here, <code>c[m][n]</code> is a two-dimensional VLA.</p>
<h2 id="Array-Addresses"><a href="#Array-Addresses" class="headerlink" title="Array Addresses"></a>Array Addresses</h2><p>Arrays consist of a sequence of contiguous values of the same type. By obtaining the address of the first element, you can calculate the addresses of the other elements.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>&#125;;</span><br><span class="line"><span class="type">int</span>* p;</span><br><span class="line"></span><br><span class="line">p = &amp;a[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p);  <span class="comment">// Prints &quot;11&quot;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>&amp;a[0]</code> is the address of the first element of <code>a</code>, and <code>*p</code> retrieves its value.</p>
<p>Since getting the starting address of an array is a common operation, C provides a shorthand: the array name itself represents the address of the first element.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>&#125;;</span><br><span class="line"><span class="type">int</span>* p = &amp;a[<span class="number">0</span>];  <span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span>* p = a;</span><br></pre></td></tr></table></figure>

<p>Here, <code>&amp;a[0]</code> and <code>a</code> are equivalent.</p>
<p>Passing an array to a function is the same as passing a pointer to its first element. You can declare a function to accept an array like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Option 1</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="comment">// Option 2</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> len)</span>;</span><br></pre></td></tr></table></figure>

<p>The function prototype with <code>arr[]</code> or <code>*arr</code> is interchangeable. Hereâ€™s how you can sum the elements using a pointer:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span>* arr, <span class="type">int</span> len)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line">  <span class="type">int</span> total = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    total += arr[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, the function takes a pointer <code>arr</code> (which is also the array name) and an integer <code>len</code> for the array length, summing the array elements.</p>
<p>Pointer operations also apply to multidimensional arrays.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">4</span>][<span class="number">2</span>];</span><br><span class="line"><span class="comment">// Accessing a[0][0]</span></span><br><span class="line">*(a[<span class="number">0</span>]);  <span class="comment">// Equivalent to **a</span></span><br></pre></td></tr></table></figure>

<p>In this case, <code>a[0]</code> is a pointer to the first row of the array, and <code>**a</code> accesses <code>a[0][0]</code>.</p>
<p>Note that the array name is fixed and cannot be reassigned.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> ints[<span class="number">100</span>];</span><br><span class="line">ints = <span class="literal">NULL</span>;  <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>Reassigning the array name will cause an error.</p>
<p>Similarly, you cannot assign one array to another.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Option 1</span></span><br><span class="line"><span class="type">int</span> b[<span class="number">5</span>] = a;  <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Option 2</span></span><br><span class="line"><span class="type">int</span> b[<span class="number">5</span>];</span><br><span class="line">b = a;  <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>Both attempts to reassign the array address will result in an error.</p>
<p>Hereâ€™s a refined version of the explanation in English:</p>
<h2 id="Pointer-Arithmetic-with-Arrays"><a href="#Pointer-Arithmetic-with-Arrays" class="headerlink" title="Pointer Arithmetic with Arrays"></a>Pointer Arithmetic with Arrays</h2><p>In C, you can perform addition and subtraction operations on array pointers. This effectively moves between the memory addresses of array elements. For instance, <code>a + 1</code> gives the address of the next element, while <code>a - 1</code> gives the address of the previous element.</p>
<p>Consider the following array and loop:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, we use pointer arithmetic to traverse the array. The expression <code>a + i</code> points to the address of the <code>i</code>-th element, and <code>*(a + i)</code> retrieves the value at that address, which is equivalent to <code>a[i]</code>. For the first element, <code>*(a + 0)</code> (or <code>*a</code>) is the same as <code>a[0]</code>.</p>
<p>Since array names and pointers are equivalent, the following equality always holds:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">a[b] == *(a + b)</span><br></pre></td></tr></table></figure>

<p>This demonstrates two ways to access array elements: using the subscript notation <code>a[b]</code> and pointer dereferencing <code>*(a + b)</code>.</p>
<p>If a pointer variable <code>p</code> points to an array element, then <code>p++</code> will point to the next element. This is commonly used to traverse arrays:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">999</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* p = a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (*p != <span class="number">999</span>) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p);</span><br><span class="line">  p++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>p++</code> moves the pointer to the next element.</p>
<p>Note that the address of the array itself (<code>a</code>) cannot be modified, so <code>a++</code> is invalid. Instead, assign the arrayâ€™s address to a pointer variable and increment the pointer:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">999</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* p = a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (p &lt; a + <span class="number">6</span>) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p);</span><br><span class="line">  p++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Calculating-Array-Length"><a href="#Calculating-Array-Length" class="headerlink" title="Calculating Array Length"></a>Calculating Array Length</h3><p>You can also compute the length of an array by comparing pointers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span>* start, <span class="type">int</span>* end)</span> &#123;</span><br><span class="line">  <span class="type">int</span> total = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">    total += *start;</span><br><span class="line">    start++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">20</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">39</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, sum(arr, arr + <span class="number">5</span>));</span><br></pre></td></tr></table></figure>

<p>Here, <code>arr</code> is the start address and <code>arr + 5</code> is the end address. As long as the start address is less than the end address, the function accumulates the values.</p>
<p>To find the number of elements between two pointers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">20</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">39</span>, <span class="number">88</span>&#125;;</span><br><span class="line"><span class="type">int</span>* p = arr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (*p != <span class="number">88</span>)</span><br><span class="line">  p++;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, p - arr); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>The difference <code>p - arr</code> gives the number of elements between the start of the array and the pointer <code>p</code>.</p>
<h3 id="Pointer-Arithmetic-with-Multidimensional-Arrays"><a href="#Pointer-Arithmetic-with-Multidimensional-Arrays" class="headerlink" title="Pointer Arithmetic with Multidimensional Arrays"></a>Pointer Arithmetic with Multidimensional Arrays</h3><p>For multidimensional arrays, pointer arithmetic works differently depending on the dimension:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">4</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pointer points to arr[1]</span></span><br><span class="line">arr + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pointer points to arr[0][1]</span></span><br><span class="line">arr[<span class="number">0</span>] + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>arr</code> is a 2D array. <code>arr + 1</code> moves the pointer to the next 1D array (i.e., <code>arr[1]</code>). Since each 1D array is an array of integers, <code>arr[0] + 1</code> moves the pointer to the next integer in the first 1D array, which is <code>arr[0][1]</code>.</p>
<h2 id="Array-Copying"><a href="#Array-Copying" class="headerlink" title="Array Copying"></a>Array Copying</h2><p>Since array names are pointers, you cannot directly copy arrays by assigning their names:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* a;</span><br><span class="line"><span class="type">int</span> b[<span class="number">3</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line">a = b;</span><br></pre></td></tr></table></figure>

<p>In this case, <code>a</code> and <code>b</code> point to the same array. To copy arrays, you need to copy each element individually:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">  a[i] = b[i];</span><br></pre></td></tr></table></figure>

<p>Alternatively, you can use <code>memcpy()</code> from the <code>string.h</code> library, which is faster:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">memcpy</span>(a, b, <span class="keyword">sizeof</span>(b));</span><br></pre></td></tr></table></figure>

<p>This copies the entire memory block occupied by array <code>b</code> to array <code>a</code>.</p>
<h2 id="Passing-Arrays-to-Functions"><a href="#Passing-Arrays-to-Functions" class="headerlink" title="Passing Arrays to Functions"></a>Passing Arrays to Functions</h2><p>When passing arrays to functions, you typically provide both the array name and its length.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> sum = sum_array(a, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<p>In this example, <code>sum_array()</code> takes the array <code>a</code> and its length <code>4</code> as parameters. The array name alone (i.e., <code>a</code>) is a pointer to the first element, so the function only knows where the array starts, not its size. Hence, you need to pass the length as well.</p>
<p>For multidimensional arrays, you need to specify the size of all but the first dimension in the function definition.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> a[][<span class="number">4</span>], <span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">2</span>][<span class="number">4</span>] = &#123;</span><br><span class="line">  &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> sum = sum_array(a, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>Here, <code>sum_array()</code> takes a 2D array with the second dimension size specified (4). The first dimension (2) is passed as a separate parameter, and the function knows each elementâ€™s size because the second dimension is provided.</p>
<h3 id="Variable-Length-Arrays"><a href="#Variable-Length-Arrays" class="headerlink" title="Variable-Length Arrays"></a>Variable-Length Arrays</h3><p>When using variable-length arrays (VLAs) as parameters, the syntax changes slightly:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> a[n])</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> sum = sum_array(<span class="number">4</span>, a);</span><br></pre></td></tr></table></figure>

<p>In this case, the arrayâ€™s length depends on the value of <code>n</code>, which must be passed before the VLA parameter. The function prototype can omit variable names:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span>, <span class="type">int</span> [])</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span>, <span class="type">int</span> [*])</span>;</span><br></pre></td></tr></table></figure>

<p>For multidimensional arrays, you can omit the size of the last dimension:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m, <span class="type">int</span> a[n][m])</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Array-Literals-as-Parameters"><a href="#Array-Literals-as-Parameters" class="headerlink" title="Array Literals as Parameters"></a>Array Literals as Parameters</h3><p>You can pass array literals directly to functions:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> sum = sum_array((<span class="type">int</span> [])&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>

<p>This approach avoids declaring a separate array variable, directly passing the literal <code>&#123;2, 3, 4, 5&#125;</code> as an array.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Typedef Command in C Language</title>
    <url>/2024/05/11/c-language-typedef/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>The <code>typedef</code> command is used to create an alias for a specific type.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> type name;</span><br></pre></td></tr></table></figure>

<p>In this code, <code>type</code> represents the original type, while <code>name</code> is the alias.</p>
<p>For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> BYTE;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>typedef</code> creates an alias <code>BYTE</code> for the type <code>unsigned char</code>, allowing you to declare variables using <code>BYTE</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">BYTE c = <span class="string">&#x27;z&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Multiple-Aliases"><a href="#Multiple-Aliases" class="headerlink" title="Multiple Aliases"></a>Multiple Aliases</h3><p>You can use <code>typedef</code> to define multiple aliases at once:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> antelope, bagel, mushroom;</span><br></pre></td></tr></table></figure>

<p>Here, <code>antelope</code>, <code>bagel</code>, and <code>mushroom</code> are all aliases for <code>int</code>.</p>
<h3 id="Pointer-Aliases"><a href="#Pointer-Aliases" class="headerlink" title="Pointer Aliases"></a>Pointer Aliases</h3><p>You can also create aliases for pointer types:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span>* intptr;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>intptr</code> is an alias for <code>int*</code>. Be cautious when using this, as it may not be immediately clear that <code>x</code> is a pointer:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">intptr x = &amp;a;</span><br></pre></td></tr></table></figure>

<h3 id="Array-Type-Aliases"><a href="#Array-Type-Aliases" class="headerlink" title="Array Type Aliases"></a>Array Type Aliases</h3><p><code>typedef</code> can also be used for array types:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> five_ints[<span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<p>In this case, <code>five_ints</code> is an alias for an array of 5 integers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">five_ints x = &#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Function-Type-Aliases"><a href="#Function-Type-Aliases" class="headerlink" title="Function Type Aliases"></a>Function Type Aliases</h3><p>To create an alias for a function type, you can use the following syntax:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">signed</span> <span class="title function_">char</span> <span class="params">(*fp)</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>fp</code> is an alias for a pointer to a function that returns <code>signed char</code> and takes no parameters.</p>
<h2 id="Benefits-of-typedef"><a href="#Benefits-of-typedef" class="headerlink" title="Benefits of typedef"></a>Benefits of <code>typedef</code></h2><p>The advantages of using <code>typedef</code> for creating type aliases are as follows:</p>
<ol>
<li><strong>Improved Code Readability</strong><br>Using <code>typedef</code> enhances clarity. For example:  </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span>* STRING;</span><br><span class="line">STRING name;</span><br></pre></td></tr></table></figure>

<p>Here, <code>STRING</code> clearly indicates that the variable is a string.</p>
<ol start="2">
<li><strong>Creating Aliases for Complex Data Structures</strong><br><code>typedef</code> simplifies references to complex structures, unions, and enums. For instance:  </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">treenode</span> &#123;</span> <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">treenode</span>* <span class="title">Tree</span>;</span></span><br></pre></td></tr></table></figure>

<p>In this case, <code>Tree</code> serves as an alias for <code>struct treenode*</code>.</p>
<ol start="3">
<li><strong>Facilitating Type Changes</strong><br>It allows easy type modifications later. For example:  </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">float</span> app_float;</span><br><span class="line">app_float f1, f2, f3;</span><br></pre></td></tr></table></figure>

<p>If you need to change the type later, simply update the <code>typedef</code>:  </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">double</span> app_float;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>Portability</strong><br>Different machines may interpret types differently. For example:  </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int32_t</span> i = <span class="number">100000</span>;</span><br></pre></td></tr></table></figure>

<p>This guarantees <code>i</code> is always a 32-bit integer, ensuring portability across architectures.</p>
<ol start="5">
<li><strong>Simplifying Type Declarations</strong><br>Complex declarations can be made clearer with <code>typedef</code>. For instance:  </li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="title function_">char</span> <span class="params">(*Func)</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="keyword">typedef</span> Func Arr[<span class="number">5</span>];</span><br><span class="line">Arr* <span class="title function_">x</span><span class="params">(<span class="type">void</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>This makes it easier to understand that <code>x</code> returns a pointer to an array of functions.</p>
<p>Overall, <code>typedef</code> enhances code clarity, maintainability, and portability in C programming.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>String in C Language</title>
    <url>/2024/05/10/c-language-string/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>C doesnâ€™t have a dedicated string type. Instead, strings are treated as arrays of characters (char arrays). For example, the string â€œHelloâ€ is processed as the array {â€˜Hâ€™, â€˜eâ€™, â€˜lâ€™, â€˜lâ€™, â€˜oâ€™}.</p>
<p>The compiler allocates a continuous block of memory for the array, with all characters stored in adjacent memory units. C automatically adds a null byte (â€˜\0â€™) at the end of the string to indicate its termination. This null character is different from the character â€˜0â€™. The null character has an ASCII code of 0 (binary 00000000), while â€˜0â€™ has an ASCII code of 48 (binary 00110000). So, the string â€œHelloâ€ is actually stored as {â€˜Hâ€™, â€˜eâ€™, â€˜lâ€™, â€˜lâ€™, â€˜oâ€™, â€˜\0â€™}.</p>
<p>Every string ends with the null character â€˜\0â€™. This allows C to read strings from memory without knowing their length in advance - it simply reads characters until it encounters â€˜\0â€™.</p>
<p>For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> localString[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>

<p>This declares a character array with 10 elements, which can be used as a string. Since one position must be reserved for â€˜\0â€™, it can hold a string of up to 9 characters.</p>
<p>Writing strings as arrays can be cumbersome. C provides a shorthand: characters within double quotes are automatically treated as character arrays.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// is equivalent to</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>

<p>Both representations are equivalent and stored the same way internally. With double quotes, you donâ€™t need to add â€˜\0â€™ yourself - C does it automatically.</p>
<p>Note: Double quotes denote strings, while single quotes denote characters. Theyâ€™re not interchangeable. Putting â€œHelloâ€ in single quotes will cause a compiler error.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="string">&#x27;Hello&#x27;</span></span><br></pre></td></tr></table></figure>

<p>Even a single character in double quotes (like â€œaâ€) is treated as a string (stored as 2 bytes), not as a character â€˜aâ€™ (stored as 1 byte).</p>
<p>If a string contains double quotes, they need to be escaped with a backslash:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;She replied, \&quot;It does.\&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>Backslashes can also represent other special characters, like newlines (\n) or tabs (\t):</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;Hello, world!\n&quot;</span></span><br></pre></td></tr></table></figure>

<p>For long strings, you can use a backslash (<code>\</code>) at the end of a line to split it across multiple lines:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;hello \</span></span><br><span class="line"><span class="string">world&quot;</span></span><br></pre></td></tr></table></figure>

<p>This approach has a drawback: the second line must start at the leftmost column, or any indentation will be included in the string. To solve this, C allows concatenation of string literals if theyâ€™re adjacent or separated only by whitespace:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> greeting[<span class="number">50</span>] = <span class="string">&quot;Hello, &quot;</span><span class="string">&quot;how are you &quot;</span><span class="string">&quot;today!&quot;</span>;</span><br><span class="line"><span class="comment">// equivalent to</span></span><br><span class="line"><span class="type">char</span> greeting[<span class="number">50</span>] = <span class="string">&quot;Hello, how are you today!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>This syntax also supports multi-line string concatenation:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> greeting[<span class="number">50</span>] = <span class="string">&quot;Hello, &quot;</span></span><br><span class="line">  <span class="string">&quot;how are you &quot;</span></span><br><span class="line">  <span class="string">&quot;today!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>To print strings, use the %s format specifier with printf():</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, <span class="string">&quot;hello world&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="String-Variable-Declaration"><a href="#String-Variable-Declaration" class="headerlink" title="String Variable Declaration"></a>String Variable Declaration</h2><p>String variables can be declared either as character arrays or as pointers to character arrays:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Method 1</span></span><br><span class="line"><span class="type">char</span> s[<span class="number">14</span>] = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 2</span></span><br><span class="line"><span class="type">char</span>* s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>Both methods declare a string variable <code>s</code>. With the first method, you can let the compiler calculate the array length:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[] = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>The compiler will set the length of array s to 14, exactly fitting the string.</p>
<p>The array length can be larger than the actual string length:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[<span class="number">50</span>] = <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>Here, s has a length of 50, but â€œhelloâ€ only uses 6 positions (including â€˜\0â€™). The remaining 44 positions are initialized to â€˜\0â€™.</p>
<p>However, the array length cannot be smaller than the actual string length:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[<span class="number">5</span>] = <span class="string">&quot;hello&quot;</span>; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>This will cause a compiler error because the array is too small to hold the string and its null terminator.</p>
<p>While character pointers and character arrays are mostly equivalent for declaring string variables, there are two key differences:</p>
<ol>
<li>Strings declared as pointers are treated as constants and cannot be modified:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">s[<span class="number">0</span>] = <span class="string">&#x27;z&#x27;</span>; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>This will lead to unpredictable results or errors at runtime.</p>
<p>With array declaration, you can modify any array element:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[] = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">s[<span class="number">0</span>] = <span class="string">&#x27;z&#x27;</span>; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure>

<p>This difference arises because string literals are stored in the constant memory area, which users canâ€™t modify. When declared as a pointer, the variable stores an address pointing to this constant area. But when declared as an array, the compiler allocates separate memory and copies the characters there, allowing modification.</p>
<p>To emphasize that a string pointer is read-only, you can use the <code>const</code> keyword:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span>* s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Pointer variables can be reassigned to other strings:</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* s = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">s = <span class="string">&quot;world&quot;</span>; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure>

<p>But array variables cannot point to another string:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">s = <span class="string">&quot;world&quot;</span>; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>The array name always points to its initial memory address and canâ€™t be changed.</p>
<p>For the same reason, you canâ€™t directly assign a string to a character array after declaration:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[<span class="number">10</span>];</span><br><span class="line">s = <span class="string">&quot;abc&quot;</span>; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>To assign a new string to an array, use the <code>strcpy()</code> function:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(s, <span class="string">&quot;abc&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>This copies the string â€œabcâ€ into s without changing <code>s</code>â€˜s address.</p>
<h2 id="strlen"><a href="#strlen" class="headerlink" title="strlen()"></a><code>strlen()</code></h2><p>The <code>strlen()</code> function returns the byte length of a string, excluding the null terminator (<code>\0</code>). Its prototype is as follows:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// string.h</span></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">strlen</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span>;</span><br></pre></td></tr></table></figure>

<p>The parameter is a string variable, and it returns a value of type <code>size_t</code>, which is an unsigned integer. In most cases, it can be treated as an <code>int</code>, unless dealing with extremely long strings. Hereâ€™s an example of how to use it:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">int</span> len = <span class="built_in">strlen</span>(str); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p>The prototype for <code>strlen()</code> is defined in the standard library header file <code>string.h</code>, so you need to include it:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="type">char</span>* s = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;The string is %zd characters long.\n&quot;</span>, <span class="built_in">strlen</span>(s));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note that string length (<code>strlen()</code>) and the size of the string variable (<code>sizeof()</code>) are two different concepts.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s[<span class="number">50</span>] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">strlen</span>(s));  <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(s));  <span class="comment">// 50</span></span><br></pre></td></tr></table></figure>

<p>In this example, the string length is 5, while the size of the string variable is 50 bytes.</p>
<p>If you choose not to use <code>strlen()</code>, you can manually calculate the string length by checking for the null terminator:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">my_strlen</span><span class="params">(<span class="type">char</span> *s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (s[count] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">        count++;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="strcpy"><a href="#strcpy" class="headerlink" title="strcpy()"></a><code>strcpy()</code></h2><p>In C, to copy strings, you cannot use the assignment operator (<code>=</code>) directly with character arrays. For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> str1[<span class="number">10</span>];</span><br><span class="line"><span class="type">char</span> str2[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">str1 = <span class="string">&quot;abc&quot;</span>; <span class="comment">// Error</span></span><br><span class="line">str2 = str1;  <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>Both attempts result in errors because array variable names represent fixed memory addresses that cannot be reassigned.</p>
<p>For character pointers, using the assignment operator (<code>=</code>) merely copies the address:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* s1;</span><br><span class="line"><span class="type">char</span>* s2;</span><br><span class="line"></span><br><span class="line">s1 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">s2 = s1;</span><br></pre></td></tr></table></figure>

<p>Here, <code>s1</code> and <code>s2</code> point to the same string, rather than copying the string content.</p>
<p>C provides the <code>strcpy()</code> function to copy the content of one string to another, effectively functioning as a string assignment. The prototype is found in the <code>string.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(<span class="type">char</span> dest[], <span class="type">const</span> <span class="type">char</span> source[]);</span><br></pre></td></tr></table></figure>

<p>The first parameter is the destination string array, and the second is the source. Ensure that the destination is large enough to hold the source; otherwise, this can lead to buffer overflow, causing unpredictable behavior. The <code>const</code> qualifier indicates that the source string will not be modified.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">char</span> s[] = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">  <span class="type">char</span> t[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">  <span class="built_in">strcpy</span>(t, s);</span><br><span class="line"></span><br><span class="line">  t[<span class="number">0</span>] = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, s);  <span class="comment">// &quot;Hello, world!&quot;</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, t);  <span class="comment">// &quot;zello, world!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the contents of <code>s</code> are copied to <code>t</code>, resulting in two separate strings. Modifying one does not affect the other. Note that the uninitialized positions in <code>t</code> may contain random values.</p>
<p>You can also use <code>strcpy()</code> to assign a string to a character array:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> str[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(str, <span class="string">&quot;abcd&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The return value of <code>strcpy()</code> is a pointer to the first character of the destination string.</p>
<p>Another example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* s1 = <span class="string">&quot;beast&quot;</span>;</span><br><span class="line"><span class="type">char</span> s2[<span class="number">40</span>] = <span class="string">&quot;Be the best that you can be.&quot;</span>;</span><br><span class="line"><span class="type">char</span>* ps;</span><br><span class="line"></span><br><span class="line">ps = <span class="built_in">strcpy</span>(s2 + <span class="number">7</span>, s1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">puts</span>(s2); <span class="comment">// Be the beast</span></span><br><span class="line"><span class="built_in">puts</span>(ps); <span class="comment">// beast</span></span><br></pre></td></tr></table></figure>

<p>This code copies â€œbeastâ€ starting from the 7th position in <code>s2</code>, altering the latterâ€™s content.</p>
<p><code>strcpy()</code> can also be nested to assign multiple strings:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(str1, <span class="built_in">strcpy</span>(str2, <span class="string">&quot;abcd&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>However, itâ€™s safer to declare the first parameter as an initialized array, not as an uninitialized pointer:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* str;</span><br><span class="line"><span class="built_in">strcpy</span>(str, <span class="string">&quot;hello world&quot;</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>This is problematic because <code>str</code> points to a random location.</p>
<p>If you prefer to implement your own string copy function, you can do so like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strcpy</span><span class="params">(<span class="type">char</span>* dest, <span class="type">const</span> <span class="type">char</span>* source)</span> &#123;</span><br><span class="line">  <span class="type">char</span>* ptr = dest;</span><br><span class="line">  <span class="keyword">while</span> (*dest++ = *source++);</span><br><span class="line">  <span class="keyword">return</span> ptr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The crucial line is <code>while (*dest++ = *source++);</code>, which copies each character until it reaches the null terminator (<code>\0</code>).</p>
<p>Finally, note that <code>strcpy()</code> poses security risks, as it does not check if the destination has enough space. If thereâ€™s a chance of overflow, consider using <code>strncpy()</code> instead.</p>
<h2 id="strncpy"><a href="#strncpy" class="headerlink" title="strncpy()"></a><code>strncpy()</code></h2><p>The usage of <code>strncpy()</code> is similar to that of <code>strcpy()</code>, with the addition of a third parameter that specifies the maximum number of characters to copy. This helps prevent buffer overflow in the destination string.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strncpy</span><span class="params">(</span></span><br><span class="line"><span class="params">  <span class="type">char</span>* dest, </span></span><br><span class="line"><span class="params">  <span class="type">const</span> <span class="type">char</span>* src, </span></span><br><span class="line"><span class="params">  <span class="type">size_t</span> n</span></span><br><span class="line"><span class="params">)</span>;</span><br></pre></td></tr></table></figure>

<p>In the prototype above, the third parameter <code>n</code> defines the maximum number of characters to copy. If the source string has more characters than <code>n</code>, the copying will stop, and the destination string will not have a null terminator (<code>\0</code>). This is an important consideration. If the source string has fewer characters than <code>n</code>, the behavior of <code>strncpy()</code> is identical to that of <code>strcpy()</code>.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">strncpy</span>(str1, str2, <span class="keyword">sizeof</span>(str1) - <span class="number">1</span>);</span><br><span class="line">str1[<span class="keyword">sizeof</span>(str1) - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>str2</code> is copied to <code>str1</code>, but only up to <code>sizeof(str1) - 1</code> characters. The last position in <code>str1</code> is reserved for the null terminator. Since <code>strncpy()</code> does not automatically append a <code>\0</code>, itâ€™s necessary to add it manually if the copied substring does not include one.</p>
<p><code>strncpy()</code> can also be used to copy a portion of a string:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s1[<span class="number">40</span>];</span><br><span class="line"><span class="type">char</span> s2[<span class="number">12</span>] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncpy</span>(s1, s2, <span class="number">5</span>);</span><br><span class="line">s1[<span class="number">5</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, s1); <span class="comment">// Output: hello</span></span><br></pre></td></tr></table></figure>

<p>In this example, only the first 5 characters of <code>s2</code> are copied to <code>s1</code>.</p>
<h2 id="strcat"><a href="#strcat" class="headerlink" title="strcat()"></a><code>strcat()</code></h2><p>The <code>strcat()</code> function is used to concatenate two strings. It takes two strings as parameters and appends a copy of the second string to the end of the first, modifying the first string in the process. The function prototype is defined in the <code>string.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strcat</span><span class="params">(<span class="type">char</span>* s1, <span class="type">const</span> <span class="type">char</span>* s2)</span>;</span><br></pre></td></tr></table></figure>

<p>The return value is a pointer to the first string.</p>
<p>For example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s1[<span class="number">12</span>] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">char</span> s2[<span class="number">6</span>] = <span class="string">&quot;world&quot;</span>;</span><br><span class="line"><span class="built_in">strcat</span>(s1, s2);</span><br><span class="line"><span class="built_in">puts</span>(s1); <span class="comment">// Outputs: &quot;helloworld&quot;</span></span><br></pre></td></tr></table></figure>

<p>Note that the first string must have enough space to hold the concatenated result. If not, it may overflow, leading to undefined behavior. To avoid this, consider using <code>strncat()</code>.</p>
<h2 id="strncat"><a href="#strncat" class="headerlink" title="strncat()"></a><code>strncat()</code></h2><p>The <code>strncat()</code> function is used to concatenate two strings, similar to <code>strcat()</code>, but it includes a third parameter that specifies the maximum number of characters to append. The function stops adding characters when it reaches the specified limit or encounters a null character (<code>\0</code>) in the source string. Its prototype is defined in the <code>string.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strncat</span><span class="params">(</span></span><br><span class="line"><span class="params">  <span class="type">char</span>* dest,</span></span><br><span class="line"><span class="params">  <span class="type">const</span> <span class="type">char</span>* src,</span></span><br><span class="line"><span class="params">  <span class="type">size_t</span> n</span></span><br><span class="line"><span class="params">)</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>strncat()</code> function returns a pointer to the destination string.</p>
<p>To ensure that the concatenated string does not exceed the length of the destination buffer, <code>strncat()</code> is typically called like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">strncat</span>(</span><br><span class="line">  str1, </span><br><span class="line">  str2, </span><br><span class="line">  <span class="keyword">sizeof</span>(str1) - <span class="built_in">strlen</span>(str1) - <span class="number">1</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><code>strncat()</code> automatically adds a null character (<code>\0</code>) at the end of the concatenated result. Therefore, the maximum value for the third parameter should be the length of <code>str1</code> minus its current length, minus one. Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s1[<span class="number">10</span>] = <span class="string">&quot;Monday&quot;</span>;</span><br><span class="line"><span class="type">char</span> s2[<span class="number">8</span>] = <span class="string">&quot;Tuesday&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">strncat</span>(s1, s2, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">puts</span>(s1); <span class="comment">// Outputs: &quot;MondayTue&quot;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>s1</code> has a total length of 10 and a current length of 6. The difference, minus one, is 3, meaning <code>s1</code> can safely add three more characters. Thus, the result is â€œMondayTueâ€.</p>
<h2 id="strcmp"><a href="#strcmp" class="headerlink" title="strcmp()"></a><code>strcmp()</code></h2><p>To compare two strings in C, you canâ€™t do it directly; instead, you must compare them character by character. The C language provides the <code>strcmp()</code> function for this purpose.</p>
<p>The <code>strcmp()</code> function is used to compare the contents of two strings. Its prototype is defined in the <code>string.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s1, <span class="type">const</span> <span class="type">char</span>* s2)</span>;</span><br></pre></td></tr></table></figure>

<p>The function compares the strings in lexicographical order. It returns:</p>
<ul>
<li>0 if the strings are equal,</li>
<li>a value less than 0 if <code>s1</code> is less than <code>s2</code>,</li>
<li>a value greater than 0 if <code>s1</code> is greater than <code>s2</code>.</li>
</ul>
<p>Hereâ€™s a usage example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// s1 = &quot;Happy New Year&quot;</span></span><br><span class="line"><span class="comment">// s2 = &quot;Happy New Year&quot;</span></span><br><span class="line"><span class="comment">// s3 = &quot;Happy Holidays&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">strcmp</span>(s1, s2); <span class="comment">// returns 0</span></span><br><span class="line"><span class="built_in">strcmp</span>(s1, s3); <span class="comment">// returns a value greater than 0</span></span><br><span class="line"><span class="built_in">strcmp</span>(s3, s1); <span class="comment">// returns a value less than 0</span></span><br></pre></td></tr></table></figure>

<p>Note that <code>strcmp()</code> is intended solely for comparing strings, not individual characters. Since characters are essentially small integers, you can compare them directly using the equality operator (<code>==</code>). Therefore, do not pass character values to <code>strcmp()</code>.</p>
<h2 id="strncmp"><a href="#strncmp" class="headerlink" title="strncmp()"></a><code>strncmp()</code></h2><p><code>strncmp()</code> is a variation of <code>strcmp()</code> that allows comparison of only a specified number of characters from two strings. It includes a third parameter, <code>n</code>, which defines the maximum number of characters to compare. The function prototype is defined in the <code>string.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">strncmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s1, <span class="type">const</span> <span class="type">char</span>* s2, <span class="type">size_t</span> n)</span>;</span><br></pre></td></tr></table></figure>

<p>The return value is similar to <code>strcmp()</code>: it returns 0 if the strings are identical, a negative value if <code>s1</code> is less than <code>s2</code>, and a positive value if <code>s1</code> is greater than <code>s2</code>.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> s1[<span class="number">12</span>] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="type">char</span> s2[<span class="number">12</span>] = <span class="string">&quot;hello C&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strncmp</span>(s1, s2, <span class="number">5</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;They both start with &#x27;hello&#x27;.\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, only the first 5 characters of the two strings are compared.</p>
<h2 id="sprintf-snprintf"><a href="#sprintf-snprintf" class="headerlink" title="sprintf(), snprintf()"></a><code>sprintf()</code>, <code>snprintf()</code></h2><p>The <code>sprintf()</code> and <code>snprintf()</code> functions are used in C to format strings. While <code>sprintf()</code> writes formatted data to a string, <code>snprintf()</code> adds an additional layer of safety by preventing buffer overflows.</p>
<h3 id="sprintf"><a href="#sprintf" class="headerlink" title="sprintf()"></a><code>sprintf()</code></h3><p>The prototype for <code>sprintf()</code> is defined in the <code>stdio.h</code> header file:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sprintf</span><span class="params">(<span class="type">char</span>* s, <span class="type">const</span> <span class="type">char</span>* format, ...)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>The first parameter is a pointer to the output string.</li>
<li>The second parameter is a format string, followed by any additional variables to be formatted.</li>
</ul>
<hr>
<p><strong>Example:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> first[<span class="number">6</span>] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">char</span> last[<span class="number">6</span>] = <span class="string">&quot;world&quot;</span>;</span><br><span class="line"><span class="type">char</span> s[<span class="number">40</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">sprintf</span>(s, <span class="string">&quot;%s %s&quot;</span>, first, last);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, s); <span class="comment">// Output: hello world</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>sprintf()</code> combines the strings â€œhelloâ€ and â€œworldâ€ into the variable <code>s</code>. The function returns the number of characters written (excluding the null terminator). If an error occurs, it returns a negative value.</p>
<p>However, <code>sprintf()</code> poses a significant security risk: if the formatted output exceeds the allocated buffer size, it can lead to buffer overflows.</p>
<h3 id="snprintf"><a href="#snprintf" class="headerlink" title="snprintf()"></a><code>snprintf()</code></h3><p>To mitigate this risk, C provides <code>snprintf()</code>, which has an additional parameter to specify the maximum number of characters to write:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">snprintf</span><span class="params">(<span class="type">char</span>* s, <span class="type">size_t</span> n, <span class="type">const</span> <span class="type">char</span>* format, ...)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>The second parameter <code>n</code> limits the output to <code>n - 1</code> characters, leaving space for the null terminator.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">snprintf</span>(s, <span class="number">12</span>, <span class="string">&quot;%s %s&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>In this case, <code>snprintf()</code> will ensure that at most 11 characters are written, plus the null terminator. The function always writes the null terminator, and if the formatted output exceeds <code>n</code>, it writes only <code>n - 1</code> characters, ensuring safety.</p>
<p>The return value of <code>snprintf()</code> is similar to <code>sprintf()</code>, indicating the number of characters that would have been written (excluding the null terminator). If the formatted string is larger than <code>n</code>, the return value may exceed <code>n</code>. To confirm a complete write, the return value should be non-negative and less than <code>n</code>.</p>
<h2 id="String-Array"><a href="#String-Array" class="headerlink" title="String Array"></a>String Array</h2><p>A string array can be implemented using a two-dimensional character array when each element is a string. In this example, we define an array of strings representing the days of the week:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> weekdays[<span class="number">7</span>][<span class="number">10</span>] = &#123;</span><br><span class="line">  <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Here, we have a string array with 7 elements, where the maximum length of any string, including the null terminator, is 10 characters.</p>
<p>Since the compiler can automatically determine the size of the first dimension, we can simplify the declaration:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span> weekdays[][<span class="number">10</span>] = &#123;</span><br><span class="line">  <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>However, this approach wastes space since most strings are shorter than 10 characters. A more efficient solution is to use an array of character pointers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">char</span>* weekdays[] = &#123;</span><br><span class="line">  <span class="string">&quot;Monday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Tuesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Wednesday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Thursday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Friday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Saturday&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Sunday&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>In this case, we have a one-dimensional array of 7 pointers, each pointing to a string.</p>
<p>To iterate over this string array, you can use the following code:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, weekdays[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>æç®€æ•™ç¨‹ - Gson</title>
    <url>/2023/09/05/tutorial-gson/</url>
    <content><![CDATA[<p><a href="/2023/09/03/gson-overview/">æ·±å…¥è§£æGsonï¼šä¸€ä¸ªå¼ºå¤§çš„Java JSONåº“</a></p>
<p><a href="/2023/08/26/gson-serializing-and-deserializing-objects/">æ·±å…¥äº†è§£Gsonï¼šJavaå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</a></p>
<p><a href="/2023/09/05/gson-bases">GsonåŸºæœ¬ä½¿ç”¨ï¼šåºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œè¯¦è§£</a></p>
<p><a href="/2023/08/27/gson-serializing-and-deserializing-array-set-map/">ä½¿ç”¨Gsonè¿›è¡Œæ•°ç»„ã€é›†åˆå’Œæ˜ å°„çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a></p>
<p><a href="/2023/08/28/gson-serializing-and-deserializing-nested-classes/">ä½¿ç”¨Gsonå¯¹åµŒå¥—ç±»è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</a></p>
<p><a href="/2023/08/30/gson-serializing-and-deserializing-generic-types/">æ·±å…¥æ¢ç´¢Gsonçš„æ³›å‹åºåˆ—åŒ–å’Œååºåˆ—åŒ–èƒ½åŠ›</a></p>
<p><a href="/2023/07/25/java-gson-camel-cased-underscore/">ä½¿ç”¨Gsonåº“åœ¨Javaä¸­å®ç°ä¸‹åˆ’çº¿ä¸é©¼å³°æ ¼å¼çš„è½¬æ¢</a></p>
<p><a href="/2022/12/30/java-gson-validate-json-string/">Javaä½¿ç”¨Gsonåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºJSONæ ¼å¼</a></p>
<p><a href="/2022/08/16/how-to-serialize-a-null-field-using-gson-library-in-java/">åœ¨Javaä¸­å¦‚ä½•ä½¿ç”¨Gsonåº“åºåˆ—åŒ–NULLå­—æ®µ</a></p>
<p><a href="/2022/08/03/gson-string-to-jsonobject/">ä½¿ç”¨Gsonå°†å­—ç¬¦ä¸²è½¬æˆJsonObjectå¯¹è±¡</a></p>
<p><a href="/2023/07/24/java-json-pretty-print-with-gson/">Javaä½¿ç”¨Gsonåº“æ ¼å¼åŒ–è¾“å‡ºJSONå­—ç¬¦ä¸²</a></p>
]]></content>
      <categories>
        <category>æç®€æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title>Union in C Language</title>
    <url>/2024/05/14/c-language-union/</url>
    <content><![CDATA[<p>Sometimes, you need a data structure that can represent different data types depending on the situation. For instance, if you use a single structure to represent the quantity of fruit, it may need to be an integer (like 6 apples) at times and a float (like 1.5 kilograms of strawberries) at others.</p>
<p>In C, you can use a union to create a flexible data structure. A union can contain various members that share the same memory space, meaning only one member can hold a meaningful value at any given time. Assigning a new value to one member will overwrite the previous one, which is a key advantage for memory savings.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span> &#123;</span></span><br><span class="line">  <span class="type">short</span> count;</span><br><span class="line">  <span class="type">float</span> weight;</span><br><span class="line">  <span class="type">float</span> volume;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>In this example, the union <code>quantity</code> defines three members, but only one can hold a value at a time. The last assigned member will be the one that holds a meaningful value.</p>
<p>To use it, declare a variable of this type:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span> <span class="title">q</span>;</span></span><br><span class="line">q.count = <span class="number">4</span>;</span><br></pre></td></tr></table></figure>

<p>You can also assign values using different syntax:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span> <span class="title">q</span> =</span> &#123;.count=<span class="number">4</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span> <span class="title">q</span> =</span> &#123;<span class="number">4</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>In the example above, if the last writing style does not specify a member name, it will be assigned to the first member.</p>
<p>After running this code, <code>q.count</code> holds the value, while the other members do not. Accessing them can lead to undefined behavior until assigned a value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;count is %i\n&quot;</span>, q.count); <span class="comment">// count is 4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;weight is %f\n&quot;</span>, q.weight); <span class="comment">// undefined behavior</span></span><br></pre></td></tr></table></figure>

<p>To access the <code>weight</code>, you must assign it first:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">q.weight = <span class="number">0.5</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;weight is %f\n&quot;</span>, q.weight); <span class="comment">// weight is 0.5</span></span><br></pre></td></tr></table></figure>

<p>Once you assign a value to another member, the original member may no longer hold a meaningful value. The usage of unions is similar to structures otherwise.</p>
<p>Unions also support the pointer operator <code>-&gt;</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span> <span class="title">q</span>;</span></span><br><span class="line">q.count = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">quantity</span>* <span class="title">ptr</span> =</span> &amp;q;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ptr-&gt;count); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>ptr</code> points to <code>q</code>, allowing access to its members directly.</p>
<p>When using unions with pointers:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">foo</span> &#123;</span></span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line">  <span class="type">float</span> b;</span><br><span class="line">&#125; x;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* foo_int_p = (<span class="type">int</span> *)&amp;x;</span><br><span class="line"><span class="type">float</span>* foo_float_p = (<span class="type">float</span> *)&amp;x;</span><br><span class="line"></span><br><span class="line">x.a = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, x.a);           <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *foo_int_p);    <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line">x.b = <span class="number">3.141592</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, x.b);           <span class="comment">// 3.141592</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, *foo_float_p);  <span class="comment">// 3.141592</span></span><br></pre></td></tr></table></figure>

<p>The type of the pointer is determined by the current member that is assigned a value.</p>
<p>You can also create type aliases for unions using <code>typedef</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">union</span> &#123;</span></span><br><span class="line">  <span class="type">short</span> count;</span><br><span class="line">  <span class="type">float</span> weight;</span><br><span class="line">  <span class="type">float</span> volume;</span><br><span class="line">&#125; quantity;</span><br></pre></td></tr></table></figure>

<p>This way, <code>quantity</code> becomes an alias for the union type.</p>
<p>The primary benefit of using unions is memory efficiency, as they allow the reuse of memory for different data types, occupying space equal to the largest member.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Enum in C Language</title>
    <url>/2024/05/15/c-language-enum/</url>
    <content><![CDATA[<p>When a data type has only a few possible values, each with its own specific meaning, defining these values as an <code>enum</code> (short for â€œenumerationâ€) can enhance code readability.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">colors</span> &#123;</span> RED, GREEN, BLUE &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, RED);   <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, GREEN); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, BLUE);  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>In the example above, if a program requires three colors, we can use the <code>enum</code> command to define these colors as a single enumeration type called <code>colors</code>, which consists of the possible values RED, GREEN, and BLUE. These names automatically become integer constants, with the compiler assigning them the values 0, 1, and 2, respectively. This makes RED much more readable than just using the number 0.</p>
<p>Note that the names of constants in an <code>enum</code> follow the identifier naming conventions, but they are typically written in uppercase.</p>
<p>You can declare a variable as an <code>enum</code> type as follows:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">colors</span> <span class="title">color</span>;</span></span><br></pre></td></tr></table></figure>

<p>This code declares the variable <code>color</code> as an <code>enum colors</code> type, allowing it to take on one of the constant values RED, GREEN, or BLUE.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">color = BLUE;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%i\n&quot;</span>, color); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p>Here, we assign the value BLUE to the variable <code>color</code>, which corresponds to the constant with a value of 2.</p>
<p>The <code>typedef</code> command can be used to create an alias for an <code>enum</code> type:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">  SHEEP,</span><br><span class="line">  WHEAT,</span><br><span class="line">  WOOD,</span><br><span class="line">  BRICK,</span><br><span class="line">  ORE</span><br><span class="line">&#125; RESOURCE;</span><br><span class="line"></span><br><span class="line">RESOURCE r;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>RESOURCE</code> serves as an alias for the <code>enum</code> type. You can use this alias when declaring variables.</p>
<p>Another less common syntax allows you to declare an <code>enum</code> type and assign values to variables in the same line:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">  SHEEP,</span><br><span class="line">  WHEAT,</span><br><span class="line">  WOOD,</span><br><span class="line">  BRICK,</span><br><span class="line">  ORE</span><br><span class="line">&#125; r = BRICK, s = WOOD;</span><br></pre></td></tr></table></figure>

<p>In this case, <code>r</code> is assigned the value 3 (BRICK), and <code>s</code> is assigned the value 2 (WOOD).</p>
<p>Since the <code>enum</code> automatically declares constants, sometimes the purpose of using an <code>enum</code> is simply to define a set of constants. This can be done succinctly:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span> ONE, TWO &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>, ONE, TWO);  <span class="comment">// 0 1</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>enum</code> is a keyword followed by a block of code, within which the constants are declared. ONE and TWO are two <code>enum</code> constants.</p>
<p>Constants are separated by commas, and the trailing comma after the last constant is optional.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span> ONE, TWO, &#125;;</span><br></pre></td></tr></table></figure>

<p>Because <code>enum</code> automatically assigns increasing values starting from 0, you do not need to assign values manually. However, C does allow you to specify values for <code>enum</code> constants, but only as integers, not other types. Therefore, any situation where you can use integers, you can also use <code>enum</code> constants.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span> ONE = <span class="number">1</span>, TWO = <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>, ONE, TWO);  <span class="comment">// 1 2</span></span><br></pre></td></tr></table></figure>

<p><code>enum</code> constants can have non-contiguous values:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span> X = <span class="number">2</span>, Y = <span class="number">18</span>, Z = <span class="number">-2</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>They can also share the same value:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span> X = <span class="number">2</span>, Y = <span class="number">2</span>, Z = <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>If some constants in a set are assigned values while others are not, the unspecified constants will automatically increment from the last specified value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">  A,    <span class="comment">// 0</span></span><br><span class="line">  B,    <span class="comment">// 1</span></span><br><span class="line">  C = <span class="number">4</span>, <span class="comment">// 4</span></span><br><span class="line">  D,    <span class="comment">// 5</span></span><br><span class="line">  E,    <span class="comment">// 6</span></span><br><span class="line">  F = <span class="number">3</span>, <span class="comment">// 3</span></span><br><span class="line">  G,    <span class="comment">// 4</span></span><br><span class="line">  H     <span class="comment">// 5</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>The scope of an <code>enum</code> is the same as that of a variable. If declared at the top level, it is valid throughout the file; if declared within a block, it is only valid in that block. Compared to using <code>int</code> for constants, the advantage of <code>enum</code> is that it clearly conveys the intent of the code.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Functions in C Language</title>
    <url>/2024/05/08/c-language-function/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>A function is a reusable block of code that can accept different parameters and perform specific tasks. Hereâ€™s an example of a function:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This code declares a function named <code>plus_one()</code>.</p>
<p><strong>Key Points of Function Declarations:</strong></p>
<ol>
<li><strong>Return Type</strong>: Specify the return type at the start of the declaration. In the example, <code>int</code> indicates the function returns an integer.</li>
<li><strong>Parameters</strong>: Declare the types and names of parameters in parentheses following the function name. <code>plus_one(int n)</code> means the function takes one integer parameter, <code>n</code>.</li>
<li><strong>Function Body</strong>: The body of the function is enclosed in braces <code>&#123;&#125;</code>. No semicolon is needed after the closing brace. Braces can start on the same line or a new line; this book uses the same line.</li>
<li><strong>Return Statement</strong>: The <code>return</code> statement specifies the functionâ€™s return value and exits the function. If the function does not return a value, you can omit the <code>return</code> statement or use <code>return;</code>.</li>
</ol>
<p>To call a function, write its name followed by parentheses containing the actual arguments:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = plus_one(<span class="number">13</span>);</span><br><span class="line"><span class="comment">// a is 14</span></span><br></pre></td></tr></table></figure>

<p>The number of arguments in the function call must match the functionâ€™s declaration. Too many or too few arguments will cause an error.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">plus_one(<span class="number">2</span>, <span class="number">2</span>); <span class="comment">// Error</span></span><br><span class="line">plus_one();     <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>In the above example, <code>plus_one()</code> only accepts one argument. Passing two or no arguments will cause an error.</p>
<p>A function must be declared before it is used:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a = plus_one(<span class="number">13</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">plus_one</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the above example, the function <code>plus_one()</code> is used before it is declared, leading to a compilation error.</p>
<p>The C standard specifies that functions must be declared at the top level of the source file and cannot be declared inside other functions.</p>
<p>For functions that do not return a value, use the <code>void</code> keyword:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">myFunc</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>myFunc()</code> function neither returns a value nor requires parameters.</p>
<p>Functions can call themselves, a technique known as recursion. Here is an example with the Fibonacci sequence:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">long</span> <span class="title function_">Fibonacci</span><span class="params">(<span class="type">unsigned</span> n)</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (n &gt; <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> Fibonacci(n - <span class="number">1</span>) + Fibonacci(n - <span class="number">2</span>);</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>Fibonacci()</code> calls itself, simplifying the algorithm.</p>
<h2 id="main-Function"><a href="#main-Function" class="headerlink" title="main() Function"></a>main() Function</h2><p>In C, <code>main()</code> is the entry point of the program and is required for every program. Execution starts here. Other functions are invoked through <code>main()</code>.</p>
<p>The <code>main()</code> function is declared like other functions, specifying the return type and parameters:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>return 0;</code> statement indicates the function ends successfully. A return value of 0 signifies success, while a non-zero value indicates an error. The return value of <code>main()</code> determines the programâ€™s success.</p>
<p>If <code>return 0;</code> is omitted, the compiler adds it by default, making the following equivalent:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Since the compiler only defaults the return value for <code>main()</code>, itâ€™s recommended to always include the <code>return</code> statement for consistency.</p>
<h2 id="Passing-Parameters-by-Value"><a href="#Passing-Parameters-by-Value" class="headerlink" title="Passing Parameters by Value"></a>Passing Parameters by Value</h2><p>When a function parameter is a variable, the value passed into the function is a copy of that variable, not the variable itself.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  a++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">increment(i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>In this example, after calling <code>increment(i)</code>, the variable <code>i</code> remains unchanged, still equal to 10. This is because what is passed to the function is a copy of <code>i</code>, not <code>i</code> itself. Changes to the copy do not affect the original variable. This is known as â€œpass by value.â€</p>
<p>To modify the variable, you should return the new value:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  a++;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> i = <span class="number">10</span>;</span><br><span class="line">i = increment(i);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i); <span class="comment">// 11</span></span><br></pre></td></tr></table></figure>

<p>In this revised example, the function <code>increment</code> returns the incremented value, and <code>i</code> is updated with the returned value.</p>
<p><strong>Swapping Values</strong></p>
<p>Consider the <code>Swap()</code> function that aims to swap two variablesâ€™ values. Due to pass-by-value, the following approach wonâ€™t work:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">  <span class="type">int</span> temp;</span><br><span class="line">  temp = x;</span><br><span class="line">  x = y;</span><br><span class="line">  y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">Swap(a, b); <span class="comment">// Ineffective</span></span><br></pre></td></tr></table></figure>

<p>This code does not swap the values of <code>a</code> and <code>b</code> because the function receives copies of <code>a</code> and <code>b</code>. Changes within the function do not affect the original variables.</p>
<p>To modify the original variables, pass their addresses instead:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Swap</span><span class="params">(<span class="type">int</span>* x, <span class="type">int</span>* y)</span> &#123;</span><br><span class="line">  <span class="type">int</span> temp;</span><br><span class="line">  temp = *x;</span><br><span class="line">  *x = *y;</span><br><span class="line">  *y = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">2</span>;</span><br><span class="line">Swap(&amp;a, &amp;b);</span><br></pre></td></tr></table></figure>

<p>By passing the addresses of <code>a</code> and <code>b</code>, the function can directly modify the original variables.</p>
<p><strong>Note</strong> that functions should not return pointers to internal variables.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* <span class="title function_">f</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> &amp;i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the example above, the function returns a pointer to the internal variable <code>i</code>, which is incorrect. When the function finishes execution, the internal variable disappears, making the pointer to <code>i</code> invalid. Using this address afterward is very dangerous.</p>
<h2 id="Function-Pointers"><a href="#Function-Pointers" class="headerlink" title="Function Pointers"></a>Function Pointers</h2><p><strong>Returning Function Pointers</strong></p>
<p>Functions are essentially blocks of code stored in memory, and C allows functions to be accessed through pointers.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = &amp;print;</span><br></pre></td></tr></table></figure>

<p>Here, <code>print_ptr</code> is a function pointer that points to the <code>print</code> function. You can use <code>&amp;print</code> to get the functionâ€™s address, but <code>print</code> alone is sufficient.</p>
<p>You can call the function through the pointer like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">(*print_ptr)(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line">print(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>In C, the function name itself acts as a pointer to the function, so <code>print</code> and <code>&amp;print</code> are equivalent.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (print == &amp;print) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>Therefore, <code>print_ptr</code> is effectively the same as <code>print</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = &amp;print;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="type">void</span> (*print_ptr)(<span class="type">int</span>) = print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (print_ptr == print) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>You can call a function using any of these five methods:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Method 1</span></span><br><span class="line">print(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 2</span></span><br><span class="line">(*print)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 3</span></span><br><span class="line">(&amp;print)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 4</span></span><br><span class="line">(*print_ptr)(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Method 5</span></span><br><span class="line">print_ptr(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<p>Typically, function names are used without <code>*</code> and <code>&amp;</code> for simplicity.</p>
<p><strong>Function Pointers as Parameters</strong></p>
<p>A functionâ€™s parameters or return values can also be functions. This is how you declare such functions:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">compute</span><span class="params">(<span class="type">int</span> (*myfunc)(<span class="type">int</span>), <span class="type">int</span>, <span class="type">int</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>This prototype indicates that <code>compute()</code>â€˜s first parameter is a function.</p>
<h2 id="Function-Prototypes"><a href="#Function-Prototypes" class="headerlink" title="Function Prototypes"></a>Function Prototypes</h2><p>As mentioned earlier, functions must be declared before they are used. Since the <code>main()</code> function is executed first in a program, all other functions must be declared before it. </p>
<p>Here is an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">func1</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">func2</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  func1();</span><br><span class="line">  func2();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the code above, the <code>main()</code> function must be declared last. If not, the compiler will issue a warning because it wonâ€™t find the declarations for <code>func1()</code> or <code>func2()</code>.</p>
<p>However, since <code>main()</code> is the entry point of the program and contains the main logic, it is often better to place it at the beginning. On the other hand, with many functions, ensuring the correct order can become cumbersome.</p>
<p>To address this, C provides a solution: you can declare function prototypes at the beginning of the program, allowing you to use the functions before defining them. A function prototype tells the compiler the return type and parameter types of the function in advance. You donâ€™t need to include the function body; the actual implementation can come later.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> num = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">return</span> twice(num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> * num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the function <code>twice()</code> is defined after <code>main()</code>, but because the prototype is provided at the top, the code compiles correctly. As long as you provide the prototype in advance, the placement of the function definition is flexible.</p>
<p>Function prototypes may also include parameter names, which can help readers understand the functionâ€™s purpose, although the compiler does not require them:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">twice</span><span class="params">(<span class="type">int</span> num)</span>;</span><br></pre></td></tr></table></figure>

<p>In this example, whether or not the parameter name <code>num</code> appears in the prototype is optional.</p>
<p>Note that function prototypes must end with a semicolon.</p>
<p>Typically, the top of each source file contains the prototypes for all the functions used in that file.</p>
<h2 id="exit"><a href="#exit" class="headerlink" title="exit()"></a><code>exit()</code></h2><p>The <code>exit()</code> function is used to terminate a program immediately. Once this function is called, the program ends right away. The prototype of <code>exit()</code> is defined in the header file <code>stdlib.h</code>.</p>
<p>The <code>exit()</code> function can return a value to the operating system. The argument passed to <code>exit()</code> represents the programâ€™s return status. Generally, two constants are used as arguments: <code>EXIT_SUCCESS</code> (equivalent to 0) indicates successful execution, while <code>EXIT_FAILURE</code> (equivalent to 1) indicates an abnormal termination. Both constants are defined in <code>stdlib.h</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Successful execution</span></span><br><span class="line"><span class="comment">// Equivalent to exit(0);</span></span><br><span class="line"><span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Abnormal termination</span></span><br><span class="line"><span class="comment">// Equivalent to exit(1);</span></span><br><span class="line"><span class="built_in">exit</span>(EXIT_FAILURE);</span><br></pre></td></tr></table></figure>

<p>In the <code>main()</code> function, <code>exit()</code> is equivalent to using the <code>return</code> statement. When used in other functions, <code>exit()</code> terminates the entire program and has no other effects.</p>
<p>C also provides the <code>atexit()</code> function, which registers additional functions to be executed when <code>exit()</code> is called. This can be used for cleanup tasks when the program terminates. The prototype of <code>atexit()</code> is also defined in <code>stdlib.h</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">atexit</span><span class="params">(<span class="type">void</span> (*func)(<span class="type">void</span>))</span>;</span><br></pre></td></tr></table></figure>

<p>The parameter to <code>atexit()</code> is a function pointer. Note that the function pointed to (in the example, <code>print</code>) must not take parameters and must not return a value.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;something went wrong!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">atexit(print);</span><br><span class="line"><span class="built_in">exit</span>(EXIT_FAILURE);</span><br></pre></td></tr></table></figure>

<p>In the example above, when <code>exit()</code> is called, the <code>print()</code> function registered with <code>atexit()</code> will be executed first, followed by the termination of the program.</p>
<h2 id="Function-Specifiers-in-C"><a href="#Function-Specifiers-in-C" class="headerlink" title="Function Specifiers in C"></a>Function Specifiers in C</h2><p>C provides several function specifiers that help clarify how functions are used.</p>
<h3 id="extern-Specifier"><a href="#extern-Specifier" class="headerlink" title="extern Specifier"></a><code>extern</code> Specifier</h3><p>In multi-file projects, source files often use functions declared in other files. In such cases, the current file needs to provide the function prototype and use the <code>extern</code> specifier to indicate that the function definition is in another file.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="type">int</span> <span class="title function_">foo</span><span class="params">(<span class="type">int</span> arg1, <span class="type">char</span> arg2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">int</span> a = foo(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>foo()</code> is defined in another file, and <code>extern</code> tells the compiler that this file does not contain the definition of <code>foo()</code>.</p>
<p>However, because function prototypes are <code>extern</code> by default, including <code>extern</code> is optional and does not change the behavior.</p>
<h3 id="static-Specifier"><a href="#static-Specifier" class="headerlink" title="static Specifier"></a><code>static</code> Specifier</h3><p>By default, each time a function is called, its internal variables are reinitialized, and their previous values are not retained. The <code>static</code> specifier changes this behavior.</p>
<p>When used inside a function to declare a variable, <code>static</code> ensures that the variable is initialized only once and retains its value between function calls.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">counter</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> count = <span class="number">1</span>;  <span class="comment">// Initialized only once</span></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, count);</span><br><span class="line">  count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  counter();  <span class="comment">// 1</span></span><br><span class="line">  counter();  <span class="comment">// 2</span></span><br><span class="line">  counter();  <span class="comment">// 3</span></span><br><span class="line">  counter();  <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>count</code> variable in the <code>counter()</code> function is declared with <code>static</code>, meaning it is initialized only once and retains its value across calls, resulting in an incrementing effect.</p>
<p>Note that <code>static</code> variables can only be initialized with constants, not variables.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> j = i; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>In the above example, <code>j</code> is a static variable, and it cannot be initialized with another variable <code>i</code>.</p>
<p>Additionally, within block scope, <code>static</code> variables have a default value of <code>0</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> foo;</span><br><span class="line"><span class="comment">// Equivalent to</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> foo = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>The <code>static</code> specifier can also be used to modify functions themselves.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">Twice</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">  <span class="type">int</span> result = num * <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, <code>static</code> means that the function <code>Twice()</code> is only accessible within the current file. Without <code>static</code>, other files could also use this function (by declaring its prototype).</p>
<p><code>static</code> can also be used with parameters to specify array sizes.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum_array</span><span class="params">(<span class="type">int</span> a[<span class="type">static</span> <span class="number">3</span>], <span class="type">int</span> n)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this case, <code>static</code> indicates to the compiler that the array must have at least 3 elements. This information can sometimes improve performance. Note that <code>static</code> can only specify the size of the first dimension in multi-dimensional arrays.</p>
<h3 id="const-Specifier"><a href="#const-Specifier" class="headerlink" title="const Specifier"></a><code>const</code> Specifier</h3><p>The <code>const</code> specifier in function parameters indicates that the function should not modify the variable pointed to by the parameter.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, <code>f()</code> takes a pointer <code>p</code>, which can modify the value pointed to by <code>p</code>, affecting the outside world.</p>
<p>To prevent this modification, you can use <code>const</code> to indicate that the function cannot alter the value pointed to by the pointer.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  *p = <span class="number">0</span>; <span class="comment">// Error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>const</code> specifies that the value pointed to by <code>p</code> cannot be modified, so <code>*p = 0</code> will produce an error.</p>
<p>However, the address stored in <code>p</code> itself can still be changed.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x = <span class="number">13</span>;</span><br><span class="line">  p = &amp;x; <span class="comment">// Allowed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this case, modifying <code>p</code> is allowed, but modifying <code>*p</code> is not.</p>
<p>If you want to restrict modifications to <code>p</code>, place the <code>const</code> keyword before <code>p</code>. </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span>* <span class="type">const</span> p)</span> &#123;</span><br><span class="line">  <span class="type">int</span> x = <span class="number">13</span>;</span><br><span class="line">  p = &amp;x; <span class="comment">// This line will cause an error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To prevent modification of both <code>p</code> and the value it points to, use <code>const</code> in both places.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> p)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this declaration, <code>const</code> applies to both the pointer <code>p</code> and the value it points to.</p>
<h2 id="Variable-Arguments"><a href="#Variable-Arguments" class="headerlink" title="Variable Arguments"></a>Variable Arguments</h2><p>Some functions have an indeterminate number of parameters. When declaring such functions, you can use ellipses (<code>...</code>) to indicate a variable number of arguments.</p>
<p>For example, the <code>printf()</code> function is declared as:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">printf</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* format, ...)</span>;</span><br></pre></td></tr></table></figure>

<p>In this prototype, the number of arguments following the first one is variable and depends on the format stringâ€™s placeholders. The ellipses (<code>...</code>) indicate this variability.</p>
<p>Note that the ellipses must appear at the end of the parameter list; otherwise, it will cause an error.</p>
<p>The header file <code>stdarg.h</code> defines macros for handling variable arguments:</p>
<ol>
<li><strong>va_list</strong>: A type used to define a variable argument object. It must be initialized before accessing variable arguments.</li>
<li><strong>va_start</strong>: A function that initializes the variable argument object. It takes two parameters: the variable argument object and the last fixed parameter before the variable arguments to locate them.</li>
<li><strong>va_arg</strong>: A function used to retrieve the current variable argument. After each call, it advances the internal pointer to the next argument. It takes two parameters: the variable argument object and the type of the current argument.</li>
<li><strong>va_end</strong>: A function that cleans up the variable argument object.</li>
</ol>
<p>Hereâ€™s an example:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">double</span> <span class="title function_">average</span><span class="params">(<span class="type">int</span> count, ...)</span> &#123;</span><br><span class="line">  <span class="type">double</span> total = <span class="number">0</span>;</span><br><span class="line">  va_list ap;</span><br><span class="line">  va_start(ap, count);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; count; ++i) &#123;</span><br><span class="line">    total += va_arg(ap, <span class="type">double</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  va_end(ap);</span><br><span class="line">  <span class="keyword">return</span> total / count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>va_list ap</code> defines <code>ap</code> as the variable argument object. <code>va_start(ap, count)</code> initializes <code>ap</code> to access the arguments following <code>count</code>. <code>va_arg(ap, double)</code> retrieves each argument as a <code>double</code>, and <code>va_end(ap)</code> cleans up the variable argument object.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>CLI in C Language</title>
    <url>/2024/05/21/c-language-cli/</url>
    <content><![CDATA[<h2 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h2><p>C programs can receive parameters from the command line.</p>
<p>For example, running:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./foo hello world</span><br></pre></td></tr></table></figure>

<p>The program <code>foo</code> receives two command line arguments: <code>hello</code> and <code>world</code>.</p>
<p>How does the program access these command line arguments? C stores the command line input in an array, which can be accessed through the parameters of the <code>main()</code> function.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; argc; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;arg %d: %s\n&quot;</span>, i, argv[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the <code>main()</code> function has two parameters: <code>argc</code> (argument count) and <code>argv</code> (argument variable). While these parameter names can be anything, the convention is to use these specific terms.</p>
<p>The first parameter, <code>argc</code>, represents the number of command line arguments. Since the program name is included, <code>argc</code> is technically the number of arguments plus one.</p>
<p>The second parameter, <code>argv</code>, is an array that holds all the command line inputs, with each element being a string pointer.</p>
<p>For the command <code>./foo hello world</code>, <code>argc</code> is 3, indicating three components: <code>./foo</code>, <code>hello</code>, and <code>world</code>. The <code>argv</code> array holds these inputs: <code>argv[0]</code> is the program name <code>./foo</code>, <code>argv[1]</code> is <code>hello</code>, and <code>argv[2]</code> is <code>world</code>. Generally, <code>argv[1]</code> to <code>argv[argc - 1]</code> represent all command line parameters, and <code>argv[argc]</code> is a NULL pointer.</p>
<p>String pointers can be viewed as character arrays, so the following two declarations are equivalent:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Option 1</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Option 2</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span></span><br></pre></td></tr></table></figure>

<p>Moreover, each command line argument can be accessed either through the array notation <code>argv[i]</code> or pointer notation <code>*(argv + i)</code>.</p>
<p>Using <code>argc</code>, you can enforce the number of parameters a function accepts:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (argc != <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;usage: mult x y\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, atoi(argv[<span class="number">1</span>]) * atoi(argv[<span class="number">2</span>]));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, if <code>argc</code> is not equal to 3, an error is returned, ensuring that the program requires two parameters to run.</p>
<p>Additionally, the last element of the <code>argv</code> array is a NULL pointer (<code>argv[argc] == NULL</code>), allowing for traversal in the following manner:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">char</span>** p = argv; *p != <span class="literal">NULL</span>; p++) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;arg: %s\n&quot;</span>, *p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here, the pointer <code>p</code> moves through each member of <code>argv</code>, terminating when it reaches the NULL pointer. Since the address of <code>argv</code> is fixed, it cannot be incremented directly; thus, an intermediate variable <code>p</code> is used for the traversal.</p>
<h2 id="Exit-Status"><a href="#Exit-Status" class="headerlink" title="Exit Status"></a>Exit Status</h2><p>C specifies that if the <code>main()</code> function lacks a return statement, it implicitly adds <code>return 0</code>, indicating successful termination. This is why itâ€™s customary for <code>main()</code> to return an integer value, with a return value of 0 signifying success and any non-zero value indicating an error.</p>
<p>You can check the exit status of the last command using the Bash environment variable <code>$?</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./foo hello world</span><br><span class="line">$ <span class="built_in">echo</span> $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p>In this case, <code>echo $?</code> prints the value of <code>$?</code>, which is 0, indicating the previous command executed successfully.</p>
<p>Note that only <code>main()</code> has this default behavior; other functions do not.</p>
<h2 id="Environment-Variables"><a href="#Environment-Variables" class="headerlink" title="Environment Variables"></a>Environment Variables</h2><p>C provides the <code>getenv()</code> function (declared in <code>stdlib.h</code>) for reading command line environment variables.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="type">char</span>* val = getenv(<span class="string">&quot;HOME&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (val == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Cannot find the HOME environment variable\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Value: %s\n&quot;</span>, val);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, <code>getenv(&quot;HOME&quot;)</code> retrieves the <code>$HOME</code> environment variable. If this variable is NULL, the program returns an error.</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Why Does Redis Use the SDS Structure for Strings Instead of char*?</title>
    <url>/2024/09/06/why-does-redis-use-the-sds-structure-for-strings-instead-of-char/</url>
    <content><![CDATA[<p>Redis, known for its performance and efficiency, uses a data structure called SDS (Simple Dynamic String) for handling strings in its key-value pairs rather than the traditional C string (<code>char*</code>). Understanding why this decision was made requires a look into both how Redis operates and the limitations of the C string.</p>
<h2 id="What-is-char-C-String"><a href="#What-is-char-C-String" class="headerlink" title="What is char* (C String)?"></a><strong>What is <strong><code>char*</code></strong> (C String)?</strong></h2><p>In C, strings are represented as arrays of characters terminated by a null character (<code>\0</code>). While simple and efficient for static, unchanging strings, they come with limitations that impact performance in systems like Redis, which require high efficiency, particularly in handling dynamic strings.</p>
<h2 id="What-is-SDS"><a href="#What-is-SDS" class="headerlink" title="What is SDS?"></a><strong>What is SDS?</strong></h2><p>SDS stands for Simple Dynamic String, a custom string library used by Redis. Unlike <code>char*</code>, SDS strings include extra metadata that helps optimize memory usage, manage string length efficiently, and perform operations without frequent reallocation or copying.</p>
<h2 id="Key-Advantages-of-SDS-over-char"><a href="#Key-Advantages-of-SDS-over-char" class="headerlink" title="Key Advantages of SDS over char*:"></a><strong>Key Advantages of SDS over <strong><code>char*</code></strong>:</strong></h2><h4 id="Efficient-Memory-Management"><a href="#Efficient-Memory-Management" class="headerlink" title="Efficient Memory Management"></a><strong>Efficient Memory Management</strong></h4><p>One of the most significant limitations of <code>char*</code> is that C strings do not inherently track their own length. This means that determining the length of a string requires traversing the entire array up to the null terminator, a time-consuming process for long strings. </p>
<p>SDS, on the other hand, stores the length of the string as metadata. This allows constant-time (<code>O(1)</code>) access to the stringâ€™s length, dramatically improving performance for operations that require string length information.</p>
<h4 id="Automatic-Memory-Allocation-and-Resizing"><a href="#Automatic-Memory-Allocation-and-Resizing" class="headerlink" title="Automatic Memory Allocation and Resizing"></a><strong>Automatic Memory Allocation and Resizing</strong></h4><p>In Redis, strings are often modified (appending, truncating, etc.). With <code>char*</code>, modifying a string could require reallocation, copying the existing data to a larger memory block, and updating pointers. This results in inefficiencies and potential bugs like buffer overflows if the programmer does not handle memory allocation properly.</p>
<p>SDS strings automatically handle memory reallocation behind the scenes. They also allocate additional space (over-allocation) when a string grows, reducing the frequency of memory reallocation operations. This reduces the overhead associated with dynamically resizing strings and improves Redisâ€™s overall efficiency.</p>
<h4 id="Prevention-of-Buffer-Overflows"><a href="#Prevention-of-Buffer-Overflows" class="headerlink" title="Prevention of Buffer Overflows"></a><strong>Prevention of Buffer Overflows</strong></h4><p>Buffer overflow vulnerabilities are a common issue with <code>char*</code>, as there are no built-in protections to ensure that operations stay within allocated memory. With SDS, buffer overflows are less likely because the system manages memory allocations and resizes dynamically. The length-tracking mechanism in SDS also ensures that string manipulation stays within bounds, improving security.</p>
<h4 id="Binary-Safety"><a href="#Binary-Safety" class="headerlink" title="Binary Safety"></a><strong>Binary Safety</strong></h4><p>While <code>char*</code> strings are null-terminated, making them unsuitable for storing binary data (as the first null byte encountered would mark the end of the string), SDS does not rely on null termination. This makes it â€œbinary safe,â€ meaning it can store arbitrary binary data, including null bytes, which is critical for Redis, where strings are often used to store non-textual data.</p>
<h4 id="Efficiency-in-Append-Only-Operations"><a href="#Efficiency-in-Append-Only-Operations" class="headerlink" title="Efficiency in Append-Only Operations"></a><strong>Efficiency in Append-Only Operations</strong></h4><p>Redis uses an append-only file (AOF) for persistence, meaning it frequently appends data to logs. SDS is designed to handle such append-heavy workloads efficiently. When appending data, SDS minimizes memory reallocation by using a pre-allocated buffer, improving performance for write-heavy operations.</p>
<h2 id="Redis-and-the-Need-for-High-Performance-String-Operations"><a href="#Redis-and-the-Need-for-High-Performance-String-Operations" class="headerlink" title="Redis and the Need for High-Performance String Operations"></a><strong>Redis and the Need for High-Performance String Operations</strong></h2><p>Redis is known for its blazing-fast performance, often being used in real-time applications like caching, messaging, and session management. The key to Redisâ€™s performance lies in its ability to handle millions of requests per second with low latency.</p>
<p>Using <code>char*</code> for strings in Redis would introduce unnecessary overhead in memory management, string length calculations, and buffer resizing, all of which would slow Redis down significantly. By contrast, SDS provides a more efficient, flexible, and safe mechanism for string manipulation, enabling Redis to maintain its high performance even under heavy loads.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Redis opts for the SDS (Simple Dynamic String) structure for handling strings because it offers substantial benefits over the traditional <code>char*</code>. SDS improves memory management, ensures binary safety, avoids buffer overflow risks, and handles dynamic resizing efficientlyâ€”all of which are critical for Redisâ€™s performance, reliability, and scalability. The SDS structure is an example of how Redis is engineered for high throughput and low-latency operations, allowing it to serve as the backbone for real-time data storage and retrieval systems.</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Delete Data in Elasticsearch: Single, Multiple, Clear, and All</title>
    <url>/2024/09/05/how-to-delete-data-in-elasticsearch-single-multiple-clear-and-all/</url>
    <content><![CDATA[<p>Are you working with Elasticsearch and need to manage your data effectively? One crucial aspect of data management is knowing how to delete data when necessary. In this comprehensive guide, weâ€™ll explore various Elasticsearch operations for deleting data, including single document deletion, multiple document deletion, clearing indices, and removing all data.</p>
<h2 id="Deleting-a-Single-Document"><a href="#Deleting-a-Single-Document" class="headerlink" title="Deleting a Single Document"></a>Deleting a Single Document</h2><p>To delete a single document from Elasticsearch, youâ€™ll use the DELETE API. Hereâ€™s the basic syntax:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE /index_name/_doc/document_id</span><br></pre></td></tr></table></figure>

<p>Replace <code>index_name</code> with your actual index name and <code>document_id</code> with the ID of the document you want to delete. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE /my_index/_doc/12345</span><br></pre></td></tr></table></figure>

<p>This operation will remove the document with ID 12345 from the â€œmy_indexâ€ index.</p>
<h2 id="Deleting-Multiple-Documents"><a href="#Deleting-Multiple-Documents" class="headerlink" title="Deleting Multiple Documents"></a>Deleting Multiple Documents</h2><p>When you need to delete multiple documents that match specific criteria, use the Delete By Query API. This powerful tool allows you to remove documents based on a query. Hereâ€™s an example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST /my_index/_delete_by_query</span><br><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match&quot;: &#123;</span><br><span class="line">      &quot;status&quot;: &quot;outdated&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This query will delete all documents in â€œmy_indexâ€ where the â€œstatusâ€ field matches â€œoutdatedâ€.</p>
<h2 id="Clearing-an-Index"><a href="#Clearing-an-Index" class="headerlink" title="Clearing an Index"></a>Clearing an Index</h2><p>To remove all documents from an index while keeping the index structure intact, you can use the Delete By Query API with a match_all query:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST /my_index/_delete_by_query</span><br><span class="line">&#123;</span><br><span class="line">  &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match_all&quot;: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This operation will delete all documents in the specified index but preserve the index settings and mappings.</p>
<h2 id="Deleting-All-Data-Removing-Indices"><a href="#Deleting-All-Data-Removing-Indices" class="headerlink" title="Deleting All Data (Removing Indices)"></a>Deleting All Data (Removing Indices)</h2><p>If you want to remove all data, including the index structure, you can delete the entire index using the Delete Index API:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE /my_index</span><br></pre></td></tr></table></figure>

<p>To delete multiple indices at once, you can use wildcards or comma-separated index names:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE /index1,index2,index3</span><br></pre></td></tr></table></figure>

<p>Or to delete all indices (<em><strong>use with caution!</strong></em>):</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE /_all</span><br></pre></td></tr></table></figure>



<h2 id="Best-Practices-and-Considerations"><a href="#Best-Practices-and-Considerations" class="headerlink" title="Best Practices and Considerations"></a>Best Practices and Considerations</h2><ol>
<li>Always double-check your queries before executing delete operations, especially when dealing with production data.</li>
<li>Use the <code>_delete_by_query</code> API with caution on large datasets, as it can be resource-intensive. Consider using the <code>wait_for_completion=false</code> parameter for asynchronous execution on large datasets.</li>
<li>Implement proper access controls to prevent unauthorized deletion of data.</li>
<li>Regularly backup your Elasticsearch data to prevent accidental data loss.</li>
<li>Monitor your clusterâ€™s performance during delete operations, as they can impact overall system resources.</li>
</ol>
<p>By mastering these Elasticsearch delete operations, youâ€™ll be able to efficiently manage your data and keep your cluster optimized. Whether you need to remove a single document or clear out entire indices, these techniques will help you maintain a clean and efficient Elasticsearch environment.</p>
<p>Remember, with great power comes great responsibility â€“ always exercise caution when performing delete operations on your valuable data!</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Elasticsearch</tag>
        <tag>HowTo</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Fix Docker GPG Key Installation Errors on Ubuntu</title>
    <url>/2024/09/04/how-to-fix-docker-gpg-key-installation-errors-on-ubuntu/</url>
    <content><![CDATA[<p>In this blog post, weâ€™ll walk you through the process of fixing <code>gpg: no valid OpenPGP data found</code> error and get you back to smooth sailing with Docker.</p>
<h2 id="Issue-Overview"><a href="#Issue-Overview" class="headerlink" title="Issue Overview"></a>Issue Overview</h2><ol>
<li>Add the official Docker GPG key:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | <span class="built_in">sudo</span> apt-key add -</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>Some users might encounter the following issue:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | <span class="built_in">sudo</span> apt-key add -</span><br><span class="line">curl: (35) gnutls_handshake() failed: Handshake failed: Error <span class="keyword">in</span> the pull <span class="keyword">function</span>.</span><br><span class="line">gpg: no valid OpenPGP data found.</span><br></pre></td></tr></table></figure>



<h2 id="Step-by-Step-Solutions"><a href="#Step-by-Step-Solutions" class="headerlink" title="Step-by-Step Solutions"></a>Step-by-Step Solutions</h2><p>Hereâ€™s the solution I personally tested and found effective for a successful installation:</p>
<ol>
<li>First, download the official GPG key to your local machine. This will save the file as a <code>.gpg</code> file. The URL is:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">https://download.docker.com/linux/ubuntu/gpg</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>Once downloaded, use the following command to install the GPG key:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-key add /home/johnson/downloads/gpg</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>Note: <code>/home/johnson/downloads/gpg</code> is the file path to the GPG file on my Ubuntu system. Make sure to replace it with your own file path.</li>
</ol>
<p>With this solution, you should be able to resolve the issue and complete the installation perfectly!</p>
]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>HowTo</tag>
        <tag>Docker</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON vs. XML: Which Data Format Should You Use?</title>
    <url>/2024/06/08/json-vs-xml/</url>
    <content><![CDATA[<p>When it comes to data interchange formats, two names often come up: JSON and XML. Both are widely used, but they serve different purposes and have distinct advantages and disadvantages. In this blog post, weâ€™ll compare JSON and XML, helping you understand which format might be better suited for your needs.</p>
<h2 id="What-Are-JSON-and-XML"><a href="#What-Are-JSON-and-XML" class="headerlink" title="What Are JSON and XML?"></a>What Are JSON and XML?</h2><ul>
<li><strong>JSON (JavaScript Object Notation)</strong>: A lightweight, text-based data format thatâ€™s easy for humans to read and write, and easy for machines to parse and generate. JSON has become the standard format for data exchange, especially in web applications.</li>
<li><strong>XML (eXtensible Markup Language)</strong>: A flexible, structured document format that can represent complex data structures. XML has been around longer than JSON and is often used in situations where data needs to be represented in a hierarchical, readable format.</li>
</ul>
<h2 id="Structure-and-Syntax"><a href="#Structure-and-Syntax" class="headerlink" title="Structure and Syntax"></a>Structure and Syntax</h2><ul>
<li><strong>JSON</strong>:</li>
</ul>
<p>Example:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson Lin&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;isStudent&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Uses key-value pairs for data representation.</li>
<li>More compact and easier to read.</li>
<li>Syntax is similar to JavaScript objects, making it intuitive for developers.</li>
<li><strong>XML</strong>:</li>
</ul>
<p>Example:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">person</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Johnson Lin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">age</span>&gt;</span>28<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">isStudent</span>&gt;</span>false<span class="tag">&lt;/<span class="name">isStudent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Uses a tree structure with nested elements.</li>
<li>Can include attributes in tags to store additional information.</li>
<li>More verbose due to the use of opening and closing tags.</li>
</ul>
<h2 id="Readability"><a href="#Readability" class="headerlink" title="Readability"></a>Readability</h2><ul>
<li><strong>JSON</strong> is generally more readable for humans, especially for those familiar with programming. Its clean and minimalistic structure makes it easier to spot errors and understand the data.</li>
<li><strong>XML</strong>, while still human-readable, can become cluttered with nested elements and attributes, especially in more complex documents. This verbosity can make XML harder to read and maintain.</li>
</ul>
<h2 id="Flexibility"><a href="#Flexibility" class="headerlink" title="Flexibility"></a>Flexibility</h2><ul>
<li><strong>JSON</strong> is best suited for data that can be represented as key-value pairs. Itâ€™s ideal for situations where simplicity and ease of use are priorities.</li>
<li><strong>XML</strong> offers more flexibility in representing complex data structures. It supports attributes, mixed content (elements that contain both text and child elements), and can be used to define custom tags, making it a better choice for documents that require a more detailed and hierarchical structure.</li>
</ul>
<h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><ul>
<li><strong>JSON</strong> has a limited set of data types: strings, numbers, arrays, objects, booleans, and null. This simplicity is part of JSONâ€™s appeal, but it can be limiting in some cases.</li>
<li><strong>XML</strong> doesnâ€™t have built-in data types. Everything in XML is treated as a string, so youâ€™ll need to use additional tools or schemas (like XSD) to enforce data types.</li>
</ul>
<h2 id="Parsing-and-Performance"><a href="#Parsing-and-Performance" class="headerlink" title="Parsing and Performance"></a>Parsing and Performance</h2><ul>
<li><strong>JSON</strong> is typically faster to parse and generate. Many modern programming languages have built-in support for JSON, which means parsing JSON data can be done with minimal code and high efficiency.</li>
<li><strong>XML</strong> parsing is more resource-intensive due to its complexity and the need to handle namespaces, attributes, and nested elements. While XML parsers are powerful, they require more computational overhead compared to JSON parsers.</li>
</ul>
<h2 id="Use-Cases"><a href="#Use-Cases" class="headerlink" title="Use Cases"></a>Use Cases</h2><ul>
<li><strong>JSON</strong>:<ul>
<li><strong>APIs</strong>: JSON has become the de facto standard for web APIs due to its simplicity and efficiency.</li>
<li><strong>Configuration Files</strong>: Many applications use JSON for configuration because itâ€™s easy to read and modify.</li>
<li><strong>Data Storage</strong>: JSON is widely used in NoSQL databases like MongoDB.</li>
</ul>
</li>
<li><strong>XML</strong>:<ul>
<li><strong>Document Representation</strong>: XML is ideal for representing documents where the order and structure of elements are important, such as in legal or scientific documents.</li>
<li><strong>SOAP Web Services</strong>: XML is still commonly used in SOAP (Simple Object Access Protocol) for enterprise-level web services.</li>
<li><strong>Data Exchange</strong>: XML is often used in industries like finance and healthcare, where complex data structures and schemas are required.</li>
</ul>
</li>
</ul>
<h2 id="Conclusion-JSON-or-XML"><a href="#Conclusion-JSON-or-XML" class="headerlink" title="Conclusion: JSON or XML?"></a>Conclusion: JSON or XML?</h2><ul>
<li><strong>Choose JSON</strong> if you need a simple, fast, and efficient way to exchange data between systems, particularly in web development. Its readability and ease of use make it a great choice for most applications.</li>
<li><strong>Choose XML</strong> if youâ€™re working with complex documents or need to represent detailed hierarchical data structures. XMLâ€™s flexibility and power make it suitable for applications where data integrity and structure are critical.</li>
</ul>
<p>In the end, the choice between JSON and XML depends on the specific needs of your project. For most modern web applications, JSON is the preferred format. However, XML remains relevant in scenarios where its capabilities are essential. Understanding the strengths and weaknesses of both formats will help you make the best decision for your data interchange needs.</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>Bulk Deleting Keys in Redis Using Wildcards</title>
    <url>/2024/09/18/bulk-deleting-keys-in-redis-using-wildcards/</url>
    <content><![CDATA[<div class="note orange icon-padding flat"><i class="note-icon fas fa-circle-exclamation"></i><p>Be Cautious with the KEYS Command in Production: Commands like KEYS, FLUSHALL, and FLUSHDB can block Redis when working with large datasets. They may scan the entire keyspace, potentially locking up Redis and degrading performance.</p></div>


<p>Redis currently does not support bulk deletion of keys using wildcards. However, we can achieve this using the <code>del</code> command in combination with Linux pipes and the <code>xargs</code> command.</p>
<p>The <code>del</code> command in Redis allows you to delete one or more specified keys and returns the number of keys that were deleted. For example, the command <code>del key1 key2 key3</code> would delete those specific keys.</p>
<p>To delete all keys that start with <code>WxMpSessionKey</code>, you can use the following command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[redis@iztz9ploifbvce ~]# redis-cli -h 192.168.182.227 -p 1379 keys <span class="string">&quot;WxMpSessionKey*&quot;</span> | xargs redis-cli -h 192.168.182.227 -p 1379 del</span><br><span class="line">(<span class="built_in">integer</span>) 2674</span><br></pre></td></tr></table></figure>



<p>If youâ€™re connecting to Redis at <code>127.0.0.1</code> on the default port <code>6379</code>, the command can be simplified to:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli keys <span class="string">&quot;WxMpSessionKey*&quot;</span> | xargs redis-cli del</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Programming Digest</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>What is JSON? A Beginner&#39;s Guide to Understanding This Essential Data Format</title>
    <url>/2024/06/06/json-intro/</url>
    <content><![CDATA[<p>If youâ€™ve spent any time around web development or data science, youâ€™ve likely heard the term â€œJSONâ€ thrown around. But what exactly is JSON, and why is it so important in todayâ€™s digital world? In this blog post, weâ€™ll break down what JSON is, how it works, and why itâ€™s such a valuable tool for developers and data enthusiasts alike.</p>
<h2 id="What-is-JSON"><a href="#What-is-JSON" class="headerlink" title="What is JSON?"></a>What is JSON?</h2><p>JSON stands for <strong>JavaScript Object Notation</strong>. Despite its name, JSON isnâ€™t exclusive to JavaScript; itâ€™s a language-independent, lightweight data-interchange format thatâ€™s easy for humans to read and write, and easy for machines to parse and generate. JSON has become a standard format for data exchange, especially in web applications.</p>
<h2 id="The-Structure-of-JSON"><a href="#The-Structure-of-JSON" class="headerlink" title="The Structure of JSON"></a>The Structure of JSON</h2><p>At its core, JSON is a way to represent data as text. It uses a simple structure based on key-value pairs, which makes it both intuitive and versatile. Hereâ€™s an example of what a basic JSON object looks like:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson Lin&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;isStudent&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;courses&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;Math&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Science&quot;</span><span class="punctuation">,</span> <span class="string">&quot;History&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;street&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1523 Main St&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Anytown&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;CA&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;zip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;12345&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>In this example:</p>
<ul>
<li><strong>Key-value pairs</strong>: Each key is a string (e.g., <code>&quot;name&quot;</code>, <code>&quot;age&quot;</code>, <code>&quot;isStudent&quot;</code>), and each value can be a string, number, boolean, array, or even another JSON object.</li>
<li><strong>Arrays</strong>: JSON supports arrays, which are ordered lists of values. In the example, <code>&quot;courses&quot;</code> is an array of strings.</li>
<li><strong>Nested objects</strong>: JSON objects can contain other JSON objects. The <code>&quot;address&quot;</code> key holds an object with its own key-value pairs.</li>
</ul>
<h2 id="Why-JSON-is-So-Popular"><a href="#Why-JSON-is-So-Popular" class="headerlink" title="Why JSON is So Popular"></a>Why JSON is So Popular</h2><ol>
<li><strong>Simplicity and Readability</strong>: JSONâ€™s straightforward syntax makes it easy to write and understand, even for those new to programming.</li>
<li><strong>Language Independence</strong>: Although JSON originated from JavaScript, itâ€™s supported by virtually all programming languages, including Python, Ruby, Java, and C#. This makes JSON an excellent choice for data interchange between systems written in different languages.</li>
<li><strong>Wide Adoption</strong>: JSON is widely used in web APIs (Application Programming Interfaces) because itâ€™s lightweight and easy to parse. Many modern web services, like those from Google, Facebook, and Twitter, rely on JSON to transmit data.</li>
</ol>
<h2 id="Common-Use-Cases-for-JSON"><a href="#Common-Use-Cases-for-JSON" class="headerlink" title="Common Use Cases for JSON"></a>Common Use Cases for JSON</h2><ul>
<li><strong>Web APIs</strong>: JSON is the go-to format for APIs because of its simplicity and compatibility with web technologies.</li>
<li><strong>Configuration Files</strong>: Many software applications use JSON to store configuration settings because itâ€™s easy to read and modify.</li>
<li><strong>Data Storage</strong>: While not a replacement for databases, JSON is often used to store small amounts of data, especially in NoSQL databases like MongoDB, which stores data in JSON-like documents.</li>
</ul>
<h2 id="Working-with-JSON"><a href="#Working-with-JSON" class="headerlink" title="Working with JSON"></a>Working with JSON</h2><p>To work with JSON, youâ€™ll need to know how to create, parse, and manipulate JSON data. Hereâ€™s a quick overview of how you might do this in JavaScript:</p>
<ul>
<li><p><strong>Creating JSON</strong>: You can create JSON directly in your code as shown in the example above.</p>
</li>
<li><p><strong>Parsing JSON</strong>: If you receive JSON data as a string (e.g., from an API), you can parse it into a JavaScript object using <code>JSON.parse()</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> jsonString = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;Johnson Lin&quot;,&quot;age&quot;:28&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> jsonObject = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonString);</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Stringifying JSON</strong>: Conversely, if you have a JavaScript object that you want to send as JSON, you can convert it to a JSON string using <code>JSON.stringify()</code>:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> jsonObject = &#123; <span class="attr">name</span>: <span class="string">&quot;Johnson Lin&quot;</span>, <span class="attr">age</span>: <span class="number">28</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(jsonObject);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>JSON is an essential tool in modern web development and data exchange. Its simplicity, readability, and broad support across different programming languages make it a preferred format for transmitting data between clients and servers. Whether youâ€™re developing a web application, configuring software, or handling data in various systems, understanding JSON will undoubtedly prove to be a valuable skill.</p>
<p>If youâ€™re new to JSON, I encourage you to play around with creating and parsing JSON objects. The more you work with it, the more youâ€™ll appreciate its utility and flexibility. Happy coding!</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>Understanding JSON Syntax: A Quick Guide for Beginners</title>
    <url>/2024/06/07/json-syntax/</url>
    <content><![CDATA[<p>If youâ€™re new to web development or data exchange, youâ€™ve probably encountered the term â€œJSONâ€ and wondered what it means and how it works. JSON, or JavaScript Object Notation, is a lightweight data-interchange format thatâ€™s easy for both humans and machines to read and write. In this blog post, weâ€™ll dive into the basics of JSON syntax, helping you understand how to structure and interpret JSON data.</p>
<h2 id="What-is-JSON-Syntax"><a href="#What-is-JSON-Syntax" class="headerlink" title="What is JSON Syntax?"></a>What is JSON Syntax?</h2><p>JSON syntax is the set of rules that define how data is structured in JSON format. Itâ€™s designed to be simple and easy to understand, making it a popular choice for exchanging data between web servers and clients. JSON syntax closely resembles the syntax for creating objects in JavaScript, but it can be used independently of JavaScript in virtually any programming language.</p>
<h2 id="Key-Elements-of-JSON-Syntax"><a href="#Key-Elements-of-JSON-Syntax" class="headerlink" title="Key Elements of JSON Syntax"></a>Key Elements of JSON Syntax</h2><ol>
<li><p><strong>Data is in Key-Value Pairs</strong>:</p>
<ul>
<li><p>In JSON, data is represented as key-value pairs. A key is a string (enclosed in double quotes), followed by a colon, and then the value.</p>
</li>
<li><p><strong>Example</strong>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Alice&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">25</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>In this example, <code>&quot;name&quot;</code> and <code>&quot;age&quot;</code> are keys, and <code>&quot;Alice&quot;</code> and <code>25</code> are their corresponding values.</p>
</li>
</ul>
</li>
<li><p><strong>JSON Objects</strong>:</p>
<ul>
<li><p>JSON objects are collections of key-value pairs, enclosed in curly braces <code>&#123;&#125;</code>. Each key-value pair within an object is separated by a comma.</p>
</li>
<li><p><strong>Example</strong>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;firstName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Lin&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>This example represents an object with three properties: <code>firstName</code>, <code>lastName</code>, and <code>age</code>.</p>
</li>
</ul>
</li>
<li><p><strong>JSON Arrays</strong>:</p>
<ul>
<li><p>JSON arrays are ordered lists of values, enclosed in square brackets <code>[]</code>. The values in an array can be strings, numbers, objects, arrays, or booleans, and they are separated by commas.</p>
</li>
<li><p><strong>Example</strong>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;employees&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;Alice&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Bob&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;Charlie&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>Here, <code>&quot;employees&quot;</code> is a key with an array of values: <code>&quot;Alice&quot;</code>, <code>&quot;Bob&quot;</code>, and <code>&quot;Charlie&quot;</code>.</p>
</li>
</ul>
</li>
<li><p><strong>Values Can Be Objects or Arrays</strong>:</p>
<ul>
<li><p>JSON allows values to be objects or arrays, enabling you to create nested structures.</p>
</li>
<li><p><strong>Example</strong>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Alice&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">25</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;street&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123 Main St&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Springfield&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hobbies&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;reading&quot;</span><span class="punctuation">,</span> <span class="string">&quot;cycling&quot;</span><span class="punctuation">,</span> <span class="string">&quot;hiking&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>In this example, the <code>&quot;address&quot;</code> key holds another object, while the <code>&quot;hobbies&quot;</code> key holds an array of strings.</p>
</li>
</ul>
</li>
<li><p><strong>Values Can Be Strings, Numbers, Booleans, or Null</strong>:</p>
<ul>
<li><p>JSON supports multiple data types:</p>
<ul>
<li><strong>String</strong>: A sequence of characters, enclosed in double quotes (e.g., <code>&quot;Hello, World!&quot;</code>).</li>
<li><strong>Number</strong>: A numeric value, such as <code>42</code> or <code>3.14</code>.</li>
<li><strong>Boolean</strong>: A value of either <code>true</code> or <code>false</code>.</li>
<li><strong>Null</strong>: A null value, representing the absence of a value.</li>
</ul>
</li>
<li><p><strong>Example</strong>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Introduction to JSON&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;isPublished&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;publisher&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>Here, <code>&quot;title&quot;</code> is a string, <code>&quot;pages&quot;</code> is a number, <code>&quot;isPublished&quot;</code> is a boolean, and <code>&quot;publisher&quot;</code> is null.</p>
</li>
</ul>
</li>
</ol>
<h2 id="JSON-Syntax-Rules"><a href="#JSON-Syntax-Rules" class="headerlink" title="JSON Syntax Rules"></a>JSON Syntax Rules</h2><ul>
<li><strong>Keys and Strings</strong>: Must be enclosed in double quotes. Single quotes are not allowed in JSON.</li>
<li><strong>Commas</strong>: Used to separate key-value pairs in an object and elements in an array. However, the last pair or element should not have a trailing comma.</li>
<li><strong>Whitespace</strong>: JSON ignores spaces, tabs, and line breaks, making it flexible in terms of formatting. This allows developers to format JSON data for readability.</li>
</ul>
<h2 id="Common-Mistakes-in-JSON-Syntax"><a href="#Common-Mistakes-in-JSON-Syntax" class="headerlink" title="Common Mistakes in JSON Syntax"></a>Common Mistakes in JSON Syntax</h2><ol>
<li><strong>Using Single Quotes for Strings</strong>:<ul>
<li>Incorrect: <code>&#123; &#39;name&#39;: &#39;Alice&#39; &#125;</code></li>
<li>Correct: <code>&#123; &quot;name&quot;: &quot;Alice&quot; &#125;</code></li>
</ul>
</li>
<li><strong>Trailing Commas</strong>:<ul>
<li>Incorrect: <code>&#123; &quot;name&quot;: &quot;Alice&quot;, &#125;</code></li>
<li>Correct: <code>&#123; &quot;name&quot;: &quot;Alice&quot; &#125;</code></li>
</ul>
</li>
<li><strong>Missing Quotation Marks Around Keys</strong>:<ul>
<li>Incorrect: <code>&#123; name: &quot;Alice&quot; &#125;</code></li>
<li>Correct: <code>&#123; &quot;name&quot;: &quot;Alice&quot; &#125;</code></li>
</ul>
</li>
</ol>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Understanding JSON syntax is crucial for anyone working in web development or data exchange. By mastering the basic elements of JSON, including key-value pairs, objects, arrays, and the various data types, youâ€™ll be well-equipped to create and manipulate JSON data. Whether youâ€™re working on APIs, configuring applications, or handling data storage, JSON is an indispensable tool that youâ€™ll use repeatedly in your coding journey.<br>With this guide, you should have a solid foundation in JSON syntax, enabling you to write and debug JSON with confidence. Happy coding!</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON Object</title>
    <url>/2024/06/11/json-object/</url>
    <content><![CDATA[<h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><p>Example:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span><span class="punctuation">,</span> <span class="attr">&quot;site&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>JSON objects are written using curly braces {â€¦}. They can contain multiple key/value pairs.</p>
<p>Keys must be strings, while values can be any valid JSON data type (string, number, object, array, boolean, or null). Keys and values are separated by colons (:), and each key/value pair is separated by commas (,).</p>
<h2 id="Accessing-Object-Values"><a href="#Accessing-Object-Values" class="headerlink" title="Accessing Object Values"></a>Accessing Object Values</h2><p>You can use dot (<code>.</code>) notation to access object values:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">28</span>, <span class="string">&quot;site&quot;</span>: <span class="literal">null</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> x = teacher.<span class="property">name</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// Output: Johnson</span></span><br></pre></td></tr></table></figure>
<p>Alternatively, you can use square brackets (<code>[]</code>):</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">28</span>, <span class="string">&quot;site&quot;</span>: <span class="literal">null</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> x = teacher[<span class="string">&quot;name&quot;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// Output: Johnson</span></span><br></pre></td></tr></table></figure>
<h2 id="Looping-Through-Objects"><a href="#Looping-Through-Objects" class="headerlink" title="Looping Through Objects"></a>Looping Through Objects</h2><p>Use a forâ€¦in loop to iterate over object properties:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">28</span>, <span class="string">&quot;site&quot;</span>: <span class="literal">null</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> teacher) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// name</span></span><br><span class="line"><span class="comment">// age</span></span><br><span class="line"><span class="comment">// site</span></span><br></pre></td></tr></table></figure>
<p>To access property values while looping, use square brackets:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">28</span>, <span class="string">&quot;site&quot;</span>: <span class="literal">null</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> teacher) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(teacher[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// Johnson</span></span><br><span class="line"><span class="comment">// 28</span></span><br><span class="line"><span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<h2 id="Nested-JSON-Objects"><a href="#Nested-JSON-Objects" class="headerlink" title="Nested JSON Objects"></a>Nested JSON Objects</h2><p>JSON objects can contain other JSON objects:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">28</span>,</span><br><span class="line">    <span class="string">&quot;site&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;site1&quot;</span>: <span class="string">&quot;www.linjiangxiong.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;site2&quot;</span>: <span class="string">&quot;m.linjiangxiong.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;site3&quot;</span>: <span class="string">&quot;blog.linjiangxiong.com&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Access nested objects using dot notation or square brackets:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = teacher.<span class="property">site</span>.<span class="property">site1</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">var</span> x = teacher.<span class="property">site</span>[<span class="string">&quot;site1&quot;</span>];</span><br></pre></td></tr></table></figure>
<p>Executing <code>console.log(x);</code> will output <code>www.linjiangxiong.com</code>.</p>
<h2 id="Modifying-Values"><a href="#Modifying-Values" class="headerlink" title="Modifying Values"></a>Modifying Values</h2><p>Use dot notation or square brackets to modify JSON object values:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">teacher.<span class="property">site</span>.<span class="property">site1</span> = <span class="string">&quot;https://www.linjiangxiong.com/&quot;</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">teacher.<span class="property">site</span>[<span class="string">&quot;site1&quot;</span>] = <span class="string">&quot;https://www.linjiangxiong.com/&quot;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="Deleting-Object-Properties"><a href="#Deleting-Object-Properties" class="headerlink" title="Deleting Object Properties"></a>Deleting Object Properties</h2><p>Use the <code>delete</code> keyword to remove JSON object properties:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> teacher.<span class="property">site</span>.<span class="property">site1</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">delete</span> teacher.<span class="property">site</span>[<span class="string">&quot;site1&quot;</span>];</span><br></pre></td></tr></table></figure>
<p>For example, perform the following code.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> teacher = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Johnson&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">28</span>,</span><br><span class="line">    <span class="string">&quot;site&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;site1&quot;</span>: <span class="string">&quot;www.linjiangxiong.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;site2&quot;</span>: <span class="string">&quot;m.linjiangxiong.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;site3&quot;</span>: <span class="string">&quot;blog.linjiangxiong.com&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> teacher.<span class="property">site</span>.<span class="property">site1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher);</span><br></pre></td></tr></table></figure>
<p>The output will be:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Johnson&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">28</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;site&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;site2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;m.linjiangxiong.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;site3&quot;</span><span class="punctuation">:</span> <span class="string">&quot;blog.linjiangxiong.com&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>JSON Array</title>
    <url>/2024/06/12/json-array/</url>
    <content><![CDATA[<p>JSON (JavaScript Object Notation) is a lightweight data-interchange format thatâ€™s easy to read and write for humans and easy to parse and generate for machines. One of the key components of JSON is the <strong>JSON Array</strong>.</p>
<h2 id="What-is-a-JSON-Array"><a href="#What-is-a-JSON-Array" class="headerlink" title="What is a JSON Array?"></a>What is a JSON Array?</h2><p>A JSON array is an ordered collection of values. These values can be of any data type: strings, numbers, objects, arrays, booleans, or even null. The array is enclosed in square brackets (<code>[ ]</code>), and each value is separated by a comma.<br><strong>Example of a JSON Array:</strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="string">&quot;apple&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;banana&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;cherry&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>This example is a simple JSON array containing three string elements. The values are ordered, meaning the first item in the array is <code>&quot;apple&quot;</code>, the second is <code>&quot;banana&quot;</code>, and the third is <code>&quot;cherry&quot;</code>.</p>
<h2 id="Nested-Arrays"><a href="#Nested-Arrays" class="headerlink" title="Nested Arrays"></a>Nested Arrays</h2><p>JSON arrays can also contain other arrays, allowing you to create complex data structures.<br><strong>Example of a Nested JSON Array:</strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">[</span><span class="string">&quot;John&quot;</span><span class="punctuation">,</span> <span class="number">30</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="string">&quot;Jane&quot;</span><span class="punctuation">,</span> <span class="number">25</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="string">&quot;Doe&quot;</span><span class="punctuation">,</span> <span class="number">22</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>Here, each element in the outer array is itself an array containing a name and an age.</p>
<h2 id="JSON-Arrays-with-Objects"><a href="#JSON-Arrays-with-Objects" class="headerlink" title="JSON Arrays with Objects"></a>JSON Arrays with Objects</h2><p>One of the most common uses of JSON arrays is to store a list of objects. This is particularly useful when dealing with collections of similar items, like user data, products, or any other grouped data.<br><strong>Example of a JSON Array with Objects:</strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New York&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Jane&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">25</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Los Angeles&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>In this example, the array contains two objects, each representing a person with their respective name, age, and city attributes.</p>
<h2 id="Why-Use-JSON-Arrays"><a href="#Why-Use-JSON-Arrays" class="headerlink" title="Why Use JSON Arrays?"></a>Why Use JSON Arrays?</h2><p>JSON arrays are useful because they:</p>
<ul>
<li><strong>Group related:</strong> Easily organize and structure data.</li>
<li><strong>Support complex data structures:</strong> Allow nesting of arrays and objects.</li>
<li><strong>Interoperability:</strong> Widely supported by programming languages and web APIs.</li>
</ul>
<h2 id="Working-with-JSON-Arrays-in-Code"><a href="#Working-with-JSON-Arrays-in-Code" class="headerlink" title="Working with JSON Arrays in Code"></a>Working with JSON Arrays in Code</h2><p>Depending on the programming language, there are various ways to create, manipulate, and access JSON arrays.<br><strong>Example in JavaScript:</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonArray = [</span><br><span class="line">  &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">30</span> &#125;,</span><br><span class="line">  &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">25</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonArray[<span class="number">0</span>].<span class="property">name</span>); <span class="comment">// Output: John</span></span><br></pre></td></tr></table></figure>
<p>This snippet creates a JSON array in JavaScript and accesses the <code>name</code> property of the first object.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Understanding JSON arrays is crucial for anyone working with APIs, web development, or data interchange formats. They are powerful tools for organizing and managing data in a structured way.<br>Whether youâ€™re a beginner or looking to deepen your understanding of JSON, mastering arrays will enhance your ability to work with JSON effectively. Happy coding!</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Use JSON.parse() in JavaScript: A Complete Guide</title>
    <url>/2024/06/09/json-parse/</url>
    <content><![CDATA[<p>When working with web development, especially in JavaScript, youâ€™ll often encounter JSON (JavaScript Object Notation). JSON is a lightweight data interchange format thatâ€™s easy for both humans and machines to read and write. One common task is converting JSON data into a JavaScript object, and this is where the <code>JSON.parse()</code> method comes in.</p>
<h2 id="What-is-JSON-parse"><a href="#What-is-JSON-parse" class="headerlink" title="What is JSON.parse()?"></a>What is <code>JSON.parse()</code>?</h2><p><code>JSON.parse()</code> is a method in JavaScript that parses a JSON string, constructing the JavaScript value or object described by the string. It is commonly used to take data received from a web server, usually in JSON format, and convert it into a usable JavaScript object.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p>The basic syntax of <code>JSON.parse()</code> is:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(text);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>text</strong>: A string that contains JSON data.</li>
<li><strong>obj</strong>: The resulting JavaScript object.</li>
</ul>
<h2 id="Example-1-Parsing-a-Simple-JSON-String"><a href="#Example-1-Parsing-a-Simple-JSON-String" class="headerlink" title="Example 1: Parsing a Simple JSON String"></a>Example 1: Parsing a Simple JSON String</h2><p>Consider the following JSON string:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonString = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30, &quot;city&quot;:&quot;New York&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> user = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonString);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">name</span>); <span class="comment">// Output: John</span></span><br></pre></td></tr></table></figure>
<p>In this example:</p>
<ul>
<li>The JSON string represents an object with three properties: <code>name</code>, <code>age</code>, and <code>city</code>.</li>
<li><code>JSON.parse()</code> converts this string into a JavaScript object that can be accessed with <code>user.name</code>, <code>user.age</code>, etc.</li>
</ul>
<h2 id="Example-2-Parsing-Nested-JSON"><a href="#Example-2-Parsing-Nested-JSON" class="headerlink" title="Example 2: Parsing Nested JSON"></a>Example 2: Parsing Nested JSON</h2><p>JSON can also represent complex structures, like nested objects or arrays:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonString = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30, &quot;address&quot;:&#123;&quot;city&quot;:&quot;New York&quot;,&quot;zipcode&quot;:&quot;10001&quot;&#125;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> user = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonString);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">address</span>.<span class="property">city</span>); <span class="comment">// Output: New York</span></span><br></pre></td></tr></table></figure>
<p>Here, the <code>address</code> property is an object itself, and <code>JSON.parse()</code> handles the nested structure, allowing you to access <code>user.address.city</code> directly.</p>
<h2 id="Handling-Errors-with-JSON-parse"><a href="#Handling-Errors-with-JSON-parse" class="headerlink" title="Handling Errors with JSON.parse()"></a>Handling Errors with <code>JSON.parse()</code></h2><p>If the JSON string is not valid, <code>JSON.parse()</code> will throw a <code>SyntaxError</code>. For example:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30,&#125;&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">message</span>); <span class="comment">// Output: Expected double-quoted property name in JSON at position 27</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To prevent your code from crashing due to invalid JSON, always wrap <code>JSON.parse()</code> in a <code>try...catch</code> block when dealing with dynamic content.</p>
<h2 id="Example-3-Using-a-Reviver-Function"><a href="#Example-3-Using-a-Reviver-Function" class="headerlink" title="Example 3: Using a Reviver Function"></a>Example 3: Using a Reviver Function</h2><p><code>JSON.parse()</code> also accepts a second argument, known as a reviver function. This function can modify the result before itâ€™s returned:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonString = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;John&quot;, &quot;birthdate&quot;:&quot;1990-01-01T00:00:00Z&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> user = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonString, <span class="function">(<span class="params">key, value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&quot;birthdate&quot;</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(value);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="property">birthdate</span>.<span class="title function_">getFullYear</span>()); <span class="comment">// Output: 1990</span></span><br></pre></td></tr></table></figure>
<p>In this example, the reviver function converts the <code>birthdate</code> string into a JavaScript <code>Date</code> object.</p>
<h2 id="When-to-Use-JSON-parse"><a href="#When-to-Use-JSON-parse" class="headerlink" title="When to Use JSON.parse()"></a>When to Use <code>JSON.parse()</code></h2><ul>
<li><strong>Fetching Data from APIs</strong>: When you receive data from a web API, it is often in JSON format. Use <code>JSON.parse()</code> to convert it into a JavaScript object.</li>
<li><strong>Local Storage</strong>: Data stored in <code>localStorage</code> is saved as a string. To retrieve it as an object, use <code>JSON.parse()</code>.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><code>JSON.parse()</code> is a powerful and essential tool in JavaScript for converting JSON strings into usable objects. Whether youâ€™re handling simple data or complex, nested structures, understanding how to use <code>JSON.parse()</code> effectively will greatly enhance your ability to work with data in your applications. Always remember to handle errors properly, especially when working with dynamic data sources.<br>Mastering <code>JSON.parse()</code> ensures you can efficiently and safely manipulate JSON data, making it a crucial skill for any web developer.</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>How to Use JSON.stringify() in JavaScript: A Comprehensive Guide</title>
    <url>/2024/06/10/json-stringify/</url>
    <content><![CDATA[<p>When working with JavaScript, particularly in web development, youâ€™ll often need to send data to a server, store it in local storage, or convert it into a format thatâ€™s easy to transmit or save. This is where the <code>JSON.stringify()</code> method comes into play. Itâ€™s an essential tool for any developer dealing with JSON (JavaScript Object Notation).</p>
<h2 id="What-is-JSON-stringify"><a href="#What-is-JSON-stringify" class="headerlink" title="What is JSON.stringify()?"></a>What is <code>JSON.stringify()</code>?</h2><p><code>JSON.stringify()</code> is a method in JavaScript that converts a JavaScript object or value to a JSON string. This string can then be transmitted over the web or stored for later use. The method is often used in conjunction with APIs, local storage, and data serialization.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p>The basic syntax of <code>JSON.stringify()</code> is:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(value);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>value</strong>: The JavaScript value, typically an object or array, that you want to convert to a JSON string.</li>
<li><strong>jsonString</strong>: The resulting JSON string.</li>
</ul>
<h2 id="Example-1-Converting-a-Simple-Object-to-JSON"><a href="#Example-1-Converting-a-Simple-Object-to-JSON" class="headerlink" title="Example 1: Converting a Simple Object to JSON"></a>Example 1: Converting a Simple Object to JSON</h2><p>Letâ€™s start with a simple example:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;New York&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonString); <span class="comment">// Output: &#123;&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;&#125;</span></span><br></pre></td></tr></table></figure>
<p>In this example:</p>
<ul>
<li>The <code>user</code> object is converted into a JSON string.</li>
<li>The resulting string can be sent to a server or stored in <code>localStorage</code>.</li>
</ul>
<h2 id="Example-2-Converting-Arrays-to-JSON"><a href="#Example-2-Converting-Arrays-to-JSON" class="headerlink" title="Example 2: Converting Arrays to JSON"></a>Example 2: Converting Arrays to JSON</h2><p><code>JSON.stringify()</code> can also handle arrays:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(fruits);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonString); <span class="comment">// Output: [&quot;Apple&quot;,&quot;Banana&quot;,&quot;Orange&quot;]</span></span><br></pre></td></tr></table></figure>
<p>Here, the array of fruits is converted into a JSON string that can be easily transmitted or stored.</p>
<h2 id="Handling-Nested-Objects"><a href="#Handling-Nested-Objects" class="headerlink" title="Handling Nested Objects"></a>Handling Nested Objects</h2><p><code>JSON.stringify()</code> works seamlessly with nested objects:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">address</span>: &#123;</span><br><span class="line">        <span class="attr">city</span>: <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">        <span class="attr">zipcode</span>: <span class="string">&quot;10001&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonString); </span><br><span class="line"><span class="comment">// Output: &#123;&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;address&quot;:&#123;&quot;city&quot;:&quot;New York&quot;,&quot;zipcode&quot;:&quot;10001&quot;&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>The entire object, including the nested <code>address</code> object, is converted into a JSON string.</p>
<h2 id="Example-3-Formatting-JSON-with-space"><a href="#Example-3-Formatting-JSON-with-space" class="headerlink" title="Example 3: Formatting JSON with space"></a>Example 3: Formatting JSON with <code>space</code></h2><p><code>JSON.stringify()</code> has an optional third parameter called <code>space</code> that controls spacing in the resulting JSON string, making it more readable:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;New York&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user, <span class="literal">null</span>, <span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonString);</span><br></pre></td></tr></table></figure>
<p>The output will be:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;New York&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>Using the <code>space</code> parameter with a value of <code>4</code> adds indentation, making the JSON string more readable.</p>
<h2 id="Example-4-Using-a-Replacer-Function"><a href="#Example-4-Using-a-Replacer-Function" class="headerlink" title="Example 4: Using a Replacer Function"></a>Example 4: Using a Replacer Function</h2><p><code>JSON.stringify()</code> also allows for a second optional parameter known as a replacer function. This function can be used to modify the values being stringified:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;New York&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> jsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user, <span class="function">(<span class="params">key, value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&quot;city&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>; <span class="comment">// Omits the city property</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jsonString); <span class="comment">// Output: &#123;&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30&#125;</span></span><br></pre></td></tr></table></figure>
<p>In this example, the <code>city</code> property is omitted from the resulting JSON string.</p>
<h2 id="Common-Use-Cases-for-JSON-stringify"><a href="#Common-Use-Cases-for-JSON-stringify" class="headerlink" title="Common Use Cases for JSON.stringify()"></a>Common Use Cases for <code>JSON.stringify()</code></h2><ul>
<li><strong>Sending Data to a Server</strong>: When sending data via HTTP POST, youâ€™ll often need to send it as a JSON string.</li>
<li><strong>Storing Data in Local Storage</strong>: Since <code>localStorage</code> only stores strings, use <code>JSON.stringify()</code> to store objects.</li>
<li><strong>Logging and Debugging</strong>: Convert objects to JSON strings for easy logging and debugging.</li>
</ul>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Understanding how to use <code>JSON.stringify()</code> is crucial for any JavaScript developer. Whether youâ€™re sending data to a server, storing it locally, or simply converting objects for logging, <code>JSON.stringify()</code> offers a powerful and flexible way to handle JSON data. By mastering this method, youâ€™ll be better equipped to work with JSON and make your applications more efficient and reliable.</p>
]]></content>
      <categories>
        <category>JSON Tutorial</category>
      </categories>
      <tags>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title>Introduction to HTML</title>
    <url>/2024/06/13/html-introduction/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>HTML is the language of the web, defining the structure and content of web pages. When a browser visits a website, it essentially downloads HTML code from the server and renders it into a webpage.</p>
<p>HTML stands for â€œHyperText Markup Language,â€ invented in the early 1990s by Tim Berners-Lee, a physicist at CERN (European Organization for Nuclear Research). Its most distinctive feature is support for hyperlinks, allowing users to jump to other web pages with a simple click, thus forming the foundation of the entire internet.</p>
<p>HTML 4.01, released in 1999, became the widely accepted HTML standard. The current version, HTML 5, was released in 2014 and is in use today.</p>
<p>Web development involves three key technologies: HTML, CSS, and JavaScript. HTML defines the structure and content of web pages, CSS determines their style, and JavaScript enables user interaction. HTML forms the foundation of web development; CSS and JavaScript build upon it. Even without these two, HTML alone can display basic content. This tutorial focuses solely on HTML.</p>
<p>Hereâ€™s a simple example of HTML source code:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>You can save this code as â€œhello.htmlâ€. Opening this local file in a browser will display the text â€œHello Worldâ€.</p>
<p>To view the HTML source code of any webpage, right-click and select â€œView page sourceâ€ in your</p>
<h2 id="Basic-Concepts"><a href="#Basic-Concepts" class="headerlink" title="Basic Concepts"></a>Basic Concepts</h2><h3 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h3><p>HTML code for web pages consists of numerous different tags. Learning HTML essentially means learning how to use these various tags.<br>Hereâ€™s an example of a tag:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this code, <code>&lt;title&gt;</code> and <code>&lt;/title&gt;</code> form a pair of tags.<br>Tags tell the browser how to handle the enclosed content. The content between tags is what the browser renders and displays on the web page.<br>Tags are enclosed in angle brackets (like <code>&lt;title&gt;</code>). Most tags come in pairs: an opening tag and a closing tag. The closing tag includes a forward slash before the tag name (like <code>&lt;/title&gt;</code>). However, some tags are self-closing and donâ€™t require a separate closing tag, such as the <code>&lt;meta&gt;</code> tag from our earlier example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>These self-closing tags typically provide instructions to the browser without needing to enclose any content.<br>Tags can be nested:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here, the <code>&lt;div&gt;</code> tag contains a <code>&lt;p&gt;</code> tag.<br>When nesting tags, ensure proper closing order to avoid unexpected rendering results:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>  <span class="comment">&lt;!-- Incorrect nesting --&gt;</span></span><br></pre></td></tr></table></figure>
<p>HTML tag names are case-insensitive, so <code>&lt;title&gt;</code> and <code>&lt;TITLE&gt;</code> are the same tag. However, lowercase is generally preferred.<br>HTML ignores indentation and line breaks. The following examples will render identically:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span></span><br><span class="line">  Page Title</span><br><span class="line"><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Page</span><br><span class="line">Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In fact, an entire HTML document could be written on a single line and still be parsed correctly by browsers. Developers sometimes compress their code to a single line before publishing to reduce file size.<br>Page styling effects like indentation and line breaks are primarily achieved through CSS.</p>
<h3 id="Elements"><a href="#Elements" class="headerlink" title="Elements"></a>Elements</h3><p>When a browser renders a web page, it parses the HTML source into a tag tree, with each tag becoming a node. These nodes are called elements. â€œTagâ€ and â€œelementâ€ are essentially synonymous, but used in different contexts: we talk about tags in source code and elements in programming.<br>Nested tags create a hierarchy of elements:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here, the <code>div</code> element contains a <code>p</code> element. The outer element is called the â€œparent element,â€ and the inner one is the â€œchild element.â€</p>
<h3 id="Block-vs-Inline-Elements"><a href="#Block-vs-Inline-Elements" class="headerlink" title="Block vs. Inline Elements"></a>Block vs. Inline Elements</h3><p>Elements fall into two main categories: block-level and inline.<br>Block-level elements occupy their own space, starting on a new line and typically taking up 100% of the available width:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>These <code>p</code> elements will display on separate lines.<br>Inline elements flow within the text and donâ€™t force new lines:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>world<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>These <code>span</code> elements will display on the same line.</p>
<h3 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h3><p>Attributes provide additional information for tags, separated from the tag name and other attributes by spaces:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;demo.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here, the <code>&lt;img&gt;</code> tag has two attributes: <code>src</code> and <code>width</code>.<br>Attribute values are specified with an equals sign and are usually enclosed in double quotes (recommended but not required).<br>Note that attribute names are case-insensitive, so <code>onclick</code> and <code>onClick</code> are the same attribute.<br>HTML offers numerous attributes to customize tag behavior. For more details, refer to the â€œElement Attributesâ€ chapter.</p>
<h2 id="Basic-HTML-Tags"><a href="#Basic-HTML-Tags" class="headerlink" title="Basic HTML Tags"></a>Basic HTML Tags</h2><p>A web page that complies with HTML standards should have the following basic structure:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Every web page, no matter how complex, is derived from this basic structure.<br>As mentioned earlier, indentation and line breaks in HTML code donâ€™t affect browser rendering. The above code could be written on a single line with the same result. We format it this way for better readability.<br>Letâ€™s explore the main tags that form the skeleton of a web page:</p>
<h3 id="lt-doctype-gt"><a href="#lt-doctype-gt" class="headerlink" title="&lt;!doctype&gt;"></a><code>&lt;!doctype&gt;</code></h3><p>The first tag in a web page is usually <code>&lt;!doctype&gt;</code>, which declares the document type and tells the browser how to parse the page.<br>Generally, a simple declaration like this is sufficient:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This tells the browser to process the page according to HTML5 rules.<br>Sometimes, this tag is written in all caps to distinguish it from regular HTML tags, as itâ€™s more of a processing instruction than a true tag:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="lt-html-gt"><a href="#lt-html-gt" class="headerlink" title="&lt;html&gt;"></a><code>&lt;html&gt;</code></h3><p>The <code>&lt;html&gt;</code> tag is the top-level container for the web page, or the root element of the tag tree structure. All other elements are its children. A web page can have only one <code>&lt;html&gt;</code> tag.</p>
<p>Its lang attribute indicates the default language of the page content:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This example shows that the page content is in English. For more detailed information, see the â€œElement Attributesâ€ chapter. </p>
<h3 id="lt-head-gt"><a href="#lt-head-gt" class="headerlink" title="&lt;head&gt;"></a><code>&lt;head&gt;</code></h3><p>The <code>&lt;head&gt;</code> tag is a container for metadata about the web page. Its content doesnâ€™t appear on the page itself but provides additional information for rendering.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;head&gt;</code> is the first child element of <code>&lt;html&gt;</code>. If a page doesnâ€™t include <code>&lt;head&gt;</code>, the browser will create one automatically. <code>&lt;head&gt;</code> typically contains seven types of child elements, which weâ€™ll discuss in detail later:</p>
<ol>
<li><code>&lt;meta&gt;</code>: Sets metadata for the page.</li>
<li><code>&lt;link&gt;</code>: Connects external stylesheets.</li>
<li><code>&lt;title&gt;</code>: Sets the page title.</li>
<li><code>&lt;style&gt;</code>: Contains embedded stylesheets.</li>
<li><code>&lt;script&gt;</code>: Imports scripts.</li>
<li><code>&lt;noscript</code>&gt;: Specifies content to display when the browser doesnâ€™t support scripts.</li>
<li><code>&lt;base&gt;</code>: Sets the base URL for relative URLs within the document.</li>
</ol>
<h3 id="lt-meta-gt"><a href="#lt-meta-gt" class="headerlink" title="&lt;meta&gt;"></a><code>&lt;meta&gt;</code></h3><p>The <code>&lt;meta&gt;</code> tag is used to set or describe metadata for the web page and must be placed inside the <code>&lt;head&gt;</code>. Each <code>&lt;meta&gt;</code> tag represents one piece of metadata, and a page can have multiple <code>&lt;meta&gt;</code> tags. By convention, <code>&lt;meta&gt;</code> tags are placed at the beginning of the <code>&lt;head&gt;</code> content.</p>
<p>Generally, every web page should include at least these two <code>&lt;meta&gt;</code> tags:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, the first <code>&lt;meta&gt;</code> tag specifies that the page uses UTF-8 encoding, while the second enables automatic scaling on mobile devices.</p>
<p>The <code>&lt;meta&gt;</code> tag has five attributes, which weâ€™ll discuss next.</p>
<p><strong>(1) charset Attribute</strong><br>The <code>charset</code> attribute of the <code>&lt;meta&gt;</code> tag specifies the character encoding for the web page. This attribute is crucial; if set incorrectly, the browser may not decode the content properly, resulting in garbled text.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">htmlCopy code</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>This declares the page as UTF-8 encoded. While developers can use other encoding methods, UTF-8 is almost always the correct choice.<br>Note that the declared encoding should match the actual encoding of the page. If UTF-8 is declared but the page is actually saved in a different encoding (like GB2312), the browser wonâ€™t automatically convert the encoding, potentially resulting in garbled text.<br><strong>(2) name and content Attributes</strong><br>The <code>name</code> attribute of the <code>&lt;meta&gt;</code> tag specifies the name of the metadata, while the <code>content</code> attribute specifies its value. Used together, they can define a piece of metadata for the page.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Introduction to HTML&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;HTML,tutorial&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;John Doe&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This code includes three pieces of meta <code>description</code> (a summary of the page content), <code>keywords</code> (key terms related to the page content), and <code>author</code> (the pageâ€™s creator).<br>There are many types of metadata, most of which relate to internal browser mechanisms or specific use cases. Here are a few more examples:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;application-name&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Application Name&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;generator&quot;</span> <span class="attr">content</span>=<span class="string">&quot;program&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;subject&quot;</span> <span class="attr">content</span>=<span class="string">&quot;your document&#x27;s subject&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;referrer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;no-referrer&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>(3) http-equiv and content Attributes</strong><br>The <code>http-equiv</code> attribute of the <code>&lt;meta&gt;</code> tag is used to supplement HTTP response header fields. If the serverâ€™s HTTP response is missing a certain field, it can be added using this attribute. The <code>content</code> attribute provides the corresponding field content. These attributes are related to the HTTP protocol and are considered advanced usage, so we wonâ€™t go into detail here.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span> <span class="attr">content</span>=<span class="string">&quot;default-src &#x27;self&#x27;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This sets the <code>Content-Security-Policy</code> field of the HTTP response.<br>Here are some more examples:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Type=text/html; charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;30;URL=&#x27;http://website.com&#x27;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="lt-title-gt"><a href="#lt-title-gt" class="headerlink" title="&lt;title&gt;"></a><code>&lt;title&gt;</code></h3><p>The <code>&lt;title&gt;</code> tag specifies the title of the web page, which appears in the browserâ€™s title bar or tab.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Search engines use this tag to display the title of each page in search results. It has a significant impact on the pageâ€™s search engine ranking and should be carefully crafted to reflect the pageâ€™s main topic.<br>The <code>&lt;title&gt;</code> tag can only contain plain text, not other tags.</p>
<h3 id="lt-body-gt"><a href="#lt-body-gt" class="headerlink" title="&lt;body&gt;"></a><code>&lt;body&gt;</code></h3><p>The <code>&lt;body&gt;</code> tag is a container for the main content of the web page. All visible page content goes inside this tag. Itâ€™s the second child element of <code>&lt;html&gt;</code>, immediately following <code>&lt;head&gt;</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Page Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Whitespace-and-Line-Breaks"><a href="#Whitespace-and-Line-Breaks" class="headerlink" title="Whitespace and Line Breaks"></a>Whitespace and Line Breaks</h2><p>HTML has its own rules for handling whitespace. Leading and trailing spaces within tag content are ignored:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>  hello world   <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The spaces before â€œhelloâ€ and after â€œworldâ€ are ignored by the browser.<br>Multiple consecutive spaces (including tabs) within tag content are collapsed into a single space:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello      world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will render with only one space between â€œhelloâ€ and â€œworldâ€.<br>Browsers also replace newline (<code>\n</code>) and carriage return (<code>\r</code>) characters in text with spaces:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">world</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will render with a single space between â€œhelloâ€ and â€œworldâ€.<br>This means that line breaks in HTML source code donâ€™t create line breaks in the rendered output.</p>
<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p>HTML code can include comments, which browsers automatically ignore. Comments start with <code>&lt;!--</code> and end with <code>--&gt;</code>, like this:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- This is a comment --&gt;</span></span><br></pre></td></tr></table></figure>
<p>Comments can span multiple lines, and any HTML within them is ineffective:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  &lt;p&gt;hello world&lt;/p&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure>
<p>This entire block is a comment, and the code inside wonâ€™t be parsed or rendered by the browser.<br>Comments are helpful for explaining code, especially before complex code blocks.</p>
<p>Link to original article:<br><a href="https://wangdoc.com/html/intro">https://wangdoc.com/html/intro</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>Understanding Text Encoding and Character Representation in HTML</title>
    <url>/2024/06/16/html-encode/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>A webpage contains a large amount of text, and the browser needs to know the encoding method of this text in order to display it correctly.<br>Typically, when a server sends an HTML file to the browser, it specifies the webpageâ€™s encoding method through the HTTP header.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Content-Type: text/html; charset=UTF-8</span><br></pre></td></tr></table></figure>
<p>In the example above, the <code>Content-Type</code> field in the HTTP header first indicates that the data being sent by the server is of type <code>text/html</code> (i.e., an HTML page), and then specifies that the text encoding is <code>UTF-8</code>.<br>The webpage itself can also declare its encoding internally using the <code>&lt;meta&gt;</code> tag:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Numeric-Representation-of-Characters"><a href="#Numeric-Representation-of-Characters" class="headerlink" title="Numeric Representation of Characters"></a>Numeric Representation of Characters</h2><p>Webpages can use different encoding methods, but UTF-8 is the most commonly used. UTF-8 is a way of encoding the Unicode character set, which is designed to include all characters in the world, currently encompassing over 100,000 characters.<br>Each character has a Unicode number, known as a code point. If you know the code point, you can determine the corresponding character. For example, the code point for the letter â€œaâ€ is <code>97</code> in decimal (<code>61</code> in hexadecimal), and the code point for the Chinese character â€œä¸­â€ is <code>20013</code> in decimal (<code>4e2d</code> in hexadecimal).</p>
<p>However, not all Unicode characters can be directly displayed in HTML for the following reasons:</p>
<ol>
<li>Not all Unicode characters are printable; some have no visible form, like the newline character with a code point of <code>10</code> in decimal (<code>A</code> in hexadecimal).</li>
<li>The less-than (<code>&lt;</code>) and greater-than (<code>&gt;</code>) signs are used to define HTML tags. When these symbols are needed elsewhere, they must be prevented from being interpreted as tags.</li>
<li>Due to the vast number of Unicode characters, itâ€™s impossible to create an input method that allows direct input of all these characters. In other words, no keyboard can input every symbol.</li>
<li>Webpages cannot mix multiple encodings. If you use UTF-8 encoding and want to insert characters from another encoding, it can be very challenging.</li>
</ol>
<p>To solve these issues, HTML allows characters to be represented by their Unicode code points, which the browser automatically converts into the corresponding characters.</p>
<p>The syntax for representing characters by their code points is <code>&amp;#N;</code> (decimal, where <code>N</code> is the code point) or <code>&amp;#xN;</code> (hexadecimal, where <code>N</code> is the code point). For example, the character â€œaâ€ can be written as <code>&amp;#97;</code> (decimal) or <code>&amp;#x61;</code> (hexadecimal), and the character â€œä¸­â€ can be written as <code>&amp;#20013;</code> (decimal) or <code>&amp;#x4e2d;</code> (hexadecimal). The browser will automatically convert them.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Equivalent to --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;#104;</span><span class="symbol">&amp;#101;</span><span class="symbol">&amp;#108;</span><span class="symbol">&amp;#108;</span><span class="symbol">&amp;#111;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Equivalent to --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;#x68;</span><span class="symbol">&amp;#x65;</span><span class="symbol">&amp;#x6c;</span><span class="symbol">&amp;#x6c;</span><span class="symbol">&amp;#x6f;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the example above, characters can be represented directly or using their decimal or hexadecimal code points.</p>
<p>Note that HTML tags themselves cannot be represented by code points, as the browser will treat them as text content rather than tags. For instance, writing <code>&lt;p&gt;</code> as <code>&lt;&amp;#112;&gt;</code> or <code>&amp;#60;&amp;#112;&amp;#62;</code> will cause the browser to display <code>&lt;p&gt;</code> as text instead of recognizing it as a tag.</p>
<h2 id="Entity-Representation-of-Characters"><a href="#Entity-Representation-of-Characters" class="headerlink" title="Entity Representation of Characters"></a>Entity Representation of Characters</h2><p>The numeric representation of characters can be inconvenient because it requires knowing each characterâ€™s code point, which can be difficult to remember. To simplify input, HTML allows certain special characters to be represented by easy-to-remember names, known as entities.<br>Entities are written as <code>&amp;name;</code>, where <code>name</code> is the characterâ€™s name. Here are some special characters and their corresponding entities:</p>
<ul>
<li><code>&lt;</code>ï¼š<code>&amp;lt;</code></li>
<li><code>&gt;</code>ï¼š<code>&amp;gt;</code></li>
<li><code>&quot;</code>ï¼š<code>&amp;quot;</code></li>
<li><code>&#39;</code>ï¼š<code>&amp;apos;</code></li>
<li><code>&amp;</code>ï¼š<code>&amp;amp;</code></li>
<li><code>Â©</code>ï¼š<code>&amp;copy;</code></li>
<li><code>#</code>ï¼š<code>&amp;num;</code></li>
<li><code>Â§</code>ï¼š<code>&amp;sect;</code></li>
<li><code>Â¥</code>ï¼š<code>&amp;yen;</code></li>
<li><code>$</code>ï¼š<code>&amp;dollar;</code></li>
<li><code>Â£</code>ï¼š<code>&amp;pound;</code></li>
<li><code>Â¢</code>ï¼š<code>&amp;cent;</code></li>
<li><code>%</code>ï¼š<code>&amp;percnt;</code></li>
<li><code>*</code>ï¼š<code>$ast;</code></li>
<li><code>@</code>ï¼š<code>&amp;commat;</code></li>
<li><code>^</code>ï¼š<code>&amp;Hat;</code></li>
<li><code>Â±</code>ï¼š<code>&amp;plusmn;</code></li>
<li>(space)ï¼š<code>&amp;nbsp;</code></li>
</ul>
<p>Note that the last special character is a space, which also has a corresponding entity representation.</p>
<p>Both the numeric and entity representations allow characters that cannot be directly input to be displayed on the webpage, thereby â€œescapingâ€ the limitations of the browser. This is why the process is referred to as â€œescaping charactersâ€ in English.</p>
<p>Link to original article:<br><a href="https://wangdoc.com/html/encode">https://wangdoc.com/html/encode</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Semantic Tags</title>
    <url>/2024/06/17/html-semantic-tags/</url>
    <content><![CDATA[<p>HTML tags are designed to be semantic, meaning they convey the purpose and structure of the content they encapsulate. When using HTML, itâ€™s crucial to choose tags that accurately represent the meaning of your content. This practice of semantic HTML naturally results in well-structured web pages that are easier for developers to read, write, and maintain. It also helps computers better process and understand web content.  </p>
<h2 id="The-Importance-of-Semantic-HTML"><a href="#The-Importance-of-Semantic-HTML" class="headerlink" title="The Importance of Semantic HTML"></a>The Importance of Semantic HTML</h2><p>One of the key functions of HTML tags is to declare the nature of webpage elements. This allows users to understand the significance of each element just by looking at the tags, and to grasp the overall structure of the page by reading the HTML source code. This principle is known as the semantic approach to HTML.<br>Hereâ€™s an example of a typical semantic structure for a webpage:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>Page Header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Article content<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span>Page Footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Just by looking at this code, you can see that the page is divided into three main sections: a header, main content area, and footer.<br>When creating an HTML webpage, the first step should be to establish this semantic structure as the skeleton of your page.</p>
<h2 id="Commonly-Used-Semantic-Tags"><a href="#Commonly-Used-Semantic-Tags" class="headerlink" title="Commonly Used Semantic Tags"></a>Commonly Used Semantic Tags</h2><h3 id="lt-header-gt"><a href="#lt-header-gt" class="headerlink" title="&lt;header&gt;"></a><code>&lt;header&gt;</code></h3><p>The <code>&lt;header&gt;</code> tag is versatile and can be used in multiple contexts. It can represent the header of the entire webpage or the header of a specific article or section.<br>When used as the webpage header, itâ€™s often referred to as the â€œpage headerâ€ and typically contains site navigation and search functionality:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Company Name<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/contact&quot;</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/search&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>When used within an article, it can contain the article title, author information, and other metadata:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>By John Doe, published January 1, 2010<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Note that while a page can have multiple <code>&lt;header&gt;</code> elements in different contexts, each specific context should only have one. Additionally, a <code>&lt;header&gt;</code> should not contain another <code>&lt;header&gt;</code> or a <code>&lt;footer&gt;</code>.  </p>
<h3 id="lt-footer-gt"><a href="#lt-footer-gt" class="headerlink" title="&lt;footer&gt;"></a><code>&lt;footer&gt;</code></h3><p>The <code>&lt;footer&gt;</code> tag represents the footer of a webpage, article, or section. When used for the entire webpage, itâ€™s called the â€œpage footerâ€ and typically contains copyright information or other relevant details:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Â© 2024 XYZ Company<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>It can also be used within articles:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Â© All rights reserved<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Like <code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code> cannot be nested within another <code>&lt;footer&gt;</code> or contain a <code>&lt;header&gt;</code>.</p>
<h3 id="lt-main-gt"><a href="#lt-main-gt" class="headerlink" title="&lt;main&gt;"></a><code>&lt;main&gt;</code></h3><p>The <code>&lt;main&gt;</code> tag represents the primary content of the page. There should only be one <code>&lt;main&gt;</code> element per page:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>Page Header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span>Main Content<span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span>Sidebar<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span>Page Footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;main&gt;</code> is a top-level tag and should not be placed within <code>&lt;header&gt;</code>, <code>&lt;footer&gt;</code>, <code>&lt;article&gt;</code>, <code>&lt;aside&gt;</code>, <code>&lt;nav&gt;</code>, or similar tags. Functional elements like search bars should not be included in <code>&lt;main&gt;</code> unless the current page is specifically a search page.</p>
<h3 id="lt-article-gt"><a href="#lt-article-gt" class="headerlink" title="&lt;article&gt;"></a><code>&lt;article&gt;</code></h3><p>The <code>&lt;article&gt;</code> tag represents a self-contained piece of content that would make sense on its own, even if the rest of the page didnâ€™t exist. Itâ€™s typically used for blog posts, news articles, or forum posts:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Article content goes here...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>A webpage can contain multiple <code>&lt;article&gt;</code> elements.</p>
<h3 id="lt-aside-gt"><a href="#lt-aside-gt" class="headerlink" title="&lt;aside&gt;"></a><code>&lt;aside&gt;</code></h3><p>The <code>&lt;aside&gt;</code> tag is used for content that is tangentially related to the main content of the webpage or article. At the page level, itâ€™s often used for sidebars (though it doesnâ€™t necessarily have to be positioned on the side of the page). Within an article, it can be used for supplementary information, comments, or footnotes:  </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span>Main Content<span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span>Sidebar Content<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Example of an article-level aside:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>First paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This paragraph is a key point of the article.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="lt-section-gt"><a href="#lt-section-gt" class="headerlink" title="&lt;section&gt;"></a><code>&lt;section&gt;</code></h3><p>The <code>&lt;section&gt;</code> tag represents a thematically distinct part of a document, typically used to divide an article into chapters or major sections:  </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Chapter 1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Chapter 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;section&gt;</code> elements are typically used in groups; a page shouldnâ€™t have just one <code>&lt;section&gt;</code>. Theyâ€™re also well-suited for slide presentations, where each <code>&lt;section&gt;</code> represents a slide.</p>
<p>Generally, each <code>&lt;section&gt;</code> should have a heading (<code>h1</code>-<code>h6</code>). Multiple <code>&lt;section&gt;</code> elements can be placed within an <code>&lt;article&gt;</code>, and a <code>&lt;section&gt;</code> might contain multiple <code>&lt;article&gt;</code> elements, depending on the context and meaning in the current page.</p>
<h3 id="lt-nav-gt"><a href="#lt-nav-gt" class="headerlink" title="&lt;nav&gt;"></a><code>&lt;nav&gt;</code></h3><p>The <code>&lt;nav&gt;</code> tag is used for major navigation blocks on the page:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;item-a&quot;</span>&gt;</span>Product A<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;item-b&quot;</span>&gt;</span>Product B<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Product C<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Typically, <code>&lt;nav&gt;</code> is placed within <code>&lt;header&gt;</code> rather than <code>&lt;footer&gt;</code>. A page can have multiple <code>&lt;nav&gt;</code> elements, such as one for site navigation and another for in-page navigation.</p>
<h3 id="lt-h1-gt-to-lt-h6-gt"><a href="#lt-h1-gt-to-lt-h6-gt" class="headerlink" title="&lt;h1&gt; to &lt;h6&gt;"></a><code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code></h3><p>HTML provides six tags for representing article headings, organized into six levels based on their hierarchy:</p>
<ol>
<li><code>&lt;h1&gt;</code>: Heading 1 (highest level) </li>
<li><code>&lt;h2&gt;</code>: Heading 2 </li>
<li><code>&lt;h3&gt;</code>: Heading 3 </li>
<li><code>&lt;h4&gt;</code>: Heading 4 </li>
<li><code>&lt;h5&gt;</code>: Heading 5 </li>
<li><code>&lt;h6&gt;</code>: Heading 6 (lowest level)</li>
</ol>
<p><code>&lt;h1&gt;</code> represents the highest-level heading, while <code>&lt;h6&gt;</code> is the lowest. Each subsequent heading level serves as a subheading to the one above it. For example, an <code>&lt;h1&gt;</code> can be followed by multiple <code>&lt;h2&gt;</code> headings, and each <code>&lt;h2&gt;</code> can have multiple <code>&lt;h3&gt;</code> headings beneath.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Introduction to JavaScript<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Overview<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Basic Concepts<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Webpages<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Links<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Main Uses<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The code above clearly outlines the structure of the article through its section titles. The detailed content can be written under these section titles.</p>
<p>Headings should not skip levels (e.g., from <code>h1</code> to <code>h3</code>) as this disrupts the documentâ€™s structure. Browsers typically display headings in bold, with decreasing font sizes from <code>h1</code> to <code>h6</code>.</p>
<h3 id="lt-hgroup-gt"><a href="#lt-hgroup-gt" class="headerlink" title="&lt;hgroup&gt;"></a><code>&lt;hgroup&gt;</code></h3><p>The <code>&lt;hgroup&gt;</code> tag is used to group multiple levels of headings, such as when you have a main title with one or more subtitles:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hgroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Main Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Subtitle 1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Subtitle 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hgroup</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Note that <code>&lt;hgroup&gt;</code> should only contain <code>&lt;h1&gt;</code>-<code>&lt;h6&gt;</code> elements, not other types of content.</p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>Introduction to HTML URL</title>
    <url>/2024/06/14/html-url-introduction/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>URL stands for â€œUniform Resource Locator,â€ commonly known as a web address. It represents the internet address of various resources. Hereâ€™s a typical URL:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://www.example.com/path/index.html</span><br></pre></td></tr></table></figure>
<p>Resources can be understood as any files accessible via the internet, such as web pages, images, audio, video, JavaScript scripts, and more. Knowing their URLs is essential to access them on the internet.<br>Any resource accessible through the internet must have a corresponding URL. While one URL corresponds to one resource, a single resource may have multiple URLs.<br>URLs are fundamental to the internet. The â€œinterâ€ in internet exists because web pages can include â€œlinksâ€ to other URLs. Users can jump from one URL to another, visiting different websites with a simple click.</p>
<h2 id="Components-of-a-URL"><a href="#Components-of-a-URL" class="headerlink" title="Components of a URL"></a>Components of a URL</h2><p>URLs consist of multiple parts. Hereâ€™s a complex URL example (actual URLs are usually simpler):</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://www.example.com:80/path/to/myfile.html?key1=value1&amp;key2=value2#anchor</span><br></pre></td></tr></table></figure>
<p>Letâ€™s break down the parts of this URL:</p>
<h3 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h3><p>The protocol (or scheme) is the method the browser uses to request resources from the server. In our example, itâ€™s the <code>https://</code> part, indicating the use of the HTTPS protocol.<br>The internet supports multiple protocols, and itâ€™s necessary to specify which one the URL uses. The default is typically HTTP. If you omit the protocol and enter <code>www.example.com</code> in the browserâ€™s address bar, it will default to <code>http://www.example.com</code>. HTTPS is the encrypted version of HTTP, and for security reasons, more and more websites are adopting this protocol.<br>HTTP and HTTPS protocol names are followed by a colon and two forward slashes (<code>://</code>). Other protocols may differ; for example, the email address protocol <code>mailto:</code> is followed by only a colon, as in <code>mailto:foo@example.com</code>.</p>
<h3 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h3><p>The host is the name of the website or server where the resource is located, also known as the domain name. In our example, the host is <code>www.example.com</code>.<br>Some hosts donâ€™t have domain names and only use IP addresses (e.g., <code>192.168.2.15</code>). This is common in local area networks.</p>
<h3 id="Port"><a href="#Port" class="headerlink" title="Port"></a>Port</h3><p>A single domain name may host multiple websites, distinguished by their ports. A â€œportâ€ is an integer that tells the server which specific website the visitor wants to access. The default port for HTTP is 80, and if omitted, the server will return the website on port 80.<br>The port follows the domain name, separated by a colon, like <code>www.example.com:80</code>.</p>
<h3 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h3><p>The path represents the resourceâ€™s location on the website. For example, <code>/path/index.html</code> points to the <code>index.html</code> file in the <code>/path</code> subdirectory of the website.<br>In the early days of the internet, paths represented actual physical locations. Now, servers can simulate these locations, so paths are often virtual.<br>Paths may include only directories without filenames (e.g., <code>/foo/</code>), and the trailing slash can even be omitted. In such cases, servers typically default to the <code>index.html</code> file in that directory (equivalent to requesting <code>/foo/index.html</code>), but this depends on server settings.</p>
<h3 id="Query-Parameters"><a href="#Query-Parameters" class="headerlink" title="Query Parameters"></a>Query Parameters</h3><p>Query parameters provide additional information to the server. They appear after the path, separated by a question mark (<code>?</code>). In our example, itâ€™s <code>?key1=value1&amp;key2=value2</code>.<br>Query parameters can be single or multiple. Each parameter is a key-value pair, with the key and value connected by an equals sign (<code>=</code>). For example, <code>key1=value1</code> is a key-value pair where <code>key1</code> is the key and <code>value1</code> is the value.<br>Multiple parameters are separated by ampersands (<code>&amp;</code>), like <code>key1=value1&amp;key2=value2</code>.</p>
<h3 id="Anchor"><a href="#Anchor" class="headerlink" title="Anchor"></a>Anchor</h3><p>An anchor (or fragment identifier) is a location marker within a web page. Itâ€™s denoted by a hash symbol (<code>#</code>) followed by the anchor name, placed at the end of the URL (e.g., <code>#anchor</code>). After loading the page, the browser automatically scrolls to the anchorâ€™s location.<br>Anchor names are typically defined by the <code>id</code> attribute of HTML elements, which weâ€™ll cover in the â€œElement Attributesâ€ chapter.</p>
<h2 id="URL-Characters"><a href="#URL-Characters" class="headerlink" title="URL Characters"></a>URL Characters</h2><p>URLs can only use the following characters:</p>
<ul>
<li>26 English letters (uppercase and lowercase)</li>
<li>10 Arabic numerals</li>
<li>Hyphen (<code>-</code>)</li>
<li>Period (<code>.</code>)</li>
<li>Underscore (<code>_</code>)</li>
</ul>
<p>Additionally, 18 characters are reserved for specific uses in URLs. For example, the question mark (<code>?</code>) can only appear at the beginning of query parameters. If these reserved characters need to be used elsewhere in a URL, they must be escaped.<br>URL character escaping is done by prepending a percent sign (<code>%</code>) to the characterâ€™s hexadecimal ASCII code. Here are the 18 reserved characters and their escaped forms:</p>
<ul>
<li><code>!</code>ï¼š%21</li>
<li><code>#</code>ï¼š%23</li>
<li><code>$</code>ï¼š%24</li>
<li><code>&amp;</code>ï¼š%26</li>
<li><code>&#39;</code>ï¼š%27</li>
<li><code>(</code>ï¼š%28</li>
<li><code>)</code>ï¼š%29</li>
<li><code>*</code>ï¼š%2A</li>
<li><code>+</code>ï¼š%2B</li>
<li><code>,</code>ï¼š%2C</li>
<li><code>/</code>ï¼š%2F</li>
<li><code>:</code>ï¼š%3A</li>
<li><code>;</code>ï¼š%3B</li>
<li><code>=</code>ï¼š%3D</li>
<li><code>?</code>ï¼š%3F</li>
<li><code>@</code>ï¼š%40</li>
<li><code>[</code>ï¼š%5B</li>
<li><code>]</code>ï¼š%5D</li>
</ul>
<p>For example, if a webpageâ€™s URL is <code>foo?bar.html</code> (containing a question mark), it should be written as <code>foo%3Fbar.html</code>.<br>While legal URL characters can also be escaped, itâ€™s not recommended. For instance, the letter â€˜aâ€™ could be written as <code>%61</code>, but itâ€™s unnecessary.<br>Note that a space is escaped as <code>%20</code>. This is crucial for filenames containing spaces.</p>
<p>Characters that are neither legal URL characters nor reserved characters (such as Chinese characters) theoretically donâ€™t need manual escaping and can be written directly in URLs. For example, <code>www.example.com/ä¸­å›½.html</code>. Browsers will automatically escape these characters when sending the request to the server. The escaping method uses the hexadecimal UTF-8 encoding of these characters. Each two digits are treated as a group, and each group is prefixed with a percent sign (<code>%</code>). </p>
<p>For instance, the UTF-8 hexadecimal encoding for the Chinese character <code>ä¸­</code> is <code>e4b8ad</code>. Grouping every two characters and adding percent signs results in <code>%e4%b8%ad</code>. This means that wherever the character <code>ä¸­</code> appears in a URL, it should be written as <code>%e4%b8%ad</code>. Therefore, to access the URL <code>www.example.com/ä¸­å›½.html</code>, you would need to write it as: </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.example.com/%e4%b8%ad%e5%9b%bd.html</span><br></pre></td></tr></table></figure>
<p>In this example, <code>ä¸­</code> is escaped as <code>%e4%b8%ad,</code> and <code>å›½</code> is escaped as <code>%e5%9b%b</code>.</p>
<h2 id="Absolute-vs-Relative-URLs"><a href="#Absolute-vs-Relative-URLs" class="headerlink" title="Absolute vs Relative URLs"></a>Absolute vs Relative URLs</h2><p>URLs come in two types: absolute and relative.<br>Absolute URLs contain complete information to locate a resource, including protocol, host, path, etc. All previous examples were absolute URLs.<br>Relative URLs donâ€™t include full location information and must be combined with the current pageâ€™s location to determine the resourceâ€™s location. For example, if the current page is <code>https://www.example.com/path/index.html</code> and it contains a resource with URL <code>a.html</code>, this is a relative URL. The browser assumes <code>a.html</code> is in the same subdirectory as the current page, resulting in the absolute URL <code>https://www.example.com/path/a.html</code>.<br>Relative URLs starting with a slash (<code>/</code>) indicate the websiteâ€™s root directory. Otherwise, theyâ€™re calculated from the current directory. For instance, <code>/foo/bar.html</code> refers to the <code>foo</code> subdirectory in the root, while <code>foo/bar.html</code> refers to the <code>foo</code> subdirectory in the current directory.<br>URLs can also use two special shortcuts:<br><code>.</code> : current directory (e.g., <code>./a.html</code> for <code>a.html</code> in the current directory)<br><code>..</code> : parent directory (e.g., <code>../a.html</code> for <code>a.html</code> in the parent directory)<br>These shortcuts can be chained, like <code>../../</code> to indicate two directories up.<br>Absolute URLs can also use these shortcuts, e.g., <code>www.example.com/./index.html</code> is equivalent to <code>www.example.com/index.html</code>. In this case, the dot (<code>.</code>) represents the current directory of the root directory, which is essentially the root directory itself.</p>
<h2 id="lt-base-gt"><a href="#lt-base-gt" class="headerlink" title="&lt;base&gt;"></a><code>&lt;base&gt;</code></h2><p>The <code>&lt;base&gt;</code> tag specifies the base URL for all relative URLs within a web page. Only one <code>&lt;base&gt;</code> tag can be used per page, and it must be placed inside the <code>&lt;head&gt;</code> section. Itâ€™s a self-closing tag, meaning it doesnâ€™t have a closing tag. Hereâ€™s an example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com/files/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>href</code> attribute of the <code>&lt;base&gt;</code> tag provides the base URL for calculations, while the <code>target</code> attribute specifies how links should be opened (see the â€œLinksâ€ chapter for more details). With the base URL set to <code>https://www.example.com/files/</code>, a relative URL like <code>foo.html</code> would be converted to the absolute URL <code>https://www.example.com/files/foo.html</code>.<br>Note that the <code>&lt;base&gt;</code> tag must have at least one of the <code>href</code> or <code>target</code> attributes:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;http://foo.com/app/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Once set, the <code>&lt;base&gt;</code> tag affects the entire web page. To change the behavior of a specific link, you must use an absolute URL instead of a relative one. Pay special attention to anchor links, as they will be calculated relative to the <code>&lt;base&gt;</code> URL rather than the current pageâ€™s.</p>
<p>Link to original article:<br><a href="https://wangdoc.com/html/url">https://wangdoc.com/html/url</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Lists</title>
    <url>/2024/06/19/html-lists/</url>
    <content><![CDATA[<p>Lists are collections of organized items, primarily divided into two types: ordered and unordered.<br>Ordered lists feature numbered items, displaying a clear sequence, like this:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">1. Item A</span><br><span class="line">2. Item B</span><br><span class="line">3. Item C</span><br></pre></td></tr></table></figure>
<p>Unordered lists, on the other hand, use bullet points instead of numbers:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">â€¢ Item A</span><br><span class="line">â€¢ Item B</span><br><span class="line">â€¢ Item C</span><br></pre></td></tr></table></figure>
<h2 id="lt-ol-gt"><a href="#lt-ol-gt" class="headerlink" title="&lt;ol&gt;"></a><code>&lt;ol&gt;</code></h2><p>The <code>&lt;ol&gt;</code> tag creates an ordered list container. It automatically generates numbers for each list item. This tag is ideal for content where the order matters, such as rankings.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<p>This code will number the items A, B, and C as 1, 2, and 3 respectively.</p>
<p>You can nest <code>&lt;ol&gt;</code> or <code>&lt;ul&gt;</code> tags within an <code>&lt;ol&gt;</code> to create multi-level lists:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B </span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B1<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B2<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B3<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span> </span><br></pre></td></tr></table></figure>
<p>This nested list will render as:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">1. Item A</span><br><span class="line">2. Item B</span><br><span class="line">  1. Item B1</span><br><span class="line">  2. Item B2</span><br><span class="line">  3. Item B3</span><br><span class="line">3.Item C</span><br></pre></td></tr></table></figure>
<p>The <code>&lt;ol&gt;</code> tag has several useful attributes:</p>
<ol>
<li><p><strong>reversed</strong>: Creates a reverse-order list.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">reversed</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will number the items as 3, 2, 1.</p>
</li>
<li><p><strong>start</strong>: Sets the starting number for the list.</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">start</span>=<span class="string">&quot;5&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will number the items as 5, 6, 7.</p>
<ol start="3">
<li><strong>type</strong>: Specifies the numbering style. Options include:</li>
</ol>
<ul>
<li><code>a</code>: lowercase letters</li>
<li><code>A</code>: uppercase letters</li>
<li><code>i</code>: lowercase Roman numerals</li>
<li><code>I</code>: uppercase Roman numerals</li>
<li><code>1</code>: integers (default)</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;a&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will label the items as a, b, c.</p>
<p>Note: Even when using letters, the <code>start</code> attribute still uses integers:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span>=<span class="string">&quot;a&quot;</span> <span class="attr">start</span>=<span class="string">&quot;3&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will start the list at â€˜câ€™.</p>
<h2 id="lt-ul-gt"><a href="#lt-ul-gt" class="headerlink" title="&lt;ul&gt;"></a><code>&lt;ul&gt;</code></h2><p>The <code>&lt;ul&gt;</code> tag creates an unordered list container, using bullet points for each item. Itâ€™s best for lists where order doesnâ€™t matter.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This renders as a bulleted list.</p>
<p>Like <code>&lt;ol&gt;</code>, you can nest <code>&lt;ul&gt;</code> or <code>&lt;ol&gt;</code> tags within <code>&lt;ul&gt;</code> for multi-level lists.</p>
<h2 id="lt-li-gt"><a href="#lt-li-gt" class="headerlink" title="&lt;li&gt;"></a><code>&lt;li&gt;</code></h2><p>The <code>&lt;li&gt;</code> tag represents list items within <code>&lt;ol&gt;</code> or <code>&lt;ul&gt;</code> containers.</p>
<p>In ordered lists, <code>&lt;li&gt;</code> has a <code>value</code> attribute to set the itemâ€™s number:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item A<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">value</span>=<span class="string">&quot;4&quot;</span>&gt;</span>Item B<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Item C<span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This will number the items as 1, 4, 5.</p>
<h2 id="Definition-Lists-lt-dl-gt-lt-dt-gt-lt-dd-gt"><a href="#Definition-Lists-lt-dl-gt-lt-dt-gt-lt-dd-gt" class="headerlink" title="Definition Lists: &lt;dl&gt;, &lt;dt&gt;, &lt;dd&gt;"></a>Definition Lists: <code>&lt;dl&gt;</code>, <code>&lt;dt&gt;</code>, <code>&lt;dd&gt;</code></h2><p>The <code>&lt;dl&gt;</code> tag is a block-level element used to create a description list. It consists of term-definition pairs, where <code>&lt;dt&gt;</code> defines the term (description term) and <code>&lt;dd&gt;</code> provides the definition (description detail). Description lists are commonly used for glossaries or vocabularies.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>CPU<span class="tag">&lt;/<span class="name">dt</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Central Processing Unit<span class="tag">&lt;/<span class="name">dd</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Memory<span class="tag">&lt;/<span class="name">dt</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>RAM<span class="tag">&lt;/<span class="name">dd</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Hard Disk<span class="tag">&lt;/<span class="name">dt</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Storage device<span class="tag">&lt;/<span class="name">dd</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Both <code>&lt;dt&gt;</code> and <code>&lt;dd&gt;</code> are block-level elements. By default, <code>&lt;dd&gt;</code> elements are indented beneath their corresponding <code>&lt;dt&gt;</code> elements. The default rendering of the above code would look like this:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">CPU</span><br><span class="line">  Central Processing Unit</span><br><span class="line"></span><br><span class="line">Memory</span><br><span class="line">  RAM</span><br><span class="line"></span><br><span class="line">Hard Disk</span><br><span class="line">  Storage device</span><br></pre></td></tr></table></figure>
<p>Itâ€™s perfectly valid to have multiple terms (<code>&lt;dt&gt;</code>) sharing a single definition (<code>&lt;dd&gt;</code>), or multiple definitions (<code>&lt;dd&gt;</code>) for a single term (<code>&lt;dt&gt;</code>).<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>A<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>B<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>C<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>D<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>E<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span>F<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this structure, terms <code>A</code> and <code>B</code> share the common definition <code>C</code>, while term <code>D</code> has two definitions, <code>E</code> and <code>F</code>.</p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Element Attributes</title>
    <url>/2024/06/15/html-element-attributes/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>HTML element attributes customize the behavior of elements. Different attributes lead to different behaviors. Attributes are written as â€œkey-value pairsâ€ inside HTML tags.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this code, <code>lang=&quot;en&quot;</code> within the <code>&lt;html&gt;</code> tag is an attribute of the <code>html </code>element. The attribute name is <code>lang</code>, and its value is <code>en</code>.</p>
<p>Attribute names, like tag names, are case-insensitive. <code>lang</code> and <code>LANG</code> refer to the same attribute.</p>
<p>Attribute names and values are connected by an equals sign (<code>=</code>). Values can be enclosed in single or double quotes, but double quotes are recommended. Some attribute values can be used without quotes, but this practice is discouraged.</p>
<p>Some attributes are boolean, meaning they only have two states: â€œonâ€ or â€œoffâ€. For these, you can simply include the attribute name to turn it on, without specifying a value.</p>
<p>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, required is a boolean attribute of the <code>&lt;input&gt;</code> tag. Its presence indicates itâ€™s turned on, while its absence means itâ€™s off.</p>
<h2 id="Global-Attributes"><a href="#Global-Attributes" class="headerlink" title="Global Attributes"></a>Global Attributes</h2><p>Global attributes can be used with any HTML element. While you can add these attributes to any element, they may not have a meaningful effect on all elements.</p>
<p>Here are some common global attributes:</p>
<h3 id="id"><a href="#id" class="headerlink" title="id"></a>id</h3><p>The <code>id</code> attribute provides a unique identifier for an element within a webpage. For instance:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Each <code>&lt;p&gt;</code> tag has a different <code>id</code>, allowing them to be distinguished. <code>id</code> values must be unique within a page and cannot contain spaces.</p>
<p>You can also use an <code>id</code> as an anchor in a URL by prefixing it with <code>#</code>. For example, <code>https://foo.com/index.html#bar</code> will automatically scroll the page to the element with <code>id=&quot;bar&quot;</code>.</p>
<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><p>The <code>class</code> attribute categorizes elements. Elements with the same <code>class</code> value are considered to be of the same type:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;para&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;para&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the first and third <code>&lt;p&gt;</code> elements are of the same class.</p>
<p>An element can have multiple classes, separated by spaces:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p1 p2 p3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This <code>&lt;p&gt;</code> element has three classes: <code>p1</code>, <code>p2</code>, and <code>p3</code>.</p>
<h3 id="title"><a href="#title" class="headerlink" title="title"></a>title</h3><p>The <code>title</code> attribute adds supplementary information to an element. In most browsers, this appears as a tooltip when the mouse hovers over the element:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">&quot;Copyright notice&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>This site&#x27;s content is under a Creative Commons license and free to use.<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the code above, the <code>title</code> attribute explains the purpose of this section of content. When the mouse hovers over it, the browser displays a tooltip. Once the mouse moves away, the tooltip disappears.</p>
<h3 id="tabindex"><a href="#tabindex" class="headerlink" title="tabindex"></a>tabindex</h3><blockquote>
<p>Web pages are typically operated with a mouse, but in some cases, users may prefer or only have the option to use a keyboard. Therefore, browsers allow navigation through web page elements using the <strong>Tab</strong> key. This means that by continuously pressing the Tab key, the focus of the web page shifts from one element to another. Once an element is focused, users can proceed with actions such as pressing Enter to follow a link or directly entering text into an input field.<br>However, a question arises: how does the browser determine the order when Tab is pressed? HTML addresses this with the <code>tabindex</code> attribute, which resolves this issue. Its name signifies the order (index) in which Tab should navigate.<br>The <code>tabindex</code> attribute takes an integer value that determines the sequence in which focus shifts when users press the Tab key. Different values of this attribute have different meanings.</p>
</blockquote>
<p>The <code>tabindex</code> attribute determines the order in which elements are focused when using the Tab key to navigate a webpage. Itâ€™s particularly useful for keyboard accessibility. Its values have different meanings:</p>
<ul>
<li>Negative integer (usually -1): The element can receive focus (e.g., via JavaScriptâ€™s <code>focus()</code> method) but doesnâ€™t participate in sequential keyboard navigation.</li>
<li>0: The element participates in sequential keyboard navigation, in an order determined by the browser (usually based on the elementâ€™s position in the document).</li>
<li>Positive integer: The element participates in sequential keyboard navigation, with its order defined by the tabindex value (lowest to highest).</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">tabindex</span>=<span class="string">&quot;0&quot;</span>&gt;</span>This text can receive focus.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the code above, the <code>&lt;p&gt;</code> tag has a <code>tabindex</code> of <code>0</code>, which means this element can receive focus and can also be navigated using the Tab key, with the order determined by its position in the source code.</p>
<p>Generally, itâ€™s best to set the <code>tabindex</code> attribute to 0 for most cases, allowing natural sequential navigation that aligns with user expectations, unless the webpage has a specific layout requirement. If no elements on the webpage have a <code>tabindex</code> set, only those default navigable elements (like links and input fields) can be navigated using the Tab key, with the order determined by their position in the source code. Therefore, in practice, setting the <code>tabindex</code> attribute is only necessary for elements that cannot naturally receive focus, such as <code>&lt;span&gt;</code> or <code>&lt;div&gt;</code>.</p>
<h3 id="accesskey"><a href="#accesskey" class="headerlink" title="accesskey"></a>accesskey</h3><p>The <code>accesskey</code> attribute specifies a keyboard shortcut to focus on an element. Its value must be a single printable character:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">accesskey</span>=<span class="string">&quot;s&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the code above, the <code>&lt;button&gt;</code> element has a shortcut key of â€˜sâ€™, allowing it to receive focus when the shortcut key is pressed.</p>
<p>The <code>accesskey</code> attributeâ€™s character key must be pressed together with a modifier key to take effect. This means the shortcut key is a combination of â€œmodifier key + character keyâ€. Different browsers and operating systems use different modifier keys. For instance, in Chrome on Windows and Linux systems, the shortcut key is <code>Alt + character key</code>, while on Mac systems, it is <code>Ctrl + Alt + character key</code>.</p>
<p>Itâ€™s important to note that if <code>accesskey</code> conflicts with system-level or browser-level shortcuts, it will not function.</p>
<h3 id="style"><a href="#style" class="headerlink" title="style"></a>style</h3><p>The <code>style</code> attribute allows inline CSS styling:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: red;&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The above code specifies that the text color is red.</p>
<h3 id="hidden"><a href="#hidden" class="headerlink" title="hidden"></a>hidden</h3><p>The <code>hidden</code> attribute is a boolean attribute that indicates an element is not currently relevant and should not be rendered:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">hidden</span>&gt;</span>This sentence won&#x27;t appear on the page.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, this <code>&lt;p&gt;</code> element will not appear on the webpage. </p>
<p>Note that CSS visibility settings take precedence over the <code>hidden</code> attribute. If CSS makes the element visible, the <code>hidden</code> attribute will be ignored.</p>
<h3 id="lang-and-dir"><a href="#lang-and-dir" class="headerlink" title="lang and dir"></a>lang and dir</h3><p>The <code>lang</code> attribute specifies the language of an elementâ€™s content:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span>&gt;</span>ä½ å¥½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the code above, the <code>lang</code> attribute of the first <code>&lt;p&gt;</code> element indicates that the text is in English, while the <code>lang</code> attribute of the second <code>&lt;p&gt;</code> element indicates that the text is in Chinese.</p>
<p>The value of the <code>lang</code> attribute must comply with the BCP47 standard. Here are some common language codes:</p>
<ul>
<li>zh: Chinese</li>
<li>zh-Hans: Simplified Chinese</li>
<li>zh-Hant: Traditional Chinese</li>
<li>en: English</li>
<li>en-US: American English</li>
<li>en-GB: British English</li>
<li>es: Spanish</li>
<li>fr: French</li>
</ul>
<p>The <code>dir</code> attribute indicates the text direction:</p>
<ol>
<li><code>ltr</code>: left-to-right (e.g., English)</li>
<li><code>rtl</code>: right-to-left (e.g., Arabic, Persian, Hebrew)</li>
<li><code>auto</code>: browser decides based on content</li>
</ol>
<h3 id="translate"><a href="#translate" class="headerlink" title="translate"></a>translate</h3><p>The <code>translate</code> attribute indicates whether the elementâ€™s content should be translated:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">translate</span>=<span class="string">&quot;no&quot;</span>&gt;</span>Wien<span class="tag">&lt;/<span class="name">span</span>&gt;</span> </span><br><span class="line">  named world&#x27;s most liveable city (again)! </span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the example above, <code>translate=&quot;no&quot;</code> is used to instruct the translation software not to translate the text within the <code>&lt;span&gt;</code> element.</p>
<p>If <code>translate</code> is set to â€œyes,â€ it tells the translation software to translate the text.</p>
<h3 id="contenteditable"><a href="#contenteditable" class="headerlink" title="contenteditable"></a>contenteditable</h3><p>By default, HTML web content is not editable by users. The <code>contenteditable</code> attribute allows users to modify the content and can have two possible values:</p>
<ul>
<li><code>true</code> or an empty string: The content is editable.</li>
<li><code>false</code>: The content is not editable.</li>
</ul>
<p>In the code snippet below, clicking on the sentence will enter edit mode, allowing users to change the text. However, unless the changes are submitted to the server, refreshing the page will revert to the original content.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">contenteditable</span>=<span class="string">&quot;true&quot;</span>&gt;</span> Click this sentence to edit its content. <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>contenteditable</code> attribute is an enumerated attribute, not a boolean one, so itâ€™s best to include the attribute value explicitly.</p>
<h3 id="spellcheck"><a href="#spellcheck" class="headerlink" title="spellcheck"></a>spellcheck</h3><p>Browsers typically include a built-in spell check feature, which underlines misspelled words with a red, wavy line. The <code>spellcheck</code> attribute determines whether spell check is enabled.<br>It has two possible values:</p>
<ul>
<li><code>true</code>: Enables spell check.</li>
<li><code>false</code>: Disables spell check.</li>
</ul>
<p>In the example below, the word â€œseperateâ€ will be underlined to indicate itâ€™s misspelled:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">contenteditable</span>=<span class="string">&quot;true&quot;</span> <span class="attr">spellcheck</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">The English word &quot;separate&quot; is often mistakenly written as &quot;seperate&quot;.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Note that the <code>spellcheck</code> attribute only takes effect when the content is editable, which is why the <code>contenteditable</code> attribute is included. Clicking on the text will allow you to edit it and see the spell check suggestions. Spell check will not be active if the content is not editable. For non-editable elements, the <code>spellcheck</code> attribute has no effect.</p>
<p>Although the <code>spellcheck</code> attribute appears to be boolean, it is actually an enumerated attribute, so itâ€™s best to always specify its value. If the attribute is not set, the browser will decide whether to enable spell check on its own.</p>
<h3 id="data-attributes"><a href="#data-attributes" class="headerlink" title="data- attributes"></a><code>data-</code> attributes</h3><p>The <code>data-</code> attribute is used to store custom data. If there is no other suitable attribute or element to hold the data, you can use <code>data-</code>.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;tooltip&quot;</span> <span class="attr">data-tip</span>=<span class="string">&quot;this is the tip!&quot;</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this code, <code>data-tip</code> holds the tooltip text for the link.</p>
<p>Since <code>data-</code> attributes are only accessible through CSS or JavaScript, they wonâ€™t be covered in detail here. Below are examples of how to use them with CSS:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* HTML code:</span></span><br><span class="line"><span class="comment">&lt;div data-role=&quot;mobile&quot;&gt;</span></span><br><span class="line"><span class="comment">Mobile only content</span></span><br><span class="line"><span class="comment">&lt;/div&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-attr">[data-role=<span class="string">&quot;mobile&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* HTML code:</span></span><br><span class="line"><span class="comment">&lt;div class=&quot;test&quot; data-content=&quot;This is the div content&quot;&gt;test&lt;/div&gt;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="built_in">attr</span>(data-content);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Event-Handler-Attributes"><a href="#Event-Handler-Attributes" class="headerlink" title="Event Handler Attributes"></a>Event Handler Attributes</h3><p>Global attributes also include event handler attributes that respond to user actions. These attributes take JavaScript code as their value. For a complete list and usage details, please refer to a JavaScript tutorial.</p>
<blockquote>
<p>onabort, onautocomplete, onautocompleteerror, onblur, oncancel, oncanplay, oncanplaythrough, onchange, onclick, onclose, oncontextmenu, oncuechange, ondblclick, ondrag, ondragend, ondragenter, ondragexit, ondragleave, ondragover, ondragstart, ondrop, ondurationchange, onemptied, onended, onerror, onfocus, oninput, oninvalid, onkeydown, onkeypress, onkeyup, onload, onloadeddata, onloadedmetadata, onloadstart, onmousedown, onmouseenter, onmouseleave, onmousemove, onmouseout, onmouseover, onmouseup, onmousewheel, onpause, onplay, onplaying, onprogress, onratechange, onreset, onresize, onscroll, onseeked, onseeking, onselect, onshow, onsort, onstalled, onsubmit, onsuspend, ontimeupdate, ontoggle, onvolumechange, onwaiting</p>
</blockquote>
<p>Link to original article:<br><a href="https://wangdoc.com/html/attribute">https://wangdoc.com/html/attribute</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML &lt;link&gt; Tag</title>
    <url>/2024/06/22/html-link-tag/</url>
    <content><![CDATA[<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>The <code>&lt;link&gt;</code> tag is primarily used to connect the current webpage with related external resources and is usually placed inside the <code>&lt;head&gt;</code> element. Its most common use is to load CSS stylesheets.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;theme.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above loads the stylesheet <code>theme.css</code> for the webpage.</p>
<p>In addition to the default stylesheet, a webpage can also load alternate stylesheets that are not applied by default but can be manually switched by the user.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;default.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Default Style&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;fancy.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;alternate stylesheet&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Fancy&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;basic.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;alternate stylesheet&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Basic&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>default.css</code> is the default stylesheet and is applied automatically. <code>fancy.css</code> and <code>basic.css</code> are alternate stylesheets (<code>rel=&quot;alternate stylesheet&quot;</code>) and are not applied by default. The <code>title</code> attribute is essential here as it lists these stylesheets in the browser menu, allowing users to switch between them.</p>
<p>The <code>&lt;link&gt;</code> tag can also be used to load a websiteâ€™s favicon.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon.ico&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/x-icon&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>For mobile access, different resolutions of the icon file are often required.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon-precomposed&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;114x114&quot;</span> <span class="attr">href</span>=<span class="string">&quot;favicon114.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon-precomposed&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;72x72&quot;</span> <span class="attr">href</span>=<span class="string">&quot;favicon72.png&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The above code specifies icons of 114 pixels and 72 pixels for iPhone devices.</p>
<p>Additionally, <code>&lt;link&gt;</code> can provide related document links, such as the RSS Feed address.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;alternate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;application/atom+xml&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/blog/news/atom&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="href-Attribute"><a href="#href-Attribute" class="headerlink" title="href Attribute"></a>href Attribute</h2><p>The <code>href</code> attribute specifies the resource linked by the <code>&lt;link&gt;</code> tag.</p>
<h2 id="rel-Attribute"><a href="#rel-Attribute" class="headerlink" title="rel Attribute"></a>rel Attribute</h2><p>The <code>rel</code> attribute defines the relationship between the current document and an external resource. It is a required attribute for the <code>&lt;link&gt;</code> tag and serves to describe the resource linked by the <code>href</code> attribute. Here are some common values:</p>
<ul>
<li><strong>alternate</strong>: A different version of the document, such as a print version.</li>
<li><strong>author</strong>: A link to the documentâ€™s author.</li>
<li><strong>dns-prefetch</strong>: Requests the browser to perform DNS lookup for a specified URL in advance.</li>
<li><strong>help</strong>: A link to a help document.</li>
<li><strong>icon</strong>: Specifies the documentâ€™s icon file.</li>
<li><strong>license</strong>: A link to the license information.</li>
<li><strong>next</strong>: The link to the next document in a series.</li>
<li><strong>pingback</strong>: The URL to receive pingback requests.</li>
<li><strong>preconnect</strong>: Requests the browser to establish an HTTP connection to the given server early.</li>
<li><strong>prefetch</strong>: Suggests the browser download and cache the specified resource for future use. This has lower priority and may not be downloaded.</li>
<li><strong>preload</strong>: Directs the browser to download and cache a resource for immediate future use, with higher priority.</li>
<li><strong>prerender</strong>: Instructs the browser to pre-render the specified link, making it load instantly when accessed.</li>
<li><strong>prev</strong>: The link to the previous document in a series.</li>
<li><strong>search</strong>: A link to search functionality for the current page.</li>
<li><strong>stylesheet</strong>: Specifies a stylesheet to load.</li>
</ul>
<p>Here are some examples:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Author information --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;author&quot;</span> <span class="attr">href</span>=<span class="string">&quot;humans.txt&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- License information --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;license&quot;</span> <span class="attr">href</span>=<span class="string">&quot;copyright.html&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Alternative language version --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;alternate&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://es.example.com/&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;es&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Contact information --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;me&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://google.com/profiles/someone&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;me&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mailto:name@example.com&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;me&quot;</span> <span class="attr">href</span>=<span class="string">&quot;sms:+15035550125&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Archives --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;archives&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/archives/&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Index --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;index&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/article/&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Navigation --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;first&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/article/&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;last&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/article/?page=42&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prev&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/article/?page=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;next&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/article/?page=3&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="hreflang-Attribute"><a href="#hreflang-Attribute" class="headerlink" title="hreflang Attribute"></a>hreflang Attribute</h2><p>The <code>hreflang</code> attribute specifies the language of the resource linked by <code>href</code>, often used for alternate language versions of the current page.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com/de&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;alternate&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;de&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>hreflang</code> indicates that the linked page is in German. When multiple language versions are available, <code>hreflang</code> can be set to <code>x-default</code> to specify the default version.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;alternate&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;x-default&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com/de&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;alternate&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;de&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>x-default</code> signifies the default page.</p>
<h2 id="Preloading-Resources"><a href="#Preloading-Resources" class="headerlink" title="Preloading Resources"></a>Preloading Resources</h2><p>In some cases, you need the browser to preload resourcesâ€”essentially, caching them in advance so that they are immediately available when needed, rather than having to be downloaded from the web. The preload directive accomplishes this.</p>
<p>There are five main types of preloading:</p>
<h3 id="lt-link-rel-quot-preload-quot-gt"><a href="#lt-link-rel-quot-preload-quot-gt" class="headerlink" title="&lt;link rel=&quot;preload&quot;&gt;"></a><code>&lt;link rel=&quot;preload&quot;&gt;</code></h3><p>This instructs the browser to download and cache resources (like scripts or stylesheets) as soon as possible. Itâ€™s high-priority, so the browser will definitely follow this directive. The resource is downloaded and cached, but not executed or applied until needed.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;image.png&quot;</span> <span class="attr">as</span>=<span class="string">&quot;image&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>rel=&quot;preload&quot;</code> not only has high priority but also allows specifying the type of resource being preloaded and using <code>onload</code> event callbacks. The <code>as</code> attribute indicates the type of the resource for proper handling.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;main.js&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the browser is instructed to download and cache <code>style.css</code> and <code>main.js</code> in advance.</p>
<p><code>**as**</code>** Attribute**</p>
<p>The <code>as</code> attribute specifies the type of resource and can take values like:</p>
<ul>
<li>â€œscriptâ€</li>
<li>â€œstyleâ€</li>
<li>â€œimageâ€</li>
<li>â€œmediaâ€</li>
<li>â€œdocumentâ€</li>
</ul>
<p>If <code>as</code> is not specified or has an unrecognized value, the browser will download the resource with lower priority.</p>
<p><code>**type**</code>** Attribute**  </p>
<p>Sometimes, specifying the MIME type with the <code>type</code> attribute is necessary:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;sintel-short.mp4&quot;</span> <span class="attr">as</span>=<span class="string">&quot;video&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This preloads a video file and indicates it is MP4 encoded.</p>
<p>Fonts Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">href</span>=<span class="string">&quot;font.woff2&quot;</span> <span class="attr">as</span>=<span class="string">&quot;font&quot;</span> <span class="attr">type</span>=<span class="string">&quot;font/woff2&quot;</span> <span class="attr">crossorigin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This preloads a font file with proper MIME type.</p>
<p>To make preloaded resources execute immediately, use:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;style&quot;</span> <span class="attr">href</span>=<span class="string">&quot;async_style.css&quot;</span> <span class="attr">onload</span>=<span class="string">&quot;this.rel=&#x27;stylesheet&#x27;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code ensures that the stylesheet is applied as soon as itâ€™s downloaded.</p>
<h3 id="lt-link-rel-quot-prefetch-quot-gt"><a href="#lt-link-rel-quot-prefetch-quot-gt" class="headerlink" title="&lt;link rel=&quot;prefetch&quot;&gt;"></a><code>&lt;link rel=&quot;prefetch&quot;&gt;</code></h3><p>Used for resources likely needed for future pages. It has lower priority and might not always be executed.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com/&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="lt-link-rel-quot-preconnect-quot-gt"><a href="#lt-link-rel-quot-preconnect-quot-gt" class="headerlink" title="&lt;link rel=&quot;preconnect&quot;&gt;"></a><code>&lt;link rel=&quot;preconnect&quot;&gt;</code></h3><p>Establishes a TCP connection with a domain in advance.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preconnect&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com/&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="lt-link-rel-quot-dns-prefetch-quot-gt"><a href="#lt-link-rel-quot-dns-prefetch-quot-gt" class="headerlink" title="&lt;link rel=&quot;dns-prefetch&quot;&gt;"></a><code>&lt;link rel=&quot;dns-prefetch&quot;&gt;</code></h3><p>Performs DNS resolution for a domain early.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//example.com/&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="lt-link-rel-quot-prerender-quot-gt"><a href="#lt-link-rel-quot-prerender-quot-gt" class="headerlink" title="&lt;link rel=&quot;prerender&quot;&gt;"></a><code>&lt;link rel=&quot;prerender&quot;&gt;</code></h3><p>Loads and renders a page in advance. Itâ€™s useful if you anticipate the user will visit that page soon.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prerender&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://example.com/&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="media-Attribute"><a href="#media-Attribute" class="headerlink" title="media Attribute"></a>media Attribute</h2><p>The <code>media</code> attribute specifies the conditions under which an external resource is applied.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;print.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;print&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;mobile.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;screen and (max-width: 600px)&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>print.css</code> is loaded when printing, and <code>mobile.css</code> is loaded when the device width is 600 pixels or less.</p>
<p>Hereâ€™s another example using the <code>media</code> attribute for conditional loading:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;image&quot;</span> <span class="attr">href</span>=<span class="string">&quot;map.png&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(max-width: 600px)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;preload&quot;</span> <span class="attr">as</span>=<span class="string">&quot;script&quot;</span> <span class="attr">href</span>=<span class="string">&quot;map.js&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(min-width: 601px)&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this case, <code>map.png</code> is preloaded if the screen width is 600 pixels or less, while <code>map.js</code> is preloaded if the screen width is 601 pixels or more.</p>
<h2 id="Other-Attributes"><a href="#Other-Attributes" class="headerlink" title="Other Attributes"></a>Other Attributes</h2><p>Here are some additional attributes for the <code>&lt;link&gt;</code> tag:</p>
<ul>
<li><code>crossorigin</code>: Specifies cross-origin settings for loading external resources.</li>
<li><code>href</code>: URL of the external resource.</li>
<li><code>referrerpolicy</code>: Defines how the Referer header is handled when loading the resource.</li>
<li><code>as</code>: For <code>rel=&quot;preload&quot;</code> or <code>rel=&quot;prefetch&quot;</code>, specifies the type of external resource.</li>
<li><code>type</code>: MIME type of the external resource, used with <code>rel=&quot;preload&quot;</code> or <code>rel=&quot;prefetch&quot;</code>.</li>
<li><code>title</code>: Identifies the stylesheet name when loading stylesheets.</li>
<li><code>sizes</code>: Declares the sizes of icon files, such as for Apple devices.</li>
</ul>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/link">https://wangdoc.com/html/link</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>The &lt;script&gt; and &lt;noscript&gt; Tags</title>
    <url>/2024/06/23/html-script-and-noscript/</url>
    <content><![CDATA[<p>The <code>&lt;script&gt;</code> tag is used to embed scripts, typically JavaScript, into a web page. The <code>&lt;noscript&gt;</code> tag specifies content to be displayed when a browser doesnâ€™t support scripting or has it disabled.</p>
<h2 id="Using-lt-script-gt"><a href="#Using-lt-script-gt" class="headerlink" title="Using &lt;script&gt;"></a>Using <code>&lt;script&gt;</code></h2><p>The <code>&lt;script&gt;</code> tag is primarily used to load JavaScript code:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello world&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code will execute immediately when embedded in a webpage.</p>
<p><strong>Loading External Scripts:</strong></p>
<p>You can also use <code>&lt;script&gt;</code> to load external script files by providing the URL in the <code>src</code> attribute:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;javascript.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This will load and execute the <code>javascript.js</code> file.</p>
<p><strong>Script Type:</strong></p>
<p>The <code>type</code> attribute specifies the script type. For JavaScript, itâ€™s optional as itâ€™s the default:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;javascript.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>For ES6 modules, use:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>For browsers that donâ€™t support ES6 modules, you can use the <code>nomodule</code> attribute as a fallback:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">nomodule</span> <span class="attr">src</span>=<span class="string">&quot;fallback.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>Other Important Attributes:</p>
<ul>
<li><code>async</code>: Specifies that the script should be executed asynchronously.</li>
<li><code>defer</code>: Indicates that the script should be executed after the page has finished parsing.</li>
<li><code>crossorigin</code>: Configures the script to be loaded using CORS.</li>
<li><code>integrity</code>: Provides a hash of the script to prevent tampering.</li>
<li><code>nonce</code>: A cryptographic nonce used in Content Security Policy.</li>
<li><code>referrerpolicy</code>: Specifies how to handle the <code>Referer</code> HTTP header.</li>
</ul>
<h2 id="Using"><a href="#Using" class="headerlink" title="Using "></a>Using <noscript></h2><p>The <code>&lt;noscript&gt;</code> tag is used to provide alternative content when JavaScript is not available or disabled:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">  Your browser cannot execute JavaScript. The page may not display correctly.</span><br><span class="line"><span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>This content will only be shown if the browser canâ€™t execute JavaScript. Users might disable JavaScript to save bandwidth, extend battery life on mobile devices, or protect their privacy by preventing tracking.</p>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/script">https://wangdoc.com/html/script</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML &lt;a&gt; Tag</title>
    <url>/2024/06/21/html-a-tag/</url>
    <content><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Links (hyperlinks) are fundamental to the internet. They enable users to navigate from one webpage to another, connecting all resources online.</p>
<p>The <code>&lt;a&gt;</code> tag represents a hyperlink. It allows users to link to other pages, text, images, files, or even specific sections within the same page. In essence, any resource on the web can be accessed via an <code>&lt;a&gt;</code> tag.</p>
<p>Hereâ€™s an example of a typical link:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://wikipedia.org/&quot;</span>&gt;</span>Wikipedia<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, we define a hyperlink. The browser displays the text â€œWikipediaâ€ with an underline by default, indicating itâ€™s a clickable link. When users click on it, the browser navigates to the URL specified in the <code>href</code> attribute.</p>
<p>The <code>&lt;a&gt;</code> tag can contain not only text but also other elements such as paragraphs, images, or multi-media.</p>
<p>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com/&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.example.com/foo.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Example Image&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>&lt;a&gt;</code> tag contains an image. Clicking on the image will navigate the user to the specified URL.</p>
<h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p>The <code>&lt;a&gt;</code> tag has the following attributes:</p>
<h3 id="href"><a href="#href" class="headerlink" title="href"></a>href</h3><p>The <code>href</code> attribute specifies the URL or anchor point that the link points to. It can be a full URL or an anchor. For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#demo&quot;</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>href</code> value is <code>#</code> followed by the anchor name. Clicking the link will scroll the browser to the <code>demo</code> anchor on the current page.</p>
<h3 id="hreflang"><a href="#hreflang" class="headerlink" title="hreflang"></a>hreflang</h3><p>The <code>hreflang</code> attribute indicates the language of the linked page. It is a hint for search engines and has no functional impact on the link itself.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;en&quot;</span>&gt;</span>Example Website<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the <code>hreflang</code> attribute suggests that the linked page is in English. If a resource has versions in multiple languages, <code>hreflang</code> can be set to <code>x-default</code> to indicate the default version.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;x-default&quot;</span>&gt;</span>English<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://example.com/de&quot;</span> <span class="attr">hreflang</span>=<span class="string">&quot;de&quot;</span>&gt;</span>German<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>hreflang=&quot;x-default&quot;</code> denotes that this link is the default version. The language codes used in <code>hreflang</code> are similar to those in the <code>lang</code> attribute, which can be referenced in the â€œAttributesâ€ chapter of the documentation.</p>
<h3 id="title"><a href="#title" class="headerlink" title="title"></a>title</h3><p>The <code>title</code> attribute provides additional information about a link. When a user hovers their mouse over the link, the browser displays the value of this attribute as a tooltip.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com/&quot;</span> <span class="attr">title</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, hovering over the link will show a tooltip with the text â€œhello.â€</p>
<h3 id="target"><a href="#target" class="headerlink" title="target"></a>target</h3><p>The <code>target</code> attribute specifies how the linked document should be displayed. It determines whether the link opens in the same window, a new window, or within an <code>&lt;iframe&gt;</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://foo.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;test&quot;</span>&gt;</span>foo<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://bar.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;test&quot;</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, both links open in a window named â€œtest.â€ If the â€œtestâ€ window does not exist, the browser will create it and load the link. For instance, clicking the â€œfooâ€ link opens <code>foo.com</code> in the â€œtestâ€ window. Clicking the â€œbarâ€ link will then open <code>bar.com</code> in the same window, replacing the content of <code>foo.com</code>.</p>
<p>The <code>target</code> attribute can also use one of the following keywords:</p>
<ul>
<li><code>_self</code>: Opens in the same window (default).</li>
<li><code>_blank</code>: Opens in a new window.</li>
<li><code>_parent</code>: Opens in the parent frame. If there is no parent frame, it behaves like <code>_self</code>.</li>
<li><code>_top</code>: Opens in the topmost window. If the current window is already the topmost window, it behaves like <code>_self</code>.</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Example Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, clicking the link will open <code>example.com</code> in a new window, which will have no specific name.</p>
<p><strong>Note:</strong> When using the <code>target</code> attribute, it is advisable to use it in conjunction with <code>rel=&quot;noreferrer&quot;</code> to mitigate security risks.</p>
<h3 id="rel"><a href="#rel" class="headerlink" title="rel"></a>rel</h3><p>The <code>rel</code> attribute describes the relationship between the linked resource and the current document.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;help.html&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;help&quot;</span>&gt;</span>Help<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, the <code>rel</code> attribute indicates that the link is to a help document for the current page.</p>
<p>Common values for the <code>rel</code> attribute include:</p>
<ul>
<li><code>alternate</code>: An alternative version of the current document, such as a translation.</li>
<li><code>author</code>: A link to the author of the document.</li>
<li><code>bookmark</code>: A permanent address used as a bookmark.</li>
<li><code>external</code>: A reference to an external document.</li>
<li><code>help</code>: A link to help information.</li>
<li><code>license</code>: A link to the license for the document.</li>
<li><code>next</code>: The next document in a series.</li>
<li><code>nofollow</code>: Instructs search engines to ignore the link, often used to prevent search engine manipulation.</li>
<li><code>noreferrer</code>: Prevents the browser from sending the current URL as the <code>Referer</code> header when the link is clicked, thus hiding the source of the click.</li>
<li><code>noopener</code>: Prevents the linked document from accessing the original window via JavaScriptâ€™s <code>window.opener</code> property, enhancing security.</li>
<li><code>prev</code>: The previous document in a series.</li>
<li><code>search</code>: A search link for the document.</li>
<li><code>tag</code>: A link to tags related to the document.</li>
</ul>
<h3 id="referrerpolicy"><a href="#referrerpolicy" class="headerlink" title="referrerpolicy"></a>referrerpolicy</h3><p>The <code>referrerpolicy</code> attribute controls how the <code>Referer</code> header is handled when a link is clicked. It accepts the following values:</p>
<ul>
<li><code>no-referrer</code>: Never send the <code>Referer</code> header.</li>
<li><code>no-referrer-when-downgrade</code>: Send the <code>Referer</code> header only if the destination is secure (HTTPS).</li>
<li><code>origin</code>: Send only the origin (protocol + domain) as the <code>Referer</code>.</li>
<li><code>origin-when-cross-origin</code>: Send the origin as the <code>Referer</code> for cross-origin requests.</li>
<li><code>unsafe-url</code>: Always send the full URL as the <code>Referer</code>.</li>
<li><code>same-origin</code>: Send the <code>Referer</code> header only for same-origin requests.</li>
<li><code>strict-origin</code>: Send only the origin as the <code>Referer</code> for secure requests.</li>
<li><code>strict-origin-when-cross-origin</code>: Send the origin as the <code>Referer</code> for secure cross-origin requests.</li>
</ul>
<p>For detailed explanations of these values, refer to HTTP documentation.</p>
<h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>The <code>ping</code> attribute specifies a URL that will receive a POST request when the user clicks on the link. This is commonly used for tracking user behavior.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://localhost:3000/other&quot;</span> <span class="attr">ping</span>=<span class="string">&quot;http://localhost:3000/log&quot;</span>&gt;</span></span><br><span class="line">  Go to Other Page</span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, clicking the link will not only navigate to <code>http://localhost:3000/other</code> but also send a POST request to <code>http://localhost:3000/log</code>. The server will then know that the link was clicked. </p>
<p>The request headers include <code>ping-from</code> (the page where the click occurred) and <code>ping-to</code> (the page pointed to by the <code>href</code> attribute):</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">headers: &#123;</span><br><span class="line">  &#x27;ping-from&#x27;: &#x27;http://localhost:3000/&#x27;,</span><br><span class="line">  &#x27;ping-to&#x27;: &#x27;http://localhost:3000/other&#x27;,</span><br><span class="line">  &#x27;content-type&#x27;: &#x27;text/ping&#x27;</span><br><span class="line">  // ...other headers</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note that the <code>ping</code> attribute only works with links and is ineffective for other interactions like button clicks or form submissions. Additionally, Firefox does not support this attribute, and it cannot send custom data.</p>
<h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>The <code>type</code> attribute specifies the MIME type of the linked URL, such as whether itâ€™s a webpage, image, or file. This attribute is purely informational and does not affect functionality.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;smile.jpg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/jpeg&quot;</span>&gt;</span>Example Image<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>type</code> attribute indicates that the link points to an image file.</p>
<h3 id="download"><a href="#download" class="headerlink" title="download"></a>download</h3><p>The <code>download</code> attribute specifies that a link is intended for downloading a file rather than navigating to another URL.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;demo.txt&quot;</span> <span class="attr">download</span>&gt;</span>Download<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>When you click the above link, a download dialog will appear.</p>
<p>Note that the <code>download</code> attribute only works if the link is to a resource on the same origin as the website. This means the link must be from the same domain as the page.</p>
<p>If a value is specified for the <code>download</code> attribute, that value will be used as the name of the downloaded file.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;foo.exe&quot;</span> <span class="attr">download</span>=<span class="string">&quot;bar.exe&quot;</span>&gt;</span>Click to download<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the above code, the original file is named <code>foo.exe</code>. When clicked, the download dialog will prompt with the file name <code>bar.exe</code>.</p>
<p>Keep in mind that if the serverâ€™s HTTP response headers include a <code>Content-Disposition</code> field with a file name different from the <code>download</code> attribute, the <code>Content-Disposition</code> field will take precedence, and the download will use that file name.</p>
<p>Additionally, the <code>download</code> attribute can be used with data URLs (e.g., those starting with <code>data:</code>). In this case, the <code>download</code> attribute specifies the name of the file for download.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:,Hello%2C%20World!&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The link above opens a virtual page displaying â€œHello, World!â€.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:,Hello%2C%20World!&quot;</span> <span class="attr">download</span>=<span class="string">&quot;hello.txt&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>When this link is clicked, it will download a file named <code>hello.txt</code> with the content â€œHello, World!â€.</p>
<h2 id="Email-Links"><a href="#Email-Links" class="headerlink" title="Email Links"></a>Email Links</h2><p>Links can also point to an email address using the <code>mailto</code> protocol. When users click on such a link, their default email client will open, allowing them to send an email to the specified address.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:contact@example.com&quot;</span>&gt;</span>Contact Us<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the link directs to an email address. Clicking on it will open your email client with a new message addressed to <code>contact@example.com</code>.</p>
<p>The <code>mailto</code> protocol also supports additional email fields:</p>
<ul>
<li><code>subject</code>: Email subject</li>
<li><code>cc</code>: Cc (carbon copy) recipients</li>
<li><code>bcc</code>: Bcc (blind carbon copy) recipients</li>
<li><code>body</code>: Email content</li>
</ul>
<p>You can include these fields as query parameters appended to the email address:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:foo@bar.com?cc=test@test.com&amp;subject=The%20subject&amp;body=The%20body&quot;</span>&gt;</span>Send Email<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the email link includes not only the recipientâ€™s address but also <code>cc</code>, <code>subject</code>, and <code>body</code> fields. Note that values must be URL-encoded (e.g., spaces become <code>%20</code>).</p>
<p>Itâ€™s also possible to create an email link without specifying an address, allowing users to enter the recipientâ€™s email address manually. This is often used for sharing a webpage via email:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:&quot;</span>&gt;</span>Tell a Friend<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Phone-Links"><a href="#Phone-Links" class="headerlink" title="Phone Links"></a>Phone Links</h2><p>For mobile users, you can use the <code>tel</code> protocol to create phone links. Clicking on such a link will prompt the phone to dial the specified number.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:13312345678&quot;</span>&gt;</span>13312345678<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, clicking the link on a mobile device will open the dialer with the number pre-filled, ready to make a call.</p>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/a">https://wangdoc.com/html/a</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Image</title>
    <url>/2024/06/20/html-image/</url>
    <content><![CDATA[<p>Images are a crucial part of the internet, adding richness and variety to web pages. This chapter will cover how to insert images into a webpage.</p>
<h2 id="lt-img-gt"><a href="#lt-img-gt" class="headerlink" title="&lt;img&gt;"></a><code>&lt;img&gt;</code></h2><p>The <code>&lt;img&gt;</code> tag is used to insert images and is a self-contained tag with no closing counterpart.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The above code inserts an image <code>foo.jpg</code> into the webpage. The <code>src</code> attribute specifies the imageâ€™s URL, which in this case is a relative URL, indicating that the image is in the same directory as the webpage.</p>
<p>By default, <code>&lt;img&gt;</code> is an inline element, meaning it aligns with the surrounding text.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span>&gt;</span>World<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the text and image are displayed on the same line.</p>
<p>Images are shown at their original size by default. If an image is large and on the same line as text, it will increase the line height and align the bottom of the image with the bottom of the text.</p>
<p>The <code>&lt;img&gt;</code> tag can be nested inside an <code>&lt;a&gt;</code> tag to make the image a clickable link.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;example.html&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the image functions as a link and clicking it will navigate to <code>example.html</code>.</p>
<ol>
<li><strong>alt attribute</strong></li>
</ol>
<p>The <code>alt</code> attribute provides a text description for the image. If the image fails to load (due to errors or user settings), the text will be displayed instead.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Example Image&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, if the image fails to load, the browser will display â€œExample Imageâ€ in its place.</p>
<ol start="2">
<li><strong>width and height attributes</strong></li>
</ol>
<p>The image is inserted at its original size by default. The <code>width</code> and <code>height</code> attributes can be used to specify the imageâ€™s dimensions in pixels or percentages.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>width</code> sets the imageâ€™s width to 400 pixels, and <code>height</code> sets the height to 300 pixels.</p>
<p>Setting these attributes reserves space for the image, regardless of whether it loads successfully. However, itâ€™s usually better to control image size with CSS.</p>
<p>If only one of these attributes is set, the browser will automatically adjust the other dimension to maintain the imageâ€™s aspect ratio. For example, if an image is 800x800 pixels and <code>width</code> is set to 200, the browser will set <code>height</code> to 200.</p>
<ol start="3">
<li><strong>srcset and sizes</strong></li>
</ol>
<p>See the section on â€œResponsive Imagesâ€ below for details.</p>
<ol start="4">
<li><strong>referrerpolicy</strong></li>
</ol>
<p>The default behavior of the <code>&lt;img&gt;</code> tag is to include a Referer header in the HTTP request. The <code>referrerpolicy</code> attribute controls this behavior.</p>
<ol start="5">
<li><strong>crossorigin</strong></li>
</ol>
<p>If an image is hosted on a different domain, loading it may require cross-origin authentication. The <code>crossorigin</code> attribute tells the browser whether to use cross-origin requests, which are not used by default.</p>
<p>When enabled, the HTTP request will include an <code>Origin</code> field specifying the requestâ€™s domain. The <code>crossorigin</code> attribute can be set to two values:</p>
<ul>
<li><code>anonymous</code>: Cross-origin requests will not include user credentials (such as cookies).</li>
<li><code>use-credentials</code>: Cross-origin requests will include user credentials.</li>
</ul>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Omitting the value is equivalent to <code>anonymous</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span> <span class="attr">crossorigin</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong>loading</strong></li>
</ol>
<p>By default, browsers start loading images as soon as they encounter the <code>&lt;img&gt;</code> tag. This can waste bandwidth for images that are not immediately visible on long pages. The <code>loading</code> attribute changes this behavior, enabling lazy loading, where images are only loaded when they are about to enter the viewport.</p>
<p>The <code>loading</code> attribute can have the following values:</p>
<ul>
<li><code>auto</code>: The default browser behavior, equivalent to not using <code>loading</code>.</li>
<li><code>lazy</code>: Enables lazy loading.</li>
<li><code>eager</code>: Loads the image immediately, regardless of its position on the page.</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;image.png&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;â€¦&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>To avoid layout shifts caused by lazy loading, itâ€™s best to specify the imageâ€™s width and height.</p>
<h2 id="lt-figure-gt-lt-figcaption-gt"><a href="#lt-figure-gt-lt-figcaption-gt" class="headerlink" title="&lt;figure&gt;, &lt;figcaption&gt;"></a><code>&lt;figure&gt;</code>, <code>&lt;figcaption&gt;</code></h2><p>The <code>&lt;figure&gt;</code> tag acts as a container for images and related content. Its optional child element, <code>&lt;figcaption&gt;</code>, provides a textual description of the image, often used for captions and can appear multiple times.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://example.com/foo.jpg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>Example Image<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Besides images, <code>&lt;figure&gt;</code> can also enclose other types of content, such as quotes, code snippets, or poetry. It serves as a semantic container for grouping main content with its supplementary information.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>JavaScript Code Example<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">code</span>&gt;</span>const foo = &#x27;hello&#x27;;<span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="Responsive-Images"><a href="#Responsive-Images" class="headerlink" title="Responsive Images"></a>Responsive Images</h2><p>When a website looks good across devices of various sizes, itâ€™s known as â€œresponsive design.â€ The images used in responsive design are called â€œresponsive images.â€</p>
<p>There are several solutions for responsive images, including JavaScript and CSS, but the best approach in terms of semantics is using HTML, which is natively supported by browsers.</p>
<h3 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h3><p>The <code>&lt;img&gt;</code> tag is used to insert images into a webpage, and by default, it inserts the same image for all situations:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;foo.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This means the image <code>foo.jpg</code> will be displayed on both desktop and mobile devices.</p>
<p>While this approach is simple, it has three main drawbacks:</p>
<ol>
<li><strong>File Size</strong>: Desktop displays require larger images with higher file sizes, while mobile screens need smaller images, which can save bandwidth and speed up page loading.</li>
<li><strong>Pixel Density</strong>: Desktop monitors usually have a standard pixel density, whereas mobile screens often have higher pixel densities (Retina displays), which combine multiple pixels into one. This can cause images to appear blurry on mobile devices if they are not high enough resolution.</li>
<li><strong>Visual Detail</strong>: Desktop monitors have more screen space and can show more detail, whereas mobile screens are smaller and may need to emphasize key details while minimizing unnecessary elements.</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/22047870/1725265027072-3b4887e2-2c57-4ae4-aa26-b93bd42d19d9.jpeg"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2024/jpeg/22047870/1725265050135-8714dfe6-ee07-4b2d-adac-1b566579315b.jpeg"></p>
<p>In the two images above, the phone image at the bottom, which has been cropped, highlights the main focus more effectively and has a noticeably better visual impact.</p>
<h3 id="srcset-Attribute"><a href="#srcset-Attribute" class="headerlink" title="srcset Attribute"></a><code>srcset</code> Attribute</h3><p>To address these issues, HTML provides a comprehensive solution through the <code>srcset</code> attribute. This attribute allows the <code>&lt;img&gt;</code> tag to specify multiple image sources for different pixel densities. The value of <code>srcset</code> is a comma-separated list of image URLs, each followed by a space and a descriptor indicating the pixel density. Hereâ€™s an example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">srcset</span>=<span class="string">&quot;foo-320w.jpg,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-480w.jpg 1.5x,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-640w.jpg 2x&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">&quot;foo-640w.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, the <code>srcset</code> attribute lists three image URLs to accommodate three different pixel densities. The pixel density descriptor is in the format of a multiplier followed by â€˜xâ€™. For instance, <code>1x</code> represents the standard pixel density and can be omitted. The browser will choose the appropriate image based on the deviceâ€™s pixel density.</p>
<p>If none of the images specified in <code>srcset</code> are suitable, the browser will default to the image specified in the <code>src</code> attribute.</p>
<h3 id="sizes-Attribute"><a href="#sizes-Attribute" class="headerlink" title="sizes Attribute"></a><code>sizes</code> Attribute</h3><p>The <code>srcset</code> attribute alone only addresses pixel density. To handle different screen sizes and ensure images are displayed at the correct size, you need to use it in conjunction with the <code>sizes</code> attribute.</p>
<p>First, list all available images using the <code>srcset</code> attribute:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">srcset</span>=<span class="string">&quot;foo-160.jpg 160w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-320.jpg 320w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-640.jpg 640w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-1280.jpg 1280w&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">&quot;foo-1280.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>srcset</code> provides four images, each with a width descriptor indicating the imageâ€™s original width in pixels.</p>
<p>Next, use the <code>sizes</code> attribute to define the display width of images for different screen sizes. The value of <code>sizes</code> is a comma-separated list of media query expressions and corresponding display widths:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">srcset</span>=<span class="string">&quot;foo-160.jpg 160w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-320.jpg 320w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-640.jpg 640w,</span></span></span><br><span class="line"><span class="string"><span class="tag">             foo-1280.jpg 1280w&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">sizes</span>=<span class="string">&quot;(max-width: 440px) 100vw,</span></span></span><br><span class="line"><span class="string"><span class="tag">            (max-width: 900px) 33vw,</span></span></span><br><span class="line"><span class="string"><span class="tag">            254px&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">&quot;foo-1280.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the <code>sizes</code> attribute specifies three screen conditions and their corresponding image display widths:</p>
<ul>
<li>For screens up to 440px wide, the image width is 100% of the viewport width.</li>
<li>For screens between 441px and 900px wide, the image width is 33% of the viewport width.</li>
<li>For screens wider than 900px, the image width is 254px.</li>
</ul>
<p>Finally, the browser determines the appropriate image size based on the deviceâ€™s width from the <code>sizes</code> attribute and selects the closest matching image from the <code>srcset</code> list.</p>
<p>Assuming the deviceâ€™s screen width is 480px, the browser determines from the <code>sizes</code> attribute that the image should be displayed at 33% of the viewport width, which is 160px. Since the <code>srcset</code> attribute includes an image that is exactly 160px wide, the browser will load <code>foo-160.jpg</code>.</p>
<p>If <code>sizes</code> is omitted, the browser will select the image closest to the display width from <code>srcset</code>. When using <code>sizes</code>, it must be used together with <code>srcset</code>, as <code>sizes</code> alone is ineffective.</p>
<h2 id="lt-picture-gt"><a href="#lt-picture-gt" class="headerlink" title="&lt;picture&gt;"></a><code>&lt;picture&gt;</code></h2><h3 id="Responsive-Design"><a href="#Responsive-Design" class="headerlink" title="Responsive Design"></a>Responsive Design</h3><p>The <code>srcset</code> and <code>sizes</code> attributes of the <code>&lt;img&gt;</code> tag handle pixel density and screen size adaptation, respectively. To manage different pixel densities and screen sizes simultaneously, use the <code>&lt;picture&gt;</code> tag.</p>
<p>The <code>&lt;picture&gt;</code> tag acts as a container that uses <code>&lt;source&gt;</code> and <code>&lt;img&gt;</code> elements to specify different images for various scenarios.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">media</span>=<span class="string">&quot;(max-width: 500px)&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;cat-vertical.jpg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">media</span>=<span class="string">&quot;(min-width: 501px)&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;cat-horizontal.jpg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;cat.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;cat&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>&lt;picture&gt;</code> tag contains two <code>&lt;source&gt;</code> elements and one <code>&lt;img&gt;</code> element. The <code>&lt;source&gt;</code> elements use the <code>media</code> attribute for media queries and the <code>srcset</code> attribute to specify the image files. The <code>sizes</code> attribute could also be used here, but itâ€™s redundant because of the <code>media</code> attribute.</p>
<p>Browsers evaluate the <code>&lt;source&gt;</code> elements in the order they appear, checking if the media query conditions are met. If a condition is satisfied, the browser loads the image specified in the <code>srcset</code> attribute and ignores the subsequent <code>&lt;source&gt;</code> and <code>&lt;img&gt;</code> elements.</p>
<p>The <code>&lt;img&gt;</code> tag serves as the default image, used when none of the <code>&lt;source&gt;</code> elements match or if the browser doesnâ€™t support the <code>&lt;picture&gt;</code> tag.</p>
<p>In the example above, if the device width is 500px or less, it loads the portrait image; otherwise, it loads the landscape image.</p>
<p>Hereâ€™s an example that adapts for both screen size and pixel density:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">srcset</span>=<span class="string">&quot;homepage-person@desktop.png,</span></span></span><br><span class="line"><span class="string"><span class="tag">                  homepage-person@desktop-2x.png 2x&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">media</span>=<span class="string">&quot;(min-width: 990px)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">srcset</span>=<span class="string">&quot;homepage-person@tablet.png,</span></span></span><br><span class="line"><span class="string"><span class="tag">                  homepage-person@tablet-2x.png 2x&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">media</span>=<span class="string">&quot;(min-width: 750px)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">srcset</span>=<span class="string">&quot;homepage-person@mobile.png,</span></span></span><br><span class="line"><span class="string"><span class="tag">               homepage-person@mobile-2x.png 2x&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">alt</span>=<span class="string">&quot;Shopify Merchant, Corrine Anestopoulos&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>media</code> attribute of the <code>&lt;source&gt;</code> tags sets conditions for screen size adaptation, while the <code>srcset</code> attribute provides image URLs for different pixel densities.</p>
<h3 id="Image-Format-Selection"><a href="#Image-Format-Selection" class="headerlink" title="Image Format Selection"></a>Image Format Selection</h3><p>In addition to responsive images, the <code>&lt;picture&gt;</code> tag can be used to select different image formats. For example, if the browser supports WebP format, it will load the WebP image; otherwise, it will load the PNG image.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">picture</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">type</span>=<span class="string">&quot;image/svg+xml&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;logo.xml&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">type</span>=<span class="string">&quot;image/webp&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;logo.webp&quot;</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;ACME Corp&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">picture</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the <code>type</code> attribute of the <code>&lt;source&gt;</code> elements specifies the MIME type of the image, and <code>srcset</code> provides the corresponding image URLs. Browsers check the <code>&lt;source&gt;</code> elements in order, loading the image if it supports the specified format and ignoring subsequent <code>&lt;source&gt;</code> elements. In this example, images are loaded in the following priority: SVG, WebP, and PNG.</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://cloudfour.com/thinks/responsive-images-101-definitions/">Responsive Images 101</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">Responsive Images - MDN</a></li>
<li><a href="https://web.dev/native-lazy-loading">Native Lazy-Loading for the Web</a></li>
</ul>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/image">https://wangdoc.com/html/image</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Multimedia</title>
    <url>/2024/06/24/html-multimedia/</url>
    <content><![CDATA[<p>Webpages can include not only images but also videos and audio. </p>
<h2 id="lt-video-gt"><a href="#lt-video-gt" class="headerlink" title="&lt;video&gt;"></a><code>&lt;video&gt;</code></h2><p>The <code>&lt;video&gt;</code> tag is a block-level element used for embedding video. If the browser supports the video format, it displays a player; otherwise, it shows the content inside the <code>&lt;video&gt;</code> tag.</p>
<p>Hereâ€™s an example code snippet:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;example.mp4&quot;</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser does not support HTML5 video. Please download the <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;example.mp4&quot;</span>&gt;</span>video file<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, if the browser does not support the video format, it will display the text inside the <code>&lt;video&gt;</code> tag.</p>
<p>The <code>&lt;video&gt;</code> tag has several attributes:</p>
<ul>
<li><code>src</code>: URL of the video file.</li>
<li><code>controls</code>: Displays the player controls. This is a boolean attribute, so simply including it will enable the controls. If you prefer a custom player, omit this attribute.</li>
<li><code>width</code>: Width of the video player in pixels.</li>
<li><code>height</code>: Height of the video player in pixels.</li>
<li><code>autoplay</code>: Whether the video should play automatically. This is a boolean attribute.</li>
<li><code>loop</code>: Whether the video should loop. This is a boolean attribute.</li>
<li><code>muted</code>: Whether the video is muted by default. This is a boolean attribute.</li>
<li><code>poster</code>: URL of the image to show as a placeholder before the video starts.</li>
<li><code>preload</code>: Determines how the video should be buffered before playing. Values are <code>none</code> (no buffering), <code>metadata</code> (only metadata), or <code>auto</code> (buffer the entire file).</li>
<li><code>playsinline</code>: Prevents iPhoneâ€™s Safari browser from automatically playing the video fullscreen. This is a boolean attribute.</li>
<li><code>crossorigin</code>: Specifies whether to use cross-origin loading. Values are <code>anonymous</code> (no credentials) or <code>use-credentials</code> (send credentials).</li>
</ul>
<p>Hereâ€™s an example with attributes:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;400&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">muted</span></span></span><br><span class="line"><span class="tag">       <span class="attr">poster</span>=<span class="string">&quot;poster.png&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This sets a video player with a size of 400x400 pixels, autoplay, loop, and mute enabled, with a placeholder image. This is typical for background videos on a homepage.</p>
<p>HTML standards donâ€™t specify which video formats browsers must support, so itâ€™s up to browser vendors. To ensure compatibility, you can use the <code>&lt;source&gt;</code> tag to specify multiple formats:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;example.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;example.webm&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser does not support HTML5 video. Please download the <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;example.mp4&quot;</span>&gt;</span>video file<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, the <code>type</code> attribute of the <code>&lt;source&gt;</code> tag specifies the video MIME type. The browser will try to load the first format it supports. If neither format is supported, it will show the fallback message.</p>
<h2 id="lt-audio-gt"><a href="#lt-audio-gt" class="headerlink" title="&lt;audio&gt;"></a><code>&lt;audio&gt;</code></h2><p>The <code>&lt;audio&gt;</code> tag is a block-level element used to embed audio content. Its usage is similar to the <code>&lt;video&gt;</code> tag.</p>
<p>Hereâ€™s an example of how to use the <code>&lt;audio&gt;</code> tag:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;foo.mp3&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/mp3&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;foo.ogg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/ogg&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Your browser does not support HTML5 audio. Please download the <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;foo.mp3&quot;</span>&gt;</span>audio file<span class="tag">&lt;/<span class="name">a</span>&gt;</span> directly.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, the <code>&lt;audio&gt;</code> tag includes <code>&lt;source&gt;</code> elements specifying two audio formats: MP3 and Ogg. The browser will use the first format it supports; if neither is supported, it will provide a download link.</p>
<p>The attributes of the <code>&lt;audio&gt;</code> tag are similar to those of the <code>&lt;video&gt;</code> tag, as described previously:</p>
<ul>
<li><code>autoplay</code>: Whether the audio should play automatically. This is a boolean attribute.</li>
<li><code>controls</code>: Whether to display the playback controls. If not set, the browser will not show any controls, which is typically used for background audio.</li>
<li><code>crossorigin</code>: Whether to use cross-origin requests.</li>
<li><code>loop</code>: Whether the audio should loop continuously. This is a boolean attribute.</li>
<li><code>muted</code>: Whether the audio should be muted by default. This is a boolean attribute.</li>
<li><code>preload</code>: How the audio file should be buffered.</li>
<li><code>src</code>: The URL of the audio file.</li>
</ul>
<h2 id="lt-track-gt"><a href="#lt-track-gt" class="headerlink" title="&lt;track&gt;"></a><code>&lt;track&gt;</code></h2><p>The <code>&lt;track&gt;</code> tag is used to specify subtitles for videos in the WebVTT format (.vtt files) and is placed inside the <code>&lt;video&gt;</code> tag. It is a self-closing tag without an end tag.</p>
<p>Hereâ€™s an example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span> <span class="attr">src</span>=<span class="string">&quot;sample.mp4&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">track</span> <span class="attr">label</span>=<span class="string">&quot;English&quot;</span> <span class="attr">kind</span>=<span class="string">&quot;subtitles&quot;</span> <span class="attr">src</span>=<span class="string">&quot;subtitles_en.vtt&quot;</span> <span class="attr">srclang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">track</span> <span class="attr">label</span>=<span class="string">&quot;Chinese&quot;</span> <span class="attr">kind</span>=<span class="string">&quot;subtitles&quot;</span> <span class="attr">src</span>=<span class="string">&quot;subtitles_cn.vtt&quot;</span> <span class="attr">srclang</span>=<span class="string">&quot;cn&quot;</span> <span class="attr">default</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the video includes English and Chinese subtitles.</p>
<p>The <code>&lt;track&gt;</code> tag has the following attributes:</p>
<ul>
<li><code>label</code>: The name of the subtitles displayed in the player for user selection.</li>
<li><code>kind</code>: The type of track. The default value is <code>subtitles</code>, which translates foreign text (e.g., providing Chinese subtitles for an English video). Another common value is <code>captions</code>, which provides a textual description of the audio, often in the same language as the video (e.g., English captions for an English video).</li>
<li><code>src</code>: The URL of the VTT subtitle file.</li>
<li><code>srclang</code>: The language of the subtitles, which must be a valid language code.</li>
<li><code>default</code>: Whether this track should be enabled by default. This is a boolean attribute.</li>
</ul>
<h2 id="lt-source-gt"><a href="#lt-source-gt" class="headerlink" title="&lt;source&gt;"></a><code>&lt;source&gt;</code></h2><p>The <code>&lt;source&gt;</code> tag is used within <code>&lt;picture&gt;</code>, <code>&lt;video&gt;</code>, and <code>&lt;audio&gt;</code> elements to specify external resources. It is a self-closing tag, meaning it does not have an end tag.</p>
<p>Its attributes include:</p>
<ul>
<li><code>type</code>: Specifies the MIME type of the external resource.</li>
<li><code>src</code>: Defines the source file for <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code>.</li>
<li><code>srcset</code>: Lists image files to be loaded under different conditions for <code>&lt;picture&gt;</code>.</li>
<li><code>media</code>: Specifies media query expressions for <code>&lt;picture&gt;</code>.</li>
<li><code>sizes</code>: Indicates the display sizes for different devices in <code>&lt;picture&gt;</code>, and must be used with <code>srcset</code>.</li>
</ul>
<h2 id="lt-embed-gt"><a href="#lt-embed-gt" class="headerlink" title="&lt;embed&gt;"></a><code>&lt;embed&gt;</code></h2><p>The <code>&lt;embed&gt;</code> tag is used to embed external content controlled by browser plugins. Since default plugins vary between browsers, not all users may access this content. Use it with caution.</p>
<p>Here is an example of embedding a video player:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">type</span>=<span class="string">&quot;video/webm&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">src</span>=<span class="string">&quot;/media/examples/flower.mp4&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">width</span>=<span class="string">&quot;250&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If the browser lacks an MP4 plugin, the video will not play. The <code>&lt;embed&gt;</code> tag has the following attributes:</p>
<ul>
<li><code>height</code>: Display height in pixels (percentages not allowed).</li>
<li><code>width</code>: Display width in pixels (percentages not allowed).</li>
<li><code>src</code>: URL of the embedded resource.</li>
<li><code>type</code>: MIME type of the embedded resource.</li>
</ul>
<p>The browser uses the <code>type</code> attribute to determine the MIME type and activate the appropriate plugin.</p>
<p>Hereâ€™s an example of using QuickTime to play MOV files:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">type</span>=<span class="string">&quot;video/quicktime&quot;</span> <span class="attr">src</span>=<span class="string">&quot;movie.mov&quot;</span> <span class="attr">width</span>=<span class="string">&quot;640&quot;</span> <span class="attr">height</span>=<span class="string">&quot;480&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>And an example for Flash:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;whoosh.swf&quot;</span> <span class="attr">quality</span>=<span class="string">&quot;medium&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">bgcolor</span>=<span class="string">&quot;#ffffff&quot;</span> <span class="attr">width</span>=<span class="string">&quot;550&quot;</span> <span class="attr">height</span>=<span class="string">&quot;400&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">name</span>=<span class="string">&quot;whoosh&quot;</span> <span class="attr">align</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">allowScriptAccess</span>=<span class="string">&quot;sameDomain&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">allowFullScreen</span>=<span class="string">&quot;false&quot;</span> <span class="attr">type</span>=<span class="string">&quot;application/x-shockwave-flash&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">pluginspage</span>=<span class="string">&quot;http://www.macromedia.com/go/getflashplayer&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If Flash is not installed, users will be prompted to visit the URL in the <code>pluginspage</code> attribute.</p>
<h2 id="lt-object-gt-lt-param-gt"><a href="#lt-object-gt-lt-param-gt" class="headerlink" title="&lt;object&gt;, &lt;param&gt;"></a><code>&lt;object&gt;</code>, <code>&lt;param&gt;</code></h2><p>The <code>&lt;object&gt;</code> tag, similar to <code>&lt;embed&gt;</code>, inserts external resources for browser plugins to handle. It is a standardized alternative, recommended for its consistency and fewer legacy issues.</p>
<p>Hereâ€™s an example of embedding a PDF file:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">type</span>=<span class="string">&quot;application/pdf&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">data</span>=<span class="string">&quot;/media/examples/In-CC0.pdf&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">width</span>=<span class="string">&quot;250&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">height</span>=<span class="string">&quot;200&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If the browser has a PDF plugin, it will display the PDF within the page.</p>
<p>The <code>&lt;object&gt;</code> tag includes:</p>
<ul>
<li><code>data</code>: URL of the embedded resource.</li>
<li><code>form</code>: ID of a related form in the current page (if any).</li>
<li><code>height</code>: Display height in pixels (percentages not allowed).</li>
<li><code>width</code>: Display width in pixels (percentages not allowed).</li>
<li><code>type</code>: MIME type of the resource.</li>
<li><code>typemustmatch</code>: Boolean attribute indicating if <code>data</code> and <code>type</code> must match.</li>
</ul>
<p>Hereâ€™s an example for Flash content:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;movie.swf&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">type</span>=<span class="string">&quot;application/x-shockwave-flash&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The <code>&lt;object&gt;</code> tag can also contain <code>&lt;param&gt;</code> tags to specify parameters needed by the plugin:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;movie.swf&quot;</span> <span class="attr">type</span>=<span class="string">&quot;application/x-shockwave-flash&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;foo&quot;</span> <span class="attr">value</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br></pre></td></tr></table></figure>







<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/multimedia">https://wangdoc.com/html/multimedia</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML iframe</title>
    <url>/2024/06/25/html-iframe/</url>
    <content><![CDATA[<p>The <code>&lt;iframe&gt;</code> tag is used to embed other web pages within the current webpage.</p>
<h2 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h2><p>The <code>&lt;iframe&gt;</code> tag creates a specified area to display another web page. It acts as a container element. If the browser does not support <code>&lt;iframe&gt;</code>, it will show the nested content.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://www.example.com&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">allowfullscreen</span> <span class="attr">sandbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.example.com&quot;</span>&gt;</span>Click to open embedded page<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above embeds <code>https://www.example.com</code> within the current webpage, with a width of 100% and a height of 500 pixels. If the browser does not support <code>&lt;iframe&gt;</code>, a link will be displayed instead.</p>
<p>Most browsers support <code>&lt;iframe&gt;</code>, so nested elements can be omitted if desired.</p>
<p><strong>Attributes of <strong><code>&lt;iframe&gt;</code></strong>:</strong></p>
<ul>
<li><code>allowfullscreen</code>: Allows the embedded page to be viewed in fullscreen mode. Requires fullscreen API support; see relevant JavaScript tutorials.</li>
<li><code>frameborder</code>: Defines whether to display a border. Set to 0 for no border (default is 1). Itâ€™s better to use CSS for styling instead of this attribute.</li>
<li><code>src</code>: The URL of the page to be embedded.</li>
<li><code>width</code>: The width of the display area.</li>
<li><code>height</code>: The height of the display area.</li>
<li><code>sandbox</code>: Specifies permissions for the embedded page (see below).</li>
<li><code>importance</code>: Sets the loading priority of the embedded page. Options include <code>high</code> (high priority), <code>low</code> (low priority), and <code>auto</code> (browser decides).</li>
<li><code>name</code>: The name of the embedded window, used with the <code>target</code> attributes of <code>&lt;a&gt;</code>, <code>&lt;form&gt;</code>, and <code>&lt;base&gt;</code>.</li>
<li><code>referrerpolicy</code>: Configures the <code>Referer</code> header in HTTP requests to the embedded page. See the documentation for the <code>&lt;a&gt;</code> tag for more details.</li>
</ul>
<h2 id="sandbox-Attribute"><a href="#sandbox-Attribute" class="headerlink" title="sandbox Attribute"></a><code>sandbox</code> Attribute</h2><p>The <code>sandbox</code> attribute provides a way to impose restrictions on an embedded web page within an <code>&lt;iframe&gt;</code>, essentially creating a security â€œsandboxâ€ to control what the embedded content is allowed to do.</p>
<p><strong>Basic Usage:</strong><br>By default, an embedded page has full permissions, including executing scripts, submitting forms, and opening new windows. To mitigate security risks, especially if the embedded page comes from a different site, the <code>sandbox</code> attribute can be used to set specific restrictions.</p>
<p>The <code>sandbox</code> attribute can be used as a boolean attribute, meaning it enables all restrictions by default:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://www.example.com&quot;</span> <span class="attr">sandbox</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>Customizing Permissions:</strong><br>You can also specify particular permissions with the <code>sandbox</code> attribute, enabling only certain actions:</p>
<ul>
<li><code>allow-forms</code>: Allows form submission.</li>
<li><code>allow-modals</code>: Permits modal dialogs, such as <code>window.alert()</code>.</li>
<li><code>allow-popups</code>: Enables the use of <code>window.open()</code> to create popups.</li>
<li><code>allow-popups-to-escape-sandbox</code>: Allows popups to bypass sandbox restrictions.</li>
<li><code>allow-orientation-lock</code>: Permits scripts to lock the screen orientation (landscape or portrait).</li>
<li><code>allow-pointer-lock</code>: Allows the use of Pointer Lock API to lock the mouse movement.</li>
<li><code>allow-presentation</code>: Enables the use of Presentation API.</li>
<li><code>allow-same-origin</code>: Allows the embedded content to be treated as coming from the same origin, bypassing cross-origin restrictions.</li>
<li><code>allow-scripts</code>: Permits script execution (but does not allow popups).</li>
<li><code>allow-storage-access-by-user-activation</code>: When combined with <code>allow-same-origin</code>, allows access to the parent windowâ€™s cookies via the Storage Access API after user activation.</li>
<li><code>allow-top-navigation</code>: Allows navigation of the top-level window.</li>
<li><code>allow-top-navigation-by-user-activation</code>: Allows navigation of the top-level window only if activated by the user.</li>
<li><code>allow-downloads-without-user-activation</code>: Allows downloads to start without user activation.</li>
</ul>
<hr>
<p><strong>Important Note:</strong><br>Avoid setting both <code>allow-scripts</code> and <code>allow-same-origin</code> together, as this would allow the embedded content to potentially modify or remove the <code>sandbox</code> attribute itself, compromising the sandboxâ€™s security.</p>
<h2 id="loading-Attribute"><a href="#loading-Attribute" class="headerlink" title="loading Attribute"></a><code>loading</code> Attribute</h2><p>The <code>loading</code> attribute controls when an <code>&lt;iframe&gt;</code> should load its content, which can help save bandwidth by deferring loading until necessary.</p>
<p><strong>Attribute Values:</strong></p>
<ul>
<li><code>auto</code>: The default behavior, equivalent to not using the <code>loading</code> attribute.</li>
<li><code>lazy</code>: Loads the <code>&lt;iframe&gt;</code> only when it scrolls into view.</li>
<li><code>eager</code>: Loads the <code>&lt;iframe&gt;</code> immediately, regardless of its position on the page.</li>
</ul>
<p>Example for lazy loading:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://example.com&quot;</span> <span class="attr">loading</span>=<span class="string">&quot;lazy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>Important Note:</strong><br>The <code>loading</code> attribute has no effect if the <code>&lt;iframe&gt;</code> is hidden. Chrome considers an <code>&lt;iframe&gt;</code> hidden if any of the following conditions are met:</p>
<ul>
<li>Width and height are 4 pixels or less.</li>
<li>Style is set to <code>display: none</code> or <code>visibility: hidden</code>.</li>
<li>Positioned off-screen with negative X or Y coordinates.</li>
</ul>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/iframe">https://wangdoc.com/html/iframe</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Table</title>
    <url>/2024/06/26/html-table/</url>
    <content><![CDATA[<p>A Table displays data in rows and columns. </p>
<h2 id="lt-table-gt-lt-caption-gt"><a href="#lt-table-gt-lt-caption-gt" class="headerlink" title="&lt;table&gt;, &lt;caption&gt;"></a><code>&lt;table&gt;</code>, <code>&lt;caption&gt;</code></h2><p>The <code>&lt;table&gt;</code> tag is a block-level container that must enclose all the table content.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  ... ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The <code>&lt;caption&gt;</code>, which is always the first child element of <code>&lt;table&gt;</code>, provides the tableâ€™s title. This element is optional.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">caption</span>&gt;</span>Example Table<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="lt-thead-gt-lt-tbody-gt-and-lt-tfoot-gt"><a href="#lt-thead-gt-lt-tbody-gt-and-lt-tfoot-gt" class="headerlink" title="&lt;thead&gt;, &lt;tbody&gt;, and &lt;tfoot&gt;"></a><code>&lt;thead&gt;</code>, <code>&lt;tbody&gt;</code>, and <code>&lt;tfoot&gt;</code></h2><p>The <code>&lt;thead&gt;</code>, <code>&lt;tbody&gt;</code>, and <code>&lt;tfoot&gt;</code> elements are block-level container elements that are direct children of <code>&lt;table&gt;</code>, representing the tableâ€™s header, body, and footer, respectively.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span>... ...<span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span>... ...<span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span>... ...<span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>These three elements are optional. If <code>&lt;thead&gt;</code> is used, <code>&lt;tbody&gt;</code> and <code>&lt;tfoot&gt;</code> must follow it. If <code>&lt;tbody&gt;</code> is used, <code>&lt;tfoot&gt;</code> must follow <code>&lt;tbody&gt;</code>.</p>
<p>For large tables, you can use multiple <code>&lt;tbody&gt;</code> elements to represent different sections of the table.</p>
<h2 id="lt-colgroup-gt-and-lt-col-gt"><a href="#lt-colgroup-gt-and-lt-col-gt" class="headerlink" title="&lt;colgroup&gt; and &lt;col&gt;"></a><code>&lt;colgroup&gt;</code> and <code>&lt;col&gt;</code></h2><p>The <code>&lt;colgroup&gt;</code> element is a child of the <code>&lt;table&gt;</code> tag and is used to group a set of column definitions. The <code>&lt;col&gt;</code> element, which is a child of <code>&lt;colgroup&gt;</code>, defines a single column in the table.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, the table is defined with three columns.</p>
<p>The <code>&lt;col&gt;</code> element is a self-closing tag and does not have a closing counterpart. It is also an empty element, meaning it has no child elements. Its main purpose is to declare the table structure and apply styles.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">class</span>=<span class="string">&quot;c2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">class</span>=<span class="string">&quot;c3&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, the <code>&lt;colgroup&gt;</code> defines three columns, each with its own class. CSS can be used to style each column based on its class, affecting the entire table.</p>
<p>The <code>&lt;col&gt;</code> element has a <code>span</code> attribute, which defaults to 1. If set to a value greater than 1, it indicates that the column spans multiple columns.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">span</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the table header defines three columns, but the second column spans across two columns in the actual table data.</p>
<h2 id="lt-tr-gt"><a href="#lt-tr-gt" class="headerlink" title="&lt;tr&gt;"></a><code>&lt;tr&gt;</code></h2><p>The <code>&lt;tr&gt;</code> tag represents a table row. If the table includes <code>&lt;thead&gt;</code>, <code>&lt;tbody&gt;</code>, or <code>&lt;tfoot&gt;</code>, the <code>&lt;tr&gt;</code> elements are placed within these sections. Otherwise, they are placed directly within the <code>&lt;table&gt;</code> element.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>...<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>...<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span>...<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above shows a table with three rows.</p>
<h2 id="lt-th-gt-and-lt-td-gt"><a href="#lt-th-gt-and-lt-td-gt" class="headerlink" title="&lt;th&gt; and &lt;td&gt;"></a><code>&lt;th&gt;</code> and <code>&lt;td&gt;</code></h2><p>The <code>&lt;th&gt;</code> and <code>&lt;td&gt;</code> tags define cells in a table. <code>&lt;th&gt;</code> is used for header cells, while <code>&lt;td&gt;</code> is used for data cells.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Student ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>001<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>John Doe<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>002<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>Jane Smith<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, the table has three rows. The first row is the header row, so it uses <code>&lt;th&gt;</code>. The second and third rows are data rows, so they use <code>&lt;td&gt;</code>.</p>
<p><strong>(1) colspan and rowspan Attributes</strong></p>
<p>Cells may span multiple rows or columns, which is set using the <code>colspan</code> and <code>rowspan</code> attributes. <code>colspan</code> specifies the number of columns a cell spans, while <code>rowspan</code> specifies the number of rows. Their default value is 1.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>B<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>A<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>B<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>C<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the example above, the first cell in the first row spans two columns.</p>
<p><strong>(2) headers Attribute</strong></p>
<p>For large tables, it might be unclear which headers correspond to which cells. The <code>headers</code> attribute can help by linking cells to their headers.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">id</span>=<span class="string">&quot;no&quot;</span>&gt;</span>Student ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">th</span> <span class="attr">id</span>=<span class="string">&quot;names&quot;</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">headers</span>=<span class="string">&quot;no&quot;</span>&gt;</span>001<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span> <span class="attr">headers</span>=<span class="string">&quot;names&quot;</span>&gt;</span>John Doe<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">headers</span>=<span class="string">&quot;no&quot;</span>&gt;</span>002<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">td</span> <span class="attr">headers</span>=<span class="string">&quot;names&quot;</span>&gt;</span>Jane Smith<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the <code>&lt;th&gt;</code> elements have <code>id</code> attributes, and the <code>headers</code> attribute of the <code>&lt;td&gt;</code> elements refers to these <code>id</code> values, indicating which headers they correspond to.</p>
<p>The <code>headers</code> attribute value matches the <code>id</code> of <code>&lt;th&gt;</code> elements. It can also be a space-separated list of <code>id</code> values if a cell corresponds to multiple headers.</p>
<p><strong>(3) scope Attribute</strong></p>
<p>The <code>scope</code> attribute is used only with <code>&lt;th&gt;</code> tags, not <code>&lt;td&gt;</code>, to indicate whether the <code>&lt;th&gt;</code> cell is a row or column header.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Student ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Gender<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>John Doe<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>001<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Male<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>Jane Smith<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>002<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Female<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the header cells in the first row have <code>scope=&quot;col&quot;</code> because they are column headers. The first cell in the second and third rows has <code>scope=&quot;row&quot;</code> as it is a row header.</p>
<p>The <code>scope</code> attribute can have the following values:</p>
<ul>
<li><code>row</code>: The header applies to all cells in the row.</li>
<li><code>col</code>: The header applies to all cells in the column.</li>
<li><code>rowgroup</code>: The header applies to a group of rows, used with <code>rowspan</code>.</li>
<li><code>colgroup</code>: The header applies to a group of columns, used with <code>colspan</code>.</li>
<li><code>auto</code>: Default value, where the browser decides.</li>
</ul>
<p>Hereâ€™s an example using <code>colgroup</code> and <code>rowgroup</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Poster Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Color<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;3&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;colgroup&quot;</span>&gt;</span>Size<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">rowspan</span>=<span class="string">&quot;3&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;rowgroup&quot;</span>&gt;</span>Zodiac<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>Full color<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>Black and white<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>Sepia<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A3<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A4<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>A5<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the header â€œSizeâ€ with <code>scope=&quot;colgroup&quot;</code> spans multiple columns (3 columns), and the row header â€œZodiacâ€ with <code>scope=&quot;rowgroup&quot;</code> spans multiple rows (3 rows).</p>
<p>The rendered result looks like this:</p>
<table>

  <thead>

<pre><code>&lt;tr&gt;

  &lt;th scope=&quot;col&quot;&gt;Poster Name&lt;/th&gt;

  &lt;th scope=&quot;col&quot;&gt;Color&lt;/th&gt;

  &lt;th colspan=&quot;3&quot; scope=&quot;colgroup&quot;&gt;Size&lt;/th&gt;

&lt;/tr&gt;
</code></pre>
  </thead>

  <tbody>

<pre><code>&lt;tr&gt;

  &lt;th rowspan=&quot;3&quot; scope=&quot;rowgroup&quot;&gt;Zodiac&lt;/th&gt;

  &lt;th scope=&quot;row&quot;&gt;Full color&lt;/th&gt;

  &lt;td&gt;A2&lt;/td&gt;

  &lt;td&gt;A3&lt;/td&gt;

  &lt;td&gt;A4&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

  &lt;th scope=&quot;row&quot;&gt;Black and white&lt;/th&gt;

  &lt;td&gt;A1&lt;/td&gt;

  &lt;td&gt;A2&lt;/td&gt;

  &lt;td&gt;A3&lt;/td&gt;

&lt;/tr&gt;

&lt;tr&gt;

  &lt;th scope=&quot;row&quot;&gt;Sepia&lt;/th&gt;

  &lt;td&gt;A3&lt;/td&gt;

  &lt;td&gt;A4&lt;/td&gt;

  &lt;td&gt;A5&lt;/td&gt;

&lt;/tr&gt;
</code></pre>
  </tbody>

</table>



<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/table">https://wangdoc.com/html/table</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Form</title>
    <url>/2024/06/27/html-form/</url>
    <content><![CDATA[<p>A form is a way for users to input information and interact with a webpage. In most cases, the information submitted by users is sent to the server. For example, a websiteâ€™s search bar is a type of form.</p>
<p>A form consists of one or more elements, such as text fields, buttons, radio buttons, or checkboxes. These elements are known as controls.</p>
<h2 id="lt-form-gt"><a href="#lt-form-gt" class="headerlink" title="&lt;form&gt;"></a><code>&lt;form&gt;</code></h2><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>The <code>&lt;form&gt;</code> tag is used to define a form, which acts as a container for all the form elements.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Various form controls --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above represents the basic structure of a form.</p>
<p>Hereâ€™s a common example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://example.com/api&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;POST-name&quot;</span>&gt;</span>Username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;POST-name&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the form includes three controls: a <code>&lt;label&gt;</code> tag, a text input field, and a submit button. The text input field has a <code>name</code> attribute set to â€œuser,â€ which means the browser will send a key-value pair to the server with the key â€œuserâ€ and the value being what the user entered.</p>
<p>When the user types a username, such as â€œfoobar,â€ into the text field and clicks the submit button, the browser will send a POST request to <code>https://example.com/api</code> with the data <code>user=foobar</code>.</p>
<p>The <code>&lt;form&gt;</code> element has the following attributes:</p>
<ul>
<li><code>accept-charset</code>: Specifies the character encodings accepted by the server, separated by spaces. By default, it matches the encoding of the webpage.</li>
<li><code>action</code>: The URL where the form data will be sent.</li>
<li><code>autocomplete</code>: Determines if the browser can automatically fill in missing values for a control. Possible values are <code>off</code> (do not autofill) and <code>on</code> (autofill).</li>
<li><code>method</code>: The HTTP method used to submit the data. Possible values are <code>post</code> (send form data as the HTTP request body), <code>get</code> (send form data as part of the URL query string), and <code>dialog</code> (used within a <code>&lt;dialog&gt;</code> element).</li>
<li><code>enctype</code>: Specifies the MIME type for the data being sent when the <code>method</code> attribute is <code>post</code>. Possible values include <code>application/x-www-form-urlencoded</code> (default), <code>multipart/form-data</code> (for file uploads), and <code>text/plain</code>.</li>
<li><code>name</code>: The name of the form, which should be unique within the page. Note that if a control does not have a <code>name</code> attribute, its value will not be sent as a key-value pair to the server.</li>
<li><code>novalidate</code>: A boolean attribute that indicates whether the form should bypass validation when submitted.</li>
<li><code>target</code>: Specifies where to display the response from the server. Possible values include <code>_self</code> (current window), <code>_blank</code> (new window), <code>_parent</code> (parent frame), <code>_top</code> (topmost frame), or the <code>name</code> attribute of an <code>&lt;iframe&gt;</code> (display the response in that <code>&lt;iframe&gt;</code>).</li>
</ul>
<h3 id="enctype-Attribute"><a href="#enctype-Attribute" class="headerlink" title="enctype Attribute"></a><code>enctype</code> Attribute</h3><p>The <code>enctype</code> attribute of the <code>&lt;form&gt;</code> tag specifies the MIME type of the data sent to the server when using the POST method. This attribute can have the following values:</p>
<ol>
<li><code>application/x-www-form-urlencoded</code>This is the default encoding type. It encodes form data as key-value pairs where both the key (control name) and value are URL-encoded. Spaces are replaced with <code>+</code>, non-alphanumeric characters are replaced with <code>%HH</code> (where <code>HH</code> is the hexadecimal value), and newlines are represented as CR LF. Key-value pairs are separated by <code>=</code> and each pair is separated by <code>&amp;</code>.</li>
<li><code>multipart/form-data</code>This encoding type is mainly used for file uploads. When uploading large files, the data is split into multiple parts. Each part has its own HTTP headers, including <code>Content-Disposition</code> with a value of <code>form-data</code> and a <code>name</code> attribute representing the control name.</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Content-Disposition: form-data; name=&quot;mycontrol&quot;</span><br></pre></td></tr></table></figure>

<p>Here is an example of a file upload form:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://example.com/api&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  Username: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit-name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  File: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Upload&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Clear&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, if the user enters â€œLarryâ€ as the username and selects a file named <code>file1.txt</code>, the browser sends the data as follows:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Content-Type: multipart/form-data; boundary=--AaB03x</span><br><span class="line"></span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;submit-name&quot;</span><br><span class="line"></span><br><span class="line">Larry</span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;file1.txt&quot;</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">... contents of file1.txt ...</span><br><span class="line">--AaB03x--</span><br></pre></td></tr></table></figure>

<p>The browser splits the form data into multiple parts. The <code>Content-Type</code> header specifies the <code>multipart/form-data</code> format and the boundary <code>--AaB03x</code> which separates the data chunks. Each chunk starts with a <code>Content-Disposition</code> header indicating the control name (<code>submit-name</code> or <code>files</code>) and, for file uploads, includes the filename and content type. The data following these headers is the actual value of the control, with file data included as well.</p>
<h2 id="lt-fieldset-gt-lt-legend-gt"><a href="#lt-fieldset-gt-lt-legend-gt" class="headerlink" title="&lt;fieldset&gt;, &lt;legend&gt;"></a><code>&lt;fieldset&gt;</code>, <code>&lt;legend&gt;</code></h2><p>The <code>&lt;fieldset&gt;</code> element is a block-level container used to group related form controls together.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Gender: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the above code, the two input fields are grouped within a box.</p>
<p>Attributes of <code>&lt;fieldset&gt;</code> include:</p>
<ul>
<li><code>disabled</code>: A boolean attribute that, when set, makes all controls within the <code>&lt;fieldset&gt;</code> disabled and appear grayed out.</li>
<li><code>form</code>: Associates the <code>&lt;fieldset&gt;</code> with a <code>&lt;form&gt;</code> element by specifying the <code>&lt;form&gt;</code>â€˜s <code>id</code>.</li>
<li><code>name</code>: Sets the name of the control group.</li>
</ul>
<p>The <code>&lt;legend&gt;</code> element is used to provide a title for the <code>&lt;fieldset&gt;</code>. It is usually the first element inside the <code>&lt;fieldset&gt;</code> and appears as a label at the top of the box.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Student Information<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Age: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Gender: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the title â€œStudent Informationâ€ is displayed at the top of the <code>&lt;fieldset&gt;</code> box.</p>
<h2 id="lt-label-gt"><a href="#lt-label-gt" class="headerlink" title="&lt;label&gt;"></a><code>&lt;label&gt;</code></h2><p>The <code>&lt;label&gt;</code> element is an inline element that provides a description for form controls, helping users understand their purpose.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;user&quot;</span>&gt;</span>Username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Here, the text â€œUsername:â€ is associated with the input field. </p>
<p>The <code>&lt;label&gt;</code> element enhances accessibility, especially for small controls like checkboxes and radio buttons, by allowing users to click the label to select the associated control. The <code>for</code> attribute links the label to the corresponding control by its <code>id</code>. </p>
<p>You can also nest controls within a <code>&lt;label&gt;</code>, eliminating the need for the <code>for</code> attribute.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Username:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Attributes of <code>&lt;label&gt;</code>:</p>
<ul>
<li><code>for</code>: Specifies the <code>id</code> of the associated control.</li>
<li><code>form</code>: Associates the label with a form element by specifying the formâ€™s <code>id</code>. If this attribute is not set, the label must be inside a <code>&lt;form&gt;</code> element.</li>
</ul>
<p>A single control can have multiple associated <code>&lt;label&gt;</code> elements:</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>Username:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this case, the input field has two labels associated with it.</p>
<h2 id="lt-input-gt"><a href="#lt-input-gt" class="headerlink" title="&lt;input&gt;"></a><code>&lt;input&gt;</code></h2><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><p>The <code>&lt;input&gt;</code> tag is an inline element used to receive user input. It is a self-closing tag and does not require a closing tag.</p>
<p>It comes in various types, depending on the value of the <code>type</code> attribute. The default type is <code>text</code>, which creates a single-line input field.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Equivalent to --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above generates a single-line text input field where users can enter text.</p>
<p>The <code>&lt;input&gt;</code> tag has many attributes, some of which are specific to certain types and will be discussed in the â€œTypesâ€ section. Here are some common attributes applicable to all types:</p>
<ul>
<li><strong>autofocus</strong>: A boolean attribute that, when set, makes the input field automatically receive focus when the page loads.</li>
<li><strong>disabled</strong>: A boolean attribute that disables the control. When enabled, the control appears grayed out and is viewable but not interactive.</li>
<li><strong>form</strong>: Associates the input with a form by specifying the formâ€™s <code>id</code>. When this attribute is set, the control can be placed anywhere on the page; otherwise, it must be inside a <code>&lt;form&gt;</code>.</li>
<li><strong>list</strong>: Associates the input with a <code>&lt;datalist&gt;</code> by specifying the <code>id</code> of the datalist. This provides a predefined list of options for the input.</li>
<li><strong>name</strong>: The name of the control, used as the key in key-value pairs when submitting data to the server. Only controls with a <code>name</code> attribute are submitted.</li>
<li><strong>readonly</strong>: A boolean attribute that makes the input field read-only. Users can see but not modify the content.</li>
<li><strong>required</strong>: A boolean attribute that makes the input field mandatory.</li>
<li><strong>type</strong>: Defines the type of the input control. Detailed types are covered in the â€œTypesâ€ section.</li>
<li><strong>value</strong>: Specifies the initial value of the input field.</li>
</ul>
<h3 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h3><p>The <code>type</code> attribute determines the form of the <code>&lt;input&gt;</code> element. It can take various values, including:</p>
<p><strong>1) text</strong></p>
<p><code>type=&quot;text&quot;</code> creates a standard text input field for single-line text. Line breaks are automatically removed if entered by the user.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">required</span></span></span><br><span class="line"><span class="tag">       <span class="attr">minlength</span>=<span class="string">&quot;4&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;8&quot;</span> <span class="attr">size</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This text input field has several additional attributes:</p>
<ul>
<li><strong>maxlength</strong>: The maximum number of characters allowed. It should be a non-negative integer.</li>
<li><strong>minlength</strong>: The minimum number of characters required. It must be a non-negative integer and less than <code>maxlength</code>.</li>
<li><strong>pattern</strong>: A regular expression that the input must match. For example, to require 4 to 8 English letters, use <code>pattern=&quot;[a-z]&#123;4,8&#125;&quot;</code>. If the input does not match, the browser will display a warning and prevent form submission.</li>
<li><strong>placeholder</strong>: A sample value displayed in the input field when it is empty. It disappears once the user starts typing.</li>
<li><strong>readonly</strong>: A boolean attribute that makes the input field read-only, allowing only viewing but not editing.</li>
<li><strong>size</strong>: Specifies the visible width of the input field in characters. It is a positive integer, defaulting to 20. Characters beyond this width require horizontal scrolling to view.</li>
<li><strong>spellcheck</strong>: Determines whether spell checking is enabled for the input field. Possible values are <code>true</code> or <code>false</code>.</li>
</ul>
<p><strong>2) Search</strong></p>
<p>The <code>type=&quot;search&quot;</code> creates a text input field specifically for search queries, similar to <code>type=&quot;text&quot;</code>. Some browsers display a clear button inside the input field that allows users to quickly erase all input.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mySearch&quot;</span> <span class="attr">name</span>=<span class="string">&quot;q&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter search term...&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Search&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>3) Button</strong></p>
<p>The <code>type=&quot;button&quot;</code> creates a button with no default behavior. It typically requires JavaScript to define the action for the button click.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Click&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Itâ€™s generally recommended to use the <code>&lt;button&gt;</code> element instead, as it is semantically clearer and supports more complex content, such as images.</p>
<hr>
<p><strong>4) Submit</strong></p>
<p>The <code>type=&quot;submit&quot;</code> creates a button that submits the form to the server.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If the <code>value</code> attribute is not specified, the default text â€œSubmitâ€ is displayed.</p>
<p>This type supports the following attributes to override form settings:</p>
<ul>
<li><code>formaction</code>: URL to submit the form data.</li>
<li><code>formenctype</code>: Encoding type of the form data.</li>
<li><code>formmethod</code>: HTTP method for submission (GET or POST).</li>
<li><code>formnovalidate</code>: Boolean value to skip form validation.</li>
<li><code>formtarget</code>: Specifies where to display the response from the server.</li>
</ul>
<hr>
<p><strong>5) Image</strong></p>
<p>The <code>type=&quot;image&quot;</code> uses an image as a submit button, behaving like <code>type=&quot;submit&quot;</code>.</p>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Login&quot;</span> <span class="attr">src</span>=<span class="string">&quot;login-button.png&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The image acts as a clickable button to submit the form.</p>
<p>Attributes include:</p>
<ul>
<li><code>alt</code>: Alternative text if the image fails to load.</li>
<li><code>src</code>: URL of the image.</li>
<li><code>height</code>: Image display height in pixels.</li>
<li><code>width</code>: Image display width in pixels.</li>
<li><code>formaction</code>: URL to submit the form data.</li>
<li><code>formenctype</code>: Encoding type of the form data.</li>
<li><code>formmethod</code>: HTTP method for submission (GET or POST).</li>
<li><code>formnovalidate</code>: Boolean value to skip form validation.</li>
<li><code>formtarget</code>: Specifies where to display the response from the server.</li>
</ul>
<p>Clicking the image button submits additional parameters <code>x</code> and <code>y</code>, indicating the mouse click position relative to the image. If the image button has a <code>name</code> attribute, the coordinates are prefixed with this name (e.g., <code>position.x=52&amp;position.y=55</code>). This feature is often used for map interactions.</p>
<p><strong>6) Reset</strong></p>
<p><code>type=&quot;reset&quot;</code> creates a reset button. When clicked, it resets all form controls to their initial values.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Reset&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If the <code>value</code> attribute is not set, the browser displays a default label, typically â€œReset.â€</p>
<p>This control is rarely used as it resets all entered values, which might not be desirable. Itâ€™s often better to avoid it.</p>
<p><strong>7) Checkbox</strong></p>
<p><code>type=&quot;checkbox&quot;</code> creates a checkbox that allows users to select or deselect an option.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;agreement&quot;</span> <span class="attr">name</span>=<span class="string">&quot;agreement&quot;</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;agreement&quot;</span>&gt;</span>Agree<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The above code displays a clickable checkbox before the text. Clicking it selects or deselects the option. The <code>checked</code> attribute makes the checkbox selected by default.</p>
<p>By default, the <code>value</code> attribute is â€œon.â€ For the example above, selecting the checkbox submits <code>agreement=on</code>, while deselection results in no submission for that item.</p>
<p>Checkboxes related to each other can be grouped within a <code>&lt;fieldset&gt;</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Your Interests<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;coding&quot;</span> <span class="attr">name</span>=<span class="string">&quot;interest&quot;</span> <span class="attr">value</span>=<span class="string">&quot;coding&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;coding&quot;</span>&gt;</span>Coding<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;music&quot;</span> <span class="attr">name</span>=<span class="string">&quot;interest&quot;</span> <span class="attr">value</span>=<span class="string">&quot;music&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;music&quot;</span>&gt;</span>Music<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>If both checkboxes are selected, the submission includes <code>interest=coding&amp;interest=music</code>.</p>
<p><strong>8) Radio</strong></p>
<p><code>type=&quot;radio&quot;</code> creates a radio button, where only one option in a group can be selected at a time.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Gender<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span>Male<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span>Female<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, only one gender can be selected. Ensure all radio buttons in a group share the same <code>name</code> attribute. The selected value is submitted to the server.</p>
<p>Relevant attributes:</p>
<ul>
<li><code>checked</code>: Boolean attribute indicating if the option is selected by default.</li>
<li><code>value</code>: The value sent to the server when selected, defaulting to â€œon.â€</li>
</ul>
<p><strong>9) Email</strong></p>
<p><code>type=&quot;email&quot;</code> creates an input field that only accepts valid email addresses. The browser automatically validates the format before submission.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;.+@foobar.com&quot;</span> <span class="attr">size</span>=<span class="string">&quot;30&quot;</span> <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code generates a required field that only accepts emails ending in <code>foobar.com</code>.</p>
<p>The <code>multiple</code> Boolean attribute allows multiple comma-separated email addresses.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;emailAddress&quot;</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">multiple</span> <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>When both <code>multiple</code> and <code>required</code> are set, zero emails are allowed, making the field optional.</p>
<p>Relevant attributes:</p>
<ul>
<li><code>maxlength</code>: Maximum number of characters allowed.</li>
<li><code>minlength</code>: Minimum number of characters required.</li>
<li><code>multiple</code>: Allows multiple comma-separated emails.</li>
<li><code>pattern</code>: Regex pattern that input must match.</li>
<li><code>placeholder</code>: Placeholder text when the input is empty.</li>
<li><code>readonly</code>: Boolean attribute indicating if the field is read-only.</li>
<li><code>size</code>: Display length of the input field in characters.</li>
<li><code>spellcheck</code>: Enables spellcheck, with possible values <code>true</code> or <code>false</code>.</li>
</ul>
<p>The <code>type=&quot;email&quot;</code> field can also use the <code>&lt;datalist&gt;</code> tag to offer suggestions.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">size</span>=<span class="string">&quot;40&quot;</span> <span class="attr">list</span>=<span class="string">&quot;defaultEmails&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;defaultEmails&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;jbond007@mi6.defence.gov.uk&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;jbourne@unknown.net&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;nfury@shield.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;tony@starkindustries.com&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;hulk@grrrrrrrr.arg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>When the input field is focused, a dropdown list with five suggestions appears for user reference.</p>
<p><strong>10) Password</strong></p>
<p>The <code>type=&quot;password&quot;</code> creates a password input field where the userâ€™s input is obscured, typically displayed as asterisks (<code>*</code>) or dots (<code>Â·</code>). </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pass&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">minlength</span>=<span class="string">&quot;8&quot;</span> <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Browsers may handle this input type differently, often showing the entered characters for a brief moment before obscuring them. Any newline (<code>U+000A</code>) or carriage return (<code>U+000D</code>) characters entered are automatically removed by the browser.</p>
<p>Attributes for this type include:</p>
<ul>
<li><code>maxlength</code>: Maximum number of characters allowed.</li>
<li><code>minlength</code>: Minimum number of characters required.</li>
<li><code>pattern</code>: Regular expression the input must match.</li>
<li><code>placeholder</code>: Text displayed when the input is empty.</li>
<li><code>readonly</code>: Boolean attribute indicating if the field is read-only.</li>
<li><code>size</code>: Non-negative integer representing the display length in characters.</li>
<li><code>autocomplete</code>: Determines if autocomplete is allowed (<code>on</code>, <code>off</code>, <code>current-password</code>, <code>new-password</code>).</li>
<li><code>inputmode</code>: Specifies the type of data allowed: <code>none</code>(no system input method), <code>text</code>(standard text input), <code>decimal</code>(numbers including decimals), <code>numeric</code>(digits 0-9).</li>
</ul>
<p><strong>11) File</strong></p>
<p>The <code>type=&quot;file&quot;</code> creates a file input field that allows users to select one or more files, commonly used for file uploads.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">name</span>=<span class="string">&quot;avatar&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/png, image/jpeg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Attributes for this type include:</p>
<ul>
<li><code>accept</code>: Specifies the file types allowed, using MIME types or file extensions.</li>
<li><code>capture</code>: Determines the source for capturing image or video data (<code>user</code> or <code>environment</code>).</li>
<li><code>multiple</code>: Boolean attribute indicating if multiple files can be selected.</li>
</ul>
<p><strong>12) Hidden</strong></p>
<p>The <code>type=&quot;hidden&quot;</code> creates a control not visible on the page, used to pass hidden information to the server. For example, to prevent CSRF attacks, unique hidden identifiers can be generated for each form.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;prodId&quot;</span> <span class="attr">name</span>=<span class="string">&quot;prodId&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xm234jq&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This control is invisible to users but submits its value with the form.</p>
<p><strong>13) Number</strong></p>
<p>The <code>type=&quot;number&quot;</code> creates a numeric input field, allowing only numbers. A spinner with up and down arrows is typically provided for incrementing or decrementing the value.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">id</span>=<span class="string">&quot;tentacles&quot;</span> <span class="attr">name</span>=<span class="string">&quot;tentacles&quot;</span> <span class="attr">min</span>=<span class="string">&quot;10&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This type supports both integers and decimal values, with optional step increments.</p>
<p>Attributes include:</p>
<ul>
<li><code>max</code>: Maximum value allowed.</li>
<li><code>min</code>: Minimum value allowed.</li>
<li><code>placeholder</code>: Example value shown when the input is empty.</li>
<li><code>readonly</code>: Boolean attribute indicating if the field is read-only.</li>
<li><code>step</code>: Increment step for the value; defaults to 1.</li>
</ul>
<p><strong>14) Range</strong></p>
<p>The <code>type=&quot;range&quot;</code> creates a slider for selecting a value within a specified range. This is often used for volume controls or similar settings.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">id</span>=<span class="string">&quot;start&quot;</span> <span class="attr">name</span>=<span class="string">&quot;volume&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;11&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Attributes include:</p>
<ul>
<li><code>max</code>: Maximum value allowed, default is 100.</li>
<li><code>min</code>: Minimum value allowed, default is 0.</li>
<li><code>step</code>: Increment step, default is 1.</li>
<li><code>value</code>: Initial value of the slider.</li>
</ul>
<p>With the <code>&lt;datalist&gt;</code> tag, you can add labels or ticks to the range slider.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">list</span>=<span class="string">&quot;tickmarks&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;tickmarks&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> <span class="attr">label</span>=<span class="string">&quot;0%&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;30&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;40&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;50&quot;</span> <span class="attr">label</span>=<span class="string">&quot;50%&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;60&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;70&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;80&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;90&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;100&quot;</span> <span class="attr">label</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This setup creates a slider with tick marks and labels at specified intervals. Note that horizontal sliders are the default; vertical sliders require CSS adjustments.</p>
<p><strong>14) Url</strong></p>
<p>The <code>type=&quot;url&quot;</code> input field only accepts URLs. Before form submission, the browser automatically checks if the URL format is correct; otherwise, it wonâ€™t be submitted.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">id</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">placeholder</span>=<span class="string">&quot;https://example.com&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">pattern</span>=<span class="string">&quot;https://.*&quot;</span> <span class="attr">size</span>=<span class="string">&quot;30&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the <code>pattern</code> attribute specifies that the URL must use the HTTPS protocol.</p>
<p>Note that URLs without a protocol are invalid. For instance, <code>foo.com</code> is invalid, while <code>http://foo.com</code> is valid.</p>
<p>The type also supports the following attributes:</p>
<ul>
<li><code>maxlength</code>: Maximum number of characters allowed.</li>
<li><code>minlength</code>: Minimum number of characters required.</li>
<li><code>pattern</code>: Regular expression that the input must match.</li>
<li><code>placeholder</code>: Example text displayed when the input is empty.</li>
<li><code>readonly</code>: Boolean attribute indicating if the field is read-only.</li>
<li><code>size</code>: Number of characters that the input field should display.</li>
<li><code>spellcheck</code>: Indicates if spell check is enabled (<code>true</code> or <code>false</code>).</li>
</ul>
<p>The <code>type=&quot;url&quot;</code> can be used with the <code>&lt;datalist&gt;</code> element to create a dropdown list for users to choose from. As users type, the list will narrow to show matching options.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;myURL&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myURL&quot;</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">list</span>=<span class="string">&quot;defaultURLs&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;defaultURLs&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://developer.mozilla.org/&quot;</span> <span class="attr">label</span>=<span class="string">&quot;MDN Web Docs&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;http://www.google.com/&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Google&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;http://www.microsoft.com/&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Microsoft&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;https://www.mozilla.org/&quot;</span> <span class="attr">label</span>=<span class="string">&quot;Mozilla&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;http://w3.org/&quot;</span> <span class="attr">label</span>=<span class="string">&quot;W3C&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, the <code>label</code> attribute of <code>&lt;option&gt;</code> specifies the text shown next to the URL in the dropdown list.</p>
<p><strong>16) tel</strong></p>
<p>The <code>type=&quot;tel&quot;</code> input field is used for entering phone numbers. Since phone number formats vary globally, browsers donâ€™t apply default validation, so custom validation is often needed.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;tel&quot;</span> <span class="attr">id</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">name</span>=<span class="string">&quot;phone&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">pattern</span>=<span class="string">&quot;[0-9]&#123;3&#125;-[0-9]&#123;3&#125;-[0-9]&#123;4&#125;&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">required</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span>Format: 123-456-7890<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above defines an input field for a 10-digit phone number.</p>
<p>Attributes for this type include:</p>
<ul>
<li><code>maxlength</code>: Maximum number of characters allowed.</li>
<li><code>minlength</code>: Minimum number of characters required.</li>
<li><code>pattern</code>: A regular expression that the input must match.</li>
<li><code>placeholder</code>: Example text displayed when the input is empty.</li>
<li><code>readonly</code>: A boolean attribute indicating if the field is read-only.</li>
<li><code>size</code>: Number of characters the input field should display.</li>
</ul>
<p><strong>17) color</strong></p>
<p>The <code>type=&quot;color&quot;</code> input allows users to select a color, with values in the <code>#rrggbb</code> format.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;background&quot;</span> <span class="attr">name</span>=<span class="string">&quot;background&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">value</span>=<span class="string">&quot;#e66465&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In Chrome, this code displays a color box with the color #e66465. Clicking the box opens a color picker for selecting a different color.</p>
<p>If no <code>value</code> attribute is specified, the default color is #000000 (black).</p>
<p><strong>18) Date</strong></p>
<p>The <code>type=&quot;date&quot;</code> input allows users to select a date in the format <code>YYYY-MM-DD</code>, but does not include time (hours, minutes, or seconds). </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">id</span>=<span class="string">&quot;start&quot;</span> <span class="attr">name</span>=<span class="string">&quot;start&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">value</span>=<span class="string">&quot;2018-07-22&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">min</span>=<span class="string">&quot;2018-01-01&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2018-12-31&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code displays a date input box with a default date of July 22, 2018. Clicking the input box will open a date picker for selecting a different date.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>max</code>: The latest allowed date in the format <code>YYYY-MM-DD</code>.</li>
<li><code>min</code>: The earliest allowed date in the format <code>YYYY-MM-DD</code>.</li>
<li><code>step</code>: The interval for selectable dates, in days.</li>
</ul>
<p><strong>19) Time</strong></p>
<p>The <code>type=&quot;time&quot;</code> input allows users to input a time in the 24-hour format. The format is <code>hh:mm</code>, and if seconds are included, itâ€™s <code>hh:mm:ss</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;time&quot;</span> <span class="attr">id</span>=<span class="string">&quot;appt&quot;</span> <span class="attr">name</span>=<span class="string">&quot;appt&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">min</span>=<span class="string">&quot;09:00&quot;</span> <span class="attr">max</span>=<span class="string">&quot;18:00&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span>Business hours: 9 AM to 6 PM<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code creates a time input box where users can select a time between 9:00 and 18:00. </p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>max</code>: The latest allowed time.</li>
<li><code>min</code>: The earliest allowed time.</li>
<li><code>readonly</code>: A boolean attribute that prevents users from editing the time.</li>
<li><code>step</code>: The interval for selectable times, in seconds.</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;appt&quot;</span> <span class="attr">type</span>=<span class="string">&quot;time&quot;</span> <span class="attr">name</span>=<span class="string">&quot;appt&quot;</span> <span class="attr">step</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the time picker increments by 2 seconds.</p>
<p><strong>20) Month</strong></p>
<p>The <code>type=&quot;month&quot;</code> input allows users to select a year and month in the format <code>YYYY-MM</code>.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;month&quot;</span> <span class="attr">id</span>=<span class="string">&quot;start&quot;</span> <span class="attr">name</span>=<span class="string">&quot;start&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">min</span>=<span class="string">&quot;2018-03&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2018-05&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code creates an input box for selecting a month and year, with the default value set to May 2018.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>max</code>: The latest allowed month in the format <code>YYYY-MM</code>.</li>
<li><code>min</code>: The earliest allowed month in the format <code>YYYY-MM</code>.</li>
<li><code>readonly</code>: A boolean attribute that prevents users from editing the month.</li>
<li><code>step</code>: The interval for selectable months.</li>
</ul>
<p><strong>21) Week</strong></p>
<p>The <code>type=&quot;week&quot;</code> input allows users to select a week of the year in the format <code>YYYY-Www</code>. For example, <code>2018-W18</code> represents the 18th week of 2018.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;week&quot;</span> <span class="attr">name</span>=<span class="string">&quot;week&quot;</span> <span class="attr">id</span>=<span class="string">&quot;camp-week&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">min</span>=<span class="string">&quot;2018-W18&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2018-W26&quot;</span> <span class="attr">required</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code creates an input box for selecting a week within the specified range.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>max</code>: The latest allowed week in the format <code>YYYY-Www</code>.</li>
<li><code>min</code>: The earliest allowed week in the format <code>YYYY-Www</code>.</li>
<li><code>readonly</code>: A boolean attribute that prevents users from editing the week.</li>
<li><code>step</code>: The interval for selectable weeks.</li>
</ul>
<p><strong>22) datetime-local</strong></p>
<p>The <code>type=&quot;datetime-local&quot;</code> input allows users to enter both date and time in the format <code>YYYY-MM-DDThh:mm</code>. Note that seconds are not supported.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;datetime-local&quot;</span> <span class="attr">id</span>=<span class="string">&quot;meeting-time&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">name</span>=<span class="string">&quot;meeting-time&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2018-06-12T19:30&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">min</span>=<span class="string">&quot;2018-06-07T00:00&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2018-06-14T00:00&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code creates an input box for selecting both a date and a time, with the default set to June 12, 2018, 19:30.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>max</code>: The latest allowed date and time in the format YYYY-MM-DDThh:mm.</li>
<li><code>min</code>: The earliest allowed date and time in the format YYYY-MM-DDThh:mm.</li>
<li><code>step</code>: The interval for selectable times, in seconds. The default is 60 seconds.</li>
</ul>
<h2 id="lt-button-gt"><a href="#lt-button-gt" class="headerlink" title="&lt;button&gt;"></a><code>&lt;button&gt;</code></h2><p>The <code>&lt;button&gt;</code> element creates a clickable button with no default behavior. Its function is typically defined using the <code>type</code> attribute or scripts.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above produces a button with the text â€œClick.â€</p>
<p>The <code>&lt;button&gt;</code> element can contain both text and images, forming an image button.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">name</span>=<span class="string">&quot;search&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;search.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Search&quot;</span>&gt;</span>Search</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>Here are the attributes for <code>&lt;button&gt;</code>:</p>
<ul>
<li><code>autofocus</code>: Boolean attribute that sets focus to the button when the page loads. Only one element can have this attribute per page.</li>
<li><code>disabled</code>: Boolean attribute that disables the button, making it gray and unclickable.</li>
<li><code>name</code>: The buttonâ€™s name, used with the <code>value</code> attribute to submit data in the format <code>name=value</code> with the form.</li>
<li><code>value</code>: The buttonâ€™s value, used with the <code>name</code> attribute to submit data in the format <code>name=value</code> with the form.</li>
<li><code>type</code>: The buttonâ€™s type. Possible values are <code>submit</code> (sends form data to the server), <code>reset</code> (resets all form controls to their initial values), and <code>button</code> (no default behavior; action specified by script).</li>
<li><code>form</code>: Associates the button with a <code>&lt;form&gt;</code> element by its <code>id</code>. If omitted, the button is linked to the nearest parent form.</li>
<li><code>formaction</code>: URL where the form data is submitted, overriding the <code>action</code> attribute of the <code>&lt;form&gt;</code> element.</li>
<li><code>formenctype</code>: Encoding type for form data submission, overriding the <code>enctype</code> attribute of the <code>&lt;form&gt;</code> element. Possible values: <code>application/x-www-form-urlencoded</code> (default), <code>multipart/form-data</code> (for file uploads), <code>text/plain</code>.</li>
<li><code>formmethod</code>: HTTP method for form data submission, overriding the <code>method</code> attribute of the <code>&lt;form&gt;</code> element. Possible values: <code>post</code> or <code>get</code>.</li>
<li><code>formnovalidate</code>: Boolean attribute that disables local validation when submitting the form, overriding the <code>novalidate</code> attribute of the <code>&lt;form&gt;</code> element.</li>
<li><code>formtarget</code>: Specifies where to display the response from the server, overriding the <code>target</code> attribute of the <code>&lt;form&gt;</code> element. Possible values: <code>_self</code> (current window), <code>_blank</code> (new window), <code>_parent</code> (parent window), <code>_top</code> (topmost window).</li>
</ul>
<h2 id="lt-select-gt"><a href="#lt-select-gt" class="headerlink" title="&lt;select&gt;"></a><code>&lt;select&gt;</code></h2><p>The <code>&lt;select&gt;</code> tag is used to create a dropdown menu.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;pet-select&quot;</span>&gt;</span>Pet:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;pet-select&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pet-select&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>--Please select an option--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;dog&quot;</span>&gt;</span>Dog<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;cat&quot;</span>&gt;</span>Cat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;others&quot;</span>&gt;</span>Others<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the above code, the <code>&lt;select&gt;</code> tag creates a dropdown menu with the placeholder text â€œâ€“Please select an optionâ€“â€ and a dropdown arrow on the right. Clicking the arrow reveals three options for the user to choose from.</p>
<p>Each option is represented by the <code>&lt;option&gt;</code> tag, and the <code>value</code> attribute of the selected option is sent to the server. The <code>selected</code> attribute can be used to set a default option.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;choice&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;first&quot;</span>&gt;</span>First Value<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;second&quot;</span> <span class="attr">selected</span>&gt;</span>Second Value<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;third&quot;</span>&gt;</span>Third Value<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this code, â€œSecond Valueâ€ is the default selected option when the page loads.</p>
<p>The <code>&lt;select&gt;</code> element has the following attributes:</p>
<ul>
<li><code>autofocus</code>: Boolean attribute indicating whether the control should automatically receive focus when the page loads.</li>
<li><code>disabled</code>: Boolean attribute indicating whether the control is disabled.</li>
<li><code>form</code>: Associates the select element with a form using its <code>id</code>.</li>
<li><code>multiple</code>: Boolean attribute indicating if multiple options can be selected. If enabled, most browsers display a scrollable list box, and users can select multiple options by holding down the Shift or Ctrl key.</li>
<li><code>name</code>: Name of the control.</li>
<li><code>required</code>: Boolean attribute indicating whether the control is required.</li>
<li><code>size</code>: Specifies the number of visible options when <code>multiple</code> is set. Additional options will require scrolling.</li>
</ul>
<h2 id="lt-option-gt-lt-optgroup-gt"><a href="#lt-option-gt-lt-optgroup-gt" class="headerlink" title="&lt;option&gt;, &lt;optgroup&gt;"></a><code>&lt;option&gt;</code>, <code>&lt;optgroup&gt;</code></h2><p>The <code>&lt;option&gt;</code> tag, used within <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code>, and <code>&lt;datalist&gt;</code>, represents an individual menu item.</p>
<p>Attributes of <code>&lt;option&gt;</code> include:</p>
<ul>
<li><code>disabled</code>: Boolean attribute indicating whether the option is disabled.</li>
<li><code>label</code>: Provides a label for the option. If omitted, it defaults to the optionâ€™s text content.</li>
<li><code>selected</code>: Boolean attribute indicating whether the option is selected by default.</li>
<li><code>value</code>: The value submitted to the server when the option is selected. If omitted, it defaults to the optionâ€™s text content.</li>
</ul>
<p>The <code>&lt;optgroup&gt;</code> tag is used to group related options within a <code>&lt;select&gt;</code> element:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Pets:</span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;pets&quot;</span> <span class="attr">multiple</span> <span class="attr">size</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;Four-legged pets&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;dog&quot;</span>&gt;</span>Dog<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;cat&quot;</span>&gt;</span>Cat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;Birds&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;parrot&quot;</span>&gt;</span>Parrot<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;thrush&quot;</span>&gt;</span>Thrush<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the <code>&lt;select&gt;</code> dropdown uses <code>&lt;optgroup&gt;</code> to organize options into two categories, each with its own label. </p>
<p>Its attribute are as follows:</p>
<ul>
<li><code>disabled</code>: A boolean setting that determines whether the group is disabled. When enabled, all menu items in the group are unselectable.</li>
<li><code>label</code>: The title for the menu item group.</li>
</ul>
<h2 id="lt-datalist-gt"><a href="#lt-datalist-gt" class="headerlink" title="&lt;datalist&gt;"></a><code>&lt;datalist&gt;</code></h2><p>The <code>&lt;datalist&gt;</code> element is a container used to provide a list of options for an associated input element, typically for generating input suggestions. It uses <code>&lt;option&gt;</code> elements to define each menu item.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;ice-cream-choice&quot;</span>&gt;</span>Ice Cream:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">list</span>=<span class="string">&quot;ice-cream-flavors&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ice-cream-choice&quot;</span> <span class="attr">name</span>=<span class="string">&quot;ice-cream-choice&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;ice-cream-flavors&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Chocolate&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Coconut&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Mint&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Strawberry&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Vanilla&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the code above, the <code>&lt;input&gt;</code> element creates a text input box where users can enter text. The <code>list</code> attribute of <code>&lt;input&gt;</code> specifies the <code>id</code> of the associated <code>&lt;datalist&gt;</code>. The <code>&lt;datalist&gt;</code> provides suggestions as a dropdown menu when the user interacts with the input box. It also auto-filters the options based on the userâ€™s input; for example, typing â€œVanâ€ will display only â€œVanilla.â€</p>
<p>Note that <code>&lt;option&gt;</code> elements do not require closing tags in this context.</p>
<p>The <code>&lt;option&gt;</code> tag can also include a <code>label</code> attribute for additional description. In Chrome, this label appears below the value in smaller text.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;ide&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Brackets&quot;</span> <span class="attr">label</span>=<span class="string">&quot;by Adobe&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Coda&quot;</span> <span class="attr">label</span>=<span class="string">&quot;by Panic&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, Chrome displays â€œBracketsâ€ with â€œby Adobeâ€ in smaller text below it in the dropdown list.</p>
<h2 id="lt-textarea-gt"><a href="#lt-textarea-gt" class="headerlink" title="&lt;textarea&gt;"></a><code>&lt;textarea&gt;</code></h2><p>The <code>&lt;textarea&gt;</code> element is a block-level element used to create a multi-line text input area.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;story&quot;</span> <span class="attr">name</span>=<span class="string">&quot;story&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;5&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;33&quot;</span>&gt;</span></span><br><span class="line">This is a long story.</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This code creates a text area that is 5 rows high and 33 columns wide.</p>
<p>Attributes for <code>&lt;textarea&gt;</code> include:</p>
<ul>
<li><code>autofocus</code>: Boolean attribute that determines if the element should automatically gain focus.</li>
<li><code>cols</code>: Width of the text area in characters (default is 20).</li>
<li><code>dir</code>: Text direction, can be â€œltrâ€ (left-to-right), â€œrtlâ€ (right-to-left), or â€œautoâ€ (determined by browser).</li>
<li><code>disabled</code>: Boolean attribute that disables the element.</li>
<li><code>form</code>: Associates the text area with a specific form by <code>id</code>.</li>
<li><code>maxlength</code>: Maximum number of characters allowed (unlimited if not specified).</li>
<li><code>minlength</code>: Minimum number of characters required.</li>
<li><code>name</code>: Name of the text area.</li>
<li><code>placeholder</code>: Placeholder text shown when the text area is empty.</li>
<li><code>readonly</code>: Boolean attribute that makes the text area read-only.</li>
<li><code>required</code>: Boolean attribute that makes the text area required.</li>
<li><code>rows</code>: Height of the text area in rows.</li>
<li><code>spellcheck</code>: Enables or disables browser spell checking (true, default, or false).</li>
<li><code>wrap</code>: Determines text wrapping behaviorâ€”<code>hard</code> (insert line breaks), <code>soft</code> (wraps but no line breaks), or <code>off</code> (no wrapping).</li>
</ul>
<h2 id="lt-output-gt"><a href="#lt-output-gt" class="headerlink" title="&lt;output&gt;"></a><code>&lt;output&gt;</code></h2><p>The <code>&lt;output&gt;</code> tag is an inline element used to display the result of a user action.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;a&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span> +</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;b&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span> =</span><br><span class="line"><span class="tag">&lt;<span class="name">output</span> <span class="attr">name</span>=<span class="string">&quot;result&quot;</span>&gt;</span>20<span class="tag">&lt;/<span class="name">output</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Attributes:</p>
<ul>
<li><code>for</code>: Associates with the id of the control, representing the result of that controlâ€™s operation.</li>
<li><code>form</code>: Associates with the id of a form.</li>
<li><code>name</code>: Name of the control.</li>
</ul>
<h2 id="lt-progress-gt"><a href="#lt-progress-gt" class="headerlink" title="&lt;progress&gt;"></a><code>&lt;progress&gt;</code></h2><p>The <code>&lt;progress&gt;</code> tag is an inline element that represents the completion progress of a task, typically displayed as a progress bar.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;70&quot;</span>&gt;</span> 70% <span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Attributes:</p>
<ul>
<li><code>max</code>: The maximum value of the progress bar, must be a positive number. Default is 1.</li>
<li><code>value</code>: The current value of the progress bar. Must be between 0 and the <code>max</code> value. If <code>max</code> is omitted, this value should be between 0 and 1. If omitted, the progress bar will appear as indeterminate.</li>
</ul>
<h2 id="lt-meter-gt"><a href="#lt-meter-gt" class="headerlink" title="&lt;meter&gt;"></a><code>&lt;meter&gt;</code></h2><p>The <code>&lt;meter&gt;</code> tag is an inline element used to display a value within a known range, suitable for showing progress, disk usage, battery level, etc. It is generally displayed as a non-scrolling gauge.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The oven&#x27;s current temperature is <span class="tag">&lt;<span class="name">meter</span> <span class="attr">min</span>=<span class="string">&quot;200&quot;</span> <span class="attr">max</span>=<span class="string">&quot;500&quot;</span> <span class="attr">value</span>=<span class="string">&quot;350&quot;</span>&gt;</span> 350 degrees<span class="tag">&lt;/<span class="name">meter</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The code above displays a gauge where the left end represents 200, the right end represents 500, and the current position is at 350.</p>
<p>Note that the child elements of the <code>&lt;meter&gt;</code> tag are typically not displayed. They only appear if the browser does not support the <code>&lt;meter&gt;</code> element.</p>
<p>Attributes:</p>
<ul>
<li><code>min</code>: The lower bound of the range, must be less than <code>max</code>. Defaults to 0 if omitted.</li>
<li><code>max</code>: The upper bound of the range, must be greater than <code>min</code>. Defaults to 1 if omitted.</li>
<li><code>value</code>: The current value, must be between <code>min</code> and <code>max</code>. Defaults to 0 if omitted.</li>
<li><code>low</code>: The threshold for the â€œlowâ€ range, must be greater than <code>min</code> and less than <code>high</code> and <code>max</code>. Defaults to <code>min</code> if omitted.</li>
<li><code>high</code>: The threshold for the â€œhighâ€ range, must be less than <code>max</code> and greater than <code>low</code> and <code>min</code>. Defaults to <code>max</code> if omitted.</li>
<li><code>optimum</code>: The optimal value, must be between <code>min</code> and <code>max</code>. It indicates the best range when used with <code>low</code> and <code>high</code>. Defaults to the midpoint between <code>min</code> and <code>max</code> if omitted.</li>
<li><code>form</code>: Associates with the id of a form.</li>
</ul>
<p>In Chrome, the meter bar is color-coded: green for good, yellow for average, and red for poor conditions.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meter</span> <span class="attr">id</span>=<span class="string">&quot;fuel&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fuel&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">low</span>=<span class="string">&quot;33&quot;</span> <span class="attr">high</span>=<span class="string">&quot;66&quot;</span> <span class="attr">optimum</span>=<span class="string">&quot;80&quot;</span> <span class="attr">value</span>=<span class="string">&quot;50&quot;</span>&gt;</span></span><br><span class="line">    at 50/100</span><br><span class="line"><span class="tag">&lt;/<span class="name">meter</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the meter is divided into three segments: 0â€“32, 33â€“65, and 66â€“100. Since <code>optimum</code> is 80, the ranges are color-coded as follows: less than 33 is red, between 33 and 65 is yellow, and greater than 65 is green.</p>
<h2 id="Reference-Links"><a href="#Reference-Links" class="headerlink" title="Reference Links"></a>Reference Links</h2><ul>
<li><a href="https://webkit.org/blog/7099/html-interactive-form-validation/"><font style="color:rgb(73, 73, 73);">HTML Interactive Form Validation</font></a><font style="color:rgb(73, 73, 73);">, by Chris Dumez</font></li>
</ul>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/form">https://wangdoc.com/html/form</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Elements</title>
    <url>/2024/06/28/html-elements/</url>
    <content><![CDATA[<p>This chapter introduces some recently adopted standard tags.</p>
<h2 id="lt-dialog-gt"><a href="#lt-dialog-gt" class="headerlink" title="&lt;dialog&gt;"></a><code>&lt;dialog&gt;</code></h2><h3 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h3><p>The <code>&lt;dialog&gt;</code> tag represents a dialog box that can be closed.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dialog</span>&gt;</span></span><br><span class="line">  Hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The above code shows a simple dialog box.</p>
<p>By default, the dialog is hidden and does not display on the webpage. To make the dialog visible, you must add the <code>open</code> attribute.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dialog</span> <span class="attr">open</span>&gt;</span></span><br><span class="line">  Hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The above code will display a box on the webpage with the content â€œHello world.â€</p>
<p>Inside a <code>&lt;dialog&gt;</code> element, you can place other HTML elements.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dialog</span> <span class="attr">open</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;foo&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the dialog contains an input field and a submit button.</p>
<p>Note that in the example above, setting the formâ€™s <code>method</code> attribute to â€œdialogâ€ means that when the submit button is clicked, the dialog will disappear. However, the form will not be submitted to the server; instead, the browser will set the form elementâ€™s <code>returnValue</code> property to the value attribute of the Submit button (in this case, â€œfooâ€).</p>
<h3 id="JavaScript-API"><a href="#JavaScript-API" class="headerlink" title="JavaScript API"></a>JavaScript API</h3><p>The <code>&lt;dialog&gt;</code> element provides a JavaScript API with two methods: <code>Dialog.showModal()</code> and <code>Dialog.close()</code>, used to open and close the dialog.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> modal = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;dialog&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Display the dialog, equivalent to adding the open attribute</span></span><br><span class="line">modal.<span class="title function_">showModal</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Close the dialog, equivalent to removing the open attribute</span></span><br><span class="line">modal.<span class="title function_">close</span>();</span><br></pre></td></tr></table></figure>

<p>You can provide a close button that triggers the <code>Dialog.close()</code> method to close the dialog.</p>
<p>The <code>Dialog.close()</code> method can accept a string parameter to pass information. The <code>returnValue</code> property of the <code>&lt;dialog&gt;</code> interface can read this string. Otherwise, <code>returnValue</code> defaults to the value attribute of the submit button.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">modal.<span class="title function_">close</span>(<span class="string">&#x27;Accepted&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(modal.<span class="property">returnValue</span>); <span class="comment">// &quot;Accepted&quot;</span></span><br></pre></td></tr></table></figure>

<p>When <code>Dialog.showModal()</code> is called, a transparent overlay appears to prevent user interaction with content outside the dialog. CSS provides the <code>::backdrop</code> pseudo-class to style this overlay, allowing you to make it visible.</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">dialog &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.6rem</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1em</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dialog<span class="selector-pseudo">::backdrop</span> &#123;</span><br><span class="line">  <span class="comment">/* Make the backdrop a semi-transparent black */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The code above styles the <code>&lt;dialog&gt;</code> element and changes the dialogâ€™s overlay to a semi-transparent gray.</p>
<p>The <code>&lt;dialog&gt;</code> element also has a <code>Dialog.show()</code> method that opens the dialog without the overlay, allowing users to interact with the content outside the dialog.</p>
<h3 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h3><p>The <code>&lt;dialog&gt;</code> element has two events that can be listened to:</p>
<ul>
<li><code>close</code>: Triggered when the dialog is closed.</li>
<li><code>cancel</code>: Triggered when the dialog is closed by pressing the Esc key.</li>
</ul>
<p>To close the dialog when the user clicks the overlay, you can use the following code:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">modal.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span> === modal) &#123;</span><br><span class="line">    modal.<span class="title function_">close</span>(<span class="string">&#x27;cancelled&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<h2 id="lt-details-gt-and-lt-summary-gt"><a href="#lt-details-gt-and-lt-summary-gt" class="headerlink" title="&lt;details&gt; and &lt;summary&gt;"></a><code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code></h2><h3 id="Basic-Usage-1"><a href="#Basic-Usage-1" class="headerlink" title="Basic Usage"></a>Basic Usage</h3><p>The <code>&lt;details&gt;</code> tag is used to create a collapsible section, which the browser will display in a collapsed state. By default, the content inside the <code>&lt;details&gt;</code> tag will be collapsed, showing only a summary with a triangle indicator.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  This is some explanatory text.</span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In the browser, the above code will show as:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â–¶ Details</span><br></pre></td></tr></table></figure>



<p>Clicking on â€œDetailsâ€ will expand the text to show:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â–¼ Details</span><br><span class="line">This is some explanatory text.</span><br></pre></td></tr></table></figure>

<p>Clicking again will collapse the text.</p>
<p>The <code>open</code> attribute on the <code>&lt;details&gt;</code> tag allows you to open it by default:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span> <span class="attr">open</span>&gt;</span></span><br><span class="line">  This is some explanatory text.</span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this case, the section will be expanded when the page loads.</p>
<p>The <code>&lt;summary&gt;</code> tag is used to customize the title of the collapsible content:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span>This is the title<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  This is some explanatory text.</span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>This will display as:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â–¶ This is the title</span><br></pre></td></tr></table></figure>

<p>Clicking on the title will expand the section to show:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â–¼ This is the title</span><br><span class="line">This is some explanatory text.</span><br></pre></td></tr></table></figure>

<p>You can use CSS to change the default arrow using <code>summary::-webkit-details-marker</code>:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">summary</span>::-webkit-details-marker &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://example.com/foo.svg</span>);</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Alternatively, you can hide the default arrow and use a different indicator:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">summary</span>::-webkit-details-marker &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">summary</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\2714&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#696f7c</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="JavaScript-API-1"><a href="#JavaScript-API-1" class="headerlink" title="JavaScript API"></a>JavaScript API</h3><p>You can check if a <code>&lt;details&gt;</code> element is open or closed using the <code>open</code> property:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> details = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;details&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (details.<span class="property">open</span>) &#123;</span><br><span class="line">  <span class="comment">// Expanded state</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// Collapsed state</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>The <code>toggle</code> event is fired whenever the <code>&lt;details&gt;</code> element is opened or closed:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">details.<span class="title function_">addEventListener</span>(<span class="string">&#x27;toggle&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (details.<span class="property">open</span>) &#123;</span><br><span class="line">    <span class="comment">// Expanded state</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Collapsed state</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="Reference-Links"><a href="#Reference-Links" class="headerlink" title="Reference Links"></a>Reference Links</h2><ul>
<li><a href="https://keithjgrant.com/posts/2018/meet-the-new-dialog-element/"><font style="color:rgb(73, 73, 73);">Meet the New Dialog Element</font></a><font style="color:rgb(73, 73, 73);">, Keith J. Grant</font></li>
<li><a href="https://blog.logrocket.com/the-dialog-element-the-way-to-create-tomorrows-modal-windows-f1d4ab14380b"><font style="color:rgb(73, 73, 73);">The dialog element: The way to create tomorrowâ€™s modal windows</font></a><font style="color:rgb(73, 73, 73);">, Abhishek Jakhar</font></li>
<li><a href="https://css-tricks.com/quick-reminder-that-details-summary-is-the-easiest-way-ever-to-make-an-accordion/"><font style="color:rgb(73, 73, 73);">Details/Summary is the Easiest Way Ever to Make an Accordion</font></a><font style="color:rgb(73, 73, 73);">, Chris Coyier</font></li>
</ul>
<p>Link to original article:</p>
<p><a href="https://wangdoc.com/html/elements">https://wangdoc.com/html/elements</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Instant Tutorial</title>
    <url>/2024/06/29/html-instant-tutorial/</url>
    <content><![CDATA[<p>HTML is the foundation of web development.</p>
<p>This tutorial provides a comprehensive introduction to HTML, serving both as an entry-level guide for beginners and a reference manual for looking up syntax.</p>
<p>Table of Content</p>
<p><a href="https://www.linjiangxiong.com/2024/06/13/html-introduction/">Introduction to HTML</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/14/html-url-introduction/">Introduction to HTML URL</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/15/html-element-attributes/">HTML Element Attributes</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/16/html-encode/">Understanding Text Encoding and Character Representation in HTML</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/17/html-semantic-tags/">HTML Semantic Tags</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/18/html-text/">HTML Text</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/19/html-lists/">HTML List</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/20/html-image/">HTML Image</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/21/html-a-tag/">HTML &lt;a&gt; Tag</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/22/html-link-tag/">HTML &lt;link&gt; Tag</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/23/html-script-and-noscript/">The &lt;script&gt; and &lt;noscript&gt; Tags</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/24/html-multimedia/">HTML Multimedia</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/25/html-iframe/">HTML iframe</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/26/html-table/">HTML Table</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/27/html-form/">HTML Form</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/28/html-elements/">HTML Elements</a></p>
<p><a href="https://www.linjiangxiong.com/2024/06/30/html-editors/">HTML Editors</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Editors</title>
    <url>/2024/06/30/html-editors/</url>
    <content><![CDATA[<h2 id="Recommended-HTML-Editors"><a href="#Recommended-HTML-Editors" class="headerlink" title="Recommended HTML Editors"></a>Recommended HTML Editors</h2><p>For editing HTML, using a professional HTML editor can be very helpful. Here are a few commonly recommended editors:</p>
<ul>
<li><strong>VS Code</strong>: <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li><strong>Sublime Text</strong>: <a href="http://www.sublimetext.com/">http://www.sublimetext.com/</a></li>
</ul>
<p>You can download the software from their official websites and follow the installation instructions.</p>
<p>Next, weâ€™ll demonstrate how to use VS Code to create an HTML file.</p>
<h2 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h2><p>Visual Studio Code (VS Code) is a code editor developed by Microsoft. It is open-source and supports Windows, Linux, and macOS. The editor includes built-in extension management features.</p>
<p><strong>Step 1: Create an HTML file</strong></p>
<p>After installing VS Code, select â€œFile (F) -&gt; New File (N)â€. Enter the following code into the new file:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Instant Tutorial - Johnson Lin (www.linjiangxiong.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Introduction to HTML<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/image/2024/06/2024063001.png"></p>
<p><strong>Step 2: Save the File as an HTML Document</strong></p>
<p>Next, select â€œFile (F) -&gt; Save As (A)â€ and name the file <code>test.html</code>. You can use either the <code>.htm</code> or <code>.html</code> extension when saving HTML files; thereâ€™s no difference between them, so itâ€™s best to use <code>.html</code> for consistency.</p>
<p><img src="/image/2024/06/2024063002.png"></p>
<p>Save the file in an easily memorable folder, such as <code>html-study</code>.</p>
<p><strong>Step 3: Open the HTML File in a Browser</strong></p>
<p>Open the file with default browser or another browser of your choice. The output in your browser should look something like this:</p>
<p><img src="/image/2024/06/2024063003.png"></p>
<p><strong>P.S.</strong> You can install the Live Preview extension in VS Code to view your code in real-time.</p>
<p>To install the Live Preview extension in Visual Studio Code, follow these steps:</p>
<ol>
<li><strong>Open VS Code</strong>: Launch Visual Studio Code on your computer.</li>
<li><strong>Go to Extensions</strong>: Click on the Extensions view icon in the Activity Bar on the side of the window or press <code>Ctrl+Shift+X</code> (<code>Cmd+Shift+X</code> on macOS).</li>
<li><strong>Search for Live Preview</strong>: In the Extensions search bar, type â€œLive Previewâ€.</li>
<li><strong>Install the Extension</strong>: Find the Live Preview extension by Microsoft in the search results and click the Install button.</li>
</ol>
<p><img src="/image/2024/06/2024063004.png"></p>
<ol start="5">
<li><strong>Open a File</strong>: After installation, open an HTML file or any file that you want to preview.</li>
<li><strong>Start Live Preview</strong>: Click on the â€œShow Previewâ€ button in the status bar at the top-right corner of the window or right-click in the editor window and select the â€œShow Previewâ€ option.</li>
</ol>
<p>This will allow you to see live updates of your code as you edit it.</p>
<p><img src="/image/2024/06/2024063005.png"></p>
<p>Of course, you should now see a live preview of your file in a new browser tab, which will automatically update as you make changes in VS Code.</p>
<p><img src="/image/2024/06/2024063006.png"></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis APPEND å‘½ä»¤</title>
    <url>/2023/05/31/redis-cmd-strings-append/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">APPEND key value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p>å‡è®¾é™„åŠ çš„å€¼å¾ˆå°ï¼Œå¹¶ä¸”å·²ç»å­˜åœ¨çš„å€¼æ˜¯ä»»ä½•å¤§å°ï¼Œæ‘Šé”€åçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œå› ä¸ºRedisä½¿ç”¨çš„åŠ¨æ€å­—ç¬¦ä¸²åº“ä¼šåœ¨æ¯æ¬¡é‡æ–°åˆ†é…æ—¶å°†å¯ç”¨ç©ºé—´å¢åŠ ä¸€å€ã€‚</p>
<p>å¦‚æœè¿½åŠ çš„å€¼æ¯”è¾ƒå°ï¼Œè€Œå½“å‰å·²ç»å­˜åœ¨çš„å€¼å¤§å°ä»»æ„ï¼Œé‚£ä¹ˆæ‘Šé”€åçš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(1)$ï¼Œå› ä¸º Redis ä½¿ç”¨çš„åŠ¨æ€å­—ç¬¦ä¸²åº“ä¼šåœ¨æ¯æ¬¡é‡æ–°åˆ†é…æ—¶å°†å¯ç”¨ç©ºé—´å¢åŠ ä¸€å€ã€‚</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å¦‚æœ <code>key</code> å·²ç»å­˜åœ¨å¹¶ä¸”å®ƒçš„å€¼çš„æ•°æ®ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œ<code>APPEND</code> å‘½ä»¤ä¼šå°† <code>value</code> è¿½åŠ åˆ°è¯¥ <code>key</code> åŸæ¥çš„å€¼çš„æœ«å°¾ã€‚å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œ <code>APPEND</code> å°±ç®€å•åœ°å°†ç»™å®š <code>key</code> è®¾ä¸º <code>value</code> ï¼Œå°±åƒæ‰§è¡Œ <code>SET key value</code> ä¸€æ ·ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¿½åŠ æ“ä½œåï¼Œ<code>key</code> å¯¹åº”å€¼çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>ä»¥ä¸‹ä¾‹å­ç¤ºèŒƒäº†å¦‚ä½•ä½¿ç”¨ <code>APPEND</code> å‘½ä»¤åœ¨ Redis ä¸­è¿½åŠ å­—ç¬¦ä¸²ã€‚</p>
<p>é¦–å…ˆï¼Œæ£€æŸ¥ <code>foo</code> é”®æ˜¯å¦å­˜åœ¨ï¼Œç”±äºè¿”å› 0ï¼Œè¯´æ˜ä¸å­˜åœ¨ã€‚</p>
<p>ç„¶åï¼Œæ‰§è¡Œ <code>APPEND foo &quot;Rain&quot;</code>ï¼Œå‘ <code>foo</code> é”®è¿½åŠ å­—ç¬¦ä¸² <code>&quot;Rain&quot;</code>ã€‚<code>APPEND</code> å‘½ä»¤è¿”å›è¿½åŠ åçš„å­—ç¬¦ä¸²æ€»é•¿åº¦ï¼Œè¿™é‡Œæ˜¯ 4ã€‚</p>
<p>æ¥ç€ï¼Œå†æ¬¡æ‰§è¡Œ <code>APPEND foo &quot; rain&quot;</code>ï¼Œå‘åŒä¸€ä¸ªé”®è¿½åŠ å­—ç¬¦ä¸² <code>&quot; rain&quot;</code>ã€‚è¿™æ¬¡ <code>APPEND</code> å‘½ä»¤è¿”å› 9ï¼Œå³è¿½åŠ åçš„æ€»é•¿åº¦æ˜¯ 9ã€‚</p>
<p>æœ€åï¼Œä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– <code>foo</code> é”®çš„å€¼ï¼Œè¿”å› <code>&quot;Rain rain&quot;</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS foo</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; APPEND foo <span class="string">&quot;Rain&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">redis&gt; APPEND foo <span class="string">&quot; rain&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 9</span><br><span class="line">redis&gt; GET foo</span><br><span class="line"><span class="string">&quot;Rain rain&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚æœè¯•å›¾ä½¿ç”¨ <code>APPEND</code> å‘½ä»¤æ“ä½œä¸€ä¸ª <code>list</code> ç±»å‹çš„å€¼ï¼Œä¼šå‡ºç°ä»€ä¹ˆç»“æœã€‚</p>
<p>åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ <code>LPUSH</code> å‘½ä»¤å‘ <code>listkey</code> é”®çš„å·¦ä¾§è¿½åŠ å…ƒç´  <code>&quot;Rain&quot;</code>ï¼Œç»“æœè¿”å›åˆ—è¡¨çš„æ–°é•¿åº¦ 1ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨ <code>LRANGE</code> æŸ¥çœ‹ <code>listkey</code> çš„å‰ 6 ä¸ªå…ƒç´ ï¼Œå¾—åˆ° <code>[&quot;Rain&quot;]</code>ã€‚</p>
<p>æ¥ç€ï¼Œä½¿ç”¨ <code>TYPE</code> å‘½ä»¤æŸ¥çœ‹ <code>listkey</code> æ‰€å­˜å‚¨å€¼çš„æ•°æ®ç±»å‹ï¼Œè¿™é‡Œæ˜¯ <code>list</code> ç±»å‹ã€‚</p>
<p>æœ€åï¼Œè¯•å›¾ä½¿ç”¨ <code>APPEND</code> å‘½ä»¤å‘ <code>listkey</code> è¿½åŠ å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ”¶åˆ° WRONGTYPE é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸º <code>APPEND</code> å‘½ä»¤ä»…é€‚ç”¨äºå€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„é”®ï¼Œè€Œ <code>listkey</code> çš„å€¼æ˜¯ <code>list</code> ç±»å‹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH listkey <span class="string">&quot;Rain&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; LRANGE listkey 0 5</span><br><span class="line">1) <span class="string">&quot;Rain&quot;</span></span><br><span class="line">redis&gt; TYPE listkey</span><br><span class="line">list</span><br><span class="line">redis&gt;  APPEND listkey <span class="string">&quot; rain&quot;</span></span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Pointer in C Language</title>
    <url>/2024/05/07/c-language-pointer/</url>
    <content><![CDATA[<p>Pointers are one of the most important and challenging concepts in the C programming language.</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>What is a pointer? In essence, itâ€™s a value representing a memory address, acting as a signpost to a specific location in memory.</p>
<p>The asterisk <code>*</code> represents a pointer and is usually placed after the type keyword to indicate what type of value the pointer is referencing. For example, <code>char*</code> is a pointer to a character, and <code>float*</code> is a pointer to a float.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* intPtr;</span><br></pre></td></tr></table></figure>

<p>The above example declares a variable <code>intPtr</code>, which is a pointer that points to a memory address storing an integer.</p>
<p>The asterisk <code>*</code> can be placed in various positions between the variable name and the type, and all are valid, like:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>   *intPtr;</span><br><span class="line"><span class="type">int</span> * intPtr;</span><br><span class="line"><span class="type">int</span>*  intPtr;</span><br></pre></td></tr></table></figure>

<p>This book follows the convention of placing the asterisk immediately after the type keyword (i.e., <code>int* intPtr;</code>) to emphasize that the pointer variable is just a regular variable, except its value is a memory address.</p>
<p>However, if you declare two pointer variables on the same line, be mindful of this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Correct</span></span><br><span class="line"><span class="type">int</span> *foo, *bar;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Incorrect</span></span><br><span class="line"><span class="type">int</span>* foo, bar;</span><br></pre></td></tr></table></figure>

<p>In the incorrect example, <code>foo</code> is a pointer to an integer, but <code>bar</code> is just an integer. The <code>*</code> only applies to the first variable.</p>
<p>You can also have pointers to pointers, indicated by two asterisks <code>**</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>** foo;</span><br></pre></td></tr></table></figure>

<p>This example declares <code>foo</code> as a pointer to another pointer, where the second pointer points to an integer.</p>
<h2 id="Dereferencing-Operator"><a href="#Dereferencing-Operator" class="headerlink" title="Dereferencing Operator *"></a>Dereferencing Operator <code>*</code></h2><p>The <code>*</code> symbol, besides indicating a pointer, also acts as an operator to retrieve the value at the memory address the pointer references.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  *p = *p + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this example, the function <code>increment()</code> takes a pointer <code>p</code> as its parameter. Inside the function, <code>*p</code> refers to the value that <code>p</code> points to. By assigning a new value to <code>*p</code>, youâ€™re modifying the value at the memory address <code>p</code> is pointing to.</p>
<p>The function adds 1 to the input value, and thereâ€™s no need for a return statement. This is because the function operates directly on the memory address passed in, so any changes affect the original value outside the function. This is a common practice in C for passing values through pointers.</p>
<p>Passing the address of a variable instead of the variable itself also has the advantage of saving memory and time, especially when dealing with large variables. Copying large variables would be inefficient, whereas passing a pointer is more effective.</p>
<h2 id="Address-of-Operator-amp"><a href="#Address-of-Operator-amp" class="headerlink" title="Address-of Operator &amp;"></a>Address-of Operator <code>&amp;</code></h2><p>The <code>&amp;</code> operator retrieves the memory address of a variable.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;x&#x27;s address is %p\n&quot;</span>, &amp;x);</span><br></pre></td></tr></table></figure>

<p>In this example, <code>x</code> is an integer variable, and <code>&amp;x</code> is the memory address of <code>x</code>. The <code>%p</code> format specifier in <code>printf()</code> outputs the memory address.</p>
<p>The function to increment a value could be used like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span>* p)</span> &#123;</span><br><span class="line">  *p = *p + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x = <span class="number">1</span>;</span><br><span class="line">increment(&amp;x);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, x); <span class="comment">// Output: 2</span></span><br></pre></td></tr></table></figure>

<p>Here, after calling <code>increment()</code>, the value of <code>x</code> increases by 1 because the function received the memory address of <code>x</code> (<code>&amp;x</code>).</p>
<p>The <code>&amp;</code> and <code>*</code> operators are inverses of each other, so the following expression is always valid:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (i == *(&amp;i)) <span class="comment">// True</span></span><br></pre></td></tr></table></figure>

<h2 id="Pointer-Initialization"><a href="#Pointer-Initialization" class="headerlink" title="Pointer Initialization"></a>Pointer Initialization</h2><p>When you declare a pointer variable, the compiler allocates memory for the pointer itself, but its value is initially random, meaning the pointer points to a random memory address. You should never read or write to this random address, as it could lead to severe consequences.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* p;</span><br><span class="line">*p = <span class="number">1</span>; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure>

<p>The above code is incorrect because <code>p</code> points to a random address. Writing <code>1</code> to that address can cause unpredictable results.</p>
<p>The correct approach is to assign a valid memory address to the pointer before reading or writing to it. This process is known as pointer initialization.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* p;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"></span><br><span class="line">p = &amp;i;</span><br><span class="line">*p = <span class="number">13</span>;</span><br></pre></td></tr></table></figure>

<p>Here, <code>p</code> is a pointer variable. After declaration, <code>p</code> points to a random memory address. To fix this, we declare an integer <code>i</code> and assign <code>p</code> to point to <code>i</code>â€˜s memory address (<code>p = &amp;i;</code>). After initialization, we can safely assign a value to the memory address <code>p</code> points to (<code>*p = 13;</code>).</p>
<p>To prevent the use of uninitialized pointers, itâ€™s a good practice to set them to <code>NULL</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>* p = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>

<p><code>NULL</code> is a constant in C that represents the memory address <code>0</code>, which is inaccessible. Attempting to read or write to this address will raise an error.</p>
<h2 id="Pointer-Arithmetic"><a href="#Pointer-Arithmetic" class="headerlink" title="Pointer Arithmetic"></a>Pointer Arithmetic</h2><p>Pointers are essentially unsigned integers representing memory addresses, but pointer arithmetic follows its own set of rules.</p>
<ol>
<li><strong>Addition/Subtraction with Integers</strong></li>
</ol>
<p>When you add or subtract an integer to a pointer, it moves the pointer by a certain number of memory units.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">short</span>* j;</span><br><span class="line">j = (<span class="type">short</span>*)<span class="number">0x1234</span>;</span><br><span class="line">j = j + <span class="number">1</span>; <span class="comment">// Now points to 0x1236</span></span><br></pre></td></tr></table></figure>

<p>Here, <code>j</code> is a pointer to a memory address <code>0x1234</code>. Since <code>j</code> is of type <code>short*</code>, adding <code>1</code> moves the pointer by two bytes (the size of a <code>short</code>), resulting in <code>0x1236</code>. Similarly, subtracting <code>1</code> would give <code>0x1232</code>.</p>
<p>The amount by which the pointer moves depends on the size of the data type it points to.</p>
<ol start="2">
<li><strong>Pointer Addition</strong></li>
</ol>
<p>Pointers cannot be added together. This is illegal in C.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">short</span>* j;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">short</span>* k;</span><br><span class="line">x = j + k; <span class="comment">// Illegal</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>Pointer Subtraction</strong></li>
</ol>
<p>You can subtract pointers of the same type. This operation returns the number of data units between them, not the difference in memory addresses.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">short</span>* j1;</span><br><span class="line"><span class="type">short</span>* j2;</span><br><span class="line"></span><br><span class="line">j1 = (<span class="type">short</span>*)<span class="number">0x1234</span>;</span><br><span class="line">j2 = (<span class="type">short</span>*)<span class="number">0x1236</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">ptrdiff_t</span> dist = j2 - j1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%td\n&quot;</span>, dist); <span class="comment">// Output: 1</span></span><br></pre></td></tr></table></figure>

<p>In this example, <code>j1</code> and <code>j2</code> are <code>short</code> pointers, and the difference between their memory addresses is <code>1</code>, because the two pointers are one <code>short</code> value apart (2 bytes).</p>
<ol start="4">
<li><strong>Pointer Comparison</strong></li>
</ol>
<p>You can compare pointers to see which memory address is greater. This comparison returns <code>1</code> (true) or <code>0</code> (false).</p>
]]></content>
      <categories>
        <category>C Tutorial</category>
      </categories>
      <tags>
        <tag>C Programming Language</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis GET å‘½ä»¤</title>
    <url>/2023/05/31/redis-cmd-strings-get/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GET key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>è¿”å› key çš„å€¼ï¼Œå¦‚æœ key ä¸å­˜åœ¨æ—¶ï¼Œè¿”å› nilã€‚ å¦‚æœå­˜å‚¨åœ¨ key çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸º <code>GET</code> å‘½ä»¤åªå¤„ç†å­—ç¬¦ä¸²å€¼ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– <code>foo</code> é”®åœ¨å­˜åœ¨ä¸ä¸å­˜åœ¨ä¸¤ç§æƒ…å†µä¸‹çš„å€¼ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>EXISTS</code> å‘½ä»¤æ£€æŸ¥ <code>foo</code> é”®æ˜¯å¦å­˜åœ¨ï¼Œè¿”å› 0ï¼Œè¡¨ç¤ºä¸å­˜åœ¨ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡ <code>GET</code> å‘½ä»¤è·å– <code>foo</code> çš„å€¼ï¼Œç”±äºé”®ä¸å­˜åœ¨ï¼Œè¿”å› <code>nil</code>ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>SET</code> å‘½ä»¤ç»™ <code>foo</code> é”®è®¾ç½®å­—ç¬¦ä¸²å€¼ <code>&quot;Rain&quot;</code>ã€‚<code>SET</code> å‘½ä»¤è¿”å› OKï¼Œè¡¨ç¤ºè®¾ç½®æˆåŠŸã€‚</p>
<p>æœ€åï¼Œå†æ¬¡ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– <code>foo</code> çš„å€¼ï¼Œè¿™æ¬¡è¿”å› <code>&quot;Rain&quot;</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS foo</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; GET foo</span><br><span class="line">(nil)</span><br><span class="line">redis&gt; SET foo <span class="string">&quot;Rain&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET foo</span><br><span class="line"><span class="string">&quot;Rain&quot;</span></span><br><span class="line">redis&gt; </span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å–å­˜å‚¨å€¼ä¸º <code>list</code> ç±»å‹çš„å€¼æ—¶å‡ºç°çš„é”™è¯¯ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>LPUSH</code> å‘½ä»¤å‘ <code>listkey</code> é”®çš„å·¦ä¾§è¿½åŠ å…ƒç´  <code>&quot;Rain&quot;</code>ã€‚<code>LPUSH</code> è¿”å› 1ï¼Œè¡¨ç¤ºåˆ—è¡¨ç°åœ¨æœ‰ 1 ä¸ªå…ƒç´ ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>LRANGE</code> å‘½ä»¤æŸ¥çœ‹ <code>listkey</code> åˆ—è¡¨çš„å‰ 6 ä¸ªå…ƒç´ ï¼Œå¾—åˆ° <code>[&quot;Rain&quot;]</code>ï¼Œè¯æ˜æˆ‘ä»¬æˆåŠŸæ·»åŠ äº†å…ƒç´ ã€‚</p>
<p>æ¥ç€ï¼Œæ£€æŸ¥ <code>listkey</code> çš„ç±»å‹ï¼Œå¾—åˆ° <code>list</code>ï¼Œç¡®è®¤æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚</p>
<p>æœ€åï¼Œè¯•å›¾ä½¿ç”¨ <code>GET</code> å‘½ä»¤æ¥è¯»å– <code>listkey</code> çš„å€¼ï¼Œä½†æ˜¯å¾—åˆ° WRONGTYPE é”™è¯¯ï¼Œå› ä¸º <code>GET</code> å‘½ä»¤åªèƒ½ç”¨äºå­—ç¬¦ä¸²é”®ï¼Œè€Œ <code>listkey</code> æ˜¯ä¸€ä¸ªåˆ—è¡¨é”®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH listkey <span class="string">&quot;Rain&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; LRANGE listkey 0 5</span><br><span class="line">1) <span class="string">&quot;Rain&quot;</span></span><br><span class="line">redis&gt; TYPE listkey</span><br><span class="line">list</span><br><span class="line">redis&gt; GET listkey</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Text</title>
    <url>/2024/06/18/html-text/</url>
    <content><![CDATA[<p>Historically, web pages were mainly used for displaying text, so HTML includes a variety of text formatting tags.</p>
<h2 id="lt-div-gt"><a href="#lt-div-gt" class="headerlink" title="&lt;div&gt;"></a><code>&lt;div&gt;</code></h2><p>The <code>&lt;div&gt;</code> tag is a generic container that represents a division or section in a document. It has no semantic meaning, so itâ€™s often used as a block-level element when no other suitable tag is available.<br>Its most common use is to provide CSS hooks for styling purposes. In the past, it was common to see deeply nested <code>&lt;div&gt;</code> elements for layout:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>However, this approach can be cumbersome due to the lack of semantics. HTML5 introduced semantic elements to improve this:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Article Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>While <code>&lt;div&gt;</code> is a non-semantic block-level element, it can be used to group images and text, like in a warning section:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;warning.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;Warning&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Be careful<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Use <code>&lt;div&gt;</code> when you need to group elements for styling, but prefer semantic tags (like <code>&lt;article&gt;</code>, <code>&lt;section&gt;</code>, <code>&lt;aside&gt;</code>, <code>&lt;nav&gt;</code>, etc.) whenever possible for better readability and structure.</p>
<h2 id="lt-p-gt"><a href="#lt-p-gt" class="headerlink" title="&lt;p&gt;"></a><code>&lt;p&gt;</code></h2><p>The <code>&lt;p&gt;</code> tag is a block-level element that represents a paragraph. It can enclose any content meant to be displayed as a paragraph, including text, images, or form elements.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello world<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This code creates a simple paragraph.</p>
<h2 id="lt-span-gt"><a href="#lt-span-gt" class="headerlink" title="&lt;span&gt;"></a><code>&lt;span&gt;</code></h2><p>The <code>&lt;span&gt;</code> tag is an inline element with no semantic meaning, meaning it does not cause line breaks. Itâ€™s commonly used as a hook for CSS styling. You can use <code>&lt;span&gt;</code> to apply styles to specific inline content.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a <span class="tag">&lt;<span class="name">span</span>&gt;</span>important<span class="tag">&lt;/<span class="name">span</span>&gt;</span> sentence.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this code, the <code>&lt;span&gt;</code> tag is used to emphasize the word â€œimportantâ€ within the sentence.</p>
<h2 id="lt-br-gt"><a href="#lt-br-gt" class="headerlink" title="&lt;br&gt;"></a><code>&lt;br&gt;</code></h2><p>The <code>&lt;br&gt;</code> tag creates a line break on a webpage. It is a self-closing tag and does not have a closing counterpart.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">hello<span class="tag">&lt;<span class="name">br</span>&gt;</span>world</span><br></pre></td></tr></table></figure>
<p>In this code, the browser renders â€œhelloâ€ and â€œworldâ€ on separate lines.<br>The <code>&lt;br&gt;</code> tag is useful for breaking lines in poems and addresses:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  To see a world in a grain of sand,<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  And a heaven in a wild fllower,<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Hold infinity in the palm of your hand,<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  And eternity in an hour.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Without the <code>&lt;br&gt;</code> tags, this text would appear on a single line.<br>However, for controlling spacing between block-level elements, such as paragraphs, it is better to use CSS rather than multiple <code>&lt;br&gt;</code> tags:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>the first paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>the second paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, using <code>&lt;br&gt;</code> to create space between paragraphs is not ideal. Instead, CSS should be used to manage the spacing.</p>
<p>The <code>&lt;wbr&gt;</code> tag, similar to <code>&lt;br&gt;</code>, indicates optional line break points. If the line width is sufficient, no break occurs; if the width is not enough, a break happens at the <code>&lt;wbr&gt;</code> point. This is particularly useful for long words or URLs to prevent improper line breaks:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  FernstraÃŸen<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>bau<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>privat<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>finanzierungs<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>gesetz</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This code shows a long German word, and the <code>&lt;wbr&gt;</code> tags suggest where line breaks can occur if necessary.</p>
<h2 id="lt-hr-gt"><a href="#lt-hr-gt" class="headerlink" title="&lt;hr&gt;"></a><code>&lt;hr&gt;</code></h2><p>The <code>&lt;hr&gt;</code> tag is used to separate two different topics within an article, and it renders as a horizontal line in browsers. This tag is self-closing and does not require a closing tag.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>First topic<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Second topic<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the example above, a horizontal line appears between the two paragraphs.<br>This tag is considered somewhat outdated. Itâ€™s recommended to use <code>&lt;section&gt;</code> to divide topics and employ CSS if you want to achieve a horizontal line effect.</p>
<h2 id="lt-pre-gt"><a href="#lt-pre-gt" class="headerlink" title="&lt;pre&gt;"></a><code>&lt;pre&gt;</code></h2><p>The <code>&lt;pre&gt;</code> tag is a block-level element used to preserve formatting, meaning browsers keep the original line breaks and spaces within the tag. By default, the content is displayed in a monospaced font.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span>hello</span><br><span class="line"></span><br><span class="line">   world<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, line breaks and multiple spaces are preserved by the <code>&lt;pre&gt;</code> tag, and the browser displays them exactly as written.<br>Note that HTML tags inside <code>&lt;pre&gt;</code> still function. The <code>&lt;pre&gt;</code> tag retains spaces and line breaks but does not preserve HTML tags.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this case, the content within <code>&lt;pre&gt;</code> will be displayed with bold text.</p>
<h2 id="lt-strong-gt-lt-b-gt"><a href="#lt-strong-gt-lt-b-gt" class="headerlink" title="&lt;strong&gt;, &lt;b&gt;"></a><code>&lt;strong&gt;</code>, <code>&lt;b&gt;</code></h2><p>The <code>&lt;strong&gt;</code> element is an inline element that indicates its content is of great importance and should be highlighted. Browsers display this content in bold.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The meeting time is <span class="tag">&lt;<span class="name">strong</span>&gt;</span>2:00 PM<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;b&gt;</code> element, while similar to <code>&lt;strong&gt;</code>, also indicates that its content needs to be emphasized and is displayed in bold by browsers. However, <code>&lt;b&gt;</code> is a stylistic element without semantic meaning, a remnant of older practices. It is a shorthand for â€œBoldface.â€ </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The meeting time is <span class="tag">&lt;<span class="name">b</span>&gt;</span>2:00 PM<span class="tag">&lt;/<span class="name">b</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Due to its lack of semantic value and the principle of separating content from style, itâ€™s recommended to use the <code>&lt;strong&gt;</code> tag instead.</p>
<h2 id="lt-em-gt-lt-i-gt"><a href="#lt-em-gt-lt-i-gt" class="headerlink" title="&lt;em&gt;, &lt;i&gt;"></a><code>&lt;em&gt;</code>, <code>&lt;i&gt;</code></h2><p>The <code>&lt;em&gt;</code> tag is an inline element used to emphasize text. Browsers typically display the content within <code>&lt;em&gt;</code> in italics.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>We have <span class="tag">&lt;<span class="name">em</span>&gt;</span>already<span class="tag">&lt;/<span class="name">em</span>&gt;</span> discussed this matter.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>While browsers usually render <code>&lt;em&gt;</code> text in italics, this is not always guaranteed. Itâ€™s a good practice to use CSS to explicitly define the styling for this tag.<br>The <code>&lt;i&gt;</code> tag is similar to <code>&lt;em&gt;</code>, also used to indicate text with a different style, typically rendered in italics. It stands for â€œItalic.â€</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>I wonder, is this <span class="tag">&lt;<span class="name">i</span>&gt;</span>really<span class="tag">&lt;/<span class="name">i</span>&gt;</span> true?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;i&gt;</code> tag is more of a presentational element and lacks strong semantic meaning. Itâ€™s generally recommended to use <code>&lt;em&gt;</code> for emphasis instead.</p>
<h2 id="lt-sub-gt-lt-sup-gt-lt-var-gt"><a href="#lt-sub-gt-lt-sup-gt-lt-var-gt" class="headerlink" title="&lt;sub&gt;, &lt;sup&gt;, &lt;var&gt;"></a><code>&lt;sub&gt;</code>, <code>&lt;sup&gt;</code>, <code>&lt;var&gt;</code></h2><p>The <code>&lt;sub&gt;</code> tag turns content into subscript, while the <code>&lt;sup&gt;</code> tag turns content into superscript. Both are inline elements, commonly used in mathematical formulas, chemical formulas, and so on.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Water is represented as H<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>O.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;var&gt;</code> tag denotes a variable in code or mathematical formulas.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The Pythagorean theorem is expressed as</span><br><span class="line">  <span class="tag">&lt;<span class="name">var</span>&gt;</span>a<span class="tag">&lt;/<span class="name">var</span>&gt;</span><span class="tag">&lt;<span class="name">sup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sup</span>&gt;</span> + <span class="tag">&lt;<span class="name">var</span>&gt;</span>b<span class="tag">&lt;/<span class="name">var</span>&gt;</span><span class="tag">&lt;<span class="name">sup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sup</span>&gt;</span> = <span class="tag">&lt;<span class="name">var</span>&gt;</span>c<span class="tag">&lt;/<span class="name">var</span>&gt;</span><span class="tag">&lt;<span class="name">sup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br><span class="line">.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="lt-u-gt-lt-s-gt"><a href="#lt-u-gt-lt-s-gt" class="headerlink" title="&lt;u&gt;, &lt;s&gt;"></a><code>&lt;u&gt;</code>, <code>&lt;s&gt;</code></h2><p>The <code>&lt;u&gt;</code> tag is an inline element used to provide a note or indicate a potential issue, primarily for marking spelling errors. By default, browsers render the content with an underline.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>One common misspelling is writing <span class="tag">&lt;<span class="name">em</span>&gt;</span>government<span class="tag">&lt;/<span class="name">em</span>&gt;</span> as <span class="tag">&lt;<span class="name">u</span>&gt;</span>goverment<span class="tag">&lt;/<span class="name">u</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the example above, <code>&lt;u&gt;</code> underlines â€œgovermentâ€ to signal a spelling error.<br>Note that since links also default to underlined text, you should use <code>&lt;u&gt;</code> cautiously to avoid confusing users into thinking the text is clickable. If necessary, consider using CSS to modify the default style of <code>&lt;u&gt;</code>.<br>The <code>&lt;s&gt;</code> tag is an inline element that adds a strikethrough to the content.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Today&#x27;s special: <span class="tag">&lt;<span class="name">s</span>&gt;</span>Salmon<span class="tag">&lt;/<span class="name">s</span>&gt;</span> (Sold out)<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, â€œSalmonâ€ will be displayed with a strikethrough.</p>
<h2 id="lt-blockquote-gt-lt-cite-gt-lt-q-gt"><a href="#lt-blockquote-gt-lt-cite-gt-lt-q-gt" class="headerlink" title="&lt;blockquote&gt;, &lt;cite&gt;, &lt;q&gt;"></a><code>&lt;blockquote&gt;</code>, <code>&lt;cite&gt;</code>, <code>&lt;q&gt;</code></h2><p>The <code>&lt;blockquote&gt;</code> tag is a block-level element used to indicate a quotation from someone else. Browsers typically display it with styling that sets it apart from normal text.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">&quot;https://quote.example.com&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Genius is 1% inspiration and 99% perspiration.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;blockquote&gt;</code> tag includes a <code>cite</code> attribute, which specifies the source of the quotation. This URL does not appear on the webpage itself.<br>The <code>&lt;cite&gt;</code> tag is used to reference the source of a quotation or the authorâ€™s name. Browsers typically display content inside <code>&lt;cite&gt;</code> in italics.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">&quot;https://quote.example.com&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Genius is 1% inspiration and 99% perspiration.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cite</span>&gt;</span>-- Thomas Edison<span class="tag">&lt;/<span class="name">cite</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;cite&gt;</code> tag does not need to be used with <code>&lt;blockquote&gt;</code>. It can also be used on its own to refer to sources mentioned in the text.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>For more information, see <span class="tag">&lt;<span class="name">cite</span>&gt;</span>Wikipedia<span class="tag">&lt;/<span class="name">cite</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;q&gt;</code> tag is an inline element that also represents a quotation. Unlike <code>&lt;blockquote&gt;</code>, it does not create a line break.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  A famous line from Shakespeare&#x27;s Hamlet is:</span><br><span class="line">  <span class="tag">&lt;<span class="name">q</span> <span class="attr">cite</span>=<span class="string">&quot;https://quote.example.com&quot;</span>&gt;</span>To be or not to be, that is the question.<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, the quotation appears on the same line as the surrounding text.<br>Similar to <code>&lt;blockquote&gt;</code>, the <code>&lt;q&gt;</code> tag also has a <code>cite</code> attribute for specifying the source of the quotation. By default, browsers display <code>&lt;q&gt;</code> content in italics and automatically add quotation marks. Therefore, be cautious when quoting text in languages that use different quotation marks.</p>
<h2 id="lt-code-gt"><a href="#lt-code-gt" class="headerlink" title="&lt;code&gt;"></a><code>&lt;code&gt;</code></h2><p>The <code>&lt;code&gt;</code> tag is an inline element used to display computer code. By default, browsers render the content inside <code>&lt;code&gt;</code> using a monospaced font.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>alert()<span class="tag">&lt;/<span class="name">code</span>&gt;</span>function displays a popup alert box on a webpage.</span><br></pre></td></tr></table></figure>
<p>To represent multiple lines of code, you should place the <code>&lt;code&gt;</code> tag inside a <code>&lt;pre&gt;</code> tag. The <code>&lt;code&gt;</code> tag itself only handles single-line code snippets.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span></span><br><span class="line">  let a = 1;</span><br><span class="line">  console.log(a);</span><br><span class="line"><span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="lt-kbd-gt-lt-samp-gt"><a href="#lt-kbd-gt-lt-samp-gt" class="headerlink" title="&lt;kbd&gt;, &lt;samp&gt;"></a><code>&lt;kbd&gt;</code>, <code>&lt;samp&gt;</code></h2><p>The <code>&lt;kbd&gt;</code> tag is an inline element originally intended to represent user keyboard input, but it now also includes other types of input, such as voice commands. Browsers display the content inside <code>&lt;kbd&gt;</code> using a monospaced font.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>On Windows, you can press <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Ctrl<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> + <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Shift<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> + <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Del<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> to restart.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;kbd&gt;</code> tag can be nested, which helps in styling multiple key combinations:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>On Windows, you can press </span><br><span class="line"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span><span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Ctrl<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> + <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Shift<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> + <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Del<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span><span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> to restart.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The <code>&lt;samp&gt;</code> tag is an inline element used to represent sample output from a computer program. By default, browsers display content inside <code>&lt;samp&gt;</code> with a monospaced font.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>If you use an undefined variable, the browser will throw an error:</span><br><span class="line"><span class="tag">&lt;<span class="name">samp</span>&gt;</span>Uncaught ReferenceError: foo is not defined<span class="tag">&lt;/<span class="name">samp</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="lt-mark-gt"><a href="#lt-mark-gt" class="headerlink" title="&lt;mark&gt;"></a><code>&lt;mark&gt;</code></h2><p>The <code>&lt;mark&gt;</code> tag is an inline element used to highlight text. In Chrome, the default display is a bright yellow background for the highlighted content.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>After discussion, we decided that the <span class="tag">&lt;<span class="name">mark</span>&gt;</span>games will be held next Wednesday<span class="tag">&lt;/<span class="name">mark</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;mark&gt;</code> tag is also useful for highlighting important sentences within quoted content, such as in <code>&lt;q&gt;</code> or <code>&lt;blockquote&gt;</code> elements:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">&quot;https://quote.example.com&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Genius is 1% <span class="tag">&lt;<span class="name">mark</span>&gt;</span>inspiration<span class="tag">&lt;/<span class="name">mark</span>&gt;</span> and 99% <span class="tag">&lt;<span class="name">mark</span>&gt;</span>perspiration<span class="tag">&lt;/<span class="name">mark</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Besides highlighting interesting text, <code>&lt;mark&gt;</code> can be used to highlight matching keywords in search results.<br>Note that the <code>&lt;mark&gt;</code> tag should not be used solely for visual highlighting, as browser handling may vary. For consistent highlighting, it is better to use CSS styles.</p>
<h2 id="lt-small-gt"><a href="#lt-small-gt" class="headerlink" title="&lt;small&gt;"></a><code>&lt;small&gt;</code></h2><p>The <code>&lt;small&gt;</code> tag is an inline element that displays its content in a smaller font size by default, without needing additional CSS styles. It is often used for supplementary information like copyright or legal notices.</p>
<p>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Main content of the article.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">small</span>&gt;</span>Content licensed under Creative Commons.<span class="tag">&lt;/<span class="name">small</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="lt-time-gt-lt-data-gt"><a href="#lt-time-gt-lt-data-gt" class="headerlink" title="&lt;time&gt;, &lt;data&gt;"></a><code>&lt;time&gt;</code>, <code>&lt;data&gt;</code></h2><p>The <code>&lt;time&gt;</code> tag is an inline element that provides a machine-readable format for dates and times.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The sports meet is scheduled to take place on <span class="tag">&lt;<span class="name">time</span> <span class="attr">datetime</span>=<span class="string">&quot;2015-06-10&quot;</span>&gt;</span>next Wednesday<span class="tag">&lt;/<span class="name">time</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, <code>&lt;time&gt;</code> specifies the exact date for â€œnext Wednesday.â€ This makes it easier for search engines to index or for other processes to handle.<br>The <code>datetime</code> attribute of the <code>&lt;time&gt;</code> tag is used to specify a machine-readable date, and it can have various formats:</p>
<ul>
<li>Year only: <code>2011</code></li>
<li>Year and month: <code>2011-11</code></li>
<li>Year, month, and day: <code>2011-11-18</code></li>
<li>Month and day only: <code>11-18</code></li>
<li>Week of the year: <code>2011-W47</code></li>
<li>Time only: <code>14:54</code>, <code>14:54:39</code>, <code>14:54:39.929</code></li>
<li>Date and time: <code>2011-11-18T14:54:39.929</code></li>
</ul>
<p>For instance:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The concert starts at <span class="tag">&lt;<span class="name">time</span> <span class="attr">datetime</span>=<span class="string">&quot;20:00&quot;</span>&gt;</span>8 PM<span class="tag">&lt;/<span class="name">time</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The <code>&lt;data&gt;</code> tag is similar to <code>&lt;time&gt;</code>, providing machine-readable content but for non-time-related information.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The first place in the marathon is <span class="tag">&lt;<span class="name">data</span> <span class="attr">value</span>=<span class="string">&quot;39&quot;</span>&gt;</span>John Doe<span class="tag">&lt;/<span class="name">data</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here, the machine-readable data for the runnerâ€™s position is stored in the <code>value</code> attribute of the <code>&lt;data&gt;</code> tag.</p>
<h2 id="lt-address-gt"><a href="#lt-address-gt" class="headerlink" title="&lt;address&gt;"></a><code>&lt;address&gt;</code></h2><p>The <code>&lt;address&gt;</code> tag is a block-level element used to specify contact information for a person or organization.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Author&#x27;s contact details:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:foo@example.com&quot;</span>&gt;</span>foo@example.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tel:+555-34762301&quot;</span>&gt;</span>+555-34762301<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here are some important points to keep in mind when using the <code>&lt;address&gt;</code> tag:</p>
<ol>
<li>Use <code>&lt;address&gt;</code> only for contact information, not for addresses mentioned in the text (e.g., a previous address before a move).</li>
<li>The content of the <code>&lt;address&gt;</code> tag should not include non-contact information, such as publication dates.</li>
<li><code>&lt;address&gt;</code> cannot be nested and should not contain heading tags (<code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code>) or other structural elements like <code>&lt;article&gt;</code>, <code>&lt;aside&gt;</code>, <code>&lt;section&gt;</code>, <code>&lt;nav&gt;</code>, <code>&lt;header&gt;</code>, or <code>&lt;footer&gt;</code>.</li>
<li>Typically, the <code>&lt;address&gt;</code> tag is placed inside a <code>&lt;footer&gt;</code>. Hereâ€™s an example:<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">    For questions related to this article, contact <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mailto:zhangsan@example.com&quot;</span>&gt;</span>Zhang San McClure<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="lt-abbr-gt"><a href="#lt-abbr-gt" class="headerlink" title="&lt;abbr&gt;"></a><code>&lt;abbr&gt;</code></h2><p>The <code>&lt;abbr&gt;</code> tag is an inline element used to indicate that the content is an abbreviation. The <code>title</code> attribute provides the full form or description of the abbreviation. When you hover over the element, the value of the <code>title</code> attribute is displayed as a tooltip.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;HyperText Markup Language&quot;</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Note that some browsers may underline the abbreviation with a dot.</p>
<h2 id="lt-ins-gt-lt-del-gt"><a href="#lt-ins-gt-lt-del-gt" class="headerlink" title="&lt;ins&gt;, &lt;del&gt;"></a><code>&lt;ins&gt;</code>, <code>&lt;del&gt;</code></h2><p>The <code>&lt;ins&gt;</code> tag is an inline element used to indicate content that has been added to a document. Similarly, the <code>&lt;del&gt;</code> tag denotes content that has been removed. These tags are commonly used to show edits to a document.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>The meeting was scheduled for May 8.<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">del</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>The meeting is now scheduled for May 9.<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>By default, browsers render the content of the <code>&lt;del&gt;</code> tag with a strikethrough, while the <code>&lt;ins&gt;</code> tag content is underlined.<br>Both tags support the following attributes:</p>
<ul>
<li><code>cite</code>: Provides a URL that explains the reason for the edit.</li>
<li><code>datetime</code>: Specifies when the edit took place.</li>
</ul>
<p>Example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ins</span> <span class="attr">cite</span>=<span class="string">&quot;./why.html&quot;</span> <span class="attr">datetime</span>=<span class="string">&quot;2018-05&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>The project is now ending two weeks earlier than originally planned.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="lt-dfn-gt"><a href="#lt-dfn-gt" class="headerlink" title="&lt;dfn&gt;"></a><code>&lt;dfn&gt;</code></h2><p>The <code>&lt;dfn&gt;</code> element is an inline element used to mark a term that is being defined. The termâ€™s definition should be included in the surrounding context.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>A global network of interconnected computers using the TCP/IP protocol is called the <span class="tag">&lt;<span class="name">dfn</span>&gt;</span>Internet<span class="tag">&lt;/<span class="name">dfn</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>For convenience in scripting, you can include the termâ€™s definition in the <code>&lt;dfn&gt;</code> tagâ€™s <code>title</code> attribute.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>A global network of interconnected computers using the TCP/IP protocol is called the </span><br><span class="line">  <span class="tag">&lt;<span class="name">dfn</span> <span class="attr">title</span>=<span class="string">&quot;Global network of interconnected computers&quot;</span>&gt;</span>Internet<span class="tag">&lt;/<span class="name">dfn</span>&gt;</span>.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, the <code>title</code> attribute causes the definition to appear as a tooltip when the mouse hovers over the term.</p>
<p>Sometimes a term itself is an abbreviation. In such cases, <code>&lt;dfn&gt;</code> and <code>&lt;abbr&gt;</code> can be used together.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  The full form of <span class="tag">&lt;<span class="name">dfn</span>&gt;</span><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;acquired immune deficiency syndrome&quot;</span>&gt;</span>AIDS<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span><span class="tag">&lt;/<span class="name">dfn</span>&gt;</span> is Acquired Immune Deficiency Syndrome.</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="lt-ruby-gt"><a href="#lt-ruby-gt" class="headerlink" title="&lt;ruby&gt;"></a><code>&lt;ruby&gt;</code></h2><p>The <code>&lt;ruby&gt;</code> tag is used to add phonetic annotations to text, primarily for East Asian languages like Chinese and Japanese. It typically displays these annotations in a smaller font above the main text.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ruby</span>&gt;</span></span><br><span class="line">æ±‰<span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>han<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">å­—<span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>zi<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the rendered output, this code shows the Chinese characters with the pinyin annotations â€œhan ziâ€ above them.<br>The <code>&lt;ruby&gt;</code> tag is an inline element and a container. To use phonetic annotations, you must place both the text and the annotations within this tag.<br>Inside <code>&lt;ruby&gt;</code>, there are several related tags:</p>
<ol>
<li><p><code>&lt;rp&gt;</code>: The <code>&lt;rp&gt;</code> tag provides a fallback for browsers that do not support phonetic annotations. For these browsers, it displays the annotations in parentheses.For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ruby</span>&gt;</span></span><br><span class="line">æ±‰<span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>han<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">å­—<span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>zi<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In browsers that do not support annotations, this renders as <code>æ±‰(han)å­—(zi)</code>. For supporting browsers, the parentheses are not displayed.</p>
</li>
<li><p><code>&lt;rt&gt;</code>: The <code>&lt;rt&gt;</code> tag contains the phonetic annotations.</p>
</li>
<li><p><code>&lt;rb&gt;</code>: The <code>&lt;rb&gt;</code> tag is used to separate text units and corresponds one-to-one with <code>&lt;rt&gt;</code> tags.For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ruby</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rb</span>&gt;</span>æ±‰<span class="tag">&lt;/<span class="name">rb</span>&gt;</span><span class="tag">&lt;<span class="name">rb</span>&gt;</span>å­—<span class="tag">&lt;/<span class="name">rb</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rt</span>&gt;</span>han<span class="tag">&lt;/<span class="name">rt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rt</span>&gt;</span>zi<span class="tag">&lt;/<span class="name">rt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Here, each Chinese character is wrapped in <code>&lt;rb&gt;</code> tags to match the <code>&lt;rt&gt;</code> annotations. </p>
</li>
<li><p><code>&lt;rbc&gt;</code>** and **<code>&lt;rtc&gt;</code>: The <code>&lt;rbc&gt;</code> tag groups a set of text units, usually containing multiple <code>&lt;rb&gt;</code> elements. The <code>&lt;rtc&gt;</code> tag groups corresponding phonetic annotations. For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ruby</span> <span class="attr">style</span>=<span class="string">&quot;ruby-position: under;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rbc</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rb</span>&gt;</span>æ±‰<span class="tag">&lt;/<span class="name">rb</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>han<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rb</span>&gt;</span>å­—<span class="tag">&lt;/<span class="name">rb</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>zi<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rbc</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rtc</span> <span class="attr">style</span>=<span class="string">&quot;ruby-position: over;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rp</span>&gt;</span>(<span class="tag">&lt;/<span class="name">rp</span>&gt;</span><span class="tag">&lt;<span class="name">rt</span>&gt;</span>Chinese<span class="tag">&lt;/<span class="name">rt</span>&gt;</span><span class="tag">&lt;<span class="name">rp</span>&gt;</span>)<span class="tag">&lt;/<span class="name">rp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rtc</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ruby</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In this example, there are two sets of annotations for the Chinese characters: pinyin and English. One set is placed in <code>&lt;rbc&gt;</code> and the other in <code>&lt;rtc&gt;</code>, with styles specifying that pinyin appears below the text and English above it.Note that Chrome does not currently support these tags either.</p>
<h2 id="lt-bdo-gt-lt-bdi-gt"><a href="#lt-bdo-gt-lt-bdi-gt" class="headerlink" title="&lt;bdo&gt;, &lt;bdi&gt;"></a><code>&lt;bdo&gt;</code>, <code>&lt;bdi&gt;</code></h2><p>Most text is read left to right, but some languages, like Arabic and Hebrew, are read right to left. The <code>&lt;bdo&gt;</code> tag is an inline element that overrides the text direction for specific content.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>To be or not to be, <span class="tag">&lt;<span class="name">bdo</span> <span class="attr">dir</span>=<span class="string">&quot;rtl&quot;</span>&gt;</span>noitseuq eht si taht<span class="tag">&lt;/<span class="name">bdo</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>In the above code, the text inside <code>&lt;bdo&gt;</code> will be rendered in the opposite direction, resulting in â€œTo be, or not to be, that is the questionâ€.<br>The <code>dir</code> attribute of <code>&lt;bdo&gt;</code> specifies the text direction, with <code>ltr</code> for left-to-right and <code>rtl</code> for right-to-left.<br>The <code>&lt;bdi&gt;</code> tag is used for text with an unknown direction, such as user input. It tells the browser to determine the text direction on its own.<br>For example:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">bdi</span>&gt;</span>To be, or not to be, that is the question.<span class="tag">&lt;/<span class="name">bdi</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>Link to original article:<br><a href="https://wangdoc.com/html/text">https://wangdoc.com/html/text</a></p>
]]></content>
      <categories>
        <category>HTML Tutorial</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis GETEX å‘½ä»¤</title>
    <url>/2023/06/02/redis-cmd-strings-getex/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GETEX key [EX seconds | PX milliseconds | EXAT unix-time-seconds |</span><br><span class="line">  PXAT unix-time-milliseconds | PERSIST]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 6.2.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>è·å– <code>key</code> çš„å€¼ï¼Œå¹¶å¯ä»¥é€‰æ‹©è®¾ç½®å…¶è¿‡æœŸæ—¶é—´ã€‚<code>GETEX</code> ä¸ <code>GET</code> ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå¸¦æœ‰é¢å¤–é€‰é¡¹çš„å†™å‘½ä»¤ã€‚</p>
<h2 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h2><p><code>GETEX</code> å‘½ä»¤æ”¯æŒä»¥ä¸‹é€‰é¡¹æ¥ä¿®æ”¹å®ƒçš„è¡Œä¸ºï¼š</p>
<p><code>EX</code> seconds â€“ è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚</p>
<p><code>PX</code> milliseconds â€“ è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</p>
<p><code>EXAT</code> timestamp-seconds â€“ è®¾ç½®æŒ‡å®šçš„ Unix æ—¶é—´ï¼Œkey å°†åœ¨è¯¥æ—¶é—´è¿‡æœŸï¼Œå•ä½æ˜¯ç§’ã€‚</p>
<p><code>PXAT</code> timestamp-milliseconds â€“ è®¾ç½®æŒ‡å®šçš„ Unix æ—¶é—´ï¼Œkey å°†åœ¨è¯¥æ—¶é—´è¿‡æœŸï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</p>
<p><code>PERSIST</code> â€“ åˆ é™¤ key çš„è¿‡æœŸæ—¶é—´ï¼Œå³ key æ°¸ä¸è¿‡æœŸã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å› <code>key</code> çš„å€¼ï¼Œå¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>nil</code>ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å¯¹å·²å­˜åœ¨çš„ key è¿›è¡Œ <code>GETEX</code> æ“ä½œï¼š</p>
<ol>
<li>ä½¿ç”¨ <code>SET</code> å‘½ä»¤è®¾ç½®ä¸€ä¸ªé”® <code>username</code> çš„å€¼ä¸º <code>&quot;johnson&quot;</code>ã€‚æ­¤æ—¶é”®æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ <code>TTL</code> å‘½ä»¤è¿”å› -1ã€‚</li>
<li>ä½¿ç”¨ <code>GETEX</code> å‘½ä»¤è·å– <code>username</code> çš„å€¼ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º 10 ç§’ã€‚æ‰€ä»¥ <code>TTL</code> å‘½ä»¤ç°åœ¨è¿”å› 9ï¼ˆä¸¤æ¬¡å‘½ä»¤é—´éš”äº† 1 ç§’ï¼‰ã€‚</li>
<li>é”®è¿‡æœŸåï¼Œ<code>TTL</code> å‘½ä»¤è¿”å› -2ï¼Œè¡¨ç¤ºé”®å·²è¿‡æœŸã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GETEX username</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">redis&gt; GETEX username EX 10</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) 9</span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>ä½¿ç”¨ <code>PX</code> é€‰é¡¹ï¼Œè¿”å› key çš„å€¼ï¼ŒåŒæ—¶å°† key çš„è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º 60000 æ¯«ç§’ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GETEX username PX 60000</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) 55</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>ä½¿ç”¨ <code>EXAT</code> é€‰é¡¹ï¼Œè¿”å› key çš„å€¼ï¼ŒåŒæ—¶å°† key çš„è¿‡æœŸæ—¶é—´è®¾ç½®åœ¨ <code>2023-06-03 01:00:00</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GETEX username EXAT 1685725200</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) 15708</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4"></a>ç¤ºä¾‹ 4</h2><p>ä½¿ç”¨ <code>PXAT</code> é€‰é¡¹ï¼Œè¿”å› key çš„å€¼ï¼ŒåŒæ—¶å°† key çš„è¿‡æœŸæ—¶é—´è®¾ç½®åœ¨ <code>2023-06-03 01:00:00</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GETEX username PXAT 1685725200000</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) 15425</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5"></a>ç¤ºä¾‹ 5</h2><p>ä½¿ç”¨ <code>PERSIST</code> é€‰é¡¹ï¼Œè¿”å› key çš„å€¼ï¼ŒåŒæ—¶ç§»é™¤ key çš„è¿‡æœŸæ—¶é—´ï¼Œå³ä¸è®©è¯¥ key è‡ªåŠ¨è¿‡æœŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) 15336</span><br><span class="line">redis&gt; GETEX username PERSIST</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; TTL username</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis GETRANGE å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-getrange/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GETRANGE key start end</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.4.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$</p>
<p>å…¶ä¸­ N æ˜¯è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æœ€ç»ˆçš„å¤æ‚åº¦ç”±è¿”å›çš„é•¿åº¦å†³å®šï¼Œä½†æ˜¯ä»å·²å­˜åœ¨çš„å­—ç¬¦ä¸²ä¸­åˆ›å»ºå­å­—ç¬¦ä¸²çš„æˆæœ¬éå¸¸ä½ï¼Œå¯¹äºçŸ­å­—ç¬¦ä¸²å¯ä»¥çœ‹ä½œ $O(1)$ã€‚</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è¿”å›å­˜å‚¨åœ¨ <code>key</code> ä¸­çš„å­—ç¬¦ä¸²å€¼çš„å­å­—ç¬¦ä¸²ï¼Œç”±åç§»é‡ <code>start</code> å’Œ <code>end</code> ç¡®å®šï¼ˆä¸¤è€…éƒ½æ˜¯åŒ…æ‹¬åœ¨å†…çš„ï¼‰ã€‚å¯ä»¥ä½¿ç”¨è´Ÿåç§»é‡ä»¥æä¾›ä»å­—ç¬¦ä¸²æœ«å°¾å¼€å§‹çš„åç§»é‡ã€‚å³ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2 è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªï¼Œç­‰ç­‰ã€‚</p>
<p>è¯¥å‡½æ•°é€šè¿‡å°†ç»“æœèŒƒå›´é™åˆ¶ä¸ºå­—ç¬¦ä¸²çš„å®é™…é•¿åº¦æ¥å¤„ç†è¶…å‡ºèŒƒå›´çš„è¯·æ±‚ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å› <code>key</code> ä¸­å­—ç¬¦ä¸²å€¼çš„å­å­—ç¬¦ä¸²ã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>è®¾ç½® <code>tt</code> çš„å€¼ä¸º <code>Rain rain go away</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET tt <span class="string">&quot;Rain rain go away&quot;</span></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p>è·å– <code>tt</code> çš„å€¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GET tt</span><br><span class="line"><span class="string">&quot;Rain rain go away&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>tt</code> å‰å››ä¸ªå­—ç¬¦ç»„æˆçš„å­å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GETRANGE tt 0 3</span><br><span class="line"><span class="string">&quot;Rain&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>è¿”å› <code>tt</code> æœ«å°¾ä¸ƒä¸ªå­—ç¬¦ç»„æˆçš„å­å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GETRANGE tt -7 -1</span><br><span class="line"><span class="string">&quot;go away&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis GETSET å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-getset/</url>
    <content><![CDATA[<div class="note orange icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>ä» Redis ç‰ˆæœ¬ 6.2.0 å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«è§†ä¸º<strong>å·²å¼ƒç”¨</strong> ã€‚</p >
<p>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°ä»£ç æ—¶ï¼Œå¯ä»¥å°†å…¶æ›¿æ¢ä¸ºå¸¦æœ‰ `GET` å‚æ•°çš„ `SET` å‘½ä»¤ã€‚</p>
</div>

<blockquote>
<p>ä» Redis ç‰ˆæœ¬ 6.2.0 å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«è§†ä¸º<strong>å·²å¼ƒç”¨</strong>ã€‚<br>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°ä»£ç æ—¶ï¼Œå¯ä»¥å°†å…¶æ›¿æ¢ä¸ºå¸¦æœ‰ <code>GET</code> å‚æ•°çš„ <code>SET</code> å‘½ä»¤ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GETSET key value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>åŸå­åœ°å°† <code>key</code> è®¾ç½®ä¸º <code>value</code>ï¼Œå¹¶è¿”å›å­˜å‚¨åœ¨ <code>key</code> ä¸­çš„æ—§å€¼ã€‚å½“ <code>key</code> å­˜åœ¨ä½†å­˜å‚¨çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹æ—¶è¿”å›é”™è¯¯ã€‚æˆåŠŸçš„ <code>SET</code> æ“ä½œä¼šä¸¢å¼ƒä¸é”®å…³è”çš„ä»»ä½•è¿‡æœŸæ—¶é—´ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›å­˜å‚¨åœ¨ key ä¸­çš„æ—§å€¼ã€‚ å½“ key æ²¡æœ‰æ—§å€¼ï¼ˆå³ key ä¸å­˜åœ¨ï¼‰æ—¶ï¼Œè¿”å› <code>nil</code>ã€‚</p>
<p>å½“ key å­˜åœ¨ä½†å­˜å‚¨çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œè¿”å›é”™è¯¯ã€‚</p>
<h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><p><code>GETSET</code> å¯ä»¥ä¸ <code>INCR</code> ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºåŸå­é‡ç½®è®¡æ•°ã€‚ä¾‹å¦‚ï¼šè¿›ç¨‹å¯èƒ½ä¼šåœ¨æ¯æ¬¡å‘ç”ŸæŸäº›äº‹ä»¶æ—¶é’ˆå¯¹é”® <code>mycounter</code> è°ƒç”¨ <code>INCR</code>ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦è·å–è®¡æ•°å™¨çš„å€¼å¹¶å°†å…¶è‡ªåŠ¨é‡ç½®ä¸ºé›¶ã€‚è¿™å¯ä»¥ä½¿ç”¨ <code>GETSET mycounter &quot;0&quot;</code> æ¥å®Œæˆï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; INCR mycounter</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; GETSET mycounter <span class="string">&quot;0&quot;</span></span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">redis&gt; GET mycounter</span><br><span class="line"><span class="string">&quot;0&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å¯¹è®¾æœ‰è¿‡æœŸæ—¶é—´ï¼Œä¸”å­˜å‚¨å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„ key è¿›è¡Œ <code>GETSET</code> æ“ä½œï¼š</p>
<p>1ï¼‰è®¾ç½®é”® name çš„å€¼ä¸º â€œJohnâ€ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º 600 ç§’ã€‚</p>
<p>2ï¼‰è·å– name çš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼Œæ­¤æ—¶æ˜¯ 595 ç§’ã€‚</p>
<p>3ï¼‰ä»¥æ–°å€¼ â€œJohnson Linâ€ æ›¿æ¢æ—§å€¼ â€œJohnâ€ï¼Œå¹¶è¿”å›æ—§å€¼ â€œJohnâ€ã€‚</p>
<p>4ï¼‰å› ä¸ºä½¿ç”¨äº† <code>GETSET</code> å‘½ä»¤ï¼Œæ‰€ä»¥ name çš„è¿‡æœŸæ—¶é—´è¢«åˆ é™¤ï¼Œæ­¤æ—¶ name æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œè¿”å› -1ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET name <span class="string">&quot;John&quot;</span> EX 600</span><br><span class="line">OK</span><br><span class="line">redis&gt; TTL name</span><br><span class="line">(<span class="built_in">integer</span>) 595</span><br><span class="line">redis&gt; GETSET name <span class="string">&quot;Johnson Lin&quot;</span></span><br><span class="line"><span class="string">&quot;John&quot;</span></span><br><span class="line">redis&gt; TTL name</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å¯¹å­˜å‚¨å€¼ä¸º <code>list</code> ç±»å‹çš„ key è¿›è¡Œ <code>GETSET</code> æ“ä½œï¼Œè¿”å› <code>WRONGTYPE Operation against a key holding the wrong kind of value</code> é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH list_key <span class="string">&quot;Rain rain&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; TYPE list_key</span><br><span class="line">list</span><br><span class="line">redis&gt; GETSET list_key <span class="string">&quot;Go go&quot;</span></span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å¯¹ä¸å­˜åœ¨çš„ key è¿›è¡Œ <code>GETSET</code> æ“ä½œï¼Œç»“æœè¿”å› <code>nil</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS foo</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; GETSET foo <span class="string">&quot;Rain&quot;</span></span><br><span class="line">(nil)</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis DECRBY å‘½ä»¤</title>
    <url>/2023/06/02/redis-cmd-strings-decrby/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DECRBY key decrement</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°†å­˜å‚¨åœ¨ <code>key</code> çš„æ•°å­—å€¼å‡å» <code>decrement</code>ã€‚å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™å…ˆå°† <code>key</code> çš„å€¼åˆå§‹åŒ–ä¸º 0ï¼Œç„¶åå†æ‰§è¡Œ <code>DECRBY</code> æ“ä½œã€‚å¦‚æœ <code>key</code> åŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼æˆ–åŒ…å«ä¸€ä¸ªä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›é”™è¯¯ã€‚è¿™ä¸ªæ“ä½œä»…é™äº 64 ä½æœ‰ç¬¦å·çš„æ•´æ•°ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰§è¡Œ <code>DECRBY</code> æ“ä½œåï¼Œ<code>key</code> å¯¹åº”çš„å€¼ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å¯¹å·²å­˜åœ¨ä¸”å…¶å€¼ç±»å‹ä¸ºæ•´æ•°çš„ key è¿›è¡Œ <code>DECRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET cnt 1000</span><br><span class="line">OK</span><br><span class="line">redis&gt; DECRBY cnt 1</span><br><span class="line">(<span class="built_in">integer</span>) 999</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å¯¹ä¸å­˜åœ¨çš„ key è¿›è¡Œ <code>DECRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS cnt</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; DECRBY cnt 1</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">redis&gt; GET cnt</span><br><span class="line"><span class="string">&quot;-1&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å¯¹å·²å­˜åœ¨ã€ä½†å€¼ç±»å‹ä¸ºåˆ—è¡¨çš„ key è¿›è¡Œ <code>DECRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH user_list johnsonlin</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; TYPE user_list</span><br><span class="line">list</span><br><span class="line">redis&gt; LRANGE user_list 0 10</span><br><span class="line">1) <span class="string">&quot;johnsonlin&quot;</span></span><br><span class="line">redis&gt; DECRBY user_list 10</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4"></a>ç¤ºä¾‹ 4</h2><p>å¯¹å·²å­˜åœ¨ä¸”å…¶å€¼ä¸º $-2^{63}$ï¼ˆå³ 64 ä½æœ‰ç¬¦å·æ•´æ•°çš„æœ€å°å€¼ -9223372036854775808ï¼‰çš„ key è¿›è¡Œ <code>DECRBY</code> æ“ä½œï¼Œå¯¼è‡´æ•´æ•°æº¢å‡ºé”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET bigint_min <span class="string">&quot;-9223372036854775808&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; DECRBY bigint_min 1</span><br><span class="line">(error) ERR increment or decrement would overflow</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>64 ä½æœ‰ç¬¦å·æ•´æ•°çš„æ•°å€¼èŒƒå›´ï¼š[-9223372036854775808, 9223372036854775807]</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis INCR å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-incr/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INCR key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°†å­˜å‚¨åœ¨é”®ä¸Šçš„æ•°å­—å€¼å¢åŠ  1ã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåœ¨æ‰§è¡Œæ“ä½œå‰å…ˆå°†å…¶è®¾ç½®ä¸º 0ã€‚å¦‚æœé”®åŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼ï¼Œæˆ–è€…åŒ…å«ä¸€ä¸ªä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚è¯¥æ“ä½œä»…é™äº 64 ä½æœ‰ç¬¦å·çš„æ•´æ•°ã€‚</p>
<p>æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ“ä½œï¼Œå› ä¸º Redis æ²¡æœ‰ä¸“é—¨çš„æ•´æ•°ç±»å‹ã€‚å­˜å‚¨åœ¨é”®ä¸­çš„å­—ç¬¦ä¸²è¢«è§£é‡Šä¸ºä»¥ 10 ä¸ºåŸºæ•°çš„ 64 ä½å¸¦ç¬¦å·æ•´æ•°ä»¥æ‰§è¡Œæ“ä½œã€‚</p>
<p>Redis ä»¥å…¶æ•´æ•°è¡¨ç¤ºæ³•å­˜å‚¨æ•´æ•°ï¼Œå› æ­¤å¯¹äºå®é™…åŒ…å«æ•´æ•°çš„å­—ç¬¦ä¸²å€¼ï¼Œå­˜å‚¨æ•´æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•æ²¡æœ‰å¼€é”€ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰§è¡Œ <code>DECR</code> æ“ä½œåï¼Œ<code>key</code> å¯¹åº”çš„å€¼ã€‚</p>
<h2 id="æ¨¡å¼ï¼šè®¡æ•°å™¨"><a href="#æ¨¡å¼ï¼šè®¡æ•°å™¨" class="headerlink" title="æ¨¡å¼ï¼šè®¡æ•°å™¨"></a>æ¨¡å¼ï¼šè®¡æ•°å™¨</h2><p>ä½¿ç”¨ Redis åŸå­å¢é‡æ“ä½œå¯ä»¥åšçš„æœ€ç®€å•çš„äº‹æƒ…å°±æ˜¯è®¡æ•°å™¨æ¨¡å¼ã€‚å…¶æ€æƒ³å°±æ˜¯æ¯æ¬¡æ“ä½œå‘ç”Ÿæ—¶å‘ Redis å‘é€ <code>INCR</code> å‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œåœ¨ Web åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦çŸ¥é“æŸä¸ªç”¨æˆ·æ¯å¤©è®¿é—®äº†å¤šå°‘é¡µé¢ã€‚</p>
<p>ä¸ºæ­¤ï¼ŒWeb åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ç”¨æˆ·æ¯æ¬¡æµè§ˆé¡µé¢æ—¶ï¼Œç®€å•åœ°é€’å¢ä¸€ä¸ªé”®â€”â€”é€šè¿‡å°†ç”¨æˆ· ID å’Œè¡¨ç¤ºå½“å‰æ—¥æœŸçš„å­—ç¬¦ä¸²è¿æ¥æ¥åˆ›å»ºé”®åã€‚</p>
<p>è¿™ä¸ªç®€å•çš„æ¨¡å¼å¯ä»¥ä»¥å¤šç§æ–¹å¼æ‰©å±•ï¼Œå¦‚ï¼š</p>
<ul>
<li>å¯ä»¥åœ¨æ¯æ¬¡é¡µé¢æµè§ˆæ—¶åŒæ—¶ä½¿ç”¨ <code>INCR</code> å’Œ <code>EXPIRE</code>ï¼Œä»¥ä¾¿åœ¨æŒ‡å®šçš„ç§’æ•°å†…ä»…å¯¹æœ€è¿‘ N æ¬¡é¡µé¢æµè§ˆè¿›è¡Œè®¡æ•°ã€‚</li>
<li>å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ <code>GETSET</code> æ¥åŸå­åœ°è·å–å½“å‰è®¡æ•°å™¨å€¼å¹¶å°†å…¶é‡ç½®ä¸ºé›¶ã€‚</li>
<li>ä½¿ç”¨å…¶ä»–åŸå­å¢é‡/å‡é‡å‘½ä»¤å¦‚ <code>DECR</code> æˆ– <code>INCRBY</code>ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·æ‰§è¡Œçš„æ“ä½œï¼Œå¤„ç†å¯èƒ½å¢å¤§æˆ–å‡å°çš„å€¼ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡åœ¨çº¿æ¸¸æˆä¸­ä¸åŒç”¨æˆ·çš„åˆ†æ•°ã€‚</li>
</ul>
<h2 id="æ¨¡å¼ï¼šé€Ÿç‡é™åˆ¶å™¨"><a href="#æ¨¡å¼ï¼šé€Ÿç‡é™åˆ¶å™¨" class="headerlink" title="æ¨¡å¼ï¼šé€Ÿç‡é™åˆ¶å™¨"></a>æ¨¡å¼ï¼šé€Ÿç‡é™åˆ¶å™¨</h2><p>é€Ÿç‡é™åˆ¶å™¨æ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„è®¡æ•°å™¨ï¼Œç”¨äºé™åˆ¶å¯ä»¥æ‰§è¡Œæ“ä½œçš„é€Ÿç‡ã€‚æ­¤æ¨¡å¼çš„å…¸å‹å®ç°æ˜¯é™åˆ¶å¯¹å…¬å…± API è¯·æ±‚æ•°ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ <code>INCR</code> æä¾›äº†ä¸¤ç§å®ç°æ­¤æ¨¡å¼çš„æ–¹æ³•ï¼Œå…¶ä¸­æˆ‘ä»¬å‡è®¾è¦è§£å†³çš„é—®é¢˜æ˜¯å°† API è°ƒç”¨é™åˆ¶åœ¨æ¯ä¸ª IP åœ°å€æ¯ç§’æœ€å¤š 10 ä¸ªè¯·æ±‚ã€‚</p>
<h3 id="ç¬¬ä¸€ç§å®ç°"><a href="#ç¬¬ä¸€ç§å®ç°" class="headerlink" title="ç¬¬ä¸€ç§å®ç°"></a>ç¬¬ä¸€ç§å®ç°</h3><p>æ­¤æ¨¡å¼çš„ç®€å•ã€ç›´æ¥çš„å®ç°å¦‚ä¸‹:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FUNCTION LIMIT_API_CALL(ip)</span><br><span class="line">ts = CURRENT_UNIX_TIME()</span><br><span class="line">keyname = ip+<span class="string">&quot;:&quot;</span>+ts</span><br><span class="line">MULTI</span><br><span class="line">    INCR(keyname)</span><br><span class="line">    EXPIRE(keyname,10)</span><br><span class="line">EXEC</span><br><span class="line">current = RESPONSE_OF_INCR_WITHIN_MULTI</span><br><span class="line">IF current &gt; 10 THEN</span><br><span class="line">    ERROR <span class="string">&quot;too many requests per second&quot;</span></span><br><span class="line">ELSE</span><br><span class="line">    PERFORM_API_CALL()</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸ºæ¯ä¸ª IP åœ°å€å’Œä¸åŒçš„ç§’æ•°ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ã€‚è¿™äº›è®¡æ•°å™¨æ€»æ˜¯é€’å¢çš„ï¼Œå¹¶ä¸”è®¾ç½®äº† 10 ç§’çš„è¿‡æœŸæ—¶é—´ä»¥ä¾¿åœ¨è¿‡æœŸæ—¶èƒ½è¢« Redis è‡ªåŠ¨åˆ é™¤ã€‚</p>
<p>è¯·æ³¨æ„ä½¿ç”¨ <code>MULTI</code> å’Œ <code>EXEC</code> ä»¥ç¡®ä¿åœ¨æ¯ä¸ª API è°ƒç”¨ä¸­åŒæ—¶é€’å¢å’Œè®¾ç½®è¿‡æœŸæ—¶é—´ã€‚</p>
<p>è¯¥å®ç°ä¸ºæ¯ä¸ª IP åœ°å€å’Œæ¯ä¸ªç§’æ•°ç»´æŠ¤ä¸€ä¸ªé”®ï¼Œå…¶å€¼æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ã€‚æ¯å½“å®¢æˆ·ç«¯å¯¹ API è¿›è¡Œè°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>è·å–å½“å‰ Unix æ—¶é—´æˆ³ä»¥ç”Ÿæˆé”®åã€‚</li>
<li>ä½¿ç”¨ <code>MULTI/EXEC</code> åŒ…è£…å™¨æ‰§è¡ŒåŸå­ <code>INCR</code>ï¼ˆé€’å¢ï¼‰å’Œ <code>EXPIRE</code>ï¼ˆè®¾ç½® 10 ç§’è¿‡æœŸæ—¶é—´ï¼‰æ“ä½œã€‚</li>
<li>æ£€æŸ¥ <code>INCR</code> æ“ä½œçš„ç»“æœã€‚å¦‚æœå¤§äº 10ï¼Œæˆ‘ä»¬è¿”å›é”™è¯¯ï¼Œå¦åˆ™ç»§ç»­æ‰§è¡Œ API è°ƒç”¨ã€‚</li>
<li>ç”±äºæˆ‘ä»¬ä¸ºé”®è®¾ç½®äº† 10 ç§’çš„ç”Ÿå­˜æ—¶é—´ï¼Œæ‰€ä»¥é”®åœ¨è¿‡æœŸåä¼šè¢« Redis è‡ªåŠ¨åˆ é™¤ã€‚</li>
</ol>
<p>è¿™ç§æ–¹æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œå¹¶ä¸”ç”±äºä½¿ç”¨äº†è¿‡æœŸæ—¶é—´ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡ç½®æˆ–åˆ é™¤è®¡æ•°å™¨ã€‚Redis ä¼šè‡ªåŠ¨åˆ é™¤å·²è¿‡æœŸçš„é”®ã€‚</p>
<h3 id="ç¬¬äºŒç§å®ç°"><a href="#ç¬¬äºŒç§å®ç°" class="headerlink" title="ç¬¬äºŒç§å®ç°"></a>ç¬¬äºŒç§å®ç°</h3><p>å¦ä¸€ç§å®ç°æ–¹å¼æ˜¯ä½¿ç”¨å•ä¸ªè®¡æ•°å™¨ï¼Œä½†è¦åœ¨æ²¡æœ‰ç«äº‰æ¡ä»¶çš„æƒ…å†µä¸‹æ­£ç¡®æ‰§è¡Œï¼Œä¼šç¨å¾®å¤æ‚ä¸€äº›ã€‚ä»¥ä¸‹æˆ‘ä»¬å°†æ¢è®¨åœ¨ä¸åŒæƒ…å†µä¸‹çš„å®ç°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FUNCTION LIMIT_API_CALL(ip):</span><br><span class="line">current = GET(ip)</span><br><span class="line">IF current != NULL AND current &gt; 10 THEN</span><br><span class="line">    ERROR <span class="string">&quot;too many requests per second&quot;</span></span><br><span class="line">ELSE</span><br><span class="line">    value = INCR(ip)</span><br><span class="line">    IF value == 1 THEN</span><br><span class="line">        EXPIRE(ip,1)</span><br><span class="line">    END</span><br><span class="line">    PERFORM_API_CALL()</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<p>è¯¥è®¡æ•°å™¨çš„åˆ›å»ºæ–¹å¼æ˜¯å®ƒåªèƒ½å­˜æ´»ä¸€ç§’ï¼Œä»å½“å‰ä¸€ç§’å†…æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªè¯·æ±‚å¼€å§‹ã€‚å¦‚æœåœ¨åŒä¸€ç§’å†…æœ‰è¶…è¿‡ 10 ä¸ªè¯·æ±‚ï¼Œè®¡æ•°å™¨çš„å€¼å°†å¤§äº 10ï¼Œå¦åˆ™å®ƒå°†è¿‡æœŸå¹¶ä» 0 é‡æ–°å¼€å§‹ã€‚</p>
<p>ä¸Šè¿°ä»£ç ä¸­å­˜åœ¨ç«äº‰æ¡ä»¶ã€‚å¦‚æœç”±äºæŸäº›åŸå› ï¼Œå®¢æˆ·ç«¯æ‰§è¡Œäº† <code>INCR</code> å‘½ä»¤ï¼Œä½†æ²¡æœ‰æ‰§è¡Œ <code>EXPIRE</code> å‘½ä»¤ï¼Œé‚£ä¹ˆè¯¥é”®å°†è¢«æ³„æ¼ï¼ˆå³æ°¸ä¸è¿‡æœŸï¼‰ï¼Œä»è€Œå¯¼è‡´å½“è¯¥é”®å­˜å‚¨çš„ IP åœ°å€ç´¯è®¡è°ƒç”¨è¶…è¿‡ 10 æ¬¡åï¼Œå°±ä¸€ç›´è¿”å› <code>too many requests per second</code> é”™è¯¯ï¼Œå˜æˆäº†é™åˆ¶æ¯ä¸ª IP åœ°å€æœ€å¤šåªèƒ½è°ƒç”¨ 10 æ¬¡ï¼Œè€Œä¸æ˜¯æ¯ç§’é™åˆ¶è°ƒç”¨ 10 æ¬¡ã€‚</p>
<p>ä¸è¿‡è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆå¥½è§£å†³ï¼Œåªéœ€å°† <code>EXPIRE</code> å‘½ä»¤å’Œ <code>INCR</code> å‘½ä»¤åŒ…è£…æˆä¸€ä¸ª Lua è„šæœ¬ï¼Œä½¿ç”¨ <code>EVAL</code> å‘½ä»¤å‘é€å³å¯ï¼ˆä»…ä» Redis 2.6 ç‰ˆå¼€å§‹å¯ç”¨ï¼‰ã€‚</p>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="keyword">local</span> current</span><br><span class="line">current = redis.call(<span class="string">&quot;incr&quot;</span>,KEYS[<span class="number">1</span>])</span><br><span class="line"><span class="keyword">if</span> current == <span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">    redis.call(<span class="string">&quot;expire&quot;</span>,KEYS[<span class="number">1</span>],<span class="number">1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç«äº‰æ¡ä»¶ï¼ˆRace Conditionï¼‰æŒ‡å¤šä¸ªçº¿ç¨‹æˆ–è€…è¿›ç¨‹åœ¨è¯»å†™ä¸€ä¸ªå…±äº«æ•°æ®æ—¶ç»“æœä¾èµ–äºå®ƒä»¬æ‰§è¡Œçš„ç›¸å¯¹æ—¶é—´çš„æƒ…å½¢ã€‚è¿™äº›çº¿ç¨‹æˆ–è¿›ç¨‹æœ‰å¯èƒ½å› ä¸ºæ—¶é—´ä¸Šæ¨è¿›çš„å…ˆååŸå› è€Œå‡ºç°é—®é¢˜ã€‚</p>
</blockquote>
<p>æœ‰å¦ä¸€ç§ä¸ä½¿ç”¨è„šæœ¬æ¥è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Redis åˆ—è¡¨è€Œä¸æ˜¯è®¡æ•°å™¨ã€‚è¯¥å®ç°æ›´åŠ å¤æ‚ï¼Œä½¿ç”¨äº†æ›´å¤šçš„é«˜çº§åŠŸèƒ½ï¼Œä½†å®ƒçš„ä¼˜ç‚¹æ˜¯å¯ä»¥è®°å½•å½“å‰æ­£åœ¨æ‰§è¡Œ API è°ƒç”¨çš„å®¢æˆ·ç«¯ IP åœ°å€ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¼˜ç‚¹å¯¹ä½ æ¥è¯´å¯èƒ½æœ‰ç”¨ï¼Œä¹Ÿå¯èƒ½æ²¡ç”¨ï¼Œå–å†³äºä½ çš„åº”ç”¨ç¨‹åºçš„æƒ…å†µã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FUNCTION LIMIT_API_CALL(ip)</span><br><span class="line">current = LLEN(ip)</span><br><span class="line">IF current &gt; 10 THEN</span><br><span class="line">    ERROR <span class="string">&quot;too many requests per second&quot;</span></span><br><span class="line">ELSE</span><br><span class="line">    IF EXISTS(ip) == FALSE</span><br><span class="line">        MULTI</span><br><span class="line">            RPUSH(ip,ip)</span><br><span class="line">            EXPIRE(ip,1)</span><br><span class="line">        EXEC</span><br><span class="line">    ELSE</span><br><span class="line">        RPUSHX(ip,ip)</span><br><span class="line">    END</span><br><span class="line">    PERFORM_API_CALL()</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>RPUSHX</code> å‘½ä»¤ä»…åœ¨é”®å·²å­˜åœ¨æ—¶æ‰å‹å…¥å…ƒç´ ã€‚</p>
</blockquote>
<p>è¯·æ³¨æ„ï¼Œè¿™é‡ŒåŒæ ·ä¹Ÿå­˜åœ¨ç«äº‰æ¡ä»¶ï¼šä¸€ä¸ªå®¢æˆ·ç«¯åœ¨æ‰§è¡Œ <code>EXISTS(ip)</code> å‘½ä»¤æ—¶è¿”å›äº† falseï¼Œä½†è¿˜æ²¡æ¥å¾—åŠæ‰§è¡Œ <code>MULTI/EXEC</code> å—ä¸­ä»£ç æ¥åˆ›å»ºé”®æ—¶ï¼Œå…¶ä»–å®¢æˆ·ç«¯å¯èƒ½å…ˆåˆ›å»ºäº†è¯¥é”®ã€‚</p>
<p>ä½†è¿™ä¸æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼šä¸€æ˜¯è¿™ç§æƒ…å†µæ¯”è¾ƒç½•è§ï¼ŒäºŒæ˜¯æ­¤ç«äº‰åªä¼šå¯¼è‡´é”™è¿‡äº†ä¸€æ¬¡ API è°ƒç”¨ï¼Œå³åŸæœ¬æ˜¯é™åˆ¶æ¯ä¸ª IP åœ°å€æ¯ç§’æœ€å¤š 10 æ¬¡è°ƒç”¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å˜æˆäº†æ¯ä¸ª IP åœ°å€æ¯ç§’æœ€å¤š 9 æ¬¡è°ƒç”¨ã€‚</p>
<p>è¯¥å®ç°ä½¿ç”¨ Redis åˆ—è¡¨è€Œä¸æ˜¯ç®€å•çš„è®¡æ•°å™¨é”®ã€‚æ¯å½“å®¢æˆ·ç«¯è°ƒç”¨ API æ—¶ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>æ£€æŸ¥åˆ—è¡¨çš„é•¿åº¦ã€‚å¦‚æœå¤§äº 10ï¼Œæˆ‘ä»¬è¿”å›é”™è¯¯ã€‚</li>
<li>å¦åˆ™ï¼Œåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>MULTI/EXEC</code> åˆ›å»ºåˆ—è¡¨å¹¶ä¸ºå…¶è®¾ç½® 1 ç§’çš„è¿‡æœŸæ—¶é—´ã€‚</li>
<li>å¦‚æœé”®å·²å­˜åœ¨ï¼Œæˆ‘ä»¬åªä½¿ç”¨ <code>RPUSHX</code> å‘½ä»¤å°†å®¢æˆ·ç«¯ IP åœ°å€å‹å…¥åˆ°åˆ—è¡¨ä¸­ã€‚<code>RPUSHX</code> å‘½ä»¤ä»…åœ¨é”®å·²å­˜åœ¨æ—¶æ‰§è¡Œå‹å…¥æ“ä½œã€‚</li>
<li>ç”±äºæˆ‘ä»¬åœ¨é¦–æ¬¡å‹å…¥æ—¶è®¾ç½®äº† 1 ç§’çš„ç”Ÿå­˜æ—¶é—´ï¼Œæ‰€ä»¥è¯¥åˆ—è¡¨å°†åœ¨ä¸‹ä¸€ç§’è¿‡æœŸã€‚è¯¥æ–¹æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å®ƒè·Ÿè¸ªå½“å‰æ‰§è¡Œ API è°ƒç”¨çš„æ‰€æœ‰å®¢æˆ·ç«¯ IP åœ°å€ï¼Œè¿™å¯èƒ½å¯¹æŸäº›åº”ç”¨ç¨‹åºå¾ˆæœ‰ç”¨ã€‚</li>
</ol>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>ä»¥ä¸‹ç¤ºä¾‹ä»£ç æ¼”ç¤ºäº† INCR å‘½ä»¤ç”¨äºå¯¹å­—ç¬¦ä¸²ç±»å‹çš„æ•´æ•°å€¼è¿›è¡Œå¢å‡æ“ä½œã€‚æ¯æ¬¡è°ƒç”¨  <code>INCR</code>ï¼Œè¯¥é”®çš„å€¼ä¼šå¢åŠ  1ã€‚</p>
<p>1ï¼‰ä½¿ç”¨ <code>SET</code> å‘½ä»¤å°† counter é”®çš„å€¼è®¾ç½®ä¸º 1000ï¼›</p>
<p>2ï¼‰ä½¿ç”¨ <code>INCR</code> å‘½ä»¤å°† counter é”®çš„å€¼å¢åŠ  1ï¼Œç°åœ¨å€¼ä¸º 1001ï¼›</p>
<p>3ï¼‰ä½¿ç”¨ <code>GET</code> å‘½ä»¤è¯»å– counter é”®çš„å€¼ï¼Œç¡®è®¤å€¼ä¸º 1001ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET counter <span class="string">&quot;1000&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; INCR counter</span><br><span class="line">(<span class="built_in">integer</span>) 1001</span><br><span class="line">redis&gt; GET counter</span><br><span class="line"><span class="string">&quot;1001&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†Redis çš„Â <code>INCR</code>Â å‘½ä»¤è¦æ±‚é”®çš„å€¼å¿…é¡»æ˜¯æ•´æ•°ç±»å‹ï¼Œæ‰èƒ½æ­£ç¡®æ‰§è¡ŒåŠ ä¸€æ“ä½œã€‚å¦‚æœé”®çš„å€¼æ˜¯ä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°ç±»å‹ï¼Œåˆ™ä¼šè¿”å› <code>ERR value is not an integer or out of range</code> é”™è¯¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;Johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; INCR username</span><br><span class="line">(error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¯¹ Redis ä¸­æœ€å¤§çš„ 64 ä½æœ‰ç¬¦å·æ•´æ•°å€¼è¿›è¡ŒåŠ ä¸€æ“ä½œï¼Œç”±äºåŠ ä¸€æ“ä½œåå‡ºç°æ•´æ•°æº¢å‡ºï¼Œè¿”å› <code>ERR increment or decrement would overflow</code> é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET max_bigint <span class="string">&quot;9223372036854775807&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; INCR max_bigint</span><br><span class="line">(error) ERR increment or decrement would overflow</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>64 ä½æœ‰ç¬¦å·æ•´æ•°çš„æ•°å€¼èŒƒå›´ï¼š[-9223372036854775808, 9223372036854775807]</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis GETDEL å‘½ä»¤</title>
    <url>/2023/06/01/redis-cmd-strings-getdel/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GETDEL key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 6.2.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>è·å– <code>key</code> çš„å€¼å¹¶åˆ é™¤è¯¥ <code>key</code>ã€‚</p>
<ul>
<li>å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>nil</code>ã€‚</li>
<li>å¦‚æœå­˜å‚¨åœ¨ <code>key</code> çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</li>
</ul>
<p>è¯¥å‘½ä»¤ä¸ <code>GET</code> ç±»ä¼¼ï¼Œé™¤äº†å®ƒåœ¨æˆåŠŸæ—¶ä¼šåˆ é™¤é”®ï¼ˆå½“ä¸”ä»…å½“é”®çš„å€¼ç±»å‹æ˜¯å­—ç¬¦ä¸²æ—¶ï¼‰ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h2><p>è¿”å› <code>key</code> çš„å€¼ï¼Œå¦‚æœ <code>key</code> ä¸å­˜åœ¨åˆ™è¿”å› <code>nil</code>ï¼Œå¦‚æœ <code>key</code> çš„å€¼ç±»å‹ä¸æ˜¯å­—ç¬¦ä¸²åˆ™è¿”å›é”™è¯¯ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­æ¼”ç¤ºäº† Redis çš„ <code>GETDEL</code> å‘½ä»¤åŒæ—¶è·å–å€¼å¹¶åˆ é™¤çš„æ•ˆæœã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ol>
<li>é¦–å…ˆä½¿ç”¨ <code>SET</code> å‘½ä»¤è®¾ç½® KEY token çš„å€¼ä¸º <code>access_token</code></li>
<li>ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– token çš„å€¼ï¼Œè¿”å› <code>access_token</code></li>
<li>ä½¿ç”¨ <code>GETDEL</code> å‘½ä»¤è·å– token çš„å€¼ï¼Œå¹¶åˆ é™¤è¯¥ KEYï¼Œè¿”å› <code>access_token</code></li>
<li>å†æ¬¡ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– token çš„å€¼ï¼Œç”±äºè¯¥ KEY å·²è¢«åˆ é™¤ï¼Œæ‰€ä»¥è¿”å› <code>nil</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET token <span class="string">&#x27;access_token&#x27;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET token</span><br><span class="line"><span class="string">&quot;access_token&quot;</span></span><br><span class="line">redis&gt; GETDEL token</span><br><span class="line"><span class="string">&quot;access_token&quot;</span></span><br><span class="line">redis&gt; GET token</span><br><span class="line">(nil)</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­æ¼”ç¤ºäº† <code>GETDEL</code> å‘½ä»¤åªæ”¯æŒå­—ç¬¦ä¸²é”®çš„é™åˆ¶ï¼Œå¯¹å…¶ä»–ç±»å‹çš„é”®ä½¿ç”¨ä¼šæŠ¥é”™ã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ol>
<li>é¦–å…ˆä½¿ç”¨ <code>LPUSH</code> å‘½ä»¤å‘ list_key åˆ—è¡¨é”®æ’å…¥ <code>a</code> å€¼</li>
<li>å°è¯•ä½¿ç”¨ <code>GETDEL</code> å‘½ä»¤è·å– list_key çš„å€¼å¹¶åˆ é™¤è¯¥é”®</li>
<li>è¿”å› <code>WRONGTYPE Operation against a key holding the wrong kind of value</code> é”™è¯¯</li>
</ol>
<p>è¿™æ˜¯å› ä¸º <code>GETDEL</code> å‘½ä»¤åªæ”¯æŒå­—ç¬¦ä¸²é”®ï¼Œè€Œ list_key æ˜¯ä¸€ä¸ªåˆ—è¡¨é”®ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>GETDEL</code> æ“ä½œ list_key ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH list_key a</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; GETDEL list_key</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¯¹ä¸å­˜åœ¨çš„é”®ä½¿ç”¨ <code>GETDEL</code> å‘½ä»¤ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä¼šè¿”å› <code>nil</code> çš„ç»“æœã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ol>
<li>é¦–å…ˆä½¿ç”¨ <code>EXISTS</code> å‘½ä»¤æ£€æŸ¥ tokentoken é”®æ˜¯å¦å­˜åœ¨ï¼Œè¿”å› 0 è¡¨ç¤ºè¯¥é”®ä¸å­˜åœ¨</li>
<li>å°è¯•ä½¿ç”¨ <code>GETDEL</code> å‘½ä»¤è·å– tokentoken é”®çš„å€¼å¹¶åˆ é™¤è¯¥é”®</li>
<li><code>GETDEL</code> å‘½ä»¤è¿”å› <code>nil</code></li>
</ol>
<p>è¿™æ˜¯å› ä¸º <code>GETDEL</code> æ“ä½œçš„é”® tokentoken æœ¬ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æ²¡æœ‰å€¼å¯ä»¥è·å–å’Œåˆ é™¤ï¼Œæ‰€ä»¥ <code>GETDEL</code> è¿”å› <code>nil</code>ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">redis<span class="operator">&gt;</span> <span class="keyword">EXISTS</span> tokentoken</span><br><span class="line">(<span class="type">integer</span>) <span class="number">0</span></span><br><span class="line">redis<span class="operator">&gt;</span> GETDEL tokentoken</span><br><span class="line">(nil)</span><br><span class="line">redis<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis INCRBY å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-incrby/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INCRBY key increment</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°† <code>key</code> ä¸­å‚¨å­˜çš„æ•°å­—åŠ ä¸ŠæŒ‡å®šçš„å¢é‡å€¼ã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œåˆ™åœ¨æ‰§è¡Œæ“ä½œå‰å°†å…¶è®¾ç½®ä¸º 0ã€‚å¦‚æœé”®åŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼æˆ–åŒ…å«ä¸€ä¸ªä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›é”™è¯¯ã€‚</p>
<p>è¯¥æ“ä½œä»…é™äº 64 ä½æœ‰ç¬¦å·çš„æ•´æ•°ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåŠ ä¸ŠæŒ‡å®šçš„å¢é‡å€¼ä¹‹åçš„ key å€¼ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>ä»¥ä¸‹ä¾‹å­æ¼”ç¤ºäº†ä½¿ç”¨ <code>INCRBY</code> å‘½ä»¤å¯¹ä¸€ä¸ªå­˜å‚¨æ•´æ•°å€¼çš„é”®è¿›è¡ŒåŠ  2 æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET counter <span class="string">&quot;1000&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; INCRBY counter 2</span><br><span class="line">(<span class="built_in">integer</span>) 1002</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„é”®è¿›è¡Œ <code>INCRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS total</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; INCRBY total 5</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">redis&gt; GET total</span><br><span class="line"><span class="string">&quot;5&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å¯¹ä¸€ä¸ªå­˜å‚¨å€¼ä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²çš„é”®è¿›è¡Œ <code>INCRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;Johnson&quot;</span></span><br><span class="line">redis&gt; INCRBY username 20</span><br><span class="line">(error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4"></a>ç¤ºä¾‹ 4</h2><p>å¯¹ä¸€ä¸ªå­˜å‚¨å€¼ç±»å‹ä¸ºåˆ—è¡¨çš„é”®è¿›è¡Œ <code>INCRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LPUSH list_key <span class="string">&quot;Johnson&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; TYPE list_key</span><br><span class="line">list</span><br><span class="line">redis&gt; INCRBY list_key 2</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5"></a>ç¤ºä¾‹ 5</h2><p>å¯¹ä¸€ä¸ªå­˜å‚¨äº† 64 ä½æœ‰ç¬¦å·æ•´æ•°æœ€å¤§å€¼çš„é”®è¿›è¡Œ <code>INCRBY</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GET max_bigint</span><br><span class="line"><span class="string">&quot;9223372036854775807&quot;</span></span><br><span class="line">redis&gt; INCRBY max_bigint 9</span><br><span class="line">(error) ERR increment or decrement would overflow</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis MGET å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-mget/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MGET key [key ...]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$</p>
<p>å…¶ä¸­ N æ˜¯è¦æ£€ç´¢çš„ key çš„æ•°é‡ã€‚ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>è¿”å›æ‰€æœ‰æŒ‡å®š key çš„å€¼ã€‚å¯¹äºæ¯ä¸ªä¸æŒæœ‰å­—ç¬¦ä¸²å€¼æˆ–ä¸å­˜åœ¨çš„é”®ï¼Œå°†è¿”å›ç‰¹æ®Šå€¼ <code>nil</code>ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œè¯¥æ“ä½œæ°¸è¿œä¸ä¼šå¤±è´¥ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…ƒç´ ç”±æ‰€æœ‰ç»™å®šçš„ key ä¸Šçš„å€¼ç»„æˆã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET key1 <span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="string">&quot;OK&quot;</span></span><br><span class="line">redis&gt; SET key2 <span class="string">&quot;World&quot;</span></span><br><span class="line"><span class="string">&quot;OK&quot;</span></span><br><span class="line">redis&gt; MGET key1 key2 nonexisting</span><br><span class="line">1) <span class="string">&quot;Hello&quot;</span></span><br><span class="line">2) <span class="string">&quot;World&quot;</span></span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis INCRBYFLOAT å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-incrbyfloat/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">INCRBYFLOAT key increment</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.6.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°†å­˜å‚¨åœ¨ key ä¸Šçš„æ•°å€¼ï¼ˆå­—ç¬¦ä¸²è¡¨ç¤ºï¼‰åŠ ä¸Šæµ®ç‚¹æ•° incrementã€‚</p>
<p>å¦‚æœ key ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ <code>INCRBYFLOAT</code> ä¼šå…ˆå°† key çš„å€¼è®¾ç½®ä¸º 0ï¼Œç„¶åå†æ‰§è¡ŒåŠ æ³•æ“ä½œã€‚</p>
<p>key çš„å€¼å¯ä»¥æ˜¯æ•´æ•°æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚increment ä¹Ÿå¯ä»¥æ˜¯æ•´æ•°æˆ–åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</p>
<p>å¦‚æœå‘ç”Ÿä»¥ä¸‹æƒ…å†µä¹‹ä¸€ï¼Œå°†è¿”å›ä¸€ä¸ªé”™è¯¯ï¼š</p>
<ol>
<li>é”®åŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼ï¼ˆä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ã€‚</li>
<li>å½“å‰é”®çš„å†…å®¹æˆ–æŒ‡å®šçš„å¢é‡ä¸èƒ½è¢«è§£æä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°å­—ã€‚</li>
</ol>
<p>å¦‚æœå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œç›¸åŠ åçš„å€¼å°†è¢«å­˜å‚¨ä¸ºé”®çš„æ–°å€¼ï¼ˆå–ä»£æ—§å€¼ï¼‰ï¼Œå¹¶ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ç»™è°ƒç”¨è€…ã€‚</p>
<p>key çš„å€¼å’Œå¢é‡å‚æ•°éƒ½å¯ä»¥ä»¥æŒ‡æ•°å½¢å¼æä¾›ï¼Œä½†å¢é‡æ“ä½œä¹‹åè®¡ç®—å¾—åˆ°çš„æœ€ç»ˆå€¼å°†æŒ‰ç…§æ•´æ•°éƒ¨åˆ†ã€ï¼ˆå¦‚æœéœ€è¦ï¼‰åè·Ÿå°æ•°ç‚¹å’Œä»£è¡¨å°æ•°éƒ¨åˆ†çš„ä¸€å®šä½æ•°æ•°å­—çš„æ ¼å¼å­˜å‚¨ã€‚æœ«å°¾çš„é›¶æ€»æ˜¯è¢«ç§»é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>1ï¼‰åŸå€¼å’Œå¢é‡å¯ä»¥ä½¿ç”¨æŒ‡æ•°è¡¨ç¤ºæ³•ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ï¼›</p>
<p>2ï¼‰ä½†æ˜¯è®¡ç®—åçš„æœ€ç»ˆå€¼ä¼šè¢«å­˜å‚¨ä¸ºä¸€ä¸ªæ•´æ•°ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œåè·Ÿå°æ•°ç‚¹å’Œä¸€å®šä½æ•°çš„å°æ•°éƒ¨åˆ†ï¼›</p>
<p>3ï¼‰å¦‚æœæœ€ç»ˆå€¼æœ‰æœ«å°¾çš„é›¶ï¼Œè¿™äº›é›¶ä¼šè¢«ç§»é™¤æ‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>åŸå€¼ï¼š1.23e5ï¼Œå¢é‡ï¼š4e2ï¼Œæœ€ç»ˆå€¼ï¼š123400</p>
<p>åŸå€¼ï¼š123000ï¼Œå¢é‡ï¼š400ï¼Œæœ€ç»ˆå€¼ï¼š123400</p>
<p>åŸå€¼ï¼š1.230ï¼Œå¢é‡ï¼š0.04ï¼Œæœ€ç»ˆå€¼ï¼š1.27ï¼ˆå»æ‰äº†æœ«å°¾çš„é›¶ï¼‰</p>
<p>æ‰€ä»¥ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è¿ç®—åçš„å€¼ä¼šè¢«â€œè§„èŒƒåŒ–â€ä¸ºä¸€ä¸ªå›ºå®šçš„æ•°å­—æ ¼å¼è¿›è¡Œå­˜å‚¨ã€‚</p>
<p>ä¸ç®¡è®¡ç®—çš„å®é™…å†…éƒ¨ç²¾åº¦å¦‚ä½•ï¼Œè¾“å‡ºçš„ç²¾åº¦å›ºå®šä¸ºå°æ•°ç‚¹åçš„ 17 ä½ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å› key çš„æ–°å€¼ï¼Œè¿™ä¸ªæ–°å€¼æ˜¯ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</p>
<h2 id="å®ç°ç»†èŠ‚"><a href="#å®ç°ç»†èŠ‚" class="headerlink" title="å®ç°ç»†èŠ‚"></a>å®ç°ç»†èŠ‚</h2><p>è¯¥å‘½ä»¤æ€»æ˜¯ä½œä¸º <code>SET</code> æ“ä½œåœ¨å¤åˆ¶é“¾è·¯å’Œ Append Only File ä¸­ä¼ æ’­ï¼Œæ‰€ä»¥åº•å±‚æµ®ç‚¹æ•°å­¦å®ç°çš„å·®å¼‚ä¸ä¼šæˆä¸ºä¸ä¸€è‡´çš„æºå¤´ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>1ï¼‰æ— è®ºåŸå€¼å’Œå¢é‡æ˜¯å¦ä½¿ç”¨äº†æµ®ç‚¹æ•°æˆ–æŒ‡æ•°è¡¨ç¤ºæ³•ï¼Œè¿™ä¸ªå¢é‡å‘½ä»¤æœ€ç»ˆéƒ½æ˜¯ä½œä¸º <code>SET</code> å‘½ä»¤è¿›è¡Œä¼ æ’­å’Œå­˜å‚¨çš„ã€‚</p>
<p>2ï¼‰å› ä¸ºå­˜å‚¨å’Œä¼ æ’­çš„éƒ½æ˜¯ <code>SET</code> å‘½ä»¤è®¾ç½®çš„å›ºå®šå€¼ï¼Œè€Œä¸æ˜¯æµ®ç‚¹æ•°å€¼è¿ç®—çš„ç»“æœï¼Œæ‰€ä»¥å³ä½¿ä¸åŒæœºå™¨ä¸Šçš„æµ®ç‚¹æ•°å­¦è¿ç®—ç»“æœç•¥æœ‰ä¸åŒï¼ˆç”±äºè®¡ç®—ç²¾åº¦ä¸åŒç­‰åŸå› ï¼‰ï¼Œæœ€ç»ˆå­˜å‚¨çš„å€¼ä»ç„¶æ˜¯ä¸€è‡´çš„ã€‚</p>
<p>3ï¼‰å¦‚æœç›´æ¥å­˜å‚¨å’Œä¼ æ’­æµ®ç‚¹æ•°å€¼è¿ç®—çš„ç»“æœï¼Œé‚£ä¹ˆç”±äºè®¡ç®—ç²¾åº¦çš„å·®å¼‚ï¼Œä¸åŒæœºå™¨å¾—åˆ°çš„ç»“æœå¯èƒ½ä¼šæœ‰ç»†å¾®å‡ºå…¥ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚ä½†ç°åœ¨é€šè¿‡ <code>SET</code> å‘½ä»¤è®¾ç½®ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå°±é¿å…äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æ‰€ä»¥è¿™ä¸ªè®¾è®¡æ˜¯ä¸ºäº†é¿å…å› ä¸ºæµ®ç‚¹æ•°è¿ç®—çš„å®ç°å·®å¼‚åœ¨å¤åˆ¶å’Œå­˜å‚¨æ—¶å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œé‡‡å–è®¾ç½®å›ºå®šå€¼çš„æ–¹å¼æ¥è§„é¿è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>æ€»ä¹‹ï¼Œé‡ç‚¹æ˜¯ï¼šä¸ç›´æ¥å­˜å‚¨å’Œä¼ æ’­æµ®ç‚¹æ•°è¿ç®—ç»“æœï¼Œè€Œæ˜¯å­˜å‚¨å’Œä¼ æ’­ <code>SET</code> å›ºå®šå€¼æŒ‡ä»¤ï¼Œä»¥æ­¤æ¥é˜²æ­¢ç”±äºæµ®ç‚¹æ•°è¿ç®—å·®å¼‚å¼•èµ·çš„æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å¯¹ä¸å­˜åœ¨çš„é”® float_a æ‰§è¡Œ <code>INCRBYFLOAT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS float_a</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; INCRBYFLOAT float_a 3.14</span><br><span class="line"><span class="string">&quot;3.14&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å¯¹å­˜å‚¨å€¼ä¸ºæ•´æ•°ç±»å‹çš„é”®æ‰§è¡Œ <code>INCRBYFLOAT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET int_a 10</span><br><span class="line">OK</span><br><span class="line">redis&gt; INCRBYFLOAT int_a 0.01</span><br><span class="line"><span class="string">&quot;10.01&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å¯¹å­˜å‚¨å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œä½†ä¸èƒ½è¡¨ç¤ºä¸ºæ•°å€¼çš„çš„é”®æ‰§è¡Œ <code>INCRBYFLOAT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET username <span class="string">&quot;Jack&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;Jack&quot;</span></span><br><span class="line">redis&gt; INCRBYFLOAT username 0.1</span><br><span class="line">(error) ERR value is not a valid <span class="built_in">float</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4"></a>ç¤ºä¾‹ 4</h2><p>å­˜å‚¨çš„æ•°å€¼ä¸ºæŒ‡æ•°å½¢å¼ã€å¢é‡å‚æ•°ä¹Ÿä¸ºæŒ‡æ•°å½¢å¼ï¼Œæ‰§è¡Œ <code>INCRBYFLOAT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET exp <span class="string">&quot;314159e-5&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET exp</span><br><span class="line"><span class="string">&quot;314159e-5&quot;</span></span><br><span class="line">redis&gt; INCRBYFLOAT exp <span class="string">&quot;2e-1&quot;</span></span><br><span class="line"><span class="string">&quot;3.34159&quot;</span></span><br><span class="line">redis&gt; GET exp</span><br><span class="line"><span class="string">&quot;3.34159&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5"></a>ç¤ºä¾‹ 5</h2><p>æ‰§è¡Œ <code>INCRBYFLOAT</code> æ“ä½œåï¼Œæ–°çš„å€¼ä¼šåˆ é™¤å°æ•°ç‚¹åé¢å¤šä½™çš„ 0ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET v 0.100</span><br><span class="line">OK</span><br><span class="line">redis&gt; GET v</span><br><span class="line"><span class="string">&quot;0.100&quot;</span></span><br><span class="line">redis&gt; INCRBYFLOAT v 0.100</span><br><span class="line"><span class="string">&quot;0.2&quot;</span></span><br><span class="line">redis&gt; GET v</span><br><span class="line"><span class="string">&quot;0.2&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis MSET å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-mset/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MSET key value [key value ...]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.1</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$</p>
<p>å…¶ä¸­ N æ˜¯è¦è®¾ç½®çš„ key çš„æ•°é‡ã€‚ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>å°†ç»™å®šçš„é”®è®¾ç½®ä¸ºå®ƒä»¬å„è‡ªçš„å€¼ã€‚<code>MSET</code> ç”¨æ–°çš„å€¼æ›¿æ¢ç°æœ‰çš„å€¼ï¼Œå°±åƒæ™®é€šçš„ <code>SET</code> ä¸€æ ·ã€‚å¦‚æœä½ ä¸æƒ³è¦†ç›–ç°æœ‰çš„å€¼ï¼Œè¯·å‚é˜… <code>MSETNX</code>ã€‚</p>
<p><code>MSET</code> æ˜¯åŸå­æ€§çš„ï¼Œæ‰€ä»¥æ‰€æœ‰ç»™å®šçš„é”®éƒ½æ˜¯ä¸€æ¬¡æ€§è®¾ç½®çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯ä¸å¯èƒ½çœ‹åˆ°ä¸€äº›é”®è¢«æ›´æ–°è€Œå¦ä¸€äº›é”®æ²¡æœ‰å˜åŒ–ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>æ€»æ˜¯è¿”å› <code>OK</code>ï¼Œå› ä¸º <code>MSET</code> å‘½ä»¤æ°¸è¿œä¸ä¼šå¤±è´¥ã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; MSET key1 <span class="string">&quot;Hello&quot;</span> key2 <span class="string">&quot;World&quot;</span></span><br><span class="line"><span class="string">&quot;OK&quot;</span></span><br><span class="line">redis&gt; GET key1</span><br><span class="line"><span class="string">&quot;Hello&quot;</span></span><br><span class="line">redis&gt; GET key2</span><br><span class="line"><span class="string">&quot;World&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis MSETNX å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-msetnx/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">MSETNX key value [key value ...]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.1</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$</p>
<p>å…¶ä¸­ N æ˜¯è¦è®¾ç½®çš„ key çš„æ•°é‡ã€‚ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>å°†ç»™å®šçš„é”®è®¾ç½®ä¸ºå…¶å„è‡ªçš„å€¼ã€‚ä½†åªè¦æœ‰ä¸€ä¸ªé”®å·²ç»å­˜åœ¨ï¼Œ<code>MSETNX</code> å°±ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>
<p>ç”±äºè¿™ç§è¯­ä¹‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>MSETNX</code> æ¥è®¾ç½®ä»£è¡¨å”¯ä¸€é€»è¾‘å¯¹è±¡çš„ä¸åŒå­—æ®µçš„ä¸åŒé”®ï¼Œä»¥ç¡®ä¿è®¾ç½®æ‰€æœ‰å­—æ®µæˆ–æ ¹æœ¬ä¸è®¾ç½®ä»»ä½•å­—æ®µã€‚</p>
<p><code>MSETNX</code> æ˜¯åŸå­çš„ï¼Œæ‰€ä»¥æ‰€æœ‰ç»™å®šçš„é”®éƒ½æ˜¯ä¸€æ¬¡æ€§è®¾ç½®çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯ä¸å¯èƒ½çœ‹åˆ°ä¸€äº›é”®è¢«æ›´æ–°ï¼Œè€Œå¦ä¸€äº›é”®å´æ²¡æœ‰å˜åŒ–ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå…·ä½“è€Œè¨€ï¼š</p>
<ul>
<li>1 - å¦‚æœæ‰€æœ‰çš„é”®éƒ½è¢«è®¾ç½®äº†ï¼Œåˆ™è¿”å› 1ï¼›</li>
<li>0 - å¦‚æœæ²¡æœ‰è®¾ç½®ä»»ä½•é”®ï¼ˆè‡³å°‘æœ‰ä¸€ä¸ªé”®å·²ç»å­˜åœ¨ï¼‰ï¼Œåˆ™è¿”å› 0ã€‚</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; MSETNX key1 <span class="string">&quot;Hello&quot;</span> key2 <span class="string">&quot;there&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; MSETNX key2 <span class="string">&quot;new&quot;</span> key3 <span class="string">&quot;world&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; MGET key1 key2 key3</span><br><span class="line">1) <span class="string">&quot;Hello&quot;</span></span><br><span class="line">2) <span class="string">&quot;there&quot;</span></span><br><span class="line">3) (nil)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis DECR å‘½ä»¤</title>
    <url>/2023/06/01/redis-cmd-strings-decr/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DECR key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$</p>
<p><strong>ACL ç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°†å­˜å‚¨åœ¨ <code>key</code> çš„æ•°å­—å€¼å‡ 1ã€‚å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™å…ˆå°† <code>key</code> çš„å€¼åˆå§‹åŒ–ä¸º 0ï¼Œç„¶åå†æ‰§è¡Œ <code>DECR</code> æ“ä½œã€‚å¦‚æœ <code>key</code> åŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹çš„å€¼æˆ–åŒ…å«ä¸€ä¸ªä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›é”™è¯¯ã€‚è¿™ä¸ªæ“ä½œä»…é™äº 64 ä½æœ‰ç¬¦å·çš„æ•´æ•°ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰§è¡Œ <code>DECR</code> æ“ä½œåï¼Œ<code>key</code> å¯¹åº”çš„å€¼ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å½“å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ‰§è¡Œ <code>DECR</code> æ“ä½œæ—¶ï¼ŒRedis ä¼šå…ˆä¸ºè¯¥é”®åˆ›å»ºä¸€ä¸ªåˆå§‹å€¼ä¸º 0 çš„å€¼ï¼Œç„¶åå†æ‰§è¡Œå‡ä¸€æ“ä½œã€‚</p>
<ol>
<li>ä½¿ç”¨ <code>EXISTS</code> å‘½ä»¤æ£€æŸ¥ <code>foo</code> é”®æ˜¯å¦å­˜åœ¨ï¼Œè¿”å› 0ï¼Œè¡¨ç¤ºé”®ä¸å­˜åœ¨ã€‚</li>
<li>ç„¶åä½¿ç”¨ <code>DECR</code> å‘½ä»¤å¯¹ <code>foo</code> é”®æ‰§è¡Œå‡ä¸€æ“ä½œã€‚ç”±äºé”®ä¸å­˜åœ¨ï¼Œ<code>DECR</code> å‘½ä»¤ä¼šå…ˆä¸º <code>foo</code> é”®åˆ›å»ºä¸€ä¸ªå€¼ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º 0ï¼Œç„¶åå†å¯¹å…¶æ‰§è¡Œå‡ä¸€æ“ä½œï¼Œä½¿å€¼å˜ä¸º -1ã€‚<code>DECR</code> è¿”å› -1ã€‚</li>
<li>æ¥ç€ä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– <code>foo</code> çš„å€¼ï¼Œè¿”å› <code>&quot;-1&quot;</code>ã€‚</li>
<li>å†æ¬¡ä½¿ç”¨ <code>DECR</code> å‘½ä»¤å¯¹ <code>foo</code> æ‰§è¡Œå‡ä¸€æ“ä½œï¼Œä½¿å…¶å€¼å˜ä¸º -2ã€‚<code>DECR</code> è¿”å› -2ã€‚</li>
<li>è‡³æ­¤ï¼Œ<code>foo</code> é”®çš„å€¼å˜ä¸º -2ã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS foo</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; DECR foo</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">redis&gt; GET foo</span><br><span class="line"><span class="string">&quot;-1&quot;</span></span><br><span class="line">redis&gt; DECR foo</span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†Redis çš„Â <code>DECR</code>Â å‘½ä»¤è¦æ±‚é”®çš„å€¼å¿…é¡»æ˜¯æ•´æ•°ï¼Œæ‰èƒ½æ­£ç¡®æ‰§è¡Œå‡ä¸€æ“ä½œã€‚å¦‚æœé”®çš„å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿”å›é”™è¯¯ã€‚</p>
<ol>
<li>é¦–å…ˆä½¿ç”¨ <code>SET</code> å‘½ä»¤å°† <code>name</code> é”®çš„å€¼è®¾ç½®ä¸ºå­—ç¬¦ä¸² <code>&quot;johnson&quot;</code>ã€‚<code>SET</code> å‘½ä»¤è¿”å› OKï¼Œè¡¨ç¤ºè®¾ç½®æˆåŠŸã€‚</li>
<li>ç„¶åä½¿ç”¨ <code>GET</code> å‘½ä»¤è·å– <code>name</code> é”®çš„å€¼ï¼Œè¿”å› <code>&quot;johnson&quot;</code>ã€‚</li>
<li>æ¥ç€è¯•å›¾ä½¿ç”¨ <code>DECR</code> å‘½ä»¤å¯¹ <code>name</code> é”®æ‰§è¡Œå‡ä¸€æ“ä½œã€‚ç”±äº <code>name</code> é”®çš„å€¼æ˜¯ä¸èƒ½è¡¨ç¤ºä¸ºæ•´æ•°çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ <code>DECR</code> å‘½ä»¤è¿”å› <code>(error) ERR value is not an integer or out of range</code> é”™è¯¯ï¼Œè¡¨ç¤ºè¯¥å€¼ä¸æ˜¯æ•´æ•°ï¼Œæ— æ³•æ‰§è¡Œå‡ä¸€æ“ä½œã€‚</li>
<li>å› ä¸º <code>DECR</code> å‘½ä»¤è¦æ±‚é”®çš„å€¼å¿…é¡»æ˜¯æ•´æ•°ï¼Œæ‰èƒ½å¯¹å…¶æ‰§è¡Œå‡ä¸€æ“ä½œã€‚è€Œ <code>name</code> é”®çš„å€¼æ˜¯å­—ç¬¦ä¸² <code>&quot;johnson&quot;</code>ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨ <code>DECR</code> å‘½ä»¤å‡ä¸€ï¼Œä»è€Œå¯¼è‡´é”™è¯¯ã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET name johnson</span><br><span class="line">OK</span><br><span class="line">redis&gt; GET name</span><br><span class="line"><span class="string">&quot;johnson&quot;</span></span><br><span class="line">redis&gt; DECR name</span><br><span class="line">(error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¯¹ Redis ä¸­æœ€å° 64 ä½æœ‰ç¬¦å·æ•´æ•°å€¼è¿›è¡Œå‡ä¸€æ“ä½œä¼šå¯¼è‡´æ•´æ•°æº¢å‡ºï¼Œä»è€Œè¿”å›é”™è¯¯ï¼Œæ“ä½œå¤±è´¥ã€‚</p>
<ol>
<li>é¦–å…ˆä½¿ç”¨ <code>SET</code> å‘½ä»¤å°† <code>foo</code> é”®çš„å€¼è®¾ç½®ä¸ºæ•´æ•° -9223372036854775807ï¼Œè¿™æ˜¯ 64 ä½å¸¦ç¬¦å·æ•´æ•°èƒ½è¡¨ç¤ºçš„æ¬¡æœ€å°å€¼ã€‚<code>SET</code> å‘½ä»¤è¿”å› OKï¼Œè¡¨ç¤ºè®¾ç½®æˆåŠŸã€‚</li>
<li>ç„¶åä½¿ç”¨ <code>DECR</code> å‘½ä»¤å¯¹ <code>foo</code> é”®æ‰§è¡Œå‡ä¸€æ“ä½œã€‚è¿”å› -9223372036854775808ï¼Œè¿™æ˜¯ 64 ä½å¸¦ç¬¦å·æ•´æ•°çš„æœ€å°å€¼ã€‚</li>
<li>æ¥ç€å†æ¬¡ä½¿ç”¨ <code>DECR</code> å‘½ä»¤è¯•å›¾å¯¹ <code>foo</code> é”®æ‰§è¡Œå‡ä¸€æ“ä½œã€‚ä½†æ˜¯ï¼Œç”±äºé”®çš„å€¼å·²ç»æ˜¯æœ€å°çš„ 64 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå†å‡ä¸€ä¼šå¯¼è‡´æ•´æ•°æº¢å‡ºï¼Œæ‰€ä»¥ <code>DECR</code> å‘½ä»¤è¿”å› <code>(error) ERR increment or decrement would overflow</code> é”™è¯¯ï¼Œè¡¨ç¤º <code>DECR</code> æ“ä½œä¼šå¯¼è‡´æ•´æ•°æº¢å‡ºã€‚</li>
<li>ç”±äºæ•´æ•°çš„èŒƒå›´é™åˆ¶ï¼Œå¯¹ 64 ä½æœ‰ç¬¦å·æ•´æ•°æœ€å°å€¼è¿›è¡Œå‡ä¸€æ“ä½œä¼šå¯¼è‡´æº¢å‡ºï¼Œæ‰€ä»¥ Redis è¿”å›é”™è¯¯ï¼Œæ‹’ç»æ‰§è¡Œè¯¥æ“ä½œã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET foo -9223372036854775807</span><br><span class="line">OK</span><br><span class="line">redis&gt; DECR foo</span><br><span class="line">(<span class="built_in">integer</span>) -9223372036854775808</span><br><span class="line">redis&gt; DECR foo</span><br><span class="line">(error) ERR increment or decrement would overflow</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>64 ä½æœ‰ç¬¦å·æ•´æ•°çš„æ•°å€¼èŒƒå›´ï¼š[-9223372036854775808, 9223372036854775807]</p>
</blockquote>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis LCS å‘½ä»¤</title>
    <url>/2023/06/03/redis-cmd-strings-lcs/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">LCS key1 key2 [LEN] [IDX] [MINMATCHLEN min-match-len] [WITHMATCHLEN]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 7.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N*M)$</p>
<p>å…¶ä¸­ N å’Œ M åˆ†åˆ«æ˜¯ s1 å’Œ s2 çš„é•¿åº¦ã€‚ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p><code>LCS</code> å‘½ä»¤å®ç°äº†æœ€é•¿çš„å…¬å…±å­åºåˆ—ç®—æ³•ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸æœ€é•¿å…¬å…±å­—ç¬¦ä¸²ç®—æ³•ä¸åŒï¼Œå› ä¸ºå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…å­—ç¬¦ä¸éœ€è¦æ˜¯è¿ç»­çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œâ€fooâ€ å’Œ â€œfaoâ€ ä¹‹é—´çš„ LCS æ˜¯ â€œfoâ€ï¼Œå› ä¸ºä»å·¦åˆ°å³æ‰«æè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œæœ€é•¿çš„å…±åŒå­—ç¬¦é›†æ˜¯ç”±ç¬¬ä¸€ä¸ª â€œfâ€ï¼Œç„¶åæ˜¯ â€œoâ€ç»„æˆã€‚</p>
<p>LCS å¯¹äºè¯„ä¼°ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç›¸ä¼¼ç¨‹åº¦éå¸¸æœ‰ç”¨ã€‚å­—ç¬¦ä¸²å¯ä»¥è¡¨ç¤ºå¾ˆå¤šä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ DNA åºåˆ—ï¼ŒLCS å°†æä¾›ä¸¤ä¸ª DNA åºåˆ—ä¹‹é—´çš„ç›¸ä¼¼æ€§åº¦é‡ã€‚å¦‚æœå­—ç¬¦ä¸²è¡¨ç¤ºæŸäº›ç”¨æˆ·ç¼–è¾‘çš„æŸäº›æ–‡æœ¬ï¼Œåˆ™ LCS å¯ä»¥è¡¨ç¤ºæ–°æ–‡æœ¬ä¸æ—§æ–‡æœ¬ç›¸æ¯”æœ‰ä½•ä¸åŒï¼Œç­‰ç­‰ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæ­¤ç®—æ³•çš„è¿è¡Œæ—¶é—´å¤æ‚åº¦ä¸º $O(NÃ—M)$ï¼Œå…¶ä¸­ N æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼ŒM æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å› æ­¤ï¼Œ<strong>è¦ä¹ˆå¯åŠ¨ä¸€ä¸ªä¸åŒçš„ Redis å®ä¾‹æ¥è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œè¦ä¹ˆç¡®ä¿é’ˆå¯¹éå¸¸å°çš„å­—ç¬¦ä¸²è¿è¡Œå®ƒã€‚</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; MSET key1 ohmytext key2 mynewtext</span><br><span class="line">OK</span><br><span class="line">redis&gt; LCS key1 key2</span><br><span class="line"><span class="string">&quot;mytext&quot;</span></span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦çš„åªæ˜¯åŒ¹é…çš„é•¿åº¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LCS key1 key2 LEN</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>ä½†é€šå¸¸æ›´æœ‰ç”¨çš„æ˜¯çŸ¥é“æ¯ä¸ªå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…ä½ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LCS key1 key2 IDX</span><br><span class="line">1) <span class="string">&quot;matches&quot;</span></span><br><span class="line">2) 1) 1) 1) (<span class="built_in">integer</span>) 4</span><br><span class="line">         2) (<span class="built_in">integer</span>) 7</span><br><span class="line">      2) 1) (<span class="built_in">integer</span>) 5</span><br><span class="line">         2) (<span class="built_in">integer</span>) 8</span><br><span class="line">   2) 1) 1) (<span class="built_in">integer</span>) 2</span><br><span class="line">         2) (<span class="built_in">integer</span>) 3</span><br><span class="line">      2) 1) (<span class="built_in">integer</span>) 0</span><br><span class="line">         2) (<span class="built_in">integer</span>) 1</span><br><span class="line">3) <span class="string">&quot;len&quot;</span></span><br><span class="line">4) (<span class="built_in">integer</span>) 6</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<p>æ­¤ç®—æ³•æ˜¯ä»åå‘å‰ç”ŸæˆåŒ¹é…é¡¹çš„ï¼Œå› ä¸ºå®ƒçš„å·¥ä½œæ–¹å¼å°±æ˜¯è¿™æ ·ï¼Œå¹¶ä¸”æŒ‰ç›¸åŒé¡ºåºç”Ÿæˆå¯ä»¥æé«˜æ•ˆç‡ã€‚ä¸Šé¢çš„æ•°ç»„æ„å‘³ç€ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼ˆæ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼‰æ˜¯åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„ 2-3 ä½ç½®å’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„ 0-1 ä½ç½®ä¹‹é—´ã€‚ç„¶ååœ¨ 4-7 å’Œ 5-8 ä½ç½®ä¹‹é—´æ˜¯å¦ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</p>
<p>é€šè¿‡ <code>MINMATCHLEN</code> è®¾ç½®æœ€å°åŒ¹é…é•¿åº¦ï¼Œè¿‡æ»¤æ‰å°äºæ­¤é•¿åº¦çš„åŒ¹é…é¡¹ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä»£ç è®¾ç½®äº†æœ€å°åŒ¹é…é•¿åº¦ä¸º 4ï¼Œæ‰€ä»¥åªä¼šè¾“å‡ºé•¿åº¦å¤§äºç­‰äº 4 çš„åŒ¹é…é¡¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LCS key1 key2 IDX MINMATCHLEN 4</span><br><span class="line">1) <span class="string">&quot;matches&quot;</span></span><br><span class="line">2) 1) 1) 1) (<span class="built_in">integer</span>) 4</span><br><span class="line">         2) (<span class="built_in">integer</span>) 7</span><br><span class="line">      2) 1) (<span class="built_in">integer</span>) 5</span><br><span class="line">         2) (<span class="built_in">integer</span>) 8</span><br><span class="line">3) <span class="string">&quot;len&quot;</span></span><br><span class="line">4) (<span class="built_in">integer</span>) 6</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>WITHMATCHLEN</code> ä¸ä½†è¾“å‡ºåŒ¹é…é¡¹ï¼Œè¿˜è¾“å‡ºæ¯ä¸ªåŒ¹é…é¡¹çš„å…·ä½“é•¿åº¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; LCS key1 key2 IDX MINMATCHLEN 4 WITHMATCHLEN</span><br><span class="line">1) <span class="string">&quot;matches&quot;</span></span><br><span class="line">2) 1) 1) 1) (<span class="built_in">integer</span>) 4</span><br><span class="line">         2) (<span class="built_in">integer</span>) 7</span><br><span class="line">      2) 1) (<span class="built_in">integer</span>) 5</span><br><span class="line">         2) (<span class="built_in">integer</span>) 8</span><br><span class="line">      3) (<span class="built_in">integer</span>) 4</span><br><span class="line">3) <span class="string">&quot;len&quot;</span></span><br><span class="line">4) (<span class="built_in">integer</span>) 6</span><br></pre></td></tr></table></figure>

<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><ul>
<li>æ²¡æœ‰ä¿®é¥°ç¬¦æ—¶ï¼Œè¿”å›æœ€é•¿å…¬å…±å­—ç¬¦é›†çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</li>
<li>å½“ä½¿ç”¨ <code>LEN</code> ä¿®é¥°ç¬¦æ—¶ï¼Œè¿”å›æœ€é•¿å…¬å…±å­—ç¬¦é›†çš„é•¿åº¦ã€‚</li>
<li>å½“ä½¿ç”¨ <code>IDX</code> ä¿®é¥°ç¬¦æ—¶ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬æœ€é•¿å…¬å…±å­—ç¬¦é›†çš„é•¿åº¦ä»¥åŠä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰åŒ¹é…é¡¹çš„èŒƒå›´ï¼ˆæ¯ä¸ªå­—ç¬¦ä¸²çš„èµ·å§‹å’Œç»“æŸåç§»é‡ï¼‰ã€‚å½“åŒæ—¶ä½¿ç”¨ <code>WITHMATCHLEN</code> ä¿®é¥°ç¬¦æ—¶ï¼Œè¡¨ç¤ºæ¯ä¸ªåŒ¹é…é¡¹çš„æ•°ç»„è¿˜å°†åŒ…å«è¯¥åŒ¹é…é¡¹çš„é•¿åº¦ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis SETEX å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-setex/</url>
    <content><![CDATA[<blockquote>
<p>ä» Redis 2.6.12 ç‰ˆæœ¬å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«æ ‡è®°ä¸º<strong>å·²åºŸå¼ƒ</strong>ã€‚<br>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°çš„ä»£ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰ <code>EX</code> å‚æ•°çš„ <code>SET</code> å‘½ä»¤æ›¿ä»£ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SETEX key seconds value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è®¾ç½® key ä»¥ä¿å­˜å­—ç¬¦ä¸²å€¼ï¼Œå¹¶å°† key è®¾ç½®ä¸ºåœ¨ç»™å®šçš„ç§’æ•°åè¿‡æœŸã€‚æ­¤å‘½ä»¤ç­‰æ•ˆäºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SET key value EX seconds</span><br></pre></td></tr></table></figure>

<p>å½“ç§’æ•°æ— æ•ˆæ—¶ï¼Œè¿”å›é”™è¯¯ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>å¦‚æœæ­£ç¡®æ‰§è¡Œï¼Œåˆ™è¿”å› OKã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SETEX tt_key 1000 <span class="string">&quot;JOHNSON&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; TTL tt_key</span><br><span class="line">(<span class="built_in">integer</span>) 1000</span><br><span class="line">redis&gt; GET tt_key</span><br><span class="line"><span class="string">&quot;JOHNSON&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PSETEX å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-psetex/</url>
    <content><![CDATA[<blockquote>
<p>ä» Redis 2.6.12 ç‰ˆæœ¬å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«è§†ä¸º<strong>å·²å¼ƒç”¨</strong>ã€‚<br>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°çš„ä»£ç æ—¶ï¼Œå¯ä»¥å°†å…¶æ›¿æ¢ä¸ºå¸¦æœ‰ <code>PX</code> å‚æ•°çš„ <code>SET</code> å‘½ä»¤ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PSETEX key milliseconds value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.6.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p><code>PSETEX</code> çš„å·¥ä½œæ–¹å¼ä¸ <code>SETEX</code> å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯è¿‡æœŸæ—¶é—´æ˜¯ä»¥æ¯«ç§’è€Œä¸æ˜¯ä»¥ç§’ä¸ºå•ä½ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>æ€»æ˜¯è¿”å› <code>&quot;OK&quot;</code></p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; PSETEX mykey 1000 <span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="string">&quot;OK&quot;</span></span><br><span class="line">redis&gt; PTTL mykey</span><br><span class="line">(<span class="built_in">integer</span>) 1000</span><br><span class="line">redis&gt; GET mykey</span><br><span class="line"><span class="string">&quot;Hello&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis SETNX å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-setnx/</url>
    <content><![CDATA[<blockquote>
<p>ä» Redis 2.6.12 ç‰ˆæœ¬å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«æ ‡è®°ä¸º<strong>å·²åºŸå¼ƒ</strong>ã€‚<br>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°çš„ä»£ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¸¦æœ‰ <code>NX</code> å‚æ•°çš„ <code>SET</code> å‘½ä»¤æ›¿ä»£ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SETNX key value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™å°† <code>key</code> è®¾ç½®ä¸ºä¿å­˜å­—ç¬¦ä¸²å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒç­‰äº <code>SET</code>ã€‚å½“ <code>key</code> å·²ç»å­˜åœ¨æ—¶ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚ </p>
<p><code>SETNX</code> æ˜¯ â€œ<strong>SET</strong> if <strong>N</strong>ot e<strong>X</strong>istsâ€ çš„ç¼©å†™ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼š</p>
<ul>
<li>å¦‚æœ <code>key</code> è¢«æˆåŠŸè®¾ç½®ï¼Œåˆ™è¿”å› 1ï¼›</li>
<li>å¦‚æœ <code>key</code> æ²¡è¢«è®¾ç½®ï¼Œåˆ™è¿”å› 0</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SETNX john <span class="string">&quot;JOHNSON&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; SETNX john <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; GET john</span><br><span class="line"><span class="string">&quot;JOHNSON&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis SETRANGE å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-setrange/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SETRANGE key offset value</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.2.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p>ä¸åŒ…å«å¤åˆ¶æ–°å­—ç¬¦ä¸²çš„æ—¶é—´ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²éå¸¸å°ï¼Œæ‰€ä»¥æ‘Šé”€åçš„å¤æ‚åº¦æ˜¯ $O(1)$ã€‚å¦åˆ™ï¼Œå¤æ‚åº¦æ˜¯ $O(M)$ï¼ŒM æ˜¯å­—ç¬¦ä¸²å‚æ•° <code>value</code> çš„é•¿åº¦ã€‚</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>ç”¨å­—ç¬¦ä¸²å‚æ•° <code>value</code> è¦†ç›–å­˜å‚¨åœ¨ <code>key</code> ä¸Šçš„å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œè¦†ç›–çš„ä½ç½®ä»åç§»é‡ <code>offset</code> å¼€å§‹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå­˜å‚¨åœ¨é”® <code>user</code> åŸæ¥çš„å­—ç¬¦ä¸²å€¼ä¸º <code>Johnson</code>ï¼Œç°åœ¨ç”¨å­—ç¬¦ä¸² <code>LIN</code> æ›¿æ¢è¯¥å­—ç¬¦ä¸²å€¼ä»åç§»é‡ 4 å¼€å§‹ä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼Œè¦†ç›–åæœ€ç»ˆçš„å­—ç¬¦ä¸²å€¼ä¸º <code>JohnLIN</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;Johnson&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET user</span><br><span class="line"><span class="string">&quot;Johnson&quot;</span></span><br><span class="line">redis&gt; SETRANGE user 4 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br><span class="line">redis&gt; GET user</span><br><span class="line"><span class="string">&quot;JohnLIN&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœåç§»é‡ <code>offset</code> å¤§äºå­˜å‚¨åœ¨ <code>key</code> ä¸Šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™ç”¨é›¶å­—èŠ‚ï¼ˆzero-bytesï¼‰è¿›è¡Œå¡«å……è¯¥å­—ç¬¦ä¸²ä»¥ä½¿åç§»é‡åˆæ³•ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå­˜å‚¨åœ¨é”® <code>username</code> ä¸ŠåŸæ¥çš„å­—ç¬¦ä¸²ä¸º <code>JohnLIN</code>ï¼Œç°åœ¨é€šè¿‡ <code>SETRANGE</code> å‘½ä»¤ï¼Œç”¨å­—ç¬¦ä¸² <code>LIN</code> æ›¿æ¢è¯¥å­—ç¬¦ä¸²ä»åç§»é‡ 10 å¼€å§‹ä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼Œä½†è¯¥å­—ç¬¦ä¸²çš„é•¿åº¦åªæœ‰ 7ï¼Œæ‰€ä»¥ä¼šå…ˆä½¿ç”¨ä¸‰ä¸ªé›¶å­—èŠ‚ï¼ˆ<code>\x00</code>ï¼‰å¡«å……åˆ°è¯¥å­—ç¬¦ä¸²çš„å·¦ä¾§ï¼Œä½¿å­—ç¬¦ä¸²çš„é•¿åº¦å˜ä¸º 10ï¼Œç„¶åå†ç”¨å­—ç¬¦ä¸² <code>LIN</code> æ›¿æ¢è¯¥å­—ç¬¦ä¸²å€¼ä»åç§»é‡ 10 å¼€å§‹ä¹‹åçš„æ‰€æœ‰å­—ç¬¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;JohnLIN&quot;</span></span><br><span class="line">redis&gt; SETRANGE username 10 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 13</span><br><span class="line">redis&gt; GET username</span><br><span class="line"><span class="string">&quot;JohnLIN\x00\x00\x00LIN&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¸å­˜åœ¨çš„é”®åˆ™è¢«è®¤ä¸ºæ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¿™ä¸ªå‘½ä»¤å°†ç¡®ä¿å®ƒæŒæœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å­—ç¬¦ä¸²ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨åç§»å¤„è®¾ç½®å€¼ã€‚å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SETRANGE jk 2 <span class="string">&quot;LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">redis&gt; GET jk</span><br><span class="line"><span class="string">&quot;\x00\x00LIN&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>æˆ‘ä»¬å¯ä»¥è®¾ç½®çš„æœ€å¤§åç§»é‡æ˜¯ $2^{29} -1$ï¼ˆ536870911ï¼‰ï¼Œè¿™æ˜¯å› ä¸º Redis å­—ç¬¦ä¸²è¢«é™åˆ¶åœ¨ 512 å…†å­—èŠ‚ã€‚å¦‚æœéœ€è¦è®¾ç½®çš„åç§»é‡è¶…è¿‡è¿™ä¸ªå¤§å°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªé”®ã€‚</p>
<p><strong>è­¦å‘Šï¼š</strong>å½“è®¾ç½®æœ€åä¸€ä¸ªå¯èƒ½çš„å­—èŠ‚ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ key å¤„çš„å­—ç¬¦ä¸²å€¼è¿˜æ²¡æœ‰æŒæœ‰å­—ç¬¦ä¸²å€¼ï¼Œæˆ–è€…æŒæœ‰ä¸€ä¸ªå°çš„å­—ç¬¦ä¸²å€¼ï¼ŒRedis éœ€è¦åˆ†é…æ‰€æœ‰çš„ä¸­é—´å†…å­˜ï¼Œè¿™å¯èƒ½ä¼šé˜»å¡æœåŠ¡å™¨ä¸€æ®µæ—¶é—´ã€‚åœ¨ 2010 å¹´çš„ MacBook Pro ä¸Šï¼Œè®¾ç½®å­—èŠ‚å· 536870911ï¼ˆ512MBåˆ†é…ï¼‰å¤§çº¦éœ€è¦ 300msï¼Œè®¾ç½®å­—èŠ‚å· 134217728ï¼ˆ128MBåˆ†é…ï¼‰å¤§çº¦éœ€è¦ 80msï¼Œè®¾ç½®ä½å· 33554432ï¼ˆ32MBåˆ†é…ï¼‰å¤§çº¦éœ€è¦ 30msï¼Œè®¾ç½®ä½å· 8388608ï¼ˆ8MBåˆ†é…ï¼‰å¤§çº¦éœ€è¦ 8msã€‚è¯·æ³¨æ„ï¼Œä¸€æ—¦å®Œæˆäº†ç¬¬ä¸€æ¬¡åˆ†é…ï¼Œä»¥åå¯¹åŒä¸€é”®çš„ <code>SETRANGE</code> çš„è°ƒç”¨å°†ä¸ä¼šæœ‰åˆ†é…çš„å¼€é”€ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis STRLEN å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-strlen/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">STRLEN key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.2.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>è¿”å›å­˜å‚¨åœ¨ key å¤„çš„å­—ç¬¦ä¸²å€¼çš„é•¿åº¦ã€‚å½“ key å­˜å‚¨çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œåˆ™è¿”å›é”™è¯¯ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼š</p>
<ul>
<li>key å¯¹åº”å€¼çš„å­—ç¬¦ä¸²é•¿åº¦ï¼›</li>
<li>å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› 0ã€‚</li>
</ul>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>è¿”å›é”® user å­˜å‚¨çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; STRLEN user</span><br><span class="line">(<span class="built_in">integer</span>) 11</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>é”® nonexisting ä¸å­˜åœ¨ï¼Œ<code>STRLEN</code> æ“ä½œè¿”å› 0ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS nonexisting</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; STRLEN nonexisting</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>é”® listkey å­˜å‚¨çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œ<code>STRLEN</code> æ“ä½œè¿”å›é”™è¯¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; RPUSH listkey <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; TYPE listkey</span><br><span class="line">list</span><br><span class="line">redis&gt; STRLEN listkey</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis SUBSTR å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-substr/</url>
    <content><![CDATA[<blockquote>
<p>ä» Redis 2.0.0 ç‰ˆæœ¬å¼€å§‹ï¼Œæ­¤å‘½ä»¤è¢«æ ‡è®°ä¸º<strong>å·²åºŸå¼ƒ</strong>ã€‚<br>åœ¨è¿ç§»æˆ–ç¼–å†™æ–°çš„ä»£ç æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>GETRANGE</code> å‘½ä»¤æ›¿ä»£ã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SUBSTR key start end</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$ </p>
<p>å…¶ä¸­ N æ˜¯è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¤æ‚åº¦æœ€ç»ˆæ˜¯ç”±è¿”å›çš„é•¿åº¦å†³å®šçš„ï¼Œä½†æ˜¯ç”±äºä»ç°æœ‰çš„å­—ç¬¦ä¸²ä¸­åˆ›å»ºä¸€ä¸ªå­ä¸²çš„ä»£ä»·æ˜¯éå¸¸ä½çš„ï¼Œå¯¹äºå°çš„å­—ç¬¦ä¸²å¯ä»¥è®¤ä¸ºæ˜¯ $O(1)$ã€‚</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è¿”å›å­˜å‚¨åœ¨ key ä¸­çš„å­—ç¬¦ä¸²å€¼çš„å­ä¸²ï¼Œç”±åç§»é‡ start å’Œ end å†³å®šï¼ˆä¸¤è€…å‡åŒ…æ‹¬åœ¨å†…ï¼‰ã€‚è´Ÿçš„åç§»é‡å¯ä»¥ç”¨æ¥æä¾›ä¸€ä¸ªä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹çš„åç§»é‡ã€‚æ‰€ä»¥ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå­—ç¬¦ï¼Œ-2 è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>è¯¥å‘½ä»¤é€šè¿‡å°†ç»“æœèŒƒå›´é™åˆ¶ä¸ºå­—ç¬¦ä¸²çš„å®é™…é•¿åº¦æ¥å¤„ç†è¶…å‡ºèŒƒå›´çš„è¯·æ±‚ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›å­˜å‚¨åœ¨ key ä¸­çš„å­—ç¬¦ä¸²å€¼çš„å­ä¸²ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; SUBSTR user 1 2</span><br><span class="line"><span class="string">&quot;OH&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>ä½¿ç”¨è´Ÿçš„åç§»é‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; SUBSTR user -3 -1</span><br><span class="line"><span class="string">&quot;LIN&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å½“åç§»é‡è¶…å‡ºå­—ç¬¦ä¸²çš„å®é™…é•¿åº¦æ—¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET user <span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; SUBSTR user 10 20</span><br><span class="line"><span class="string">&quot;N&quot;</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»æºä»£ç ç¼–è¯‘å’Œå®‰è£… Redis</title>
    <url>/2023/06/02/install-redis-from-source/</url>
    <content><![CDATA[<p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸»æµæ“ä½œç³»ç»Ÿï¼ˆåŒ…æ‹¬ Windowsã€Linux å’Œ macOSï¼‰ä¸Šä»æºä»£ç ç¼–è¯‘å’Œå®‰è£… Redisã€‚Redis é™¤äº† C ç¼–è¯‘å™¨å’Œ <code>libc</code> ä¹‹å¤–æ²¡æœ‰å…¶ä»–ä¾èµ–ã€‚</p>
<p>Rediså¯ä»¥åœ¨ä»¥ä¸‹ç³»ç»Ÿä¸Šç¼–è¯‘å’Œå®‰è£…ï¼š</p>
<ul>
<li>Linux - åŒ…æ‹¬ Ubuntuï¼ŒRedHatï¼ŒArch Linux ç­‰å‘è¡Œç‰ˆã€‚</li>
<li>macOS</li>
<li>å…¶ä»–ç±» UNIX ç³»ç»Ÿ - å¦‚ FreeBSDï¼ŒOpenBSDã€‚</li>
<li>Windows - éœ€è¦å®‰è£… MinGW å¹¶ç¼–è¯‘ Windows ç‰ˆæœ¬çš„ Redisã€‚</li>
</ul>
<p>è¦ä»æºä»£ç ç¼–è¯‘ Redisï¼Œéœ€è¦ï¼š</p>
<ol>
<li>å®‰è£… git å¹¶å…‹éš† Redis æœ€æ–°ç‰ˆæœ¬çš„æºä»£ç ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/redis/redis.git</span><br></pre></td></tr></table></figure>

<p>Redis çš„æºæ–‡ä»¶ä¹Ÿå¯ä»¥ä»å®˜æ–¹ä¸‹è½½é¡µ [<a href="https://redis.io/download]">https://redis.io/download]</a> ç›´æ¥ä¸‹è½½è·å¾—ã€‚å¯ä»¥é€šè¿‡å¯¹ç…§ <a href="https://github.com/redis/redis-hashes">redis-hashes</a> git ä»“åº“ä¸­çš„æ‘˜è¦æ¥éªŒè¯è¿™äº›ä¸‹è½½æ–‡ä»¶çš„å®Œæ•´æ€§ã€‚</p>
<p>è¦ä» Redis ä¸‹è½½ç«™ç‚¹è·å–æœ€æ–°ç¨³å®šç‰ˆ Redis çš„æºæ–‡ä»¶ï¼Œè¯·è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://download.redis.io/redis-stable.tar.gz</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è¿›å…¥ Redis æºä»£ç ç›®å½•ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸‹è½½çš„æ˜¯æºç å‹ç¼©åŒ…ï¼Œåˆ™éœ€è¦å…ˆè¿›è¡Œè§£å‹ï¼Œå†è¿›å…¥ Redis æºä»£ç ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzvf redis-stable.tar.gz</span><br><span class="line"><span class="built_in">cd</span> redis-stable</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è¿è¡Œ <code>make</code> å‘½ä»¤ç¼–è¯‘ Redis:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç¼–è¯‘æˆåŠŸï¼Œä½ ä¼šåœ¨ <code>src</code> ç›®å½•ä¸­æ‰¾åˆ°å‡ ä¸ª Redis äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>redis-server</strong>ï¼šRedis æœåŠ¡æœ¬èº«ï¼›</li>
<li><strong>redis-cli</strong>ï¼šç”¨äºä¸ Redis å¯¹è¯çš„å‘½ä»¤è¡Œç•Œé¢å·¥å…·ã€‚</li>
</ul>
<ol start="4">
<li>å®‰è£… Redis ï¼ˆå¯é€‰æ­¥éª¤ï¼‰ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> make install</span><br></pre></td></tr></table></figure>

<p>è¿™å°† Redis äºŒè¿›åˆ¶æ–‡ä»¶å¤åˆ¶åˆ° <code>/usr/local/bin</code>ã€‚ä½ ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œ <code>src/redis-server</code> å’Œ <code>src/redis-cli</code> ä½¿ç”¨ Redisã€‚</p>
<ol start="5">
<li>å¯åŠ¨ Redis æœåŠ¡ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨æˆåŠŸåï¼ŒRedis ä¼šåœ¨å‰å°è¿è¡Œï¼ŒåŒæ—¶ä¹Ÿèƒ½çœ‹åˆ° Redis çš„å¯åŠ¨æ—¥å¿—ã€‚ä½¿ç”¨ Ctrl + C å¯ä»¥åœæ­¢ Redisã€‚</p>
<ol start="6">
<li>ä½¿ç”¨ Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>æŸ¥çœ‹ Redis ç‰ˆæœ¬å·</title>
    <url>/2023/06/02/how-to-check-the-redis-version/</url>
    <content><![CDATA[<h2 id="æŸ¥çœ‹æœåŠ¡ç«¯ç‰ˆæœ¬"><a href="#æŸ¥çœ‹æœåŠ¡ç«¯ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹æœåŠ¡ç«¯ç‰ˆæœ¬"></a><strong>æŸ¥çœ‹æœåŠ¡ç«¯ç‰ˆæœ¬</strong></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-server -v</span><br></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-server --version</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>redis-server -v</code> æŸ¥çœ‹ Redis çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ redis-server -v</span><br><span class="line">Redis server v=7.0.4 sha=00000000:0 malloc=jemalloc-5.2.1 bits=64 build=59659b131c47ab91</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>redis-server</code> - è¡¨ç¤ºè¿™æ˜¯ Redis æœåŠ¡å™¨è¿›ç¨‹</li>
<li><code>v=7.0.4</code> - Redis çš„ç‰ˆæœ¬å·ï¼Œè¿™é‡Œæ˜¯7.0.4ç‰ˆæœ¬</li>
<li><code>sha=00000000:0</code> - Git SHA æ ‡è¯†ï¼Œç”¨æ¥æ ‡è¯† Git ä¸­çš„æŸä¸ªæäº¤</li>
<li><code>malloc=jemalloc-5.2.1</code> - Redis ä½¿ç”¨çš„å†…å­˜åˆ†é…å™¨ï¼Œè¿™é‡Œæ˜¯ jemalloc 5.2.1 ç‰ˆæœ¬</li>
<li><code>bits=64</code> - Redis ç¼–è¯‘æ—¶ä½¿ç”¨çš„ä½æ•°ï¼Œè¿™é‡Œæ˜¯ 64 ä½</li>
<li><code>build=59659b131c47ab91</code> - Redis çš„æ„å»º ID</li>
</ul>
<h2 id="æŸ¥çœ‹å®¢æˆ·ç«¯ç‰ˆæœ¬"><a href="#æŸ¥çœ‹å®¢æˆ·ç«¯ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹å®¢æˆ·ç«¯ç‰ˆæœ¬"></a><strong>æŸ¥çœ‹å®¢æˆ·ç«¯ç‰ˆæœ¬</strong></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli -v</span><br></pre></td></tr></table></figure>

<p>æˆ–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis-cli --version</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤è¾“å‡º <code>redis-cli 7.0.4</code> è¡¨ç¤ºå½“å‰ä½¿ç”¨çš„ Redis å‘½ä»¤è¡Œå®¢æˆ·ç«¯çš„ç‰ˆæœ¬æ˜¯7.0.4ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ redis-cli -v</span><br><span class="line">redis-cli 7.0.4</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨-info-å‘½ä»¤æŸ¥çœ‹-Redis-æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯"><a href="#ä½¿ç”¨-info-å‘½ä»¤æŸ¥çœ‹-Redis-æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="ä½¿ç”¨ info å‘½ä»¤æŸ¥çœ‹ Redis æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯"></a>ä½¿ç”¨ info å‘½ä»¤æŸ¥çœ‹ Redis æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">info server</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆï¼Œä½¿ç”¨ <code>redis-cli</code> å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿æ¥åˆ° Redis æœåŠ¡ï¼Œè¾“å…¥ <code>info server</code> å³å¯æŸ¥çœ‹ Redis æœåŠ¡è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œé™¤äº†è¾“å‡º Redis æœåŠ¡çš„ç‰ˆæœ¬ä¿¡æ¯å¤–ï¼Œè¿˜è¾“å‡ºäº†å…¶ä»–æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>redis_version</code>ï¼šRedis ç‰ˆæœ¬ï¼Œè¿™é‡Œæ˜¯7.0.4</li>
<li><code>redis_git_sha1</code>ï¼šGit SHAï¼Œè¿™é‡Œæ˜¯ 00000000ï¼Œè¡¨ç¤ºè¿™ä¸æ˜¯ä¸€ä¸ª Git ç‰ˆæœ¬</li>
<li><code>redis_build_id</code>ï¼šæ„å»º IDï¼Œè¿™é‡Œæ˜¯ 59659b131c47ab91</li>
<li><code>os</code>ï¼šRedis è¿è¡Œçš„æ“ä½œç³»ç»Ÿï¼Œè¿™é‡Œæ˜¯ Linux</li>
<li><code>arch_bits</code>ï¼šæ¶æ„ï¼ˆ32 æˆ– 64 ä½ï¼‰ï¼Œè¿™é‡Œæ˜¯64ä½</li>
<li><code>gcc_version</code>ï¼šç¼–è¯‘ Redis æ—¶ä½¿ç”¨çš„ GCC ç‰ˆæœ¬ï¼Œè¿™é‡Œæ˜¯ 9.4.0</li>
<li><code>process_id</code>ï¼šRedis è¿›ç¨‹ IDï¼Œè¿™é‡Œæ˜¯ 7797</li>
<li><code>tcp_port</code>ï¼šRedis æ­£åœ¨ç›‘å¬çš„ TCP ç«¯å£ï¼Œè¿™é‡Œæ˜¯é»˜è®¤çš„ 6379</li>
<li><code>uptime_in_seconds</code>ï¼šRedis è¿è¡Œæ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¿™é‡Œæ˜¯ 25305 ç§’</li>
<li><code>hz</code>ï¼šRedis æœåŠ¡å™¨çš„é¢‘ç‡ï¼Œè¿™é‡Œæ˜¯10Hz</li>
<li><code>lru_clock</code>ï¼šç”¨äº LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨)ç®—æ³•çš„æ—¶é’Ÿå‘¨æœŸï¼Œè¿™é‡Œæ˜¯ 7977440</li>
<li><code>config_file</code>ï¼šRedis é…ç½®æ–‡ä»¶çš„è·¯å¾„</li>
<li><code>io_threads_active</code>ï¼šæ´»åŠ¨ I/O çº¿ç¨‹çš„æ•°é‡ï¼Œè¿™é‡Œæ˜¯ 0</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; info server</span><br><span class="line"><span class="comment"># Server</span></span><br><span class="line">redis_version:7.0.4</span><br><span class="line">redis_git_sha1:00000000</span><br><span class="line">redis_git_dirty:0</span><br><span class="line">redis_build_id:59659b131c47ab91</span><br><span class="line">redis_mode:standalone</span><br><span class="line">os:Linux 4.4.0-19041-Microsoft x86_64</span><br><span class="line">arch_bits:64</span><br><span class="line">monotonic_clock:POSIX clock_gettime</span><br><span class="line">multiplexing_api:epoll</span><br><span class="line">atomicvar_api:c11-builtin</span><br><span class="line">gcc_version:9.4.0</span><br><span class="line">process_id:7797</span><br><span class="line">process_supervised:no</span><br><span class="line">run_id:7f922a2e5b1f2f8556042fb7faf6ae62a0c65c2b</span><br><span class="line">tcp_port:6379</span><br><span class="line">server_time_usec:1685699040255722</span><br><span class="line">uptime_in_seconds:25305</span><br><span class="line">uptime_in_days:0</span><br><span class="line">hz:10</span><br><span class="line">configured_hz:10</span><br><span class="line">lru_clock:7977440</span><br><span class="line">executable:/mnt/d/opt/redis-7.0.4/src/redis-server</span><br><span class="line">config_file:</span><br><span class="line">io_threads_active:0</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Analyzing Redis Source Code: The Structure and Design of Hash Tables, Chained Hashing, and Incremental Rehashing</title>
    <url>/2024/09/11/analyzing-redis-source-code-hash/</url>
    <content><![CDATA[<blockquote>
<p>Redis offers a classic implementation of hash tables. To handle hash collisions, Redis employs chained hashing, which links data with the same hash value in a list rather than expanding the table. This ensures that all data remains accessible within the hash table. To minimize the performance impact of rehashing, Redis uses a incremental rehashing strategy, which distributes the workload of rehashing over time to reduce system overhead.</p>
</blockquote>
<p>In this article, Iâ€™ll guide you through the core design principles and implementation details of Redis hash tables. By understanding how Redis manages hash collisions and optimizes rehashing, youâ€™ll gain the tools to implement high-performance hash tables when handling large datasets in practical applications.</p>
<h2 id="How-does-Redis-Implement-Chained-Hashing"><a href="#How-does-Redis-Implement-Chained-Hashing" class="headerlink" title="How does Redis Implement Chained Hashing?"></a>How does Redis Implement Chained Hashing?</h2><p>Before we dive into Redisâ€™ implementation of chained hashing, itâ€™s essential to first understand the structure of Redis hash tables and the cause of hash collisions as data volume increases. This context will help clarify how chained hashing effectively addresses these collisions.</p>
<h3 id="What-is-a-Hash-Collision"><a href="#What-is-a-Hash-Collision" class="headerlink" title="What is a Hash Collision?"></a>What is a Hash Collision?</h3><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">At its core, a hash table is an array where each element represents a hash bucket. The first element is bucket 0, the second is bucket 1, and so on. When a key-value pair is inserted, the key is processed by a hash function, and the result is taken modulo the number of elements in the array. This gives the index (or bucket) where the key-value pair will be stored.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">For example, as shown in the diagram below, after hashing </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key1&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, it maps to bucket 1. Similarly, </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key3&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key16&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> map to buckets 7 and 4, respectively.</font></p>
<p><img src="/image/redis-src/2024091101.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">From the diagram, we see that there are 16 keys to store, but the hash table only has 8 available slots. This leads to a situation where multiple keys are assigned to the same bucket, resulting in a hash collision.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In practical use, itâ€™s often difficult to predict exactly how much data will need to be stored in a hash table. Creating an oversized hash table upfront can lead to wasted space if the data volume remains low. For this reason, hash tables are typically initialized with a smaller size, with the expectation that the number of keys (keyspace) will eventually outgrow the initial table size.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">This mismatch between keyspace and hash table size inevitably causes different keys to be mapped to the same bucket by the hash function, resulting in hash collisions. If each bucket can only store a single key-value pair, this limits the hash tableâ€™s ability to manage large datasets effectively. For example, if both </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key3&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> are mapped to bucket 5, and bucket 5 can only hold one key, one of the keys would fail to be stored in the hash table.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><img src="/image/redis-src/2024091102.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To resolve hash collisions, two common solutions are used:</font></p>
<ol>
<li><strong><font style="background-color:rgb(249, 250, 251);">Chaining</font></strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which Iâ€™ll introduce next, allows multiple keys to be stored in the same bucket by linking them in a list. However, itâ€™s important to ensure that chains donâ€™t become too long, as this can degrade the hash tableâ€™s performance.</font></li>
<li><strong><font style="background-color:rgb(249, 250, 251);">Rehashing</font></strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which redistributes the keys when the chain length exceeds a certain threshold. Rehashing can be costly, but Redis mitigates this with incremental rehashing, which spreads the rehashing process over time.</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Letâ€™s now explore how chained hashing is designed and implemented to handle hash collisions.</font></p>
<h3 id="How-is-Chained-Hashing-Designed-and-Implemented"><a href="#How-is-Chained-Hashing-Designed-and-Implemented" class="headerlink" title="How is Chained Hashing Designed and Implemented?"></a><font style="background-color:rgb(249, 250, 251);">How is Chained Hashing Designed and Implemented?</font></h3><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Chained hashing is a technique where keys mapped to the same bucket in a hash table are linked together using a linked list. Letâ€™s explore how Redis implements chained hashing and why itâ€™s effective in resolving hash collisions.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">First, we need to understand how the hash table is implemented in Redis. The source code related to Redisâ€™s hash table can be found in two main files: </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.h&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.c&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. The </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.h&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> file defines the structure of the hash table, hash entries, and various operation functions, while </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.c&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> contains the actual implementation of these operations.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.h&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, the hash table is defined as a two-dimensional array (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry **table&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">), where each element is a pointer to a hash entry (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">). The following code snippet shows how the hash table is defined in </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict.h&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* This is our hash table structure. Every dictionary has two of this as we</span></span><br><span class="line"><span class="comment"> * implement incremental rehashing, for the old to the new table. */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dictht</span> &#123;</span></span><br><span class="line">    dictEntry **table;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> size;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> sizemask;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> used;</span><br><span class="line">&#125; dictht;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To implement chained hashing, Redisâ€™s </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure is designed to include a pointer not only to the key and value but also to the next hash entry. This is what creates the linked list for handling collisions. As shown in the code, the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure includes a pointer, </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;*next&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which points to another </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structureâ€”this is how Redis implements chained hashing.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dictEntry</span> &#123;</span></span><br><span class="line">    <span class="type">void</span> *key;</span><br><span class="line">    <span class="class"><span class="keyword">union</span> &#123;</span></span><br><span class="line">        <span class="type">void</span> *val;</span><br><span class="line">        <span class="type">uint64_t</span> u64;</span><br><span class="line">        <span class="type">int64_t</span> s64;</span><br><span class="line">        <span class="type">double</span> d;</span><br><span class="line">    &#125; v;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dictEntry</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; dictEntry;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In addition to the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;next&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> pointer for chaining, thereâ€™s another interesting detail worth noting. The value in the key-value pair is defined by a union, </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;v&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, in the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictEntry&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure. This union includes a pointer to the actual value (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;*val&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">), as well as fields for storing an unsigned 64-bit integer, a signed 64-bit integer, or a </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;double&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> value.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The reason Iâ€™m pointing this out is that this design choice is a clever memory-saving technique. When the value is an integer or a double, which are 64-bit types, thereâ€™s no need for an additional pointer to store the value. Instead, the value can be stored directly within the key-value structure, reducing the need for extra memory.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">At this point, you should have a solid understanding of how Redis implements chained hashing. But you might still be wondering how this helps resolve hash collisions. </font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Let me explain using an example: both </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key3&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> are mapped to bucket 5 in the hash table. With chained hashing, bucket 5 doesnâ€™t just store </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key3&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> or </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">â€”instead, it uses a linked list to connect </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key3&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, as shown in the diagram below. As more keys are mapped to bucket 5, they are all linked together in a list, thus managing the collisions.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><img src="/image/redis-src/2024091103.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">When we want to search for </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, we start by computing its hash value and finding that it maps to bucket 5. We then traverse the linked list in bucket 5, comparing each key until we find </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;key100&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. This is how chained hashing allows us to resolve collisions and locate the desired entry.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">However, there is a drawback to chained hashing. As the linked list in a single bucket grows longer, the time it takes to search for a key in that bucket increases, which can degrade the overall performance of the hash table.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">So, is there a way to minimize the performance impact? Yes! That brings us to the next topic: the design and implementation of </font><em><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">rehashing</font></em><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<h2 id="How-does-Redis-Implement-Rehashing"><a href="#How-does-Redis-Implement-Rehashing" class="headerlink" title="How does Redis Implement Rehashing?"></a>How does Redis Implement Rehashing?</h2><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Rehashing in Redis essentially refers to expanding the size of the hash table. The basic approach Redis takes to implement rehashing is as follows:</font></p>
<ol>
<li><strong>Redis uses two hash tables alternately during rehashing</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. As I mentioned earlier, Redis defines the hash table using the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictht&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict.h&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. However, when actually using the hash table, Redis also defines a </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure in the same file. This structure contains an array (</font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[2]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) with two hash tables: </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. The </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure is defined in the code as follows:</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">dict</span> &#123;</span></span><br><span class="line">    dictType *type;</span><br><span class="line">    <span class="type">void</span> *privdata;</span><br><span class="line">    dictht ht[<span class="number">2</span>];</span><br><span class="line">    <span class="type">long</span> rehashidx; <span class="comment">/* rehashing not in progress if rehashidx == -1 */</span></span><br><span class="line">    <span class="type">int16_t</span> pauserehash; <span class="comment">/* If &gt;0 rehashing is paused (&lt;0 indicates coding error) */</span></span><br><span class="line">&#125; dict;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<ol start="2">
<li>**During normal operation, all key-value pairs are written to **<code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></li>
<li><strong>When rehashing occurs</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, key-value pairs are gradually migrated from </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> to </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></li>
<li><strong>After migration is complete</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, the memory space of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is released, and the address of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is assigned to </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Then, the size of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is reset to zero. At this point, Redis resumes normal operations, with </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> handling requests and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> reserved for the next rehash.</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To help you understand this alternating process between </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, Iâ€™ve included a diagram below.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><img src="/image/redis-src/2024091104.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Now that you have a basic understanding of how Redis alternates between two hash tables to implement rehashing, letâ€™s discuss some important questions that need to be addressed during rehashing. I believe there are three key issues to consider:</font></p>
<ol>
<li><strong>When should rehashing be triggered?</strong></li>
<li><strong>How much should the hash table be expanded?</strong></li>
<li><strong>How should rehashing be carried out?</strong></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Next, Iâ€™ll walk you through the code implementation for each of these questions, so you can clearly see how Redis handles these aspects of rehashing.</font></p>
<h3 id="When-Should-Rehashing-Be-Triggered"><a href="#When-Should-Rehashing-Be-Triggered" class="headerlink" title="When Should Rehashing Be Triggered?"></a>When Should Rehashing Be Triggered?</h3><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To determine when rehashing is needed, Redis uses the function </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Letâ€™s first look at the conditions within this function that trigger resizing, and then explore where this function is called in the Redis codebase.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">There are three conditions defined in the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function that can trigger expansion:</font></p>
<ol>
<li><strong>Condition 1</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: The size of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is zero.</font></li>
<li><strong>Condition 2</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: The number of elements in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> exceeds its current size, and the hash table can be resized.</font></li>
<li><strong>Condition 3</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: The number of elements in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is a multiple of the table size, defined by </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict_force_resize_ratio&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> (which defaults to 5).</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Hereâ€™s a snippet of the code defining these conditions in the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Expand the hash table if needed */</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> _dictExpandIfNeeded(dict *d)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Incremental rehashing already in progress. Return. */</span></span><br><span class="line">    <span class="keyword">if</span> (dictIsRehashing(d)) <span class="keyword">return</span> DICT_OK;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* If the hash table is empty expand it to the initial size. */</span></span><br><span class="line">    <span class="keyword">if</span> (d-&gt;ht[<span class="number">0</span>].size == <span class="number">0</span>) <span class="keyword">return</span> dictExpand(d, DICT_HT_INITIAL_SIZE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* If we reached the 1:1 ratio, and we are allowed to resize the hash</span></span><br><span class="line"><span class="comment">     * table (global setting) or we should avoid it but the ratio between</span></span><br><span class="line"><span class="comment">     * elements/buckets is over the &quot;safe&quot; threshold, we resize doubling</span></span><br><span class="line"><span class="comment">     * the number of buckets. */</span></span><br><span class="line">    <span class="keyword">if</span> (!dictTypeExpandAllowed(d))</span><br><span class="line">        <span class="keyword">return</span> DICT_OK;</span><br><span class="line">    <span class="keyword">if</span> ((dict_can_resize == DICT_RESIZE_ENABLE &amp;&amp;</span><br><span class="line">         d-&gt;ht[<span class="number">0</span>].used &gt;= d-&gt;ht[<span class="number">0</span>].size) ||</span><br><span class="line">        (dict_can_resize != DICT_RESIZE_FORBID &amp;&amp;</span><br><span class="line">         d-&gt;ht[<span class="number">0</span>].used / d-&gt;ht[<span class="number">0</span>].size &gt; dict_force_resize_ratio))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> dictExpand(d, d-&gt;ht[<span class="number">0</span>].used + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> DICT_OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">For the first condition, if the hash table is empty, Redis simply sets the table to its initial size, which is part of initialization, not rehashing. </font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Conditions two and three, however, correspond to rehashing scenarios. In both cases, Redis compares the number of elements in the hash table (</font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;d-&gt;ht[0].used&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) with the tableâ€™s current size (</font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;d-&gt;ht[0].size&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">). This ratio is known as the </font><strong>load factor</strong><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Redis triggers rehashing when the load factor is either equal to or greater than 1, or greater than 5.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">When the load factor exceeds 5, it indicates that the hash table is severely overloaded and needs to be resized immediately. If the load factor is 1 or greater, Redis checks the value of the variable </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict_can_resize&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> to determine if resizing is currently allowed.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">You may wonder, what exactly is the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict_can_resize&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variable? This variable is controlled by two functions: </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictEnableResize&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictDisableResize&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which enable and disable hash table resizing, respectively:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">dictEnableResize</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    dict_can_resize = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">dictDisableResize</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    dict_can_resize = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">These functions are wrapped within </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;updateDictResizePolicy&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. This function enables or disables rehashing based on whether Redis is currently running an RDB snapshot or AOF rewrite process. If neither process is running, rehashing is allowed:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">updateDictResizePolicy</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (server.rdb_child_pid == <span class="number">-1</span> &amp;&amp; server.aof_child_pid == <span class="number">-1</span>)</span><br><span class="line">        dictEnableResize();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        dictDisableResize();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Now that we understand the conditions for triggering rehashing in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, letâ€™s look at where this function is called in Redis. By examining the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict.c&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> file, we can see that </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is invoked by the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictKeyIndex&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function, which is itself called by </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddRaw&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. The </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddRaw&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function is then called by three key functions:</font></p>
<ol>
<li><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAdd&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: Adds a key-value pair to the hash table.</font></li>
<li><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictReplace&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: Adds a key-value pair or replaces an existing one.</font></li>
<li><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddOrFind&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">: Calls </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddRaw&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> directly.</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Thus, every time Redis adds or modifies a key-value pair, it checks whether rehashing is necessary. The following diagram illustrates the call relationships leading to </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><img src="/image/redis-src/2024091105.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In summary, the key functions responsible for triggering rehashing in Redis are </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;updateDictResizePolicy&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. The former checks the load factor and whether resizing is allowed, while the latter enables or disables resizing based on RDB and AOF processes.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Next, weâ€™ll explore the second major question in rehashing: </font><strong>how much should Redis expand the hash table?</strong></p>
<h3 id="How-Much-Should-the-Hash-Table-Be-Expanded"><a href="#How-Much-Should-the-Hash-Table-Be-Expanded" class="headerlink" title="How Much Should the Hash Table Be Expanded?"></a>How Much Should the Hash Table Be Expanded?</h3><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In Redis, when resizing the hash table space due to rehashing, it calls the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictExpand&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function. This function takes two parameters: the hash table to be resized (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dict *d&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) and the target size (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;unsigned long size&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">). The prototype of the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictExpand&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function is shown below:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">dictExpand</span><span class="params">(dict *d, <span class="type">unsigned</span> <span class="type">long</span> size)</span>;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To determine whether resizing is needed for a hash table, we use the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;_dictExpandIfNeeded&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function. Once resizing is deemed necessary, Redis expands the hash table during rehashing by doubling its current size (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;size * 2&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) if the current tableâ€™s used space is </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;size&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, as illustrated in the following code snippet:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">dictExpand(d, d-&gt;ht[<span class="number">0</span>].used + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The actual resizing process in the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;dictExpand&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function is managed by the </font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;_dictNextPower&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function. This function continuously doubles the hash tableâ€™s initial size (</font><code>**&lt;font style=&quot;background-color:rgb(249, 250, 251);&quot;&gt;DICT_HT_INITIAL_SIZE&lt;/font&gt;**</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) until it reaches the target size, as shown in the code snippet below:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Our hash table capability is a power of two */</span></span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">long</span> _dictNextPower(<span class="type">unsigned</span> <span class="type">long</span> size)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> i = DICT_HT_INITIAL_SIZE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size &gt;= LONG_MAX) <span class="keyword">return</span> LONG_MAX + <span class="number">1LU</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= size)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        i *= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Now, letâ€™s delve into Redisâ€™s approach to addressing the third issue: how to execute rehashing. Essentially, this involves Redis implementing a incremental rehashing design.</font></p>
<h3 id="How-is-Incremental-Rehashing-Implemented"><a href="#How-is-Incremental-Rehashing-Implemented" class="headerlink" title="How is Incremental Rehashing Implemented?"></a><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">How is Incremental Rehashing Implemented?</font></h3><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">First, letâ€™s clarify why we need incremental rehashing in the first place. When a hash table undergoes rehashing, the hash table space expands, and keys that were mapped to certain positions may now need to be relocated to new ones. This means many keys must be copied from their old positions to new ones. During this key copying process, Redisâ€™s main thread is unable to handle other requests, causing the rehashing process to block the main thread and lead to performance overhead.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">To mitigate this overhead, Redis introduced the concept of incremental rehashing.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In simple terms, incremental rehashing means Redis doesnâ€™t copy all the keys from the current hash table to the new one in a single operation. Instead, it copies them in batches, with each operation only transferring keys from one bucket at a time. This limits the duration of each copying operation, thereby reducing its impact on the main thread.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">So, how is incremental rehashing implemented in the code? There are two key functions involved: </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictRehashStep&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Letâ€™s start with the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function, which performs the actual key copying. It takes two input parameters: the global hash table (which consists of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dict&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> structure holding </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">) and the number of buckets to be rehashed.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The logic of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function is divided into two parts:</font></p>
<ol>
<li><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">First, it runs a loop, copying the keys in each bucket according to the specified number of buckets </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;n&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Of course, if all the data in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> has already been transferred, the copying loop stops.</font></li>
<li><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Second, after copying </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;n&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> buckets, the function checks whether all the data in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> has been migrated. If so, the space for </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is released. Since Redis always references </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> when handling requests, once the rehashing process is complete and the data is fully in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, Redis assigns </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> to </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, ensuring that other parts of the code can continue functioning as expected. After this, the size of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is reset to zero in preparation for the next rehash. At the same time, the global hash tableâ€™s </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variable is set to -1, indicating that the rehash process has finished (Iâ€™ll explain the purpose of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variable shortly).</font></li>
</ol>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Hereâ€™s a diagram that illustrates the primary steps of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function. </font></p>
<p><img src="/image/redis-src/2024091106.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">You can also check the code snippet below to better understand its logic.</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Performs N steps of incremental rehashing. Returns 1 if there are still</span></span><br><span class="line"><span class="comment"> * keys to move from the old to the new hash table, otherwise 0 is returned.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Note that a rehashing step consists in moving a bucket (that may have more</span></span><br><span class="line"><span class="comment"> * than one key as we use chaining) from the old to the new hash table, however</span></span><br><span class="line"><span class="comment"> * since part of the hash table may be composed of empty spaces, it is not</span></span><br><span class="line"><span class="comment"> * guaranteed that this function will rehash even a single bucket, since it</span></span><br><span class="line"><span class="comment"> * will visit at max N*10 empty buckets in total, otherwise the amount of</span></span><br><span class="line"><span class="comment"> * work it does would be unbound and the function may block for a long time. */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">dictRehash</span><span class="params">(dict *d, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> empty_visits = n*<span class="number">10</span>; <span class="comment">/* Max number of empty buckets to visit. */</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> s0 = d-&gt;ht[<span class="number">0</span>].size;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">long</span> s1 = d-&gt;ht[<span class="number">1</span>].size;</span><br><span class="line">    <span class="keyword">if</span> (dict_can_resize == DICT_RESIZE_FORBID || !dictIsRehashing(d)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (dict_can_resize == DICT_RESIZE_AVOID &amp;&amp; </span><br><span class="line">        ((s1 &gt; s0 &amp;&amp; s1 / s0 &lt; dict_force_resize_ratio) ||</span><br><span class="line">         (s1 &lt; s0 &amp;&amp; s0 / s1 &lt; dict_force_resize_ratio)))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n-- &amp;&amp; d-&gt;ht[<span class="number">0</span>].used != <span class="number">0</span>) &#123;</span><br><span class="line">        dictEntry *de, *nextde;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Note that rehashidx can&#x27;t overflow as we are sure there are more</span></span><br><span class="line"><span class="comment">         * elements because ht[0].used != 0 */</span></span><br><span class="line">        assert(d-&gt;ht[<span class="number">0</span>].size &gt; (<span class="type">unsigned</span> <span class="type">long</span>)d-&gt;rehashidx);</span><br><span class="line">        <span class="keyword">while</span>(d-&gt;ht[<span class="number">0</span>].table[d-&gt;rehashidx] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            d-&gt;rehashidx++;</span><br><span class="line">            <span class="keyword">if</span> (--empty_visits == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        de = d-&gt;ht[<span class="number">0</span>].table[d-&gt;rehashidx];</span><br><span class="line">        <span class="comment">/* Move all the keys in this bucket from the old to the new hash HT */</span></span><br><span class="line">        <span class="keyword">while</span>(de) &#123;</span><br><span class="line">            <span class="type">uint64_t</span> h;</span><br><span class="line"></span><br><span class="line">            nextde = de-&gt;next;</span><br><span class="line">            <span class="comment">/* Get the index in the new hash table */</span></span><br><span class="line">            h = dictHashKey(d, de-&gt;key) &amp; d-&gt;ht[<span class="number">1</span>].sizemask;</span><br><span class="line">            de-&gt;next = d-&gt;ht[<span class="number">1</span>].table[h];</span><br><span class="line">            d-&gt;ht[<span class="number">1</span>].table[h] = de;</span><br><span class="line">            d-&gt;ht[<span class="number">0</span>].used--;</span><br><span class="line">            d-&gt;ht[<span class="number">1</span>].used++;</span><br><span class="line">            de = nextde;</span><br><span class="line">        &#125;</span><br><span class="line">        d-&gt;ht[<span class="number">0</span>].table[d-&gt;rehashidx] = <span class="literal">NULL</span>;</span><br><span class="line">        d-&gt;rehashidx++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Check if we already rehashed the whole table... */</span></span><br><span class="line">    <span class="keyword">if</span> (d-&gt;ht[<span class="number">0</span>].used == <span class="number">0</span>) &#123;</span><br><span class="line">        zfree(d-&gt;ht[<span class="number">0</span>].table);</span><br><span class="line">        d-&gt;ht[<span class="number">0</span>] = d-&gt;ht[<span class="number">1</span>];</span><br><span class="line">        _dictReset(&amp;d-&gt;ht[<span class="number">1</span>]);</span><br><span class="line">        d-&gt;rehashidx = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* More to rehash... */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Now that weâ€™ve covered the core functionality of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function, letâ€™s explore how incremental rehashing works by migrating data at the bucket level. This is where the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variable in the global hash table structure comes into play.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variable indicates which bucket is currently being migrated. For instance, when </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is 0, the first bucket in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is being migrated; when itâ€™s 1, the second bucket is being migrated, and so on.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The main loop in the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function checks whether the bucket pointed to by </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is empty. If it is, </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is incremented, and the next bucket is examined.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">But is it possible for multiple consecutive buckets to be empty? Yes, it is. In such cases, incremental rehashing doesnâ€™t just keep incrementing </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> indefinitely. The reason is that during rehashing, the Redis main thread is unable to handle other requests. Therefore, Redis introduces a variable called </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;empty_visits&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> to track how many empty buckets have been checked. After a certain number of empty buckets have been examined, the current round of rehashing stops, allowing Redis to process external requests and avoid performance degradation. You can see this logic in the code snippet below.</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(d-&gt;ht[<span class="number">0</span>].table[d-&gt;rehashidx] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    d-&gt;rehashidx++;</span><br><span class="line">    <span class="keyword">if</span> (--empty_visits == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">If the bucket that </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> points to contains data for migration, Redis will take each hash entry from that bucket, recalculate its new position in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> based on the size of </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, and insert the hash entry into the appropriate bucket in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Each time a hash entry is migrated, the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;used&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> variables in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> (which track how many entries each table holds) are updatedâ€”</font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;used&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[0]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> decreases by one, while </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;used&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> in </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;ht[1]&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> increases by one. Once all data in the current bucket is migrated, </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;rehashidx&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is incremented, and the process continues with the next bucket. The code snippet below illustrates this migration process.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">By now, weâ€™ve covered the complete logic of the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function. We know that </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> migrates hash entries on a bucket-by-bucket basis, with the number of buckets processed being determined by the loop count parameter </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;n&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">. Whenever Redis performs a rehash operation, it eventually calls the </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> function.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Next, letâ€™s look at the second key function involved in incremental rehashing: </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictRehashStep&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which performs rehashing one bucket at a time. According to Redisâ€™s source code, there are five functions that call </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictRehashStep&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, which in turn calls </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> to carry out the rehashing process. These functions are: </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddRaw&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictGenericDelete&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictFind&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictGetRandomKey&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictGetSomeKeys&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The functions </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictAddRaw&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> and </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictGenericDelete&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> are used to add and delete key-value pairs in Redis, while the other three functions are for querying. The diagram below shows the relationships between these functions.</font></p>
<p><img src="/image/redis-src/2024091107.png"></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Itâ€™s important to note that regardless of whether youâ€™re adding, deleting, or querying, when these five functions call </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;_dictRehashStep&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">, the loop count parameter </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;n&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> passed to </font><code>&lt;font style=&quot;color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);&quot;&gt;dictRehash&lt;/font&gt;</code><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"> is always set to 1, as shown in the following code:</font></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">void</span> _dictRehashStep(dict *d) &#123;</span><br><span class="line">    <span class="comment">// Passes 1 as the loop count parameter to `dictRehash`, meaning that after migrating one bucket, normal operations resume</span></span><br><span class="line">    <span class="keyword">if</span> (d-&gt;iterators == <span class="number">0</span>) dictRehash(d, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">This means that after migrating a single bucket, the hash table is free to handle regular add, delete, or query operations. This is how incremental rehashing is implemented at the code level.</font></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">Creating a high-performance hash table is not only a priority for Redis but also a crucial goal in the development of many computer systems. To build an efficient hash table, two key issues need to be addressed: hash collisions and the overhead of rehashing.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">In this article, we explored the structure of Redisâ€™s hash table, the implementation of chained hashing, and the design and implementation of incremental rehashing. Redisâ€™s hash table structure is uniqueâ€”each hash entry contains a pointer, enabling chained hashing. Additionally, Redis uses a global hash table that contains two hash tables, a design that facilitates data migration from one table to another during rehashing.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);">The incremental rehashing mechanism in Redis is a general method for hash table expansion and is worth studying. Its core idea is to migrate only a limited number of buckets at a time, preventing performance issues that arise from migrating all buckets in one go. Once you understand the concept and implementation of incremental rehashing, you can apply it to your own hash table designs.</font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
<p><font style="color:rgb(55, 65, 81);background-color:rgb(249, 250, 251);"></font></p>
]]></content>
      <categories>
        <category>Redis Source Code Analysis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis SET å‘½ä»¤</title>
    <url>/2023/06/04/redis-cmd-strings-set/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SET key value [NX | XX] [GET] [EX seconds | PX milliseconds |</span><br><span class="line">  EXAT unix-time-seconds | PXAT unix-time-milliseconds | KEEPTTL]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 1.0.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@string</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è®¾ç½® <code>key</code> ä¿å­˜å­—ç¬¦ä¸²ç±»å‹çš„ <code>value</code>ã€‚å¦‚æœ <code>key</code> å·²ç»æŒæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒå°†è¢«è¦†ç›–ï¼Œä¸ç®¡å®ƒæ˜¯ä»€ä¹ˆç±»å‹ã€‚åœ¨æˆåŠŸçš„ <code>SET</code> æ“ä½œä¸­ï¼Œä»»ä½•å…ˆå‰ä¸ <code>key</code> ç›¸å…³çš„ç”Ÿå­˜æ—¶é—´éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚</p>
<h2 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h2><p>SET å‘½ä»¤æ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š</p>
<ul>
<li>EX seconds â€“ è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚</li>
<li>PX milliseconds â€“ è®¾ç½®æŒ‡å®šçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</li>
<li>EXAT timestamp-seconds â€“ è®¾ç½®æŒ‡å®šçš„ Unix æ—¶é—´ï¼Œkey å°†åœ¨è¯¥æ—¶é—´è¿‡æœŸï¼Œå•ä½æ˜¯ç§’ã€‚</li>
<li>PXAT timestamp-milliseconds â€“ è®¾ç½®æŒ‡å®šçš„ Unix æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œkey å°†åœ¨è¯¥æ—¶é—´è¿‡æœŸã€‚</li>
<li>NX â€“ åªæœ‰åœ¨ key ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šè®¾ç½®å®ƒã€‚</li>
<li>XX â€“ åªè®¾ç½®å·²ç»å­˜åœ¨çš„ keyã€‚</li>
<li>KEEPTTL â€“ ä¿ç•™ä¸ key ç›¸å…³çš„ç”Ÿå­˜æ—¶é—´ã€‚</li>
<li>GET â€“ è¿”å›å­˜å‚¨åœ¨ key çš„æ—§å­—ç¬¦ä¸²ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>nil</code>ã€‚å¦‚æœå­˜å‚¨åœ¨é”®ä¸Šçš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œå¹¶ä¸­æ­¢ <code>SET</code> æ“ä½œã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong>ç”±äº <code>SET</code> å‘½ä»¤é€‰é¡¹å¯ä»¥å–ä»£ <code>SETNX</code>ã€<code>SETEX</code>ã€<code>PSETEX</code>ã€<code>GETSET</code>ï¼Œå› æ­¤åœ¨ Redis çš„æœªæ¥ç‰ˆæœ¬ä¸­ï¼Œè¿™äº›å‘½ä»¤æœ‰å¯èƒ½è¢«åºŸå¼ƒï¼Œå¹¶æœ€ç»ˆè¢«åˆ é™¤ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ç®€å•çš„å­—ç¬¦ä¸²ï¼šå¦‚æœ <code>SET</code> è¢«æ­£ç¡®æ‰§è¡Œï¼Œåˆ™è¿”å› OKã€‚</p>
<p>è¿”å› Nullï¼šï¼ˆnilï¼‰å¦‚æœ <code>SET</code> æ“ä½œæ²¡æœ‰è¢«æ‰§è¡Œï¼Œå› ä¸ºç”¨æˆ·æŒ‡å®šäº† <code>NX</code> æˆ– <code>XX</code> é€‰é¡¹ï¼Œä½†æ¡ä»¶æ²¡æœ‰è¢«æ»¡è¶³ã€‚</p>
<p>å¦‚æœå‘½ä»¤æ˜¯ç”¨ <code>GET</code> é€‰é¡¹å‘å‡ºçš„ï¼Œä¸Šè¿°æƒ…å†µä¸é€‚ç”¨ã€‚ç›¸åï¼Œå®ƒçš„è¿”å›å¦‚ä¸‹ï¼Œä¸ç®¡ <code>SET</code> æ˜¯å¦çœŸçš„è¢«æ‰§è¡Œï¼š</p>
<p>è¿”å›æ‰¹é‡å­—ç¬¦ä¸²ï¼šå­˜å‚¨åœ¨ <code>key</code> çš„æ—§å­—ç¬¦ä¸²å€¼ã€‚</p>
<p>è¿”å› Nullï¼šï¼ˆnilï¼‰å¦‚æœé”®ä¸å­˜åœ¨ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; SET js <span class="string">&quot;Rain rain&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; GET js</span><br><span class="line"><span class="string">&quot;Rain rain&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ¨¡å¼"><a href="#æ¨¡å¼" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h2><blockquote>
<p><strong>æ³¨æ„ï¼š</strong>ä¸é¼“åŠ±ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œæ¨èä½¿ç”¨ Redlock ç®—æ³•ï¼Œè¯¥ç®—æ³•åªæ˜¯å®ç°èµ·æ¥æ›´å¤æ‚ä¸€ç‚¹ï¼Œä½†èƒ½æä¾›æ›´å¥½çš„ä¿è¯å’Œå®¹é”™æ€§ã€‚</p>
</blockquote>
<p>å€ŸåŠ© Redis å®ç°é”ç³»ç»Ÿçš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ <code>SET resource-name anystring NX EX max-lock-time</code> å‘½ä»¤ã€‚</p>
<p>å¦‚æœä¸Šè¿°å‘½ä»¤è¿”å› OKï¼Œå®¢æˆ·ç«¯å¯ä»¥è·å¾—é”ï¼ˆå¦‚æœå‘½ä»¤è¿”å› Nilï¼Œåˆ™åœ¨ä¸€æ®µæ—¶é—´åé‡è¯•ï¼‰ï¼Œè€Œç§»é™¤é”åªéœ€ä½¿ç”¨ <code>DEL</code> å‘½ä»¤ã€‚</p>
<p>åœ¨è¿‡æœŸæ—¶é—´åˆ°è¾¾åï¼Œè¯¥é”å°†è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹è§£é”æ¨¡å¼æ¥ä½¿è¿™ä¸ªç³»ç»Ÿæ›´åŠ å¼ºå¤§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸è¦è®¾ç½®ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è®¾ç½®ä¸€ä¸ªä¸å¯çŒœæµ‹çš„å¤§çš„éšæœºå­—ç¬¦ä¸²ï¼Œç§°ä¸º tokenã€‚</li>
<li>ä¸å…¶ç”¨ <code>DEL</code> é‡Šæ”¾é”ï¼Œä¸å¦‚å‘é€ä¸€ä¸ªè„šæœ¬ï¼Œåªæœ‰åœ¨å€¼åŒ¹é…çš„æƒ…å†µä¸‹æ‰åˆ é™¤é’¥åŒ™ã€‚</li>
</ul>
<p>è¿™å°±é¿å…äº†å®¢æˆ·ç«¯åœ¨è¿‡æœŸåè¯•å›¾é‡Šæ”¾é”ï¼Œåˆ é™¤ç”±å¦ä¸€ä¸ªåæ¥è·å¾—é”çš„å®¢æˆ·ç«¯åˆ›å»ºçš„å¯†é’¥ã€‚</p>
<p>é‡Šæ”¾é”çš„è„šæœ¬å†…å®¹ç±»ä¼¼äºä»¥ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> redis.call(<span class="string">&quot;get&quot;</span>,KEYS[1]) == ARGV[1]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">return</span> redis.call(<span class="string">&quot;del&quot;</span>,KEYS[1])</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">return</span> 0</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>è¯¥è„šæœ¬åº”è¯¥ç”¨ <code>EVAL ...script... 1 resource-name token-value</code> æ¥è°ƒç”¨ã€‚</p>
<h2 id="å†å²è®°å½•"><a href="#å†å²è®°å½•" class="headerlink" title="å†å²è®°å½•"></a>å†å²è®°å½•</h2><ul>
<li>ä» Redis 2.6.12 ç‰ˆæœ¬å¼€å§‹ï¼šå¢åŠ äº† <code>EX</code>ã€<code>PX</code>ã€<code>NX</code> å’Œ <code>XX</code> é€‰é¡¹ã€‚</li>
<li>ä» Redis 6.0.0 ç‰ˆæœ¬å¼€å§‹ï¼šå¢åŠ äº† <code>KEEPTTL</code> é€‰é¡¹ã€‚</li>
<li>ä» Redis 6.2.0 ç‰ˆæœ¬å¼€å§‹ï¼šå¢åŠ äº† <code>GET</code>ã€<code>EXAT</code> å’Œ <code>PXAT</code> é€‰é¡¹ã€‚</li>
<li>ä» Redis 7.0.0 ç‰ˆæœ¬å¼€å§‹ï¼šå…è®¸ <code>NX</code> å’Œ <code>GET</code> é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Analyzing Redis Source Code: Simple Dynamic Strings (SDS) â€“ An Efficient and Flexible String Implementation</title>
    <url>/2024/09/10/analyzing-redis-source-code-sds/</url>
    <content><![CDATA[<h2 id="Redisâ€™s-Requirements-for-Strings"><a href="#Redisâ€™s-Requirements-for-Strings" class="headerlink" title="Redisâ€™s Requirements for Strings"></a>Redisâ€™s Requirements for Strings</h2><p>Strings are an essential data type in app development, frequently used to store a variety of information such as user profiles, product descriptions, and system messages. In Redis, a popular in-memory data store, both the keys and often the values in key-value pairs are represented as strings. This makes strings one of the foundational data types in Redis, contributing to its flexibility and simplicity when handling data. </p>
<p>For instance, when saving user data such as name, gender, and city, you can use a simple Redis command like:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET user:id:100 &#123;&quot;name&quot;: &quot;John&quot;, &quot;gender&quot;: &quot;M&quot;, &quot;city&quot;: &quot;New York&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>This example stores a stringified JSON object as the value, with a key that identifies the user.</p>
<p>Strings are also crucial for communication in Redis. The commands exchanged between Redis instances and clients, as well as much of the internal data, are transmitted as strings. Given the widespread use of strings in Redis, the way strings are implemented plays a critical role in system performance and efficiency. To optimize this, the implementation should satisfy the following three key requirements:</p>
<h3 id="1-Support-for-a-Wide-Range-of-Efficient-String-Operations"><a href="#1-Support-for-a-Wide-Range-of-Efficient-String-Operations" class="headerlink" title="1. Support for a Wide Range of Efficient String Operations"></a>1. <strong>Support for a Wide Range of Efficient String Operations</strong></h3><p>String operations like appending, copying, comparing, and retrieving the length of a string are extremely common in app development. In Redis, strings are implemented in such a way that these operations are highly efficient. For example, appending data to a string can be done using the <code>APPEND</code> command:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">APPEND user:name &quot;Doe&quot;</span><br></pre></td></tr></table></figure>

<p>This adds â€œDoeâ€ to the existing string value stored at the <code>user:name</code> key. Similar commands exist for other operations like comparing (<code>STRLEN</code>) or copying strings. Efficient handling of these operations ensures that Redis remains performant, even as the volume of data grows.</p>
<h3 id="2-Ability-to-Handle-Arbitrary-Binary-Data"><a href="#2-Ability-to-Handle-Arbitrary-Binary-Data" class="headerlink" title="2. Ability to Handle Arbitrary Binary Data"></a>2. <strong>Ability to Handle Arbitrary Binary Data</strong></h3><p>Strings in Redis are not limited to human-readable text. They can also store binary data such as images, audio files, or other types of raw data. This flexibility is crucial in modern app development, where applications frequently need to handle multimedia or complex data formats. Redis strings can store up to 512MB of binary data, allowing developers to use them for a variety of tasks beyond simple text storage.</p>
<p>For example, storing an image file in Redis might involve converting the image to binary and saving it as a string:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SET image:profile:100 &lt;binary_data&gt;</span><br></pre></td></tr></table></figure>

<p>Redis doesnâ€™t distinguish between text and binary data at the storage level, so it treats everything as a string, making the system both simple and flexible.</p>
<h3 id="3-Minimizing-Memory-Overhead"><a href="#3-Minimizing-Memory-Overhead" class="headerlink" title="3. Minimizing Memory Overhead"></a>3. <strong>Minimizing Memory Overhead</strong></h3><p>Since Redis is often used in scenarios where speed and memory efficiency are critical, minimizing memory overhead for string storage is essential. Redis uses an optimized memory representation for strings. Short strings (typically 39 bytes or less) are stored in a highly efficient structure known as <strong>SDS</strong> (Simple Dynamic Strings), which reduces the overhead associated with managing string data.</p>
<p>Redis takes several measures to optimize memory usage:</p>
<ul>
<li><strong>SDS Structure:</strong> SDS supports dynamic resizing, allowing it to efficiently manage memory when strings are appended or modified without needing to frequently reallocate memory.</li>
<li><strong>Lazy Reallocation:</strong> Redis avoids unnecessary memory allocation by resizing strings in chunks, reducing the cost of frequent modifications.</li>
<li><strong>Compact Storage for Small Strings:</strong> Small strings are packed together, reducing fragmentation and overall memory consumption.</li>
</ul>
<h2 id="Why-doesnâ€™t-Redis-Use-char"><a href="#Why-doesnâ€™t-Redis-Use-char" class="headerlink" title="Why doesnâ€™t Redis Use char*?"></a>Why doesnâ€™t Redis Use <code>char*</code>?</h2><p>If youâ€™ve developed programs in C, youâ€™re probably familiar with using <code>char*</code> arrays to implement strings. The C standard library (<code>string.h</code>) provides various string operations like <code>strcmp</code> for comparison, <code>strlen</code> for length, and <code>strcat</code> for appending, which simplifies these tasks for developers. However, why doesnâ€™t Redis use <code>char*</code>? To answer this question, we first need to understand the structure of <code>char*</code> string arrays. Letâ€™s delve into that analysis.</p>
<h3 id="The-Design-of-char-Struct"><a href="#The-Design-of-char-Struct" class="headerlink" title="The Design of char* Struct"></a>The Design of <code>char*</code> Struct</h3><p>The <code>char*</code> array is a simple structure consisting of a contiguous block of memory where each character of the string is stored sequentially. For example, the <code>char*</code> array structure for the string â€œjohnsonâ€ is shown below. </p>
<p><img src="/image/redis-src/24091001.png"></p>
<p>The last character in this array is <code>&#39;\0&#39;</code>. This character is crucial because it marks the end of the string. In C, <code>char*</code> pointers refer to the start of the array, and functions in the standard library use <code>&#39;\0&#39;</code> to determine where the string ends. For instance, the <code>strlen</code> function calculates the length of a string by counting characters until it encounters <code>&#39;\0&#39;</code>. The execution flow of <code>strlen</code> is illustrated below.</p>
<p><img src="/image/redis-src/24091002.png"></p>
<p>Letâ€™s look at how the <code>&#39;\0&#39;</code> termination character affects string length with a code example. Iâ€™ve created two string variables, <code>a</code> and <code>b</code>, with values <code>&quot;john\0son&quot;</code> and <code>&quot;johnson\0&quot;</code>, respectively. Using the <code>strlen</code> function to compute their lengths, the results are 4 and 7. </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *a = <span class="string">&quot;john\0son&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *b = <span class="string">&quot;johnson\0&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="built_in">strlen</span>(a));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="built_in">strlen</span>(b));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This is because the <code>&#39;\0&#39;</code> in <code>a</code> comes after â€œjohnâ€, so <code>strlen</code> counts only the first 4 characters. For <code>b</code>, the <code>&#39;\0&#39;</code> is after â€œjohnsonâ€, so <code>strlen</code> counts all 7 characters. This shows that <code>char*</code> strings, which use <code>&#39;\0&#39;</code> to indicate the end, can be problematic if the data itself contains <code>&#39;\0&#39;</code>, as it leads to truncation. This limitation makes it unsuitable for storing arbitrary binary data, which is what Redis needs to handle.</p>
<h3 id="The-Complexity-of-String-Operations"><a href="#The-Complexity-of-String-Operations" class="headerlink" title="The Complexity of String Operations"></a>The Complexity of String Operations</h3><p>Aside from design issues related to <code>char*</code> character arrays, using <code>&#39;\0&#39;</code> as the string terminator allows functions to determine where the string ends. However, it also has a downside: it increases the complexity of string operations. Take the <code>strlen</code> function as an example. This function needs to traverse each character in the array to determine the stringâ€™s length, resulting in a time complexity of O(N).</p>
<p>Another commonly used operation is the string concatenation function, <code>strcat</code>. The <code>strcat</code> function appends a source string (<code>src</code>) to the end of a destination string. Hereâ€™s how the <code>strcat</code> function works:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * strcat - Concatenates two strings</span></span><br><span class="line"><span class="comment"> * @dest: Destination string to which the source string will be appended</span></span><br><span class="line"><span class="comment"> * @src: Source string that will be appended to the destination string</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * This function concatenates the source string `src` to the end of the destination string `dest`.</span></span><br><span class="line"><span class="comment"> * It first finds the end of the destination string `dest` (the first null character),</span></span><br><span class="line"><span class="comment"> * then copies each character from the source string `src` into the destination string `dest`</span></span><br><span class="line"><span class="comment"> * until the null character of the source string `src` is reached. Finally, it returns the original pointer to the destination string.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Returns: Pointer to the destination string after concatenation</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">strcat</span><span class="params">(<span class="type">char</span> *dest, <span class="type">const</span> <span class="type">char</span> *src)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="comment">// Temporarily store the pointer to the destination string</span></span><br><span class="line">        <span class="type">char</span> *tmp = dest;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Find the end of the destination string</span></span><br><span class="line">        <span class="keyword">while</span> (*dest)</span><br><span class="line">                dest++;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Copy each character from the source string to the destination string until the null character</span></span><br><span class="line">        <span class="keyword">while</span> ((*dest++ = *src++) != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">                ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Return the original pointer to the destination string</span></span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>From the code, we can see that both <code>strcat</code> and <code>strlen</code> functions have high complexity. They both require traversing the strings to find their end. For <code>strcat</code>, thereâ€™s an additional traversal needed to append the source string to the destination. Furthermore, <code>strcat</code> must ensure that there is enough space in the destination string to accommodate the new content; otherwise, the append operation will fail.</p>
<p>This means developers need to manage the space for the destination string carefully when using <code>strcat</code>, often requiring dynamic allocation which adds to the programming complexity. Increased complexity in these operations affects the efficiency of string manipulation, which does not align with Redisâ€™s need for efficient string handling.</p>
<p>Considering the shortcomings of using <code>char*</code> for string implementation in C, we now need to explore alternative ways to handle strings. Therefore, next, letâ€™s delve into how Redis approaches the design considerations for string implementation.</p>
<h2 id="Design-Philosophy-of-SDS"><a href="#Design-Philosophy-of-SDS" class="headerlink" title="Design Philosophy of SDS"></a>Design Philosophy of SDS</h2><p>Since Redis is developed in C, it leverages character arrays to store data for compatibility with C standard library functions. However, unlike Câ€™s basic character arrays, Redis introduces a specially designed data structure called SDS (Simple Dynamic Strings). Letâ€™s take a closer look at it.</p>
<h3 id="SDS-Structure-Design"><a href="#SDS-Structure-Design" class="headerlink" title="SDS Structure Design"></a>SDS Structure Design</h3><p>The SDS structure includes a character array <code>buf[]</code> for storing actual data. Additionally, it contains three pieces of metadata: </p>
<ul>
<li><code>len</code> (the length of the data in the array), </li>
<li><code>alloc</code> (the allocated space for the array), </li>
<li>and <code>flags</code> (the type of SDS). </li>
</ul>
<p>Redis defines various data types for <code>len</code> and <code>alloc</code> to represent different SDS types, which I will explain in detail later. The diagram below illustrates the SDS structure for reference.</p>
<p><img src="/image/redis-src/24091003.png"></p>
<p>If youâ€™ve looked into the Redis source code, you may have noticed that Redis uses <code>typedef</code> to create an alias <code>sds</code> for <code>char*</code>. </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">char</span> *sds;</span><br></pre></td></tr></table></figure>



<p>This is because, fundamentally, SDS is a character array with added metadata. In Redis, <code>sds</code> is used whenever character arrays are needed.</p>
<p>When creating a new string, Redis calls the SDS creation function <code>sdsnewlen</code>. This function allocates a new <code>sds</code> variable (essentially a <code>char*</code>), initializes an SDS structure, and assigns the <code>buf[]</code> array in the SDS structure to the <code>sds</code> variable. Finally, <code>sdsnewlen</code> copies the desired string into the <code>sds</code> variable. The code below illustrates the logic of the <code>sdsnewlen</code> function.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Create a new sds string with the content specified by the &#x27;init&#x27; pointer</span></span><br><span class="line"><span class="comment"> * and &#x27;initlen&#x27;.</span></span><br><span class="line"><span class="comment"> * If NULL is used for &#x27;init&#x27; the string is initialized with zero bytes.</span></span><br><span class="line"><span class="comment"> * If SDS_NOINIT is used, the buffer is left uninitialized;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * The string is always null-termined (all the sds strings are, always) so</span></span><br><span class="line"><span class="comment"> * even if you create an sds string with:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * mystring = sdsnewlen(&quot;abc&quot;,3);</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * You can print the string with printf() as there is an implicit \0 at the</span></span><br><span class="line"><span class="comment"> * end of the string. However the string is binary safe and can contain</span></span><br><span class="line"><span class="comment"> * \0 characters in the middle, as the length is stored in the sds header. */</span></span><br><span class="line">sds _sdsnewlen(<span class="type">const</span> <span class="type">void</span> *init, <span class="type">size_t</span> initlen, <span class="type">int</span> trymalloc) &#123;</span><br><span class="line">    <span class="type">void</span> *sh;</span><br><span class="line">    sds s;</span><br><span class="line">    <span class="type">char</span> type = sdsReqType(initlen);</span><br><span class="line">    <span class="comment">/* Empty strings are usually created in order to append. Use type 8</span></span><br><span class="line"><span class="comment">     * since type 5 is not good at this. */</span></span><br><span class="line">    <span class="keyword">if</span> (type == SDS_TYPE_5 &amp;&amp; initlen == <span class="number">0</span>) type = SDS_TYPE_8;</span><br><span class="line">    <span class="type">int</span> hdrlen = sdsHdrSize(type);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> *fp; <span class="comment">/* flags pointer. */</span></span><br><span class="line">    <span class="type">size_t</span> usable;</span><br><span class="line"></span><br><span class="line">    assert(initlen + hdrlen + <span class="number">1</span> &gt; initlen); <span class="comment">/* Catch size_t overflow */</span></span><br><span class="line">    sh = trymalloc?</span><br><span class="line">        s_trymalloc_usable(hdrlen+initlen+<span class="number">1</span>, &amp;usable) :</span><br><span class="line">        s_malloc_usable(hdrlen+initlen+<span class="number">1</span>, &amp;usable);</span><br><span class="line">    <span class="keyword">if</span> (sh == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (init==SDS_NOINIT)</span><br><span class="line">        init = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (!init)</span><br><span class="line">        <span class="built_in">memset</span>(sh, <span class="number">0</span>, hdrlen+initlen+<span class="number">1</span>);</span><br><span class="line">    s = (<span class="type">char</span>*)sh+hdrlen;</span><br><span class="line">    fp = ((<span class="type">unsigned</span> <span class="type">char</span>*)s)<span class="number">-1</span>;</span><br><span class="line">    usable = usable-hdrlen<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (usable &gt; sdsTypeMaxSize(type))</span><br><span class="line">        usable = sdsTypeMaxSize(type);</span><br><span class="line">    <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">        <span class="keyword">case</span> SDS_TYPE_5: &#123;</span><br><span class="line">            *fp = type | (initlen &lt;&lt; SDS_TYPE_BITS);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> SDS_TYPE_8: &#123;</span><br><span class="line">            SDS_HDR_VAR(<span class="number">8</span>,s);</span><br><span class="line">            sh-&gt;len = initlen;</span><br><span class="line">            sh-&gt;alloc = usable;</span><br><span class="line">            *fp = type;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> SDS_TYPE_16: &#123;</span><br><span class="line">            SDS_HDR_VAR(<span class="number">16</span>,s);</span><br><span class="line">            sh-&gt;len = initlen;</span><br><span class="line">            sh-&gt;alloc = usable;</span><br><span class="line">            *fp = type;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> SDS_TYPE_32: &#123;</span><br><span class="line">            SDS_HDR_VAR(<span class="number">32</span>,s);</span><br><span class="line">            sh-&gt;len = initlen;</span><br><span class="line">            sh-&gt;alloc = usable;</span><br><span class="line">            *fp = type;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> SDS_TYPE_64: &#123;</span><br><span class="line">            SDS_HDR_VAR(<span class="number">64</span>,s);</span><br><span class="line">            sh-&gt;len = initlen;</span><br><span class="line">            sh-&gt;alloc = usable;</span><br><span class="line">            *fp = type;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (initlen &amp;&amp; init)</span><br><span class="line">        <span class="built_in">memcpy</span>(s, init, initlen);</span><br><span class="line">    s[initlen] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>With an understanding of the SDS structure, letâ€™s now explore how SDS improves operation efficiency compared to traditional C strings.</p>
<h3 id="SDS-Operation-Efficiency"><a href="#SDS-Operation-Efficiency" class="headerlink" title="SDS Operation Efficiency"></a>SDS Operation Efficiency</h3><p>The SDS structure tracks both the used and allocated space for the character array, which provides greater efficiency compared to traditional C strings. For example, consider the string append operation. In Redis, the function for appending strings is <code>sdscatlen</code> in the <code>sds.c</code> file. This function takes three parameters: the target string <code>s</code>, the source string <code>t</code>, and the length <code>len</code> to append. Hereâ€™s the relevant source code:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* Append the specified binary-safe string pointed by &#x27;t&#x27; of &#x27;len&#x27; bytes to the</span></span><br><span class="line"><span class="comment"> * end of the specified sds string &#x27;s&#x27;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * After the call, the passed sds string is no longer valid and all the</span></span><br><span class="line"><span class="comment"> * references must be substituted with the new pointer returned by the call. */</span></span><br><span class="line">sds <span class="title function_">sdscatlen</span><span class="params">(sds s, <span class="type">const</span> <span class="type">void</span> *t, <span class="type">size_t</span> len)</span> &#123;</span><br><span class="line">    <span class="type">size_t</span> curlen = sdslen(s);</span><br><span class="line"></span><br><span class="line">    s = sdsMakeRoomFor(s,len);</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">memcpy</span>(s+curlen, t, len);</span><br><span class="line">    sdssetlen(s, curlen+len);</span><br><span class="line">    s[curlen+len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>By analyzing the source code of this function, we can see that the implementation of <code>sdscatlen</code> is quite straightforward and consists of three main steps:</p>
<ol>
<li>First, it retrieves the current length of the destination string and calls <code>sdsMakeRoomFor</code> to check if additional space is needed based on the current length and the length of the data to append. This step ensures there is enough space to accommodate the new data.</li>
<li>Once sufficient space is confirmed, the function appends the specified length of data from the source string to the destination string.</li>
<li>Finally, it updates the length of the destination string.</li>
</ol>
<p>Iâ€™ve included a diagram illustrating the execution process of <code>sdscatlen</code> for clarity. Compared to string operations in C, SDS avoids the need for traversing the string by keeping track of the used length and allocated space, which reduces operational overhead. This design approach makes operations like creation, appending, copying, and comparison more efficient and is worth emulating.</p>
<p><img src="/image/redis-src/24091004.png"></p>
<p>Additionally, SDS encapsulates space checking and resizing for the target string in the <code>sdsMakeRoomFor</code> function. This function is called directly for operations that involve changing the stringâ€™s space, such as appending or copying. </p>
<p>This design prevents developers from forgetting to resize the target string, which could otherwise lead to failed operations. For instance, when using the <code>strcpy(char *dest, const char *src)</code> function, if <code>src</code> is longer than <code>dest</code> and we donâ€™t check for this, it could result in a buffer overflow. Thus, this encapsulation approach is a valuable design principle to adopt.</p>
<p>Now, besides using metadata to track string length and the encapsulation approach, what other excellent design and implementation aspects does SDS offer? This is related to the memory efficiency needs I mentioned earlier about Redis.</p>
<p>Letâ€™s delve into how SDS employs programming techniques to optimize memory usage.</p>
<h3 id="Programming-Techniques-for-Compact-String-Structures"><a href="#Programming-Techniques-for-Compact-String-Structures" class="headerlink" title="Programming Techniques for Compact String Structures"></a>Programming Techniques for Compact String Structures</h3><p>Earlier, I mentioned that the SDS structure includes a metadata field called <code>flags</code>, which indicates the SDS type. In fact, SDS defines five types: <code>sdshdr5</code>, <code>sdshdr8</code>, <code>sdshdr16</code>, <code>sdshdr32</code>, and <code>sdshdr64</code>. The key difference among these types lies in the data types used for the <code>len</code> (current length) and <code>alloc</code> (allocated space) fields in their data structures.</p>
<p>Since Redis no longer uses the <code>sdshdr5</code> type, weâ€™ll focus on the remaining four types. For example, hereâ€™s the definition of <code>sdshdr8</code>:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">attribute__</span> ((__<span class="title">packed__</span>)) <span class="title">sdshdr8</span> &#123;</span></span><br><span class="line">    <span class="type">uint8_t</span> len; <span class="comment">/* used */</span></span><br><span class="line">    <span class="type">uint8_t</span> alloc; <span class="comment">/* excluding the header and null terminator */</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> flags; <span class="comment">/* 3 lsb of type, 5 unused bits */</span></span><br><span class="line">    <span class="type">char</span> buf[];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p>We can see that for <code>sdshdr8</code>, both the current length (<code>len</code>) and allocated space (<code>alloc</code>) use <code>uint8_t</code>, an 8-bit unsigned integer that occupies 1 byte. This means that with <code>sdshdr8</code>, the maximum length of the character array, including the null terminator, is 256 bytes (2^8). </p>
<p>For <code>sdshdr16</code>, <code>sdshdr32</code>, and <code>sdshdr64</code>, the <code>len</code> and <code>alloc</code> fields are <code>uint16_t</code>, <code>uint32_t</code>, and <code>uint64_t</code> respectively, allowing for character arrays up to 65,536 bytes, 4,294,967,296 bytes, and 18,446,744,073,709,551,616 bytes. Thus, the metadata for these types consumes 2, 4, and 8 bytes of memory respectively.</p>
<p>The reason for these different structures is to efficiently handle strings of varying sizes and save memory. If all structures used <code>uint64_t</code> for <code>len</code> and <code>alloc</code>, even small strings would waste memory. For example, with a 10-byte string, a <code>uint64_t</code> header would consume 16 bytes, which is inefficient. </p>
<p>Additionally, Redis uses compiler optimizations to further reduce memory usage. For the <code>sdshdr8</code> structure, it uses the <code>__attribute__((__packed__))</code> directive to prevent the compiler from aligning the structure to 8-byte boundaries. This packed attribute ensures that memory is allocated more compactly, avoiding the default 8-byte alignment that would waste space even if a variable is smaller than 8 bytes.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">attribute__</span> ((__<span class="title">packed__</span>)) <span class="title">sdshdr8</span></span></span><br></pre></td></tr></table></figure>



<p>To help you understand, let me give you an example. Suppose I define a structure <code>s1</code> with two member variables: one of type <code>char</code> and the other of type <code>int</code>, like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">s1</span> &#123;</span></span><br><span class="line">        <span class="type">char</span> a;</span><br><span class="line">        <span class="type">int</span> b;</span><br><span class="line">    &#125; ts1;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(ts1));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Although <code>char</code> takes up 1 byte and <code>int</code> takes up 4 bytes, if you run this code, youâ€™ll notice that the total size printed is 8 bytes. This is because, by default, the compiler allocates 8 bytes to the <code>s1</code> structure, leaving 3 bytes unused due to padding.</p>
<p>To optimize memory usage, Redis takes a very efficient approach. It uses the <code>__attribute__((__packed__))</code> attribute to define structures, ensuring the compiler only allocates exactly the amount of memory needed for the structureâ€™s fields.</p>
<p>For example, if I define another structure <code>s2</code> with the same <code>char</code> and <code>int</code> fields, but use the <code>__attribute__((__packed__))</code> attribute, the code would look like this:</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> __<span class="title">attribute__</span>((<span class="title">packed</span>)) <span class="title">s2</span> &#123;</span></span><br><span class="line">        <span class="type">char</span> a;</span><br><span class="line">        <span class="type">int</span> b;</span><br><span class="line">    &#125; ts2;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(ts2));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>When you run this code, the printed result is 5 bytes, indicating that the compiler has packed the structure more tightly, using only 5 bytes of memory.</p>
<p>In summary, if youâ€™re developing a program and want to minimize the memory footprint of your data structures, you can use the <code>__attribute__((__packed__))</code> technique to achieve this.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>In this lesson, I introduced you to the design and implementation of strings in Redis. Itâ€™s important to understand that string implementations need to prioritize efficiency, support storing any type of binary data, and minimize memory usage. Redisâ€™ approach to string design is definitely something worth studying and applying.</p>
<p>There are three key points you should focus on:</p>
<ol>
<li>The limitations of using <code>char*</code> to implement strings in C. Since <code>char*</code> relies on the <code>\0</code> character to indicate the end of a string, operations often require scanning the entire string, which isnâ€™t efficient. Moreover, it canâ€™t fully represent data that contains <code>\0</code>, which doesnâ€™t meet Redisâ€™ needs.</li>
<li>The design principles and implementation of strings in Redis. Redis introduces a specialized data structure called SDS (Simple Dynamic String), which builds on character arrays by adding metadata like the length of the string and the size of the allocated space. This allows operations like appending, copying, and comparing strings to be done by directly reading the metadata, improving efficiency. SDS also doesnâ€™t use the <code>\0</code> character to mark the end of the string, treating it as binary data, which allows for storing things like images.</li>
<li>SDS uses different types to represent strings of varying sizes and employs the <code>__attribute__((__packed__))</code> technique to achieve a compact memory layout, helping to save memory.</li>
</ol>
<p>While strings may seem simple, todayâ€™s lesson shows that implementing them involves thoughtful design. The differences and similarities between Câ€™s <code>char*</code> strings and Redisâ€™ SDS are often asked about in Redis interviews, so I hope youâ€™ll master these distinctions through this lesson.</p>
]]></content>
      <categories>
        <category>Redis Source Code Analysis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Why You Should Learn Data Structures and Algorithms</title>
    <url>/2024/01/01/why-you-should-learn-data-structures-and-algorithms/</url>
    <content><![CDATA[<p>Do you think that data structures and algorithms, similar to operating systems and computer networks, are disconnected from practical application? Some argue these concepts are primarily useful for interviews and not essential in day-to-day coding.<br>However, I disagree. In todayâ€™s digital era, understanding data structures and algorithms is crucial, regardless of whether youâ€™re a seasoned developer or new to coding. These foundational concepts not only enhance your problem-solving abilities but also greatly elevate your career prospects.<br>In this article, Iâ€™ll delve into why learning data structures and algorithms is indispensable.</p>
<h2 id="Boosting-Career-Opportunities"><a href="#Boosting-Career-Opportunities" class="headerlink" title="Boosting Career Opportunities"></a>Boosting Career Opportunities</h2><p>Technical interviews for software engineering and related roles often heavily emphasize data structures and algorithms. Many large companies, like Microsoft, Google, Amazon, and Facebook, often conduct algorithm-focused interviews where candidates are asked to write code on the spot.<br>Why do these companies prioritize algorithms? In university recruiting, candidates often lack practical project experience, so companies assess their fundamental knowledge. In general recruiting, stronger companies emphasize solid knowledge of data structures and algorithms over immediate skills, prioritizing long-term potential.<br>Employers leverage these questions to evaluate a candidateâ€™s problem-solving skills, critical thinking ability, and grasp of core computer science concepts. They prioritize candidates capable of designing efficient systems and enhancing performance. Proficiency in data structures and algorithms is in high demand across tech giants and startups alike. Mastery of these principles unlocks lucrative opportunities in software engineering, data science, cybersecurity, and other sought-after fields, offering a significant advantage in the hiring process.</p>
<h2 id="Enhancing-Problem-Solving-Skills"><a href="#Enhancing-Problem-Solving-Skills" class="headerlink" title="Enhancing Problem-Solving Skills"></a>Enhancing Problem-Solving Skills</h2><p>As a business development engineer, your daily tasks may involve performing CRUD operations on databases. Typically, youâ€™ll rely on pre-built interfaces and class libraries to handle most business logic, minimizing the need for custom implementations of data structures and algorithms. However, a solid grasp of these foundational principles is essential. Understanding the underlying principles of libraries and being able to analyze time and space complexity are key to leveraging these tools effectively.<br>Decisions such as choosing between <code>ArrayList</code> and <code>LinkedList</code> for storing business data or evaluating code performance and resource consumption after function calls rely on your knowledge of data structures and algorithms. Frameworks and middleware like Spring, RPC frameworks, and Redis incorporate fundamental designs in their architecture. For instance, Redis utilizes specific data structures like ordered sets implemented with skip lists rather than binary trees for efficiency.<br>Having this knowledge not only enhances your ability to use these tools but also simplifies troubleshooting and optimization efforts. For example, when calculating the 99% response time of a business interface in real-time, understanding the â€œheapâ€ data structure enables efficient solutions using two heaps, significantly improving performance over naive methods like sorting.<br>In summary, while directly implementing data structures and algorithms may not be common in business development, their understanding remains crucial. It facilitates effective use of existing tools, improves troubleshooting capabilities, and ensures optimal performance in practical scenarios.</p>
<h2 id="Staying-Relevant-in-a-Dynamic-Industry"><a href="#Staying-Relevant-in-a-Dynamic-Industry" class="headerlink" title="Staying Relevant in a Dynamic Industry"></a>Staying Relevant in a Dynamic Industry</h2><p>Technology evolves rapidly, yet the enduring principles of data structures and algorithms serve as the backbone of modern computing, remaining relevant across programming languages and frameworks. Continuous learning in these areas ensures you remain competitive and adaptable in an ever-changing tech landscape.<br>What defines good code in software development? Is it readability, robustness, scalability? The answer varies, but performance stands as a crucial criterion. However, writing high-performance code is challenging without a solid grasp of time and space complexities.<br>You might argue: â€œI work in a small company with few users and minimal dataâ€”performance isnâ€™t critical.â€ But do you aim to repeat the same tasks for a decade? Many programmers hit a career plateau as they age. Why? Some neglect non-functional aspects, opting for quick solutions without foresight or improvement plans.<br>Iâ€™ve interviewed veterans with extensive resumesâ€”projects full of repetitive logic, showing minimal growth over a decade. A decadeâ€™s experience shouldnâ€™t resemble a yearâ€™s worth. How does one avoid becoming obsolete?<br>In mature companies or tech giants dealing with millionsâ€”or billionsâ€”of users and terabytes or petabytes of data, performance is always paramount. A simple choice between ArrayList or LinkedList can lead to a thousandfold performance gap. Here, mastering data structures and algorithms becomes indispensable.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Learning data structures and algorithms isnâ€™t just about codingâ€”itâ€™s about mastering the tools that drive innovation and problem-solving in the digital age. Whether youâ€™re aiming to advance your career or dive deeper into software development, investing in these foundational skills is the ultimate pathway to success.</p>
]]></content>
      <categories>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Data Structures and Algorithms</tag>
      </tags>
  </entry>
  <entry>
    <title>Analyzing Time Complexity of Algorithms Using Big O Notation</title>
    <url>/2024/01/03/analyzing-time-complexity-of-algorithms-using-big-o-notation/</url>
    <content><![CDATA[<p>In the previous article â€œ<a href="/2024/01/02/big-o-notation-for-time-and-space-complexity">Big O Notation for Time and Space Complexity</a>,â€ we introduced the origin and notation of Big O time complexity. Now letâ€™s explore how to analyze the time complexity of a piece of code.</p>
<p>Understanding how to analyze the time complexity of a piece of code using Big O notation is a crucial skill for any software developer or computer scientist. Big O notation provides a way to describe the performance of an algorithm in terms of the amount of time it takes to execute or the amount of memory it uses (though weâ€™re focusing on time complexity here). Hereâ€™s a step-by-step guide on how to analyze the time complexity of a piece of code using Big O.</p>
<h2 id="Identify-the-Nested-Loops"><a href="#Identify-the-Nested-Loops" class="headerlink" title="Identify the Nested Loops"></a>Identify the Nested Loops</h2><p>Start by looking at the code and identifying any loops, especially nested loops. Loops are often the primary contributors to the time complexity of an algorithm. Note the number of loops and how they are nested.</p>
<h2 id="Count-the-Operations-Inside-the-Loops"><a href="#Count-the-Operations-Inside-the-Loops" class="headerlink" title="Count the Operations Inside the Loops"></a>Count the Operations Inside the Loops</h2><p>For each loop, determine the number of operations that are performed within the loop body. Operations can include arithmetic operations, comparisons, assignments, etc. In Big O notation, we often focus on the â€œmost significantâ€ term, meaning the term that grows the fastest as the input size increases.</p>
<h2 id="Determine-the-Growth-Rate"><a href="#Determine-the-Growth-Rate" class="headerlink" title="Determine the Growth Rate"></a>Determine the Growth Rate</h2><p>Based on the number of loops and the operations within them, determine the growth rate of the algorithm. The growth rate describes how the time required to execute the algorithm increases as the input size increases. Common growth rates include$O(1)$(constant time),$O(log n)$(logarithmic time),$O(n)$(linear time),$O(n^2)$(quadratic time), and$O(n!)$(factorial time).</p>
<ul>
<li>$O(1)$: The time required to execute the algorithm is constant regardless of the input size.</li>
<li>$O(log n)$: The time required to execute the algorithm grows logarithmically with the input size.</li>
<li>$O(n)$: The time required to execute the algorithm grows linearly with the input size.</li>
<li>$O(n^2)$: The time required to execute the algorithm grows quadratically with the input size.</li>
<li>$O(n!)$: The time required to execute the algorithm grows factorially with the input size, which is extremely slow for large inputs.</li>
</ul>
<h2 id="Ignore-Constants-and-Lower-Order-Terms"><a href="#Ignore-Constants-and-Lower-Order-Terms" class="headerlink" title="Ignore Constants and Lower-Order Terms"></a>Ignore Constants and Lower-Order Terms</h2><p>When analyzing time complexity, itâ€™s common to ignore constants and lower-order terms. For example, if an algorithmâ€™s time complexity is$O(5n^2 + 3n + 100)$, we would simplify it to$O(n^2)$because the$n^2$term grows faster than the$n$term or the constant term as$n$increases.</p>
<h2 id="Sharing-Three-Highly-Practical-Methods"><a href="#Sharing-Three-Highly-Practical-Methods" class="headerlink" title="Sharing Three Highly Practical Methods"></a>Sharing Three Highly Practical Methods</h2><ol>
<li><strong>Only focus on the segment of code with the highest number of loop executions.</strong></li>
</ol>
<p>We focus exclusively on the segment of code with the maximum number of loop executions. Big O notation describes a complexity trend. Typically, we ignore constants, lower-order terms, and coefficients in the formula, concentrating solely on the highest-order term. Therefore, when analyzing the time complexity of an algorithm, we concentrate on the segment with the maximum number of loop executions. The magnitude of this segmentâ€™s execution count, represented by$n$, dictates the overall time complexity of the analyzed code. </p>
<p>To clarify this concept further, Iâ€™ll use the previous articleâ€™s example as an illustration.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt;= n; ++i) &#123;</span><br><span class="line">        s = s + i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The 2nd and 3rd lines of code execute in constant time, regardless of the size of$n$, and thus do not impact the overall complexity. The 4th and 5th lines, however, are executed most frequently and require focused analysis. As previously noted, these lines are executed$n$times, leading to an overall time complexity of$O(n)$.</p>
<ol start="2">
<li><strong>Addition rule: The overall complexity is determined by the segment of code with the highest order of magnitude.</strong></li>
</ol>
<p>Taking the following code snippet as an example, letâ€™s analyze the time complexity of the given function <code>sum(int n)</code> step by step.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> total_1 = <span class="number">0</span>, total_2 = <span class="number">0</span>, total_3 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">        total_1 += i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        total_2 += i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            total_3 += i + j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total_1 + total_2 + total_3;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p><strong>First <strong><code>for</code></strong> loop (total_1):</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">500</span>; i++) &#123;</span><br><span class="line">    total_1 += i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>This loop iterates 500 times, regardless of the value of <code>n</code>.</li>
<li>Time complexity:$O(1)$(constant time). Even though the loop iterates 500 times, itâ€™s a fixed number of iterations and does not depend on <code>n</code>.</li>
</ul>
</li>
<li><p><strong>Second <strong><code>for</code></strong> loop (total_2):</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    total_2 += i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>This loop iterates <code>n</code> times.</li>
<li>Time complexity:$O(n)$. The number of iterations depends linearly on the value of <code>n</code>.</li>
</ul>
</li>
<li><p><strong>Nested <strong><code>for</code></strong> loops (total_3):</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        total_3 += i + j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>The outer loop runs <code>n</code> times.</li>
<li>The inner loop runs <code>n</code> times for each iteration of the outer loop.</li>
<li>Therefore, the total number of iterations for the inner loop is$n \times n = n^2$.</li>
<li>Time complexity:$O(n^2)$. The time taken grows quadratically with respect to <code>n</code>.</li>
</ul>
</li>
<li><p><strong>Combined Time Complexity:</strong></p>
</li>
</ol>
<p>To find the overall time complexity of the function <code>sum(int n)</code>, we sum up the complexities of each part:</p>
<ul>
<li>$O(1)$(from <code>total_1</code>)</li>
<li>$O(n)$(from <code>total_2</code>)</li>
<li>$O(n^2)$(from <code>total_3</code>)</li>
</ul>
<p>The dominant term here is$O(n^2)$, because it grows faster than both$O(n)$and$O(1)$. Thus, the overall time complexity of the function <code>sum(int n)</code> is$O(n^2)$. This quadratic complexity is primarily determined by the nested loops that calculate <code>total_3</code>.</p>
<p>From the above analysis, we can infer that the overall time complexity is equal to the complexity of the segment with the highest order. We can abstract this rule into a formula:<br>if<br>$T1(n) = O(f(n))$,<br>$T2(n) = O(g(n))$;<br>then$T(n) = T1(n) + T2(n) = max(O(f(n)), O(g(n))) = O(max(f(n), g(n)))$.</p>
<ol start="3">
<li><strong>Multiplication rule: The complexity of nested code equals the product of the complexities of the outer and inner layers of code.</strong></li>
</ol>
<p>Again, we abstract this rule into a formula:</p>
<p>if<br>$T1(n)=O(f(n))$ï¼Œ<br>$T2(n)=O(g(n))$ï¼›<br>then<br>$T(n)=T1(n)*T2(n)=O(f(n))*O(g(n))=O(f(n)*g(n))$</p>
<p>In other words,</p>
<p>if$T1(n) = O(n)$,$T2(n) = O(n^2)$, then$T1(n) * T2(n) = O(n^3)$.</p>
<p>Taking the following code snippet as an example, letâ€™s analyze the time complexity of function <code>sum1(int n)</code>.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> total = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        total += i;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">sum1</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> total = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        total += sum2(i);</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>To analyze the time complexity of the function <code>sum1(int n)</code>, letâ€™s break down each function individually and then combine them to determine the overall complexity.</p>
<ol>
<li><p><strong>Analysis of <strong><code>**sum2(int n)**</code></strong>:</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum2</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> total = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        total += i;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Loop Iterations</strong>: The <code>for</code> loop runs from <code>i = 1</code> to <code>i &lt; n</code>, iterating <code>n-1</code> times.</li>
<li><strong>Operations Inside Loop</strong>: Inside the loop, <code>total += i</code> executes once per iteration.</li>
</ul>
</li>
</ol>
<p>The time complexity of <code>sum2(int n)</code> is$O(n)$, because the loop runs <code>n-1</code> times, which is linear in terms of <code>n</code>.</p>
<ol start="2">
<li><p><strong>Analysis of <strong><code>**sum1(int n)**</code></strong>:</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum1</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> total = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        total += <span class="built_in">sum2</span>(i);</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Loop Iterations</strong>: The <code>for</code> loop in <code>sum1(int n)</code> also runs from <code>i = 1</code> to <code>i &lt; n</code>, iterating <code>n-1</code> times.</li>
<li><strong>Operations Inside Loop</strong>: Inside the loop, <code>sum2(i)</code> is called.</li>
</ul>
</li>
</ol>
<p>For each iteration of the loop in <code>sum1(int n)</code>, <code>sum2(i)</code> is called. If <code>sum2(i)</code> is just a simple operation, the time complexity of lines 4 to 6 is$T1(n) = O(n)$. However, <code>sum2(i)</code> itself is not a simple operation; its time complexity is$T2(n) = O(n)$. According to the multiplication rule, the overall time complexity of the <code>sum1(int n)</code> function is$T(n) = T1(n) * T2(n) = O(n * n) = O(n^2)$.</p>
<p>You donâ€™t have to deliberately memorize these three complexity analysis techniques. In fact, the key to mastering complexity analysis lies in familiarity. Just expose yourself to more examples and regularly practice analysis.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>By following these steps, you can analyze the time complexity of a variety of algorithms and gain a better understanding of their performance characteristics.</p>
]]></content>
      <categories>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Data Structures and Algorithms</tag>
      </tags>
  </entry>
  <entry>
    <title>Big O Notation for Time and Space Complexity</title>
    <url>/2024/01/02/big-o-notation-for-time-and-space-complexity/</url>
    <content><![CDATA[<p>We all know that data structures and algorithms address the concepts of speed and efficiencyâ€”how to make code run faster and use storage space more efficiently. Therefore, the execution efficiency of algorithms is a crucial consideration. How do we measure the efficiency of the algorithmic code we write? This brings us to todayâ€™s topic: analyzing time and space complexity.</p>
<h2 id="Why-is-complexity-analysis-needed"><a href="#Why-is-complexity-analysis-needed" class="headerlink" title="Why is complexity analysis needed?"></a>Why is complexity analysis needed?</h2><p>You might be wondering why I need to analyze time and space complexity when I can simply run the code once and gather statistics and monitoring data on algorithm execution time and memory usage. Canâ€™t this real-time data provide a more accurate assessment? While evaluating algorithm efficiency through actual runs is valid, this approach is often referred to in data structure and algorithm books as post hoc analysis. However, it does come with significant limitations.</p>
<ol>
<li><strong>The test results heavily rely on the testing environment.</strong></li>
</ol>
<p>Test results can vary significantly depending on the test environment, particularly due to differences in hardware. For instance, running the same piece of code on an Intel Core i9 processor versus an Intel Core i3 processor will naturally result in faster execution on the i9. Similarly, if code â€˜Aâ€™ runs faster than code â€˜Bâ€™ on this machine initially, switching to another machine could yield completely opposite results.</p>
<ol start="2">
<li><strong>The test results are greatly influenced by the size of the data.</strong></li>
</ol>
<p>Consider a sorting algorithm as an example: the order of the data significantly affects the execution time of the sorting process. In cases where the data is already sorted, the algorithm requires minimal operations, resulting in very short execution times. Furthermore, when the test data size is too small, the algorithmâ€™s performance may not accurately reflect its capabilities. For instance, with small datasets, insertion sort could potentially outperform quicksort.</p>
<p>Therefore, we need a method to roughly estimate the execution efficiency of an algorithm without relying on specific test data. Complexity analysis is fundamental to efficient algorithm design and implementation in software development. It plays a crucial role in evaluating and predicting the performance characteristics of algorithms and data structures. By thoroughly understanding complexity, developers can make informed decisions to optimize both time and space efficiency in their code.</p>
<p>In the domain of algorithms:</p>
<ul>
<li><strong>Time Complexity</strong>: This metric assesses how an algorithmâ€™s execution time scales with the size of its input. Algorithms with lower time complexity generally perform better on larger datasets, crucial for applications requiring fast processing speeds or handling extensive computations.</li>
<li><strong>Space Complexity</strong>: This dimension measures the amount of memory an algorithm requires relative to its input size. Algorithms with lower space complexity are advantageous in memory-constrained environments, such as mobile devices or embedded systems.</li>
</ul>
<h2 id="Big-O-notation"><a href="#Big-O-notation" class="headerlink" title="Big O notation"></a>Big O notation</h2><p>The execution efficiency of an algorithm can be understood as the time it takes for the algorithmâ€™s code to run. However, how can one estimate the execution time of a piece of code without actually running it? </p>
<p>Letâ€™s consider a straightforward example: a simple piece of code that calculates the sum of integers from <code>1</code> to <code>n</code>. I will guide you through the process of estimating the execution time of this code.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt;= n; ++i) &#123;</span><br><span class="line">        s = s + i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>From the perspective of the CPU, each line of this code performs a similar sequence of operations: reading data, performing arithmetic, and writing data. While the number of CPU executions and the time taken for each line vary, for the sake of estimation, we assume each line takes the same amount of time, referred to as <em>unit_time</em>. Based on this assumption, what is the total execution time of this code? </p>
<p>The 2nd and 3rd lines each require 1 <em>unit_time</em> of execution time, while the 4th and 5th lines iterate$n$times, requiring $( 2n \cdot \text{unit_time} )$ of execution time. Therefore, the total execution time of this code is $( (2n+2) \cdot \text{unit_time} )$. It can be seen that the execution time$T(n)$of all code is directly proportional to the number of executions per line. </p>
<p>Continuing with this analytical approach, letâ€™s now reconsider another piece of code.</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt;= n; ++i) &#123;</span><br><span class="line">        j = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (; j &lt;= n; ++j) &#123;</span><br><span class="line">            s = s +  i * j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We still assume each statement takes <em>unit_time</em> to execute. Now, what is the total execution time$\ T(n) $for this code?</p>
<p>The 2nd, 3rd, and 4th lines each require 1 <em>unit_time</em>. The 5th and 6th lines iterate$n$times, requiring $( 2n \cdot \text{unit_time} )$. The 7th and 8th lines iterate$n^2$times, thus requiring $( 2n^2 \cdot \text{unit_time} )$. Therefore, the total execution time$T(n)$for the entire code segment is $( (2n^2 + 2n + 3) \cdot \text{unit_time} )$.</p>
<p>While the exact value of <em>unit_time</em> remains unknown, analyzing the execution times of these code segments reveals a crucial rule: the total execution time$T(n)$correlates directly with the number of executions$f(n)$of each line of code.</p>
<p>This observation can be encapsulated into a formula, setting the stage for the introduction of Big O notation!</p>
<p>$T(n)=O(f(n))$</p>
<p>Here,$T(n)$represents the time complexity of code execution, where$n$denotes the size of the input data, and$f(n)$signifies the total number of times each line of code is executed. In Big O notation, denoted by O,$T(n)$is proportional to$f(n)$. </p>
<p>For instance,$T(n) = O(2n+2)$in the first example, and$T(n) = O(2n^2+2n+3)$in the second. Big O notation expresses the growth rate of execution time as data size increases, known as asymptotic time complexity. </p>
<p>In practical terms, this notation doesnâ€™t precisely indicate actual execution time but rather how it scales with input size, such as when$n$is large, say 1,000,000 or 10,000,000. In the formula, lower-order terms, constants, and coefficients do not affect the growth trend and can be ignored, focusing only on the dominant term. </p>
<p>Therefore, for the two code segments mentioned earlier, their time complexity in Big O notation would be:$T(n) = O(n)$and$T(n) = O(n^2)$.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>In conclusion, complexity analysis is not merely an academic exercise but a fundamental practice that underpins effective software engineering. By leveraging insights into time and space complexities, developers empower themselves to craft solutions that meet performance expectations, enhance user experience, and optimize resource consumption. Embracing complexity analysis is essential for anyone striving to build reliable, efficient software systems in todayâ€™s dynamic technological landscape.</p>
]]></content>
      <categories>
        <category>Data Structures and Algorithms</category>
      </categories>
      <tags>
        <tag>Data Structures and Algorithms</tag>
      </tags>
  </entry>
  <entry>
    <title>Comments in Bash</title>
    <url>/2024/07/13/comments-in-bash/</url>
    <content><![CDATA[<p>Comments in Bash scripts are used to annotate and explain the code. They help make the script more understandable and maintainable. In Bash, there are several ways to include comments:</p>
<h2 id="Single-Line-Comments"><a href="#Single-Line-Comments" class="headerlink" title="Single-Line Comments"></a><strong>Single-Line Comments</strong></h2><p>Single-line comments in Bash begin with a <code>#</code> character. Everything on the line after the <code>#</code> is considered a comment and is ignored by the Bash interpreter.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is a single-line comment</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, World!&quot;</span>  <span class="comment"># This is also a comment</span></span><br></pre></td></tr></table></figure>


<p><strong>Note:</strong> The top line of the script, which starts with a <code>#</code>, is interpreted as a shebang rather than a comment.</p>
<h2 id="Multi-Line-Comments"><a href="#Multi-Line-Comments" class="headerlink" title="Multi-Line Comments"></a><strong>Multi-Line Comments</strong></h2><p>Bash does not have a built-in multi-line comment syntax like some other programming languages. However, you can use a <code>: &#39;...&#39;</code> or <code>: &quot;...&quot;</code> construct to create a block of comments. The <code>:</code> is a built-in command that does nothing, and the quoted text is ignored by the interpreter. This is a common workaround for multi-line comments.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">: <span class="string">&#x27;</span></span><br><span class="line"><span class="string">This is a multi-line comment.</span></span><br><span class="line"><span class="string">It spans several lines.</span></span><br><span class="line"><span class="string">It is ignored by the Bash interpreter.</span></span><br><span class="line"><span class="string">&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Alternatively, you can use <code>&lt;&lt;&#39;COMMENT&#39;</code> with a here document to achieve a similar effect:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;&lt;<span class="string">&#x27;COMMENT&#x27;</span></span><br><span class="line">This is a multi-line comment.</span><br><span class="line">It also spans multiple lines.</span><br><span class="line">It is ignored by the Bash interpreter.</span><br><span class="line">COMMENT</span><br></pre></td></tr></table></figure>
<h2 id="Documentation-Comments"><a href="#Documentation-Comments" class="headerlink" title="Documentation Comments"></a><strong>Documentation Comments</strong></h2><p>For more structured documentation, you can use comments to describe functions or sections of your script. This is useful for providing detailed descriptions, usage information, and examples.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Function to greet the user</span></span><br><span class="line"><span class="comment"># Usage: greet &lt;name&gt;</span></span><br><span class="line"><span class="comment"># Example: greet &quot;Alice&quot;</span></span><br><span class="line"><span class="function"><span class="title">greet</span></span>() &#123;</span><br><span class="line">  <span class="built_in">local</span> name=<span class="variable">$1</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Main script execution</span></span><br><span class="line">greet <span class="string">&quot;Alice&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Best-Practices-for-Using-Comments"><a href="#Best-Practices-for-Using-Comments" class="headerlink" title="Best Practices for Using Comments"></a>Best Practices for Using Comments</h2><ul>
<li><strong>Be Clear and Concise</strong>: Comments should clearly explain what the code does, especially if the code is complex or not immediately obvious.</li>
<li><strong>Keep Comments Updated</strong>: Ensure that comments are updated along with the code they describe. Outdated comments can be misleading.</li>
<li><strong>Avoid Redundant Comments</strong>: Donâ€™t state the obvious. For example, comments like <code># Increment i</code> right next to <code>i=$((i + 1))</code> can be redundant.</li>
<li><strong>Use Comments for Sections</strong>: Use comments to divide the script into logical sections, which helps in readability.</li>
</ul>
<p>Example Script with Comments:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define variables</span></span><br><span class="line">name=<span class="string">&quot;Alice&quot;</span></span><br><span class="line">age=30</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output variable values</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Name: <span class="variable">$name</span>&quot;</span>  <span class="comment"># Print the name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Age: <span class="variable">$age</span>&quot;</span>    <span class="comment"># Print the age</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read user input</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter your city: &quot;</span> city</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;City: <span class="variable">$city</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Perform string replacement</span></span><br><span class="line">new_name=<span class="variable">$&#123;name/Alice/Bob&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;New Name: <span class="variable">$new_name</span>&quot;</span></span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Your First Bash Script</title>
    <url>/2024/07/11/your-first-bash-script/</url>
    <content><![CDATA[<p>Bash, which stands for Bourne Again SHell, is a widely used command-line interpreter and scripting language that was originally developed by Brian Fox for the GNU Project as a free replacement for the Bourne shell (sh). Bash combines the features of the Bourne shell with many enhancements and new features, making it a powerful and flexible tool for users and system administrators.</p>
<p>Before you start your first script, you need to understand the shebang(<code>#!</code>) character.</p>
<h2 id="What-does-Mean"><a href="#What-does-Mean" class="headerlink" title="What does #! Mean?"></a>What does <code>#!</code> Mean?</h2><p>The <code>#!</code> sequence, known as â€œshebang,â€ is a special character combination used at the beginning of script files in Unix-like operating systems. It tells the system which interpreter should be used to execute the script. </p>
<p>When you place <code>#!</code> at the top of a script file followed by the path to an interpreter (e.g., <code>#!/bin/bash</code>), it instructs the operating system to use the specified interpreter to run the script. This helps ensure that the script runs with the correct interpreter, regardless of the userâ€™s environment or default shell.</p>
<p>Hereâ€™s how a typical shebang line looks:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env python3</span></span><br></pre></td></tr></table></figure>
<p>In this example, <code>#!/usr/bin/env python3</code> indicates that the script should be executed using Python 3, with <code>env</code> being used to locate the Python interpreter in the userâ€™s environment.</p>
<h2 id="Writing-a-Simple-Bash-Script"><a href="#Writing-a-Simple-Bash-Script" class="headerlink" title="Writing a Simple Bash Script"></a>Writing a Simple Bash Script</h2><p>To create a simple Bash script, follow these steps:</p>
<ol>
<li><p><strong>Create a new file:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">touch</span> hello_world.sh</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Make the script executable:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x hello_world.sh</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Edit the script (using nano, vim, or another text editor):</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nano hello_world.sh</span><br></pre></td></tr></table></figure></li>
<li><p><strong>Add the shebang and commands:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, World!&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>Run the script(</strong><code>**sh hello_world.sh**</code><strong>, <strong><code>**bash hello_world.sh**</code></strong>, or <strong><code>**./hello_world.sh**</code></strong>):</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sh hello_world.sh</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash hello_world.sh</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./hello_world.sh</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure></li>
</ol>
<p>If you see the error <code>-bash: . /hello_world.sh: Permission denied</code> when running the script with <code>. /hello_world.sh</code>, it means the script doesnâ€™t have execute permissions. To fix this, use the following commands to set the execute permission, then try running the script again.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">chmod</span> +x ./hello_world.sh</span><br><span class="line">$ ./hello_world.sh</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Variables in Bash</title>
    <url>/2024/07/12/variables-in-bash/</url>
    <content><![CDATA[<p>In Bash scripting, variables are used to store data that can be used later in the script. Hereâ€™s a quick overview of how to work with variables in Bash:</p>
<h2 id="Defining-Variables"><a href="#Defining-Variables" class="headerlink" title="Defining Variables"></a><strong>Defining Variables</strong></h2><p>Variables in Bash are defined by assigning a value to a name, with no spaces around the <code>=</code> sign:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">variable_name=value</span><br></pre></td></tr></table></figure>
<p>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name=<span class="string">&quot;Johnson&quot;</span></span><br><span class="line">age=28</span><br></pre></td></tr></table></figure>

<p>Note that there should be no spaces between the variable name and the equals sign, which might differ from what youâ€™re used to in other programming languages. Variable names must follow these rules:</p>
<ul>
<li><strong>Contain only letters, numbers, and underscores</strong>: Variable names can include letters (case-sensitive), numbers, and underscores (_), but no other special characters.</li>
<li><strong>Not start with a number</strong>: While variable names can include numbers, they cannot begin with one.</li>
<li><strong>Avoid Shell keywords</strong>: Do not use Shell keywords (e.g., if, then, else, fi, for, while) as variable names to prevent confusion.</li>
<li><strong>Use uppercase for constants</strong>: By convention, variable names for constants are typically written in uppercase, like PI=3.14.</li>
<li><strong>Avoid special symbols</strong>: Try to avoid special symbols in variable names as they may conflict with Shell syntax.</li>
<li><strong>No spaces</strong>: Variable names should not include spaces, as spaces are generally used to separate commands and arguments.</li>
</ul>
<p>Examples of valid Shell variable names are as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HOSTNAME=<span class="string">&quot;www.linjiangxiong.com&quot;</span></span><br><span class="line">FILEBEAT_HOME=<span class="string">&quot;/opt/filebeat&quot;</span></span><br><span class="line">_rvm_version=<span class="string">&quot;1.29.12&quot;</span></span><br><span class="line">flag2=<span class="string">&quot;35609&quot;</span></span><br></pre></td></tr></table></figure>
<p>Examples of invalid variable naming are as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Avoid using reserved keywords like &quot;else&quot; as variable names.</span></span><br><span class="line"><span class="comment"># Using Shell keywords as variable names may not cause errors, </span></span><br><span class="line"><span class="comment"># but it can lead to confusion.</span></span><br><span class="line"><span class="keyword">else</span>=<span class="string">&quot;variable_with_reserved_keywords_else&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Avoid using special characters like $, ?, *, # in variable names</span></span><br><span class="line">var_$=42</span><br><span class="line">?_var=123</span><br><span class="line">user_*_name=johnson</span><br><span class="line"></span><br><span class="line"><span class="comment"># Avoid using spaces in variable names</span></span><br><span class="line">user name=johnson</span><br></pre></td></tr></table></figure>
<p>Avoid using spaces around the equal sign:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Correct assignment</span></span><br><span class="line">variable_name=value</span><br><span class="line"></span><br><span class="line"><span class="comment"># May cause errors: &#x27;variable_name: not found&#x27;</span></span><br><span class="line">variable_name = <span class="string">&quot;using spaces around the equal sign&quot;</span></span><br></pre></td></tr></table></figure>
<p>In addition to direct assignment, you can also assign values using statements, such as:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> $(<span class="built_in">ls</span> /home/john/);</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span>;</span><br></pre></td></tr></table></figure>
<p>This loop iterates over the filenames in the <code>/home/john</code> directory.</p>
<h2 id="Using-Variables"><a href="#Using-Variables" class="headerlink" title="Using Variables"></a><strong>Using Variables</strong></h2><p>To use the value of a variable, prefix its name with a dollar sign <code>$</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">name=<span class="string">&quot;Johnson&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br></pre></td></tr></table></figure>
<p>This will output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Johnson</span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong> Braces around variable names are optional but can help the interpreter recognize the boundaries of the variable. For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> ball_type <span class="keyword">in</span> Foot Base Basket Volley; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;I like <span class="variable">$&#123;ball_type&#125;</span>ball&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Without braces, if you write <code>echo &quot;I like $ball_typeball&quot;</code>, the interpreter will treat <code>$ball_typeball</code> as a single variable (which will be empty), leading to unexpected results.</p>
<p>Defined variables can be reassigned, as shown in the example below. Note that when reassigning a variable, you should not use the dollar sign (<code>$</code>). The dollar sign is only needed when referencing the variableâ€™s value.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Define a variable your_name and set it to &quot;john&quot;</span></span><br><span class="line">your_name=<span class="string">&quot;john&quot;</span></span><br><span class="line"><span class="comment"># Print the value of the variable your_name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Change the value of your_name to &quot;johnson&quot;</span></span><br><span class="line">your_name=<span class="string">&quot;johnson&quot;</span></span><br><span class="line"><span class="comment"># Print the new value of the variable your_name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This line of code has a syntax error</span></span><br><span class="line"><span class="variable">$your_name</span>=<span class="string">&quot;oihre&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$your_name</span></span><br></pre></td></tr></table></figure>

<h2 id="Read-Only-Variables"><a href="#Read-Only-Variables" class="headerlink" title="Read-Only Variables"></a>Read-Only Variables</h2><p>The <code>readonly</code> command can be used to define a variable as read-only, meaning its value cannot be changed. The following example attempts to modify a read-only variable, which results in an error. </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;Johnson&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> name</span><br><span class="line">name=<span class="string">&quot;John&quot;</span></span><br></pre></td></tr></table></figure>
<p>Running the script produces the following result:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xxxx.sh: 5: name: is <span class="built_in">read</span> only</span><br></pre></td></tr></table></figure>
<h2 id="Unsetting-Variables"><a href="#Unsetting-Variables" class="headerlink" title="Unsetting Variables"></a><strong>Unsetting Variables</strong></h2><p>To remove a variable, use the <code>unset</code> command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">unset</span> variable_name</span><br></pre></td></tr></table></figure>
<p>Once a variable is deleted, it cannot be used again. For example, running the following code will produce no output.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;Johnson&quot;</span></span><br><span class="line"><span class="built_in">unset</span> name</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong> The <code>unset</code> command cannot remove read-only variables. For example, running the following code will produce the error message <code>unset: first_name: is read only</code>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">first_name=<span class="string">&quot;DD&quot;</span></span><br><span class="line"><span class="built_in">readonly</span> first_name</span><br><span class="line"><span class="built_in">unset</span> first_name</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$first_name</span></span><br></pre></td></tr></table></figure>
<h2 id="Local-Variables"><a href="#Local-Variables" class="headerlink" title="Local Variables"></a><strong>Local Variables</strong></h2><p>Within functions, you can declare local variables using the <code>local</code> keyword:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Define a local variable within the function</span></span><br><span class="line">    <span class="built_in">local</span> greeting=<span class="string">&quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Output the local variable (accessible within the function)</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$greeting</span>, John!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Global-vs-Local-Variables"><a href="#Global-vs-Local-Variables" class="headerlink" title="Global vs Local Variables"></a>Global vs Local Variables</h2><p>Global variables are accessible throughout the entire script, while local variables are only accessible within their defined scope, such as inside a function.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define a global variable</span></span><br><span class="line">GLOBAL_VAR=<span class="string">&quot;global variable value&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Define a local variable within the function</span></span><br><span class="line">    <span class="built_in">local</span> local_var=<span class="string">&quot;local variable value&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Output the local variable (accessible within the function)</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$local_var</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Output the global variable (accessible within the function)</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$GLOBAL_VAR</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call the function</span></span><br><span class="line">func</span><br><span class="line"></span><br><span class="line"><span class="comment"># Attempt to access the local variable (this will fail, as it&#x27;s only accessible within the function)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$local_var</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Output the global variable (accessible outside the function)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$GLOBAL_VAR</span></span><br></pre></td></tr></table></figure>
<p>When you execute the script:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sh t9.sh</span><br></pre></td></tr></table></figure>
<p>You will see:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">local variable value</span><br><span class="line">global variable value</span><br><span class="line"></span><br><span class="line">global variable value</span><br></pre></td></tr></table></figure>
<p>This output demonstrates that the local variable is only accessible within the function, while the global variable is accessible both inside and outside the function.</p>
<h2 id="System-Variables"><a href="#System-Variables" class="headerlink" title="System Variables"></a>System Variables</h2><p>System variables define various aspects of the shell and are managed by Bash itself. However, you can modify these variables to change shell behavior.</p>
<p>To list all available system variables and their values, type <code>env</code> in the Bash shell:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">env</span></span><br></pre></td></tr></table></figure>

<p>These variables are typically written in uppercase letters, such as <strong>PATH</strong>, <strong>SHELL</strong>, <strong>HOME</strong>, <strong>LANG</strong>, <strong>PWD</strong>, and many others.</p>
<p>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line">/bin/bash</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$HOME</span></span><br><span class="line">/home/john</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$LANG</span></span><br><span class="line">en_US.UTF-8</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PWD</span></span><br><span class="line">/home/johnson</span><br></pre></td></tr></table></figure>
<h2 id="Special-Variables"><a href="#Special-Variables" class="headerlink" title="Special Variables"></a><strong>Special Variables</strong></h2><p>Bash also has several special variables:</p>
<ul>
<li><code>$0</code>: The name of the script.</li>
<li><code>$1</code>, <code>$2</code>, â€¦, <code>$n</code>: Positional parameters (arguments to the script).</li>
<li><code>$#</code>: The number of positional parameters.</li>
<li><code>$@</code>: All positional parameters as separate words.</li>
<li><code>$*</code>: All positional parameters as a single word.</li>
<li><code>$$</code>: The process ID of the script.</li>
<li><code>$?</code>: The exit status of the last command.</li>
</ul>
<p>For example, create a shell script <code>special_variables_example.sh</code> using following code.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the name of the script itself: <span class="variable">$0</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the first argument passed to the script: <span class="variable">$1</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the second argument passed to the script: <span class="variable">$2</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the total number of arguments passed to the script: <span class="variable">$#</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print all the arguments passed to the script as a single string, with each argument separated by a space: <span class="variable">$@</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print all the arguments passed to the script as a single string, with each argument separated by the first character of the IFS variable (usually space): $*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the process ID of the current shell: $$&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Print the exit status of the last command executed: $?&quot;</span></span><br></pre></td></tr></table></figure>
<p>Letâ€™s execute the script:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sh special_variables_example.sh arg1 arg2 arg3</span><br></pre></td></tr></table></figure>
<p>It will output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Print the name of the script itself: special_variables_example.sh</span><br><span class="line">Print the first argument passed to the script: arg1</span><br><span class="line">Print the second argument passed to the script: arg2</span><br><span class="line">Print the total number of arguments passed to the script: 3</span><br><span class="line">Print all the arguments passed to the script as a single string, with each argument separated by a space: arg1 arg2 arg3</span><br><span class="line">Print all the arguments passed to the script as a single string, with each argument separated by the first character of the IFS variable (usually space): arg1 arg2 arg3</span><br><span class="line">Print the process ID of the current shell: 27033</span><br><span class="line">Print the exit status of the last command executed: 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Reading-User-Input"><a href="#Reading-User-Input" class="headerlink" title="Reading User Input"></a><strong>Reading User Input</strong></h2><p>You can read user input into a variable using the <code>read</code> command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter your name: &quot;</span> user_name</span><br></pre></td></tr></table></figure>
<p>The value entered by the user will be stored in the <code>user_name</code> variable.<br>For example, running the following code will produce the message <code>Hello, Johnson</code>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter your name: &quot;</span> user_name</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$user_name</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sh read_input_example.sh </span><br><span class="line">Enter your name: Johnson </span><br><span class="line">Hello, Johnson</span><br></pre></td></tr></table></figure>
<h2 id="Exporting-Variables"><a href="#Exporting-Variables" class="headerlink" title="Exporting Variables"></a><strong>Exporting Variables</strong></h2><p>To make a variable available to subprocesses or child scripts, use the <code>export</code> command:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> MY_VAR=<span class="string">&quot;some value&quot;</span></span><br></pre></td></tr></table></figure>
<p>In a child script or process, you can access <code>MY_VAR</code> like any other variable.</p>
<h2 id="Variable-Substitution"><a href="#Variable-Substitution" class="headerlink" title="Variable Substitution"></a><strong>Variable Substitution</strong></h2><p>Bash supports various types of variable substitution:</p>
<ul>
<li><p><strong>Default Values</strong>: Use <code>$&#123;VAR:-default&#125;</code> to provide a default value if <code>VAR</code> is unset or null.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:-&quot;Unknown&quot;&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>Substring Extraction</strong>: Use <code>$&#123;VAR:offset:length&#125;</code> to extract a substring.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">full_name=<span class="string">&quot;Alice Smith&quot;</span></span><br><span class="line">first_name=<span class="variable">$&#123;full_name:0:5&#125;</span>  <span class="comment"># Extracts &quot;Alice&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>String Replacement</strong>: Use <code>$&#123;VAR/old/new&#125;</code> to replace the first occurrence of <code>old</code> with <code>new</code>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">path=<span class="string">&quot;/usr/local/bin&quot;</span></span><br><span class="line">new_path=<span class="variable">$&#123;path/bin/exe&#125;</span>  <span class="comment"># Results in &quot;/usr/local/exe&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Quotes and Basic Escape Characters in Bash</title>
    <url>/2024/07/14/quotes-and-basic-escape-characters-in-bash/</url>
    <content><![CDATA[<p>In Bash, quotes are used to handle special characters, manage spaces, and control how strings are interpreted. There are three primary types of quotes in Bash:</p>
<h2 id="Single-Quotes-39"><a href="#Single-Quotes-39" class="headerlink" title="Single Quotes (&#39;)"></a><strong>Single Quotes (</strong><code>&#39;</code><strong>)</strong></h2><p>Single quotes are used to preserve the literal value of each character within the quotes. No variable substitution or command substitution occurs within single quotes.<br><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;This is a string with a $variable and a `command`&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">This is a string with a $variable and a `command`</span><br></pre></td></tr></table></figure>
<p>In this example, the <code>$variable</code> and <code>command</code> are not interpreted; they are displayed exactly as they are.</p>
<h2 id="Double-Quotes-quot"><a href="#Double-Quotes-quot" class="headerlink" title="Double Quotes (&quot;)"></a><strong>Double Quotes (</strong><code>&quot;</code><strong>)</strong></h2><p>Double quotes allow for variable and command substitution. Characters within double quotes are interpreted, meaning that <code>$</code>, ```, and <code>\</code> can be used to insert variables, execute commands, or escape special characters.<br><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">variable=<span class="string">&quot;world&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$variable</span>!&quot;</span></span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>
<p><strong>Example with command substitution</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">current_date=$(<span class="built_in">date</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Today&#x27;s date is <span class="variable">$current_date</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Today&#x27;s date is Mon Aug 21 10:00:00 UTC 2024</span><br></pre></td></tr></table></figure>
<h2 id="Backticks"><a href="#Backticks" class="headerlink" title="Backticks (```)"></a><strong>Backticks (</strong>```<strong>)</strong></h2><p>Backticks are an older method for command substitution. They are generally used to execute a command and substitute its output into a string. Although functional, backticks are less preferred than the <code>$(...)</code> syntax due to readability and nesting issues.<br><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">current_date=`<span class="built_in">date</span>`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Today&#x27;s date is <span class="variable">$current_date</span>&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>Note</strong>: For more complex substitutions or nested commands, prefer <code>$(...)</code> over backticks for better readability and maintainability.</p>
<h2 id="Escaping-Characters"><a href="#Escaping-Characters" class="headerlink" title="Escaping Characters"></a>Escaping Characters</h2><p>Sometimes, you need to include special characters within quotes. You can escape characters using the backslash (<code>\</code>) character. This is particularly useful within double quotes.</p>
<h3 id="Common-Escape-Characters"><a href="#Common-Escape-Characters" class="headerlink" title="Common Escape Characters"></a><strong>Common Escape Characters</strong></h3><ul>
<li><code>\</code>: The backslash itself acts as an escape character, telling the shell to ignore the special meaning of the character following it and treat it as a regular character.</li>
<li><code>\n</code>: Newline character, used to insert a new line.</li>
<li><code>\t</code>: Tab character, used to insert a tab.</li>
<li><code>\r</code>: Carriage return, used to move the cursor back to the beginning of the line.</li>
<li><code>\a</code>: Bell character, used to sound an alert.</li>
<li><code>\b</code>: Backspace, used to delete the character before the cursor.</li>
<li><code>\f</code>: Form feed, used for page separation.</li>
<li><code>\&#39;</code> and <code>\&quot;</code>: Single quote and double quote, used to include these characters within strings.</li>
</ul>
<p><strong>Usage Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;A tab character is represented as \\t and a newline as \\n&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;A single quote: &#x27; and a backslash: \\&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This is a new line: \n&quot;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Tab\tcharacter&quot;</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\a&quot;</span>  <span class="comment"># Sounds an alert</span></span><br></pre></td></tr></table></figure>
<h3 id="Escaping-in-Strings"><a href="#Escaping-in-Strings" class="headerlink" title="Escaping in Strings"></a><strong>Escaping in Strings</strong></h3><p>Within strings, you can use double quotes (<code>&quot;</code>) or single quotes (<code>&#39;</code>) to enclose text:</p>
<ul>
<li><strong>Double Quotes</strong> (<code>&quot;</code>) allow variable substitution and command substitution, and escape characters within them are interpreted.</li>
<li><strong>Single Quotes</strong> (<code>&#39;</code>) do not allow variable or command substitution, and all characters within them are treated literally, even if preceded by an escape character.</li>
</ul>
<p><strong>Example</strong>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;A single quote: &#x27; and a backslash: \\&quot;</span> <span class="comment"># Outputs &quot;A single quote: &#x27; and a backslash: \&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This is a <span class="variable">$VAR</span>&quot;</span>  <span class="comment"># If VAR=world, outputs &quot;This is a world&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;This is a $VAR&#x27;</span>  <span class="comment"># Outputs &quot;This is a $VAR&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This is a \$VAR&quot;</span>  <span class="comment"># Outputs &quot;This is a $VAR&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Escaping-Command-Line-Arguments"><a href="#Escaping-Command-Line-Arguments" class="headerlink" title="Escaping Command Line Arguments"></a>Escaping Command Line Arguments</h3><p>When passing arguments with special characters to scripts on the command line, you can escape them using a backslash.<br><strong>Example</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./script.sh <span class="string">&quot;This is a \&quot;quoted\&quot; string&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="Escaping-File-Paths"><a href="#Escaping-File-Paths" class="headerlink" title="Escaping File Paths"></a>Escaping File Paths</h3><p>When file paths contain spaces or other special characters, they should be enclosed in quotes or escaped using a backslash.<br><strong>Example</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;File path: /home/john/my file.txt&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="Important-Notes"><a href="#Important-Notes" class="headerlink" title="Important Notes"></a>Important Notes</h3><ul>
<li>When using the <code>echo</code> command, make sure the <code>-e</code> option is enabled to interpret escape sequences.</li>
<li>With the <code>printf</code> command, escape sequences are interpreted by default without needing the <code>-e</code> option.</li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul>
<li><strong>Single Quotes (</strong><code>&#39;</code><strong>)</strong>: Preserve the literal value of the enclosed text.</li>
<li><strong>Double Quotes (</strong><code>&quot;</code><strong>)</strong>: Allow for variable and command substitution within the enclosed text.</li>
<li><strong>Backticks (</strong><code>**</code>**<code>**)**: An older method for command substitution, less preferred compared to </code>$(â€¦)`.</li>
<li><strong>Escaping Characters (</strong><code>\</code><strong>)</strong>: Used to include special characters within quotes.</li>
</ul>
<p>Understanding how to use quotes effectively is essential for writing accurate and efficient Bash scripts, especially when dealing with strings containing spaces or special characters.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Introduction to Bash</title>
    <url>/2024/07/10/introduction-to-bash/</url>
    <content><![CDATA[<p>Bash, short for â€œBourne Again Shell,â€ is a command-line interface for Unix and Linux systems and is the default shell for most Linux distributions.</p>
<h2 id="What-is-a-Shell"><a href="#What-is-a-Shell" class="headerlink" title="What is a Shell?"></a><strong>What is a Shell?</strong></h2><p>Before diving into Bash, itâ€™s important to understand what a shell is. The term â€œshellâ€ originally means â€œouter layer,â€ representing the interface between the user and the kernel. It provides a command-line environment where users interact with the operating system.<br>In essence, a shell has several meanings:</p>
<ol>
<li><strong>Program:</strong> The shell is a program that provides an environment for user interaction. This environment typically features a command prompt where users input commands from the keyboard. This setup is also known as the command-line interface (CLI). The shell receives these commands, executes them via the operating system, and returns the results to the user. Unless specified otherwise, â€œshellâ€ in this context refers to the command-line environment.</li>
<li><strong>Command Interpreter:</strong> The shell interprets user commands. It supports variables, conditionals, loops, and other programming constructs, allowing users to write scriptsâ€”small programs that the shell can execute directly without needing compilation.</li>
<li><strong>Toolbox:</strong> The shell provides various utilities that simplify interacting with the operating system.</li>
</ol>
<h2 id="Types-of-Shells"><a href="#Types-of-Shells" class="headerlink" title="Types of Shells"></a><strong>Types of Shells</strong></h2><p>There are many types of shells, but any program providing a command-line environment can be considered a shell. Here are some common types of shells:</p>
<ol>
<li><strong>Bourne Shell (sh)</strong>: One of the earliest Unix shells, developed by Stephen Bourne. It provides basic scripting capabilities and is known for its simplicity.</li>
<li><strong>Bourne Again Shell (bash)</strong>: An enhanced version of the Bourne Shell, developed by Brian Fox for the GNU Project. It includes features such as command-line editing, job control, and improved scripting capabilities.</li>
<li><strong>C Shell (csh)</strong>: Developed by Bill Joy, this shell offers a C-like syntax and features such as job control and history mechanisms.</li>
<li><strong>TENEX C Shell (tcsh)</strong>: An enhanced version of the C Shell with additional features like command-line editing, file name completion, and better scripting capabilities.</li>
<li><strong>Korn Shell (ksh)</strong>: Developed by David Korn, this shell combines features from the Bourne Shell and C Shell with additional scripting capabilities and performance improvements.</li>
<li><strong>Z Shell (zsh)</strong>: Known for its extensive features and customizability, Zsh includes powerful tab completion, better scripting features, and a rich set of plugins and themes.</li>
<li><strong>Friendly Interactive Shell (fish)</strong>: A modern shell that focuses on user-friendliness with features like autosuggestions, syntax highlighting, and a user-friendly scripting syntax.</li>
<li><strong>PowerShell</strong>: Developed by Microsoft, this shell is designed for system administration and automation on Windows. It uses cmdlets and offers advanced scripting capabilities.</li>
</ol>
<p>Bash is currently the most commonly used shell. Unless stated otherwise, â€œshellâ€ and â€œBashâ€ can be used interchangeably.<br>To check the currently running shell, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>
<p>To list all shells installed on your Linux system:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> /etc/shells</span><br></pre></td></tr></table></figure>
<p>In these commands, <code>$</code> represents the command-line prompt, and you only need to enter the text following it.<br>Linux allows users to choose different shells, with Bash often being the default or the most compatible option.</p>
<h2 id="Command-Line-Environment"><a href="#Command-Line-Environment" class="headerlink" title="Command-Line Environment"></a><strong>Command-Line Environment</strong></h2><h3 id="Terminal-Emulator"><a href="#Terminal-Emulator" class="headerlink" title="Terminal Emulator"></a><strong>Terminal Emulator</strong></h3><p>In Linux systems without a graphical environment (such as those used for servers), you start directly in the command-line environment.<br>Most modern Linux distributions, especially those aimed at general users, use graphical environments. After logging in, users are typically in a graphical interface and must launch a terminal emulator to access the command-line environment.<br>A â€œterminal emulatorâ€ is a program that simulates a command-line window, allowing users to interact with the shell and providing features such as color adjustments, font sizes, and line spacing.<br>Different Linux distributions and desktop environments offer various terminal programs, such as KDEâ€™s Konsole or GNOMEâ€™s gnome-terminal. Despite their different names, all terminal programs essentially provide the same functionality, letting users access the command-line environment and use the shell.</p>
<h3 id="Command-Line-Prompt"><a href="#Command-Line-Prompt" class="headerlink" title="Command-Line Prompt"></a><strong>Command-Line Prompt</strong></h3><p>Upon entering the command-line environment, youâ€™ll see the shellâ€™s prompt, which typically includes a prefix ending with a dollar sign ($). This prompt is where you type your commands.<br>For example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[user@hostname] $</span><br></pre></td></tr></table></figure>
<p>In this prompt, <code>[user@hostname]</code> is the prefix indicating the username and hostname. For instance, if your username is â€œjohnsonâ€ and your hostname is â€œjohnson-machine,â€ the prompt would look like <code>johnson@johnson-machine $</code>.<br>The root userâ€™s prompt ends with a hash sign (#) instead of a dollar sign ($), indicating elevated permissions and reminding users to be cautious. This symbol can be customized; more details can be found in the â€œCommand Promptâ€ chapter.<br>For simplicity, the dollar sign ($) will be used to represent the prompt in subsequent examples.</p>
<h3 id="Starting-and-Exiting-Bash"><a href="#Starting-and-Exiting-Bash" class="headerlink" title="Starting and Exiting Bash"></a><strong>Starting and Exiting Bash</strong></h3><p>After accessing the command-line environment, you are usually in Bash. If your shell is not Bash, you can start it by entering:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash</span><br></pre></td></tr></table></figure>
<p>To exit Bash, use the <code>exit</code> command or press <code>Ctrl + d</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>
<p>Basic Bash usage involves typing commands directly at the prompt. For practice, try entering <code>pwd</code> to display the current directory:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">pwd</span></span><br><span class="line">/home/me</span><br></pre></td></tr></table></figure>
<p>If you mistakenly type <code>pwe</code>, youâ€™ll see an error message indicating that the command is not found:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pwe</span><br><span class="line">bash: pwe: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>
<h2 id="History-of-Shells"><a href="#History-of-Shells" class="headerlink" title="History of Shells"></a><strong>History of Shells</strong></h2><p>Shells have evolved alongside Unix systems:</p>
<ul>
<li><strong>1969:</strong> Ken Thompson and Dennis Ritchie developed the first Unix version.</li>
<li><strong>1971:</strong> Ken Thompson created the original shell, known as Thompson shell (sh), for Unix.</li>
<li><strong>1973-1975:</strong> John R. Mashey enhanced Thompsonâ€™s shell by adding programming features, creating the Mashey shell.</li>
<li><strong>1976:</strong> Stephen Bourne revamped the Mashey shell, resulting in the Bourne shell (sh).</li>
<li><strong>1978:</strong> Bill Joy developed the C shell (csh), introducing C-like syntax.</li>
<li><strong>1979:</strong> Unix Version 7 included the Bourne shell, making it the default for Unix systems.</li>
<li><strong>1983:</strong> David Korn created the Korn shell (ksh).</li>
<li><strong>1985:</strong> Richard Stallman founded the Free Software Foundation (FSF) and began developing a free shell to avoid licensing issues with Unix. This led to the creation of Bash.</li>
<li><strong>1988:</strong> Brian Fox, the FSFâ€™s first paid programmer, released Bash, a free software clone of the Bourne shell.</li>
<li><strong>1989:</strong> Bash 1.0 was released.</li>
<li><strong>1996:</strong> Bash 2.0 was released.</li>
<li><strong>2004:</strong> Bash 3.0 was released.</li>
<li><strong>2009:</strong> Bash 4.0 was released.</li>
<li><strong>2019:</strong> Bash 5.0 was released.</li>
</ul>
<p>To check your local Bash version, use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash --version</span><br><span class="line">GNU bash, version 5.1.16(1)-release (x86_64-pc-linux-gnu)</span><br><span class="line">Copyright (C) 2020 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class="line"></span><br><span class="line">This is free software; you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br></pre></td></tr></table></figure>
<p>Or:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$BASH_VERSION</span></span><br><span class="line">5.1.16(1)-release</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>For Loop in Bash</title>
    <url>/2024/07/17/for-loop-in-bash/</url>
    <content><![CDATA[<p>A <code>for</code> loop in Bash is a control structure that allows you to repeat a set of commands for each item in a list, over a range, or based on other criteria. Itâ€™s commonly used for tasks like iterating over files in a directory, processing elements in an array, or executing a block of code multiple times.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p>The basic syntax of a <code>for</code> loop in Bash is as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> VARIABLE <span class="keyword">in</span> LIST</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Commands to be executed</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>VARIABLE</code> is a placeholder that takes the value of each item in <code>LIST</code> one by one.</li>
<li><code>LIST</code> can be a list of values, a range of numbers, or even a command that generates a list.</li>
<li>The <code>do</code> and <code>done</code> keywords define the start and end of the loop block.<h2 id="Example-1-Loop-Over-a-List-of-Values"><a href="#Example-1-Loop-Over-a-List-of-Values" class="headerlink" title="Example 1: Loop Over a List of Values"></a>Example 1: Loop Over a List of Values</h2>Hereâ€™s an example of a <code>for</code> loop that iterates over a list of words:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> apple banana cherry</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The fruit is: <span class="variable">$word</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Output:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">The fruit is: apple</span><br><span class="line">The fruit is: banana</span><br><span class="line">The fruit is: cherry</span><br></pre></td></tr></table></figure>
<h2 id="Example-2-Loop-Over-a-Range-of-Numbers"><a href="#Example-2-Loop-Over-a-Range-of-Numbers" class="headerlink" title="Example 2: Loop Over a Range of Numbers"></a>Example 2: Loop Over a Range of Numbers</h2><p>You can also loop over a sequence of numbers:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Number: <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>Output:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Number: 1</span><br><span class="line">Number: 2</span><br><span class="line">Number: 3</span><br><span class="line">Number: 4</span><br><span class="line">Number: 5</span><br></pre></td></tr></table></figure>
<h2 id="Example-3-Loop-Over-Files-in-a-Directory"><a href="#Example-3-Loop-Over-Files-in-a-Directory" class="headerlink" title="Example 3: Loop Over Files in a Directory"></a>Example 3: Loop Over Files in a Directory</h2><p>A common use case is looping over files in a directory:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> /path/to/directory/*</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Processing <span class="variable">$file</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>This loop will iterate over each file in the specified directory and execute the commands inside the loop for each file.<br>For example, read all files from <code>/home/john</code> directory.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> /home/john/*</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Processing <span class="variable">$file</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Processing /home/john/Desktop</span><br><span class="line">Processing /home/john/Documents</span><br><span class="line">Processing /home/john/Downloads</span><br><span class="line">Processing /home/john/Music</span><br><span class="line">Processing /home/john/Pictures</span><br><span class="line">Processing /home/john/Public</span><br><span class="line">Processing /home/john/Templates</span><br><span class="line">Processing /home/john/Videos</span><br><span class="line">Processing /home/john/snap</span><br><span class="line">Processing /home/john/tut</span><br></pre></td></tr></table></figure>
<h2 id="Example-4-C-Style-For-Loop"><a href="#Example-4-C-Style-For-Loop" class="headerlink" title="Example 4: C-Style For Loop"></a>Example 4: C-Style For Loop</h2><p>Bash also supports a C-style <code>for</code> loop, similar to loops in languages like C or Java:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (( i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++ ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Iteration <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p><strong>Output:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Iteration 1</span><br><span class="line">Iteration 2</span><br><span class="line">Iteration 3</span><br><span class="line">Iteration 4</span><br><span class="line">Iteration 5</span><br></pre></td></tr></table></figure>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul>
<li><code>for</code> loops are versatile and can be used to iterate over lists, ranges, or output from commands.</li>
<li>They are useful for automating repetitive tasks, processing files, and more.</li>
</ul>
<p>This should give you a solid understanding of how to use <code>for</code> loops in Bash scripts.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Conditional Statements in Bash</title>
    <url>/2024/07/16/conditional-statements-in-bash/</url>
    <content><![CDATA[<p>In this article, weâ€™ll explore the various types of conditional statements in Bash and how to use them effectively.</p>
<h2 id="If-Statement"><a href="#If-Statement" class="headerlink" title="If Statement"></a>If Statement</h2><p>The most basic conditional statement is the <code>if</code> statement. It allows you to execute code blocks based on whether a condition is true or false.<br><strong>Basic Syntax:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># commands if condition is true</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">age=25</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$age</span> -ge 18 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;You are an adult.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="If-Else-Statement"><a href="#If-Else-Statement" class="headerlink" title="If-Else Statement"></a>If-Else Statement</h2><p>The if-else statement allows you to specify an alternative code block to execute when the condition is false.<br><strong>Syntax:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># commands if condition is true</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># commands if condition is false</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">temperature=28</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$temperature</span> -gt 30 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s hot outside!&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The weather is pleasant.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="If-Elif-Else-Statement"><a href="#If-Elif-Else-Statement" class="headerlink" title="If-Elif-Else Statement"></a>If-Elif-Else Statement</h2><p>For multiple conditions, use the elif (else if) clause to check additional conditions.<br><strong>Syntax:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition1 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># commands for condition1</span></span><br><span class="line"><span class="keyword">elif</span> [ condition2 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># commands for condition2</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># commands if no condition is true</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">grade=75</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$grade</span> -ge 90 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;A&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$grade</span> -ge 80 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;B&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$grade</span> -ge 70 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;C&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;F&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Nested-If-Statements"><a href="#Nested-If-Statements" class="headerlink" title="Nested If Statements"></a>Nested If Statements</h2><p>You can nest if statements inside other if statements for more complex logic.<br><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">age=25</span><br><span class="line">has_license=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$age</span> -ge 18 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$has_license</span>&quot;</span> = <span class="literal">true</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;You can drive a car.&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;You need a license to drive.&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;You&#x27;re too young to drive.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Case-Statement"><a href="#Case-Statement" class="headerlink" title="Case Statement"></a>Case Statement</h2><p>For multiple conditions with specific values, the case statement can be more readable than multiple if-elif statements.<br><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">fruit=<span class="string">&quot;apple&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$fruit</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;apple&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s an apple.&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;banana&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s a banana.&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Unknown fruit.&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<h2 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h2><p>Use logical operators to combine conditions:</p>
<ul>
<li>AND: &amp;&amp;</li>
<li>OR: ||</li>
<li>NOT: !</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">age=25</span><br><span class="line">has_job=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$age</span> -ge 18 ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$has_job</span>&quot;</span> = <span class="literal">true</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;You&#x27;re an employed adult.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="File-Test-Operators"><a href="#File-Test-Operators" class="headerlink" title="File Test Operators"></a>File Test Operators</h2><p>Bash provides special operators for testing file attributes:</p>
<ul>
<li><code>-e</code>: file exists</li>
<li><code>-f</code>: regular file</li>
<li><code>-d</code>: directory</li>
<li><code>-r</code>: readable</li>
<li><code>-w</code>: writable</li>
<li><code>-x</code>: executable</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;myfile.txt&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;myfile.txt exists and is a regular file.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Mastering conditional statements in Bash allows you to create more dynamic and responsive scripts. By combining these different types of conditionals and operators, you can handle complex decision-making processes in your Bash scripts efficiently.<br>Remember to test your conditions thoroughly and consider edge cases when writing conditional statements. With practice, youâ€™ll become proficient in using these powerful constructs to enhance your Bash scripting skills.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>While Loop in Bash</title>
    <url>/2024/07/18/while-loop-in-Bash/</url>
    <content><![CDATA[<p>A <code>while</code> loop in Bash is another control structure that repeatedly executes a block of commands as long as a specified condition is true. Itâ€™s particularly useful when you donâ€™t know in advance how many times you need to loop, as the loop will continue until the condition is no longer met.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p>The basic syntax of a <code>while</code> loop in Bash is:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> [ CONDITION ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Commands to be executed</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>CONDITION</code> is a test or expression that is checked before each iteration of the loop. If the condition evaluates to true, the loop body (the commands between <code>do</code> and <code>done</code>) is executed. If the condition evaluates to false, the loop exits.<h2 id="Example-1-Counting-with-a-While-Loop"><a href="#Example-1-Counting-with-a-While-Loop" class="headerlink" title="Example 1: Counting with a While Loop"></a>Example 1: Counting with a While Loop</h2>Hereâ€™s a simple example that counts from 1 to 5 using a <code>while</code> loop:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">counter=1</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$counter</span> -le 5 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Counter: <span class="variable">$counter</span>&quot;</span></span><br><span class="line">    ((counter++))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Output:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Counter: 1</span><br><span class="line">Counter: 2</span><br><span class="line">Counter: 3</span><br><span class="line">Counter: 4</span><br><span class="line">Counter: 5</span><br></pre></td></tr></table></figure>
<h2 id="Example-2-Waiting-for-a-Condition"><a href="#Example-2-Waiting-for-a-Condition" class="headerlink" title="Example 2: Waiting for a Condition"></a>Example 2: Waiting for a Condition</h2><p>You can use a <code>while</code> loop to wait for a specific condition to be met, such as waiting for a file to be created:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> [ ! -f /path/to/file ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Waiting for file to be created...&quot;</span></span><br><span class="line">    <span class="built_in">sleep</span> 1</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;File has been created!&quot;</span></span><br></pre></td></tr></table></figure>
<p>In this example, the loop will continue to check if the file exists every second (<code>sleep 1</code>) and only exit once the file is found.</p>
<h2 id="Example-3-Reading-a-File-Line-by-Line"><a href="#Example-3-Reading-a-File-Line-by-Line" class="headerlink" title="Example 3: Reading a File Line by Line"></a>Example 3: Reading a File Line by Line</h2><p>A common use of <code>while</code> loops is reading a file line by line:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> IFS= <span class="built_in">read</span> -r line</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Line: <span class="variable">$line</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span> &lt; /path/to/file.txt</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>IFS= read -r line</code> ensures that each line is read correctly, even if it contains spaces or other special characters.</p>
</li>
<li><p>The loop will process each line of the file until the end of the file is reached.</p>
<h2 id="Example-4-Infinite-Loop"><a href="#Example-4-Infinite-Loop" class="headerlink" title="Example 4: Infinite Loop"></a>Example 4: Infinite Loop</h2><p>An infinite loop continues indefinitely until interrupted (e.g., with <code>Ctrl+C</code>). This can be useful in situations where you need continuous operation:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;This is an infinite loop. Press Ctrl+C to stop.&quot;</span></span><br><span class="line">    <span class="built_in">sleep</span> 2</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>This loop will print the message every 2 seconds until manually stopped.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2></li>
<li><p><code>while</code> loops are great for situations where you need to repeat a task until a specific condition is met.</p>
</li>
<li><p>Theyâ€™re commonly used for waiting for conditions, processing files, and other tasks where the number of iterations isnâ€™t predetermined.</p>
</li>
</ul>
<p>Understanding <code>while</code> loops will help you write more flexible and responsive Bash scripts.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Case Statement in Bash</title>
    <url>/2024/07/21/case-statement-in-bash/</url>
    <content><![CDATA[<p>Are you looking to streamline your Bash scripts and make them more efficient? Look no further than the powerful switch (case) statement! In this blog post, weâ€™ll dive deep into how to use this versatile control structure in Bash scripting.</p>
<h2 id="What-is-a-Switch-Case-Statement"><a href="#What-is-a-Switch-Case-Statement" class="headerlink" title="What is a Switch (Case) Statement?"></a>What is a Switch (Case) Statement?</h2><p>The switch statement, known as the â€œcaseâ€ statement in Bash, allows you to compare a given value against multiple patterns and execute different code blocks based on which pattern matches. Itâ€™s an excellent alternative to long chains of if-else statements when you need to handle multiple conditions.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="variable">$variable</span> <span class="keyword">in</span></span><br><span class="line">    pattern1)</span><br><span class="line">        commands1</span><br><span class="line">        ;;</span><br><span class="line">    pattern2)</span><br><span class="line">        commands2</span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        default_commands</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p><strong>Key Features:</strong></p>
<ol>
<li><p>Pattern Matching: You can use wildcards and regular expressions in your patterns.</p>
</li>
<li><p>Multiple Patterns: Group several patterns together for the same code block.</p>
</li>
<li><p>Fall-through: Use the ;&amp; operator to continue checking subsequent patterns.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Letâ€™s create a simple script that greets users based on the time of day:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">hour=$(<span class="built_in">date</span> +%H)</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$hour</span> <span class="keyword">in</span></span><br><span class="line">    0[0-9]|1[0-1])</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Good morning!&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    1[2-7])</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Good afternoon!&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Good evening!&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<p>This script uses the case statement to match the current hour and output an appropriate greeting.</p>
<h2 id="Advanced-Tips"><a href="#Advanced-Tips" class="headerlink" title="Advanced Tips"></a>Advanced Tips</h2></li>
<li><p>Use the <code>|</code> operator for multiple patterns:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="variable">$fruit</span> <span class="keyword">in</span></span><br><span class="line">    apple|Apple)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s an apple!&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></li>
<li><p>Implement a menu system:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Select an option:&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1) Option 1&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;2) Option 2&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;3) Quit&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$choice</span> <span class="keyword">in</span></span><br><span class="line">    1) <span class="built_in">echo</span> <span class="string">&quot;You selected Option 1&quot;</span> ;;</span><br><span class="line">    2) <span class="built_in">echo</span> <span class="string">&quot;You selected Option 2&quot;</span> ;;</span><br><span class="line">    3) <span class="built_in">echo</span> <span class="string">&quot;Goodbye!&quot;</span>; <span class="built_in">exit</span> ;;</span><br><span class="line">    *) <span class="built_in">echo</span> <span class="string">&quot;Invalid option&quot;</span> ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure></li>
<li><p>Use case statements in functions:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">get_day_type</span></span>() &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">        Saturday|Sunday) <span class="built_in">echo</span> <span class="string">&quot;weekend&quot;</span> ;;</span><br><span class="line">        *) <span class="built_in">echo</span> <span class="string">&quot;weekday&quot;</span> ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">day_type=$(get_day_type <span class="string">&quot;Monday&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Monday is a <span class="variable">$day_type</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The switch (case) statement in Bash is a powerful tool for creating more readable and efficient scripts. By mastering this control structure, youâ€™ll be able to handle complex conditionals with ease and write cleaner, more maintainable code.</p>
</li>
</ol>
<p>Remember to experiment with different patterns and use cases to fully leverage the power of the case statement in your Bash scripts!</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Until Loop in Bash</title>
    <url>/2024/07/19/until-loop-in-bash/</url>
    <content><![CDATA[<p>An <code>until</code> loop in Bash is similar to a <code>while</code> loop, but it works in the opposite way. It repeatedly executes a block of commands <strong>until</strong> a specified condition becomes true. In other words, the loop continues as long as the condition is false and stops when the condition becomes true.</p>
<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><p>The basic syntax of an <code>until</code> loop in Bash is:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">until</span> [ CONDITION ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Commands to be executed</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>CONDITION</code> is an expression that is checked before each iteration of the loop. If the condition is false, the loop body (the commands between <code>do</code> and <code>done</code>) is executed. If the condition becomes true, the loop exits.<h2 id="Example-1-Counting-with-an-Until-Loop"><a href="#Example-1-Counting-with-an-Until-Loop" class="headerlink" title="Example 1: Counting with an Until Loop"></a>Example 1: Counting with an Until Loop</h2>Hereâ€™s an example that counts from 1 to 5 using an <code>until</code> loop:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">counter=1</span><br><span class="line"></span><br><span class="line"><span class="keyword">until</span> [ <span class="variable">$counter</span> -gt 5 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Counter: <span class="variable">$counter</span>&quot;</span></span><br><span class="line">    ((counter++))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Output:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Counter: 1</span><br><span class="line">Counter: 2</span><br><span class="line">Counter: 3</span><br><span class="line">Counter: 4</span><br><span class="line">Counter: 5</span><br></pre></td></tr></table></figure>

<ul>
<li><p>In this example, the loop continues until the <code>counter</code> is greater than 5. The condition <code>[ $counter -gt 5 ]</code> becomes true when <code>counter</code> reaches 6, causing the loop to stop.</p>
<h2 id="Example-2-Waiting-for-a-Condition-to-Become-True"><a href="#Example-2-Waiting-for-a-Condition-to-Become-True" class="headerlink" title="Example 2: Waiting for a Condition to Become True"></a>Example 2: Waiting for a Condition to Become True</h2><p>You can use an <code>until</code> loop to wait for a condition to become true, such as waiting for a service to start:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">until</span> pgrep apache2 &gt; /dev/null</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Waiting for Apache server to start...&quot;</span></span><br><span class="line">    <span class="built_in">sleep</span> 1</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Apache server is running!&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>The loop will continue to check if the Apache server is running by using the <code>pgrep</code> command. Once <code>pgrep</code> finds the process and returns true, the loop exits.</p>
<h2 id="Example-3-Using-an-Until-Loop-for-User-Input"><a href="#Example-3-Using-an-Until-Loop-for-User-Input" class="headerlink" title="Example 3: Using an Until Loop for User Input"></a>Example 3: Using an Until Loop for User Input</h2><p>Hereâ€™s an example where an <code>until</code> loop is used to prompt the user until they enter a specific input:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">password=<span class="string">&quot;secret&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">until</span> [ <span class="string">&quot;<span class="variable">$user_input</span>&quot;</span> = <span class="string">&quot;<span class="variable">$password</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;Enter the password: &quot;</span> user_input</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Correct password entered!&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>The loop will keep asking for the password until the user enters â€œsecretâ€.</p>
<h2 id="Example-4-Infinite-Loop-with-Until"><a href="#Example-4-Infinite-Loop-with-Until" class="headerlink" title="Example 4: Infinite Loop with Until"></a>Example 4: Infinite Loop with Until</h2><p>Although less common, you can create an infinite loop with <code>until</code> by using a condition that never becomes true:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">until</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;This is an infinite loop. Press Ctrl+C to stop.&quot;</span></span><br><span class="line">    <span class="built_in">sleep</span> 2</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li>
<li><p>This loop will run indefinitely because <code>false</code> is always false.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2></li>
<li><p>An <code>until</code> loop is similar to a <code>while</code> loop but continues running as long as the condition is false.</p>
</li>
<li><p>Itâ€™s useful when you want to repeat a block of code until a certain condition is met.</p>
</li>
<li><p>Typical use cases include waiting for a specific event to occur or processing input until a correct response is received.</p>
</li>
</ul>
<p>Understanding <code>until</code> loops adds another useful tool to your Bash scripting toolkit, particularly for situations where you want to keep looping until a specific condition is satisfied.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Include Files in Bash</title>
    <url>/2024/07/22/include-files-in-bash/</url>
    <content><![CDATA[<p>Just like other programming languages that allow you to include files, Bash scripting also enables you to include (or source) another shell script within your script. This practice is a powerful way to modularize your code and reuse functions, variables, and configurations. It helps keep your scripts organized, readable, and maintainable.</p>
<p>For instance, to include a script named <code>filename.sh</code> in your current script, you can use the following syntax, assuming that <code>filename.sh</code> is in the same directory as your current script:</p>
<h2 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> filename.sh</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">. filename.sh</span><br></pre></td></tr></table></figure>

<p>The <code>source</code> command (or its synonym <code>.</code>) is commonly used to include and execute the contents of one script within another. This method is ideal for incorporating functions, variables, and configurations.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Suppose you have a script <code>functions.sh</code> containing some useful functions:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># functions.sh</span></span><br><span class="line"><span class="function"><span class="title">greet</span></span>() &#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$1</span>!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You can include <code>functions.sh</code> in your main script <code>main.sh</code> like this:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Include the functions script</span></span><br><span class="line"><span class="built_in">source</span> functions.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the function from the included script</span></span><br><span class="line">greet <span class="string">&quot;World&quot;</span></span><br></pre></td></tr></table></figure>
<p>When you run <code>main.sh</code>, it will output:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./main.sh</span><br><span class="line">Hello, World!</span><br></pre></td></tr></table></figure>






]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Functions in Bash</title>
    <url>/2024/07/24/functions-in-bash/</url>
    <content><![CDATA[<p>Functions are a powerful feature in Bash scripting that allow you to organize your code, improve readability, and reduce repetition. In this blog post, weâ€™ll explore how to create and use functions effectively in your Bash scripts.</p>
<h2 id="Basic-Function-Syntax"><a href="#Basic-Function-Syntax" class="headerlink" title="Basic Function Syntax"></a>Basic Function Syntax</h2><p>Hereâ€™s the basic syntax for defining a function in Bash:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">function_name</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Function body</span></span><br><span class="line">    <span class="comment"># Commands go here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You can also use this alternative syntax:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> function_name &#123;</span><br><span class="line">    <span class="comment"># Function body</span></span><br><span class="line">    <span class="comment"># Commands go here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">greet</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call the function</span></span><br><span class="line">greet</span><br></pre></td></tr></table></figure>
<h2 id="Functions-with-Parameters"><a href="#Functions-with-Parameters" class="headerlink" title="Functions with Parameters"></a>Functions with Parameters</h2><p>Functions can accept parameters, which are accessed using 1, 2, etc., within the function:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">greet_person</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$1</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call the function with an argument</span></span><br><span class="line">greet_person <span class="string">&quot;Johnson&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Return-Values"><a href="#Return-Values" class="headerlink" title="Return Values"></a>Return Values</h2><p>Bash functions donâ€™t return values like in other programming languages. Instead, they can:</p>
<ol>
<li><p>Use the <code>return</code> statement to exit with a status code:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">is_even</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> (( <span class="variable">$1</span> % <span class="number">2</span> == <span class="number">0</span> )); <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">return</span> 0  <span class="comment"># True in Bash</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">return</span> 1  <span class="comment"># False in Bash</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">is_even 4</span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;4 is even&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li>
<li><p>Echo a result, which can be captured using command substitution:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">get_square</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> $(( <span class="variable">$1</span> * <span class="variable">$1</span> ))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result=$(get_square 5)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The square of 5 is <span class="variable">$result</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Local-Variables"><a href="#Local-Variables" class="headerlink" title="Local Variables"></a>Local Variables</h2><p>Use the <code>local</code> keyword to declare variables that are only accessible within the function:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">my_function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> my_var=<span class="string">&quot;I&#x27;m local&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$my_var</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">my_function</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$my_var</span>&quot;</span>  <span class="comment"># This will be empty</span></span><br></pre></td></tr></table></figure>
<h2 id="Function-Libraries"><a href="#Function-Libraries" class="headerlink" title="Function Libraries"></a>Function Libraries</h2><p>You can create function libraries and source them in your scripts:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># math_functions.sh</span></span><br><span class="line"><span class="function"><span class="title">add</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> $(( <span class="variable">$1</span> + <span class="variable">$2</span> ))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">subtract</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> $(( <span class="variable">$1</span> - <span class="variable">$2</span> ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> math_functions.sh</span><br><span class="line"></span><br><span class="line">result=$(add 5 3)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;5 + 3 = <span class="variable">$result</span>&quot;</span></span><br><span class="line"></span><br><span class="line">result=$(subtract 10 4)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;10 - 4 = <span class="variable">$result</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Recursive-Functions"><a href="#Recursive-Functions" class="headerlink" title="Recursive Functions"></a>Recursive Functions</h2><p>Bash supports recursive functions, but be cautious about stack overflow:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">factorial</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$1</span> -le 1 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> 1</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">local</span> temp=$(factorial $(( <span class="variable">$1</span> - <span class="number">1</span> )))</span><br><span class="line">        <span class="built_in">echo</span> $(( <span class="variable">$1</span> * temp ))</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result=$(factorial 5)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Factorial of 5 is <span class="variable">$result</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Default-Parameter-Values"><a href="#Default-Parameter-Values" class="headerlink" title="Default Parameter Values"></a>Default Parameter Values</h2><p>You can set default values for function parameters:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">greet</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> name=<span class="variable">$&#123;1:-&quot;Guest&quot;&#125;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greet        <span class="comment"># Outputs: Hello, Guest!</span></span><br><span class="line">greet <span class="string">&quot;Johnson&quot;</span>  <span class="comment"># Outputs: Hello, Johnson!</span></span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Functions in Bash are a versatile tool for creating modular, reusable code. They help improve script organization, readability, and maintainability. By mastering functions, you can write more efficient and elegant Bash scripts.<br>Remember to use meaningful function names, keep your functions focused on a single task, and document complex functions for better understanding. With practice, youâ€™ll find that functions greatly enhance your Bash scripting capabilities.</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Difference Between &#39;bash script.sh&#39; and &#39;./script.sh&#39;</title>
    <url>/2024/08/01/direct-and-indirect-script-invocation/</url>
    <content><![CDATA[<p>If youâ€™re new to Bash scripting, you might have noticed two common ways to execute a script: <code>bash script.sh</code> and <code>./script.sh</code>. While both methods run your script, there are some key differences between them. In this tutorial, weâ€™ll explore these differences and help you understand when to use each method.</p>
<h2 id="Basic-Execution-Methods"><a href="#Basic-Execution-Methods" class="headerlink" title="Basic Execution Methods"></a>Basic Execution Methods</h2><p>a) bash script.sh<br>   This method explicitly calls the Bash interpreter to execute your script.<br>b) ./script.sh<br>   This method executes the script directly, using the shebang (#!) line in the script to determine which interpreter to use.</p>
<h2 id="Interpreter-Selection"><a href="#Interpreter-Selection" class="headerlink" title="Interpreter Selection"></a>Interpreter Selection</h2><p>a) bash script.sh</p>
<ul>
<li>Always uses Bash to run the script, regardless of the shebang line.</li>
<li>Useful when you want to ensure Bash is used, even if the script specifies a different interpreter.</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li>Uses the interpreter specified in the scriptâ€™s shebang line.</li>
<li>If no shebang is present, it uses the current shell.</li>
</ul>
<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This script is running in $$&quot;</span></span><br><span class="line"><span class="built_in">readlink</span> /proc/$$/exe;</span><br></pre></td></tr></table></figure>
<p>Running this script with <code>bash script.sh</code> will always use Bash, while <code>./script.sh</code> will use <code>/bin/sh</code> as specified in the shebang.<br>Now, letâ€™s see both methods to invoke this simple script:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ bash script.sh </span><br><span class="line">This script is running <span class="keyword">in</span> 31310</span><br><span class="line">/usr/bin/bash</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./script.sh </span><br><span class="line">This script is running <span class="keyword">in</span> 31312</span><br><span class="line">/usr/bin/dash</span><br></pre></td></tr></table></figure>
<h2 id="Execution-Permissions"><a href="#Execution-Permissions" class="headerlink" title="Execution Permissions"></a>Execution Permissions</h2><p>a) bash script.sh</p>
<ul>
<li>Does not require the script to have execute permissions.</li>
<li>Bash reads the file and executes its contents.</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li><p>Requires the script to have execute permissions (<code>chmod +x script.sh</code>).</p>
</li>
<li><p>Youâ€™ll get a â€œPermission deniedâ€ error if the script isnâ€™t executable.</p>
<h2 id="Path-Considerations"><a href="#Path-Considerations" class="headerlink" title="Path Considerations"></a>Path Considerations</h2><p>a) bash script.sh</p>
</li>
<li><p>Works as long as â€˜bashâ€™ is in your PATH.</p>
</li>
<li><p>Can execute scripts from any directory without â€˜./â€˜ if the scriptâ€™s directory is in your PATH.</p>
</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li><p>The â€˜./â€˜ specifies the current directory.</p>
</li>
<li><p>Necessary for security reasons, as the current directory is not typically in the PATH.</p>
<h2 id="Subshell-Behavior"><a href="#Subshell-Behavior" class="headerlink" title="Subshell Behavior"></a>Subshell Behavior</h2><p>a) bash script.sh</p>
</li>
<li><p>Always runs the script in a new subshell.</p>
</li>
<li><p>Changes to environment variables in the script donâ€™t affect the parent shell.</p>
</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li><p>Typically runs in a subshell, but can be sourced to run in the current shell using â€˜. ./script.shâ€™.</p>
<h2 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h2><p>a) bash -x script.sh</p>
</li>
<li><p>Enables debug mode, printing each command before execution.</p>
</li>
<li><p>Useful for troubleshooting scripts.</p>
</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li><p>To debug, you need to modify the shebang line or the script itself.</p>
<h2 id="Portability"><a href="#Portability" class="headerlink" title="Portability"></a>Portability</h2><p>a) bash script.sh</p>
</li>
<li><p>More portable across different Unix-like systems.</p>
</li>
<li><p>Ensures Bash is used, which may be important for Bash-specific features.</p>
</li>
</ul>
<p>b) ./script.sh</p>
<ul>
<li><p>Relies on the correct interpreter being available as specified in the shebang.</p>
</li>
<li><p>More flexible if you want to use different interpreters for different scripts.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Both <code>bash script.sh</code> and <code>./script.sh</code> have their places in Bash scripting. Use <code>bash script.sh</code> when you want to explicitly use Bash or when executing scripts without making them executable. Use <code>./script.sh</code> for scripts with proper shebangs and execute permissions, especially in production environments.<br>Remember:</p>
</li>
<li><p>Always use shebangs in your scripts for clarity.</p>
</li>
<li><p>Set appropriate permissions for your scripts.</p>
</li>
<li><p>Consider portability and environment when choosing an execution method.</p>
</li>
</ul>
<p>By understanding these differences, you can choose the most appropriate method for executing your Bash scripts in various scenarios.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Numeric Comparisons in Bash</title>
    <url>/2024/07/26/numeric-comparisons-in-bash/</url>
    <content><![CDATA[<p>Numeric comparisons are essential for decision-making in Bash scripts. Whether youâ€™re comparing user input, performing calculations, or implementing conditional logic, understanding how to compare numbers effectively is crucial. In this blog post, weâ€™ll explore the various methods and operators used for numeric comparisons in Bash.</p>
<h2 id="Basic-Numeric-Comparison-Operators"><a href="#Basic-Numeric-Comparison-Operators" class="headerlink" title="Basic Numeric Comparison Operators"></a>Basic Numeric Comparison Operators</h2><p>Bash provides several operators for comparing numbers:</p>
<ul>
<li><code>-eq</code>: Equal to</li>
<li><code>-ne</code>: Not equal to</li>
<li><code>-lt</code>: Less than</li>
<li><code>-le</code>: Less than or equal to</li>
<li><code>-gt</code>: Greater than</li>
<li><code>-ge</code>: Greater than or equal to</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">x=10</span><br><span class="line">y=20</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$x</span> -lt <span class="variable">$y</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$x</span> is less than <span class="variable">$y</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-Double-Parentheses"><a href="#Using-Double-Parentheses" class="headerlink" title="Using Double Parentheses"></a>Using Double Parentheses</h2><p>For more complex arithmetic comparisons, you can use double parentheses <code>(( ))</code>. This syntax allows you to use familiar mathematical comparison operators:</p>
<ul>
<li><code>==</code>: Equal to</li>
<li><code>!=</code>: Not equal to</li>
<li><code>&lt;</code>: Less than</li>
<li><code>&lt;=</code>: Less than or equal to</li>
<li><code>&gt;</code>: Greater than</li>
<li><code>&gt;=</code>: Greater than or equal to</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=15</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (( a &lt; b )); <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span> is less than <span class="variable">$b</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-Floating-Point-Numbers"><a href="#Comparing-Floating-Point-Numbers" class="headerlink" title="Comparing Floating-Point Numbers"></a>Comparing Floating-Point Numbers</h2><p>Bash doesnâ€™t natively support floating-point arithmetic. However, you can use external commands like <code>bc</code> for floating-point comparisons:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">x=3.14</span><br><span class="line">y=3.15</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (( $(echo &quot;<span class="variable">$x</span> &lt; <span class="variable">$y</span>&quot; | bc -l) )); <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$x</span> is less than <span class="variable">$y</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-Multiple-Conditions"><a href="#Comparing-Multiple-Conditions" class="headerlink" title="Comparing Multiple Conditions"></a>Comparing Multiple Conditions</h2><p>You can combine multiple comparisons using logical operators:</p>
<ul>
<li><code>&amp;&amp;</code>: AND</li>
<li><code>||</code>: OR</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">age=25</span><br><span class="line">salary=50000</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (( age &gt;= <span class="number">18</span> &amp;&amp; salary &gt;= <span class="number">30000</span> )); <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Eligible for loan&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Not eligible for loan&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-test-Command"><a href="#Using-test-Command" class="headerlink" title="Using test Command"></a>Using <code>test</code> Command</h2><p>The <code>test</code> command (which is equivalent to <code>[ ]</code>) can also be used for numeric comparisons:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">num=42</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> <span class="variable">$num</span> -eq 42; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The number is 42&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Arithmetic-Expansion"><a href="#Arithmetic-Expansion" class="headerlink" title="Arithmetic Expansion"></a>Arithmetic Expansion</h2><p>You can perform arithmetic operations within comparisons using <code>$((  ))</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">x=5</span><br><span class="line">y=3</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (( $((x + y)) &gt; 7 )); <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The sum of <span class="variable">$x</span> and <span class="variable">$y</span> is greater than 7&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-Ranges"><a href="#Comparing-Ranges" class="headerlink" title="Comparing Ranges"></a>Comparing Ranges</h2><p>To check if a number falls within a range:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">score=75</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (( score &gt;= <span class="number">0</span> &amp;&amp; score &lt;= <span class="number">100</span> )); <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Valid score&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Invalid score&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Case-Statement-for-Numeric-Ranges"><a href="#Case-Statement-for-Numeric-Ranges" class="headerlink" title="Case Statement for Numeric Ranges"></a>Case Statement for Numeric Ranges</h2><p>You can use case statements with pattern matching for numeric ranges:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">age=25</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$age</span> <span class="keyword">in</span></span><br><span class="line">    [0-12])</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Child&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    [13-19])</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Teenager&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    [20-64])</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Adult&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Senior&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-Exit-Status"><a href="#Comparing-Exit-Status" class="headerlink" title="Comparing Exit Status"></a>Comparing Exit Status</h2><p>Remember that in Bash, 0 is considered true and any non-zero value is false when used as an exit status:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">is_even</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> $(( <span class="variable">$1</span> % <span class="number">2</span> ))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> is_even 4; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;4 is even&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;4 is odd&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Mastering numeric comparisons in Bash is crucial for writing effective scripts. Whether youâ€™re using basic comparison operators, double parentheses, or external tools like <code>bc</code> for floating-point comparisons, understanding these techniques will help you create more robust and flexible Bash scripts.<br>Remember to always consider the nature of your data (integers vs. floating-point) and choose the appropriate comparison method. With practice, youâ€™ll become proficient in handling various numeric comparison scenarios in your Bash scripts.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>String Comparisons in Bash</title>
    <url>/2024/07/28/string-comparisons-in-bash/</url>
    <content><![CDATA[<p>String comparisons are a fundamental part of Bash scripting, allowing you to manipulate and make decisions based on text data. In this blog post, weâ€™ll explore various methods and operators for comparing strings in Bash, along with practical examples and best practices.</p>
<h2 id="Basic-String-Comparison-Operators"><a href="#Basic-String-Comparison-Operators" class="headerlink" title="Basic String Comparison Operators"></a>Basic String Comparison Operators</h2><p>Bash provides several operators for comparing strings:</p>
<ul>
<li><code>=</code> or <code>==</code>: Equal to (use <code>==</code> inside double brackets <code>[[ ]]</code>)</li>
<li><code>!=</code>: Not equal to</li>
<li><code>&lt;</code>: Less than (in ASCII alphabetical order)</li>
<li><code>&gt;</code>: Greater than (in ASCII alphabetical order)</li>
<li><code>-z</code>: String is null (zero length)</li>
<li><code>-n</code>: String is not null (non-zero length)</li>
</ul>
<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">str1=<span class="string">&quot;hello&quot;</span></span><br><span class="line">str2=<span class="string">&quot;world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$str1</span>&quot;</span> = <span class="string">&quot;<span class="variable">$str2</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Strings are equal&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Strings are not equal&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$str1</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;String is empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Using-Double-Brackets"><a href="#Using-Double-Brackets" class="headerlink" title="Using Double Brackets"></a>Using Double Brackets</h2><p>Double brackets <code>[[ ]]</code> provide more features and are generally preferred for string comparisons:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;Alice&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$name</span>&quot;</span> == <span class="string">&quot;Alice&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello, Alice!&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$name</span>&quot;</span> != <span class="string">&quot;Bob&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;You&#x27;re not Bob&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Case-Insensitive-Comparisons"><a href="#Case-Insensitive-Comparisons" class="headerlink" title="Case-Insensitive Comparisons"></a>Case-Insensitive Comparisons</h2><p>To perform case-insensitive comparisons, use the <code>shopt</code> command to set <code>nocasematch</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">shopt</span> -s nocasematch</span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;alice&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$name</span>&quot;</span> == <span class="string">&quot;ALICE&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Names match (case-insensitive)&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">shopt</span> -u nocasematch  <span class="comment"># Turn off nocasematch</span></span><br></pre></td></tr></table></figure>
<h2 id="Pattern-Matching"><a href="#Pattern-Matching" class="headerlink" title="Pattern Matching"></a>Pattern Matching</h2><p>You can use pattern matching within double brackets:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">filename=<span class="string">&quot;document.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> == *.txt ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;This is a text file&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> == doc* ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Filename starts with &#x27;doc&#x27;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Regular-Expressions"><a href="#Regular-Expressions" class="headerlink" title="Regular Expressions"></a>Regular Expressions</h2><p>Bash supports basic regular expressions with the <code>=~</code> operator:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">email=<span class="string">&quot;user@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$email</span>&quot;</span> =~ [a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]&#123;2,4&#125; ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Valid email format&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Invalid email format&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-String-Lengths"><a href="#Comparing-String-Lengths" class="headerlink" title="Comparing String Lengths"></a>Comparing String Lengths</h2><p>You can compare string lengths using the <code>-gt</code>, <code>-lt</code>, or <code>-eq</code> operators:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">str1=<span class="string">&quot;hello&quot;</span></span><br><span class="line">str2=<span class="string">&quot;hi&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;#str1&#125;</span> -gt <span class="variable">$&#123;#str2&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;str1 is longer than str2&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$&#123;#str1&#125;</span> -lt <span class="variable">$&#123;#str2&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;str1 is shorter than str2&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;str1 and str2 have the same length&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Substring-Check"><a href="#Substring-Check" class="headerlink" title="Substring Check"></a>Substring Check</h2><p>To check if a string contains a substring:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">sentence=<span class="string">&quot;The quick brown fox jumps over the lazy dog&quot;</span></span><br><span class="line">word=<span class="string">&quot;fox&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$sentence</span>&quot;</span> == *<span class="string">&quot;<span class="variable">$word</span>&quot;</span>* ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The sentence contains the word &#x27;<span class="variable">$word</span>&#x27;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Sorting-Strings"><a href="#Sorting-Strings" class="headerlink" title="Sorting Strings"></a>Sorting Strings</h2><p>You can use the <code>sort</code> command to compare and sort strings:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">string1=<span class="string">&quot;apple&quot;</span></span><br><span class="line">string2=<span class="string">&quot;banana&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="subst">$(echo -e <span class="string">&quot;<span class="variable">$string1</span>\n<span class="variable">$string2</span>&quot;</span> | sort | head -n1)</span>&quot;</span> == <span class="string">&quot;<span class="variable">$string1</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$string1</span> comes before <span class="variable">$string2</span> alphabetically&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$string2</span> comes before <span class="variable">$string1</span> alphabetically&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Comparing-Prefixes-and-Suffixes"><a href="#Comparing-Prefixes-and-Suffixes" class="headerlink" title="Comparing Prefixes and Suffixes"></a>Comparing Prefixes and Suffixes</h2><p>To check if a string starts or ends with a specific substring:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">filename=<span class="string">&quot;document.pdf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> == doc* ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Filename starts with &#x27;doc&#x27;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> == *.pdf ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;File is a PDF&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Null-or-Empty-String-Checks"><a href="#Null-or-Empty-String-Checks" class="headerlink" title="Null or Empty String Checks"></a>Null or Empty String Checks</h2><p>Always quote variables to handle null or empty strings correctly:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">empty_var=<span class="string">&quot;&quot;</span></span><br><span class="line">unset_var</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$empty_var</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;empty_var is empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$unset_var</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;unset_var is null or unset&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Mastering string comparisons in Bash is essential for effective script writing. From basic equality checks to pattern matching and regular expressions, these techniques allow you to manipulate and validate text data efficiently.<br>Remember to always quote your variables to prevent word splitting and globbing issues. Also, prefer using double brackets <code>[[ ]]</code> for string comparisons as they provide more features and are less prone to errors.<br>By incorporating these string comparison techniques into your Bash scripts, youâ€™ll be able to handle text processing tasks more effectively and create more robust and flexible scripts.</p>
]]></content>
      <categories>
        <category>Bash Tutorial</category>
      </categories>
      <tags>
        <tag>Bash</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PFADD å‘½ä»¤</title>
    <url>/2023/06/08/redis-cmd-hyperloglog-pfadd/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFADD key [element [element ...]]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.8.9</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>æ¯æ·»åŠ ä¸€ä¸ªå…ƒç´ çš„å¤æ‚åº¦ä¸º $O(1)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@hyperloglog</code></strong>,Â <strong><code>@fast</code></strong></p>
<p>å°†æ‰€æœ‰çš„å…ƒç´ å‚æ•°æ·»åŠ åˆ° HyperLogLog æ•°æ®ç»“æ„ä¸­ï¼Œå­˜å‚¨åœ¨ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„å˜é‡åç§°ä¸­ã€‚</p>
<p>ä½œä¸ºè¿™ä¸ªå‘½ä»¤çš„å‰¯ä½œç”¨ï¼Œåœ¨æ‰§è¡Œæ­¤å‘½ä»¤æ—¶ï¼ŒHyperLogLog å†…éƒ¨å¯èƒ½ä¼šæ›´æ–°ï¼Œä»¥åæ˜ æˆªè‡³ç›®å‰ä¸ºæ­¢æ·»åŠ çš„å”¯ä¸€é¡¹ç›®æ•°çš„ä¸åŒè¿‘ä¼¼å€¼ï¼ˆé›†åˆçš„åŸºæ•°ï¼‰ã€‚</p>
<p>å¦‚æœ HyperLogLog ä¼°è®¡çš„è¿‘ä¼¼åŸºæ•°åœ¨æ‰§è¡Œå‘½ä»¤åå‘ç”Ÿå˜åŒ–ï¼Œ<code>PFADD</code> å°†è¿”å› 1ï¼Œå¦åˆ™è¿”å› 0ã€‚å¦‚æœæŒ‡å®šçš„é”®ä¸å­˜åœ¨ï¼Œè¯¥å‘½ä»¤å°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç©ºçš„ HyperLogLog ç»“æ„ï¼ˆå³å…·æœ‰æŒ‡å®šé•¿åº¦å’Œç»™å®šç¼–ç çš„ Redis å­—ç¬¦ä¸²ï¼‰ã€‚</p>
<p>åœ¨è°ƒç”¨å‘½ä»¤æ—¶ï¼Œå¦‚æœä¸ä¼ é€’å…ƒç´ ï¼Œè€Œåªæœ‰æœ‰æ•ˆçš„ key åç§°ï¼Œé‚£ä¹ˆå¦‚æœ key å·²ç»å­˜åœ¨åˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå¦åˆ™åªåˆ›å»ºæ•°æ®ç»“æ„ï¼ˆåœ¨åä¸€ç§æƒ…å†µä¸‹ä¼šè¿”å› 1ï¼‰ã€‚</p>
<p>æœ‰å…³ HyperLogLog æ•°æ®ç»“æ„çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… PFCOUNT å‘½ä»¤æ–‡æ¡£ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœ HyperLogLog å†…éƒ¨å­˜å‚¨è¢«ä¿®æ”¹äº†ï¼Œåˆ™è¿”å› 1ã€‚ å¦åˆ™è¿”å› 0ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; PFADD hll J O H N S O N L I N</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFCOUNT hll</span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>æ‰§è¡Œ <code>PFADD</code> å‘½ä»¤æ—¶ï¼Œåªä¼  key åç§°ï¼Œè€Œä¸ä¼ é€’å…ƒç´ ï¼Œkey ä¸å­˜åœ¨çš„æƒ…å†µï¼Œè¯¥å‘½ä»¤æ‰§è¡Œç»“æœè¿”å› 1ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS hkey</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; PFADD hkey</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>æ‰§è¡Œ <code>PFADD</code> å‘½ä»¤æ—¶ï¼Œåªä¼  key åç§°ï¼Œè€Œä¸ä¼ é€’å…ƒç´ ï¼Œkey å­˜åœ¨çš„æƒ…å†µï¼Œè¯¥å‘½ä»¤æ‰§è¡Œç»“æœè¿”å› 0ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS hkey</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFADD hkey</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PFCOUNT å‘½ä»¤</title>
    <url>/2023/06/08/redis-cmd-hyperloglog-pfcount/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFCOUNT key [key ...]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.8.9</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>å½“å‘½ä»¤ä½œç”¨äºå•ä¸ª HyperLogLog æ—¶ï¼Œå¤æ‚åº¦ä¸º $O(1)$ï¼Œå¹¶ä¸”å…·æœ‰éå¸¸ä½çš„å¹³å‡å¸¸æ•°æ—¶é—´ã€‚å½“å‘½ä»¤ä½œç”¨äº N ä¸ª HyperLogLog æ—¶ï¼Œå¤æ‚åº¦ä¸º $O(N)$ ï¼Œå¸¸æ•°æ—¶é—´ä¹Ÿæ¯”å¤„ç†å•ä¸ª HyperLogLog æ—¶è¦å¤§å¾—å¤šã€‚</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@hyperloglog</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è°ƒç”¨ <code>PFCOUNT</code> å‘½ä»¤æ—¶ï¼Œå¦‚æœåªä¼ å…¥ä¸€ä¸ª keyï¼Œåˆ™è¿”å›å­˜å‚¨åœ¨æŒ‡å®š key ä¸­çš„ HyperLogLog æ•°æ®ç»“æ„è®¡ç®—çš„è¿‘ä¼¼åŸºæ•°ï¼Œå¦‚æœ key ä¸å­˜åœ¨åˆ™è¿”å›ä¸º 0ã€‚</p>
<p>å¦‚æœä¼ å…¥å¤šä¸ª key æ—¶ï¼Œåˆ™è¿”å›æ‰€æœ‰ç»™å®š key ä¸­çš„ HyperLogLog çš„åˆé›†çš„è¿‘ä¼¼åŸºæ•°ï¼Œè¿™ä¸ªè¿‘ä¼¼åŸºæ•°æ˜¯é€šè¿‡åˆå¹¶æ‰€æœ‰ç»™å®šçš„ HyperLogLog åˆ°ä¸€ä¸ªä¸´æ—¶ HyperLogLog ä¸­è®¡ç®—å¾—å‡ºçš„ã€‚</p>
<p>HyperLogLog æ•°æ®ç»“æ„ç”¨äºè®¡ç®—é›†åˆä¸­çš„å”¯ä¸€å…ƒç´ ï¼Œåªéœ€è¦ä½¿ç”¨å°‘é‡å›ºå®šå†…å­˜ï¼Œç‰¹åˆ«æ˜¯æ¯ä¸ª HyperLogLog å ç”¨ 12KBï¼ˆåŠ ä¸Š key æœ¬èº«çš„å‡ ä¸ªå­—èŠ‚ï¼‰ã€‚</p>
<p>è¿”å›çš„é›†åˆåŸºæ•°ä¸æ˜¯ç²¾ç¡®çš„ï¼Œè€Œæ˜¯è¿‘ä¼¼çš„ï¼Œæ ‡å‡†è¯¯å·®ä¸º 0.81%ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¦è®¡ç®—ä¸€å¤©ä¸­è¿›è¡Œçš„æ‰€æœ‰ä¸åŒæœç´¢æŸ¥è¯¢æ¬¡æ•°ï¼Œä¸€ä¸ªç¨‹åºéœ€è¦åœ¨æ¯æ¬¡å¤„ç†æŸ¥è¯¢æ—¶è°ƒç”¨Â <code>PFADD</code>ã€‚éšæ—¶å¯ä»¥ç”¨Â <code>PFCOUNT</code>Â æ£€ç´¢è¿‘ä¼¼çš„å”¯ä¸€æŸ¥è¯¢æ¬¡æ•°ã€‚</p>
<p>æ³¨æ„ï¼šä½œä¸ºè°ƒç”¨æ­¤å‡½æ•°çš„å‰¯ä½œç”¨ï¼ŒHyperLogLog æœ‰å¯èƒ½è¢«ä¿®æ”¹ï¼Œå› ä¸ºæœ€å 8 ä¸ªå­—èŠ‚ç¼–ç äº†æœ€è¿‘è®¡ç®—çš„åŸºæ•°ä»¥è¿›è¡Œç¼“å­˜ã€‚æ‰€ä»¥ä»æŠ€æœ¯ä¸Šè®²ï¼Œ<code>PFCOUNT</code> ä¹Ÿæ˜¯ä¸€ä¸ªå†™å‘½ä»¤ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œç»™å®š HyperLogLog åŒ…å«çš„å”¯ä¸€å…ƒç´ çš„è¿‘ä¼¼æ•°é‡ã€‚</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; PFADD hll foo bar zap</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFADD hll zap zap zap</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; PFADD hll foo bar</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; PFCOUNT hll</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">redis&gt; PFADD some-other-hll 1 2 3</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFCOUNT hll some-other-hll</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br></pre></td></tr></table></figure>



<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PFSELFTEST å‘½ä»¤</title>
    <url>/2023/06/09/redis-cmd-hyperloglog-pfselftest/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFSELFTEST</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.8.9</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>N/A</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@hyperloglog</code></strong>,Â <strong><code>@admin</code></strong>,Â <strong><code>@slow</code></strong>,Â <strong><code>@dangerous</code></strong></p>
<p><code>PFSELFTEST</code> æ˜¯ä¸€ä¸ªå†…éƒ¨å‘½ä»¤ï¼Œä»…ç”¨äºå¼€å‘å’Œæµ‹è¯• Redisã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PFMERGE å‘½ä»¤</title>
    <url>/2023/06/09/redis-cmd-hyperloglog-pfmerge/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFMERGE destkey [sourcekey [sourcekey ...]]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.8.9</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$</p>
<p>N ä¸ºéœ€è¦çš„ HyperLogLog çš„æ•°é‡ã€‚</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@hyperloglog</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>å°†å¤šä¸ª HyperLogLog åˆå¹¶ä¸ºä¸€ä¸ª HyperLogLogï¼Œåˆå¹¶åçš„ HyperLogLog çš„åŸºæ•°ä¼°ç®—å€¼æ˜¯é€šè¿‡å¯¹æ‰€æœ‰ç»™å®š HyperLogLog è¿›è¡Œå¹¶é›†è®¡ç®—å¾—å‡ºçš„ã€‚</p>
<p>åˆå¹¶åçš„ HyperLogLog ä¼šè¢«å‚¨å­˜åœ¨Â <code>destkey</code>Â é”®é‡Œé¢ï¼Œå¦‚æœè¯¥é”®å¹¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå‘½ä»¤åœ¨æ‰§è¡Œä¹‹å‰ï¼Œä¼šå…ˆä¸ºè¯¥é”®åˆ›å»ºä¸€ä¸ªç©ºçš„ HyperLogLogã€‚å¦‚æœè¯¥é”®å­˜åœ¨ï¼Œåˆ™å°†å…¶è§†ä¸ºæºé›†ä¹‹ä¸€ï¼Œå…¶åŸºæ•°å°†åŒ…å«åœ¨è®¡ç®—çš„ HyperLogLog çš„åŸºæ•°ä¸­ã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ï¼ŒæŠŠå¤šä¸ª HyperLogLog åˆå¹¶åˆ°ä¸€èµ·ï¼Œå¾—åˆ°ä¸€ä¸ªä»£è¡¨å¹¶é›†åŸºæ•°çš„HyperLogLogï¼Œå¦‚æœç›®æ ‡ key å­˜åœ¨ï¼Œä¹Ÿä¼šä¸€èµ·åˆå¹¶ï¼Œå¾—åˆ°çš„ç›®æ ‡ key å°±æ˜¯æœ€ç»ˆçš„åˆå¹¶ç»“æœã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å› <code>OK</code>ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å°†ä¸¤ä¸ª HyperLogLog åˆå¹¶ä¸ºä¸€ä¸ª HyperLogLogï¼Œå¹¶å‚¨å­˜åœ¨ä¸€ä¸ªä¸å­˜åœ¨çš„é”®ä¸Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; PFADD hll:1 a b c</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFADD <span class="string">&quot;hll:2&quot;</span> d e f</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFMERGE <span class="string">&quot;hll:target&quot;</span> <span class="string">&quot;hll:1&quot;</span> <span class="string">&quot;hll:2&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; PFCOUNT <span class="string">&quot;hll:target&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å°†ä¸¤ä¸ª HyperLogLog åˆå¹¶ä¸ºä¸€ä¸ª HyperLogLogï¼Œå¹¶å‚¨å­˜åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é”®ä¸Šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; PFADD hll:1 a b c</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFADD <span class="string">&quot;hll:2&quot;</span> d e f</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFADD <span class="string">&quot;hll:3&quot;</span> z</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">redis&gt; PFMERGE <span class="string">&quot;hll:3&quot;</span> <span class="string">&quot;hll:1&quot;</span> <span class="string">&quot;hll:2&quot;</span></span><br><span class="line">OK</span><br><span class="line">redis&gt; PFCOUNT <span class="string">&quot;hll:3&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 7</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis PFDEBUG å‘½ä»¤</title>
    <url>/2023/06/09/redis-cmd-hyperloglog-pfdebug/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PFDEBUG subcommand key</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.8.9</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>N/A</p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@write</code></strong>,Â <strong><code>@hyperloglog</code></strong>,Â <strong><code>@admin</code></strong>,Â <strong><code>@slow</code></strong>,Â <strong><code>@dangerous</code></strong></p>
<p><code>PFDEBUG</code> å‘½ä»¤æ˜¯ä¸€ä¸ªå†…éƒ¨å‘½ä»¤ï¼Œç”¨äºå¼€å‘å’Œæµ‹è¯• Redisã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | Flinkå¼•æ“</title>
    <url>/2023/06/10/paimon-engines-flink/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨ Flink ä¸­ä½¿ç”¨ Paimonã€‚</p>
<h2 id="å‡†å¤‡-Paimon-Jar-æ–‡ä»¶"><a href="#å‡†å¤‡-Paimon-Jar-æ–‡ä»¶" class="headerlink" title="å‡†å¤‡ Paimon Jar æ–‡ä»¶"></a>å‡†å¤‡ Paimon Jar æ–‡ä»¶</h2><p>Paimon ç›®å‰æ”¯æŒ Flink 1.17ã€1.16ã€1.15 å’Œ 1.14ã€‚æ¨èä½¿ç”¨æœ€æ–°çš„ Flink ç‰ˆæœ¬ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</p>
<p>ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ jar æ–‡ä»¶ï¼š</p>
<table>
<thead>
<tr>
<th>Flink ç‰ˆæœ¬</th>
<th>Jar</th>
</tr>
</thead>
<tbody><tr>
<td>Flink 1.17</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.17/0.4.0-incubating/paimon-flink-1.17-0.4.0-incubating.jar">https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.17/0.4.0-incubating/paimon-flink-1.17-0.4.0-incubating.jar</a></td>
</tr>
<tr>
<td>Flink 1.16</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.16/0.4.0-incubating/paimon-flink-1.16-0.4.0-incubating.jar">https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.16/0.4.0-incubating/paimon-flink-1.16-0.4.0-incubating.jar</a></td>
</tr>
<tr>
<td>Flink 1.15</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.15/0.4.0-incubating/paimon-flink-1.15-0.4.0-incubating.jar">https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.15/0.4.0-incubating/paimon-flink-1.15-0.4.0-incubating.jar</a></td>
</tr>
<tr>
<td>Flink 1.14</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.14/0.4.0-incubating/paimon-flink-1.14-0.4.0-incubating.jar">https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-1.14/0.4.0-incubating/paimon-flink-1.14-0.4.0-incubating.jar</a></td>
</tr>
<tr>
<td>Flink Action</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-action/0.4.0-incubating/paimon-flink-action-0.4.0-incubating.jar">https://repo.maven.apache.org/maven2/org/apache/paimon/paimon-flink-action/0.4.0-incubating/paimon-flink-action-0.4.0-incubating.jar</a></td>
</tr>
</tbody></table>
<p>ä¹Ÿå¯ä»¥é€‰æ‹©ä»æºä»£ç æ‰‹åŠ¨æ„å»º jar æ–‡ä»¶ã€‚</p>
<p>è¦ä»æºä»£ç æ„å»ºï¼Œéœ€è¦å…ˆæŠŠä»£ç å…‹éš†åˆ°æœ¬åœ°ï¼ŒGithubï¼š<a href="https://github.com/apache/incubator-paimon.git%E3%80%82">https://github.com/apache/incubator-paimon.gitã€‚</a></p>
<p>ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mvn clean install -DskipTests</span><br></pre></td></tr></table></figure>

<p>æ„å»ºæˆåŠŸåï¼Œå¯ä»¥åœ¨ <code>./paimon-flink/paimon-flink-&lt;flink-version&gt;/target/paimon-flink-&lt;flink-version&gt;-0.4.0-incubating.jar</code> ä¸­æ‰¾åˆ° jar æ–‡ä»¶ã€‚</p>
<h2 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h2><p>1ï¼‰ä¸‹è½½ Flink</p>
<p>å¦‚æœè¿˜æ²¡æœ‰ä¸‹è½½ Flinkï¼Œå¯ä»¥é€šè¿‡ <a href="https://flink.apache.org/downloads.html">https://flink.apache.org/downloads.html</a> ä¸‹è½½ï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œè§£å‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzf flink-*.tgz</span><br></pre></td></tr></table></figure>

<p>2ï¼‰å°† Paimon çš„ jar æ–‡ä»¶æ‹·è´åˆ° Flink ä¸»ç›®å½•çš„ lib ç›®å½•ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> paimon-flink-*.jar &lt;FLINK_HOME&gt;/lib/</span><br></pre></td></tr></table></figure>

<p>3ï¼‰å°† Hadoop çš„ jar æ–‡ä»¶æ‹·è´åˆ° Flink ä¸»ç›®å½•çš„ lib ç›®å½•ä¸‹</p>
<blockquote>
<p>å¦‚æœæœºå™¨å¤„äº Hadoop ç¯å¢ƒä¸­ï¼Œè¯·ç¡®ä¿ç¯å¢ƒå˜é‡ HADOOP_CLASSPATH çš„å€¼åŒ…æ‹¬å¸¸ç”¨ Hadoop åº“çš„è·¯å¾„ï¼Œä½ ä¸éœ€è¦ä½¿ç”¨ä¸‹é¢é¢„è£…çš„ Hadoop jar æ–‡ä»¶ã€‚</p>
</blockquote>
<p>ä¸‹è½½ Pre-bundled Hadoop jar æ–‡ä»¶ï¼Œå¹¶å°†è¯¥ jar æ–‡ä»¶æ‹·è´åˆ° Flink ç›®å½•çš„ lib ç›®å½•ä¸‹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> flink-shaded-hadoop-2-uber-*.jar &lt;FLINK_HOME&gt;/lib/</span><br></pre></td></tr></table></figure>

<p>4ï¼‰å¯åŠ¨ Flink æœ¬åœ°é›†ç¾¤</p>
<p>ä¸ºäº†å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ª Flink ä½œä¸šï¼Œéœ€è¦ä¿®æ”¹<FLINK_HOME>/conf/flink-conf.yaml ä¸­çš„é›†ç¾¤é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">taskmanager.numberOfTaskSlots: 2</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œ Flink è‡ªå¸¦çš„ bash è„šæœ¬ï¼Œå¯åŠ¨æœ¬åœ°é›†ç¾¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;FLINK_HOME&gt;/bin/start-cluster.sh</span><br></pre></td></tr></table></figure>

<p>åœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥Â <a href="http://localhost:8081/">http://localhost:8081/</a>Â æŸ¥çœ‹ Flink ä»ªè¡¨ç›˜ï¼Œå¯ä»¥çœ‹åˆ°é›†ç¾¤å·²å¯åŠ¨å¹¶æ­£åœ¨è¿è¡Œã€‚</p>
<p>å¯åŠ¨ Flink SQL å®¢æˆ·ç«¯æ¥æ‰§è¡Œ SQL è„šæœ¬ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;FLINK_HOME&gt;/bin/sql-client.sh</span><br></pre></td></tr></table></figure>

<p>5ï¼‰åˆ›å»ºç›®å½•å’Œè¡¨</p>
<p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- if you&#x27;re trying out Paimon in a distributed environment,</span></span><br><span class="line"><span class="comment">-- the warehouse path should be set to a shared file system, such as HDFS or OSS</span></span><br><span class="line"><span class="keyword">CREATE</span> CATALOG my_catalog <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;type&#x27;</span><span class="operator">=</span><span class="string">&#x27;paimon&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;warehouse&#x27;</span><span class="operator">=</span><span class="string">&#x27;file:/tmp/paimon&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">USE CATALOG my_catalog;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- create a word count table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> word_count (</span><br><span class="line">    word STRING <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> ENFORCED,</span><br><span class="line">    cnt <span class="type">BIGINT</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>6ï¼‰å†™å…¥æ•°æ®</p>
<p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- create a word data generator table</span></span><br><span class="line"><span class="keyword">CREATE</span> TEMPORARY <span class="keyword">TABLE</span> word_table (</span><br><span class="line">    word STRING</span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;connector&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;datagen&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;fields.word.length&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- paimon requires checkpoint interval in streaming mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.checkpointing.interval&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;10 s&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- write streaming data to dynamic table</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> word_count <span class="keyword">SELECT</span> word, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> word_table <span class="keyword">GROUP</span> <span class="keyword">BY</span> word;</span><br></pre></td></tr></table></figure>

<p>7ï¼‰OLAP æŸ¥è¯¢</p>
<p>ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- use tableau result mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;sql-client.execution.result-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;tableau&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- switch to batch mode</span></span><br><span class="line">RESET <span class="string">&#x27;execution.checkpointing.interval&#x27;</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.runtime-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;batch&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- olap query the table</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> word_count;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å¤šæ‰§è¡Œå‡ æ¬¡ä¸Šé¢çš„æŸ¥è¯¢ SQL è¯­å¥ï¼Œå¹¶è§‚å¯Ÿç»“æœçš„å˜åŒ–ã€‚</p>
<p>8ï¼‰æµå¼æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- switch to streaming mode</span></span><br><span class="line"><span class="keyword">SET</span> <span class="string">&#x27;execution.runtime-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;streaming&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- track the changes of table and calculate the count interval statistics</span></span><br><span class="line"><span class="keyword">SELECT</span> `<span class="type">interval</span>`, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> interval_cnt <span class="keyword">FROM</span></span><br><span class="line">    (<span class="keyword">SELECT</span> cnt <span class="operator">/</span> <span class="number">10000</span> <span class="keyword">AS</span> `<span class="type">interval</span>` <span class="keyword">FROM</span> word_count) <span class="keyword">GROUP</span> <span class="keyword">BY</span> `<span class="type">interval</span>`;</span><br></pre></td></tr></table></figure>

<p>9ï¼‰é€€å‡º</p>
<p>æ‰“å¼€ Flink ä»ªè¡¨ç›˜ä¸Šæ­£åœ¨è¿è¡Œä½œä¸šåˆ—è¡¨ä¸Šçš„ä½œä¸šï¼Œè¿›å…¥ä½œä¸šè¯¦æƒ…é¡µé¢ï¼Œç‚¹å‡» Cancel Job æŒ‰é’®ï¼Œå–æ¶ˆä½œä¸šã€‚</p>
<p>æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼Œé€€å‡º Flink SQL å®¢æˆ·ç«¯ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- uncomment the following line if you want to drop the dynamic table and clear the files</span></span><br><span class="line"><span class="comment">-- DROP TABLE word_count;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- exit sql-client</span></span><br><span class="line">EXIT;</span><br></pre></td></tr></table></figure>

<p>åœæ­¢ Flink æœ¬åœ°é›†ç¾¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/stop-cluster.sh</span><br></pre></td></tr></table></figure>

<h2 id="æ”¯æŒçš„-Flink-æ•°æ®ç±»å‹"><a href="#æ”¯æŒçš„-Flink-æ•°æ®ç±»å‹" class="headerlink" title="æ”¯æŒçš„ Flink æ•°æ®ç±»å‹"></a>æ”¯æŒçš„ Flink æ•°æ®ç±»å‹</h2><p>Flink æ•°æ®ç±»å‹è¯·å‚é˜…ï¼š<a href="https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/types/%E3%80%82">https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/types/ã€‚</a></p>
<p>æ”¯æŒæ‰€æœ‰ Flink æ•°æ®ç±»å‹ï¼Œé™¤äº†</p>
<ul>
<li>ä¸æ”¯æŒ MULTISET ç±»å‹ï¼›</li>
<li>ä¸æ”¯æŒå°† MAP ä½œä¸ºä¸»é”®ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | ä¸»é”®è¡¨</title>
    <url>/2023/06/10/paimon-concepts-primary-key-table/</url>
    <content><![CDATA[<p>Changelog è¡¨æ˜¯åˆ›å»ºè¡¨æ—¶çš„é»˜è®¤è¡¨ç±»å‹ã€‚ç”¨æˆ·å¯ä»¥æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤è¡¨ä¸­çš„è®°å½•ã€‚</p>
<p>ä¸»é”®ç”±ä¸€åˆ—æˆ–å¤šåˆ—ç»„æˆï¼Œå…¶å€¼èƒ½å”¯ä¸€åœ°æ ‡è¯†è¡¨ä¸­çš„æ¯ä¸€è¡Œè®°å½•ã€‚Paimon å¼ºåˆ¶å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œè¿™æ„å‘³ç€ç³»ç»Ÿå°†å¯¹æ¯ä¸ªæ¡¶å†…çš„ä¸»é”®è¿›è¡Œæ’åºã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨ä¸»é”®ä¸Šæ·»åŠ è¿‡æ»¤æ¡ä»¶æ¥å®ç°é«˜æ€§èƒ½ã€‚</p>
<p>é€šè¿‡åœ¨å˜æ›´æ—¥å¿—è¡¨ä¸Šå®šä¹‰ä¸»é”®ï¼Œç”¨æˆ·å¯ä»¥è·å¾—ä»¥ä¸‹åŠŸèƒ½ã€‚</p>
<h2 id="åˆå¹¶å¼•æ“"><a href="#åˆå¹¶å¼•æ“" class="headerlink" title="åˆå¹¶å¼•æ“"></a>åˆå¹¶å¼•æ“</h2><p>å½“ Paimon æ¥æ”¶å™¨ï¼ˆsinkï¼‰æ”¶åˆ°å…·æœ‰ç›¸åŒä¸»é”®çš„ä¸¤æ¡æˆ–æ›´å¤šè®°å½•æ—¶ï¼Œå®ƒå°†æŠŠè¿™äº›è®°å½•åˆå¹¶æˆä¸€æ¡è®°å½•ä»¥ä¿æŒä¸»é”®çš„å”¯ä¸€æ€§ã€‚é€šè¿‡æŒ‡å®š <code>merge-engine</code> è¡¨å±æ€§ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å¦‚ä½•åˆå¹¶è®°å½•ã€‚</p>
<blockquote>
<p>åœ¨ Flink SQL TableConfig ä¸­å§‹ç»ˆå°† <code>table.exec.sink.upsert-materialize</code> è®¾ç½®ä¸º<code>NONE</code>ï¼Œsink upsert-materialize å¯èƒ½ä¼šå¯¼è‡´å¥‡æ€ªçš„è¡Œä¸ºã€‚å½“è¾“å…¥ä¹±åºæ—¶ï¼Œå»ºè®®ä½¿ç”¨ Sequence Field è¿›è¡Œä¹±åºæ ¡æ­£ã€‚</p>
</blockquote>
<h3 id="å»é‡ï¼ˆDeduplicateï¼‰"><a href="#å»é‡ï¼ˆDeduplicateï¼‰" class="headerlink" title="å»é‡ï¼ˆDeduplicateï¼‰"></a>å»é‡ï¼ˆDeduplicateï¼‰</h3><p><code>deduplicate</code> åˆå¹¶å¼•æ“æ˜¯é»˜è®¤çš„åˆå¹¶å¼•æ“ã€‚Paimon åªä¼šä¿ç•™æœ€æ–°çš„è®°å½•ï¼Œå¹¶ä¸¢å¼ƒå…·æœ‰ç›¸åŒä¸»é”®çš„å…¶ä»–è®°å½•ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¦‚æœæœ€æ–°çš„è®°å½•æ˜¯ä¸€æ¡ <code>DELETE</code> è®°å½•ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¸»é”®ç›¸åŒçš„è®°å½•éƒ½ä¼šè¢«åˆ é™¤ã€‚</p>
<h3 id="éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰"><a href="#éƒ¨åˆ†æ›´æ–°ï¼ˆPartial-Updateï¼‰" class="headerlink" title="éƒ¨åˆ†æ›´æ–°ï¼ˆPartial Updateï¼‰"></a>éƒ¨åˆ†æ›´æ–°ï¼ˆPartial Updateï¼‰</h3><p>é€šè¿‡æŒ‡å®š <code>&#39;merge-engine&#39; = &#39;partial-update&#39;</code>ï¼Œç”¨æˆ·å¯ä»¥åœ¨å¤šæ¬¡æ›´æ–°ä¸­è®¾ç½®è®°å½•çš„åˆ—ï¼Œå¹¶æœ€ç»ˆè·å¾—å®Œæ•´çš„è®°å½•ã€‚å…·ä½“æ¥è¯´ï¼Œç›¸åŒä¸»é”®ä¸‹çš„å„ä¸ªå€¼å­—æ®µä¼šä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ›´æ–°ä¸ºæœ€æ–°æ•°æ®ï¼Œä½† <code>null</code> å€¼ä¸ä¼šè¢«è¦†ç›–ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ Paimon æ”¶åˆ°ä¸‰æ¡è®°å½•ï¼š</p>
<ul>
<li><code>&lt;1, 23.0, 10, NULL&gt;</code></li>
<li><code>&lt;1, NULL, NULL, &#39;This is a book&#39;&gt;</code></li>
<li><code>&lt;1, 25.2, NULL, NULL&gt;</code></li>
</ul>
<p>å¦‚æœç¬¬ä¸€åˆ—æ˜¯ä¸»é”®ï¼Œæœ€ç»ˆç»“æœå°†æ˜¯ <code>&lt;1, 25.2, 10, &#39;This is a book&#39;&gt;</code>ã€‚</p>
<blockquote>
<p>å¯¹äºæµå¤„ç†æŸ¥è¯¢ï¼Œ<code>partial-update</code> åˆå¹¶å¼•æ“å¿…é¡»ä¸ <code>lookup</code> æˆ– <code>full-compaction</code> ä¸€èµ·ä½¿ç”¨ã€‚</p>
</blockquote>
<blockquote>
<p>Partial ä¸èƒ½æ¥æ”¶ <code>DELETE</code> æ¶ˆæ¯ï¼Œå› ä¸ºæ— æ³•å®šä¹‰è¯¥è¡Œä¸ºã€‚å¯ä»¥é…ç½®<code>partial-update.ignore-delete</code> ä»¥å¿½ç•¥ <code>DELETE</code> æ¶ˆæ¯ã€‚</p>
</blockquote>
<h3 id="èšåˆï¼ˆAggregationï¼‰"><a href="#èšåˆï¼ˆAggregationï¼‰" class="headerlink" title="èšåˆï¼ˆAggregationï¼‰"></a>èšåˆï¼ˆAggregationï¼‰</h3><blockquote>
<p>æ³¨æ„ï¼šåœ¨ Flink SQL TableConfig ä¸­å§‹ç»ˆå°† <code>table.exec.sink.upsert-materialize</code> è®¾ç½®ä¸º <code>NONE</code>ã€‚</p>
</blockquote>
<p>æœ‰æ—¶å€™ç”¨æˆ·åªå…³å¿ƒèšåˆçš„ç»“æœã€‚<code>aggregation</code> åˆå¹¶å¼•æ“æ ¹æ®èšåˆå‡½æ•°ï¼Œåœ¨åŒä¸€ä¸ªä¸»é”®ä¸‹ï¼Œå°†æ¯ä¸ªå€¼åŸŸä¸æœ€æ–°æ•°æ®é€ä¸€èšåˆã€‚</p>
<p>æ¯ä¸ªä¸å±äºä¸»é”®çš„å­—æ®µéƒ½å¯ä»¥è¢«èµ‹äºˆä¸€ä¸ªèšåˆå‡½æ•°ï¼Œç”± <code>fields.&lt;field-name&gt;.aggregate-function</code> è¡¨å±æ€§æŒ‡å®šï¼Œå¦åˆ™å®ƒå°†ä½¿ç”¨ <code>last_non_null_value</code> èšåˆä½œä¸ºé»˜è®¤å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸‹è¡¨å®šä¹‰ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> MyTable (</span><br><span class="line">    product_id <span class="type">BIGINT</span>,</span><br><span class="line">    price <span class="keyword">DOUBLE</span>,</span><br><span class="line">    sales <span class="type">BIGINT</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (product_id) <span class="keyword">NOT</span> ENFORCED</span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;merge-engine&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;aggregation&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;fields.price.aggregate-function&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;max&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;fields.sales.aggregate-function&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;sum&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å­—æ®µ <code>price</code> é€šè¿‡ <code>max</code> å‡½æ•°è¿›è¡Œèšåˆï¼Œå­—æ®µ <code>sales</code> é€šè¿‡ <code>sum</code> å‡½æ•°è¿›è¡Œèšåˆã€‚å¦‚æœç»™å®šä¸¤æ¡è¾“å…¥è®°å½• <code>&lt;1, 23.0, 15&gt;</code> å’Œ <code>&lt;1, 30.2, 20&gt;</code>ï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœä¸º <code>&lt;1, 30.2, 35&gt;</code>ã€‚</p>
<p>å½“å‰æ”¯æŒçš„èšåˆå‡½æ•°åŠå…¶æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>sum</code>ï¼šæ”¯æŒ <code>DECIMAL</code>ã€<code>TINYINT</code>ã€<code>SMALLINT</code>ã€<code>INTEGER</code>ã€<code>BIGINT</code>ã€<code>FLOAT</code> å’Œ <code>DOUBLE</code> ç­‰æ•°æ®ç±»å‹ã€‚</li>
<li><code>min/max</code>ï¼šæ”¯æŒ <code>DECIMAL</code>ã€<code>TINYINT</code>ã€<code>SMALLINT</code>ã€<code>INTEGER</code>ã€<code>BIGINT</code>ã€<code>FLOAT</code>ã€<code>DOUBLE</code>ã€<code>DATE</code>ã€<code>TIME</code>ã€<code>TIMESTAMP</code> å’Œ <code>TIMESTAMP_LTZ</code> ç­‰æ•°æ®ç±»å‹ã€‚</li>
<li><code>last_value / last_non_null_value</code>ï¼šæ”¯æŒæ‰€æœ‰çš„æ•°æ®ç±»å‹ã€‚</li>
<li><code>listagg</code>ï¼šæ”¯æŒ <code>STRING</code> æ•°æ®ç±»å‹ã€‚</li>
<li><code>bool_and / bool_or</code>ï¼šæ”¯æŒ <code>BOOLEAN</code> æ•°æ®ç±»å‹ã€‚</li>
</ul>
<p>åªæœ‰ <code>sum</code> æ”¯æŒæ’¤å›ï¼ˆ<code>UPDATE_BEFORE</code> å’Œ <code>DELETE</code>ï¼‰ï¼Œå…¶ä»–èšåˆå‡½æ•°ä¸æ”¯æŒæ’¤å›ã€‚å¦‚æœå…è®¸æŸäº›å‡½æ•°å¿½ç•¥æ’¤å›æ¶ˆæ¯ï¼Œå¯ä»¥é…ç½®ï¼š<code>&#39;fields.$&#123;field_name&#125;.ignore-retract&#39;=&#39;true&#39;</code>ã€‚</p>
<blockquote>
<p>å¯¹äºæµå¤„ç†æŸ¥è¯¢ï¼Œ<code>aggregation</code> åˆå¹¶å¼•æ“å¿…é¡»ä¸ <code>lookup</code> æˆ–<code>full-compaction</code> ä¸€èµ·ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ï¼ˆChangelog-Producersï¼‰"><a href="#å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ï¼ˆChangelog-Producersï¼‰" class="headerlink" title="å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ï¼ˆChangelog Producersï¼‰"></a>å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ï¼ˆChangelog Producersï¼‰</h2><p>æµå¼æŸ¥è¯¢ä¼šæŒç»­ç”Ÿæˆæœ€æ–°å˜æ›´ã€‚è¿™äº›å˜æ›´å¯ä»¥æ¥è‡ªåº•å±‚è¡¨æ–‡ä»¶æˆ–å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿï¼ˆå¦‚Kafkaï¼‰ã€‚ä¸å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿç›¸æ¯”ï¼Œè¡¨æ–‡ä»¶ä¸­çš„å˜æ›´æˆæœ¬æ›´ä½ï¼Œä½†å»¶è¿Ÿæ›´é«˜ï¼ˆå–å†³äºå¿«ç…§åˆ›å»ºçš„é¢‘ç‡ï¼‰ã€‚</p>
<p>é€šè¿‡åœ¨åˆ›å»ºè¡¨æ—¶æŒ‡å®š <code>changelog-producer</code> è¡¨å±æ€§ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä»æ–‡ä»¶ç”Ÿæˆçš„å˜æ›´æ¨¡å¼ã€‚</p>
<blockquote>
<p><code>changelog-producer</code> è¡¨å±æ€§ä»…å½±å“æ¥è‡ªæ–‡ä»¶ä¸­çš„å˜æ›´æ—¥å¿—ã€‚å®ƒä¸ä¼šå½±å“å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿã€‚</p>
</blockquote>
<h3 id="None"><a href="#None" class="headerlink" title="None"></a>None</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ä¼šå°†é¢å¤–çš„å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨åº”ç”¨äºè¡¨çš„å†™å…¥å™¨ã€‚Paimon æºåªèƒ½åœ¨å¿«ç…§ä¹‹é—´çœ‹åˆ°åˆå¹¶çš„å˜æ›´ï¼Œæ¯”å¦‚åˆ é™¤çš„é”®ã€æŸäº›é”®çš„æ–°å€¼æ˜¯ä»€ä¹ˆã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™äº›åˆå¹¶çš„å˜æ›´ä¸èƒ½å½¢æˆå®Œæ•´çš„å˜æ›´æ—¥å¿—ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä»ä¸­è¯»å–é”®çš„æ—§å€¼ã€‚åˆå¹¶çš„å˜æ›´è¦æ±‚æ¶ˆè´¹è€…â€œè®°ä½â€æ¯ä¸ªé”®çš„å€¼ï¼Œå¹¶åœ¨ä¸çœ‹åˆ°æ—§å€¼çš„æƒ…å†µä¸‹é‡å†™å€¼ã€‚ç„¶è€Œï¼ŒæŸäº›æ¶ˆè´¹è€…éœ€è¦æ—§å€¼æ¥ç¡®ä¿æ­£ç¡®æ€§æˆ–æ•ˆç‡ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªæŒ‰åˆ†ç»„é”®ï¼ˆå¯èƒ½ä¸ç­‰äºä¸»é”®ï¼‰è®¡ç®—æ€»å’Œçš„æ¶ˆè´¹è€…ã€‚å¦‚æœæ¶ˆè´¹è€…åªçœ‹åˆ°æ–°å€¼â€œ5â€ï¼Œå®ƒæ— æ³•ç¡®å®šåº”æ·»åŠ åˆ°æ±‚å’Œç»“æœçš„å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ—§å€¼æ˜¯â€œ4â€ï¼Œåº”å°†â€œ1â€æ·»åŠ åˆ°ç»“æœä¸­ã€‚ä½†æ˜¯å¦‚æœæ—§å€¼æ˜¯â€œ6â€ï¼Œåˆ™åº”ä»ç»“æœä¸­å‡å»â€œ1â€ã€‚å¯¹è¿™äº›ç±»å‹çš„æ¶ˆè´¹è€…æ¥è¯´ï¼Œæ—§å€¼éå¸¸é‡è¦ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ<code>none</code> å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨æœ€é€‚åˆæ•°æ®åº“ç³»ç»Ÿç­‰æ¶ˆè´¹è€…ã€‚Flink ä¹Ÿæœ‰ä¸€ä¸ªå†…ç½®çš„â€œnormalizeâ€è¿ç®—ç¬¦ï¼Œå®ƒå°†æ¯ä¸ªé”®çš„å€¼æŒä¹…åŒ–åœ¨çŠ¶æ€ä¸­ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªè¿ç®—ç¬¦çš„æˆæœ¬éå¸¸é«˜ï¼Œåº”é¿å…ä½¿ç”¨ã€‚</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b286cff0-566e-49f2-b859-f40567d5b3e9/Untitled.png" alt="Untitled"></p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>é€šè¿‡æŒ‡å®š <code>&#39;changelog-producer&#39; = &#39;input&#39;</code>ï¼ŒPaimon å†™å…¥å™¨å°†å…¶è¾“å…¥ä½œä¸ºå®Œæ•´å˜æ›´æ—¥å¿—çš„æ¥æºã€‚æ‰€æœ‰è¾“å…¥è®°å½•å°†ä¿å­˜åœ¨å•ç‹¬çš„å˜æ›´æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå¹¶ç”± Paimon æºæä¾›ç»™æ¶ˆè´¹è€…ã€‚</p>
<p>å½“ Paimon å†™å…¥å™¨çš„è¾“å…¥æ˜¯å®Œæ•´çš„å˜æ›´æ—¥å¿—ï¼ˆä¾‹å¦‚æ¥è‡ªæ•°æ®åº“ CDC æˆ–ç”± Flink æœ‰çŠ¶æ€è®¡ç®—ç”Ÿæˆï¼‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>input</code> å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ã€‚</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/777a5fe1-1495-4bd2-b018-8bff490a2131/Untitled.png" alt="Untitled"></p>
<h3 id="Lookup"><a href="#Lookup" class="headerlink" title="Lookup"></a>Lookup</h3><blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªè¯•éªŒæ€§çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p>å¦‚æœè¾“å…¥æ— æ³•äº§ç”Ÿå®Œæ•´çš„å˜æ›´æ—¥å¿—ï¼Œä½†ä»æƒ³æ¶ˆé™¤æ˜‚è´µçš„æ ‡å‡†åŒ–æ“ä½œç¬¦ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>&#39;lookup&#39;</code> å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ã€‚</p>
<p>é€šè¿‡æŒ‡å®š <code>&#39;changelog-producer&#39; = &#39;lookup&#39;</code>ï¼ŒPaimon ä¼šåœ¨æäº¤æ•°æ®å†™å…¥ä¹‹å‰é€šè¿‡ <code>&#39;lookup&#39;</code> ç”Ÿæˆå˜æ›´æ—¥å¿—ã€‚</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/be157ba9-c6fa-4956-b004-58ea95531ede/Untitled.png" alt="Untitled"></p>
<p>Lookup ä¼šå°†æ•°æ®ç¼“å­˜åœ¨å†…å­˜å’Œæœ¬åœ°ç£ç›˜ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹æ¥è°ƒæ•´æ€§èƒ½ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>é»˜è®¤å€¼</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>lookup.cache-file-retention</td>
<td>1 h</td>
<td>æ—¶é•¿</td>
<td>ç¼“å­˜æ–‡ä»¶çš„ä¿ç•™æ—¶é•¿ã€‚æ–‡ä»¶è¿‡æœŸåï¼Œå¦‚æœæœ‰è®¿é—®éœ€æ±‚ï¼Œä¼šä» DFS ä¸­é‡æ–°è¯»å–ä»¥åœ¨æœ¬åœ°ç£ç›˜ä¸Šæ„å»ºç´¢å¼•ã€‚</td>
</tr>
<tr>
<td>lookup.cache-max-disk-size</td>
<td>unlimited</td>
<td>å†…å­˜å¤§å°</td>
<td>ç¼“å­˜çš„æœ€å¤§ç£ç›˜å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥é™åˆ¶æœ¬åœ°ç£ç›˜çš„ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td>lookup.cache-max-memory-size</td>
<td>256 mb</td>
<td>å†…å­˜å¤§å°</td>
<td>ç¼“å­˜çš„æœ€å¤§å†…å­˜å¤§å°ã€‚</td>
</tr>
</tbody></table>
<h3 id="Full-Compaction"><a href="#Full-Compaction" class="headerlink" title="Full Compaction"></a>Full Compaction</h3><p>å¦‚æœè§‰å¾— <code>&#39;lookup&#39;</code> çš„èµ„æºæ¶ˆè€—å¤ªå¤§ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>&#39;full-compaction&#39;</code> å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ï¼Œå®ƒå¯ä»¥è§£è€¦æ•°æ®å†™å…¥å’Œå˜æ›´æ—¥å¿—ç”Ÿæˆï¼Œæ›´é€‚åˆå…·æœ‰é«˜å»¶è¿Ÿï¼ˆæ¯”å¦‚ 10 åˆ†é’Ÿï¼‰çš„åœºæ™¯ã€‚</p>
<p>é€šè¿‡æŒ‡å®š <code>&#39;changelog-producer&#39; = &#39;full-compaction&#39;</code>ï¼ŒPaimon å°†æ¯”è¾ƒå®Œå…¨å‹ç¼©ä¹‹é—´çš„ç»“æœå¹¶å°†å·®å¼‚äº§ç”Ÿä¸ºå˜æ›´æ—¥å¿—ï¼ˆchangelogï¼‰ã€‚å˜æ›´æ—¥å¿—çš„å»¶è¿Ÿå—å®Œå…¨å‹ç¼©çš„é¢‘ç‡çš„å½±å“ã€‚</p>
<p>é€šè¿‡æŒ‡å®š <code>full-compaction.delta-commits</code> è¡¨å±æ€§ï¼Œå°†åœ¨å¢é‡æäº¤ï¼ˆæ£€æŸ¥ç‚¹ï¼‰ä¹‹åä¸æ–­è§¦å‘å®Œå…¨å‹ç¼©ã€‚è¿™ä¸ªå±æ€§é»˜è®¤è®¾ç½®ä¸º 1ï¼Œæ‰€ä»¥æ¯ä¸ªæ£€æŸ¥ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªå®Œæ•´çš„å‹ç¼©ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªå˜æ›´æ—¥å¿—ã€‚</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dfc462c7-0fc0-49b9-b5aa-421e060f5418/Untitled.png" alt="Untitled"></p>
<blockquote>
<p>å®Œå…¨å‹ç¼©å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨å¯ä»¥ä¸ºä»»ä½•ç±»å‹çš„æºäº§ç”Ÿå®Œæ•´çš„å˜æ›´æ—¥å¿—ã€‚ä½†æ˜¯ï¼Œä¸ <code>Input</code> å˜æ›´æ—¥å¿—ç”Ÿæˆå™¨ç›¸æ¯”ï¼Œå®ƒçš„æ•ˆç‡è¾ƒä½ï¼Œä¸”äº§ç”Ÿå˜æ›´æ—¥å¿—çš„å»¶è¿Ÿå¯èƒ½è¾ƒé«˜ã€‚</p>
</blockquote>
<h2 id="åºåˆ—å­—æ®µï¼ˆSequence-Fieldï¼‰"><a href="#åºåˆ—å­—æ®µï¼ˆSequence-Fieldï¼‰" class="headerlink" title="åºåˆ—å­—æ®µï¼ˆSequence Fieldï¼‰"></a>åºåˆ—å­—æ®µï¼ˆSequence Fieldï¼‰</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»é”®è¡¨æ ¹æ®è¾“å…¥é¡ºåºç¡®å®šåˆå¹¶é¡ºåºï¼ˆæœ€åä¸€æ¡è¾“å…¥è®°å½•å°†æ˜¯æœ€åä¸€ä¸ªåˆå¹¶çš„ï¼‰ã€‚ç„¶è€Œï¼Œåœ¨åˆ†å¸ƒå¼è®¡ç®—ä¸­ï¼Œä¼šæœ‰ä¸€äº›å¯¼è‡´æ•°æ®æ— åºçš„æƒ…å†µã€‚æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ—¶é—´å­—æ®µä½œä¸º <code>sequence.field</code>ï¼Œæ¯”å¦‚è¯´ï¼š</p>
<p>å½“è®°å½•è¢«æ›´æ–°æˆ–åˆ é™¤æ—¶ï¼Œ<code>sequence.field</code> å¿…é¡»å˜å¤§è€Œä¸èƒ½ä¿æŒä¸å˜ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨Mysql Binlog æ“ä½œæ—¶é—´ä½œä¸º <code>sequence.field</code>ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> MyTable (</span><br><span class="line">    pk <span class="type">BIGINT</span> <span class="keyword">PRIMARY</span> KEY <span class="keyword">NOT</span> ENFORCED,</span><br><span class="line">    v1 <span class="keyword">DOUBLE</span>,</span><br><span class="line">    v2 <span class="type">BIGINT</span>,</span><br><span class="line">    dt <span class="type">TIMESTAMP</span></span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;sequence.field&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;dt&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å…·æœ‰æœ€å¤§ <code>sequence.field</code> å€¼çš„è®°å½•å°†æœ€ååˆå¹¶ï¼Œè€Œä¸è€ƒè™‘è¾“å…¥é¡ºåºã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | ä»…è¿½åŠ è¡¨ï¼ˆAppend Only è¡¨ï¼‰</title>
    <url>/2023/06/10/paimon-concepts-append-only-table/</url>
    <content><![CDATA[<p>å¦‚æœä¸€ä¸ªè¡¨æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤æ˜¯ä¸€ä¸ª append-only è¡¨ã€‚</p>
<p>ä½ åªèƒ½å‘è¡¨ä¸­æ’å…¥å®Œæ•´çš„è®°å½•ã€‚ä¸æ”¯æŒåˆ é™¤æˆ–æ›´æ–°ï¼Œä¹Ÿä¸èƒ½å®šä¹‰ä¸»é”®ã€‚è¿™ç§ç±»å‹çš„è¡¨é€‚ç”¨äºä¸éœ€è¦æ›´æ–°çš„ç”¨ä¾‹ï¼ˆä¾‹å¦‚æ—¥å¿—æ•°æ®åŒæ­¥ï¼‰ã€‚</p>
<h2 id="åˆ†æ¡¶ï¼ˆBucketingï¼‰"><a href="#åˆ†æ¡¶ï¼ˆBucketingï¼‰" class="headerlink" title="åˆ†æ¡¶ï¼ˆBucketingï¼‰"></a>åˆ†æ¡¶ï¼ˆ<strong><strong>Bucketingï¼‰</strong></strong></h2><p>ä½ ä¹Ÿå¯ä»¥ä¸º Append-only è¡¨å®šä¹‰æ¡¶çš„æ•°é‡ï¼Œè§ Bucketã€‚</p>
<p>å»ºè®®è®¾ç½® <code>bucket-key</code> å­—æ®µã€‚å¦åˆ™ï¼Œæ•°æ®ä¼šæŒ‰ç…§æ•´è¡Œè¿›è¡Œæ•£åˆ—ï¼Œæ€§èƒ½ä¼šå¾ˆå·®ã€‚</p>
<h2 id="å‹ç¼©ï¼ˆCompactionï¼‰"><a href="#å‹ç¼©ï¼ˆCompactionï¼‰" class="headerlink" title="å‹ç¼©ï¼ˆCompactionï¼‰"></a>å‹ç¼©ï¼ˆ<strong><strong>Compaction</strong></strong>ï¼‰</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¥æ”¶èŠ‚ç‚¹ï¼ˆsink èŠ‚ç‚¹ï¼‰å°†è‡ªåŠ¨è¿›è¡Œå‹ç¼©ä»¥æ§åˆ¶æ–‡ä»¶æ•°é‡ã€‚ä»¥ä¸‹é€‰é¡¹æ§åˆ¶å‹ç¼©ç­–ç•¥ï¼š</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>é»˜è®¤å€¼</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>write-only</td>
<td>false</td>
<td>Boolean</td>
<td>å¦‚æœè®¾ç½®ä¸º trueï¼Œå‹ç¼©å’Œå¿«ç…§è¿‡æœŸå°†è¢«è·³è¿‡ã€‚æ­¤é€‰é¡¹ä¸ä¸“é—¨çš„å‹ç¼©ä½œä¸šä¸€èµ·ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td>compaction.min.file-num</td>
<td>5</td>
<td>Integer</td>
<td>å¯¹äºæ–‡ä»¶é›† [f_0,â€¦,f_N]ï¼Œæ»¡è¶³ sum(size(f_i)) &gt;= targetFileSize çš„æœ€å°æ–‡ä»¶æ•°ï¼Œä»¥è§¦å‘ä»…è¿½åŠ è¡¨çš„å‹ç¼©æ“ä½œã€‚æ­¤å€¼å¯é¿å…å‹ç¼©å‡ ä¹å®Œæ•´çš„æ–‡ä»¶ï¼Œè¿™ä¸ç¬¦åˆæˆæœ¬æ•ˆç›Šã€‚</td>
</tr>
<tr>
<td>compaction.max.file-num</td>
<td>50</td>
<td>Integer</td>
<td>å¯¹äºæ–‡ä»¶é›† [f_0,â€¦,f_N]ï¼Œè§¦å‘ä»…è¿½åŠ è¡¨å‹ç¼©çš„æœ€å¤§æ–‡ä»¶æ•°ï¼Œå³ä½¿ sum(size(f_i)) &lt; targetFileSizeã€‚è¯¥å€¼å¯é¿å…ä¿ç•™è¿‡å¤šçš„å°æ–‡ä»¶ï¼Œä»è€Œé™ä½æ€§èƒ½ã€‚</td>
</tr>
<tr>
<td>full-compaction.delta-commits</td>
<td>(none)</td>
<td>Integer</td>
<td>å…¨é‡å‹ç¼©å°†åœ¨å¢é‡æäº¤åä¸æ–­è§¦å‘ã€‚</td>
</tr>
</tbody></table>
<h2 id="æµæºï¼ˆStreaming-Sourceï¼‰"><a href="#æµæºï¼ˆStreaming-Sourceï¼‰" class="headerlink" title="æµæºï¼ˆStreaming Sourceï¼‰"></a>æµæºï¼ˆStreaming Sourceï¼‰</h2><p>ç›®å‰åªæœ‰ Flink å¼•æ“æ”¯æŒæµæºè¡Œä¸ºã€‚</p>
<h3 id="æµå¼è¯»å–é¡ºåº"><a href="#æµå¼è¯»å–é¡ºåº" class="headerlink" title="æµå¼è¯»å–é¡ºåº"></a>æµå¼è¯»å–é¡ºåº</h3><p>å¯¹äºæµå¼è¯»å–ï¼Œè®°å½•çš„ç”Ÿæˆé¡ºåºå¦‚ä¸‹ï¼š</p>
<ul>
<li>å¯¹äºæ¥è‡ªä¸¤ä¸ªä¸åŒåˆ†åŒºçš„ä»»æ„ä¸¤æ¡è®°å½•ï¼š<ul>
<li>å¦‚æœ <code>scan.plan-sort-partition</code> è®¾ç½®ä¸º trueï¼Œåˆ™å…ˆç”Ÿæˆåˆ†åŒºå€¼è¾ƒå°çš„è®°å½•ã€‚</li>
<li>å¦åˆ™ï¼Œå…ˆç”Ÿæˆåˆ†åŒºåˆ›å»ºæ—¶é—´è¾ƒæ—©çš„è®°å½•ã€‚</li>
</ul>
</li>
<li>å¯¹äºæ¥è‡ªåŒä¸€åˆ†åŒºå’ŒåŒä¸€æ¡¶çš„ä»»æ„ä¸¤æ¡è®°å½•ï¼Œå…ˆå†™å…¥çš„è®°å½•å…ˆäº§ç”Ÿã€‚</li>
<li>å¯¹äºæ¥è‡ªåŒä¸€åˆ†åŒºä½†ä¸¤ä¸ªä¸åŒæ¡¶çš„ä»»æ„ä¸¤æ¡è®°å½•ï¼Œä¸åŒçš„æ¡¶ç”±ä¸åŒçš„ä»»åŠ¡å¤„ç†ï¼Œå®ƒä»¬ä¹‹é—´æ²¡æœ‰é¡ºåºä¿è¯ã€‚</li>
</ul>
<h3 id="æ°´å°å®šä¹‰"><a href="#æ°´å°å®šä¹‰" class="headerlink" title="æ°´å°å®šä¹‰"></a>æ°´å°å®šä¹‰</h3><p>å¯ä»¥å®šä¹‰ç”¨äºè¯»å– Paimon è¡¨çš„æ°´å°ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> T (</span><br><span class="line">    `<span class="keyword">user</span>` <span class="type">BIGINT</span>,</span><br><span class="line">    product STRING,</span><br><span class="line">    order_time <span class="type">TIMESTAMP</span>(<span class="number">3</span>),</span><br><span class="line">    WATERMARK <span class="keyword">FOR</span> order_time <span class="keyword">AS</span> order_time <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="string">&#x27;5&#x27;</span> <span class="keyword">SECOND</span></span><br><span class="line">) <span class="keyword">WITH</span> (...);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- launch a bounded streaming job to read paimon_table</span></span><br><span class="line"><span class="keyword">SELECT</span> window_start, window_end, <span class="built_in">COUNT</span>(`<span class="keyword">user</span>`) <span class="keyword">FROM</span> <span class="keyword">TABLE</span>(</span><br><span class="line"> TUMBLE(<span class="keyword">TABLE</span> T, DESCRIPTOR(order_time), <span class="type">INTERVAL</span> <span class="string">&#x27;10&#x27;</span> MINUTES)) <span class="keyword">GROUP</span> <span class="keyword">BY</span> window_start, window_end;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å¯ç”¨ Flink æ°´å°å¯¹é½æœºåˆ¶ï¼Œè¿™å¯ä»¥ç¡®ä¿ä¸ä¼šæœ‰ sources/splits/shards/partitions å°†å…¶æ°´å°æå‰å¤ªè¿œ:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>é»˜è®¤å€¼</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>scan.watermark.alignment.group</td>
<td>(none)</td>
<td>String</td>
<td>ä¸€ç»„ç”¨äºå¯¹é½æ°´å°çš„æº</td>
</tr>
<tr>
<td>scan.watermark.alignment.max-drift</td>
<td>(none)</td>
<td>Duration</td>
<td>åœ¨æš‚åœæ¶ˆè´¹ source/task/partition ä¹‹å‰ç”¨äºå¯¹é½æ°´å°çš„æœ€å¤§åå·®ã€‚</td>
</tr>
</tbody></table>
<h3 id="æœ‰ç•Œæµï¼ˆBounded-Streamï¼‰"><a href="#æœ‰ç•Œæµï¼ˆBounded-Streamï¼‰" class="headerlink" title="æœ‰ç•Œæµï¼ˆBounded Streamï¼‰"></a>æœ‰ç•Œæµï¼ˆBounded Streamï¼‰</h3><p>æµæºä¹Ÿå¯ä»¥æ˜¯æœ‰ç•Œçš„ï¼Œå¯ä»¥æŒ‡å®šâ€œscan.bounded.watermarkâ€æ¥å®šä¹‰æœ‰ç•Œæµæ¨¡å¼çš„ç»“æŸæ¡ä»¶ï¼Œæµè¯»å–å°†ä¸€ç›´æŒç»­åˆ°é‡åˆ°ä¸€ä¸ªæ›´å¤§çš„å¿«ç…§æ°´å°ä¸ºæ­¢ã€‚</p>
<p>å¿«ç…§ä¸­çš„æ°´å°æ˜¯ç”±å†™å…¥å™¨ç”Ÿæˆçš„ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ª Kafka æºå’Œå£°æ˜æ°´å°çš„å®šä¹‰ã€‚å½“ä½¿ç”¨æ­¤ Kafka æºå‘ Paimon è¡¨å†™å…¥æ•°æ®æ—¶ï¼ŒPaimon è¡¨çš„å¿«ç…§ä¼šç”Ÿæˆç›¸åº”çš„æ°´å°ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æµå¼è¯»å–è¯¥ Paimon è¡¨æ—¶ä½¿ç”¨æœ‰ç•Œæ°´å°çš„åŠŸèƒ½ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> kafka_table (</span><br><span class="line">    `<span class="keyword">user</span>` <span class="type">BIGINT</span>,</span><br><span class="line">    product STRING,</span><br><span class="line">    order_time <span class="type">TIMESTAMP</span>(<span class="number">3</span>),</span><br><span class="line">    WATERMARK <span class="keyword">FOR</span> order_time <span class="keyword">AS</span> order_time <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="string">&#x27;5&#x27;</span> <span class="keyword">SECOND</span></span><br><span class="line">) <span class="keyword">WITH</span> (<span class="string">&#x27;connector&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;kafka&#x27;</span>...);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- launch a streaming insert job</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> paimon_table <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> kakfa_table;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- launch a bounded streaming job to read paimon_table</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> paimon_table <span class="comment">/*+ OPTIONS(&#x27;scan.bounded.watermark&#x27;=&#x27;...&#x27;) */</span>;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ›å»º Append-Only è¡¨å¹¶æŒ‡å®šæ¡¶é”®çš„ä¾‹å­ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> MyTable (</span><br><span class="line">    product_id <span class="type">BIGINT</span>,</span><br><span class="line">    price <span class="keyword">DOUBLE</span>,</span><br><span class="line">    sales <span class="type">BIGINT</span></span><br><span class="line">) <span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;bucket&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;8&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;bucket-key&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;product_id&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | åŸºæœ¬æ¦‚å¿µ</title>
    <url>/2023/06/10/paimon-concepts-basic-concepts/</url>
    <content><![CDATA[<h2 id="å¿«ç…§ï¼ˆSnapshotï¼‰"><a href="#å¿«ç…§ï¼ˆSnapshotï¼‰" class="headerlink" title="å¿«ç…§ï¼ˆSnapshotï¼‰"></a>å¿«ç…§<strong><strong>ï¼ˆ</strong></strong>Snapshot<strong><strong>ï¼‰</strong></strong></h2><p>å¿«ç…§æ•è·äº†ä¸€ä¸ªè¡¨åœ¨æŸä¸ªæ—¶é—´ç‚¹ä¸Šçš„çŠ¶æ€ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æœ€æ–°çš„å¿«ç…§æ¥è®¿é—®ä¸€ä¸ªè¡¨çš„æœ€æ–°æ•°æ®ã€‚é€šè¿‡æ—¶é—´æ—…è¡Œï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡è¾ƒæ—©çš„å¿«ç…§è®¿é—®è¡¨çš„å…ˆå‰çŠ¶æ€ã€‚</p>
<h2 id="åˆ†åŒºï¼ˆPartitionï¼‰"><a href="#åˆ†åŒºï¼ˆPartitionï¼‰" class="headerlink" title="åˆ†åŒºï¼ˆPartitionï¼‰"></a>åˆ†åŒºï¼ˆPartitionï¼‰</h2><p>Paimon é‡‡ç”¨äº†ä¸ Apache Hive ç›¸åŒçš„åˆ†åŒºæ¦‚å¿µæ¥åˆ†ç¦»æ•°æ®ã€‚</p>
<p>åˆ†åŒºæ˜¯ä¸€ç§å¯é€‰çš„æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®ç‰¹å®šåˆ—çš„å€¼ï¼ˆå¦‚æ—¥æœŸã€åŸå¸‚å’Œéƒ¨é—¨ç­‰ï¼‰å°†è¡¨åˆ’åˆ†ä¸ºç›¸å…³éƒ¨åˆ†ã€‚æ¯ä¸ªè¡¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†åŒºé”®æ¥æ ‡è¯†ä¸€ä¸ªç‰¹å®šçš„åˆ†åŒºã€‚</p>
<p>é€šè¿‡åˆ†åŒºï¼Œç”¨æˆ·å¯ä»¥é«˜æ•ˆåœ°å¯¹è¡¨ä¸­çš„æŸä¸€è®°å½•åˆ‡ç‰‡è¿›è¡Œæ“ä½œã€‚æœ‰å…³å¦‚ä½•å°†æ–‡ä»¶åˆ’åˆ†ä¸ºå¤šä¸ªåˆ†åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§æ–‡ä»¶å¸ƒå±€ã€‚</p>
<blockquote>
<p>å¦‚æœå®šä¹‰äº†ä¸»é”®ï¼Œåˆ†åŒºé”®å¿…é¡»æ˜¯ä¸»é”®çš„ä¸€ä¸ªå­é›†ã€‚</p>
</blockquote>
<h2 id="æ¡¶ï¼ˆBucketï¼‰"><a href="#æ¡¶ï¼ˆBucketï¼‰" class="headerlink" title="æ¡¶ï¼ˆBucketï¼‰"></a>æ¡¶<strong><strong>ï¼ˆ</strong></strong>Bucket<strong><strong>ï¼‰</strong></strong></h2><p>éåˆ†åŒºçš„è¡¨æˆ–åˆ†åŒºè¡¨ä¸­çš„åˆ†åŒºä¼šè¢«ç»†åˆ†ä¸ºæ¡¶ï¼Œä»¥ä¾¿ä¸ºæ•°æ®æä¾›é¢å¤–çš„ç»“æ„ï¼Œè¿™å¯ç”¨äºæ›´æœ‰æ•ˆçš„æŸ¥è¯¢ã€‚</p>
<p>ä¸€ä¸ªæ¡¶çš„èŒƒå›´æ˜¯ç”±è®°å½•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å“ˆå¸Œå€¼å†³å®šçš„ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æä¾› <code>bucket-key</code> é€‰é¡¹æ¥æŒ‡å®šæ¡¶çš„åˆ—ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š <code>bucket-key</code> é€‰é¡¹ï¼Œå°†ä½¿ç”¨ä¸»é”®ï¼ˆå¦‚æœå®šä¹‰äº†çš„è¯ï¼‰æˆ–å®Œæ•´è®°å½•ä½œä¸ºæ¡¶çš„é”®ã€‚</p>
<p>æ¡¶æ˜¯æœ€å°çš„è¯»å†™å­˜å‚¨å•å…ƒï¼Œæ‰€ä»¥æ¡¶çš„æ•°é‡é™åˆ¶äº†æœ€å¤§çš„å¤„ç†å¹¶è¡Œåº¦ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªæ•°å­—ä¸åº”è¯¥å¤ªå¤§ï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´å¤§é‡çš„å°æ–‡ä»¶å’Œä½è¯»å–æ€§èƒ½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå»ºè®®æ¯ä¸ªæ¡¶çš„æ•°æ®å¤§å°çº¦ä¸º 1GBã€‚</p>
<p>æœ‰å…³æ–‡ä»¶å¦‚ä½•åˆ’åˆ†ä¸ºæ¡¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§æ–‡ä»¶å¸ƒå±€ã€‚å¦å¤–ï¼Œå¦‚æœæƒ³åœ¨åˆ›å»ºè¡¨åè°ƒæ•´æ¡¶æ•°çš„é‡ï¼Œè¯·å‚è§<a href="https://paimon.apache.org/docs/0.4/maintenance/rescale-bucket/">è°ƒæ•´æ¡¶å¤§å°</a>ã€‚</p>
<h2 id="ä¸€è‡´æ€§ä¿è¯ï¼ˆConsistency-Guaranteesï¼‰"><a href="#ä¸€è‡´æ€§ä¿è¯ï¼ˆConsistency-Guaranteesï¼‰" class="headerlink" title="ä¸€è‡´æ€§ä¿è¯ï¼ˆConsistency Guaranteesï¼‰"></a>ä¸€è‡´æ€§ä¿è¯ï¼ˆConsistency Guaranteesï¼‰</h2><p>Paimon å†™å…¥å™¨ï¼ˆwritersï¼‰ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤åè®®ï¼Œå°†ä¸€æ‰¹è®°å½•åŸå­åœ°æäº¤åˆ°è¡¨ä¸­ã€‚æ¯æ¬¡æäº¤æœ€å¤šäº§ç”Ÿä¸¤ä¸ªå¿«ç…§ã€‚</p>
<p>å¯¹äºä»»ä½•ä¸¤ä¸ªåŒæ—¶ä¿®æ”¹åŒä¸€å¼ è¡¨çš„å†™å…¥å™¨æ¥è¯´ï¼Œåªè¦ä»–ä»¬ä¸ä¿®æ”¹åŒä¸€ä¸ªæ¡¶ï¼Œä»–ä»¬çš„æäº¤æ˜¯å¯ä¸²è¡ŒåŒ–çš„ã€‚å¦‚æœä»–ä»¬ä¿®æ”¹åŒä¸€ä¸ªæ¡¶ï¼Œåˆ™åªèƒ½ä¿è¯å¿«ç…§çš„éš”ç¦»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€ç»ˆçš„è¡¨çŠ¶æ€å¯èƒ½æ˜¯ä¸¤ä¸ªæäº¤çš„æ··åˆä½“ï¼Œä½†ä¸ä¼šä¸¢å¤±ä»»ä½•å˜æ›´ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | æ–‡ä»¶å¸ƒå±€</title>
    <url>/2023/06/10/paimon-concepts-file-layouts/</url>
    <content><![CDATA[<p>ä¸€ä¸ªè¡¨çš„æ‰€æœ‰æ–‡ä»¶éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªåŸºæœ¬ç›®å½•ä¸‹ã€‚Paimon æ–‡ä»¶æ˜¯ä»¥åˆ†å±‚çš„æ–¹å¼ç»„ç»‡çš„ã€‚ä¸‹å›¾è¯´æ˜äº†æ–‡ä»¶çš„å¸ƒå±€ã€‚ä»ä¸€ä¸ªå¿«ç…§æ–‡ä»¶å¼€å§‹ï¼ŒPaimon è¯»å–å™¨å¯ä»¥é€’å½’åœ°è®¿é—®è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚</p>
<p><img src="/image/paimon/file-layouts.png" alt="Paimonæ–‡ä»¶å¸ƒå±€"></p>
<h2 id="å¿«ç…§æ–‡ä»¶ï¼ˆSnapshot-Filesï¼‰"><a href="#å¿«ç…§æ–‡ä»¶ï¼ˆSnapshot-Filesï¼‰" class="headerlink" title="å¿«ç…§æ–‡ä»¶ï¼ˆSnapshot Filesï¼‰"></a>å¿«ç…§æ–‡ä»¶ï¼ˆSnapshot Filesï¼‰</h2><p>æ‰€æœ‰çš„å¿«ç…§æ–‡ä»¶éƒ½å­˜å‚¨åœ¨ <code>snapshot</code> ç›®å½•ä¸­ã€‚</p>
<p>ä¸€ä¸ªå¿«ç…§æ–‡ä»¶æ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ï¼ŒåŒ…å«æœ‰å…³æ­¤å¿«ç…§çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ä½¿ç”¨çš„æ¨¡å¼æ–‡ä»¶</li>
<li>åŒ…å«æ­¤å¿«ç…§ä¸­æ‰€æœ‰æ›´æ”¹çš„æ¸…å•åˆ—è¡¨</li>
</ul>
<h2 id="æ¸…å•æ–‡ä»¶ï¼ˆManifest-Filesï¼‰"><a href="#æ¸…å•æ–‡ä»¶ï¼ˆManifest-Filesï¼‰" class="headerlink" title="æ¸…å•æ–‡ä»¶ï¼ˆManifest Filesï¼‰"></a>æ¸…å•æ–‡ä»¶ï¼ˆManifest Filesï¼‰</h2><p>æ‰€æœ‰æ¸…å•åˆ—è¡¨å’Œæ¸…å•æ–‡ä»¶éƒ½å­˜å‚¨åœ¨ <code>manifest</code> ç›®å½•ä¸­ã€‚</p>
<p>æ¸…å•åˆ—è¡¨æ˜¯æ¸…å•æ–‡ä»¶åç§°çš„åˆ—è¡¨ã€‚</p>
<p>æ¸…å•æ–‡ä»¶æ˜¯ä¸€ä¸ªåŒ…å«æœ‰å…³ LSM æ•°æ®æ–‡ä»¶å’Œå˜æ›´æ—¥å¿—æ–‡ä»¶çš„å˜æ›´æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ç›¸åº”çš„å¿«ç…§ä¸­ï¼Œå“ªä¸ª LSM æ•°æ®æ–‡ä»¶è¢«åˆ›å»ºï¼Œå“ªä¸ªæ–‡ä»¶è¢«åˆ é™¤ã€‚</p>
<h2 id="æ•°æ®æ–‡ä»¶ï¼ˆData-Filesï¼‰"><a href="#æ•°æ®æ–‡ä»¶ï¼ˆData-Filesï¼‰" class="headerlink" title="æ•°æ®æ–‡ä»¶ï¼ˆData Filesï¼‰"></a>æ•°æ®æ–‡ä»¶ï¼ˆData Filesï¼‰</h2><p>æ•°æ®æ–‡ä»¶æ˜¯æŒ‰åˆ†åŒºå’Œæ¡¶ç»„ç»‡çš„ã€‚æ¯ä¸ªæ¡¶ç›®å½•åŒ…å«ä¸€ä¸ª LSM æ ‘åŠå…¶å˜æ›´æ—¥å¿—æ–‡ä»¶ã€‚</p>
<p>ç›®å‰ï¼ŒPaimon æ”¯æŒä½¿ç”¨ orcï¼ˆé»˜è®¤ï¼‰ã€parquet å’Œ avro ä½œä¸ºæ•°æ®æ–‡ä»¶çš„æ ¼å¼ã€‚</p>
<h2 id="LSM-æ ‘ï¼ˆLSM-Treesï¼‰"><a href="#LSM-æ ‘ï¼ˆLSM-Treesï¼‰" class="headerlink" title="LSM æ ‘ï¼ˆLSM Treesï¼‰"></a>LSM æ ‘ï¼ˆLSM Treesï¼‰</h2><p>Paimon é‡‡ç”¨ LSM æ ‘ï¼ˆlog-structured merge-treeï¼Œæ—¥å¿—ç»“æ„åˆå¹¶æ ‘ï¼‰ä½œä¸ºæ–‡ä»¶å­˜å‚¨çš„æ•°æ®ç»“æ„ã€‚æœ¬æ–‡æ¡£ç®€è¦ä»‹ç»äº† LSM æ ‘çš„æ¦‚å¿µã€‚</p>
<h3 id="Sorted-Runsï¼ˆæœ‰åºæ®µï¼‰"><a href="#Sorted-Runsï¼ˆæœ‰åºæ®µï¼‰" class="headerlink" title="Sorted Runsï¼ˆæœ‰åºæ®µï¼‰"></a>Sorted Runsï¼ˆæœ‰åºæ®µï¼‰</h3><p>LSM æ ‘å°†æ–‡ä»¶ç»„ç»‡æˆå‡ ä¸ª Sorted Runã€‚ä¸€ä¸ª Sorted Run ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æ–‡ä»¶ç»„æˆï¼Œæ¯ä¸ªæ•°æ®æ–‡ä»¶æ­£å¥½å±äºä¸€ä¸ª Sorted Runã€‚</p>
<p>æ•°æ®æ–‡ä»¶å†…çš„è®°å½•æŒ‰å…¶ä¸»é”®è¿›è¡Œæ’åºã€‚åœ¨ä¸€ä¸ª Sorted Run ä¸­ï¼Œæ•°æ®æ–‡ä»¶çš„ä¸»é”®èŒƒå›´ä¸ä¼šé‡å ã€‚</p>
<p><img src="/image/paimon/lsm-sorted-run.png" alt="Sorted Runs"></p>
<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä¸åŒçš„ Sorted Run å¯èƒ½æœ‰é‡å çš„ä¸»é”®èŒƒå›´ï¼Œç”šè‡³å¯èƒ½åŒ…å«ç›¸åŒçš„ä¸»é”®ã€‚å½“æŸ¥è¯¢ LSM æ ‘æ—¶ï¼Œå¿…é¡»åˆå¹¶æ‰€æœ‰ Sorted Runï¼Œæ‰€æœ‰å…·æœ‰ç›¸åŒä¸»é”®çš„è®°å½•å¿…é¡»æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„åˆå¹¶å¼•æ“å’Œæ¯ä¸ªè®°å½•çš„æ—¶é—´æˆ³è¿›è¡Œåˆå¹¶ã€‚</p>
<p>å†™å…¥ LSM æ ‘çš„æ–°è®°å½•é¦–å…ˆä¼šç¼“å†²åœ¨å†…å­˜ä¸­ã€‚å½“å†…å­˜ç¼“å†²åŒºæ»¡æ—¶ï¼Œå†…å­˜ä¸­çš„æ‰€æœ‰è®°å½•å°†è¢«æ’åºå¹¶åˆ·æ–°åˆ°ç£ç›˜ã€‚è¿™æ—¶ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Sorted Runã€‚</p>
<h3 id="Compactionï¼ˆå‹ç¼©ï¼‰"><a href="#Compactionï¼ˆå‹ç¼©ï¼‰" class="headerlink" title="Compactionï¼ˆå‹ç¼©ï¼‰"></a>Compactionï¼ˆå‹ç¼©ï¼‰</h3><p>å½“è¶Šæ¥è¶Šå¤šçš„è®°å½•å†™å…¥ LSM æ ‘æ—¶ï¼ŒSorted Run çš„æ•°é‡ä¼šå¢åŠ ã€‚å› ä¸ºæŸ¥è¯¢ LSM æ ‘éœ€è¦åˆå¹¶æ‰€æœ‰çš„ Sorted Runï¼Œå¤ªå¤šçš„ Sorted Run ä¼šå¯¼è‡´æŸ¥è¯¢æ€§èƒ½å˜å·®ï¼Œç”šè‡³æ˜¯å†…å­˜æº¢å‡ºã€‚</p>
<p>ä¸ºäº†é™åˆ¶ Sorted Run çš„æ•°é‡ï¼Œæˆ‘ä»¬å¿…é¡»ä¸æ—¶åœ°å°†å‡ ä¸ª Sorted Run åˆå¹¶æˆä¸€ä¸ªå¤§çš„ Sorted Runã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º Compactionï¼ˆå‹ç¼©ï¼‰ã€‚</p>
<p>ç„¶è€Œï¼ŒCompaction æ“ä½œæ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹çš„è¿‡ç¨‹ï¼Œä¼šæ¶ˆè€—ä¸€å®šçš„ CPU æ—¶é—´å’Œç£ç›˜ IOï¼Œæ‰€ä»¥å¤ªé¢‘ç¹çš„ Compaction å¯èƒ½ä¼šåè¿‡æ¥å¯¼è‡´å†™å…¥é€Ÿåº¦å˜æ…¢ã€‚è¿™æ˜¯ä¸€ä¸ªåœ¨æŸ¥è¯¢æ€§èƒ½å’Œå†™å…¥æ€§èƒ½ä¹‹é—´çš„æƒè¡¡ã€‚Paimon ç›®å‰é‡‡ç”¨ä¸ Rocksdb çš„é€šç”¨å‹ç¼©ç­–ç•¥ç±»ä¼¼çš„ Compaction ç­–ç•¥ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ Paimon å†™å…¥å™¨å‘ LSM æ ‘è¿½åŠ è®°å½•æ—¶ï¼Œä»–ä»¬ä¹Ÿä¼šæ ¹æ®éœ€è¦è¿›è¡Œ Compactionã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨ä¸€ä¸ªä¸“é—¨çš„ Compaction ä½œä¸šä¸­æ‰§è¡Œæ‰€æœ‰çš„ Compactionã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ä¸“ç”¨ Compaction ä½œä¸šã€‚</p>
<h2 id="æ–‡ä»¶å¸ƒå±€ç¤ºä¾‹"><a href="#æ–‡ä»¶å¸ƒå±€ç¤ºä¾‹" class="headerlink" title="æ–‡ä»¶å¸ƒå±€ç¤ºä¾‹"></a>æ–‡ä»¶å¸ƒå±€ç¤ºä¾‹</h2><p>Paimon è¡¨ <code>dwd_user</code> çš„ä¸€çº§ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hadoop fs -<span class="built_in">ls</span> /fts/default.db/dwd_user</span><br><span class="line">Found 4 items</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:37 /fts/default.db/dwd_user/bucket-0</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:37 /fts/default.db/dwd_user/manifest</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-02-12 19:05 /fts/default.db/dwd_user/schema</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:37 /fts/default.db/dwd_user/snapshot</span><br></pre></td></tr></table></figure>

<p>Paimon è¡¨ <code>dwd_user</code> çš„å­ç›®å½•å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hadoop fs -<span class="built_in">ls</span> -R /fts/default.db/dwd_user/</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:31 /fts/default.db/dwd_user/bucket-0</span><br><span class="line">-rw-r--r--   3 hadoop hdfs          0 2023-05-17 18:35 /fts/default.db/dwd_user/bucket-0/data-0c690527-c8de-4f50-8937-63d727cdfbad-51.orc</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       8092 2023-06-10 13:25 /fts/default.db/dwd_user/bucket-0/data-45105a64-dedc-42b6-be47-1e40334a802a-119.orc</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       9860 2023-06-10 13:28 /fts/default.db/dwd_user/bucket-0/data-45105a64-dedc-42b6-be47-1e40334a802a-120.orc</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       9788 2023-06-10 13:31 /fts/default.db/dwd_user/bucket-0/data-45105a64-dedc-42b6-be47-1e40334a802a-121.orc</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       9400 2023-06-10 13:34 /fts/default.db/dwd_user/bucket-0/data-45105a64-dedc-42b6-be47-1e40334a802a-122.orc</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:31 /fts/default.db/dwd_user/manifest</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       3973 2023-06-10 13:31 /fts/default.db/dwd_user/manifest/manifest-5d06962a-5f92-4235-a383-b6e4ccae4ed2-6186</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       2396 2023-06-10 13:31 /fts/default.db/dwd_user/manifest/manifest-5d06962a-5f92-4235-a383-b6e4ccae4ed2-6187</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       2353 2023-06-10 13:34 /fts/default.db/dwd_user/manifest/manifest-5d06962a-5f92-4235-a383-b6e4ccae4ed2-6188</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-02-12 19:05 /fts/default.db/dwd_user/schema</span><br><span class="line">-rw-r--r--   3 hadoop hdfs       3714 2023-02-12 19:05 /fts/default.db/dwd_user/schema/schema-0</span><br><span class="line">drwxr-xr-x   - hadoop hdfs          0 2023-06-10 14:31 /fts/default.db/dwd_user/snapshot</span><br><span class="line">-rw-r--r--   3 hadoop hdfs          5 2023-06-10 14:28 /fts/default.db/dwd_user/snapshot/EARLIEST</span><br><span class="line">-rw-r--r--   3 hadoop hdfs          5 2023-06-10 14:31 /fts/default.db/dwd_user/snapshot/LATEST</span><br><span class="line">-rw-r--r--   3 hadoop hdfs        422 2023-06-10 13:31 /fts/default.db/dwd_user/snapshot/snapshot-66591</span><br><span class="line">-rw-r--r--   3 hadoop hdfs        422 2023-06-10 13:34 /fts/default.db/dwd_user/snapshot/snapshot-66592</span><br><span class="line">-rw-r--r--   3 hadoop hdfs        422 2023-06-10 13:37 /fts/default.db/dwd_user/snapshot/snapshot-66593</span><br><span class="line">-rw-r--r--   3 hadoop hdfs        422 2023-06-10 13:40 /fts/default.db/dwd_user/snapshot/snapshot-66594</span><br><span class="line">-rw-r--r--   3 hadoop hdfs        423 2023-06-10 13:40 /fts/default.db/dwd_user/snapshot/snapshot-66595</span><br></pre></td></tr></table></figure>

<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | æ–‡ä»¶æ“ä½œ</title>
    <url>/2023/06/10/paimon-concepts-file-operations/</url>
    <content><![CDATA[<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å„ç§æ–‡ä»¶æ“ä½œå¯¹æ–‡ä»¶äº§ç”Ÿçš„å½±å“ã€‚æ–‡ç« æä¾›å…·ä½“çš„ä¾‹å­å’Œå®ç”¨æŠ€å·§ï¼Œè¯´æ˜ Paimon æ˜¯å¦‚ä½•æœ‰æ•ˆç®¡ç†æ–‡ä»¶çš„ã€‚æ­¤å¤–ï¼Œé€šè¿‡å¯¹æäº¤ï¼ˆcommitï¼‰å’Œå‹ç¼©ï¼ˆcompactï¼‰ç­‰æ“ä½œçš„æ·±å…¥å‰–æï¼Œæ—¨åœ¨åŠ æ·±å¯¹æ–‡ä»¶çš„åˆ›å»ºå’Œæ›´æ–°çš„ç†è§£ã€‚</p>
<h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><p>åœ¨æ·±å…¥é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œæœ¬æ–‡å‡è®¾ä½ å·²ç»äº†è§£äº†ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>Paimon åŸºæœ¬æ¦‚å¿µï¼›</li>
<li>Paimon æ–‡ä»¶å¸ƒå±€ï¼›</li>
<li>å¦‚ä½•åœ¨ Flink ä¸­ä½¿ç”¨ Paimonã€‚</li>
</ul>
<h2 id="åˆ›å»ºç›®å½•"><a href="#åˆ›å»ºç›®å½•" class="headerlink" title="åˆ›å»ºç›®å½•"></a><strong><strong>åˆ›å»ºç›®å½•</strong></strong></h2><p>é€šè¿‡ <code>./sql-client.sh</code> å¯åŠ¨ Flink SQL å®¢æˆ·ç«¯ï¼Œå¹¶é€ä¸€æ‰§è¡Œä»¥ä¸‹è¯­å¥æ¥åˆ›å»º Paimon ç›®å½•ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> CATALOG paimon <span class="keyword">WITH</span> (</span><br><span class="line"><span class="string">&#x27;type&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;paimon&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;warehouse&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;file:///tmp/paimon&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">USE CATALOG paimon;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥åˆ›å»ºç›®å½•è¯­å¥ä¼šåœ¨ç»™å®šçš„è·¯å¾„ <em>file:///tmp/paimon</em> åˆ›å»ºä¸€ä¸ªç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> /tmp/paimon</span><br><span class="line">default.db</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a><strong><strong>åˆ›å»ºè¡¨</strong></strong></h2><p>æ‰§è¡Œä¸‹é¢çš„åˆ›å»ºè¡¨è¯­å¥ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰ 3 ä¸ªå­—æ®µçš„ Paimon è¡¨ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> T (</span><br><span class="line">  id <span class="type">BIGINT</span>,</span><br><span class="line">  a <span class="type">INT</span>,</span><br><span class="line">  b STRING,</span><br><span class="line">  dt STRING COMMENT <span class="string">&#x27;timestamp string in format yyyyMMdd&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY(id, dt) <span class="keyword">NOT</span> ENFORCED</span><br><span class="line">) PARTITIONED <span class="keyword">BY</span> (dt) <span class="keyword">WITH</span> (</span><br><span class="line">		<span class="string">&#x27;write-mode&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;change-log&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;merge-engine&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;deduplicate&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥åˆ›å»ºè¡¨è¯­å¥ä¼šåœ¨è·¯å¾„ <em>/tmp/paimon/default.db/T</em> ä¸‹åˆ›å»º Paimon è¡¨ Tï¼Œå…¶æ¨¡å¼å­˜å‚¨åœ¨ <em>/tmp/paimon/default.db/T/schema/schema-0</em> ä¸­ã€‚</p>
<p>ä½¿ç”¨ <code>tree</code> å‘½ä»¤ä»¥æ ‘çŠ¶æ ¼å¼åˆ—å‡ºå½“å‰ Catalog ä¸‹çš„å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tree /tmp/paimon/</span><br><span class="line">/tmp/paimon/</span><br><span class="line">â””â”€â”€ default.db</span><br><span class="line">    â””â”€â”€ T</span><br><span class="line">        â””â”€â”€ schema</span><br><span class="line">            â””â”€â”€ schema-0</span><br><span class="line"></span><br><span class="line">3 directories, 1 file</span><br></pre></td></tr></table></figure>

<h2 id="å‘è¡¨ä¸­æ’å…¥è®°å½•"><a href="#å‘è¡¨ä¸­æ’å…¥è®°å½•" class="headerlink" title="å‘è¡¨ä¸­æ’å…¥è®°å½•"></a><strong><strong>å‘è¡¨ä¸­æ’å…¥è®°å½•</strong></strong></h2><p>åœ¨ Flink SQL ä¸­è¿è¡Œä»¥ä¸‹æ’å…¥è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> T <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="number">10001</span>, <span class="string">&#x27;varchar00001&#x27;</span>, <span class="string">&#x27;20230501&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸€æ—¦ Flink ä»»åŠ¡å®Œæˆï¼Œè®°å½•å°±ä¼šé€šè¿‡ä¸€æ¬¡æˆåŠŸçš„ <code>commit</code> å†™å…¥ Paimon è¡¨ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡æ‰§è¡ŒæŸ¥è¯¢ <code>SELECT * FROM T</code> æ¥éªŒè¯è¿™äº›è®°å½•çš„å¯è§æ€§ï¼Œè¿™å°†è¿”å›ä¸€è¡Œè®°å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id           a                              b                             dt</span><br><span class="line"> 1       10001                   varchar00001                       20230501</span><br></pre></td></tr></table></figure>

<p>æäº¤è¿‡ç¨‹ä¼šåœ¨è·¯å¾„ <code>/tmp/paimon/default.db/T/snapshot/snapshot-1</code> ä¸‹åˆ›å»ºä¸€ä¸ªå¿«ç…§ã€‚å¿«ç…§ snapshot-1 çš„æœ€ç»ˆæ–‡ä»¶å¸ƒå±€å¦‚ä¸‹æ‰€è¿°ï¼š</p>
<p><img src="/image/paimon/snapshot-1.png" alt="snapshot-1"></p>
<p>ä½¿ç”¨ <code>tree</code> å‘½ä»¤ä»¥æ ‘çŠ¶æ ¼å¼åˆ—å‡ºå½“å‰ Catalog ä¸‹çš„å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tree /tmp/paimon/</span><br><span class="line">/tmp/paimon/</span><br><span class="line">â””â”€â”€ default.db</span><br><span class="line">    â””â”€â”€ T</span><br><span class="line">        â”œâ”€â”€ dt=20230501</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-c4f3cde1-8759-4f69-abc2-da6bea4911a1-0.orc</span><br><span class="line">        â”œâ”€â”€ manifest</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</span><br><span class="line">        â”‚Â Â  â””â”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</span><br><span class="line">        â”œâ”€â”€ schema</span><br><span class="line">        â”‚Â Â  â””â”€â”€ schema-0</span><br><span class="line">        â””â”€â”€ snapshot</span><br><span class="line">            â”œâ”€â”€ EARLIEST</span><br><span class="line">            â”œâ”€â”€ LATEST</span><br><span class="line">            â””â”€â”€ snapshot-1</span><br><span class="line"></span><br><span class="line">7 directories, 8 files</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>vim</code> å‘½ä»¤æŸ¥çœ‹ snapshot-1 çš„å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /tmp/paimon/default.db/T/snapshot/snapshot-1</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¯¥å¿«ç…§æ–‡ä»¶å†…å®¹åŒ…å«å¿«ç…§çš„å…ƒæ•°æ®ï¼Œå¦‚æ¸…å•å’Œæ¨¡å¼ IDï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span> <span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;schemaId&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;baseManifestList&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deltaManifestList&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;changelogManifestList&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitUser&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;14c360cd-2141-4e0f-b4b7-a16de9c94bbf&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitIdentifier&quot;</span> <span class="punctuation">:</span> <span class="number">9223372036854775807</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitKind&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;APPEND&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeMillis&quot;</span> <span class="punctuation">:</span> <span class="number">1686362112672</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;logOffsets&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;totalRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deltaRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;changelogRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;watermark&quot;</span> <span class="punctuation">:</span> <span class="number">-9223372036854775808</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œæ¸…å•åˆ—è¡¨åŒ…å«å¿«ç…§çš„æ‰€æœ‰æ›´æ”¹ï¼Œ<code>baseManifestList</code> æ˜¯åº”ç”¨ <code>deltaManifestList</code> ä¸­çš„æ›´æ”¹çš„åŸºç¡€æ–‡ä»¶ã€‚ç¬¬ä¸€æ¬¡æäº¤ä¼šäº§ç”Ÿ 1 ä¸ªæ¸…å•æ–‡ä»¶ï¼Œå¹¶åˆ›å»º 2 ä¸ªæ¸…å•åˆ—è¡¨ï¼ˆæ–‡ä»¶åç§°å¯èƒ½ä¸ä½ çš„å®éªŒä¸­çš„æ–‡ä»¶åç§°ä¸åŒï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ll /tmp/paimon/default.db/T/manifest</span><br><span class="line">total 12K</span><br><span class="line">-rw-r--r-- 1 root root 1.7K Jun 10 09:55 manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</span><br><span class="line">-rw-r--r-- 1 root root  676 Jun 10 09:55 manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</span><br><span class="line">-rw-r--r-- 1 root root  794 Jun 10 09:55 manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</span><br></pre></td></tr></table></figure>

<p><code>manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</code> æ˜¯æ¸…å•æ–‡ä»¶ï¼ˆmanifest æ–‡ä»¶ï¼‰ï¼Œå¯¹åº”ä¸Šå›¾ä¸­çš„ <code>manifest-1-0</code>ï¼Œå®ƒå­˜å‚¨äº†å¿«ç…§ä¸­æ•°æ®æ–‡ä»¶çš„ä¿¡æ¯ã€‚</p>
<p><code>manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</code> æ˜¯ <code>baseManifestList</code>ï¼ˆä¸Šå›¾ä¸­çš„ <code>manifest-list-1-base</code>ï¼‰ï¼Œå®ƒå®é™…ä¸Šæ˜¯ç©ºçš„ã€‚</p>
<p><code>manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</code> æ˜¯ <code>deltaManifestList</code>ï¼ˆä¸Šå›¾ä¸­çš„ <code>manifest-list-1-delta</code>ï¼‰ï¼Œå®ƒåŒ…å«äº†å¯¹æ•°æ®æ–‡ä»¶æ‰§è¡Œæ“ä½œçš„æ¸…å•æ¡ç›®åˆ—è¡¨ï¼Œåœ¨æœ¬ä¾‹ä¸­ä¸º <code>manifest-1-0</code>ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ’å…¥å¤šæ¡è®°å½•ï¼Œè¿™äº›è®°å½•åˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºä¸­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<p>åœ¨ Flink SQL ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> T <span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">2</span>, <span class="number">10002</span>, <span class="string">&#x27;varchar00002&#x27;</span>, <span class="string">&#x27;20230502&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="number">10003</span>, <span class="string">&#x27;varchar00003&#x27;</span>, <span class="string">&#x27;20230503&#x27;</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="number">10004</span>, <span class="string">&#x27;varchar00004&#x27;</span>, <span class="string">&#x27;20230504&#x27;</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="number">10005</span>, <span class="string">&#x27;varchar00005&#x27;</span>, <span class="string">&#x27;20230505&#x27;</span>),</span><br><span class="line">(<span class="number">6</span>, <span class="number">10006</span>, <span class="string">&#x27;varchar00006&#x27;</span>, <span class="string">&#x27;20230506&#x27;</span>),</span><br><span class="line">(<span class="number">7</span>, <span class="number">10007</span>, <span class="string">&#x27;varchar00007&#x27;</span>, <span class="string">&#x27;20230507&#x27;</span>),</span><br><span class="line">(<span class="number">8</span>, <span class="number">10008</span>, <span class="string">&#x27;varchar00008&#x27;</span>, <span class="string">&#x27;20230508&#x27;</span>),</span><br><span class="line">(<span class="number">9</span>, <span class="number">10009</span>, <span class="string">&#x27;varchar00009&#x27;</span>, <span class="string">&#x27;20230509&#x27;</span>),</span><br><span class="line">(<span class="number">10</span>, <span class="number">10010</span>, <span class="string">&#x27;varchar00010&#x27;</span>, <span class="string">&#x27;20230510&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ¬¡ <code>commit</code> åï¼Œæ‰§è¡Œ <code>SELECT * FROM T</code> å°†è¿”å› 10 æ¡è®°å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">id</span>           a                              b                             dt</span><br><span class="line"> 1       10001                   varchar00001                       20230501</span><br><span class="line"> 3       10003                   varchar00003                       20230503</span><br><span class="line">10       10010                   varchar00010                       20230510</span><br><span class="line"> 8       10008                   varchar00008                       20230508</span><br><span class="line"> 4       10004                   varchar00004                       20230504</span><br><span class="line"> 9       10009                   varchar00009                       20230509</span><br><span class="line"> 7       10007                   varchar00007                       20230507</span><br><span class="line"> 2       10002                   varchar00002                       20230502</span><br><span class="line"> 5       10005                   varchar00005                       20230505</span><br><span class="line"> 6       10006                   varchar00006                       20230506</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ¬¡ <code>commit</code> åï¼ŒåŒæ ·ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¿«ç…§ï¼Œå³ snapshot-2ï¼Œä½¿ç”¨ <code>ls -atR</code> æŸ¥çœ‹ç‰©ç†æ–‡ä»¶å¸ƒå±€å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -atR /tmp/paimon/default.db/T</span><br><span class="line">/tmp/paimon/default.db/T:</span><br><span class="line"> snapshot  <span class="string">&#x27;dt=20230506&#x27;</span>  <span class="string">&#x27;dt=20230505&#x27;</span>  <span class="string">&#x27;dt=20230507&#x27;</span>  <span class="string">&#x27;dt=20230504&#x27;</span>  <span class="string">&#x27;dt=20230510&#x27;</span>  <span class="string">&#x27;dt=20230501&#x27;</span>   ..</span><br><span class="line"> manifest   .             <span class="string">&#x27;dt=20230502&#x27;</span>  <span class="string">&#x27;dt=20230509&#x27;</span>  <span class="string">&#x27;dt=20230508&#x27;</span>  <span class="string">&#x27;dt=20230503&#x27;</span>   schema</span><br><span class="line"></span><br><span class="line">/tmp/paimon/default.db/T/snapshot:</span><br><span class="line">.  LATEST  snapshot-2  ..  EARLIEST  snapshot-1</span><br><span class="line"></span><br><span class="line">/tmp/paimon/default.db/T/manifest:</span><br><span class="line">manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-1  ..</span><br><span class="line">.                                                     manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</span><br><span class="line">manifest-16b42374-154b-4aaf-8d15-2aa0ba41ade1-0       manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</span><br><span class="line">manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-0  manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230506&#x27;</span>:</span><br><span class="line">bucket-0  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230506/bucket-0&#x27;</span>:</span><br><span class="line">data-f416780e-d673-49e3-b3e3-bbe390e9c00c-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230505&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230505/bucket-0&#x27;</span>:</span><br><span class="line">data-78c70a1f-f51c-4ebd-822d-2f1f4a47ef9f-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230502&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230502/bucket-0&#x27;</span>:</span><br><span class="line">data-8ccf8d2d-607b-4b9f-bf91-ef6542d41d05-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230507&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230507/bucket-0&#x27;</span>:</span><br><span class="line">data-001834d2-3129-47da-b8cd-b61eb227d384-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230509&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230509/bucket-0&#x27;</span>:</span><br><span class="line">data-69f3f4eb-cf80-4741-92b3-9cb396354ac2-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230504&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230504/bucket-0&#x27;</span>:</span><br><span class="line">data-ae0d5e30-8178-4caa-b311-f39bbf116ed7-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230508&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230508/bucket-0&#x27;</span>:</span><br><span class="line">data-83161511-dc36-421a-bba7-ce8e46c7d5f8-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230510&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230510/bucket-0&#x27;</span>:</span><br><span class="line">data-71177b4a-0d97-4994-9447-c541ef61145b-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230503&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230503/bucket-0&#x27;</span>:</span><br><span class="line">data-4cb7a3f9-2ad1-4f7b-9cf3-4445029244cf-0.orc  .  ..</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230501&#x27;</span>:</span><br><span class="line">..  bucket-0  .</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;/tmp/paimon/default.db/T/dt=20230501/bucket-0&#x27;</span>:</span><br><span class="line">data-c4f3cde1-8759-4f69-abc2-da6bea4911a1-0.orc  .  ..</span><br><span class="line"></span><br><span class="line">/tmp/paimon/default.db/T/schema:</span><br><span class="line">..  .  schema-0</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>tree</code> å‘½ä»¤ä»¥æ ‘çŠ¶æ ¼å¼åˆ—å‡ºå½“å‰ Catalog ä¸‹çš„å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ tree /tmp/paimon/default.db</span><br><span class="line">/tmp/paimon/default.db</span><br><span class="line">â””â”€â”€ T</span><br><span class="line">    â”œâ”€â”€ dt=20230501</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-c4f3cde1-8759-4f69-abc2-da6bea4911a1-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230502</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-8ccf8d2d-607b-4b9f-bf91-ef6542d41d05-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230503</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-4cb7a3f9-2ad1-4f7b-9cf3-4445029244cf-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230504</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-ae0d5e30-8178-4caa-b311-f39bbf116ed7-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230505</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-78c70a1f-f51c-4ebd-822d-2f1f4a47ef9f-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230506</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-f416780e-d673-49e3-b3e3-bbe390e9c00c-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230507</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-001834d2-3129-47da-b8cd-b61eb227d384-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230508</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-83161511-dc36-421a-bba7-ce8e46c7d5f8-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230509</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-69f3f4eb-cf80-4741-92b3-9cb396354ac2-0.orc</span><br><span class="line">    â”œâ”€â”€ dt=20230510</span><br><span class="line">    â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">    â”‚Â Â      â””â”€â”€ data-71177b4a-0d97-4994-9447-c541ef61145b-0.orc</span><br><span class="line">    â”œâ”€â”€ manifest</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ manifest-16b42374-154b-4aaf-8d15-2aa0ba41ade1-0</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-0</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-1</span><br><span class="line">    â”‚Â Â  â”œâ”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</span><br><span class="line">    â”‚Â Â  â””â”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</span><br><span class="line">    â”œâ”€â”€ schema</span><br><span class="line">    â”‚Â Â  â””â”€â”€ schema-0</span><br><span class="line">    â””â”€â”€ snapshot</span><br><span class="line">        â”œâ”€â”€ EARLIEST</span><br><span class="line">        â”œâ”€â”€ LATEST</span><br><span class="line">        â”œâ”€â”€ snapshot-1</span><br><span class="line">        â””â”€â”€ snapshot-2</span><br><span class="line"></span><br><span class="line">24 directories, 21 files</span><br></pre></td></tr></table></figure>

<p>ä» snapshot-2 å¼€å§‹ï¼Œæ–°çš„æ–‡ä»¶å¸ƒå±€çœ‹èµ·æ¥åƒ</p>
<p><img src="/image/paimon/snapshot-2.png" alt="snapshot-2"></p>
<h2 id="ä»è¡¨ä¸­åˆ é™¤è®°å½•"><a href="#ä»è¡¨ä¸­åˆ é™¤è®°å½•" class="headerlink" title="ä»è¡¨ä¸­åˆ é™¤è®°å½•"></a><strong><strong>ä»è¡¨ä¸­åˆ é™¤è®°å½•</strong></strong></h2><p>ç°åœ¨åˆ é™¤æ»¡è¶³æ¡ä»¶ <code>dt&gt;=20230503</code> çš„è®°å½•ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤è¡¨ T ä¸­ <code>dt&gt;=20230503</code> çš„è®°å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/flink run ./lib/paimon-flink-action-0.4.0-incubating.jar delete --path file:///tmp/paimon/default.db/T --<span class="built_in">where</span> <span class="string">&quot;dt &gt;= &#x27;20230503&#x27;&quot;</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¿‡ç¨‹è¾“å‡ºçš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/flink run ./lib/paimon-flink-action-0.4.0-incubating.jar delete --path file:///tmp/paimon/default.db/T --<span class="built_in">where</span> <span class="string">&quot;dt &gt;= &#x27;20230503&#x27;&quot;</span></span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/mnt/d/opt/flink-1.17.1/lib/flink-shaded-hadoop-2-uber-2.7.5-10.0.jar) to method sun.security.krb5.Config.getInstance()</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil</span><br><span class="line">WARNING: Use --illegal-access=warn to <span class="built_in">enable</span> warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied <span class="keyword">in</span> a future release</span><br><span class="line">Job has been submitted with JobID 1d3b1cb3c227ca01ba8559b38885b3a8</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œç­‰ä»·äºä»¥ä¸‹ SQLï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> T <span class="keyword">WHERE</span> dt <span class="operator">&gt;=</span> <span class="string">&#x27;20230503&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç¬”è€…å½“å‰æ¼”ç¤ºè¿™äº›æ“ä½œçš„æ—¶å€™ï¼ŒPaimon 0.4 å°šä¸æ”¯æŒåœ¨ Flink SQL ä¸­ç›´æ¥æ‰§è¡Œ <code>DELETE FROM T WHERE dt &gt;= &#39;20230503&#39;;</code> è¯­å¥è¿›è¡Œåˆ é™¤ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ERROR] Could not execute SQL statement. Reason:</span><br><span class="line">java.lang.UnsupportedOperationException: Can&#x27;t perform delete operation of the table paimon.default.T because the corresponding dynamic table sink has not yet implemented org.apache.flink.table.connector.sink.abilities.SupportsRowLevelDelete.</span><br></pre></td></tr></table></figure>

<p>å…·ä½“æ‰§è¡Œ SQL çš„æµç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Flink SQL&gt; CREATE CATALOG paimon WITH (</span><br><span class="line">&gt; <span class="string">&#x27;type&#x27;</span> = <span class="string">&#x27;paimon&#x27;</span>,</span><br><span class="line">&gt; <span class="string">&#x27;warehouse&#x27;</span> = <span class="string">&#x27;file:///tmp/paimon&#x27;</span></span><br><span class="line">&gt; );</span><br><span class="line">&gt;</span><br><span class="line">&gt;</span><br><span class="line">[INFO] Execute statement succeed.</span><br><span class="line"></span><br><span class="line">Flink SQL&gt; USE CATALOG paimon;</span><br><span class="line">[INFO] Execute statement succeed.</span><br><span class="line"></span><br><span class="line">Flink SQL&gt; SELECT * FROM T;</span><br><span class="line">[INFO] Result retrieval cancelled.</span><br><span class="line"></span><br><span class="line">Flink SQL&gt; SET <span class="string">&#x27;execution.runtime-mode&#x27;</span> = <span class="string">&#x27;batch&#x27;</span>;</span><br><span class="line">[INFO] Execute statement succeed.</span><br><span class="line"></span><br><span class="line">Flink SQL&gt; DELETE FROM T WHERE dt &gt;= <span class="string">&#x27;20230503&#x27;</span>;</span><br><span class="line">[ERROR] Could not execute SQL statement. Reason:</span><br><span class="line">java.lang.UnsupportedOperationException: Can<span class="string">&#x27;t perform delete operation of the table paimon.default.T because the corresponding dynamic table sink has not yet implemented org.apache.flink.table.connector.sink.abilities.SupportsRowLevelDelete.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Flink SQL&gt;</span></span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œè¿™é‡Œä½¿ç”¨å®¢æˆ·ç«¯å‘½ä»¤è¿›è¡Œåˆ é™¤æ“ä½œã€‚</p>
<p>å¦å¤–ï¼Œè¿˜è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œå‘½ä»¤ä¸­å¼•ç”¨çš„æ˜¯ <strong>paimon-flink-action-0.4.0-incubating.jar</strong>ï¼Œè€Œä¸æ˜¯ paimon-flink-1.17-0.4.0-incubating.jarï¼Œè¯·ä¸è¦æ··æ·†äº†ã€‚</p>
<p>å…³äº <code>delete</code> æ“ä½œçš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¯¦ç»†äº†è§£ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;FLINK_HOME&gt;/bin/flink run /path/to/paimon-flink-action-&#123;&#123;&lt; version &gt;&#125;&#125;.jar delete --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./bin/flink run ./lib/paimon-flink-action-0.4.jar delete --help</span><br><span class="line">WARNING: An illegal reflective access operation has occurred</span><br><span class="line">WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/mnt/d/opt/flink-1.17.1/lib/flink-shaded-hadoop-2-uber-2.7.5-10.0.jar) to method sun.security.krb5.Config.getInstance()</span><br><span class="line">WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil</span><br><span class="line">WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations</span><br><span class="line">WARNING: All illegal access operations will be denied in a future release</span><br><span class="line">Action &quot;delete&quot; deletes data from a table.</span><br><span class="line"></span><br><span class="line">Syntax:</span><br><span class="line">  delete --warehouse &lt;warehouse-path&gt; --database &lt;database-name&gt; --table &lt;table-name&gt; --where &lt;filter_spec&gt;</span><br><span class="line">  delete --path &lt;table-path&gt; --where &lt;filter_spec&gt;</span><br><span class="line"></span><br><span class="line">The &#x27;--where &lt;filter_spec&gt;&#x27; part is equal to the &#x27;WHERE&#x27; clause in SQL DELETE statement. If you want delete all records, please use overwrite (see doc).</span><br><span class="line"></span><br><span class="line">Examples:</span><br><span class="line">  delete --path hdfs:///path/to/warehouse/test_db.db/test_table --where id &gt; (SELECT count(*) FROM employee)</span><br><span class="line">  It&#x27;s equal to &#x27;DELETE FROM test_table WHERE id &gt; (SELECT count(*) FROM employee)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ç»§ç»­æ¢è®¨åˆ é™¤æ“ä½œå¯¹çš„è¡¨æ–‡ä»¶äº§ç”Ÿçš„å½±å“ã€‚</p>
<p>ç¬¬ä¸‰æ¬¡ <code>commit</code> åï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¿«ç…§ snapshot-3ã€‚ç»§ç»­ä½¿ç”¨ <code>tree</code> å‘½ä»¤æ¥åˆ—å‡ºè¡¨ä¸‹çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/tmp/paimon</span><br><span class="line">â””â”€â”€ default.db</span><br><span class="line">    â””â”€â”€ T</span><br><span class="line">        â”œâ”€â”€ dt=20230501</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-c4f3cde1-8759-4f69-abc2-da6bea4911a1-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230502</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-8ccf8d2d-607b-4b9f-bf91-ef6542d41d05-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230503</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-4cb7a3f9-2ad1-4f7b-9cf3-4445029244cf-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-d6cccfda-45b7-4640-8ca9-5455be7dfdc0-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230504</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-ae0d5e30-8178-4caa-b311-f39bbf116ed7-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-ffaa7f9f-a112-4da0-9117-630fa02354f8-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230505</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-78c70a1f-f51c-4ebd-822d-2f1f4a47ef9f-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-7bc0e30b-7509-45ca-a191-3ef30a173af0-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230506</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-95631ff5-7c56-4600-9e7a-1e3976016d28-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-f416780e-d673-49e3-b3e3-bbe390e9c00c-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230507</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-001834d2-3129-47da-b8cd-b61eb227d384-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-367c1275-e6d7-4a94-b8b6-9edc6a84d57d-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230508</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-83161511-dc36-421a-bba7-ce8e46c7d5f8-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-bb095dcc-3c51-4a29-b408-3da9a325c47a-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230509</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-220babec-5065-4e24-b30d-d46d060a6e7a-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-69f3f4eb-cf80-4741-92b3-9cb396354ac2-0.orc</span><br><span class="line">        â”œâ”€â”€ dt=20230510</span><br><span class="line">        â”‚Â Â  â””â”€â”€ bucket-0</span><br><span class="line">        â”‚Â Â      â”œâ”€â”€ data-073c53a1-899e-416f-b43e-3433a541057b-0.orc</span><br><span class="line">        â”‚Â Â      â””â”€â”€ data-71177b4a-0d97-4994-9447-c541ef61145b-0.orc</span><br><span class="line">        â”œâ”€â”€ manifest</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-16b42374-154b-4aaf-8d15-2aa0ba41ade1-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-401272a3-05f2-4d51-8a3d-27ecee17ca0e-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-9ed893d6-4f96-4f5a-bc9b-3f5da726a8d1-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-28bc3d79-2688-4c70-b610-8fd359901eec-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-28bc3d79-2688-4c70-b610-8fd359901eec-1</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-0</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-98fad66b-1a62-4657-9127-39e31bd26b88-1</span><br><span class="line">        â”‚Â Â  â”œâ”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-0</span><br><span class="line">        â”‚Â Â  â””â”€â”€ manifest-list-c996ae59-9dc5-4d67-b691-7f1c20d71526-1</span><br><span class="line">        â”œâ”€â”€ schema</span><br><span class="line">        â”‚Â Â  â””â”€â”€ schema-0</span><br><span class="line">        â””â”€â”€ snapshot</span><br><span class="line">            â”œâ”€â”€ EARLIEST</span><br><span class="line">            â”œâ”€â”€ LATEST</span><br><span class="line">            â”œâ”€â”€ snapshot-1</span><br><span class="line">            â”œâ”€â”€ snapshot-2</span><br><span class="line">            â””â”€â”€ snapshot-3</span><br><span class="line"></span><br><span class="line">25 directories, 33 files</span><br></pre></td></tr></table></figure>

<p>ä½ ä¼šå‘ç°ï¼Œä»åˆ†åŒº dt=20230503 åˆ°åˆ†åŒº dt=20230510 éƒ½æ²¡æœ‰è¢«åˆ é™¤ã€‚ç›¸åï¼Œåœ¨è¿™äº›åˆ†åŒºé‡Œåˆ›å»ºè¿™äº†ä¸€ä¸ªæ–°çš„æ•°æ®æ–‡ä»¶ï¼ŒæŸ¥çœ‹åˆ†åŒº dt=20230510 ä¸‹çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ll /tmp/paimon/default.db/T/dt=20230510/bucket-0</span><br><span class="line">total 8.0K</span><br><span class="line">-rw-r--r-- 1 root root 815 Jun 11 10:32 data-073c53a1-899e-416f-b43e-3433a541057b-0.orc</span><br><span class="line">-rwxrwxrwx 1 root root 801 Jun 10 10:29 data-71177b4a-0d97-4994-9447-c541ef61145b-0.orc</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å¯ä»¥ç†è§£çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç¬¬äºŒæ¬¡ <code>commit</code> æ—¶æ’å…¥äº†ä¸€æ¡è®°å½•ï¼ˆç”¨ <code>+I[10, 10010, &#39;varchar00010&#39;, &#39;20230510&#39;]</code> è¡¨ç¤ºï¼‰ï¼Œç„¶ååœ¨ç¬¬ä¸‰æ¬¡ <code>commit</code> æ—¶åˆ é™¤äº†è¿™æ¡è®°å½•ã€‚</p>
<p>æ‰§è¡Œ <code>SELECT * FROM T</code> å°†è¿”å› 2 æ¡è®°å½•ï¼Œå³ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">id</span>           a                              b                             dt</span><br><span class="line"> 1       10001                   varchar00001                       20230501</span><br><span class="line"> 2       10002                   varchar00002                       20230502</span><br></pre></td></tr></table></figure>

<p>ä» snapshot-3 å¼€å§‹ï¼Œæ–°çš„æ–‡ä»¶å¸ƒå±€çœ‹èµ·æ¥ç±»ä¼¼ä¸‹å›¾ï¼š</p>
<p><img src="/image/paimon/snapshot-3.png" alt="snapshot-3"></p>
<p>è¯·æ³¨æ„ï¼Œ<code>manifest-3-0</code> åŒ…å« 8 ä¸ª <code>ADD</code> æ“ä½œç±»å‹çš„ manifest æ¡ç›®ï¼Œå¯¹åº”äº 8 ä¸ªæ–°å†™å…¥çš„æ•°æ®æ–‡ä»¶ã€‚</p>
<h2 id="å‹ç¼©è¡¨"><a href="#å‹ç¼©è¡¨" class="headerlink" title="å‹ç¼©è¡¨"></a>å‹ç¼©è¡¨</h2><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œå°æ–‡ä»¶çš„æ•°é‡ä¼šåœ¨è¿ç»­çš„å¿«ç…§ä¸­å¢åŠ ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è¯»å–æ€§èƒ½ä¸‹é™ã€‚å› æ­¤ï¼Œä¸ºäº†å‡å°‘å°æ–‡ä»¶çš„æ•°é‡ï¼Œéœ€è¦è¿›è¡Œå®Œå…¨å‹ç¼©ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬è§¦å‘å®Œå…¨å‹ç¼©ã€‚ç¡®ä¿ä½ å·²ç»å°†æ‰§è¡Œæ¨¡å¼è®¾ç½®ä¸ºæ‰¹å¤„ç†ï¼ˆåœ¨ flink-conf.yaml ä¸­æ·»åŠ ä¸€ä¸ªæ¡ç›® <code>execution.runtime-mode: batch</code>ï¼Œæˆ–åœ¨æ‰§è¡Œå‘½ä»¤æ—¶æ·»åŠ å‚æ•° <code>-Dexecution.runtime-mode=BATCH</code>ï¼‰ï¼Œå¹¶é€šè¿‡ <code>flink run</code> è¿è¡Œä¸€ä¸ªä¸“é—¨çš„å‹ç¼©ä½œä¸šï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;FLINK_HOME&gt;/bin/flink run \</span><br><span class="line">    /path/to/paimon-flink-action-0.4.0-incubating.jar \</span><br><span class="line">    compact \</span><br><span class="line">    --warehouse &lt;warehouse-path&gt; \</span><br><span class="line">    --database &lt;database-name&gt; \</span><br><span class="line">    --table &lt;table-name&gt; \</span><br><span class="line">[--partition &lt;partition-name&gt;] \</span><br><span class="line">[--catalog-conf &lt;paimon-catalog-conf&gt;[--catalog-conf &lt;paimon-catalog-conf&gt; ...]] \</span><br></pre></td></tr></table></figure>

<p>æœ¬æ–‡è¿™é‡Œçš„æ‰§è¡Œå‘½ä»¤æ˜¯ï¼ˆå½“å‰å·²ç»åœ¨ Flink çš„ä¸»ç›®å½•ä¸­ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./bin/flink run -Dexecution.runtime-mode=BATCH ./lib/paimon-flink-action-0.4.0-incubating.jar compact --path file:///tmp/paimon/default.db/T</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰å½“å‰çš„è¡¨æ–‡ä»¶å°†è¢«å‹ç¼©ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„å¿«ç…§ï¼Œå³ snapshot-4ï¼Œä½¿ç”¨ <code>vim</code> å‘½ä»¤æ‰“å¼€æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /tmp/paimon/default.db/T/snapshot/snapshot-4</span><br></pre></td></tr></table></figure>

<p>snapshot-4 åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span> <span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span> <span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;schemaId&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;baseManifestList&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;manifest-list-7456ab8e-bc9e-4d9e-853f-cca13a8afc7a-0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deltaManifestList&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;manifest-list-7456ab8e-bc9e-4d9e-853f-cca13a8afc7a-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;changelogManifestList&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitUser&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;1541550f-4635-4a8f-a44a-b8e067249476&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitIdentifier&quot;</span> <span class="punctuation">:</span> <span class="number">9223372036854775807</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commitKind&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;COMPACT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeMillis&quot;</span> <span class="punctuation">:</span> <span class="number">1686367786486</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;logOffsets&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;totalRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">38</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deltaRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;changelogRecordCount&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;watermark&quot;</span> <span class="punctuation">:</span> <span class="number">-9223372036854775808</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä» snapshot-4 å¼€å§‹ï¼Œæ–°çš„æ–‡ä»¶å¸ƒå±€çœ‹èµ·æ¥å¦‚ä¸‹</p>
<p><img src="/image/paimon/snapshot-4.png" alt="snapshot-4"></p>
<p>è¯·æ³¨æ„ï¼Œ<code>manifest-4-0</code> åŒ…å« 20 ä¸ªæ¸…å•æ¡ç›®ï¼ˆ18 ä¸ª <code>DELETE</code> æ“ä½œå’Œ 2 ä¸ª <code>ADD</code> æ“ä½œï¼‰ã€‚</p>
<ol>
<li>å¯¹äºåˆ†åŒº dt=20230503 è‡³åˆ†åŒº dt=20230510ï¼Œå¯¹ä¸¤ä¸ªæ•°æ®æ–‡ä»¶è¿›è¡Œä¸¤æ¬¡ <code>DELETE</code> æ“ä½œï¼›</li>
<li>å¯¹äºåˆ†åŒº dt=20230501 è‡³åˆ†åŒº dt=20230502ï¼Œå¯¹åŒä¸€æ•°æ®æ–‡ä»¶è¿›è¡Œä¸€æ¬¡ <code>DELETE</code> æ“ä½œå’Œä¸€æ¬¡ <code>ADD</code> æ“ä½œã€‚</li>
</ol>
<h2 id="æ›´æ”¹è¡¨"><a href="#æ›´æ”¹è¡¨" class="headerlink" title="æ›´æ”¹è¡¨"></a><strong><strong>æ›´æ”¹è¡¨</strong></strong></h2><p>åœ¨ Flink SQL å®¢æˆ·ç«¯æ‰§è¡Œä¸‹é¢çš„è¯­å¥æ¥é…ç½®å®Œå…¨å‹ç¼©ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> T <span class="keyword">SET</span> (<span class="string">&#x27;full-compaction.delta-commits&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šè¿°è¯­å¥ä¼šä¸º Paimon è¡¨åˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å¼ï¼Œå³ schema-1ã€‚ä½†æ˜¯ï¼Œåœ¨ä¸‹æ¬¡ <code>commit</code> ä¹‹å‰ï¼Œæ–°åˆ›å»ºçš„æ¨¡å¼ schema-1 å®é™…ä¸Šè¿˜æ²¡æœ‰è¢«ä½¿ç”¨ã€‚</p>
<h2 id="å¿«ç…§è¿‡æœŸ"><a href="#å¿«ç…§è¿‡æœŸ" class="headerlink" title="å¿«ç…§è¿‡æœŸ"></a>å¿«ç…§<strong><strong>è¿‡æœŸ</strong></strong></h2><p>æ³¨æ„ï¼Œåªæœ‰åœ¨å¿«ç…§è¿‡æœŸä¸”æ²¡æœ‰æ¶ˆè´¹è€…ä¾èµ–å¿«ç…§æ—¶ï¼Œæ ‡è®°çš„æ•°æ®æ–‡ä»¶æ‰ä¼šè¢«çœŸæ­£åˆ é™¤ã€‚æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://paimon.apache.org/docs/0.4/maintenance/expiring-snapshots/">å¿«ç…§è¿‡æœŸ</a>ã€‚</p>
<p>åœ¨å¿«ç…§è¿‡æœŸè¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆç¡®å®šå¿«ç…§çš„èŒƒå›´ï¼Œç„¶åå°†è¿™äº›å¿«ç…§å†…çš„æ•°æ®æ–‡ä»¶æ ‡è®°ä¸ºåˆ é™¤ã€‚ä»…å½“å­˜åœ¨å¼•ç”¨è¯¥ç‰¹å®šæ•°æ®æ–‡ä»¶çš„ç±»å‹ä¸º <code>DELETE</code> çš„æ¸…å•æ¡ç›®æ—¶ï¼Œæ•°æ®æ–‡ä»¶æ‰è¢«æ ‡è®°ä¸ºåˆ é™¤ã€‚æ­¤æ ‡è®°å¯ç¡®ä¿è¯¥æ–‡ä»¶ä¸ä¼šè¢«åç»­å¿«ç…§ä½¿ç”¨ï¼Œå¯ä»¥å®‰å…¨åœ°åˆ é™¤ã€‚</p>
<p>å‡è®¾ä¸Šå›¾ä¸­çš„ 4 ä¸ªå¿«ç…§éƒ½è¦è¿‡æœŸäº†ã€‚è¿‡æœŸçš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆåˆ é™¤æ‰€æœ‰æ ‡è®°çš„æ•°æ®æ–‡ä»¶ï¼Œå¹¶è®°å½•ä»»ä½•æ›´æ”¹çš„æ¡¶ã€‚</li>
<li>ç„¶ååˆ é™¤ä»»ä½•æ›´æ–°æ—¥å¿—æ–‡ä»¶å’Œå…³è”çš„æ¸…å•æ–‡ä»¶ã€‚</li>
<li>æœ€åï¼Œåˆ é™¤å¿«ç…§æœ¬èº«ã€å†™å…¥æœ€æ—©çš„æç¤ºæ–‡ä»¶ã€‚</li>
</ol>
<p>å¦‚æœåœ¨åˆ é™¤è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»»ä½•ç›®å½•æ˜¯ç©ºçš„ï¼Œå®ƒä»¬ä¹Ÿä¼šè¢«åˆ é™¤ã€‚</p>
<p>å‡è®¾åˆ›å»ºäº†å¦ä¸€ä¸ªå¿«ç…§ï¼Œå³ snapshot-5ï¼Œå¹¶ä¸”è§¦å‘äº†å¿«ç…§è¿‡æœŸã€‚<code>snapshot-1</code> åˆ° <code>snapshot-4</code> å°†è¢«åˆ é™¤ã€‚ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªå…³æ³¨å‰é¢çš„å¿«ç…§ä¸­çš„æ–‡ä»¶ï¼Œå¿«ç…§è¿‡æœŸåçš„æœ€ç»ˆå¸ƒå±€å¦‚ä¸‹ï¼š</p>
<p><img src="/image/paimon/snapshot-5.png" alt="snapshot-5"></p>
<p>ç»“æœï¼Œåˆ†åŒº <code>20230503</code> åˆ° <code>20230510</code> è¢«ç‰©ç†åˆ é™¤ã€‚</p>
<h2 id="Flinkæµå†™å…¥"><a href="#Flinkæµå†™å…¥" class="headerlink" title="Flinkæµå†™å…¥"></a><strong><strong>Flinkæµå†™å…¥</strong></strong></h2><p>æœ€åï¼Œæˆ‘ä»¬å°†é€šè¿‡ä½¿ç”¨ CDC æ‘„å–çš„ä¾‹å­æ¥ç ”ç©¶ Flink æµå†™å…¥ã€‚æœ¬èŠ‚å°†è®¨è®ºæ•è·å’Œå†™å…¥å˜åŒ–æ•°æ®åˆ° Paimon çš„æ–¹æ³•ï¼Œä»¥åŠå¼‚æ­¥å‹ç¼©å’Œå¿«ç…§æäº¤å’Œè¿‡æœŸèƒŒåçš„æœºåˆ¶ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä»”ç»†ç ”ç©¶ CDC æ•°æ®æ‘„å–çš„å·¥ä½œæµç¨‹ï¼Œä»¥åŠæ¯ä¸ªç›¸å…³ç»„ä»¶æ‰€æ‰®æ¼”çš„ç‹¬ç‰¹è§’è‰²ã€‚</p>
<p><img src="/image/paimon/flink-stream-write.png" alt="Untitled"></p>
<ol>
<li><code>MySQL CDC Source</code> ç»Ÿä¸€è¯»å–å¿«ç…§æ•°æ®å’Œå¢é‡æ•°æ®ï¼Œå…¶ä¸­ <code>SnapshotReader</code> è¯»å–å¿«ç…§æ•°æ®ï¼Œ<code>BinlogReader</code> è¯»å–å¢é‡æ•°æ®ã€‚</li>
<li><code>Paimon Sink</code> å°†æ•°æ®å†™å…¥ Paimon è¡¨ä¸­ï¼Œå¹¶åœ¨æ¡¶çº§åˆ«è¿›è¡Œå½’ç±»ã€‚å…¶ä¸­çš„ <code>CompactManager</code> ä¼šå¼‚æ­¥è§¦å‘æ•°æ®å‹ç¼©ã€‚</li>
<li><code>Committer Operator</code> æ˜¯ä¸€ä¸ªå•ä¾‹ï¼ˆæ„å‘³ç€æ•´ä¸ªæµç¨‹ä¸­åªæœ‰ä¸€ä¸ªè¿™æ ·çš„ç»„ä»¶ï¼‰ï¼Œè´Ÿè´£æäº¤å¿«ç…§æ•°æ®å’Œåˆ é™¤è¿‡æœŸçš„å¿«ç…§æ•°æ®ã€‚</li>
</ol>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ç«¯åˆ°ç«¯çš„æ•°æ®æµã€‚</p>
<p><img src="/image/paimon/end-to-end.png" alt="Untitled"></p>
<p><code>MySQL Cdc Source</code>Â è¯»å–å¿«ç…§å’Œå¢é‡æ•°æ®ï¼Œåœ¨å½’ä¸€åŒ–ï¼ˆè§„èŒƒåŒ–ï¼‰åå°†å…¶å‘å‡ºåˆ°ä¸‹æ¸¸ã€‚</p>
<p><img src="/image/paimon/mysql-cdc-source.png" alt="Untitled"></p>
<p>Paimon Sinké¦–å…ˆåœ¨åŸºäºå †çš„LSMæ ‘ä¸­ç¼“å†²æ–°çš„è®°å½•ï¼Œå¹¶åœ¨å†…å­˜ç¼“å†²åŒºæ»¡æ—¶å°†å…¶åˆ·å…¥ç£ç›˜ã€‚è¯·æ³¨æ„ï¼Œæ¯å†™ä¸€ä¸ªæ•°æ®æ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªæ’åºçš„è¿è¡Œã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ²¡æœ‰åˆ›å»ºæ¸…å•æ–‡ä»¶å’Œå¿«ç…§ã€‚å°±åœ¨Flinkæ£€æŸ¥ç‚¹å‘ç”Ÿä¹‹å‰ï¼ŒPaimon Sinkå°†åˆ·æ–°æ‰€æœ‰ç¼“å†²åŒºçš„è®°å½•ï¼Œå¹¶å‘ä¸‹æ¸¸å‘é€å¯æäº¤çš„æ¶ˆæ¯ï¼Œåœ¨æ£€æŸ¥ç‚¹æœŸé—´ç”±Committer Operatorè¯»å–å¹¶æäº¤ã€‚</p>
<p><code>Paimon Sink</code>Â é¦–å…ˆåœ¨åŸºäºå †çš„ LSM æ ‘ä¸­ç¼“å†²æ–°çš„è®°å½•ï¼Œå½“å†…å­˜ç¼“å†²åŒºæ»¡æ—¶å°†å…¶åˆ·æ–°åˆ°ç£ç›˜ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªå†™å…¥çš„æ•°æ®æ–‡ä»¶éƒ½æ˜¯æ’åºæ®µï¼ˆsorted runï¼‰ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ²¡æœ‰åˆ›å»ºæ¸…å•æ–‡ä»¶å’Œå¿«ç…§ã€‚å°±åœ¨ Flink æ£€æŸ¥ç‚¹å‘ç”Ÿä¹‹å‰ï¼Œ<code>Paimon Sink</code>Â å°†åˆ·æ–°æ‰€æœ‰ç¼“å†²åŒºçš„è®°å½•ï¼Œå¹¶å‘ä¸‹æ¸¸å‘é€å¯æäº¤çš„æ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯ç”± <code>Committer Operator</code> åœ¨æ£€æŸ¥ç‚¹æœŸé—´è¯»å–å’Œæäº¤ã€‚</p>
<p><img src="/image/paimon/mysql-cdc-source-2.png" alt="Untitled"></p>
<p>åœ¨æ£€æŸ¥ç‚¹æœŸé—´ï¼Œ<code>Committer Operator</code>Â å°†åˆ›å»ºä¸€ä¸ªæ–°å¿«ç…§ï¼Œå¹¶å°†å…¶ä¸æ¸…å•åˆ—è¡¨å…³è”ï¼Œä»¥ä¾¿è¯¥å¿«ç…§åŒ…å«è¡¨å†…æ‰€æœ‰æ•°æ®æ–‡ä»¶çš„ä¿¡æ¯ã€‚</p>
<p><img src="/image/paimon/mysql-cdc-source-3.png" alt="Untitled"></p>
<p>ä¹‹åå¯èƒ½ä¼šå‘ç”Ÿå¼‚æ­¥å‹ç¼©ï¼Œå¹¶ä¸” <code>CompactManager</code> äº§ç”Ÿçš„å¯æäº¤å†…å®¹åŒ…å«æœ‰å…³ä»¥å‰æ–‡ä»¶å’Œåˆå¹¶æ–‡ä»¶çš„æ•°æ®ä¿¡æ¯ï¼Œä»¥ä¾¿Â <code>Committer Operator</code>Â å¯ä»¥æ„å»ºç›¸åº”çš„æ¸…å•æ¡ç›®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>Committer Operator</code>Â å¯èƒ½åœ¨ Flink æ£€æŸ¥ç‚¹æœŸé—´äº§ç”Ÿä¸¤ä¸ªå¿«ç…§ï¼Œä¸€ä¸ªç”¨äºå†™å…¥çš„æ•°æ®ï¼ˆç±»å‹ä¸º <code>Append</code> çš„å¿«ç…§ï¼‰ï¼Œå¦ä¸€ä¸ªç”¨äºå‹ç¼©ï¼ˆç±»å‹ä¸º <code>Compact</code> çš„å¿«ç…§ï¼‰ã€‚å¦‚æœåœ¨æ£€æŸ¥ç‚¹åŒºé—´å†…æ²¡æœ‰å†™å…¥æ•°æ®æ–‡ä»¶ï¼Œåˆ™ä»…åˆ›å»ºç±»å‹ä¸º <code>Compact</code> çš„å¿«ç…§ã€‚<code>Committer Operator</code> å°†æ£€æŸ¥å¿«ç…§çš„è¿‡æœŸæƒ…å†µï¼Œå¹¶å¯¹æ ‡è®°çš„æ•°æ®æ–‡ä»¶è¿›è¡Œç‰©ç†åˆ é™¤ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | æ¦‚è¿°</title>
    <url>/2023/06/20/paimon-concepts-overview/</url>
    <content><![CDATA[<p>Apache Paimonï¼ˆå­µåŒ–ä¸­ï¼‰æ˜¯ä¸€ä¸ªæµå¼æ•°æ®æ¹–å¹³å°ï¼Œæ”¯æŒé«˜é€Ÿæ•°æ®æ‘„å–ã€å˜åŒ–æ•°æ®è·Ÿè¸ªå’Œé«˜æ•ˆçš„å®æ—¶åˆ†æã€‚</p>
<h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><p><img src="/image/paimon/paimon-infra.png" alt="Paimonæ¶æ„"></p>
<p>å¦‚ä¸Šé¢çš„æ¶æ„å›¾æ‰€ç¤ºï¼š</p>
<p><strong>è¯»/å†™ï¼š</strong>Paimon æ”¯æŒä»¥å¤šç§æ–¹å¼è¯»/å†™æ•°æ®å’Œæ‰§è¡Œ OLAP æŸ¥è¯¢ã€‚</p>
<ul>
<li>å¯¹äºè¯»å–ï¼Œå®ƒæ”¯æŒæ¶ˆè´¹<ul>
<li>å†å²å¿«ç…§ï¼ˆæ‰¹å¤„ç†æ¨¡å¼ï¼‰çš„æ•°æ®ï¼Œ</li>
<li>ä»æœ€æ–°åç§»é‡ï¼ˆæµå¤„ç†æ¨¡å¼ï¼‰è¯»å–æ•°æ®ï¼Œæˆ–è€…</li>
<li>ä»¥æ··åˆæ–¹å¼è¯»å–å¢é‡å¿«ç…§ã€‚</li>
</ul>
</li>
<li>å¯¹äºå†™å…¥ï¼Œå®ƒæ”¯æŒä»æ•°æ®åº“çš„å˜åŒ–æ—¥å¿—ï¼ˆCDCï¼‰ä¸­è¿›è¡Œæµå¼åŒæ­¥ï¼Œæˆ–ä»ç¦»çº¿æ•°æ®ä¸­æ‰¹é‡æ’å…¥/è¦†ç›–ã€‚</li>
</ul>
<p><strong>ç”Ÿæ€ç³»ç»Ÿï¼š</strong>é™¤äº† Apache Flink ä¹‹å¤–ï¼ŒPaimon è¿˜æ”¯æŒå…¶ä»–è®¡ç®—å¼•æ“çš„è¯»å–ï¼Œå¦‚ Apache Hiveã€Apache Spark å’Œ Trinoã€‚</p>
<p><strong>å†…éƒ¨åŸç†ï¼š</strong>Paimon åœ¨æ–‡ä»¶ç³»ç»Ÿ/å¯¹è±¡å­˜å‚¨ä¸­å­˜å‚¨åˆ—å¼æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ LSM æ ‘ç»“æ„æ¥æ”¯æŒå¤§é‡æ•°æ®æ›´æ–°å’Œé«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<h2 id="ç»Ÿä¸€å­˜å‚¨"><a href="#ç»Ÿä¸€å­˜å‚¨" class="headerlink" title="ç»Ÿä¸€å­˜å‚¨"></a><strong><strong>ç»Ÿä¸€å­˜å‚¨</strong></strong></h2><p>å¯¹äºåƒ Apache Flink è¿™æ ·çš„æµå¼•æ“ï¼Œé€šå¸¸æœ‰ä¸‰ç§ç±»å‹çš„è¿æ¥å™¨ï¼š</p>
<ul>
<li>æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚ Apache Kafkaï¼Œç”¨äºç®¡é“çš„æºå¤´å’Œä¸­é—´é˜¶æ®µï¼Œä»¥ç¡®ä¿å»¶è¿Ÿåœ¨ç§’çº§å†…ã€‚</li>
<li>OLAP ç³»ç»Ÿï¼Œå¦‚ Clickhouseï¼Œä»¥æµçš„æ–¹å¼æ¥æ”¶å¤„ç†åçš„æ•°æ®ï¼Œå¹¶ä¸ºç”¨æˆ·çš„ä¸´æ—¶æŸ¥è¯¢æä¾›æœåŠ¡ã€‚</li>
<li>æ‰¹é‡å­˜å‚¨ï¼Œå¦‚ Apache Hiveï¼Œæ”¯æŒä¼ ç»Ÿæ‰¹å¤„ç†çš„å„ç§æ“ä½œï¼ŒåŒ…æ‹¬ <code>INSERT OVERWRITE</code>ã€‚</li>
</ul>
<p>Paimon æä¾›äº†è¡¨çš„æŠ½è±¡åŒ–ã€‚å®ƒçš„ä½¿ç”¨æ–¹å¼ä¸ä¼ ç»Ÿæ•°æ®åº“æ²¡æœ‰åŒºåˆ«ï¼š</p>
<ul>
<li>åœ¨æ‰¹å¤„ç†æ‰§è¡Œæ¨¡å¼ä¸‹ï¼Œå®ƒå°±åƒä¸€ä¸ª Hive è¡¨ï¼Œæ”¯æŒ Batch SQL çš„å„ç§æ“ä½œã€‚æŸ¥è¯¢å®ƒå¯ä»¥çœ‹åˆ°æœ€æ–°çš„å¿«ç…§ã€‚</li>
<li>åœ¨æµå¼æ‰§è¡Œæ¨¡å¼ä¸‹ï¼Œå®ƒçš„è¡Œä¸ºå°±åƒä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ã€‚æŸ¥è¯¢å®ƒçš„è¡Œä¸ºå°±åƒä»ä¸€ä¸ªå†å²æ•°æ®æ°¸ä¸è¿‡æœŸçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­æŸ¥è¯¢ä¸€ä¸ªæµå˜åŒ–æ—¥å¿—ã€‚</li>
</ul>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | å¼•æ“æ¦‚è¿°</title>
    <url>/2023/06/10/paimon-engines-overview/</url>
    <content><![CDATA[<p>Paimon ä¸ä»…åŸç”Ÿæ”¯æŒ Flink SQL çš„å†™å…¥å’ŒæŸ¥è¯¢ï¼Œè€Œä¸”è¿˜æä¾›å…¶ä»–æµè¡Œå¼•æ“çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚ Apache Spark å’Œ Apache Hiveã€‚</p>
<h2 id="å…¼å®¹æ€§çŸ©é˜µ"><a href="#å…¼å®¹æ€§çŸ©é˜µ" class="headerlink" title="å…¼å®¹æ€§çŸ©é˜µ"></a>å…¼å®¹æ€§çŸ©é˜µ</h2><table>
<thead>
<tr>
<th>å¼•æ“</th>
<th>ç‰ˆæœ¬</th>
<th>æ‰¹è¯»å–</th>
<th>æ‰¹å†™å…¥</th>
<th>åˆ›å»ºè¡¨</th>
<th>æµå†™å…¥</th>
<th>æµè¯»å–</th>
<th>æ‰¹è¦†ç›–</th>
</tr>
</thead>
<tbody><tr>
<td>Flink</td>
<td>1.14 - 1.17</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td>Hive</td>
<td>2.1 - 3.1</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td>Spark</td>
<td>3.1 - 3.4</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td>Spark</td>
<td>2.4</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td>Trino</td>
<td>358 - 400</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td>Presto</td>
<td>0.236 - 0.279</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
</tbody></table>
<p>æ­£åœ¨è¿›è¡Œçš„å¼•æ“ï¼š</p>
<p>Dorisï¼šå¼€å‘ä¸­ï¼Œ<a href="https://github.com/apache/doris/issues/18433">æ”¯æŒPaimonç›®å½•</a>ï¼Œ<a href="https://github.com/apache/doris/issues/16392">Doris äº§å“è·¯çº¿å›¾ 2023</a>ã€‚</p>
<p>Seatunnelï¼šå¼€å‘ä¸­ï¼Œ<a href="https://github.com/apache/incubator-seatunnel/pull/4178">å¼•å…¥ Paimon è¿æ¥å™¨</a>ã€‚</p>
<p>Starrocksï¼šæ­£åœ¨è®¨è®ºä¸­ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache Paimon | å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿ</title>
    <url>/2023/06/10/paimon-concepts-external-log-systems/</url>
    <content><![CDATA[<p>é™¤äº†åº•å±‚è¡¨æ–‡ä»¶çš„å˜æ›´æ—¥å¿—å¤–ï¼ŒPaimon çš„å˜æ›´æ—¥å¿—ä¹Ÿå¯ä»¥å­˜å‚¨åœ¨å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿä¸­ï¼Œæ¯”å¦‚ Kafkaï¼Œæˆ–è€…ä»å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿä¸­æ¶ˆè´¹ã€‚é€šè¿‡æŒ‡å®š <code>log.system</code> è¡¨å±æ€§ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ªå¤–éƒ¨æ—¥å¿—ç³»ç»Ÿã€‚</p>
<p>å¦‚æœé€‰æ‹©ä½¿ç”¨å¤–éƒ¨æ—¥å¿—ç³»ç»Ÿï¼Œé‚£ä¹ˆæ‰€æœ‰å†™å…¥è¡¨æ–‡ä»¶ä¸­çš„è®°å½•ä¹Ÿä¼šå†™å…¥æ—¥å¿—ç³»ç»Ÿã€‚å› æ­¤ï¼ŒæµæŸ¥è¯¢äº§ç”Ÿçš„å˜åŒ–ä¼šä»æ—¥å¿—ç³»ç»Ÿè¯»å–ï¼Œè€Œä¸æ˜¯è¡¨æ–‡ä»¶ã€‚</p>
<h2 id="ä¸€è‡´æ€§ä¿è¯"><a href="#ä¸€è‡´æ€§ä¿è¯" class="headerlink" title="ä¸€è‡´æ€§ä¿è¯"></a>ä¸€è‡´æ€§ä¿è¯</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ—¥å¿—ç³»ç»Ÿä¸­çš„å˜åŒ–è¦ç­‰åˆ°å¿«ç…§ä¹‹åæ‰å¯¹æ¶ˆè´¹è€…å¯è§ï¼Œå°±åƒè¡¨æ–‡ä»¶ä¸€æ ·ã€‚è¿™ç§è¡Œä¸ºä¿è¯äº†ç²¾ç¡®ä¸€æ¬¡çš„è¯­ä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¡è®°å½•åªè¢«æ¶ˆè´¹è€…çœ‹åˆ°ä¸€æ¬¡ã€‚</p>
<p>ä½†æ˜¯ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æŒ‡å®šè¡¨çš„å±æ€§ <code>&#39;log.consistency&#39; = &#39;eventual&#39;</code>ï¼Œè¿™æ ·å†™è¿›æ—¥å¿—ç³»ç»Ÿçš„å˜æ›´æ—¥å¿—å°±å¯ä»¥ç«‹å³è¢«æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œè€Œä¸ç”¨ç­‰å¾…ä¸‹ä¸€ä¸ªå¿«ç…§ã€‚è¿™ç§è¡Œä¸ºå‡å°‘äº†å˜æ›´æ—¥å¿—çš„å»¶è¿Ÿï¼Œä½†ç”±äºå¯èƒ½å‘ç”Ÿçš„æ•…éšœï¼Œå®ƒåªèƒ½ä¿è¯è‡³å°‘ä¸€æ¬¡çš„è¯­ä¹‰ï¼ˆå³ï¼Œæ¶ˆè´¹è€…å¯èƒ½ä¼šçœ‹åˆ°é‡å¤çš„è®°å½•ï¼‰ã€‚</p>
<p>å¦‚æœè®¾ç½® <code>&#39;log.consistency&#39; = &#39;eventual&#39;</code>ï¼Œä¸ºäº†è·å¾—æ­£ç¡®çš„ç»“æœï¼ŒFlink ä¸­çš„ Paimon æºå°†è‡ªåŠ¨æ·»åŠ â€œnormalizeâ€è¿ç®—ç¬¦è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤ã€‚è¯¥è¿ç®—ç¬¦å°†æ¯ä¸ªé”®çš„å€¼ä¿å­˜åœ¨çŠ¶æ€ä¸­ã€‚å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹å‡ºï¼Œè¯¥è¿ç®—ç¬¦çš„æˆæœ¬å°†éå¸¸é«˜ï¼Œåº”è¯¥é¿å…ä½¿ç”¨ã€‚</p>
<h2 id="æ”¯æŒçš„æ—¥å¿—ç³»ç»Ÿ"><a href="#æ”¯æŒçš„æ—¥å¿—ç³»ç»Ÿ" class="headerlink" title="æ”¯æŒçš„æ—¥å¿—ç³»ç»Ÿ"></a>æ”¯æŒçš„æ—¥å¿—ç³»ç»Ÿ</h2><h3 id="Kafka"><a href="#Kafka" class="headerlink" title="Kafka"></a>Kafka</h3><p>å‡†å¤‡ flink-sql-connector-kafka Jar æ–‡ä»¶</p>
<p>Paimon ç›®å‰æ”¯æŒ Flink 1.17ï¼Œ1.16ï¼Œ1.15 å’Œ 1.14 ç‰ˆæœ¬ã€‚æ¨èä½¿ç”¨æœ€æ–°çš„ Flink ç‰ˆæœ¬ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒã€‚</p>
<p>ä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„ flink-sql-connector-kafka jar æ–‡ä»¶ã€‚</p>
<table>
<thead>
<tr>
<th>Flink ç‰ˆæœ¬</th>
<th>Jar åŒ…</th>
</tr>
</thead>
<tbody><tr>
<td>Flink 1.17</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.17.0/flink-sql-connector-kafka-1.17.0.jar">https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.17.0/flink-sql-connector-kafka-1.17.0.jar</a></td>
</tr>
<tr>
<td>Flink 1.16</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.16.1/flink-sql-connector-kafka-1.16.1.jar">https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.16.1/flink-sql-connector-kafka-1.16.1.jar</a></td>
</tr>
<tr>
<td>Flink 1.15</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.15.4/flink-sql-connector-kafka-1.15.4.jar">https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka/1.15.4/flink-sql-connector-kafka-1.15.4.jar</a></td>
</tr>
<tr>
<td>Flink 1.14</td>
<td><a href="https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka_2.11/1.14.4/flink-sql-connector-kafka_2.11-1.14.4.jar">https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka_2.11/1.14.4/flink-sql-connector-kafka_2.11-1.14.4.jar</a></td>
</tr>
</tbody></table>
<p>é€šè¿‡æŒ‡å®š â€˜log.systemâ€™ = â€˜kafkaâ€™ï¼Œç”¨æˆ·å¯ä»¥å°†æ›´æ”¹ä¸è¡¨æ–‡ä»¶ä¸€èµ·å†™å…¥ Kafkaã€‚</p>
<p>é€šè¿‡æŒ‡å®š <code>&#39;log.system&#39; = &#39;kafka&#39;</code>ï¼Œç”¨æˆ·å¯ä»¥å°†å˜æ›´å†™å…¥ Kafka å’Œè¡¨æ–‡ä»¶ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> T (...)</span><br><span class="line"><span class="keyword">WITH</span> (</span><br><span class="line">    <span class="string">&#x27;log.system&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;kafka&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;kafka.bootstrap.servers&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;kafka.topic&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;...&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>Kafka çš„è¡¨å±æ€§å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>é»˜è®¤å€¼</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>kafka.bootstrap.servers</td>
<td>(none)</td>
<td>String</td>
<td>å¿…å¡«ï¼ŒKafka æœåŠ¡å™¨è¿æ¥å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>kafka.topic</td>
<td>(none)</td>
<td>String</td>
<td>Kafka ä¸»é¢˜ï¼ˆTopicï¼‰</td>
</tr>
</tbody></table>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Apache Paimon</category>
      </categories>
      <tags>
        <tag>Paimon</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis BITCOUNT å‘½ä»¤</title>
    <url>/2023/06/06/redis-cmd-bitmap-bitcount/</url>
    <content><![CDATA[<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">BITCOUNT key [start end [BYTE | BIT]]</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨ç‰ˆæœ¬</strong></p>
<p>â‰¥ 2.6.0</p>
<p><strong>æ—¶é—´å¤æ‚åº¦</strong></p>
<p>$O(N)$ </p>
<p><strong>ACLç±»åˆ«</strong></p>
<p><strong><code>@read</code></strong>,Â <strong><code>@bitmap</code></strong>,Â <strong><code>@slow</code></strong></p>
<p>è®¡ç®—ç»™å®šå­—ç¬¦ä¸²ä¸­ï¼Œè¢«è®¾ç½®ä¸ºÂ 1Â çš„æ¯”ç‰¹ä½çš„æ•°é‡ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç»™å®šçš„æ•´ä¸ªå­—ç¬¦ä¸²éƒ½ä¼šè¢«è¿›è¡Œè®¡æ•°ï¼Œé€šè¿‡æŒ‡å®šé¢å¤–çš„ <code>start</code> å’Œ <code>end</code> å‚æ•°ï¼Œå¯ä»¥è®©è®¡æ•°åªåœ¨ç‰¹å®šçš„ä½ä¸Šè¿›è¡Œã€‚</p>
<p><code>start</code> å’Œ <code>end</code> å‚æ•°çš„è®¾ç½®å’Œ <code>GETRANGE key start end</code> å‘½ä»¤ç±»ä¼¼ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è´Ÿæ•°å€¼ï¼š æ¯”å¦‚ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå­—èŠ‚ï¼Œ-2 è¡¨ç¤ºå€’æ•°ç¬¬äºŒä¸ªå­—èŠ‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>ä¸å­˜åœ¨çš„ <code>key</code> è¢«å½“æˆæ˜¯ç©ºå­—ç¬¦ä¸²æ¥å¤„ç†ï¼Œå› æ­¤å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„ <code>key</code> è¿›è¡Œ <code>BITCOUNT</code> æ“ä½œï¼Œç»“æœä¸º 0 ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå‚æ•° <code>start</code> å’Œ <code>end</code> æŒ‡å®šä¸€ä¸ªå­—èŠ‚ç´¢å¼•ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé™„åŠ å‚æ•° <code>BIT</code> æ¥æŒ‡å®šä¸€ä¸ªæ¯”ç‰¹ç´¢å¼•ã€‚æ‰€ä»¥ 0 æ˜¯ç¬¬ä¸€ä½ï¼Œ1 æ˜¯ç¬¬äºŒä½ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¯¹äºè´Ÿå€¼ï¼Œ-1 æ˜¯æœ€åä¸€ä½ï¼Œ-2 æ˜¯å€’æ•°ç¬¬äºŒä½ï¼Œä¾æ­¤ç±»æ¨ã€‚</p>
<h2 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a><strong><strong>è¿”å›å€¼</strong></strong></h2><p>è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¢«è®¾ç½®ä¸ºÂ 1Â çš„ä½çš„æ•°é‡ã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1"></a>ç¤ºä¾‹ 1</h2><p>å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„ <code>key</code> è¿›è¡Œ <code>BITCOUNT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; EXISTS bits_key</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">redis&gt; BITCOUNT bits_key</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2"></a>ç¤ºä¾‹ 2</h2><p>å¯¹å­˜å‚¨å€¼çš„ç±»å‹ä¸æ˜¯å­—ç¬¦ä¸²çš„ <code>key</code> è¿›è¡Œ <code>BITCOUNT</code> æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">redis&gt; TYPE list_key</span><br><span class="line">list</span><br><span class="line">redis&gt; BITCOUNT list_key</span><br><span class="line">(error) WRONGTYPE Operation against a key holding the wrong kind of value</span><br><span class="line">redis&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3"></a>ç¤ºä¾‹ 3</h2><p>å¯¹å­˜å‚¨å€¼ä¸ºå­—ç¬¦ä¸² <code>JOHNSON LIN</code> çš„ <code>key</code> è¿›è¡Œ <code>BITCOUNT</code> æ“ä½œï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; GET user</span><br><span class="line"><span class="string">&quot;JOHNSON LIN&quot;</span></span><br><span class="line">redis&gt;</span><br><span class="line">redis&gt; BITCOUNT user</span><br><span class="line">(integer) <span class="number">38</span></span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦ä¸² <code>JOHNSON LIN</code> çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span>1001010 <span class="number">0</span>1001111 <span class="number">0</span>1001000 <span class="number">0</span>1001110 <span class="number">0</span>1010011 <span class="number">0</span>1001111 <span class="number">0</span>1001110 <span class="number">00</span>100000 <span class="number">0</span>1001100 <span class="number">0</span>1001001 <span class="number">0</span>1001110</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4"></a>ç¤ºä¾‹ 4</h2><p>é€šè¿‡æŒ‡å®š <code>start</code> å’Œ <code>end</code> å‚æ•°ï¼Œåªå¯¹å­˜å‚¨å€¼çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€ç¬¬äºŒä¸ªå­—èŠ‚è¿›è¡Œè®¡æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user <span class="number">0</span> <span class="number">1</span> BYTE</span><br><span class="line">(integer) <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤ä¹Ÿå¯ä»¥çœç•¥ <code>BYTE</code> å‚æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user <span class="number">0</span> <span class="number">1</span></span><br><span class="line">(integer) <span class="number">8</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5"></a>ç¤ºä¾‹ 5</h2><p>é€šè¿‡æŒ‡å®š <code>start</code> å’Œ <code>end</code> å‚æ•°ï¼Œåªå¯¹å­˜å‚¨å€¼çš„å€’æ•°ç¬¬ä¸€ä¸ªå­—èŠ‚ã€å€’æ•°ç¬¬äºŒä¸ªå­—èŠ‚è¿›è¡Œè®¡æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user -<span class="number">2</span> -<span class="number">1</span> BYTE</span><br><span class="line">(integer) <span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>çœç•¥ <code>BYTE</code> å‚æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user -<span class="number">2</span> -<span class="number">1</span></span><br><span class="line">(integer) <span class="number">7</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-6"><a href="#ç¤ºä¾‹-6" class="headerlink" title="ç¤ºä¾‹ 6"></a>ç¤ºä¾‹ 6</h2><p>é€šè¿‡æŒ‡å®š <code>start</code> å’Œ <code>end</code> å‚æ•°ï¼Œåªå¯¹å­˜å‚¨å€¼çš„ç¬¬ä¸€ä½ã€ç¬¬äºŒä½è¿›è¡Œè®¡æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user <span class="number">0</span> <span class="number">1</span> BIT</span><br><span class="line">(integer) <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹-7"><a href="#ç¤ºä¾‹-7" class="headerlink" title="ç¤ºä¾‹ 7"></a>ç¤ºä¾‹ 7</h2><p>é€šè¿‡æŒ‡å®š <code>start</code> å’Œ <code>end</code> å‚æ•°ï¼Œåªå¯¹å­˜å‚¨å€¼çš„å€’æ•°ç¬¬å…«ä½è‡³å€’æ•°ç¬¬ä¸€ä½è¿›è¡Œè®¡æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">redis&gt; BITCOUNT user -<span class="number">8</span> -<span class="number">1</span> BIT</span><br><span class="line">(integer) <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h2 id="æ¨¡å¼ï¼šä½¿ç”¨-Bitmap-å­˜å‚¨å®æ—¶æŒ‡æ ‡"><a href="#æ¨¡å¼ï¼šä½¿ç”¨-Bitmap-å­˜å‚¨å®æ—¶æŒ‡æ ‡" class="headerlink" title="æ¨¡å¼ï¼šä½¿ç”¨ Bitmap å­˜å‚¨å®æ—¶æŒ‡æ ‡"></a>æ¨¡å¼ï¼šä½¿ç”¨ Bitmap å­˜å‚¨å®æ—¶æŒ‡æ ‡</h2><p>å¯¹æŸäº›ç‰¹å®šç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨ Bitmap å­˜å‚¨å¯ä»¥éå¸¸èŠ‚çœç©ºé—´ã€‚ä¾‹å¦‚ï¼Œè®°å½• Web åº”ç”¨ç”¨æˆ·è®¿é—®å†å²ä»¥ç­›é€‰å‚ä¸æ–°åŠŸèƒ½æµ‹è¯•çš„ç”¨æˆ·ã€‚</p>
<p>ä½¿ç”¨ <code>SETBIT</code> å‘½ä»¤å¯ä»¥è½»æ¾å®ç°è¿™ä¸€åŠŸèƒ½ã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°çš„é€’å¢æ•´æ•°æ¥ä»£è¡¨æ¯ä¸€å¤©ï¼Œå¦‚ 0 ä»£è¡¨åº”ç”¨ä¸Šçº¿é¦–æ—¥ï¼Œ1 ä»£è¡¨ç¬¬äºŒæ—¥ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p>æ¯æ¬¡ç”¨æˆ·æµè§ˆé¡µé¢æ—¶ï¼Œåº”ç”¨å¯ä½¿ç”¨ <code>SETBIT</code> å‘½ä»¤è®¾ç½®ä¸å½“å‰æ—¥æœŸå¯¹åº”çš„ä½ï¼Œè®°å½•ç”¨æˆ·åœ¨å½“æ—¥è®¿é—®ã€‚ä¹‹ååªéœ€å¯¹ Bitmap è°ƒç”¨ <code>BITCOUNT</code> å‘½ä»¤å°±å¯ä»¥è½»æ¾çŸ¥é“ç”¨æˆ·è®¿é—®çš„æ€»å¤©æ•°ã€‚</p>
<p>ä¸€ç¯‡åä¸ºâ€œFast easy realtime metrics using Redis bitmapsâ€çš„æ–‡ç« æè¿°äº†ç±»ä¼¼æ–¹å¼ï¼Œåªæ˜¯ä½¿ç”¨ç”¨æˆ· ID è€Œéæ—¥æœŸã€‚</p>
<h2 id="æ€§èƒ½è€ƒè™‘å› ç´ "><a href="#æ€§èƒ½è€ƒè™‘å› ç´ " class="headerlink" title="æ€§èƒ½è€ƒè™‘å› ç´ "></a>æ€§èƒ½è€ƒè™‘å› ç´ </h2><p>åœ¨ä¸Šè¿°è®¡ç®—ç”¨æˆ·è®¿é—®å¤©æ•°çš„ç¤ºä¾‹ä¸­ï¼Œå³ä½¿åº”ç”¨è¿è¡Œ 10 å¹´ï¼Œæ¯ä¸ªç”¨æˆ·çš„æ•°æ®ä¹Ÿä»…ä¸º 365*10 æ¯”ç‰¹ï¼Œå³æ¯ä¸ªç”¨æˆ·åªéœ€ 456 å­—èŠ‚ã€‚å¯¹è¿™æ ·çš„æ•°æ®é‡ï¼Œ<code>BITCOUNT</code> çš„é€Ÿåº¦ä»ç„¶ä¸å…¶ä»– $O(1)$ Redis å‘½ä»¤ä¸€æ ·å¿«ï¼Œå¦‚ <code>GET</code> æˆ– <code>INCR</code>ã€‚</p>
<p>å½“ä½å›¾å¾ˆå¤§æ—¶ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<ol>
<li><p>å°†ä¸€ä¸ªå¤§çš„ Bitmap åˆ†æ•£åˆ°ä¸åŒçš„ key ä¸­ï¼Œä½œä¸ºå°çš„ Bitmap æ¥å¤„ç†ã€‚ä½¿ç”¨ Lua è„šæœ¬å¯ä»¥é«˜æ•ˆä¸”åŸå­åœ°å®ç°è¿™ä¸€åŠŸèƒ½ã€‚</p>
</li>
<li><p>ä½¿ç”¨ <code>BITCOUNT</code> çš„ <code>start</code>Â å’ŒÂ <code>end</code> å‚æ•°ï¼Œéå†ä½å›¾ï¼Œæ¯æ¬¡åªå¯¹éƒ¨åˆ†ä½è¿›è¡Œè®¡ç®—ï¼Œç„¶ååœ¨å®¢æˆ·ç«¯ç´¯åŠ ç»“æœã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†ç´¯åŠ ç»“æœç¼“å­˜è‡³ä¸€ä¸ªé”®ã€‚</p>
</li>
</ol>
<h2 id="å†å²è®°å½•"><a href="#å†å²è®°å½•" class="headerlink" title="å†å²è®°å½•"></a>å†å²è®°å½•</h2><p>ä» Redis 7.0.0 ç‰ˆæœ¬å¼€å§‹ï¼šå¢åŠ äº† <code>BYTE</code>ã€<code>BIT</code> é€‰é¡¹ã€‚</p>
<p>ï¼ˆENDï¼‰</p>
]]></content>
      <categories>
        <category>Redisæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
</search>
